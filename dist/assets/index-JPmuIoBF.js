var P5=e=>{throw TypeError(e)};var CE=(e,t,n)=>t.has(e)||P5("Cannot "+n);var Ye=(e,t,n)=>(CE(e,t,"read from private field"),n?n.call(e):t.get(e)),Un=(e,t,n)=>t.has(e)?P5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),an=(e,t,n,r)=>(CE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ss=(e,t,n)=>(CE(e,t,"access private method"),n);var s1=(e,t,n,r)=>({set _(i){an(e,t,i,n)},get _(){return Ye(e,t,r)}});function Nee(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function See(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var KM={exports:{}},Rw={},XM={exports:{}},An={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=Symbol.for("react.element"),Cee=Symbol.for("react.portal"),kee=Symbol.for("react.fragment"),Aee=Symbol.for("react.strict_mode"),Dee=Symbol.for("react.profiler"),jee=Symbol.for("react.provider"),Iee=Symbol.for("react.context"),Ree=Symbol.for("react.forward_ref"),Oee=Symbol.for("react.suspense"),Fee=Symbol.for("react.memo"),Pee=Symbol.for("react.lazy"),U5=Symbol.iterator;function Uee(e){return e===null||typeof e!="object"?null:(e=U5&&e[U5]||e["@@iterator"],typeof e=="function"?e:null)}var YM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZM=Object.assign,JM={};function k0(e,t,n){this.props=e,this.context=t,this.refs=JM,this.updater=n||YM}k0.prototype.isReactComponent={};k0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};k0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e9(){}e9.prototype=k0.prototype;function eD(e,t,n){this.props=e,this.context=t,this.refs=JM,this.updater=n||YM}var tD=eD.prototype=new e9;tD.constructor=eD;ZM(tD,k0.prototype);tD.isPureReactComponent=!0;var L5=Array.isArray,t9=Object.prototype.hasOwnProperty,nD={current:null},n9={key:!0,ref:!0,__self:!0,__source:!0};function r9(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)t9.call(t,r)&&!n9.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:ry,type:e,key:s,ref:o,props:i,_owner:nD.current}}function Lee(e,t){return{$$typeof:ry,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rD(e){return typeof e=="object"&&e!==null&&e.$$typeof===ry}function Mee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var M5=/\/+/g;function kE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mee(""+e.key):t.toString(36)}function db(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ry:case Cee:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+kE(o,0):r,L5(i)?(n="",e!=null&&(n=e.replace(M5,"$&/")+"/"),db(i,t,n,"",function(u){return u})):i!=null&&(rD(i)&&(i=Lee(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(M5,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",L5(e))for(var c=0;c<e.length;c++){s=e[c];var l=r+kE(s,c);o+=db(s,t,n,l,i)}else if(l=Uee(e),typeof l=="function")for(e=l.call(e),c=0;!(s=e.next()).done;)s=s.value,l=r+kE(s,c++),o+=db(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function a1(e,t,n){if(e==null)return e;var r=[],i=0;return db(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Bee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ka={current:null},fb={transition:null},Vee={ReactCurrentDispatcher:ka,ReactCurrentBatchConfig:fb,ReactCurrentOwner:nD};function i9(){throw Error("act(...) is not supported in production builds of React.")}An.Children={map:a1,forEach:function(e,t,n){a1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return a1(e,function(){t++}),t},toArray:function(e){return a1(e,function(t){return t})||[]},only:function(e){if(!rD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};An.Component=k0;An.Fragment=kee;An.Profiler=Dee;An.PureComponent=eD;An.StrictMode=Aee;An.Suspense=Oee;An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vee;An.act=i9;An.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ZM({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=nD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)t9.call(t,l)&&!n9.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:ry,type:e.type,key:i,ref:s,props:r,_owner:o}};An.createContext=function(e){return e={$$typeof:Iee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jee,_context:e},e.Consumer=e};An.createElement=r9;An.createFactory=function(e){var t=r9.bind(null,e);return t.type=e,t};An.createRef=function(){return{current:null}};An.forwardRef=function(e){return{$$typeof:Ree,render:e}};An.isValidElement=rD;An.lazy=function(e){return{$$typeof:Pee,_payload:{_status:-1,_result:e},_init:Bee}};An.memo=function(e,t){return{$$typeof:Fee,type:e,compare:t===void 0?null:t}};An.startTransition=function(e){var t=fb.transition;fb.transition={};try{e()}finally{fb.transition=t}};An.unstable_act=i9;An.useCallback=function(e,t){return ka.current.useCallback(e,t)};An.useContext=function(e){return ka.current.useContext(e)};An.useDebugValue=function(){};An.useDeferredValue=function(e){return ka.current.useDeferredValue(e)};An.useEffect=function(e,t){return ka.current.useEffect(e,t)};An.useId=function(){return ka.current.useId()};An.useImperativeHandle=function(e,t,n){return ka.current.useImperativeHandle(e,t,n)};An.useInsertionEffect=function(e,t){return ka.current.useInsertionEffect(e,t)};An.useLayoutEffect=function(e,t){return ka.current.useLayoutEffect(e,t)};An.useMemo=function(e,t){return ka.current.useMemo(e,t)};An.useReducer=function(e,t,n){return ka.current.useReducer(e,t,n)};An.useRef=function(e){return ka.current.useRef(e)};An.useState=function(e){return ka.current.useState(e)};An.useSyncExternalStore=function(e,t,n){return ka.current.useSyncExternalStore(e,t,n)};An.useTransition=function(){return ka.current.useTransition()};An.version="18.3.1";XM.exports=An;var A=XM.exports;const zr=Iw(A),iD=Nee({__proto__:null,default:zr},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wee=A,qee=Symbol.for("react.element"),zee=Symbol.for("react.fragment"),$ee=Object.prototype.hasOwnProperty,Hee=Wee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gee={key:!0,ref:!0,__self:!0,__source:!0};function s9(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$ee.call(t,r)&&!Gee.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qee,type:e,key:s,ref:o,props:i,_owner:Hee.current}}Rw.Fragment=zee;Rw.jsx=s9;Rw.jsxs=s9;KM.exports=Rw;var a=KM.exports,_C={},a9={exports:{}},Ao={},o9={exports:{}},c9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,P){var W=G.length;G.push(P);e:for(;0<W;){var F=W-1>>>1,O=G[F];if(0<i(O,P))G[F]=P,G[W]=O,W=F;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var P=G[0],W=G.pop();if(W!==P){G[0]=W;e:for(var F=0,O=G.length,L=O>>>1;F<L;){var K=2*(F+1)-1,Q=G[K],U=K+1,Z=G[U];if(0>i(Q,W))U<O&&0>i(Z,Q)?(G[F]=Z,G[U]=W,F=U):(G[F]=Q,G[K]=W,F=K);else if(U<O&&0>i(Z,W))G[F]=Z,G[U]=W,F=U;else break e}}return P}function i(G,P){var W=G.sortIndex-P.sortIndex;return W!==0?W:G.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=G)r(u),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(u)}}function w(G){if(m=!1,b(G),!y)if(n(l)!==null)y=!0,M(T);else{var P=n(u);P!==null&&H(w,P.startTime-G)}}function T(G,P){y=!1,m&&(m=!1,v(N),N=-1),p=!0;var W=h;try{for(b(P),f=n(l);f!==null&&(!(f.expirationTime>P)||G&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var O=F(f.expirationTime<=P);P=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(l)&&r(l),b(P)}else r(l);f=n(l)}if(f!==null)var L=!0;else{var K=n(u);K!==null&&H(w,K.startTime-P),L=!1}return L}finally{f=null,h=W,p=!1}}var C=!1,_=null,N=-1,k=5,j=-1;function D(){return!(e.unstable_now()-j<k)}function E(){if(_!==null){var G=e.unstable_now();j=G;var P=!0;try{P=_(!0,G)}finally{P?I():(C=!1,_=null)}}else C=!1}var I;if(typeof x=="function")I=function(){x(E)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=E,I=function(){V.postMessage(null)}}else I=function(){g(E,0)};function M(G){_=G,C||(C=!0,I())}function H(G,P){N=g(function(){G(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,M(T))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var W=h;h=P;try{return G()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,P){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=h;h=G;try{return P()}finally{h=W}},e.unstable_scheduleCallback=function(G,P,W){var F=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?F+W:F):W=F,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=W+O,G={id:d++,callback:P,priorityLevel:G,startTime:W,expirationTime:O,sortIndex:-1},W>F?(G.sortIndex=W,t(u,G),n(l)===null&&G===n(u)&&(m?(v(N),N=-1):m=!0,H(w,W-F))):(G.sortIndex=O,t(l,G),y||p||(y=!0,M(T))),G},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(G){var P=h;return function(){var W=h;h=P;try{return G.apply(this,arguments)}finally{h=W}}}})(c9);o9.exports=c9;var Qee=o9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kee=A,Eo=Qee;function lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l9=new Set,Bx={};function ap(e,t){$m(e,t),$m(e+"Capture",t)}function $m(e,t){for(Bx[e]=t,e=0;e<t.length;e++)l9.add(t[e])}var Lu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TC=Object.prototype.hasOwnProperty,Xee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B5={},V5={};function Yee(e){return TC.call(V5,e)?!0:TC.call(B5,e)?!1:Xee.test(e)?V5[e]=!0:(B5[e]=!0,!1)}function Zee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jee(e,t,n,r){if(t===null||typeof t>"u"||Zee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Aa(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var bs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bs[e]=new Aa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bs[t]=new Aa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bs[e]=new Aa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bs[e]=new Aa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bs[e]=new Aa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bs[e]=new Aa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bs[e]=new Aa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bs[e]=new Aa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bs[e]=new Aa(e,5,!1,e.toLowerCase(),null,!1,!1)});var sD=/[\-:]([a-z])/g;function aD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sD,aD);bs[t]=new Aa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sD,aD);bs[t]=new Aa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sD,aD);bs[t]=new Aa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bs[e]=new Aa(e,1,!1,e.toLowerCase(),null,!1,!1)});bs.xlinkHref=new Aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bs[e]=new Aa(e,1,!1,e.toLowerCase(),null,!0,!0)});function oD(e,t,n,r){var i=bs.hasOwnProperty(t)?bs[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jee(t,n,i,r)&&(n=null),r||i===null?Yee(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ed=Kee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o1=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),cD=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),u9=Symbol.for("react.provider"),d9=Symbol.for("react.context"),lD=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),SC=Symbol.for("react.suspense_list"),uD=Symbol.for("react.memo"),_d=Symbol.for("react.lazy"),f9=Symbol.for("react.offscreen"),W5=Symbol.iterator;function hg(e){return e===null||typeof e!="object"?null:(e=W5&&e[W5]||e["@@iterator"],typeof e=="function"?e:null)}var ri=Object.assign,AE;function Vg(e){if(AE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);AE=t&&t[1]||""}return`
`+AE+e}var DE=!1;function jE(e,t){if(!e||DE)return"";DE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{DE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vg(e):""}function ete(e){switch(e.tag){case 5:return Vg(e.type);case 16:return Vg("Lazy");case 13:return Vg("Suspense");case 19:return Vg("SuspenseList");case 0:case 2:case 15:return e=jE(e.type,!1),e;case 11:return e=jE(e.type.render,!1),e;case 1:return e=jE(e.type,!0),e;default:return""}}function CC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yp:return"Fragment";case Xp:return"Portal";case EC:return"Profiler";case cD:return"StrictMode";case NC:return"Suspense";case SC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d9:return(e.displayName||"Context")+".Consumer";case u9:return(e._context.displayName||"Context")+".Provider";case lD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uD:return t=e.displayName||null,t!==null?t:CC(e.type)||"Memo";case _d:t=e._payload,e=e._init;try{return CC(e(t))}catch{}}return null}function tte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CC(t);case 8:return t===cD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ff(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nte(e){var t=h9(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function c1(e){e._valueTracker||(e._valueTracker=nte(e))}function p9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=h9(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kC(e,t){var n=t.checked;return ri({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function q5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ff(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m9(e,t){t=t.checked,t!=null&&oD(e,"checked",t,!1)}function AC(e,t){m9(e,t);var n=ff(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?DC(e,t.type,n):t.hasOwnProperty("defaultValue")&&DC(e,t.type,ff(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function z5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function DC(e,t,n){(t!=="number"||Vb(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wg=Array.isArray;function vm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ff(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(lt(91));return ri({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(lt(92));if(Wg(n)){if(1<n.length)throw Error(lt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ff(n)}}function g9(e,t){var n=ff(t.value),r=ff(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function H5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var l1,v9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(l1=l1||document.createElement("div"),l1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=l1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vx(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rte=["Webkit","ms","Moz","O"];Object.keys(cx).forEach(function(e){rte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cx[t]=cx[e]})});function y9(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cx.hasOwnProperty(e)&&cx[e]?(""+t).trim():t+"px"}function b9(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=y9(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ite=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RC(e,t){if(t){if(ite[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(lt(62))}}function OC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=null;function dD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var PC=null,ym=null,bm=null;function G5(e){if(e=ay(e)){if(typeof PC!="function")throw Error(lt(280));var t=e.stateNode;t&&(t=Lw(t),PC(e.stateNode,e.type,t))}}function w9(e){ym?bm?bm.push(e):bm=[e]:ym=e}function _9(){if(ym){var e=ym,t=bm;if(bm=ym=null,G5(e),t)for(e=0;e<t.length;e++)G5(t[e])}}function T9(e,t){return e(t)}function E9(){}var IE=!1;function N9(e,t,n){if(IE)return e(t,n);IE=!0;try{return T9(e,t,n)}finally{IE=!1,(ym!==null||bm!==null)&&(E9(),_9())}}function Wx(e,t){var n=e.stateNode;if(n===null)return null;var r=Lw(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(lt(231,t,typeof n));return n}var UC=!1;if(Lu)try{var pg={};Object.defineProperty(pg,"passive",{get:function(){UC=!0}}),window.addEventListener("test",pg,pg),window.removeEventListener("test",pg,pg)}catch{UC=!1}function ste(e,t,n,r,i,s,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var lx=!1,Wb=null,qb=!1,LC=null,ate={onError:function(e){lx=!0,Wb=e}};function ote(e,t,n,r,i,s,o,c,l){lx=!1,Wb=null,ste.apply(ate,arguments)}function cte(e,t,n,r,i,s,o,c,l){if(ote.apply(this,arguments),lx){if(lx){var u=Wb;lx=!1,Wb=null}else throw Error(lt(198));qb||(qb=!0,LC=u)}}function op(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q5(e){if(op(e)!==e)throw Error(lt(188))}function lte(e){var t=e.alternate;if(!t){if(t=op(e),t===null)throw Error(lt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Q5(i),e;if(s===r)return Q5(i),t;s=s.sibling}throw Error(lt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(lt(189))}}if(n.alternate!==r)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?e:t}function C9(e){return e=lte(e),e!==null?k9(e):null}function k9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k9(e);if(t!==null)return t;e=e.sibling}return null}var A9=Eo.unstable_scheduleCallback,K5=Eo.unstable_cancelCallback,ute=Eo.unstable_shouldYield,dte=Eo.unstable_requestPaint,_i=Eo.unstable_now,fte=Eo.unstable_getCurrentPriorityLevel,fD=Eo.unstable_ImmediatePriority,D9=Eo.unstable_UserBlockingPriority,zb=Eo.unstable_NormalPriority,hte=Eo.unstable_LowPriority,j9=Eo.unstable_IdlePriority,Ow=null,Nl=null;function pte(e){if(Nl&&typeof Nl.onCommitFiberRoot=="function")try{Nl.onCommitFiberRoot(Ow,e,void 0,(e.current.flags&128)===128)}catch{}}var Fc=Math.clz32?Math.clz32:xte,mte=Math.log,gte=Math.LN2;function xte(e){return e>>>=0,e===0?32:31-(mte(e)/gte|0)|0}var u1=64,d1=4194304;function qg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $b(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=qg(c):(s&=o,s!==0&&(r=qg(s)))}else o=n&~i,o!==0?r=qg(o):s!==0&&(r=qg(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fc(t),i=1<<n,r|=e[n],t&=~i;return r}function vte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Fc(s),c=1<<o,l=i[o];l===-1?(!(c&n)||c&r)&&(i[o]=vte(c,t)):l<=t&&(e.expiredLanes|=c),s&=~c}}function MC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I9(){var e=u1;return u1<<=1,!(u1&4194240)&&(u1=64),e}function RE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function iy(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fc(t),e[t]=n}function bte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fc(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function hD(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fc(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gr=0;function R9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O9,pD,F9,P9,U9,BC=!1,f1=[],Kd=null,Xd=null,Yd=null,qx=new Map,zx=new Map,Cd=[],wte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X5(e,t){switch(e){case"focusin":case"focusout":Kd=null;break;case"dragenter":case"dragleave":Xd=null;break;case"mouseover":case"mouseout":Yd=null;break;case"pointerover":case"pointerout":qx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zx.delete(t.pointerId)}}function mg(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ay(t),t!==null&&pD(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _te(e,t,n,r,i){switch(t){case"focusin":return Kd=mg(Kd,e,t,n,r,i),!0;case"dragenter":return Xd=mg(Xd,e,t,n,r,i),!0;case"mouseover":return Yd=mg(Yd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qx.set(s,mg(qx.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zx.set(s,mg(zx.get(s)||null,e,t,n,r,i)),!0}return!1}function L9(e){var t=fh(e.target);if(t!==null){var n=op(t);if(n!==null){if(t=n.tag,t===13){if(t=S9(n),t!==null){e.blockedOn=t,U9(e.priority,function(){F9(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=VC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);FC=r,n.target.dispatchEvent(r),FC=null}else return t=ay(n),t!==null&&pD(t),e.blockedOn=n,!1;t.shift()}return!0}function Y5(e,t,n){hb(e)&&n.delete(t)}function Tte(){BC=!1,Kd!==null&&hb(Kd)&&(Kd=null),Xd!==null&&hb(Xd)&&(Xd=null),Yd!==null&&hb(Yd)&&(Yd=null),qx.forEach(Y5),zx.forEach(Y5)}function gg(e,t){e.blockedOn===t&&(e.blockedOn=null,BC||(BC=!0,Eo.unstable_scheduleCallback(Eo.unstable_NormalPriority,Tte)))}function $x(e){function t(i){return gg(i,e)}if(0<f1.length){gg(f1[0],e);for(var n=1;n<f1.length;n++){var r=f1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kd!==null&&gg(Kd,e),Xd!==null&&gg(Xd,e),Yd!==null&&gg(Yd,e),qx.forEach(t),zx.forEach(t),n=0;n<Cd.length;n++)r=Cd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cd.length&&(n=Cd[0],n.blockedOn===null);)L9(n),n.blockedOn===null&&Cd.shift()}var wm=ed.ReactCurrentBatchConfig,Hb=!0;function Ete(e,t,n,r){var i=gr,s=wm.transition;wm.transition=null;try{gr=1,mD(e,t,n,r)}finally{gr=i,wm.transition=s}}function Nte(e,t,n,r){var i=gr,s=wm.transition;wm.transition=null;try{gr=4,mD(e,t,n,r)}finally{gr=i,wm.transition=s}}function mD(e,t,n,r){if(Hb){var i=VC(e,t,n,r);if(i===null)qE(e,t,r,Gb,n),X5(e,r);else if(_te(i,e,t,n,r))r.stopPropagation();else if(X5(e,r),t&4&&-1<wte.indexOf(e)){for(;i!==null;){var s=ay(i);if(s!==null&&O9(s),s=VC(e,t,n,r),s===null&&qE(e,t,r,Gb,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qE(e,t,r,null,n)}}var Gb=null;function VC(e,t,n,r){if(Gb=null,e=dD(r),e=fh(e),e!==null)if(t=op(e),t===null)e=null;else if(n=t.tag,n===13){if(e=S9(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gb=e,null}function M9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fte()){case fD:return 1;case D9:return 4;case zb:case hte:return 16;case j9:return 536870912;default:return 16}default:return 16}}var Vd=null,gD=null,pb=null;function B9(){if(pb)return pb;var e,t=gD,n=t.length,r,i="value"in Vd?Vd.value:Vd.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return pb=i.slice(e,1<r?1-r:void 0)}function mb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function h1(){return!0}function Z5(){return!1}function Do(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?h1:Z5,this.isPropagationStopped=Z5,this}return ri(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=h1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=h1)},persist:function(){},isPersistent:h1}),t}var A0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xD=Do(A0),sy=ri({},A0,{view:0,detail:0}),Ste=Do(sy),OE,FE,xg,Fw=ri({},sy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vD,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xg&&(xg&&e.type==="mousemove"?(OE=e.screenX-xg.screenX,FE=e.screenY-xg.screenY):FE=OE=0,xg=e),OE)},movementY:function(e){return"movementY"in e?e.movementY:FE}}),J5=Do(Fw),Cte=ri({},Fw,{dataTransfer:0}),kte=Do(Cte),Ate=ri({},sy,{relatedTarget:0}),PE=Do(Ate),Dte=ri({},A0,{animationName:0,elapsedTime:0,pseudoElement:0}),jte=Do(Dte),Ite=ri({},A0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rte=Do(Ite),Ote=ri({},A0,{data:0}),eR=Do(Ote),Fte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ute={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ute[e])?!!t[e]:!1}function vD(){return Lte}var Mte=ri({},sy,{key:function(e){if(e.key){var t=Fte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vD,charCode:function(e){return e.type==="keypress"?mb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bte=Do(Mte),Vte=ri({},Fw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tR=Do(Vte),Wte=ri({},sy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vD}),qte=Do(Wte),zte=ri({},A0,{propertyName:0,elapsedTime:0,pseudoElement:0}),$te=Do(zte),Hte=ri({},Fw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gte=Do(Hte),Qte=[9,13,27,32],yD=Lu&&"CompositionEvent"in window,ux=null;Lu&&"documentMode"in document&&(ux=document.documentMode);var Kte=Lu&&"TextEvent"in window&&!ux,V9=Lu&&(!yD||ux&&8<ux&&11>=ux),nR=" ",rR=!1;function W9(e,t){switch(e){case"keyup":return Qte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zp=!1;function Xte(e,t){switch(e){case"compositionend":return q9(t);case"keypress":return t.which!==32?null:(rR=!0,nR);case"textInput":return e=t.data,e===nR&&rR?null:e;default:return null}}function Yte(e,t){if(Zp)return e==="compositionend"||!yD&&W9(e,t)?(e=B9(),pb=gD=Vd=null,Zp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return V9&&t.locale!=="ko"?null:t.data;default:return null}}var Zte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zte[e.type]:t==="textarea"}function z9(e,t,n,r){w9(r),t=Qb(t,"onChange"),0<t.length&&(n=new xD("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dx=null,Hx=null;function Jte(e){t7(e,0)}function Pw(e){var t=tm(e);if(p9(t))return e}function ene(e,t){if(e==="change")return t}var $9=!1;if(Lu){var UE;if(Lu){var LE="oninput"in document;if(!LE){var sR=document.createElement("div");sR.setAttribute("oninput","return;"),LE=typeof sR.oninput=="function"}UE=LE}else UE=!1;$9=UE&&(!document.documentMode||9<document.documentMode)}function aR(){dx&&(dx.detachEvent("onpropertychange",H9),Hx=dx=null)}function H9(e){if(e.propertyName==="value"&&Pw(Hx)){var t=[];z9(t,Hx,e,dD(e)),N9(Jte,t)}}function tne(e,t,n){e==="focusin"?(aR(),dx=t,Hx=n,dx.attachEvent("onpropertychange",H9)):e==="focusout"&&aR()}function nne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pw(Hx)}function rne(e,t){if(e==="click")return Pw(t)}function ine(e,t){if(e==="input"||e==="change")return Pw(t)}function sne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qc=typeof Object.is=="function"?Object.is:sne;function Gx(e,t){if(qc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!TC.call(t,i)||!qc(e[i],t[i]))return!1}return!0}function oR(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cR(e,t){var n=oR(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oR(n)}}function G9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?G9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q9(){for(var e=window,t=Vb();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vb(e.document)}return t}function bD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ane(e){var t=Q9(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&G9(n.ownerDocument.documentElement,n)){if(r!==null&&bD(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cR(n,s);var o=cR(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var one=Lu&&"documentMode"in document&&11>=document.documentMode,Jp=null,WC=null,fx=null,qC=!1;function lR(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qC||Jp==null||Jp!==Vb(r)||(r=Jp,"selectionStart"in r&&bD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fx&&Gx(fx,r)||(fx=r,r=Qb(WC,"onSelect"),0<r.length&&(t=new xD("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jp)))}function p1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var em={animationend:p1("Animation","AnimationEnd"),animationiteration:p1("Animation","AnimationIteration"),animationstart:p1("Animation","AnimationStart"),transitionend:p1("Transition","TransitionEnd")},ME={},K9={};Lu&&(K9=document.createElement("div").style,"AnimationEvent"in window||(delete em.animationend.animation,delete em.animationiteration.animation,delete em.animationstart.animation),"TransitionEvent"in window||delete em.transitionend.transition);function Uw(e){if(ME[e])return ME[e];if(!em[e])return e;var t=em[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in K9)return ME[e]=t[n];return e}var X9=Uw("animationend"),Y9=Uw("animationiteration"),Z9=Uw("animationstart"),J9=Uw("transitionend"),e7=new Map,uR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Df(e,t){e7.set(e,t),ap(t,[e])}for(var BE=0;BE<uR.length;BE++){var VE=uR[BE],cne=VE.toLowerCase(),lne=VE[0].toUpperCase()+VE.slice(1);Df(cne,"on"+lne)}Df(X9,"onAnimationEnd");Df(Y9,"onAnimationIteration");Df(Z9,"onAnimationStart");Df("dblclick","onDoubleClick");Df("focusin","onFocus");Df("focusout","onBlur");Df(J9,"onTransitionEnd");$m("onMouseEnter",["mouseout","mouseover"]);$m("onMouseLeave",["mouseout","mouseover"]);$m("onPointerEnter",["pointerout","pointerover"]);$m("onPointerLeave",["pointerout","pointerover"]);ap("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ap("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ap("onBeforeInput",["compositionend","keypress","textInput","paste"]);ap("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ap("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ap("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),une=new Set("cancel close invalid load scroll toggle".split(" ").concat(zg));function dR(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cte(r,t,void 0,e),e.currentTarget=null}function t7(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==s&&i.isPropagationStopped())break e;dR(i,c,u),s=l}else for(o=0;o<r.length;o++){if(c=r[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==s&&i.isPropagationStopped())break e;dR(i,c,u),s=l}}}if(qb)throw e=LC,qb=!1,LC=null,e}function Vr(e,t){var n=t[QC];n===void 0&&(n=t[QC]=new Set);var r=e+"__bubble";n.has(r)||(n7(t,e,2,!1),n.add(r))}function WE(e,t,n){var r=0;t&&(r|=4),n7(n,e,r,t)}var m1="_reactListening"+Math.random().toString(36).slice(2);function Qx(e){if(!e[m1]){e[m1]=!0,l9.forEach(function(n){n!=="selectionchange"&&(une.has(n)||WE(n,!1,e),WE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[m1]||(t[m1]=!0,WE("selectionchange",!1,t))}}function n7(e,t,n,r){switch(M9(t)){case 1:var i=Ete;break;case 4:i=Nte;break;default:i=mD}n=i.bind(null,t,n,e),i=void 0,!UC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qE(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;c!==null;){if(o=fh(c),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}c=c.parentNode}}r=r.return}N9(function(){var u=s,d=dD(n),f=[];e:{var h=e7.get(e);if(h!==void 0){var p=xD,y=e;switch(e){case"keypress":if(mb(n)===0)break e;case"keydown":case"keyup":p=Bte;break;case"focusin":y="focus",p=PE;break;case"focusout":y="blur",p=PE;break;case"beforeblur":case"afterblur":p=PE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=J5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qte;break;case X9:case Y9:case Z9:p=jte;break;case J9:p=$te;break;case"scroll":p=Ste;break;case"wheel":p=Gte;break;case"copy":case"cut":case"paste":p=Rte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tR}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=Wx(x,v),w!=null&&m.push(Kx(x,w,b)))),g)break;x=x.return}0<m.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==FC&&(y=n.relatedTarget||n.fromElement)&&(fh(y)||y[Mu]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?fh(y):null,y!==null&&(g=op(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=J5,w="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=tR,w="onPointerLeave",v="onPointerEnter",x="pointer"),g=p==null?h:tm(p),b=y==null?h:tm(y),h=new m(w,x+"leave",p,n,d),h.target=g,h.relatedTarget=b,w=null,fh(d)===u&&(m=new m(v,x+"enter",y,n,d),m.target=b,m.relatedTarget=g,w=m),g=w,p&&y)t:{for(m=p,v=y,x=0,b=m;b;b=Ip(b))x++;for(b=0,w=v;w;w=Ip(w))b++;for(;0<x-b;)m=Ip(m),x--;for(;0<b-x;)v=Ip(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ip(m),v=Ip(v)}m=null}else m=null;p!==null&&fR(f,h,p,m,!1),y!==null&&g!==null&&fR(f,g,y,m,!0)}}e:{if(h=u?tm(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=ene;else if(iR(h))if($9)T=ine;else{T=nne;var C=tne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=rne);if(T&&(T=T(e,u))){z9(f,T,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&DC(h,"number",h.value)}switch(C=u?tm(u):window,e){case"focusin":(iR(C)||C.contentEditable==="true")&&(Jp=C,WC=u,fx=null);break;case"focusout":fx=WC=Jp=null;break;case"mousedown":qC=!0;break;case"contextmenu":case"mouseup":case"dragend":qC=!1,lR(f,n,d);break;case"selectionchange":if(one)break;case"keydown":case"keyup":lR(f,n,d)}var _;if(yD)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Zp?W9(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(V9&&n.locale!=="ko"&&(Zp||N!=="onCompositionStart"?N==="onCompositionEnd"&&Zp&&(_=B9()):(Vd=d,gD="value"in Vd?Vd.value:Vd.textContent,Zp=!0)),C=Qb(u,N),0<C.length&&(N=new eR(N,e,null,n,d),f.push({event:N,listeners:C}),_?N.data=_:(_=q9(n),_!==null&&(N.data=_)))),(_=Kte?Xte(e,n):Yte(e,n))&&(u=Qb(u,"onBeforeInput"),0<u.length&&(d=new eR("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}t7(f,t)})}function Kx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qb(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wx(e,n),s!=null&&r.unshift(Kx(e,s,i)),s=Wx(e,t),s!=null&&r.push(Kx(e,s,i))),e=e.return}return r}function Ip(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fR(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var c=n,l=c.alternate,u=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&u!==null&&(c=u,i?(l=Wx(n,s),l!=null&&o.unshift(Kx(n,l,c))):i||(l=Wx(n,s),l!=null&&o.push(Kx(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dne=/\r\n?/g,fne=/\u0000|\uFFFD/g;function hR(e){return(typeof e=="string"?e:""+e).replace(dne,`
`).replace(fne,"")}function g1(e,t,n){if(t=hR(t),hR(e)!==t&&n)throw Error(lt(425))}function Kb(){}var zC=null,$C=null;function HC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GC=typeof setTimeout=="function"?setTimeout:void 0,hne=typeof clearTimeout=="function"?clearTimeout:void 0,pR=typeof Promise=="function"?Promise:void 0,pne=typeof queueMicrotask=="function"?queueMicrotask:typeof pR<"u"?function(e){return pR.resolve(null).then(e).catch(mne)}:GC;function mne(e){setTimeout(function(){throw e})}function zE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$x(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$x(t)}function Zd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var D0=Math.random().toString(36).slice(2),xl="__reactFiber$"+D0,Xx="__reactProps$"+D0,Mu="__reactContainer$"+D0,QC="__reactEvents$"+D0,gne="__reactListeners$"+D0,xne="__reactHandles$"+D0;function fh(e){var t=e[xl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mu]||n[xl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mR(e);e!==null;){if(n=e[xl])return n;e=mR(e)}return t}e=n,n=e.parentNode}return null}function ay(e){return e=e[xl]||e[Mu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function Lw(e){return e[Xx]||null}var KC=[],nm=-1;function jf(e){return{current:e}}function Gr(e){0>nm||(e.current=KC[nm],KC[nm]=null,nm--)}function Rr(e,t){nm++,KC[nm]=e.current,e.current=t}var hf={},$s=jf(hf),Ga=jf(!1),Oh=hf;function Hm(e,t){var n=e.type.contextTypes;if(!n)return hf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qa(e){return e=e.childContextTypes,e!=null}function Xb(){Gr(Ga),Gr($s)}function gR(e,t,n){if($s.current!==hf)throw Error(lt(168));Rr($s,t),Rr(Ga,n)}function r7(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(lt(108,tte(e)||"Unknown",i));return ri({},n,r)}function Yb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hf,Oh=$s.current,Rr($s,e),Rr(Ga,Ga.current),!0}function xR(e,t,n){var r=e.stateNode;if(!r)throw Error(lt(169));n?(e=r7(e,t,Oh),r.__reactInternalMemoizedMergedChildContext=e,Gr(Ga),Gr($s),Rr($s,e)):Gr(Ga),Rr(Ga,n)}var wu=null,Mw=!1,$E=!1;function i7(e){wu===null?wu=[e]:wu.push(e)}function vne(e){Mw=!0,i7(e)}function If(){if(!$E&&wu!==null){$E=!0;var e=0,t=gr;try{var n=wu;for(gr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wu=null,Mw=!1}catch(i){throw wu!==null&&(wu=wu.slice(e+1)),A9(fD,If),i}finally{gr=t,$E=!1}}return null}var rm=[],im=0,Zb=null,Jb=0,Go=[],Qo=0,Fh=null,Tu=1,Eu="";function nh(e,t){rm[im++]=Jb,rm[im++]=Zb,Zb=e,Jb=t}function s7(e,t,n){Go[Qo++]=Tu,Go[Qo++]=Eu,Go[Qo++]=Fh,Fh=e;var r=Tu;e=Eu;var i=32-Fc(r)-1;r&=~(1<<i),n+=1;var s=32-Fc(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tu=1<<32-Fc(t)+i|n<<i|r,Eu=s+e}else Tu=1<<s|n<<i|r,Eu=e}function wD(e){e.return!==null&&(nh(e,1),s7(e,1,0))}function _D(e){for(;e===Zb;)Zb=rm[--im],rm[im]=null,Jb=rm[--im],rm[im]=null;for(;e===Fh;)Fh=Go[--Qo],Go[Qo]=null,Eu=Go[--Qo],Go[Qo]=null,Tu=Go[--Qo],Go[Qo]=null}var _o=null,yo=null,Zr=!1,Cc=null;function a7(e,t){var n=Xo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vR(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_o=e,yo=Zd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_o=e,yo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fh!==null?{id:Tu,overflow:Eu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_o=e,yo=null,!0):!1;default:return!1}}function XC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function YC(e){if(Zr){var t=yo;if(t){var n=t;if(!vR(e,t)){if(XC(e))throw Error(lt(418));t=Zd(n.nextSibling);var r=_o;t&&vR(e,t)?a7(r,n):(e.flags=e.flags&-4097|2,Zr=!1,_o=e)}}else{if(XC(e))throw Error(lt(418));e.flags=e.flags&-4097|2,Zr=!1,_o=e}}}function yR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_o=e}function x1(e){if(e!==_o)return!1;if(!Zr)return yR(e),Zr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HC(e.type,e.memoizedProps)),t&&(t=yo)){if(XC(e))throw o7(),Error(lt(418));for(;t;)a7(e,t),t=Zd(t.nextSibling)}if(yR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yo=Zd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yo=null}}else yo=_o?Zd(e.stateNode.nextSibling):null;return!0}function o7(){for(var e=yo;e;)e=Zd(e.nextSibling)}function Gm(){yo=_o=null,Zr=!1}function TD(e){Cc===null?Cc=[e]:Cc.push(e)}var yne=ed.ReactCurrentBatchConfig;function vg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var r=n.stateNode}if(!r)throw Error(lt(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,e))}return e}function v1(e,t){throw e=Object.prototype.toString.call(t),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bR(e){var t=e._init;return t(e._payload)}function c7(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=nf(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function c(v,x,b,w){return x===null||x.tag!==6?(x=ZE(b,v.mode,w),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,w){var T=b.type;return T===Yp?d(v,x,b.props.children,w,b.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_d&&bR(T)===x.type)?(w=i(x,b.props),w.ref=vg(v,x,b),w.return=v,w):(w=_b(b.type,b.key,b.props,null,v.mode,w),w.ref=vg(v,x,b),w.return=v,w)}function u(v,x,b,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=JE(b,v.mode,w),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function d(v,x,b,w,T){return x===null||x.tag!==7?(x=Ch(b,v.mode,w,T),x.return=v,x):(x=i(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ZE(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case o1:return b=_b(x.type,x.key,x.props,null,v.mode,b),b.ref=vg(v,null,x),b.return=v,b;case Xp:return x=JE(x,v.mode,b),x.return=v,x;case _d:var w=x._init;return f(v,w(x._payload),b)}if(Wg(x)||hg(x))return x=Ch(x,v.mode,b,null),x.return=v,x;v1(v,x)}return null}function h(v,x,b,w){var T=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:c(v,x,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case o1:return b.key===T?l(v,x,b,w):null;case Xp:return b.key===T?u(v,x,b,w):null;case _d:return T=b._init,h(v,x,T(b._payload),w)}if(Wg(b)||hg(b))return T!==null?null:d(v,x,b,w,null);v1(v,b)}return null}function p(v,x,b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,c(x,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case o1:return v=v.get(w.key===null?b:w.key)||null,l(x,v,w,T);case Xp:return v=v.get(w.key===null?b:w.key)||null,u(x,v,w,T);case _d:var C=w._init;return p(v,x,b,C(w._payload),T)}if(Wg(w)||hg(w))return v=v.get(b)||null,d(x,v,w,T,null);v1(x,w)}return null}function y(v,x,b,w){for(var T=null,C=null,_=x,N=x=0,k=null;_!==null&&N<b.length;N++){_.index>N?(k=_,_=null):k=_.sibling;var j=h(v,_,b[N],w);if(j===null){_===null&&(_=k);break}e&&_&&j.alternate===null&&t(v,_),x=s(j,x,N),C===null?T=j:C.sibling=j,C=j,_=k}if(N===b.length)return n(v,_),Zr&&nh(v,N),T;if(_===null){for(;N<b.length;N++)_=f(v,b[N],w),_!==null&&(x=s(_,x,N),C===null?T=_:C.sibling=_,C=_);return Zr&&nh(v,N),T}for(_=r(v,_);N<b.length;N++)k=p(_,v,N,b[N],w),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?N:k.key),x=s(k,x,N),C===null?T=k:C.sibling=k,C=k);return e&&_.forEach(function(D){return t(v,D)}),Zr&&nh(v,N),T}function m(v,x,b,w){var T=hg(b);if(typeof T!="function")throw Error(lt(150));if(b=T.call(b),b==null)throw Error(lt(151));for(var C=T=null,_=x,N=x=0,k=null,j=b.next();_!==null&&!j.done;N++,j=b.next()){_.index>N?(k=_,_=null):k=_.sibling;var D=h(v,_,j.value,w);if(D===null){_===null&&(_=k);break}e&&_&&D.alternate===null&&t(v,_),x=s(D,x,N),C===null?T=D:C.sibling=D,C=D,_=k}if(j.done)return n(v,_),Zr&&nh(v,N),T;if(_===null){for(;!j.done;N++,j=b.next())j=f(v,j.value,w),j!==null&&(x=s(j,x,N),C===null?T=j:C.sibling=j,C=j);return Zr&&nh(v,N),T}for(_=r(v,_);!j.done;N++,j=b.next())j=p(_,v,N,j.value,w),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?N:j.key),x=s(j,x,N),C===null?T=j:C.sibling=j,C=j);return e&&_.forEach(function(E){return t(v,E)}),Zr&&nh(v,N),T}function g(v,x,b,w){if(typeof b=="object"&&b!==null&&b.type===Yp&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case o1:e:{for(var T=b.key,C=x;C!==null;){if(C.key===T){if(T=b.type,T===Yp){if(C.tag===7){n(v,C.sibling),x=i(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_d&&bR(T)===C.type){n(v,C.sibling),x=i(C,b.props),x.ref=vg(v,C,b),x.return=v,v=x;break e}n(v,C);break}else t(v,C);C=C.sibling}b.type===Yp?(x=Ch(b.props.children,v.mode,w,b.key),x.return=v,v=x):(w=_b(b.type,b.key,b.props,null,v.mode,w),w.ref=vg(v,x,b),w.return=v,v=w)}return o(v);case Xp:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=JE(b,v.mode,w),x.return=v,v=x}return o(v);case _d:return C=b._init,g(v,x,C(b._payload),w)}if(Wg(b))return y(v,x,b,w);if(hg(b))return m(v,x,b,w);v1(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=ZE(b,v.mode,w),x.return=v,v=x),o(v)):n(v,x)}return g}var Qm=c7(!0),l7=c7(!1),e2=jf(null),t2=null,sm=null,ED=null;function ND(){ED=sm=t2=null}function SD(e){var t=e2.current;Gr(e2),e._currentValue=t}function ZC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _m(e,t){t2=e,ED=sm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($a=!0),e.firstContext=null)}function ic(e){var t=e._currentValue;if(ED!==e)if(e={context:e,memoizedValue:t,next:null},sm===null){if(t2===null)throw Error(lt(308));sm=e,t2.dependencies={lanes:0,firstContext:e}}else sm=sm.next=e;return t}var hh=null;function CD(e){hh===null?hh=[e]:hh.push(e)}function u7(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,CD(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bu(e,r)}function Bu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Td=!1;function kD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Du(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bu(e,n)}return i=r.interleaved,i===null?(t.next=t,CD(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bu(e,n)}function gb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hD(e,n)}}function wR(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function n2(e,t,n,r){var i=e.updateQueue;Td=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,c=s;do{var h=c.lane,p=c.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,m=c;switch(h=t,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=ri({},f,h);break e;case 2:Td=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Uh|=o,e.lanes=o,e.memoizedState=f}}function _R(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(lt(191,i));i.call(r)}}}var oy={},Sl=jf(oy),Yx=jf(oy),Zx=jf(oy);function ph(e){if(e===oy)throw Error(lt(174));return e}function AD(e,t){switch(Rr(Zx,t),Rr(Yx,e),Rr(Sl,oy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:IC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=IC(t,e)}Gr(Sl),Rr(Sl,t)}function Km(){Gr(Sl),Gr(Yx),Gr(Zx)}function f7(e){ph(Zx.current);var t=ph(Sl.current),n=IC(t,e.type);t!==n&&(Rr(Yx,e),Rr(Sl,n))}function DD(e){Yx.current===e&&(Gr(Sl),Gr(Yx))}var ei=jf(0);function r2(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var HE=[];function jD(){for(var e=0;e<HE.length;e++)HE[e]._workInProgressVersionPrimary=null;HE.length=0}var xb=ed.ReactCurrentDispatcher,GE=ed.ReactCurrentBatchConfig,Ph=0,ni=null,Wi=null,ns=null,i2=!1,hx=!1,Jx=0,bne=0;function Cs(){throw Error(lt(321))}function ID(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qc(e[n],t[n]))return!1;return!0}function RD(e,t,n,r,i,s){if(Ph=s,ni=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xb.current=e===null||e.memoizedState===null?Ene:Nne,e=n(r,i),hx){s=0;do{if(hx=!1,Jx=0,25<=s)throw Error(lt(301));s+=1,ns=Wi=null,t.updateQueue=null,xb.current=Sne,e=n(r,i)}while(hx)}if(xb.current=s2,t=Wi!==null&&Wi.next!==null,Ph=0,ns=Wi=ni=null,i2=!1,t)throw Error(lt(300));return e}function OD(){var e=Jx!==0;return Jx=0,e}function dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?ni.memoizedState=ns=e:ns=ns.next=e,ns}function sc(){if(Wi===null){var e=ni.alternate;e=e!==null?e.memoizedState:null}else e=Wi.next;var t=ns===null?ni.memoizedState:ns.next;if(t!==null)ns=t,Wi=e;else{if(e===null)throw Error(lt(310));Wi=e,e={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},ns===null?ni.memoizedState=ns=e:ns=ns.next=e}return ns}function ev(e,t){return typeof t=="function"?t(e):t}function QE(e){var t=sc(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var r=Wi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,l=null,u=s;do{var d=u.lane;if((Ph&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=f,o=r):l=l.next=f,ni.lanes|=d,Uh|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=c,qc(r,t.memoizedState)||($a=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ni.lanes|=s,Uh|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function KE(e){var t=sc(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);qc(s,t.memoizedState)||($a=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function h7(){}function p7(e,t){var n=ni,r=sc(),i=t(),s=!qc(r.memoizedState,i);if(s&&(r.memoizedState=i,$a=!0),r=r.queue,FD(x7.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ns!==null&&ns.memoizedState.tag&1){if(n.flags|=2048,tv(9,g7.bind(null,n,r,i,t),void 0,null),is===null)throw Error(lt(349));Ph&30||m7(n,t,i)}return i}function m7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ni.updateQueue,t===null?(t={lastEffect:null,stores:null},ni.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function g7(e,t,n,r){t.value=n,t.getSnapshot=r,v7(t)&&y7(e)}function x7(e,t,n){return n(function(){v7(t)&&y7(e)})}function v7(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qc(e,n)}catch{return!0}}function y7(e){var t=Bu(e,1);t!==null&&Pc(t,e,1,-1)}function TR(e){var t=dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:e},t.queue=e,e=e.dispatch=Tne.bind(null,ni,e),[t.memoizedState,e]}function tv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ni.updateQueue,t===null?(t={lastEffect:null,stores:null},ni.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function b7(){return sc().memoizedState}function vb(e,t,n,r){var i=dl();ni.flags|=e,i.memoizedState=tv(1|t,n,void 0,r===void 0?null:r)}function Bw(e,t,n,r){var i=sc();r=r===void 0?null:r;var s=void 0;if(Wi!==null){var o=Wi.memoizedState;if(s=o.destroy,r!==null&&ID(r,o.deps)){i.memoizedState=tv(t,n,s,r);return}}ni.flags|=e,i.memoizedState=tv(1|t,n,s,r)}function ER(e,t){return vb(8390656,8,e,t)}function FD(e,t){return Bw(2048,8,e,t)}function w7(e,t){return Bw(4,2,e,t)}function _7(e,t){return Bw(4,4,e,t)}function T7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E7(e,t,n){return n=n!=null?n.concat([e]):null,Bw(4,4,T7.bind(null,t,e),n)}function PD(){}function N7(e,t){var n=sc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ID(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function S7(e,t){var n=sc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ID(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function C7(e,t,n){return Ph&21?(qc(n,t)||(n=I9(),ni.lanes|=n,Uh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$a=!0),e.memoizedState=n)}function wne(e,t){var n=gr;gr=n!==0&&4>n?n:4,e(!0);var r=GE.transition;GE.transition={};try{e(!1),t()}finally{gr=n,GE.transition=r}}function k7(){return sc().memoizedState}function _ne(e,t,n){var r=tf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A7(e))D7(t,n);else if(n=u7(e,t,n,r),n!==null){var i=ya();Pc(n,e,r,i),j7(n,t,r)}}function Tne(e,t,n){var r=tf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A7(e))D7(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,qc(c,o)){var l=t.interleaved;l===null?(i.next=i,CD(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=u7(e,t,i,r),n!==null&&(i=ya(),Pc(n,e,r,i),j7(n,t,r))}}function A7(e){var t=e.alternate;return e===ni||t!==null&&t===ni}function D7(e,t){hx=i2=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j7(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hD(e,n)}}var s2={readContext:ic,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},Ene={readContext:ic,useCallback:function(e,t){return dl().memoizedState=[e,t===void 0?null:t],e},useContext:ic,useEffect:ER,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vb(4194308,4,T7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vb(4194308,4,e,t)},useInsertionEffect:function(e,t){return vb(4,2,e,t)},useMemo:function(e,t){var n=dl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_ne.bind(null,ni,e),[r.memoizedState,e]},useRef:function(e){var t=dl();return e={current:e},t.memoizedState=e},useState:TR,useDebugValue:PD,useDeferredValue:function(e){return dl().memoizedState=e},useTransition:function(){var e=TR(!1),t=e[0];return e=wne.bind(null,e[1]),dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ni,i=dl();if(Zr){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=t(),is===null)throw Error(lt(349));Ph&30||m7(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ER(x7.bind(null,r,s,e),[e]),r.flags|=2048,tv(9,g7.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=dl(),t=is.identifierPrefix;if(Zr){var n=Eu,r=Tu;n=(r&~(1<<32-Fc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nne={readContext:ic,useCallback:N7,useContext:ic,useEffect:FD,useImperativeHandle:E7,useInsertionEffect:w7,useLayoutEffect:_7,useMemo:S7,useReducer:QE,useRef:b7,useState:function(){return QE(ev)},useDebugValue:PD,useDeferredValue:function(e){var t=sc();return C7(t,Wi.memoizedState,e)},useTransition:function(){var e=QE(ev)[0],t=sc().memoizedState;return[e,t]},useMutableSource:h7,useSyncExternalStore:p7,useId:k7,unstable_isNewReconciler:!1},Sne={readContext:ic,useCallback:N7,useContext:ic,useEffect:FD,useImperativeHandle:E7,useInsertionEffect:w7,useLayoutEffect:_7,useMemo:S7,useReducer:KE,useRef:b7,useState:function(){return KE(ev)},useDebugValue:PD,useDeferredValue:function(e){var t=sc();return Wi===null?t.memoizedState=e:C7(t,Wi.memoizedState,e)},useTransition:function(){var e=KE(ev)[0],t=sc().memoizedState;return[e,t]},useMutableSource:h7,useSyncExternalStore:p7,useId:k7,unstable_isNewReconciler:!1};function wc(e,t){if(e&&e.defaultProps){t=ri({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function JC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ri({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vw={isMounted:function(e){return(e=e._reactInternals)?op(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ya(),i=tf(e),s=Du(r,i);s.payload=t,n!=null&&(s.callback=n),t=Jd(e,s,i),t!==null&&(Pc(t,e,i,r),gb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ya(),i=tf(e),s=Du(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Jd(e,s,i),t!==null&&(Pc(t,e,i,r),gb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ya(),r=tf(e),i=Du(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jd(e,i,r),t!==null&&(Pc(t,e,r,n),gb(t,e,r))}};function NR(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Gx(n,r)||!Gx(i,s):!0}function I7(e,t,n){var r=!1,i=hf,s=t.contextType;return typeof s=="object"&&s!==null?s=ic(s):(i=Qa(t)?Oh:$s.current,r=t.contextTypes,s=(r=r!=null)?Hm(e,i):hf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vw,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function SR(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vw.enqueueReplaceState(t,t.state,null)}function ek(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},kD(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ic(s):(s=Qa(t)?Oh:$s.current,i.context=Hm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(JC(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vw.enqueueReplaceState(i,i.state,null),n2(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xm(e,t){try{var n="",r=t;do n+=ete(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function XE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tk(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cne=typeof WeakMap=="function"?WeakMap:Map;function R7(e,t,n){n=Du(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){o2||(o2=!0,dk=r),tk(e,t)},n}function O7(e,t,n){n=Du(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tk(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tk(e,t),typeof r!="function"&&(ef===null?ef=new Set([this]):ef.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function CR(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Vne.bind(null,e,t,n),t.then(e,e))}function kR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AR(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Du(-1,1),t.tag=2,Jd(n,t,1))),n.lanes|=1),e)}var kne=ed.ReactCurrentOwner,$a=!1;function oa(e,t,n,r){t.child=e===null?l7(t,null,n,r):Qm(t,e.child,n,r)}function DR(e,t,n,r,i){n=n.render;var s=t.ref;return _m(t,i),r=RD(e,t,n,r,s,i),n=OD(),e!==null&&!$a?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i)):(Zr&&n&&wD(t),t.flags|=1,oa(e,t,r,i),t.child)}function jR(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!zD(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,F7(e,t,s,r,i)):(e=_b(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gx,n(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,e=nf(s,r),e.ref=t.ref,e.return=t,t.child=e}function F7(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Gx(s,r)&&e.ref===t.ref)if($a=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($a=!0);else return t.lanes=e.lanes,Vu(e,t,i)}return nk(e,t,n,r,i)}function P7(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(om,ho),ho|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(om,ho),ho|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rr(om,ho),ho|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Rr(om,ho),ho|=r;return oa(e,t,i,n),t.child}function U7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nk(e,t,n,r,i){var s=Qa(n)?Oh:$s.current;return s=Hm(t,s),_m(t,i),n=RD(e,t,n,r,s,i),r=OD(),e!==null&&!$a?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i)):(Zr&&r&&wD(t),t.flags|=1,oa(e,t,n,i),t.child)}function IR(e,t,n,r,i){if(Qa(n)){var s=!0;Yb(t)}else s=!1;if(_m(t,i),t.stateNode===null)yb(e,t),I7(t,n,r),ek(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ic(u):(u=Qa(n)?Oh:$s.current,u=Hm(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||l!==u)&&SR(t,o,r,u),Td=!1;var h=t.memoizedState;o.state=h,n2(t,r,o,i),l=t.memoizedState,c!==r||h!==l||Ga.current||Td?(typeof d=="function"&&(JC(t,n,d,r),l=t.memoizedState),(c=Td||NR(t,n,c,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,d7(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:wc(t.type,c),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ic(l):(l=Qa(n)?Oh:$s.current,l=Hm(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||h!==l)&&SR(t,o,r,l),Td=!1,h=t.memoizedState,o.state=h,n2(t,r,o,i);var y=t.memoizedState;c!==f||h!==y||Ga.current||Td?(typeof p=="function"&&(JC(t,n,p,r),y=t.memoizedState),(u=Td||NR(t,n,u,r,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return rk(e,t,n,r,s,i)}function rk(e,t,n,r,i,s){U7(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&xR(t,n,!1),Vu(e,t,s);r=t.stateNode,kne.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qm(t,e.child,null,s),t.child=Qm(t,null,c,s)):oa(e,t,c,s),t.memoizedState=r.state,i&&xR(t,n,!0),t.child}function L7(e){var t=e.stateNode;t.pendingContext?gR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gR(e,t.context,!1),AD(e,t.containerInfo)}function RR(e,t,n,r,i){return Gm(),TD(i),t.flags|=256,oa(e,t,n,r),t.child}var ik={dehydrated:null,treeContext:null,retryLane:0};function sk(e){return{baseLanes:e,cachePool:null,transitions:null}}function M7(e,t,n){var r=t.pendingProps,i=ei.current,s=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rr(ei,i&1),e===null)return YC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zw(o,r,0,null),e=Ch(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sk(n),t.memoizedState=ik,e):UD(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Ane(e,t,o,r,c,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,c=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=nf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=nf(c,s):(s=Ch(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?sk(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ik,r}return s=e.child,e=s.sibling,r=nf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function UD(e,t){return t=zw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function y1(e,t,n,r){return r!==null&&TD(r),Qm(t,e.child,null,n),e=UD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ane(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=XE(Error(lt(422))),y1(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zw({mode:"visible",children:r.children},i,0,null),s=Ch(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qm(t,e.child,null,o),t.child.memoizedState=sk(o),t.memoizedState=ik,s);if(!(t.mode&1))return y1(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(lt(419)),r=XE(s,r,void 0),y1(e,t,o,r)}if(c=(o&e.childLanes)!==0,$a||c){if(r=is,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bu(e,i),Pc(r,e,i,-1))}return qD(),r=XE(Error(lt(421))),y1(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Wne.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yo=Zd(i.nextSibling),_o=t,Zr=!0,Cc=null,e!==null&&(Go[Qo++]=Tu,Go[Qo++]=Eu,Go[Qo++]=Fh,Tu=e.id,Eu=e.overflow,Fh=t),t=UD(t,r.children),t.flags|=4096,t)}function OR(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ZC(e.return,t,n)}function YE(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function B7(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(oa(e,t,r.children,n),r=ei.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OR(e,n,t);else if(e.tag===19)OR(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rr(ei,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&r2(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),YE(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&r2(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}YE(t,!0,n,null,s);break;case"together":YE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Uh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(lt(153));if(t.child!==null){for(e=t.child,n=nf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dne(e,t,n){switch(t.tag){case 3:L7(t),Gm();break;case 5:f7(t);break;case 1:Qa(t.type)&&Yb(t);break;case 4:AD(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Rr(e2,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rr(ei,ei.current&1),t.flags|=128,null):n&t.child.childLanes?M7(e,t,n):(Rr(ei,ei.current&1),e=Vu(e,t,n),e!==null?e.sibling:null);Rr(ei,ei.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return B7(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rr(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,P7(e,t,n)}return Vu(e,t,n)}var V7,ak,W7,q7;V7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ak=function(){};W7=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ph(Sl.current);var s=null;switch(n){case"input":i=kC(e,i),r=kC(e,r),s=[];break;case"select":i=ri({},i,{value:void 0}),r=ri({},r,{value:void 0}),s=[];break;case"textarea":i=jC(e,i),r=jC(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kb)}RC(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bx.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bx.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vr("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};q7=function(e,t,n,r){n!==r&&(t.flags|=4)};function yg(e,t){if(!Zr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ks(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jne(e,t,n){var r=t.pendingProps;switch(_D(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(t),null;case 1:return Qa(t.type)&&Xb(),ks(t),null;case 3:return r=t.stateNode,Km(),Gr(Ga),Gr($s),jD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(x1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cc!==null&&(pk(Cc),Cc=null))),ak(e,t),ks(t),null;case 5:DD(t);var i=ph(Zx.current);if(n=t.type,e!==null&&t.stateNode!=null)W7(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(lt(166));return ks(t),null}if(e=ph(Sl.current),x1(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xl]=t,r[Xx]=s,e=(t.mode&1)!==0,n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<zg.length;i++)Vr(zg[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":q5(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":$5(r,s),Vr("invalid",r)}RC(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&g1(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&g1(r.textContent,c,e),i=["children",""+c]):Bx.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Vr("scroll",r)}switch(n){case"input":c1(r),z5(r,s,!0);break;case"textarea":c1(r),H5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kb)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x9(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xl]=t,e[Xx]=r,V7(e,t,!1,!1),t.stateNode=e;e:{switch(o=OC(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zg.length;i++)Vr(zg[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":q5(e,r),i=kC(e,r),Vr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ri({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":$5(e,r),i=jC(e,r),Vr("invalid",e);break;default:i=r}RC(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];s==="style"?b9(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v9(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vx(e,l):typeof l=="number"&&Vx(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bx.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vr("scroll",e):l!=null&&oD(e,s,l,o))}switch(n){case"input":c1(e),z5(e,r,!1);break;case"textarea":c1(e),H5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ff(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?vm(e,!!r.multiple,s,!1):r.defaultValue!=null&&vm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ks(t),null;case 6:if(e&&t.stateNode!=null)q7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(lt(166));if(n=ph(Zx.current),ph(Sl.current),x1(t)){if(r=t.stateNode,n=t.memoizedProps,r[xl]=t,(s=r.nodeValue!==n)&&(e=_o,e!==null))switch(e.tag){case 3:g1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&g1(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xl]=t,t.stateNode=r}return ks(t),null;case 13:if(Gr(ei),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zr&&yo!==null&&t.mode&1&&!(t.flags&128))o7(),Gm(),t.flags|=98560,s=!1;else if(s=x1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(lt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(lt(317));s[xl]=t}else Gm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ks(t),s=!1}else Cc!==null&&(pk(Cc),Cc=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ei.current&1?qi===0&&(qi=3):qD())),t.updateQueue!==null&&(t.flags|=4),ks(t),null);case 4:return Km(),ak(e,t),e===null&&Qx(t.stateNode.containerInfo),ks(t),null;case 10:return SD(t.type._context),ks(t),null;case 17:return Qa(t.type)&&Xb(),ks(t),null;case 19:if(Gr(ei),s=t.memoizedState,s===null)return ks(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)yg(s,!1);else{if(qi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=r2(e),o!==null){for(t.flags|=128,yg(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rr(ei,ei.current&1|2),t.child}e=e.sibling}s.tail!==null&&_i()>Ym&&(t.flags|=128,r=!0,yg(s,!1),t.lanes=4194304)}else{if(!r)if(e=r2(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zr)return ks(t),null}else 2*_i()-s.renderingStartTime>Ym&&n!==1073741824&&(t.flags|=128,r=!0,yg(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_i(),t.sibling=null,n=ei.current,Rr(ei,r?n&1|2:n&1),t):(ks(t),null);case 22:case 23:return WD(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ho&1073741824&&(ks(t),t.subtreeFlags&6&&(t.flags|=8192)):ks(t),null;case 24:return null;case 25:return null}throw Error(lt(156,t.tag))}function Ine(e,t){switch(_D(t),t.tag){case 1:return Qa(t.type)&&Xb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Km(),Gr(Ga),Gr($s),jD(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return DD(t),null;case 13:if(Gr(ei),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(lt(340));Gm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gr(ei),null;case 4:return Km(),null;case 10:return SD(t.type._context),null;case 22:case 23:return WD(),null;case 24:return null;default:return null}}var b1=!1,Ls=!1,Rne=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function am(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ci(e,t,r)}else n.current=null}function ok(e,t,n){try{n()}catch(r){ci(e,t,r)}}var FR=!1;function One(e,t){if(zC=Hb,e=Q9(),bD(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(c=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(c=o),h===s&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($C={focusedElem:e,selectionRange:n},Hb=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){t=Tt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,g=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:wc(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(w){ci(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}return y=FR,FR=!1,y}function px(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ok(t,n,s)}i=i.next}while(i!==r)}}function Ww(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ck(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function z7(e){var t=e.alternate;t!==null&&(e.alternate=null,z7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xl],delete t[Xx],delete t[QC],delete t[gne],delete t[xne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $7(e){return e.tag===5||e.tag===3||e.tag===4}function PR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lk(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kb));else if(r!==4&&(e=e.child,e!==null))for(lk(e,t,n),e=e.sibling;e!==null;)lk(e,t,n),e=e.sibling}function uk(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uk(e,t,n),e=e.sibling;e!==null;)uk(e,t,n),e=e.sibling}var ds=null,Nc=!1;function fd(e,t,n){for(n=n.child;n!==null;)H7(e,t,n),n=n.sibling}function H7(e,t,n){if(Nl&&typeof Nl.onCommitFiberUnmount=="function")try{Nl.onCommitFiberUnmount(Ow,n)}catch{}switch(n.tag){case 5:Ls||am(n,t);case 6:var r=ds,i=Nc;ds=null,fd(e,t,n),ds=r,Nc=i,ds!==null&&(Nc?(e=ds,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:ds!==null&&(Nc?(e=ds,n=n.stateNode,e.nodeType===8?zE(e.parentNode,n):e.nodeType===1&&zE(e,n),$x(e)):zE(ds,n.stateNode));break;case 4:r=ds,i=Nc,ds=n.stateNode.containerInfo,Nc=!0,fd(e,t,n),ds=r,Nc=i;break;case 0:case 11:case 14:case 15:if(!Ls&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ok(n,t,o),i=i.next}while(i!==r)}fd(e,t,n);break;case 1:if(!Ls&&(am(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ci(n,t,c)}fd(e,t,n);break;case 21:fd(e,t,n);break;case 22:n.mode&1?(Ls=(r=Ls)||n.memoizedState!==null,fd(e,t,n),Ls=r):fd(e,t,n);break;default:fd(e,t,n)}}function UR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rne),t.forEach(function(r){var i=qne.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gc(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:ds=c.stateNode,Nc=!1;break e;case 3:ds=c.stateNode.containerInfo,Nc=!0;break e;case 4:ds=c.stateNode.containerInfo,Nc=!0;break e}c=c.return}if(ds===null)throw Error(lt(160));H7(s,o,i),ds=null,Nc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ci(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G7(t,e),t=t.sibling}function G7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),al(e),r&4){try{px(3,e,e.return),Ww(3,e)}catch(m){ci(e,e.return,m)}try{px(5,e,e.return)}catch(m){ci(e,e.return,m)}}break;case 1:gc(t,e),al(e),r&512&&n!==null&&am(n,n.return);break;case 5:if(gc(t,e),al(e),r&512&&n!==null&&am(n,n.return),e.flags&32){var i=e.stateNode;try{Vx(i,"")}catch(m){ci(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&m9(i,s),OC(c,o);var u=OC(c,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?b9(i,f):d==="dangerouslySetInnerHTML"?v9(i,f):d==="children"?Vx(i,f):oD(i,d,f,u)}switch(c){case"input":AC(i,s);break;case"textarea":g9(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?vm(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?vm(i,!!s.multiple,s.defaultValue,!0):vm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xx]=s}catch(m){ci(e,e.return,m)}}break;case 6:if(gc(t,e),al(e),r&4){if(e.stateNode===null)throw Error(lt(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){ci(e,e.return,m)}}break;case 3:if(gc(t,e),al(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$x(t.containerInfo)}catch(m){ci(e,e.return,m)}break;case 4:gc(t,e),al(e);break;case 13:gc(t,e),al(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(BD=_i())),r&4&&UR(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ls=(u=Ls)||d,gc(t,e),Ls=u):gc(t,e),al(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Tt=e,d=e.child;d!==null;){for(f=Tt=d;Tt!==null;){switch(h=Tt,p=h.child,h.tag){case 0:case 11:case 14:case 15:px(4,h,h.return);break;case 1:am(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){ci(r,n,m)}}break;case 5:am(h,h.return);break;case 22:if(h.memoizedState!==null){MR(f);continue}}p!==null?(p.return=h,Tt=p):MR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=y9("display",o))}catch(m){ci(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){ci(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gc(t,e),al(e),r&4&&UR(e);break;case 21:break;default:gc(t,e),al(e)}}function al(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($7(n)){var r=n;break e}n=n.return}throw Error(lt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vx(i,""),r.flags&=-33);var s=PR(e);uk(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=PR(e);lk(e,c,o);break;default:throw Error(lt(161))}}catch(l){ci(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fne(e,t,n){Tt=e,Q7(e)}function Q7(e,t,n){for(var r=(e.mode&1)!==0;Tt!==null;){var i=Tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||b1;if(!o){var c=i.alternate,l=c!==null&&c.memoizedState!==null||Ls;c=b1;var u=Ls;if(b1=o,(Ls=l)&&!u)for(Tt=i;Tt!==null;)o=Tt,l=o.child,o.tag===22&&o.memoizedState!==null?BR(i):l!==null?(l.return=o,Tt=l):BR(i);for(;s!==null;)Tt=s,Q7(s),s=s.sibling;Tt=i,b1=c,Ls=u}LR(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Tt=s):LR(e)}}function LR(e){for(;Tt!==null;){var t=Tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ls||Ww(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ls)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wc(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_R(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_R(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$x(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Ls||t.flags&512&&ck(t)}catch(h){ci(t,t.return,h)}}if(t===e){Tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function MR(e){for(;Tt!==null;){var t=Tt;if(t===e){Tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function BR(e){for(;Tt!==null;){var t=Tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ww(4,t)}catch(l){ci(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ci(t,i,l)}}var s=t.return;try{ck(t)}catch(l){ci(t,s,l)}break;case 5:var o=t.return;try{ck(t)}catch(l){ci(t,o,l)}}}catch(l){ci(t,t.return,l)}if(t===e){Tt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Tt=c;break}Tt=t.return}}var Pne=Math.ceil,a2=ed.ReactCurrentDispatcher,LD=ed.ReactCurrentOwner,ec=ed.ReactCurrentBatchConfig,Xn=0,is=null,Ri=null,gs=0,ho=0,om=jf(0),qi=0,nv=null,Uh=0,qw=0,MD=0,mx=null,Va=null,BD=0,Ym=1/0,bu=null,o2=!1,dk=null,ef=null,w1=!1,Wd=null,c2=0,gx=0,fk=null,bb=-1,wb=0;function ya(){return Xn&6?_i():bb!==-1?bb:bb=_i()}function tf(e){return e.mode&1?Xn&2&&gs!==0?gs&-gs:yne.transition!==null?(wb===0&&(wb=I9()),wb):(e=gr,e!==0||(e=window.event,e=e===void 0?16:M9(e.type)),e):1}function Pc(e,t,n,r){if(50<gx)throw gx=0,fk=null,Error(lt(185));iy(e,n,r),(!(Xn&2)||e!==is)&&(e===is&&(!(Xn&2)&&(qw|=n),qi===4&&kd(e,gs)),Ka(e,r),n===1&&Xn===0&&!(t.mode&1)&&(Ym=_i()+500,Mw&&If()))}function Ka(e,t){var n=e.callbackNode;yte(e,t);var r=$b(e,e===is?gs:0);if(r===0)n!==null&&K5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&K5(n),t===1)e.tag===0?vne(VR.bind(null,e)):i7(VR.bind(null,e)),pne(function(){!(Xn&6)&&If()}),n=null;else{switch(R9(r)){case 1:n=fD;break;case 4:n=D9;break;case 16:n=zb;break;case 536870912:n=j9;break;default:n=zb}n=nB(n,K7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function K7(e,t){if(bb=-1,wb=0,Xn&6)throw Error(lt(327));var n=e.callbackNode;if(Tm()&&e.callbackNode!==n)return null;var r=$b(e,e===is?gs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=l2(e,r);else{t=r;var i=Xn;Xn|=2;var s=Y7();(is!==e||gs!==t)&&(bu=null,Ym=_i()+500,Sh(e,t));do try{Mne();break}catch(c){X7(e,c)}while(!0);ND(),a2.current=s,Xn=i,Ri!==null?t=0:(is=null,gs=0,t=qi)}if(t!==0){if(t===2&&(i=MC(e),i!==0&&(r=i,t=hk(e,i))),t===1)throw n=nv,Sh(e,0),kd(e,r),Ka(e,_i()),n;if(t===6)kd(e,r);else{if(i=e.current.alternate,!(r&30)&&!Une(i)&&(t=l2(e,r),t===2&&(s=MC(e),s!==0&&(r=s,t=hk(e,s))),t===1))throw n=nv,Sh(e,0),kd(e,r),Ka(e,_i()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(lt(345));case 2:rh(e,Va,bu);break;case 3:if(kd(e,r),(r&130023424)===r&&(t=BD+500-_i(),10<t)){if($b(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ya(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=GC(rh.bind(null,e,Va,bu),t);break}rh(e,Va,bu);break;case 4:if(kd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Fc(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=_i()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pne(r/1960))-r,10<r){e.timeoutHandle=GC(rh.bind(null,e,Va,bu),r);break}rh(e,Va,bu);break;case 5:rh(e,Va,bu);break;default:throw Error(lt(329))}}}return Ka(e,_i()),e.callbackNode===n?K7.bind(null,e):null}function hk(e,t){var n=mx;return e.current.memoizedState.isDehydrated&&(Sh(e,t).flags|=256),e=l2(e,t),e!==2&&(t=Va,Va=n,t!==null&&pk(t)),e}function pk(e){Va===null?Va=e:Va.push.apply(Va,e)}function Une(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qc(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kd(e,t){for(t&=~MD,t&=~qw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fc(t),r=1<<n;e[n]=-1,t&=~r}}function VR(e){if(Xn&6)throw Error(lt(327));Tm();var t=$b(e,0);if(!(t&1))return Ka(e,_i()),null;var n=l2(e,t);if(e.tag!==0&&n===2){var r=MC(e);r!==0&&(t=r,n=hk(e,r))}if(n===1)throw n=nv,Sh(e,0),kd(e,t),Ka(e,_i()),n;if(n===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rh(e,Va,bu),Ka(e,_i()),null}function VD(e,t){var n=Xn;Xn|=1;try{return e(t)}finally{Xn=n,Xn===0&&(Ym=_i()+500,Mw&&If())}}function Lh(e){Wd!==null&&Wd.tag===0&&!(Xn&6)&&Tm();var t=Xn;Xn|=1;var n=ec.transition,r=gr;try{if(ec.transition=null,gr=1,e)return e()}finally{gr=r,ec.transition=n,Xn=t,!(Xn&6)&&If()}}function WD(){ho=om.current,Gr(om)}function Sh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hne(n)),Ri!==null)for(n=Ri.return;n!==null;){var r=n;switch(_D(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xb();break;case 3:Km(),Gr(Ga),Gr($s),jD();break;case 5:DD(r);break;case 4:Km();break;case 13:Gr(ei);break;case 19:Gr(ei);break;case 10:SD(r.type._context);break;case 22:case 23:WD()}n=n.return}if(is=e,Ri=e=nf(e.current,null),gs=ho=t,qi=0,nv=null,MD=qw=Uh=0,Va=mx=null,hh!==null){for(t=0;t<hh.length;t++)if(n=hh[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hh=null}return e}function X7(e,t){do{var n=Ri;try{if(ND(),xb.current=s2,i2){for(var r=ni.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}i2=!1}if(Ph=0,ns=Wi=ni=null,hx=!1,Jx=0,LD.current=null,n===null||n.return===null){qi=1,nv=t,Ri=null;break}e:{var s=e,o=n.return,c=n,l=t;if(t=gs,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kR(o);if(p!==null){p.flags&=-257,AR(p,o,c,s,t),p.mode&1&&CR(s,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(l),t.updateQueue=m}else y.add(l);break e}else{if(!(t&1)){CR(s,u,t),qD();break e}l=Error(lt(426))}}else if(Zr&&c.mode&1){var g=kR(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),AR(g,o,c,s,t),TD(Xm(l,c));break e}}s=l=Xm(l,c),qi!==4&&(qi=2),mx===null?mx=[s]:mx.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=R7(s,l,t);wR(s,v);break e;case 1:c=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ef===null||!ef.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=O7(s,c,t);wR(s,w);break e}}s=s.return}while(s!==null)}J7(n)}catch(T){t=T,Ri===n&&n!==null&&(Ri=n=n.return);continue}break}while(!0)}function Y7(){var e=a2.current;return a2.current=s2,e===null?s2:e}function qD(){(qi===0||qi===3||qi===2)&&(qi=4),is===null||!(Uh&268435455)&&!(qw&268435455)||kd(is,gs)}function l2(e,t){var n=Xn;Xn|=2;var r=Y7();(is!==e||gs!==t)&&(bu=null,Sh(e,t));do try{Lne();break}catch(i){X7(e,i)}while(!0);if(ND(),Xn=n,a2.current=r,Ri!==null)throw Error(lt(261));return is=null,gs=0,qi}function Lne(){for(;Ri!==null;)Z7(Ri)}function Mne(){for(;Ri!==null&&!ute();)Z7(Ri)}function Z7(e){var t=tB(e.alternate,e,ho);e.memoizedProps=e.pendingProps,t===null?J7(e):Ri=t,LD.current=null}function J7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ine(n,t),n!==null){n.flags&=32767,Ri=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qi=6,Ri=null;return}}else if(n=jne(n,t,ho),n!==null){Ri=n;return}if(t=t.sibling,t!==null){Ri=t;return}Ri=t=e}while(t!==null);qi===0&&(qi=5)}function rh(e,t,n){var r=gr,i=ec.transition;try{ec.transition=null,gr=1,Bne(e,t,n,r)}finally{ec.transition=i,gr=r}return null}function Bne(e,t,n,r){do Tm();while(Wd!==null);if(Xn&6)throw Error(lt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(bte(e,s),e===is&&(Ri=is=null,gs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||w1||(w1=!0,nB(zb,function(){return Tm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ec.transition,ec.transition=null;var o=gr;gr=1;var c=Xn;Xn|=4,LD.current=null,One(e,n),G7(n,e),ane($C),Hb=!!zC,$C=zC=null,e.current=n,Fne(n),dte(),Xn=c,gr=o,ec.transition=s}else e.current=n;if(w1&&(w1=!1,Wd=e,c2=i),s=e.pendingLanes,s===0&&(ef=null),pte(n.stateNode),Ka(e,_i()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(o2)throw o2=!1,e=dk,dk=null,e;return c2&1&&e.tag!==0&&Tm(),s=e.pendingLanes,s&1?e===fk?gx++:(gx=0,fk=e):gx=0,If(),null}function Tm(){if(Wd!==null){var e=R9(c2),t=ec.transition,n=gr;try{if(ec.transition=null,gr=16>e?16:e,Wd===null)var r=!1;else{if(e=Wd,Wd=null,c2=0,Xn&6)throw Error(lt(331));var i=Xn;for(Xn|=4,Tt=e.current;Tt!==null;){var s=Tt,o=s.child;if(Tt.flags&16){var c=s.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(Tt=u;Tt!==null;){var d=Tt;switch(d.tag){case 0:case 11:case 15:px(8,d,s)}var f=d.child;if(f!==null)f.return=d,Tt=f;else for(;Tt!==null;){d=Tt;var h=d.sibling,p=d.return;if(z7(d),d===u){Tt=null;break}if(h!==null){h.return=p,Tt=h;break}Tt=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Tt=o;else e:for(;Tt!==null;){if(s=Tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:px(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Tt=v;break e}Tt=s.return}}var x=e.current;for(Tt=x;Tt!==null;){o=Tt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Tt=b;else e:for(o=x;Tt!==null;){if(c=Tt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ww(9,c)}}catch(T){ci(c,c.return,T)}if(c===o){Tt=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,Tt=w;break e}Tt=c.return}}if(Xn=i,If(),Nl&&typeof Nl.onPostCommitFiberRoot=="function")try{Nl.onPostCommitFiberRoot(Ow,e)}catch{}r=!0}return r}finally{gr=n,ec.transition=t}}return!1}function WR(e,t,n){t=Xm(n,t),t=R7(e,t,1),e=Jd(e,t,1),t=ya(),e!==null&&(iy(e,1,t),Ka(e,t))}function ci(e,t,n){if(e.tag===3)WR(e,e,n);else for(;t!==null;){if(t.tag===3){WR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ef===null||!ef.has(r))){e=Xm(n,e),e=O7(t,e,1),t=Jd(t,e,1),e=ya(),t!==null&&(iy(t,1,e),Ka(t,e));break}}t=t.return}}function Vne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ya(),e.pingedLanes|=e.suspendedLanes&n,is===e&&(gs&n)===n&&(qi===4||qi===3&&(gs&130023424)===gs&&500>_i()-BD?Sh(e,0):MD|=n),Ka(e,t)}function eB(e,t){t===0&&(e.mode&1?(t=d1,d1<<=1,!(d1&130023424)&&(d1=4194304)):t=1);var n=ya();e=Bu(e,t),e!==null&&(iy(e,t,n),Ka(e,n))}function Wne(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eB(e,n)}function qne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(lt(314))}r!==null&&r.delete(t),eB(e,n)}var tB;tB=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ga.current)$a=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $a=!1,Dne(e,t,n);$a=!!(e.flags&131072)}else $a=!1,Zr&&t.flags&1048576&&s7(t,Jb,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yb(e,t),e=t.pendingProps;var i=Hm(t,$s.current);_m(t,n),i=RD(null,t,r,e,i,n);var s=OD();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qa(r)?(s=!0,Yb(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kD(t),i.updater=Vw,t.stateNode=i,i._reactInternals=t,ek(t,r,e,n),t=rk(null,t,r,!0,s,n)):(t.tag=0,Zr&&s&&wD(t),oa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$ne(r),e=wc(r,e),i){case 0:t=nk(null,t,r,e,n);break e;case 1:t=IR(null,t,r,e,n);break e;case 11:t=DR(null,t,r,e,n);break e;case 14:t=jR(null,t,r,wc(r.type,e),n);break e}throw Error(lt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),nk(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),IR(e,t,r,i,n);case 3:e:{if(L7(t),e===null)throw Error(lt(387));r=t.pendingProps,s=t.memoizedState,i=s.element,d7(e,t),n2(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Xm(Error(lt(423)),t),t=RR(e,t,r,n,i);break e}else if(r!==i){i=Xm(Error(lt(424)),t),t=RR(e,t,r,n,i);break e}else for(yo=Zd(t.stateNode.containerInfo.firstChild),_o=t,Zr=!0,Cc=null,n=l7(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gm(),r===i){t=Vu(e,t,n);break e}oa(e,t,r,n)}t=t.child}return t;case 5:return f7(t),e===null&&YC(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,HC(r,i)?o=null:s!==null&&HC(r,s)&&(t.flags|=32),U7(e,t),oa(e,t,o,n),t.child;case 6:return e===null&&YC(t),null;case 13:return M7(e,t,n);case 4:return AD(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qm(t,null,r,n):oa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),DR(e,t,r,i,n);case 7:return oa(e,t,t.pendingProps,n),t.child;case 8:return oa(e,t,t.pendingProps.children,n),t.child;case 12:return oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Rr(e2,r._currentValue),r._currentValue=o,s!==null)if(qc(s.value,o)){if(s.children===i.children&&!Ga.current){t=Vu(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Du(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ZC(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(lt(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ZC(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}oa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_m(t,n),i=ic(i),r=r(i),t.flags|=1,oa(e,t,r,n),t.child;case 14:return r=t.type,i=wc(r,t.pendingProps),i=wc(r.type,i),jR(e,t,r,i,n);case 15:return F7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),yb(e,t),t.tag=1,Qa(r)?(e=!0,Yb(t)):e=!1,_m(t,n),I7(t,r,i),ek(t,r,i,n),rk(null,t,r,!0,e,n);case 19:return B7(e,t,n);case 22:return P7(e,t,n)}throw Error(lt(156,t.tag))};function nB(e,t){return A9(e,t)}function zne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xo(e,t,n,r){return new zne(e,t,n,r)}function zD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $ne(e){if(typeof e=="function")return zD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lD)return 11;if(e===uD)return 14}return 2}function nf(e,t){var n=e.alternate;return n===null?(n=Xo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _b(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")zD(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yp:return Ch(n.children,i,s,t);case cD:o=8,i|=8;break;case EC:return e=Xo(12,n,t,i|2),e.elementType=EC,e.lanes=s,e;case NC:return e=Xo(13,n,t,i),e.elementType=NC,e.lanes=s,e;case SC:return e=Xo(19,n,t,i),e.elementType=SC,e.lanes=s,e;case f9:return zw(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u9:o=10;break e;case d9:o=9;break e;case lD:o=11;break e;case uD:o=14;break e;case _d:o=16,r=null;break e}throw Error(lt(130,e==null?e:typeof e,""))}return t=Xo(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ch(e,t,n,r){return e=Xo(7,e,r,t),e.lanes=n,e}function zw(e,t,n,r){return e=Xo(22,e,r,t),e.elementType=f9,e.lanes=n,e.stateNode={isHidden:!1},e}function ZE(e,t,n){return e=Xo(6,e,null,t),e.lanes=n,e}function JE(e,t,n){return t=Xo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hne(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RE(0),this.expirationTimes=RE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $D(e,t,n,r,i,s,o,c,l){return e=new Hne(e,t,n,c,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kD(s),e}function Gne(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rB(e){if(!e)return hf;e=e._reactInternals;e:{if(op(e)!==e||e.tag!==1)throw Error(lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(lt(171))}if(e.tag===1){var n=e.type;if(Qa(n))return r7(e,n,t)}return t}function iB(e,t,n,r,i,s,o,c,l){return e=$D(n,r,!0,e,i,s,o,c,l),e.context=rB(null),n=e.current,r=ya(),i=tf(n),s=Du(r,i),s.callback=t??null,Jd(n,s,i),e.current.lanes=i,iy(e,i,r),Ka(e,r),e}function $w(e,t,n,r){var i=t.current,s=ya(),o=tf(i);return n=rB(n),t.context===null?t.context=n:t.pendingContext=n,t=Du(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jd(i,t,o),e!==null&&(Pc(e,i,o,s),gb(e,i,o)),o}function u2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function HD(e,t){qR(e,t),(e=e.alternate)&&qR(e,t)}function Qne(){return null}var sB=typeof reportError=="function"?reportError:function(e){console.error(e)};function GD(e){this._internalRoot=e}Hw.prototype.render=GD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(lt(409));$w(e,t,null,null)};Hw.prototype.unmount=GD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lh(function(){$w(null,e,null,null)}),t[Mu]=null}};function Hw(e){this._internalRoot=e}Hw.prototype.unstable_scheduleHydration=function(e){if(e){var t=P9();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cd.length&&t!==0&&t<Cd[n].priority;n++);Cd.splice(n,0,e),n===0&&L9(e)}};function QD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zR(){}function Kne(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=u2(o);s.call(u)}}var o=iB(t,r,e,0,null,!1,!1,"",zR);return e._reactRootContainer=o,e[Mu]=o.current,Qx(e.nodeType===8?e.parentNode:e),Lh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=u2(l);c.call(u)}}var l=$D(e,0,!1,null,null,!1,!1,"",zR);return e._reactRootContainer=l,e[Mu]=l.current,Qx(e.nodeType===8?e.parentNode:e),Lh(function(){$w(t,l,n,r)}),l}function Qw(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var l=u2(o);c.call(l)}}$w(t,o,e,i)}else o=Kne(n,t,e,i,r);return u2(o)}O9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qg(t.pendingLanes);n!==0&&(hD(t,n|1),Ka(t,_i()),!(Xn&6)&&(Ym=_i()+500,If()))}break;case 13:Lh(function(){var r=Bu(e,1);if(r!==null){var i=ya();Pc(r,e,1,i)}}),HD(e,1)}};pD=function(e){if(e.tag===13){var t=Bu(e,134217728);if(t!==null){var n=ya();Pc(t,e,134217728,n)}HD(e,134217728)}};F9=function(e){if(e.tag===13){var t=tf(e),n=Bu(e,t);if(n!==null){var r=ya();Pc(n,e,t,r)}HD(e,t)}};P9=function(){return gr};U9=function(e,t){var n=gr;try{return gr=e,t()}finally{gr=n}};PC=function(e,t,n){switch(t){case"input":if(AC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Lw(r);if(!i)throw Error(lt(90));p9(r),AC(r,i)}}}break;case"textarea":g9(e,n);break;case"select":t=n.value,t!=null&&vm(e,!!n.multiple,t,!1)}};T9=VD;E9=Lh;var Xne={usingClientEntryPoint:!1,Events:[ay,tm,Lw,w9,_9,VD]},bg={findFiberByHostInstance:fh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yne={bundleType:bg.bundleType,version:bg.version,rendererPackageName:bg.rendererPackageName,rendererConfig:bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C9(e),e===null?null:e.stateNode},findFiberByHostInstance:bg.findFiberByHostInstance||Qne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_1.isDisabled&&_1.supportsFiber)try{Ow=_1.inject(Yne),Nl=_1}catch{}}Ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xne;Ao.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QD(t))throw Error(lt(200));return Gne(e,t,null,n)};Ao.createRoot=function(e,t){if(!QD(e))throw Error(lt(299));var n=!1,r="",i=sB;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$D(e,1,!1,null,null,n,!1,r,i),e[Mu]=t.current,Qx(e.nodeType===8?e.parentNode:e),new GD(t)};Ao.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=C9(t),e=e===null?null:e.stateNode,e};Ao.flushSync=function(e){return Lh(e)};Ao.hydrate=function(e,t,n){if(!Gw(t))throw Error(lt(200));return Qw(null,e,t,!0,n)};Ao.hydrateRoot=function(e,t,n){if(!QD(e))throw Error(lt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sB;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=iB(t,null,e,1,n??null,i,!1,s,o),e[Mu]=t.current,Qx(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hw(t)};Ao.render=function(e,t,n){if(!Gw(t))throw Error(lt(200));return Qw(null,e,t,!1,n)};Ao.unmountComponentAtNode=function(e){if(!Gw(e))throw Error(lt(40));return e._reactRootContainer?(Lh(function(){Qw(null,null,e,!1,function(){e._reactRootContainer=null,e[Mu]=null})}),!0):!1};Ao.unstable_batchedUpdates=VD;Ao.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gw(n))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return Qw(e,t,n,!1,r)};Ao.version="18.3.1-next-f1338f8080-20240426";function aB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aB)}catch(e){console.error(e)}}aB(),a9.exports=Ao;var cp=a9.exports;const Zne=Iw(cp);var $R=cp;_C.createRoot=$R.createRoot,_C.hydrateRoot=$R.hydrateRoot;var Kw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jne={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Fd,JA,BM,ere=(BM=class{constructor(){Un(this,Fd,Jne);Un(this,JA,!1)}setTimeoutProvider(e){an(this,Fd,e)}setTimeout(e,t){return Ye(this,Fd).setTimeout(e,t)}clearTimeout(e){Ye(this,Fd).clearTimeout(e)}setInterval(e,t){return Ye(this,Fd).setInterval(e,t)}clearInterval(e){Ye(this,Fd).clearInterval(e)}},Fd=new WeakMap,JA=new WeakMap,BM),mk=new ere;function tre(e){setTimeout(e,0)}var Xw=typeof window>"u"||"Deno"in globalThis;function _c(){}function nre(e,t){return typeof e=="function"?e(t):e}function rre(e){return typeof e=="number"&&e>=0&&e!==1/0}function ire(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gk(e,t){return typeof e=="function"?e(t):e}function sre(e,t){return typeof e=="function"?e(t):e}function HR(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:c}=e;if(o){if(r){if(t.queryHash!==KD(o,t.options))return!1}else if(!iv(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||s&&!s(t))}function GR(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(rv(t.options.mutationKey)!==rv(s))return!1}else if(!iv(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function KD(e,t){return((t==null?void 0:t.queryKeyHashFn)||rv)(e)}function rv(e){return JSON.stringify(e,(t,n)=>xk(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function iv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>iv(e[n],t[n])):!1}var are=Object.prototype.hasOwnProperty;function oB(e,t){if(e===t)return e;const n=QR(e)&&QR(t);if(!n&&!(xk(e)&&xk(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,c=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u],f=e[d],h=t[d];if(f===h){c[d]=f,(n?u<i:are.call(e,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){c[d]=h;continue}const p=oB(f,h);c[d]=p,p===f&&l++}return i===o&&l===i?e:c}function QR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xk(e){if(!KR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!KR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function KR(e){return Object.prototype.toString.call(e)==="[object Object]"}function ore(e){return new Promise(t=>{mk.setTimeout(t,e)})}function cre(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?oB(e,t):t}function lre(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ure(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var XD=Symbol();function cB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===XD?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var bh,Pd,Um,VM,dre=(VM=class extends Kw{constructor(){super();Un(this,bh);Un(this,Pd);Un(this,Um);an(this,Um,t=>{if(!Xw&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ye(this,Pd)||this.setEventListener(Ye(this,Um))}onUnsubscribe(){var t;this.hasListeners()||((t=Ye(this,Pd))==null||t.call(this),an(this,Pd,void 0))}setEventListener(t){var n;an(this,Um,t),(n=Ye(this,Pd))==null||n.call(this),an(this,Pd,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Ye(this,bh)!==t&&(an(this,bh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ye(this,bh)=="boolean"?Ye(this,bh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bh=new WeakMap,Pd=new WeakMap,Um=new WeakMap,VM),lB=new dre;function fre(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var hre=tre;function pre(){let e=[],t=0,n=c=>{c()},r=c=>{c()},i=hre;const s=c=>{t?e.push(c):i(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(l=>{n(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||o()}return l},batchCalls:c=>(...l)=>{s(()=>{c(...l)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var da=pre(),Lm,Ud,Mm,WM,mre=(WM=class extends Kw{constructor(){super();Un(this,Lm,!0);Un(this,Ud);Un(this,Mm);an(this,Mm,t=>{if(!Xw&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ye(this,Ud)||this.setEventListener(Ye(this,Mm))}onUnsubscribe(){var t;this.hasListeners()||((t=Ye(this,Ud))==null||t.call(this),an(this,Ud,void 0))}setEventListener(t){var n;an(this,Mm,t),(n=Ye(this,Ud))==null||n.call(this),an(this,Ud,t(this.setOnline.bind(this)))}setOnline(t){Ye(this,Lm)!==t&&(an(this,Lm,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Ye(this,Lm)}},Lm=new WeakMap,Ud=new WeakMap,Mm=new WeakMap,WM),d2=new mre;function gre(e){return Math.min(1e3*2**e,3e4)}function uB(e){return(e??"online")==="online"?d2.isOnline():!0}var vk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dB(e){let t=!1,n=0,r;const i=fre(),s=()=>i.status!=="pending",o=m=>{var g;if(!s()){const v=new vk(m);h(v),(g=e.onCancel)==null||g.call(e,v)}},c=()=>{t=!0},l=()=>{t=!1},u=()=>lB.isFocused()&&(e.networkMode==="always"||d2.isOnline())&&e.canRun(),d=()=>uB(e.networkMode)&&e.canRun(),f=m=>{s()||(r==null||r(),i.resolve(m))},h=m=>{s()||(r==null||r(),i.reject(m))},p=()=>new Promise(m=>{var g;r=v=>{(s()||u())&&m(v)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;r=void 0,s()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(s())return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var C;if(s())return;const x=e.retry??(Xw?0:3),b=e.retryDelay??gre,w=typeof b=="function"?b(n,v):b,T=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!T){h(v);return}n++,(C=e.onFail)==null||C.call(e,n,v),ore(w).then(()=>u()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?y():p().then(y),i)}}var wh,qM,fB=(qM=class{constructor(){Un(this,wh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rre(this.gcTime)&&an(this,wh,mk.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xw?1/0:5*60*1e3))}clearGcTimeout(){Ye(this,wh)&&(mk.clearTimeout(Ye(this,wh)),an(this,wh,void 0))}},wh=new WeakMap,qM),_h,Bm,Ho,Th,Ji,ey,Eh,Tc,yu,zM,xre=(zM=class extends fB{constructor(n){super();Un(this,Tc);Un(this,_h);Un(this,Bm);Un(this,Ho);Un(this,Th);Un(this,Ji);Un(this,ey);Un(this,Eh);an(this,Eh,!1),an(this,ey,n.defaultOptions),this.setOptions(n.options),this.observers=[],an(this,Th,n.client),an(this,Ho,Ye(this,Th).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,an(this,_h,YR(this.options)),this.state=n.state??Ye(this,_h),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Ye(this,Ji))==null?void 0:n.promise}setOptions(n){if(this.options={...Ye(this,ey),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=YR(this.options);r.data!==void 0&&(this.setState(XR(r.data,r.dataUpdatedAt)),an(this,_h,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ye(this,Ho).remove(this)}setData(n,r){const i=cre(this.state.data,n,this.options);return Ss(this,Tc,yu).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ss(this,Tc,yu).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=Ye(this,Ji))==null?void 0:i.promise;return(s=Ye(this,Ji))==null||s.cancel(n),r?r.then(_c).catch(_c):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ye(this,_h))}isActive(){return this.observers.some(n=>sre(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>gk(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ire(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Ye(this,Ji))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Ye(this,Ji))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Ye(this,Ho).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Ye(this,Ji)&&(Ye(this,Eh)?Ye(this,Ji).cancel({revert:!0}):Ye(this,Ji).cancelRetry()),this.scheduleGc()),Ye(this,Ho).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ss(this,Tc,yu).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,f,h,p,y,m,g,v,x,b,w;if(this.state.fetchStatus!=="idle"&&((u=Ye(this,Ji))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ye(this,Ji))return Ye(this,Ji).continueRetry(),Ye(this,Ji).promise}if(n&&this.setOptions(n),!this.options.queryFn){const T=this.observers.find(C=>C.options.queryFn);T&&this.setOptions(T.options)}const i=new AbortController,s=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(an(this,Eh,!0),i.signal)})},o=()=>{const T=cB(this.options,r),_=(()=>{const N={client:Ye(this,Th),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return an(this,Eh,!1),this.options.persister?this.options.persister(T,_,this):T(_)},l=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ye(this,Th),state:this.state,fetchFn:o};return s(T),T})();(d=this.options.behavior)==null||d.onFetch(l,this),an(this,Bm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Ss(this,Tc,yu).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),an(this,Ji,dB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:T=>{T instanceof vk&&T.revert&&this.setState({...Ye(this,Bm),fetchStatus:"idle"}),i.abort()},onFail:(T,C)=>{Ss(this,Tc,yu).call(this,{type:"failed",failureCount:T,error:C})},onPause:()=>{Ss(this,Tc,yu).call(this,{type:"pause"})},onContinue:()=>{Ss(this,Tc,yu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const T=await Ye(this,Ji).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(y=(p=Ye(this,Ho).config).onSuccess)==null||y.call(p,T,this),(g=(m=Ye(this,Ho).config).onSettled)==null||g.call(m,T,this.state.error,this),T}catch(T){if(T instanceof vk){if(T.silent)return Ye(this,Ji).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Ss(this,Tc,yu).call(this,{type:"error",error:T}),(x=(v=Ye(this,Ho).config).onError)==null||x.call(v,T,this),(w=(b=Ye(this,Ho).config).onSettled)==null||w.call(b,this.state.data,T,this),T}finally{this.scheduleGc()}}},_h=new WeakMap,Bm=new WeakMap,Ho=new WeakMap,Th=new WeakMap,Ji=new WeakMap,ey=new WeakMap,Eh=new WeakMap,Tc=new WeakSet,yu=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...vre(i.data,this.options),fetchMeta:n.meta??null};case"success":const s={...i,...XR(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return an(this,Bm,n.manual?s:void 0),s;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),da.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Ye(this,Ho).notify({query:this,type:"updated",action:n})})},zM);function vre(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function XR(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function YR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function ZR(e){return{onFetch:(t,n)=>{var d,f,h,p,y;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=cB(t.options,t.fetchOptions),x=async(b,w,T)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:w,direction:T?"backward":"forward",meta:t.options.meta};return g(D),D})(),N=await v(_),{maxPages:k}=t.options,j=T?ure:lre;return{pages:j(b.pages,N,k),pageParams:j(b.pageParams,w,k)}};if(i&&s.length){const b=i==="backward",w=b?yre:JR,T={pages:s,pageParams:o},C=w(r,T);c=await x(T,C,b)}else{const b=e??s.length;do{const w=l===0?o[0]??r.initialPageParam:JR(r,c);if(l>0&&w==null)break;c=await x(c,w),l++}while(l<b)}return c};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function JR(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function yre(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ty,hl,ia,Nh,pl,yd,$M,bre=($M=class extends fB{constructor(n){super();Un(this,pl);Un(this,ty);Un(this,hl);Un(this,ia);Un(this,Nh);an(this,ty,n.client),this.mutationId=n.mutationId,an(this,ia,n.mutationCache),an(this,hl,[]),this.state=n.state||wre(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Ye(this,hl).includes(n)||(Ye(this,hl).push(n),this.clearGcTimeout(),Ye(this,ia).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){an(this,hl,Ye(this,hl).filter(r=>r!==n)),this.scheduleGc(),Ye(this,ia).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Ye(this,hl).length||(this.state.status==="pending"?this.scheduleGc():Ye(this,ia).remove(this))}continue(){var n;return((n=Ye(this,Nh))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var c,l,u,d,f,h,p,y,m,g,v,x,b,w,T,C,_,N,k,j;const r=()=>{Ss(this,pl,yd).call(this,{type:"continue"})},i={client:Ye(this,ty),meta:this.options.meta,mutationKey:this.options.mutationKey};an(this,Nh,dB({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(D,E)=>{Ss(this,pl,yd).call(this,{type:"failed",failureCount:D,error:E})},onPause:()=>{Ss(this,pl,yd).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ye(this,ia).canRun(this)}));const s=this.state.status==="pending",o=!Ye(this,Nh).canStart();try{if(s)r();else{Ss(this,pl,yd).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(c=Ye(this,ia).config).onMutate)==null?void 0:l.call(c,n,this,i));const E=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,i));E!==this.state.context&&Ss(this,pl,yd).call(this,{type:"pending",context:E,variables:n,isPaused:o})}const D=await Ye(this,Nh).start();return await((h=(f=Ye(this,ia).config).onSuccess)==null?void 0:h.call(f,D,n,this.state.context,this,i)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,D,n,this.state.context,i)),await((g=(m=Ye(this,ia).config).onSettled)==null?void 0:g.call(m,D,null,this.state.variables,this.state.context,this,i)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,D,null,n,this.state.context,i)),Ss(this,pl,yd).call(this,{type:"success",data:D}),D}catch(D){try{throw await((w=(b=Ye(this,ia).config).onError)==null?void 0:w.call(b,D,n,this.state.context,this,i)),await((C=(T=this.options).onError)==null?void 0:C.call(T,D,n,this.state.context,i)),await((N=(_=Ye(this,ia).config).onSettled)==null?void 0:N.call(_,void 0,D,this.state.variables,this.state.context,this,i)),await((j=(k=this.options).onSettled)==null?void 0:j.call(k,void 0,D,n,this.state.context,i)),D}finally{Ss(this,pl,yd).call(this,{type:"error",error:D})}}finally{Ye(this,ia).runNext(this)}}},ty=new WeakMap,hl=new WeakMap,ia=new WeakMap,Nh=new WeakMap,pl=new WeakSet,yd=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),da.batch(()=>{Ye(this,hl).forEach(i=>{i.onMutationUpdate(n)}),Ye(this,ia).notify({mutation:this,type:"updated",action:n})})},$M);function wre(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _u,Ec,ny,HM,_re=(HM=class extends Kw{constructor(t={}){super();Un(this,_u);Un(this,Ec);Un(this,ny);this.config=t,an(this,_u,new Set),an(this,Ec,new Map),an(this,ny,0)}build(t,n,r){const i=new bre({client:t,mutationCache:this,mutationId:++s1(this,ny)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){Ye(this,_u).add(t);const n=T1(t);if(typeof n=="string"){const r=Ye(this,Ec).get(n);r?r.push(t):Ye(this,Ec).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ye(this,_u).delete(t)){const n=T1(t);if(typeof n=="string"){const r=Ye(this,Ec).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&Ye(this,Ec).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=T1(t);if(typeof n=="string"){const r=Ye(this,Ec).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=T1(t);if(typeof n=="string"){const i=(r=Ye(this,Ec).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){da.batch(()=>{Ye(this,_u).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ye(this,_u).clear(),Ye(this,Ec).clear()})}getAll(){return Array.from(Ye(this,_u))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>GR(n,r))}findAll(t={}){return this.getAll().filter(n=>GR(t,n))}notify(t){da.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return da.batch(()=>Promise.all(t.map(n=>n.continue().catch(_c))))}},_u=new WeakMap,Ec=new WeakMap,ny=new WeakMap,HM);function T1(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ml,GM,Tre=(GM=class extends Kw{constructor(t={}){super();Un(this,ml);this.config=t,an(this,ml,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??KD(i,n);let o=this.get(s);return o||(o=new xre({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Ye(this,ml).has(t.queryHash)||(Ye(this,ml).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ye(this,ml).get(t.queryHash);n&&(t.destroy(),n===t&&Ye(this,ml).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){da.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ye(this,ml).get(t)}getAll(){return[...Ye(this,ml).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>HR(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>HR(t,r)):n}notify(t){da.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){da.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){da.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ml=new WeakMap,GM),oi,Ld,Md,Vm,Wm,Bd,qm,zm,QM,Ere=(QM=class{constructor(e={}){Un(this,oi);Un(this,Ld);Un(this,Md);Un(this,Vm);Un(this,Wm);Un(this,Bd);Un(this,qm);Un(this,zm);an(this,oi,e.queryCache||new Tre),an(this,Ld,e.mutationCache||new _re),an(this,Md,e.defaultOptions||{}),an(this,Vm,new Map),an(this,Wm,new Map),an(this,Bd,0)}mount(){s1(this,Bd)._++,Ye(this,Bd)===1&&(an(this,qm,lB.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ye(this,oi).onFocus())})),an(this,zm,d2.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ye(this,oi).onOnline())})))}unmount(){var e,t;s1(this,Bd)._--,Ye(this,Bd)===0&&((e=Ye(this,qm))==null||e.call(this),an(this,qm,void 0),(t=Ye(this,zm))==null||t.call(this),an(this,zm,void 0))}isFetching(e){return Ye(this,oi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ye(this,Ld).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ye(this,oi).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ye(this,oi).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(gk(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ye(this,oi).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Ye(this,oi).get(r.queryHash),s=i==null?void 0:i.state.data,o=nre(t,s);if(o!==void 0)return Ye(this,oi).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return da.batch(()=>Ye(this,oi).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ye(this,oi).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ye(this,oi);da.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ye(this,oi);return da.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=da.batch(()=>Ye(this,oi).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(_c).catch(_c)}invalidateQueries(e,t={}){return da.batch(()=>(Ye(this,oi).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=da.batch(()=>Ye(this,oi).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(_c)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(_c)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ye(this,oi).build(this,t);return n.isStaleByTime(gk(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_c).catch(_c)}fetchInfiniteQuery(e){return e.behavior=ZR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_c).catch(_c)}ensureInfiniteQueryData(e){return e.behavior=ZR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return d2.isOnline()?Ye(this,Ld).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ye(this,oi)}getMutationCache(){return Ye(this,Ld)}getDefaultOptions(){return Ye(this,Md)}setDefaultOptions(e){an(this,Md,e)}setQueryDefaults(e,t){Ye(this,Vm).set(rv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ye(this,Vm).values()],n={};return t.forEach(r=>{iv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Ye(this,Wm).set(rv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ye(this,Wm).values()],n={};return t.forEach(r=>{iv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ye(this,Md).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=KD(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===XD&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ye(this,Md).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ye(this,oi).clear(),Ye(this,Ld).clear()}},oi=new WeakMap,Ld=new WeakMap,Md=new WeakMap,Vm=new WeakMap,Wm=new WeakMap,Bd=new WeakMap,qm=new WeakMap,zm=new WeakMap,QM),Nre=A.createContext(void 0),Sre=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Nre.Provider,{value:e,children:t})),eO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Cre=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},pB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,c=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,d=s>>2,f=(s&3)<<4|c>>4;let h=(c&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hB(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Cre(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],c=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||c==null||u==null||f==null)throw new kre;const h=s<<2|c>>4;if(r.push(h),u!==64){const p=c<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Are=function(e){const t=hB(e);return pB.encodeByteArray(t,!0)},f2=function(e){return Are(e).replace(/\./g,"")},mB=function(e){try{return pB.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=()=>Dre().__FIREBASE_DEFAULTS__,Ire=()=>{if(typeof process>"u"||typeof eO>"u")return;const e=eO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Rre=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mB(e[1]);return t&&JSON.parse(t)},Yw=()=>{try{return jre()||Ire()||Rre()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gB=e=>{var t,n;return(n=(t=Yw())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},xB=e=>{const t=gB(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vB=()=>{var e;return(e=Yw())===null||e===void 0?void 0:e.config},yB=e=>{var t;return(t=Yw())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f2(JSON.stringify(n)),f2(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hs())}function Pre(){var e;const t=(e=Yw())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ure(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lre(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Mre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bre(){const e=Hs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vre(){return!Pre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wre(){try{return typeof indexedDB=="object"}catch{return!1}}function qre(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre="FirebaseError";class Xl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zre,Object.setPrototypeOf(this,Xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cy.prototype.create)}}class cy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?$re(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Xl(i,c,r)}}function $re(e,t){return e.replace(Hre,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Hre=/\{\$([^}]+)}/g;function Gre(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function h2(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(tO(s)&&tO(o)){if(!h2(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $g(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Hg(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qre(e,t){const n=new Kre(e,t);return n.subscribe.bind(n)}class Kre{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xre(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=eN),i.error===void 0&&(i.error=eN),i.complete===void 0&&(i.complete=eN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xre(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function eN(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){return e&&e._delegate?e._delegate:e}class pf{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ore;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jre(t))try{this.getOrInitializeService({instanceIdentifier:ih})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ih){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ih){return this.instances.has(t)}getOptions(t=ih){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zre(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ih){return this.component?this.component.multipleInstances?t:ih:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zre(e){return e===ih?void 0:e}function Jre(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yre(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vn||(Vn={}));const tie={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},nie=Vn.INFO,rie={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},iie=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rie[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class YD{constructor(t){this.name=t,this._logLevel=nie,this._logHandler=iie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tie[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...t),this._logHandler(this,Vn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...t),this._logHandler(this,Vn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...t),this._logHandler(this,Vn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...t),this._logHandler(this,Vn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...t),this._logHandler(this,Vn.ERROR,...t)}}const sie=(e,t)=>t.some(n=>e instanceof n);let nO,rO;function aie(){return nO||(nO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oie(){return rO||(rO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wB=new WeakMap,yk=new WeakMap,_B=new WeakMap,tN=new WeakMap,ZD=new WeakMap;function cie(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(rf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wB.set(n,e)}).catch(()=>{}),ZD.set(t,e),t}function lie(e){if(yk.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});yk.set(e,t)}let bk={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return yk.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_B.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function uie(e){bk=e(bk)}function die(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nN(this),t,...n);return _B.set(r,t.sort?t.sort():[t]),rf(r)}:oie().includes(e)?function(...t){return e.apply(nN(this),t),rf(wB.get(this))}:function(...t){return rf(e.apply(nN(this),t))}}function fie(e){return typeof e=="function"?die(e):(e instanceof IDBTransaction&&lie(e),sie(e,aie())?new Proxy(e,bk):e)}function rf(e){if(e instanceof IDBRequest)return cie(e);if(tN.has(e))return tN.get(e);const t=fie(e);return t!==e&&(tN.set(e,t),ZD.set(t,e)),t}const nN=e=>ZD.get(e);function hie(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),c=rf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(rf(o.result),l.oldVersion,l.newVersion,rf(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const pie=["get","getKey","getAll","getAllKeys","count"],mie=["put","add","delete","clear"],rN=new Map;function iO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rN.get(t))return rN.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pie.includes(n)))return;const s=async function(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&l.done]))[0]};return rN.set(t,s),s}uie(e=>({...e,get:(t,n,r)=>iO(t,n)||e.get(t,n,r),has:(t,n)=>!!iO(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xie(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wk="@firebase/app",sO="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new YD("@firebase/app"),vie="@firebase/app-compat",yie="@firebase/analytics-compat",bie="@firebase/analytics",wie="@firebase/app-check-compat",_ie="@firebase/app-check",Tie="@firebase/auth",Eie="@firebase/auth-compat",Nie="@firebase/database",Sie="@firebase/data-connect",Cie="@firebase/database-compat",kie="@firebase/functions",Aie="@firebase/functions-compat",Die="@firebase/installations",jie="@firebase/installations-compat",Iie="@firebase/messaging",Rie="@firebase/messaging-compat",Oie="@firebase/performance",Fie="@firebase/performance-compat",Pie="@firebase/remote-config",Uie="@firebase/remote-config-compat",Lie="@firebase/storage",Mie="@firebase/storage-compat",Bie="@firebase/firestore",Vie="@firebase/vertexai-preview",Wie="@firebase/firestore-compat",qie="firebase",zie="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="[DEFAULT]",$ie={[wk]:"fire-core",[vie]:"fire-core-compat",[bie]:"fire-analytics",[yie]:"fire-analytics-compat",[_ie]:"fire-app-check",[wie]:"fire-app-check-compat",[Tie]:"fire-auth",[Eie]:"fire-auth-compat",[Nie]:"fire-rtdb",[Sie]:"fire-data-connect",[Cie]:"fire-rtdb-compat",[kie]:"fire-fn",[Aie]:"fire-fn-compat",[Die]:"fire-iid",[jie]:"fire-iid-compat",[Iie]:"fire-fcm",[Rie]:"fire-fcm-compat",[Oie]:"fire-perf",[Fie]:"fire-perf-compat",[Pie]:"fire-rc",[Uie]:"fire-rc-compat",[Lie]:"fire-gcs",[Mie]:"fire-gcs-compat",[Bie]:"fire-fst",[Wie]:"fire-fst-compat",[Vie]:"fire-vertex","fire-js":"fire-js",[qie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Map,Hie=new Map,Tk=new Map;function aO(e,t){try{e.container.addComponent(t)}catch(n){Wu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mh(e){const t=e.name;if(Tk.has(t))return Wu.debug(`There were multiple attempts to register component ${t}.`),!1;Tk.set(t,e);for(const n of p2.values())aO(n,e);for(const n of Hie.values())aO(n,e);return!0}function Zw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yo(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sf=new cy("app","Firebase",Gie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=zie;function TB(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:_k,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw sf.create("bad-app-name",{appName:String(i)});if(n||(n=vB()),!n)throw sf.create("no-options");const s=p2.get(i);if(s){if(h2(n,s.options)&&h2(r,s.config))return s;throw sf.create("duplicate-app",{appName:i})}const o=new eie(i);for(const l of Tk.values())o.addComponent(l);const c=new Qie(n,r,o);return p2.set(i,c),c}function JD(e=_k){const t=p2.get(e);if(!t&&e===_k&&vB())return TB();if(!t)throw sf.create("no-app",{appName:e});return t}function Cl(e,t,n){var r;let i=(r=$ie[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wu.warn(c.join(" "));return}Mh(new pf(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie="firebase-heartbeat-database",Xie=1,sv="firebase-heartbeat-store";let iN=null;function EB(){return iN||(iN=hie(Kie,Xie,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(sv)}catch(n){console.warn(n)}}}}).catch(e=>{throw sf.create("idb-open",{originalErrorMessage:e.message})})),iN}async function Yie(e){try{const n=(await EB()).transaction(sv),r=await n.objectStore(sv).get(NB(e));return await n.done,r}catch(t){if(t instanceof Xl)Wu.warn(t.message);else{const n=sf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wu.warn(n.message)}}}async function oO(e,t){try{const r=(await EB()).transaction(sv,"readwrite");await r.objectStore(sv).put(t,NB(e)),await r.done}catch(n){if(n instanceof Xl)Wu.warn(n.message);else{const r=sf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wu.warn(r.message)}}}function NB(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie=1024,Jie=30*24*60*60*1e3;class ese{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cO();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Jie}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wu.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cO(),{heartbeatsToSend:r,unsentEntries:i}=tse(this._heartbeatsCache.heartbeats),s=f2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wu.warn(n),""}}}function cO(){return new Date().toISOString().substring(0,10)}function tse(e,t=Zie){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lO(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lO(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nse{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wre()?qre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oO(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oO(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function lO(e){return f2(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(e){Mh(new pf("platform-logger",t=>new gie(t),"PRIVATE")),Mh(new pf("heartbeat",t=>new ese(t),"PRIVATE")),Cl(wk,sO,e),Cl(wk,sO,"esm2017"),Cl("fire-js","")}rse("");var vl=function(){return vl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vl.apply(this,arguments)};function uy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ise(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function SB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sse=SB,CB=new cy("auth","Firebase",SB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new YD("@firebase/auth");function ase(e,...t){m2.logLevel<=Vn.WARN&&m2.warn(`Auth (${lp}): ${e}`,...t)}function Tb(e,...t){m2.logLevel<=Vn.ERROR&&m2.error(`Auth (${lp}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(e,...t){throw tj(e,...t)}function Uc(e,...t){return tj(e,...t)}function ej(e,t,n){const r=Object.assign(Object.assign({},sse()),{[t]:n});return new cy("auth","Firebase",r).create(t,{appName:e.name})}function kl(e){return ej(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kB(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&ac(e,"argument-error"),ej(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tj(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return CB.create(e,...t)}function nn(e,t,...n){if(!e)throw tj(t,...n)}function Nu(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tb(t),new Error(t)}function qu(e,t){e||Nu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ose(){return uO()==="http:"||uO()==="https:"}function uO(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ose()||Lre()||"connection"in navigator)?navigator.onLine:!0}function lse(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,n){this.shortDelay=t,this.longDelay=n,qu(n>t,"Short delay should be less than long delay!"),this.isMobile=Fre()||Mre()}get(){return cse()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(e,t){qu(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const use={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse=new dy(3e4,6e4);function Rf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Of(e,t,n,r,i={}){return DB(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const c=ly(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return Ure()||(u.referrerPolicy="no-referrer"),AB.fetch()(jB(e,e.config.apiHost,n,c),u)})}async function DB(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},use),t);try{const i=new hse(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw E1(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw E1(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw E1(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw E1(e,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ej(e,d,u);ac(e,d)}}catch(i){if(i instanceof Xl)throw i;ac(e,"network-request-failed",{message:String(i)})}}async function fy(e,t,n,r,i={}){const s=await Of(e,t,n,r,i);return"mfaPendingCredential"in s&&ac(e,"multi-factor-auth-required",{_serverResponse:s}),s}function jB(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?nj(e.config,i):`${e.config.apiScheme}://${i}`}function fse(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hse{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Uc(this.auth,"network-request-failed")),dse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function E1(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Uc(e,t,r);return i.customData._tokenResponse=n,i}function dO(e){return e!==void 0&&e.enterprise!==void 0}class pse{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fse(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function mse(e,t){return Of(e,"GET","/v2/recaptchaConfig",Rf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gse(e,t){return Of(e,"POST","/v1/accounts:delete",t)}async function IB(e,t){return Of(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xse(e,t=!1){const n=Qr(e),r=await n.getIdToken(t),i=rj(r);nn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xx(sN(i.auth_time)),issuedAtTime:xx(sN(i.iat)),expirationTime:xx(sN(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sN(e){return Number(e)*1e3}function rj(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Tb("JWT malformed, contained fewer than 3 sections"),null;try{const i=mB(n);return i?JSON.parse(i):(Tb("Failed to decode base64 JWT payload"),null)}catch(i){return Tb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fO(e){const t=rj(e);return nn(t,"internal-error"),nn(typeof t.exp<"u","internal-error"),nn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function av(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Xl&&vse(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function vse({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xx(this.lastLoginAt),this.creationTime=xx(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(e){var t;const n=e.auth,r=await e.getIdToken(),i=await av(e,IB(n,{idToken:r}));nn(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?RB(s.providerUserInfo):[],c=wse(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(c!=null&&c.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Nk(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function bse(e){const t=Qr(e);await g2(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wse(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function RB(e){return e.map(t=>{var{providerId:n}=t,r=uy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _se(e,t){const n=await DB(e,{},async()=>{const r=ly({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=jB(e,i,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",AB.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tse(e,t){return Of(e,"POST","/v2/accounts:revokeToken",Rf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nn(t.idToken,"internal-error"),nn(typeof t.idToken<"u","internal-error"),nn(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){nn(t.length!==0,"internal-error");const n=fO(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _se(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Em;return r&&(nn(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(nn(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(nn(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Em,this.toJSON())}_performRefresh(){return Nu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(e,t){nn(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Su{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=uy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await av(this,this.stsTokenManager.getToken(this.auth,t));return nn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return xse(this,t)}reload(){return bse(this)}_assign(t){this!==t&&(nn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Su(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await g2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yo(this.auth.app))return Promise.reject(kl(this.auth));const t=await this.getIdToken();return await av(this,gse(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,c,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(c=n.tenantId)!==null&&c!==void 0?c:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:w,isAnonymous:T,providerData:C,stsTokenManager:_}=n;nn(b&&_,t,"internal-error");const N=Em.fromJSON(this.name,_);nn(typeof b=="string",t,"internal-error"),hd(f,t.name),hd(h,t.name),nn(typeof w=="boolean",t,"internal-error"),nn(typeof T=="boolean",t,"internal-error"),hd(p,t.name),hd(y,t.name),hd(m,t.name),hd(g,t.name),hd(v,t.name),hd(x,t.name);const k=new Su({uid:b,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:p,tenantId:m,stsTokenManager:N,createdAt:v,lastLoginAt:x});return C&&Array.isArray(C)&&(k.providerData=C.map(j=>Object.assign({},j))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new Em;i.updateFromServerResponse(n);const s=new Su({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await g2(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];nn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RB(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Em;c.updateFromIdToken(r);const l=new Su({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nk(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Map;function Cu(e){qu(e instanceof Function,"Expected a class definition");let t=hO.get(e);return t?(qu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hO.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OB.type="NONE";const pO=OB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(e,t,n){return`firebase:${e}:${t}:${n}`}class Nm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eb(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Su._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Nm(Cu(pO),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cu(pO);const o=Eb(r,t.config.apiKey,t.name);let c=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Su._fromJSON(t,d);u!==s&&(c=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nm(s,t,r):(s=l[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Nm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LB(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FB(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BB(t))return"Blackberry";if(VB(t))return"Webos";if(PB(t))return"Safari";if((t.includes("chrome/")||UB(t))&&!t.includes("edge/"))return"Chrome";if(MB(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FB(e=Hs()){return/firefox\//i.test(e)}function PB(e=Hs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UB(e=Hs()){return/crios\//i.test(e)}function LB(e=Hs()){return/iemobile/i.test(e)}function MB(e=Hs()){return/android/i.test(e)}function BB(e=Hs()){return/blackberry/i.test(e)}function VB(e=Hs()){return/webos/i.test(e)}function ij(e=Hs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ese(e=Hs()){var t;return ij(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Nse(){return Bre()&&document.documentMode===10}function WB(e=Hs()){return ij(e)||MB(e)||VB(e)||BB(e)||/windows phone/i.test(e)||LB(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(e,t=[]){let n;switch(e){case"Browser":n=mO(Hs());break;case"Worker":n=`${mO(Hs())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,c)=>{try{const l=t(s);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cse(e,t={}){return Of(e,"GET","/v2/passwordPolicy",Rf(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse=6;class Ase{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kse,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gO(this),this.idTokenSubscription=new gO(this),this.beforeStateQueue=new Sse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Cu(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await IB(this,{idToken:t}),r=await Su._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Yo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===c)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await g2(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lse()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yo(this.app))return Promise.reject(kl(this));const n=t?Qr(t):null;return n&&nn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&nn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yo(this.app)?Promise.reject(kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yo(this.app)?Promise.reject(kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cu(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Cse(this),n=new Ase(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new cy("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tse(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Cu(t)||this._popupRedirectResolver;nn(n,this,"argument-error"),this.redirectPersistenceManager=await Nm.create(this,[Cu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nn(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&ase(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function td(e){return Qr(e)}class gO{constructor(t){this.auth=t,this.observer=null,this.addObserver=Qre(n=>this.observer=n)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jse(e){Jw=e}function zB(e){return Jw.loadJS(e)}function Ise(){return Jw.recaptchaEnterpriseScript}function Rse(){return Jw.gapiScript}function Ose(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const Fse="recaptcha-enterprise",Pse="NO_RECAPTCHA";class Use{constructor(t){this.type=Fse,this.auth=td(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{mse(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new pse(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{c(l)})})}function i(s,o,c){const l=window.grecaptcha;dO(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(Pse)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&dO(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ise();l.length!==0&&(l+=c),zB(l).then(()=>{i(c,s,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function xO(e,t,n,r=!1){const i=new Use(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Sk(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xO(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xO(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(e,t){const n=Zw(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(h2(s,t??{}))return i;ac(i,"already-initialized")}return n.initialize({options:t})}function Mse(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cu);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Bse(e,t,n){const r=td(e);nn(r._canInitEmulator,r,"emulator-config-failed"),nn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=$B(t),{host:o,port:c}=Vse(t),l=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Wse()}function $B(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vse(e){const t=$B(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vO(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:vO(o)}}}function vO(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Wse(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Nu("not implemented")}_getIdTokenResponse(t){return Nu("not implemented")}_linkToIdToken(t,n){return Nu("not implemented")}_getReauthenticationResolver(t){return Nu("not implemented")}}async function qse(e,t){return Of(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zse(e,t){return fy(e,"POST","/v1/accounts:signInWithPassword",Rf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $se(e,t){return fy(e,"POST","/v1/accounts:signInWithEmailLink",Rf(e,t))}async function Hse(e,t){return fy(e,"POST","/v1/accounts:signInWithEmailLink",Rf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends sj{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new ov(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ov(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sk(t,n,"signInWithPassword",zse);case"emailLink":return $se(t,{email:this._email,oobCode:this._password});default:ac(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sk(t,r,"signUpPassword",qse);case"emailLink":return Hse(t,{idToken:n,email:this._email,oobCode:this._password});default:ac(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(e,t){return fy(e,"POST","/v1/accounts:signInWithIdp",Rf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse="http://localhost";class Bh extends sj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ac("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=uy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Sm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Sm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Sm(t,n)}buildRequest(){const t={requestUri:Gse,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ly(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qse(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kse(e){const t=$g(Hg(e)).link,n=t?$g(Hg(t)).deep_link_id:null,r=$g(Hg(e)).deep_link_id;return(r?$g(Hg(r)).link:null)||r||n||t||e}class aj{constructor(t){var n,r,i,s,o,c;const l=$g(Hg(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Qse((i=l.mode)!==null&&i!==void 0?i:null);nn(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=Kse(t);try{return new aj(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.providerId=j0.PROVIDER_ID}static credential(t,n){return ov._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=aj.parseLink(n);return nn(r,"argument-error"),ov._fromEmailAndCode(t,r.code,r.tenantId)}}j0.PROVIDER_ID="password";j0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";j0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends hy{constructor(){super("facebook.com")}static credential(t){return Bh._fromParams({providerId:Ad.PROVIDER_ID,signInMethod:Ad.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ad.credentialFromTaggedObject(t)}static credentialFromError(t){return Ad.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ad.credential(t.oauthAccessToken)}catch{return null}}}Ad.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ad.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends hy{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bh._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yl.credentialFromTaggedObject(t)}static credentialFromError(t){return yl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return yl.credential(n,r)}catch{return null}}}yl.GOOGLE_SIGN_IN_METHOD="google.com";yl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends hy{constructor(){super("github.com")}static credential(t){return Bh._fromParams({providerId:Dd.PROVIDER_ID,signInMethod:Dd.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dd.credentialFromTaggedObject(t)}static credentialFromError(t){return Dd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dd.credential(t.oauthAccessToken)}catch{return null}}}Dd.GITHUB_SIGN_IN_METHOD="github.com";Dd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends hy{constructor(){super("twitter.com")}static credential(t,n){return Bh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jd.credentialFromTaggedObject(t)}static credentialFromError(t){return jd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return jd.credential(n,r)}catch{return null}}}jd.TWITTER_SIGN_IN_METHOD="twitter.com";jd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xse(e,t){return fy(e,"POST","/v1/accounts:signUp",Rf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Su._fromIdTokenResponse(t,r,i),o=yO(r);return new Vh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=yO(r);return new Vh({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function yO(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2 extends Xl{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,x2.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new x2(t,n,r,i)}}function HB(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?x2._fromErrorAndOperation(e,s,t,r):s})}async function Yse(e,t,n=!1){const r=await av(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Vh._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zse(e,t,n=!1){const{auth:r}=e;if(Yo(r.app))return Promise.reject(kl(r));const i="reauthenticate";try{const s=await av(e,HB(r,i,t,e),n);nn(s.idToken,r,"internal-error");const o=rj(s.idToken);nn(o,r,"internal-error");const{sub:c}=o;return nn(e.uid===c,r,"user-mismatch"),Vh._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ac(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(e,t,n=!1){if(Yo(e.app))return Promise.reject(kl(e));const r="signIn",i=await HB(e,r,t),s=await Vh._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Jse(e,t){return GB(td(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(e){const t=td(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eae(e,t,n){if(Yo(e.app))return Promise.reject(kl(e));const r=td(e),o=await Sk(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xse).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QB(e),l}),c=await Vh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function tae(e,t,n){return Yo(e.app)?Promise.reject(kl(e)):Jse(Qr(e),j0.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QB(e),r})}function nae(e,t,n,r){return Qr(e).onIdTokenChanged(t,n,r)}function rae(e,t,n){return Qr(e).beforeAuthStateChanged(t,n)}function iae(e,t,n,r){return Qr(e).onAuthStateChanged(t,n,r)}function sae(e){return Qr(e).signOut()}const v2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(v2,"1"),this.storage.removeItem(v2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=1e3,oae=10;class XB extends KB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Nse()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,oae):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},aae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XB.type="LOCAL";const cae=XB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB extends KB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}YB.type="SESSION";const ZB=YB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new t_(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async u=>u(n.origin,s)),l=await lae(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{const u=oj("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return window}function dae(e){Al().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(){return typeof Al().WorkerGlobalScope<"u"&&typeof Al().importScripts=="function"}async function fae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hae(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function pae(){return JB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="firebaseLocalStorageDb",mae=1,y2="firebaseLocalStorage",tV="fbase_key";class py{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function n_(e,t){return e.transaction([y2],t?"readwrite":"readonly").objectStore(y2)}function gae(){const e=indexedDB.deleteDatabase(eV);return new py(e).toPromise()}function Ck(){const e=indexedDB.open(eV,mae);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(y2,{keyPath:tV})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(y2)?t(r):(r.close(),await gae(),t(await Ck()))})})}async function bO(e,t,n){const r=n_(e,!0).put({[tV]:t,value:n});return new py(r).toPromise()}async function xae(e,t){const n=n_(e,!1).get(t),r=await new py(n).toPromise();return r===void 0?null:r.value}function wO(e,t){const n=n_(e,!0).delete(t);return new py(n).toPromise()}const vae=800,yae=3;class nV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ck(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>yae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t_._getInstance(pae()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await fae(),!this.activeServiceWorker)return;this.sender=new uae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ck();return await bO(t,v2,"1"),await wO(t,v2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bO(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>xae(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wO(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=n_(i,!1).getAll();return new py(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nV.type="LOCAL";const bae=nV;new dy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(e,t){return t?Cu(t):(nn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj extends sj{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function wae(e){return GB(e.auth,new lj(e),e.bypassAuthState)}function _ae(e){const{auth:t,user:n}=e;return nn(n,t,"internal-error"),Zse(n,new lj(e),e.bypassAuthState)}async function Tae(e){const{auth:t,user:n}=e;return nn(n,t,"internal-error"),Yse(n,new lj(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wae;case"linkViaPopup":case"linkViaRedirect":return Tae;case"reauthViaPopup":case"reauthViaRedirect":return _ae;default:ac(this.auth,"internal-error")}}resolve(t){qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae=new dy(2e3,1e4);async function Nae(e,t,n){if(Yo(e.app))return Promise.reject(Uc(e,"operation-not-supported-in-this-environment"));const r=td(e);kB(e,t,e_);const i=cj(r,n);return new mh(r,"signInViaPopup",t,i).executeNotNull()}class mh extends rV{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mh.currentPopupAction&&mh.currentPopupAction.cancel(),mh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nn(t,this.auth,"internal-error"),t}async onExecution(){qu(this.filter.length===1,"Popup operations only handle one event");const t=oj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Uc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Uc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Uc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Eae.get())};t()}}mh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae="pendingRedirect",Nb=new Map;class Cae extends rV{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Nb.get(this.auth._key());if(!t){try{const r=await kae(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Nb.set(this.auth._key(),t)}return this.bypassAuthState||Nb.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kae(e,t){const n=sV(t),r=iV(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Aae(e,t){return iV(e)._set(sV(t),"true")}function Dae(e,t){Nb.set(e._key(),t)}function iV(e){return Cu(e._redirectPersistence)}function sV(e){return Eb(Sae,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e,t,n){return jae(e,t,n)}async function jae(e,t,n){if(Yo(e.app))return Promise.reject(kl(e));const r=td(e);kB(e,t,e_),await r._initializationPromise;const i=cj(r,n);return await Aae(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function Iae(e,t,n=!1){if(Yo(e.app))return Promise.reject(kl(e));const r=td(e),i=cj(r,t),o=await new Cae(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=10*60*1e3;class Oae{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Fae(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!aV(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Uc(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rae&&this.cachedEventUids.clear(),this.cachedEventUids.has(TO(t))}saveEventToCache(t){this.cachedEventUids.add(TO(t)),this.lastProcessedEventTime=Date.now()}}function TO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function aV({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Fae(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aV(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pae(e,t={}){return Of(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lae=/^https?/;async function Mae(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Pae(e);for(const n of t)try{if(Bae(n))return}catch{}ac(e,"unauthorized-domain")}function Bae(e){const t=Ek(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Lae.test(n))return!1;if(Uae.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vae=new dy(3e4,6e4);function EO(){const e=Al().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Wae(e){return new Promise((t,n)=>{var r,i,s;function o(){EO(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{EO(),n(Uc(e,"network-request-failed"))},timeout:Vae.get()})}if(!((i=(r=Al().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Al().gapi)===null||s===void 0)&&s.load)o();else{const c=Ose("iframefcb");return Al()[c]=()=>{gapi.load?o():n(Uc(e,"network-request-failed"))},zB(`${Rse()}?onload=${c}`).catch(l=>n(l))}}).catch(t=>{throw Sb=null,t})}let Sb=null;function qae(e){return Sb=Sb||Wae(e),Sb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae=new dy(5e3,15e3),$ae="__/auth/iframe",Hae="emulator/auth/iframe",Gae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kae(e){const t=e.config;nn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?nj(t,Hae):`https://${e.config.authDomain}/${$ae}`,r={apiKey:t.apiKey,appName:e.name,v:lp},i=Qae.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ly(r).slice(1)}`}async function Xae(e){const t=await qae(e),n=Al().gapi;return nn(n,e,"internal-error"),t.open({where:document.body,url:Kae(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gae,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Uc(e,"network-request-failed"),c=Al().setTimeout(()=>{s(o)},zae.get());function l(){Al().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zae=500,Jae=600,eoe="_blank",toe="http://localhost";class NO{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function noe(e,t,n,r=Zae,i=Jae){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},Yae),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Hs().toLowerCase();n&&(c=UB(u)?eoe:n),FB(u)&&(t=t||toe,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(Ese(u)&&c!=="_self")return roe(t||"",c),new NO(null);const f=window.open(t||"",c,d);nn(f,e,"popup-blocked");try{f.focus()}catch{}return new NO(f)}function roe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe="__/auth/handler",soe="emulator/auth/handler",aoe=encodeURIComponent("fac");async function SO(e,t,n,r,i,s){nn(e.config.authDomain,e,"auth-domain-config-required"),nn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lp,eventId:i};if(t instanceof e_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Gre(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof hy){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const c=o;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];const l=await e._getAppCheckToken(),u=l?`#${aoe}=${encodeURIComponent(l)}`:"";return`${ooe(e)}?${ly(c).slice(1)}${u}`}function ooe({config:e}){return e.emulator?nj(e,soe):`https://${e.authDomain}/${ioe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="webStorageSupport";class coe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZB,this._completeRedirectFn=Iae,this._overrideRedirectResult=Dae}async _openPopup(t,n,r,i){var s;qu((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await SO(t,n,r,Ek(),i);return noe(t,o,oj())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await SO(t,n,r,Ek(),i);return dae(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Xae(t),r=new Oae(t);return n.register("authEvent",i=>(nn(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(aN,{type:aN},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[aN];o!==void 0&&n(!!o),ac(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Mae(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return WB()||PB()||ij()}}const loe=coe;var CO="@firebase/auth",kO="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function foe(e){Mh(new pf("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;nn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qB(e)},u=new Dse(r,i,s,l);return Mse(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Mh(new pf("auth-internal",t=>{const n=td(t.getProvider("auth").getImmediate());return(r=>new uoe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cl(CO,kO,doe(e)),Cl(CO,kO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe=5*60,poe=yB("authIdTokenMaxAge")||hoe;let AO=null;const moe=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>poe)return;const i=n==null?void 0:n.token;AO!==i&&(AO=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function goe(e=JD()){const t=Zw(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Lse(e,{popupRedirectResolver:loe,persistence:[bae,cae,ZB]}),r=yB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=moe(s.toString());rae(n,o,()=>o(n.currentUser)),nae(n,c=>o(c))}}const i=gB("auth");return i&&Bse(n,`http://${i}`),n}function xoe(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}jse({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Uc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xoe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});foe("Browser");var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kh,oV;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,N){function k(){}k.prototype=N.prototype,_.D=N.prototype,_.prototype=new k,_.prototype.constructor=_,_.C=function(j,D,E){for(var I=Array(arguments.length-2),R=2;R<arguments.length;R++)I[R-2]=arguments[R];return N.prototype[D].apply(j,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,N,k){k||(k=0);var j=Array(16);if(typeof N=="string")for(var D=0;16>D;++D)j[D]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(D=0;16>D;++D)j[D]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=_.g[0],k=_.g[1],D=_.g[2];var E=_.g[3],I=N+(E^k&(D^E))+j[0]+3614090360&4294967295;N=k+(I<<7&4294967295|I>>>25),I=E+(D^N&(k^D))+j[1]+3905402710&4294967295,E=N+(I<<12&4294967295|I>>>20),I=D+(k^E&(N^k))+j[2]+606105819&4294967295,D=E+(I<<17&4294967295|I>>>15),I=k+(N^D&(E^N))+j[3]+3250441966&4294967295,k=D+(I<<22&4294967295|I>>>10),I=N+(E^k&(D^E))+j[4]+4118548399&4294967295,N=k+(I<<7&4294967295|I>>>25),I=E+(D^N&(k^D))+j[5]+1200080426&4294967295,E=N+(I<<12&4294967295|I>>>20),I=D+(k^E&(N^k))+j[6]+2821735955&4294967295,D=E+(I<<17&4294967295|I>>>15),I=k+(N^D&(E^N))+j[7]+4249261313&4294967295,k=D+(I<<22&4294967295|I>>>10),I=N+(E^k&(D^E))+j[8]+1770035416&4294967295,N=k+(I<<7&4294967295|I>>>25),I=E+(D^N&(k^D))+j[9]+2336552879&4294967295,E=N+(I<<12&4294967295|I>>>20),I=D+(k^E&(N^k))+j[10]+4294925233&4294967295,D=E+(I<<17&4294967295|I>>>15),I=k+(N^D&(E^N))+j[11]+2304563134&4294967295,k=D+(I<<22&4294967295|I>>>10),I=N+(E^k&(D^E))+j[12]+1804603682&4294967295,N=k+(I<<7&4294967295|I>>>25),I=E+(D^N&(k^D))+j[13]+4254626195&4294967295,E=N+(I<<12&4294967295|I>>>20),I=D+(k^E&(N^k))+j[14]+2792965006&4294967295,D=E+(I<<17&4294967295|I>>>15),I=k+(N^D&(E^N))+j[15]+1236535329&4294967295,k=D+(I<<22&4294967295|I>>>10),I=N+(D^E&(k^D))+j[1]+4129170786&4294967295,N=k+(I<<5&4294967295|I>>>27),I=E+(k^D&(N^k))+j[6]+3225465664&4294967295,E=N+(I<<9&4294967295|I>>>23),I=D+(N^k&(E^N))+j[11]+643717713&4294967295,D=E+(I<<14&4294967295|I>>>18),I=k+(E^N&(D^E))+j[0]+3921069994&4294967295,k=D+(I<<20&4294967295|I>>>12),I=N+(D^E&(k^D))+j[5]+3593408605&4294967295,N=k+(I<<5&4294967295|I>>>27),I=E+(k^D&(N^k))+j[10]+38016083&4294967295,E=N+(I<<9&4294967295|I>>>23),I=D+(N^k&(E^N))+j[15]+3634488961&4294967295,D=E+(I<<14&4294967295|I>>>18),I=k+(E^N&(D^E))+j[4]+3889429448&4294967295,k=D+(I<<20&4294967295|I>>>12),I=N+(D^E&(k^D))+j[9]+568446438&4294967295,N=k+(I<<5&4294967295|I>>>27),I=E+(k^D&(N^k))+j[14]+3275163606&4294967295,E=N+(I<<9&4294967295|I>>>23),I=D+(N^k&(E^N))+j[3]+4107603335&4294967295,D=E+(I<<14&4294967295|I>>>18),I=k+(E^N&(D^E))+j[8]+1163531501&4294967295,k=D+(I<<20&4294967295|I>>>12),I=N+(D^E&(k^D))+j[13]+2850285829&4294967295,N=k+(I<<5&4294967295|I>>>27),I=E+(k^D&(N^k))+j[2]+4243563512&4294967295,E=N+(I<<9&4294967295|I>>>23),I=D+(N^k&(E^N))+j[7]+1735328473&4294967295,D=E+(I<<14&4294967295|I>>>18),I=k+(E^N&(D^E))+j[12]+2368359562&4294967295,k=D+(I<<20&4294967295|I>>>12),I=N+(k^D^E)+j[5]+4294588738&4294967295,N=k+(I<<4&4294967295|I>>>28),I=E+(N^k^D)+j[8]+2272392833&4294967295,E=N+(I<<11&4294967295|I>>>21),I=D+(E^N^k)+j[11]+1839030562&4294967295,D=E+(I<<16&4294967295|I>>>16),I=k+(D^E^N)+j[14]+4259657740&4294967295,k=D+(I<<23&4294967295|I>>>9),I=N+(k^D^E)+j[1]+2763975236&4294967295,N=k+(I<<4&4294967295|I>>>28),I=E+(N^k^D)+j[4]+1272893353&4294967295,E=N+(I<<11&4294967295|I>>>21),I=D+(E^N^k)+j[7]+4139469664&4294967295,D=E+(I<<16&4294967295|I>>>16),I=k+(D^E^N)+j[10]+3200236656&4294967295,k=D+(I<<23&4294967295|I>>>9),I=N+(k^D^E)+j[13]+681279174&4294967295,N=k+(I<<4&4294967295|I>>>28),I=E+(N^k^D)+j[0]+3936430074&4294967295,E=N+(I<<11&4294967295|I>>>21),I=D+(E^N^k)+j[3]+3572445317&4294967295,D=E+(I<<16&4294967295|I>>>16),I=k+(D^E^N)+j[6]+76029189&4294967295,k=D+(I<<23&4294967295|I>>>9),I=N+(k^D^E)+j[9]+3654602809&4294967295,N=k+(I<<4&4294967295|I>>>28),I=E+(N^k^D)+j[12]+3873151461&4294967295,E=N+(I<<11&4294967295|I>>>21),I=D+(E^N^k)+j[15]+530742520&4294967295,D=E+(I<<16&4294967295|I>>>16),I=k+(D^E^N)+j[2]+3299628645&4294967295,k=D+(I<<23&4294967295|I>>>9),I=N+(D^(k|~E))+j[0]+4096336452&4294967295,N=k+(I<<6&4294967295|I>>>26),I=E+(k^(N|~D))+j[7]+1126891415&4294967295,E=N+(I<<10&4294967295|I>>>22),I=D+(N^(E|~k))+j[14]+2878612391&4294967295,D=E+(I<<15&4294967295|I>>>17),I=k+(E^(D|~N))+j[5]+4237533241&4294967295,k=D+(I<<21&4294967295|I>>>11),I=N+(D^(k|~E))+j[12]+1700485571&4294967295,N=k+(I<<6&4294967295|I>>>26),I=E+(k^(N|~D))+j[3]+2399980690&4294967295,E=N+(I<<10&4294967295|I>>>22),I=D+(N^(E|~k))+j[10]+4293915773&4294967295,D=E+(I<<15&4294967295|I>>>17),I=k+(E^(D|~N))+j[1]+2240044497&4294967295,k=D+(I<<21&4294967295|I>>>11),I=N+(D^(k|~E))+j[8]+1873313359&4294967295,N=k+(I<<6&4294967295|I>>>26),I=E+(k^(N|~D))+j[15]+4264355552&4294967295,E=N+(I<<10&4294967295|I>>>22),I=D+(N^(E|~k))+j[6]+2734768916&4294967295,D=E+(I<<15&4294967295|I>>>17),I=k+(E^(D|~N))+j[13]+1309151649&4294967295,k=D+(I<<21&4294967295|I>>>11),I=N+(D^(k|~E))+j[4]+4149444226&4294967295,N=k+(I<<6&4294967295|I>>>26),I=E+(k^(N|~D))+j[11]+3174756917&4294967295,E=N+(I<<10&4294967295|I>>>22),I=D+(N^(E|~k))+j[2]+718787259&4294967295,D=E+(I<<15&4294967295|I>>>17),I=k+(E^(D|~N))+j[9]+3951481745&4294967295,_.g[0]=_.g[0]+N&4294967295,_.g[1]=_.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,_.g[2]=_.g[2]+D&4294967295,_.g[3]=_.g[3]+E&4294967295}r.prototype.u=function(_,N){N===void 0&&(N=_.length);for(var k=N-this.blockSize,j=this.B,D=this.h,E=0;E<N;){if(D==0)for(;E<=k;)i(this,_,E),E+=this.blockSize;if(typeof _=="string"){for(;E<N;)if(j[D++]=_.charCodeAt(E++),D==this.blockSize){i(this,j),D=0;break}}else for(;E<N;)if(j[D++]=_[E++],D==this.blockSize){i(this,j),D=0;break}}this.h=D,this.o+=N},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var N=1;N<_.length-8;++N)_[N]=0;var k=8*this.o;for(N=_.length-8;N<_.length;++N)_[N]=k&255,k/=256;for(this.u(_),_=Array(16),N=k=0;4>N;++N)for(var j=0;32>j;j+=8)_[k++]=this.g[N]>>>j&255;return _};function s(_,N){var k=c;return Object.prototype.hasOwnProperty.call(k,_)?k[_]:k[_]=N(_)}function o(_,N){this.h=N;for(var k=[],j=!0,D=_.length-1;0<=D;D--){var E=_[D]|0;j&&E==N||(k[D]=E,j=!1)}this.g=k}var c={};function l(_){return-128<=_&&128>_?s(_,function(N){return new o([N|0],0>N?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return g(u(-_));for(var N=[],k=1,j=0;_>=k;j++)N[j]=_/k|0,k*=4294967296;return new o(N,0)}function d(_,N){if(_.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(_.charAt(0)=="-")return g(d(_.substring(1),N));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(N,8)),j=f,D=0;D<_.length;D+=8){var E=Math.min(8,_.length-D),I=parseInt(_.substring(D,D+E),N);8>E?(E=u(Math.pow(N,E)),j=j.j(E).add(u(I))):(j=j.j(k),j=j.add(u(I)))}return j}var f=l(0),h=l(1),p=l(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var _=0,N=1,k=0;k<this.g.length;k++){var j=this.i(k);_+=(0<=j?j:4294967296+j)*N,N*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(m(this))return"-"+g(this).toString(_);for(var N=u(Math.pow(_,6)),k=this,j="";;){var D=w(k,N).g;k=v(k,D.j(N));var E=((0<k.g.length?k.g[0]:k.h)>>>0).toString(_);if(k=D,y(k))return E+j;for(;6>E.length;)E="0"+E;j=E+j}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(var N=0;N<_.g.length;N++)if(_.g[N]!=0)return!1;return!0}function m(_){return _.h==-1}e.l=function(_){return _=v(this,_),m(_)?-1:y(_)?0:1};function g(_){for(var N=_.g.length,k=[],j=0;j<N;j++)k[j]=~_.g[j];return new o(k,~_.h).add(h)}e.abs=function(){return m(this)?g(this):this},e.add=function(_){for(var N=Math.max(this.g.length,_.g.length),k=[],j=0,D=0;D<=N;D++){var E=j+(this.i(D)&65535)+(_.i(D)&65535),I=(E>>>16)+(this.i(D)>>>16)+(_.i(D)>>>16);j=I>>>16,E&=65535,I&=65535,k[D]=I<<16|E}return new o(k,k[k.length-1]&-2147483648?-1:0)};function v(_,N){return _.add(g(N))}e.j=function(_){if(y(this)||y(_))return f;if(m(this))return m(_)?g(this).j(g(_)):g(g(this).j(_));if(m(_))return g(this.j(g(_)));if(0>this.l(p)&&0>_.l(p))return u(this.m()*_.m());for(var N=this.g.length+_.g.length,k=[],j=0;j<2*N;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(var D=0;D<_.g.length;D++){var E=this.i(j)>>>16,I=this.i(j)&65535,R=_.i(D)>>>16,V=_.i(D)&65535;k[2*j+2*D]+=I*V,x(k,2*j+2*D),k[2*j+2*D+1]+=E*V,x(k,2*j+2*D+1),k[2*j+2*D+1]+=I*R,x(k,2*j+2*D+1),k[2*j+2*D+2]+=E*R,x(k,2*j+2*D+2)}for(j=0;j<N;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=N;j<2*N;j++)k[j]=0;return new o(k,0)};function x(_,N){for(;(_[N]&65535)!=_[N];)_[N+1]+=_[N]>>>16,_[N]&=65535,N++}function b(_,N){this.g=_,this.h=N}function w(_,N){if(y(N))throw Error("division by zero");if(y(_))return new b(f,f);if(m(_))return N=w(g(_),N),new b(g(N.g),g(N.h));if(m(N))return N=w(_,g(N)),new b(g(N.g),N.h);if(30<_.g.length){if(m(_)||m(N))throw Error("slowDivide_ only works with positive integers.");for(var k=h,j=N;0>=j.l(_);)k=T(k),j=T(j);var D=C(k,1),E=C(j,1);for(j=C(j,2),k=C(k,2);!y(j);){var I=E.add(j);0>=I.l(_)&&(D=D.add(k),E=I),j=C(j,1),k=C(k,1)}return N=v(_,D.j(N)),new b(D,N)}for(D=f;0<=_.l(N);){for(k=Math.max(1,Math.floor(_.m()/N.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),E=u(k),I=E.j(N);m(I)||0<I.l(_);)k-=j,E=u(k),I=E.j(N);y(E)&&(E=h),D=D.add(E),_=v(_,I)}return new b(D,_)}e.A=function(_){return w(this,_).h},e.and=function(_){for(var N=Math.max(this.g.length,_.g.length),k=[],j=0;j<N;j++)k[j]=this.i(j)&_.i(j);return new o(k,this.h&_.h)},e.or=function(_){for(var N=Math.max(this.g.length,_.g.length),k=[],j=0;j<N;j++)k[j]=this.i(j)|_.i(j);return new o(k,this.h|_.h)},e.xor=function(_){for(var N=Math.max(this.g.length,_.g.length),k=[],j=0;j<N;j++)k[j]=this.i(j)^_.i(j);return new o(k,this.h^_.h)};function T(_){for(var N=_.g.length+1,k=[],j=0;j<N;j++)k[j]=_.i(j)<<1|_.i(j-1)>>>31;return new o(k,_.h)}function C(_,N){var k=N>>5;N%=32;for(var j=_.g.length-k,D=[],E=0;E<j;E++)D[E]=0<N?_.i(E+k)>>>N|_.i(E+k+1)<<32-N:_.i(E+k);return new o(D,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,kh=o}).apply(typeof DO<"u"?DO:typeof self<"u"?self:typeof window<"u"?window:{});var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cV,Gg,lV,Cb,kk,uV,dV,fV;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,q,ee){return S==Array.prototype||S==Object.prototype||(S[q]=ee.value),S};function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof N1=="object"&&N1];for(var q=0;q<S.length;++q){var ee=S[q];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}var r=n(this);function i(S,q){if(q)e:{var ee=r;S=S.split(".");for(var be=0;be<S.length-1;be++){var Ve=S[be];if(!(Ve in ee))break e;ee=ee[Ve]}S=S[S.length-1],be=ee[S],q=q(be),q!=be&&q!=null&&t(ee,S,{configurable:!0,writable:!0,value:q})}}function s(S,q){S instanceof String&&(S+="");var ee=0,be=!1,Ve={next:function(){if(!be&&ee<S.length){var Ge=ee++;return{value:q(Ge,S[Ge]),done:!1}}return be=!0,{done:!0,value:void 0}}};return Ve[Symbol.iterator]=function(){return Ve},Ve}i("Array.prototype.values",function(S){return S||function(){return s(this,function(q,ee){return ee})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function l(S){var q=typeof S;return q=q!="object"?q:S?Array.isArray(S)?"array":q:"null",q=="array"||q=="object"&&typeof S.length=="number"}function u(S){var q=typeof S;return q=="object"&&S!=null||q=="function"}function d(S,q,ee){return S.call.apply(S.bind,arguments)}function f(S,q,ee){if(!S)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var Ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ve,be),S.apply(q,Ve)}}return function(){return S.apply(q,arguments)}}function h(S,q,ee){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(S,q){var ee=Array.prototype.slice.call(arguments,1);return function(){var be=ee.slice();return be.push.apply(be,arguments),S.apply(this,be)}}function y(S,q){function ee(){}ee.prototype=q.prototype,S.aa=q.prototype,S.prototype=new ee,S.prototype.constructor=S,S.Qb=function(be,Ve,Ge){for(var mt=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)mt[rr-2]=arguments[rr];return q.prototype[Ve].apply(be,mt)}}function m(S){const q=S.length;if(0<q){const ee=Array(q);for(let be=0;be<q;be++)ee[be]=S[be];return ee}return[]}function g(S,q){for(let ee=1;ee<arguments.length;ee++){const be=arguments[ee];if(l(be)){const Ve=S.length||0,Ge=be.length||0;S.length=Ve+Ge;for(let mt=0;mt<Ge;mt++)S[Ve+mt]=be[mt]}else S.push(be)}}class v{constructor(q,ee){this.i=q,this.j=ee,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function x(S){return/^[\s\xa0]*$/.test(S)}function b(){var S=c.navigator;return S&&(S=S.userAgent)?S:""}function w(S){return w[" "](S),S}w[" "]=function(){};var T=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function C(S,q,ee){for(const be in S)q.call(ee,S[be],be,S)}function _(S,q){for(const ee in S)q.call(void 0,S[ee],ee,S)}function N(S){const q={};for(const ee in S)q[ee]=S[ee];return q}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(S,q){let ee,be;for(let Ve=1;Ve<arguments.length;Ve++){be=arguments[Ve];for(ee in be)S[ee]=be[ee];for(let Ge=0;Ge<k.length;Ge++)ee=k[Ge],Object.prototype.hasOwnProperty.call(be,ee)&&(S[ee]=be[ee])}}function D(S){var q=1;S=S.split(":");const ee=[];for(;0<q&&S.length;)ee.push(S.shift()),q--;return S.length&&ee.push(S.join(":")),ee}function E(S){c.setTimeout(()=>{throw S},0)}function I(){var S=P;let q=null;return S.g&&(q=S.g,S.g=S.g.next,S.g||(S.h=null),q.next=null),q}class R{constructor(){this.h=this.g=null}add(q,ee){const be=V.get();be.set(q,ee),this.h?this.h.next=be:this.g=be,this.h=be}}var V=new v(()=>new M,S=>S.reset());class M{constructor(){this.next=this.g=this.h=null}set(q,ee){this.h=q,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let H,G=!1,P=new R,W=()=>{const S=c.Promise.resolve(void 0);H=()=>{S.then(F)}};var F=()=>{for(var S;S=I();){try{S.h.call(S.g)}catch(ee){E(ee)}var q=V;q.j(S),100>q.h&&(q.h++,S.next=q.g,q.g=S)}G=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(S,q){this.type=S,this.g=this.target=q,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var S=!1,q=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const ee=()=>{};c.addEventListener("test",ee,q),c.removeEventListener("test",ee,q)}catch{}return S}();function Q(S,q){if(L.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var ee=this.type=S.type,be=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=q,q=S.relatedTarget){if(T){e:{try{w(q.nodeName);var Ve=!0;break e}catch{}Ve=!1}Ve||(q=null)}}else ee=="mouseover"?q=S.fromElement:ee=="mouseout"&&(q=S.toElement);this.relatedTarget=q,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:U[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Q.aa.h.call(this)}}y(Q,L);var U={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),pe=0;function me(S,q,ee,be,Ve){this.listener=S,this.proxy=null,this.src=q,this.type=ee,this.capture=!!be,this.ha=Ve,this.key=++pe,this.da=this.fa=!1}function ye(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Fe(S){this.src=S,this.g={},this.h=0}Fe.prototype.add=function(S,q,ee,be,Ve){var Ge=S.toString();S=this.g[Ge],S||(S=this.g[Ge]=[],this.h++);var mt=ve(S,q,be,Ve);return-1<mt?(q=S[mt],ee||(q.fa=!1)):(q=new me(q,this.src,Ge,!!be,Ve),q.fa=ee,S.push(q)),q};function Y(S,q){var ee=q.type;if(ee in S.g){var be=S.g[ee],Ve=Array.prototype.indexOf.call(be,q,void 0),Ge;(Ge=0<=Ve)&&Array.prototype.splice.call(be,Ve,1),Ge&&(ye(q),S.g[ee].length==0&&(delete S.g[ee],S.h--))}}function ve(S,q,ee,be){for(var Ve=0;Ve<S.length;++Ve){var Ge=S[Ve];if(!Ge.da&&Ge.listener==q&&Ge.capture==!!ee&&Ge.ha==be)return Ve}return-1}var B="closure_lm_"+(1e6*Math.random()|0),_e={};function Ee(S,q,ee,be,Ve){if(Array.isArray(q)){for(var Ge=0;Ge<q.length;Ge++)Ee(S,q[Ge],ee,be,Ve);return null}return ee=ae(ee),S&&S[Z]?S.K(q,ee,u(be)?!!be.capture:!1,Ve):se(S,q,ee,!1,be,Ve)}function se(S,q,ee,be,Ve,Ge){if(!q)throw Error("Invalid event type");var mt=u(Ve)?!!Ve.capture:!!Ve,rr=oe(S);if(rr||(S[B]=rr=new Fe(S)),ee=rr.add(q,ee,be,mt,Ge),ee.proxy)return ee;if(be=J(),ee.proxy=be,be.src=S,be.listener=ee,S.addEventListener)K||(Ve=mt),Ve===void 0&&(Ve=!1),S.addEventListener(q.toString(),be,Ve);else if(S.attachEvent)S.attachEvent(ue(q.toString()),be);else if(S.addListener&&S.removeListener)S.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return ee}function J(){function S(ee){return q.call(S.src,S.listener,ee)}const q=te;return S}function de(S,q,ee,be,Ve){if(Array.isArray(q))for(var Ge=0;Ge<q.length;Ge++)de(S,q[Ge],ee,be,Ve);else be=u(be)?!!be.capture:!!be,ee=ae(ee),S&&S[Z]?(S=S.i,q=String(q).toString(),q in S.g&&(Ge=S.g[q],ee=ve(Ge,ee,be,Ve),-1<ee&&(ye(Ge[ee]),Array.prototype.splice.call(Ge,ee,1),Ge.length==0&&(delete S.g[q],S.h--)))):S&&(S=oe(S))&&(q=S.g[q.toString()],S=-1,q&&(S=ve(q,ee,be,Ve)),(ee=-1<S?q[S]:null)&&X(ee))}function X(S){if(typeof S!="number"&&S&&!S.da){var q=S.src;if(q&&q[Z])Y(q.i,S);else{var ee=S.type,be=S.proxy;q.removeEventListener?q.removeEventListener(ee,be,S.capture):q.detachEvent?q.detachEvent(ue(ee),be):q.addListener&&q.removeListener&&q.removeListener(be),(ee=oe(q))?(Y(ee,S),ee.h==0&&(ee.src=null,q[B]=null)):ye(S)}}}function ue(S){return S in _e?_e[S]:_e[S]="on"+S}function te(S,q){if(S.da)S=!0;else{q=new Q(q,this);var ee=S.listener,be=S.ha||S.src;S.fa&&X(S),S=ee.call(be,q)}return S}function oe(S){return S=S[B],S instanceof Fe?S:null}var le="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(S){return typeof S=="function"?S:(S[le]||(S[le]=function(q){return S.handleEvent(q)}),S[le])}function Te(){O.call(this),this.i=new Fe(this),this.M=this,this.F=null}y(Te,O),Te.prototype[Z]=!0,Te.prototype.removeEventListener=function(S,q,ee,be){de(this,S,q,ee,be)};function Ue(S,q){var ee,be=S.F;if(be)for(ee=[];be;be=be.F)ee.push(be);if(S=S.M,be=q.type||q,typeof q=="string")q=new L(q,S);else if(q instanceof L)q.target=q.target||S;else{var Ve=q;q=new L(be,S),j(q,Ve)}if(Ve=!0,ee)for(var Ge=ee.length-1;0<=Ge;Ge--){var mt=q.g=ee[Ge];Ve=qe(mt,be,!0,q)&&Ve}if(mt=q.g=S,Ve=qe(mt,be,!0,q)&&Ve,Ve=qe(mt,be,!1,q)&&Ve,ee)for(Ge=0;Ge<ee.length;Ge++)mt=q.g=ee[Ge],Ve=qe(mt,be,!1,q)&&Ve}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var S=this.i,q;for(q in S.g){for(var ee=S.g[q],be=0;be<ee.length;be++)ye(ee[be]);delete S.g[q],S.h--}}this.F=null},Te.prototype.K=function(S,q,ee,be){return this.i.add(String(S),q,!1,ee,be)},Te.prototype.L=function(S,q,ee,be){return this.i.add(String(S),q,!0,ee,be)};function qe(S,q,ee,be){if(q=S.i.g[String(q)],!q)return!0;q=q.concat();for(var Ve=!0,Ge=0;Ge<q.length;++Ge){var mt=q[Ge];if(mt&&!mt.da&&mt.capture==ee){var rr=mt.listener,Er=mt.ha||mt.src;mt.fa&&Y(S.i,mt),Ve=rr.call(Er,be)!==!1&&Ve}}return Ve&&!be.defaultPrevented}function nt(S,q,ee){if(typeof S=="function")ee&&(S=h(S,ee));else if(S&&typeof S.handleEvent=="function")S=h(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:c.setTimeout(S,q||0)}function Oe(S){S.g=nt(()=>{S.g=null,S.i&&(S.i=!1,Oe(S))},S.l);const q=S.h;S.h=null,S.m.apply(null,q)}class Le extends O{constructor(q,ee){super(),this.m=q,this.l=ee,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(S){O.call(this),this.h=S,this.g={}}y(Ze,O);var it=[];function Dt(S){C(S.g,function(q,ee){this.g.hasOwnProperty(ee)&&X(q)},S),S.g={}}Ze.prototype.N=function(){Ze.aa.N.call(this),Dt(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=c.JSON.stringify,Pt=c.JSON.parse,xn=class{stringify(S){return c.JSON.stringify(S,void 0)}parse(S){return c.JSON.parse(S,void 0)}};function rn(){}rn.prototype.h=null;function qn(S){return S.h||(S.h=S.i())}function sr(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jn(){L.call(this,"d")}y(Jn,L);function _n(){L.call(this,"c")}y(_n,L);var Ft={},_r=null;function Jt(){return _r=_r||new Te}Ft.La="serverreachability";function ar(S){L.call(this,Ft.La,S)}y(ar,L);function Kr(S){const q=Jt();Ue(q,new ar(q))}Ft.STAT_EVENT="statevent";function Cr(S,q){L.call(this,Ft.STAT_EVENT,S),this.stat=q}y(Cr,L);function Dn(S){const q=Jt();Ue(q,new Cr(q,S))}Ft.Ma="timingevent";function hr(S,q){L.call(this,Ft.Ma,S),this.size=q}y(hr,L);function er(S,q){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){S()},q)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function cr(S,q,ee,be,Ve,Ge){S.info(function(){if(S.g)if(Ge)for(var mt="",rr=Ge.split("&"),Er=0;Er<rr.length;Er++){var En=rr[Er].split("=");if(1<En.length){var mi=En[0];En=En[1];var Li=mi.split("_");mt=2<=Li.length&&Li[1]=="type"?mt+(mi+"="+En+"&"):mt+(mi+"=redacted&")}}else mt=null;else mt=Ge;return"XMLHTTP REQ ("+be+") [attempt "+Ve+"]: "+q+`
`+ee+`
`+mt})}function Tr(S,q,ee,be,Ve,Ge,mt){S.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+Ve+"]: "+q+`
`+ee+`
`+Ge+" "+mt})}function ce(S,q,ee,be){S.info(function(){return"XMLHTTP TEXT ("+q+"): "+xe(S,ee)+(be?" "+be:"")})}function Se(S,q){S.info(function(){return"TIMEOUT: "+q})}or.prototype.info=function(){};function xe(S,q){if(!S.g)return q;if(!q)return null;try{var ee=JSON.parse(q);if(ee){for(S=0;S<ee.length;S++)if(Array.isArray(ee[S])){var be=ee[S];if(!(2>be.length)){var Ve=be[1];if(Array.isArray(Ve)&&!(1>Ve.length)){var Ge=Ve[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(var mt=1;mt<Ve.length;mt++)Ve[mt]=""}}}}return $t(ee)}catch{return q}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fe;function Ae(){}y(Ae,rn),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},fe=new Ae;function re(S,q,ee,be){this.j=S,this.i=q,this.l=ee,this.R=be||1,this.U=new Ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var ke={},Ne={};function he(S,q,ee){S.L=1,S.v=ja(Ot(q)),S.m=ee,S.P=!0,Re(S,null)}function Re(S,q){S.F=Date.now(),Xe(S),S.A=Ot(S.v);var ee=S.A,be=S.R;Array.isArray(be)||(be=[String(be)]),Ra(ee.i,"t",be),S.C=0,ee=S.j.J,S.h=new Ce,S.g=kp(S.j,ee?q:null,!S.m),0<S.O&&(S.M=new Le(h(S.Y,S,S.g),S.O)),q=S.U,ee=S.g,be=S.ca;var Ve="readystatechange";Array.isArray(Ve)||(Ve&&(it[0]=Ve.toString()),Ve=it);for(var Ge=0;Ge<Ve.length;Ge++){var mt=Ee(ee,Ve[Ge],be||q.handleEvent,!1,q.h||q);if(!mt)break;q.g[mt.key]=mt}q=S.H?N(S.H):{},S.m?(S.u||(S.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,q)):(S.u="GET",S.g.ea(S.A,S.u,null,q)),Kr(),cr(S.i,S.u,S.A,S.l,S.R,S.m)}re.prototype.ca=function(S){S=S.target;const q=this.M;q&&Xr(S)==3?q.j():this.Y(S)},re.prototype.Y=function(S){try{if(S==this.g)e:{const Li=Xr(this.g);var q=this.g.Ba();const uu=this.g.Z();if(!(3>Li)&&(Li!=3||this.g&&(this.h.h||this.g.oa()||co(this.g)))){this.J||Li!=4||q==7||(q==8||0>=uu?Kr(3):Kr(2)),jt(this);var ee=this.g.Z();this.X=ee;t:if(We(this)){var be=co(this.g);S="";var Ve=be.length,Ge=Xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),gt(this);var mt="";break t}this.h.i=new c.TextDecoder}for(q=0;q<Ve;q++)this.h.h=!0,S+=this.h.i.decode(be[q],{stream:!(Ge&&q==Ve-1)});be.length=0,this.h.g+=S,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=ee==200,Tr(this.i,this.u,this.A,this.l,this.R,Li,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,Er=this.g;if((rr=Er.g?Er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(rr)){var En=rr;break t}}En=null}if(ee=En)ce(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,On(this,ee);else{this.o=!1,this.s=3,Dn(12),Nt(this),gt(this);break e}}if(this.P){ee=!0;let Yi;for(;!this.J&&this.C<mt.length;)if(Yi=ze(this,mt),Yi==Ne){Li==4&&(this.s=4,Dn(14),ee=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Yi==ke){this.s=4,Dn(15),ce(this.i,this.l,mt,"[Invalid Chunk]"),ee=!1;break}else ce(this.i,this.l,Yi,null),On(this,Yi);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Li!=4||mt.length!=0||this.h.h||(this.s=1,Dn(16),ee=!1),this.o=this.o&&ee,!ee)ce(this.i,this.l,mt,"[Invalid Chunked Response]"),Nt(this),gt(this);else if(0<mt.length&&!this.W){this.W=!0;var mi=this.j;mi.g==this&&mi.ba&&!mi.M&&(mi.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Qf(mi),mi.M=!0,Dn(11))}}else ce(this.i,this.l,mt,null),On(this,mt);Li==4&&Nt(this),this.o&&!this.J&&(Li==4?ng(this.j,this):(this.o=!1,Xe(this)))}else rl(this.g),ee==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Dn(12)):(this.s=0,Dn(13)),Nt(this),gt(this)}}}catch{}finally{}};function We(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function ze(S,q){var ee=S.C,be=q.indexOf(`
`,ee);return be==-1?Ne:(ee=Number(q.substring(ee,be)),isNaN(ee)?ke:(be+=1,be+ee>q.length?Ne:(q=q.slice(be,be+ee),S.C=be+ee,q)))}re.prototype.cancel=function(){this.J=!0,Nt(this)};function Xe(S){S.S=Date.now()+S.I,ot(S,S.I)}function ot(S,q){if(S.B!=null)throw Error("WatchDog timer not null");S.B=er(h(S.ba,S),q)}function jt(S){S.B&&(c.clearTimeout(S.B),S.B=null)}re.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(Se(this.i,this.A),this.L!=2&&(Kr(),Dn(17)),Nt(this),this.s=2,gt(this)):ot(this,this.S-S)};function gt(S){S.j.G==0||S.J||ng(S.j,S)}function Nt(S){jt(S);var q=S.M;q&&typeof q.ma=="function"&&q.ma(),S.M=null,Dt(S.U),S.g&&(q=S.g,S.g=null,q.abort(),q.ma())}function On(S,q){try{var ee=S.j;if(ee.G!=0&&(ee.g==S||Ur(ee.h,S))){if(!S.K&&Ur(ee.h,S)&&ee.G==3){try{var be=ee.Da.g.parse(q)}catch{be=null}if(Array.isArray(be)&&be.length==3){var Ve=be;if(Ve[0]==0){e:if(!ee.u){if(ee.g)if(ee.g.F+3e3<S.F)cu(ee),ie(ee);else break e;Po(ee),Dn(18)}}else ee.za=Ve[1],0<ee.za-ee.T&&37500>Ve[2]&&ee.F&&ee.v==0&&!ee.C&&(ee.C=er(h(ee.Za,ee),6e3));if(1>=Zs(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else il(ee,11)}else if((S.K||ee.g==S)&&cu(ee),!x(q))for(Ve=ee.Da.g.parse(q),q=0;q<Ve.length;q++){let En=Ve[q];if(ee.T=En[0],En=En[1],ee.G==2)if(En[0]=="c"){ee.K=En[1],ee.ia=En[2];const mi=En[3];mi!=null&&(ee.la=mi,ee.j.info("VER="+ee.la));const Li=En[4];Li!=null&&(ee.Aa=Li,ee.j.info("SVER="+ee.Aa));const uu=En[5];uu!=null&&typeof uu=="number"&&0<uu&&(be=1.5*uu,ee.L=be,ee.j.info("backChannelRequestTimeoutMs_="+be)),be=ee;const Yi=S.g;if(Yi){const Xf=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xf){var Ge=be.h;Ge.g||Xf.indexOf("spdy")==-1&&Xf.indexOf("quic")==-1&&Xf.indexOf("h2")==-1||(Ge.j=Ge.l,Ge.g=new Set,Ge.h&&(fc(Ge,Ge.h),Ge.h=null))}if(be.D){const La=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(be.ya=La,Pn(be.I,be.D,La))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-S.F,ee.j.info("Handshake RTT: "+ee.R+"ms")),be=ee;var mt=S;if(be.qa=rg(be,be.J?be.ia:null,be.W),mt.K){ro(be.h,mt);var rr=mt,Er=be.L;Er&&(rr.I=Er),rr.B&&(jt(rr),Xe(rr)),be.g=mt}else ai(be);0<ee.i.length&&vt(ee)}else En[0]!="stop"&&En[0]!="close"||il(ee,7);else ee.G==3&&(En[0]=="stop"||En[0]=="close"?En[0]=="stop"?il(ee,7):Je(ee):En[0]!="noop"&&ee.l&&ee.l.ta(En),ee.v=0)}}Kr(4)}catch{}}var cn=class{constructor(S,q){this.g=S,this.map=q}};function br(S){this.l=S||10,c.PerformanceNavigationTiming?(S=c.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Zs(S){return S.h?1:S.g?S.g.size:0}function Ur(S,q){return S.h?S.h==q:S.g?S.g.has(q):!1}function fc(S,q){S.g?S.g.add(q):S.h=q}function ro(S,q){S.h&&S.h==q?S.h=null:S.g&&S.g.has(q)&&S.g.delete(q)}br.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function io(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let q=S.i;for(const ee of S.g.values())q=q.concat(ee.D);return q}return m(S.i)}function Ro(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var q=[],ee=S.length,be=0;be<ee;be++)q.push(S[be]);return q}q=[],ee=0;for(be in S)q[ee++]=S[be];return q}function so(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var q=[];S=S.length;for(var ee=0;ee<S;ee++)q.push(ee);return q}q=[],ee=0;for(const be in S)q[ee++]=be;return q}}}function ao(S,q){if(S.forEach&&typeof S.forEach=="function")S.forEach(q,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,q,void 0);else for(var ee=so(S),be=Ro(S),Ve=be.length,Ge=0;Ge<Ve;Ge++)q.call(void 0,be[Ge],ee&&ee[Ge],S)}var De=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(S,q){if(S){S=S.split("&");for(var ee=0;ee<S.length;ee++){var be=S[ee].indexOf("="),Ve=null;if(0<=be){var Ge=S[ee].substring(0,be);Ve=S[ee].substring(be+1)}else Ge=S[ee];q(Ge,Ve?decodeURIComponent(Ve.replace(/\+/g," ")):"")}}}function en(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof en){this.h=S.h,Fn(this,S.j),this.o=S.o,this.g=S.g,Tn(this,S.s),this.l=S.l;var q=S.i,ee=new zn;ee.i=q.i,q.g&&(ee.g=new Map(q.g),ee.h=q.h),cs(this,ee),this.m=S.m}else S&&(q=String(S).match(De))?(this.h=!1,Fn(this,q[1]||"",!0),this.o=Ia(q[2]||""),this.g=Ia(q[3]||"",!0),Tn(this,q[4]),this.l=Ia(q[5]||"",!0),cs(this,q[6]||"",!0),this.m=Ia(q[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}en.prototype.toString=function(){var S=[],q=this.j;q&&S.push(kr(q,oo,!0),":");var ee=this.g;return(ee||q=="file")&&(S.push("//"),(q=this.o)&&S.push(kr(q,oo,!0),"@"),S.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ee=this.s,ee!=null&&S.push(":",String(ee))),(ee=this.l)&&(this.g&&ee.charAt(0)!="/"&&S.push("/"),S.push(kr(ee,ee.charAt(0)=="/"?el:hc,!0))),(ee=this.i.toString())&&S.push("?",ee),(ee=this.m)&&S.push("#",kr(ee,tu)),S.join("")};function Ot(S){return new en(S)}function Fn(S,q,ee){S.j=ee?Ia(q,!0):q,S.j&&(S.j=S.j.replace(/:$/,""))}function Tn(S,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);S.s=q}else S.s=null}function cs(S,q,ee){q instanceof zn?(S.i=q,Oa(S.i,S.h)):(ee||(q=kr(q,pr)),S.i=new zn(q,S.h))}function Pn(S,q,ee){S.i.set(q,ee)}function ja(S){return Pn(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Ia(S,q){return S?q?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function kr(S,q,ee){return typeof S=="string"?(S=encodeURI(S).replace(q,Xi),ee&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Xi(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var oo=/[#\/\?@]/g,hc=/[#\?:]/g,el=/[#\?]/g,pr=/[#\?@]/g,tu=/#/g;function zn(S,q){this.h=this.g=null,this.i=S||null,this.j=!!q}function hi(S){S.g||(S.g=new Map,S.h=0,S.i&&ht(S.i,function(q,ee){S.add(decodeURIComponent(q.replace(/\+/g," ")),ee)}))}e=zn.prototype,e.add=function(S,q){hi(this),this.i=null,S=pi(this,S);var ee=this.g.get(S);return ee||this.g.set(S,ee=[]),ee.push(q),this.h+=1,this};function Pi(S,q){hi(S),q=pi(S,q),S.g.has(q)&&(S.i=null,S.h-=S.g.get(q).length,S.g.delete(q))}function Ar(S,q){return hi(S),q=pi(S,q),S.g.has(q)}e.forEach=function(S,q){hi(this),this.g.forEach(function(ee,be){ee.forEach(function(Ve){S.call(q,Ve,be,this)},this)},this)},e.na=function(){hi(this);const S=Array.from(this.g.values()),q=Array.from(this.g.keys()),ee=[];for(let be=0;be<q.length;be++){const Ve=S[be];for(let Ge=0;Ge<Ve.length;Ge++)ee.push(q[be])}return ee},e.V=function(S){hi(this);let q=[];if(typeof S=="string")Ar(this,S)&&(q=q.concat(this.g.get(pi(this,S))));else{S=Array.from(this.g.values());for(let ee=0;ee<S.length;ee++)q=q.concat(S[ee])}return q},e.set=function(S,q){return hi(this),this.i=null,S=pi(this,S),Ar(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[q]),this.h+=1,this},e.get=function(S,q){return S?(S=this.V(S),0<S.length?String(S[0]):q):q};function Ra(S,q,ee){Pi(S,q),0<ee.length&&(S.i=null,S.g.set(pi(S,q),m(ee)),S.h+=ee.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],q=Array.from(this.g.keys());for(var ee=0;ee<q.length;ee++){var be=q[ee];const Ge=encodeURIComponent(String(be)),mt=this.V(be);for(be=0;be<mt.length;be++){var Ve=Ge;mt[be]!==""&&(Ve+="="+encodeURIComponent(String(mt[be]))),S.push(Ve)}}return this.i=S.join("&")};function pi(S,q){return q=String(q),S.j&&(q=q.toLowerCase()),q}function Oa(S,q){q&&!S.j&&(hi(S),S.i=null,S.g.forEach(function(ee,be){var Ve=be.toLowerCase();be!=Ve&&(Pi(this,be),Ra(this,Ve,ee))},S)),S.j=q}function si(S,q){const ee=new or;if(c.Image){const be=new Image;be.onload=p(mr,ee,"TestLoadImage: loaded",!0,q,be),be.onerror=p(mr,ee,"TestLoadImage: error",!1,q,be),be.onabort=p(mr,ee,"TestLoadImage: abort",!1,q,be),be.ontimeout=p(mr,ee,"TestLoadImage: timeout",!1,q,be),c.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=S}else q(!1)}function Lr(S,q){const ee=new or,be=new AbortController,Ve=setTimeout(()=>{be.abort(),mr(ee,"TestPingServer: timeout",!1,q)},1e4);fetch(S,{signal:be.signal}).then(Ge=>{clearTimeout(Ve),Ge.ok?mr(ee,"TestPingServer: ok",!0,q):mr(ee,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(Ve),mr(ee,"TestPingServer: error",!1,q)})}function mr(S,q,ee,be,Ve){try{Ve&&(Ve.onload=null,Ve.onerror=null,Ve.onabort=null,Ve.ontimeout=null),be(ee)}catch{}}function Fa(){this.g=new xn}function pn(S,q,ee){const be=ee||"";try{ao(S,function(Ve,Ge){let mt=Ve;u(Ve)&&(mt=$t(Ve)),q.push(be+Ge+"="+encodeURIComponent(mt))})}catch(Ve){throw q.push(be+"type="+encodeURIComponent("_badmap")),Ve}}function Oo(S){this.l=S.Ub||null,this.j=S.eb||!1}y(Oo,rn),Oo.prototype.g=function(){return new Fo(this.l,this.j)},Oo.prototype.i=function(S){return function(){return S}}({});function Fo(S,q){Te.call(this),this.D=S,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Fo,Te),e=Fo.prototype,e.open=function(S,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=q,this.readyState=1,Js(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(q.body=S),(this.D||c).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=0},e.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}e.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var q=S.value?S.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!S.done}))&&(this.response=this.responseText+=q)}S.done?Pa(this):Js(this),this.readyState==3&&nu(this)}},e.Ra=function(S){this.g&&(this.response=this.responseText=S,Pa(this))},e.Qa=function(S){this.g&&(this.response=S,Pa(this))},e.ga=function(){this.g&&Pa(this)};function Pa(S){S.readyState=4,S.l=null,S.j=null,S.v=null,Js(S)}e.setRequestHeader=function(S,q){this.u.append(S,q)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],q=this.h.entries();for(var ee=q.next();!ee.done;)ee=ee.value,S.push(ee[0]+": "+ee[1]),ee=q.next();return S.join(`\r
`)};function Js(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Jr(S){let q="";return C(S,function(ee,be){q+=be,q+=":",q+=ee,q+=`\r
`}),q}function tl(S,q,ee){e:{for(be in ee){var be=!1;break e}be=!0}be||(ee=Jr(ee),typeof S=="string"?ee!=null&&encodeURIComponent(String(ee)):Pn(S,q,ee))}function ur(S){Te.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ur,Te);var ru=/^https?$/i,nl=["POST","PUT"];e=ur.prototype,e.Ha=function(S){this.J=S},e.ea=function(S,q,ee,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);q=q?q.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fe.g(),this.v=this.o?qn(this.o):qn(fe),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(q,String(S),!0),this.B=!1}catch(Ge){iu(this,Ge);return}if(S=ee||"",ee=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var Ve in be)ee.set(Ve,be[Ve]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const Ge of be.keys())ee.set(Ge,be.get(Ge));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(ee.keys()).find(Ge=>Ge.toLowerCase()=="content-type"),Ve=c.FormData&&S instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nl,q,void 0))||be||Ve||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ge,mt]of ee)this.g.setRequestHeader(Ge,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ou(this),this.u=!0,this.g.send(S),this.u=!1}catch(Ge){iu(this,Ge)}};function iu(S,q){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=q,S.m=5,su(S),ea(S)}function su(S){S.A||(S.A=!0,Ue(S,"complete"),Ue(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Ue(this,"complete"),Ue(this,"abort"),ea(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ea(this,!0)),ur.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?au(this):this.bb())},e.bb=function(){au(this)};function au(S){if(S.h&&typeof o<"u"&&(!S.v[1]||Xr(S)!=4||S.Z()!=2)){if(S.u&&Xr(S)==4)nt(S.Ea,0,S);else if(Ue(S,"readystatechange"),Xr(S)==4){S.h=!1;try{const mt=S.Z();e:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var ee;if(!(ee=q)){var be;if(be=mt===0){var Ve=String(S.D).match(De)[1]||null;!Ve&&c.self&&c.self.location&&(Ve=c.self.location.protocol.slice(0,-1)),be=!ru.test(Ve?Ve.toLowerCase():"")}ee=be}if(ee)Ue(S,"complete"),Ue(S,"success");else{S.m=6;try{var Ge=2<Xr(S)?S.g.statusText:""}catch{Ge=""}S.l=Ge+" ["+S.Z()+"]",su(S)}}finally{ea(S)}}}}function ea(S,q){if(S.g){ou(S);const ee=S.g,be=S.v[0]?()=>{}:null;S.g=null,S.v=null,q||Ue(S,"ready");try{ee.onreadystatechange=be}catch{}}}function ou(S){S.I&&(c.clearTimeout(S.I),S.I=null)}e.isActive=function(){return!!this.g};function Xr(S){return S.g?S.g.readyState:0}e.Z=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(S){if(this.g){var q=this.g.responseText;return S&&q.indexOf(S)==0&&(q=q.substring(S.length)),Pt(q)}};function co(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function rl(S){const q={};S=(S.g&&2<=Xr(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<S.length;be++){if(x(S[be]))continue;var ee=D(S[be]);const Ve=ee[0];if(ee=ee[1],typeof ee!="string")continue;ee=ee.trim();const Ge=q[Ve]||[];q[Ve]=Ge,Ge.push(ee)}_(q,function(be){return be.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(S,q,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[S]||q}function Ie(S){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,S),this.cb=Ua("retryDelaySeedMs",1e4,S),this.Wa=Ua("forwardChannelMaxRetries",2,S),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new br(S&&S.concurrentRequestLimit),this.Da=new Fa,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ie.prototype,e.la=8,e.G=1,e.connect=function(S,q,ee,be){Dn(0),this.W=S,this.H=q||{},ee&&be!==void 0&&(this.H.OSID=ee,this.H.OAID=be),this.F=this.X,this.I=rg(this,null,this.W),vt(this)};function Je(S){if(Me(S),S.G==3){var q=S.U++,ee=Ot(S.I);if(Pn(ee,"SID",S.K),Pn(ee,"RID",q),Pn(ee,"TYPE","terminate"),Qt(S,ee),q=new re(S,S.j,q),q.L=2,q.v=ja(Ot(ee)),ee=!1,c.navigator&&c.navigator.sendBeacon)try{ee=c.navigator.sendBeacon(q.v.toString(),"")}catch{}!ee&&c.Image&&(new Image().src=q.v,ee=!0),ee||(q.g=kp(q.j,null),q.g.ea(q.v)),q.F=Date.now(),Xe(q)}Cp(S)}function ie(S){S.g&&(Qf(S),S.g.cancel(),S.g=null)}function Me(S){ie(S),S.u&&(c.clearTimeout(S.u),S.u=null),cu(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&c.clearTimeout(S.s),S.s=null)}function vt(S){if(!lr(S.h)&&!S.s){S.s=!0;var q=S.Ga;H||W(),G||(H(),G=!0),P.add(q,S),S.B=0}}function Gt(S,q){return Zs(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=q.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=er(h(S.Ga,S,q),Sp(S,S.B)),S.B++,!0)}e.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Ve=new re(this,this.j,S);let Ge=this.o;if(this.S&&(Ge?(Ge=N(Ge),j(Ge,this.S)):Ge=this.S),this.m!==null||this.O||(Ve.H=Ge,Ge=null),this.P)e:{for(var q=0,ee=0;ee<this.i.length;ee++){t:{var be=this.i[ee];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(q+=be,4096<q){q=ee;break e}if(q===4096||ee===this.i.length-1){q=ee+1;break e}}q=1e3}else q=1e3;q=bn(this,Ve,q),ee=Ot(this.I),Pn(ee,"RID",S),Pn(ee,"CVER",22),this.D&&Pn(ee,"X-HTTP-Session-Id",this.D),Qt(this,ee),Ge&&(this.O?q="headers="+encodeURIComponent(String(Jr(Ge)))+"&"+q:this.m&&tl(ee,this.m,Ge)),fc(this.h,Ve),this.Ua&&Pn(ee,"TYPE","init"),this.P?(Pn(ee,"$req",q),Pn(ee,"SID","null"),Ve.T=!0,he(Ve,ee,null)):he(Ve,ee,q),this.G=2}}else this.G==3&&(S?yt(this,S):this.i.length==0||lr(this.h)||yt(this))};function yt(S,q){var ee;q?ee=q.l:ee=S.U++;const be=Ot(S.I);Pn(be,"SID",S.K),Pn(be,"RID",ee),Pn(be,"AID",S.T),Qt(S,be),S.m&&S.o&&tl(be,S.m,S.o),ee=new re(S,S.j,ee,S.B+1),S.m===null&&(ee.H=S.o),q&&(S.i=q.D.concat(S.i)),q=bn(S,ee,1e3),ee.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),fc(S.h,ee),he(ee,be,q)}function Qt(S,q){S.H&&C(S.H,function(ee,be){Pn(q,be,ee)}),S.l&&ao({},function(ee,be){Pn(q,be,ee)})}function bn(S,q,ee){ee=Math.min(S.i.length,ee);var be=S.l?h(S.l.Na,S.l,S):null;e:{var Ve=S.i;let Ge=-1;for(;;){const mt=["count="+ee];Ge==-1?0<ee?(Ge=Ve[0].g,mt.push("ofs="+Ge)):Ge=0:mt.push("ofs="+Ge);let rr=!0;for(let Er=0;Er<ee;Er++){let En=Ve[Er].g;const mi=Ve[Er].map;if(En-=Ge,0>En)Ge=Math.max(0,Ve[Er].g-100),rr=!1;else try{pn(mi,mt,"req"+En+"_")}catch{be&&be(mi)}}if(rr){be=mt.join("&");break e}}}return S=S.i.splice(0,ee),q.D=S,be}function ai(S){if(!S.g&&!S.u){S.Y=1;var q=S.Fa;H||W(),G||(H(),G=!0),P.add(q,S),S.v=0}}function Po(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=er(h(S.Fa,S),Sp(S,S.v)),S.v++,!0)}e.Fa=function(){if(this.u=null,ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=er(h(this.ab,this),S)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dn(10),ie(this),ld(this))};function Qf(S){S.A!=null&&(c.clearTimeout(S.A),S.A=null)}function ld(S){S.g=new re(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var q=Ot(S.qa);Pn(q,"RID","rpc"),Pn(q,"SID",S.K),Pn(q,"AID",S.T),Pn(q,"CI",S.F?"0":"1"),!S.F&&S.ja&&Pn(q,"TO",S.ja),Pn(q,"TYPE","xmlhttp"),Qt(S,q),S.m&&S.o&&tl(q,S.m,S.o),S.L&&(S.g.I=S.L);var ee=S.g;S=S.ia,ee.L=1,ee.v=ja(Ot(q)),ee.m=null,ee.P=!0,Re(ee,S)}e.Za=function(){this.C!=null&&(this.C=null,ie(this),Po(this),Dn(19))};function cu(S){S.C!=null&&(c.clearTimeout(S.C),S.C=null)}function ng(S,q){var ee=null;if(S.g==q){cu(S),Qf(S),S.g=null;var be=2}else if(Ur(S.h,q))ee=q.D,ro(S.h,q),be=1;else return;if(S.G!=0){if(q.o)if(be==1){ee=q.m?q.m.length:0,q=Date.now()-q.F;var Ve=S.B;be=Jt(),Ue(be,new hr(be,ee)),vt(S)}else ai(S);else if(Ve=q.s,Ve==3||Ve==0&&0<q.X||!(be==1&&Gt(S,q)||be==2&&Po(S)))switch(ee&&0<ee.length&&(q=S.h,q.i=q.i.concat(ee)),Ve){case 1:il(S,5);break;case 4:il(S,10);break;case 3:il(S,6);break;default:il(S,2)}}}function Sp(S,q){let ee=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(ee*=2),ee*q}function il(S,q){if(S.j.info("Error code "+q),q==2){var ee=h(S.fb,S),be=S.Xa;const Ve=!be;be=new en(be||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fn(be,"https"),ja(be),Ve?si(be.toString(),ee):Lr(be.toString(),ee)}else Dn(2);S.G=0,S.l&&S.l.sa(q),Cp(S),Me(S)}e.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Dn(2)):(this.j.info("Failed to ping google.com"),Dn(1))};function Cp(S){if(S.G=0,S.ka=[],S.l){const q=io(S.h);(q.length!=0||S.i.length!=0)&&(g(S.ka,q),g(S.ka,S.i),S.h.i.length=0,m(S.i),S.i.length=0),S.l.ra()}}function rg(S,q,ee){var be=ee instanceof en?Ot(ee):new en(ee);if(be.g!="")q&&(be.g=q+"."+be.g),Tn(be,be.s);else{var Ve=c.location;be=Ve.protocol,q=q?q+"."+Ve.hostname:Ve.hostname,Ve=+Ve.port;var Ge=new en(null);be&&Fn(Ge,be),q&&(Ge.g=q),Ve&&Tn(Ge,Ve),ee&&(Ge.l=ee),be=Ge}return ee=S.D,q=S.ya,ee&&q&&Pn(be,ee,q),Pn(be,"VER",S.la),Qt(S,be),be}function kp(S,q,ee){if(q&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=S.Ca&&!S.pa?new ur(new Oo({eb:ee})):new ur(S.pa),q.Ha(S.J),q}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ig(){}e=ig.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ud(){}ud.prototype.g=function(S,q){return new Ui(S,q)};function Ui(S,q){Te.call(this),this.g=new Ie(q),this.l=S,this.h=q&&q.messageUrlParams||null,S=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(S?S["X-WebChannel-Content-Type"]=q.messageContentType:S={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(S?S["X-WebChannel-Client-Profile"]=q.va:S={"X-WebChannel-Client-Profile":q.va}),this.g.S=S,(S=q&&q.Sb)&&!x(S)&&(this.g.m=S),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!x(q)&&(this.g.D=q,S=this.h,S!==null&&q in S&&(S=this.h,q in S&&delete S[q])),this.j=new lu(this)}y(Ui,Te),Ui.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ui.prototype.close=function(){Je(this.g)},Ui.prototype.o=function(S){var q=this.g;if(typeof S=="string"){var ee={};ee.__data__=S,S=ee}else this.u&&(ee={},ee.__data__=$t(S),S=ee);q.i.push(new cn(q.Ya++,S)),q.G==3&&vt(q)},Ui.prototype.N=function(){this.g.l=null,delete this.j,Je(this.g),delete this.g,Ui.aa.N.call(this)};function Kf(S){Jn.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var q=S.__sm__;if(q){e:{for(const ee in q){S=ee;break e}S=void 0}(this.i=S)&&(S=this.i,q=q!==null&&S in q?q[S]:void 0),this.data=q}else this.data=S}y(Kf,Jn);function sg(){_n.call(this),this.status=1}y(sg,_n);function lu(S){this.g=S}y(lu,ig),lu.prototype.ua=function(){Ue(this.g,"a")},lu.prototype.ta=function(S){Ue(this.g,new Kf(S))},lu.prototype.sa=function(S){Ue(this.g,new sg)},lu.prototype.ra=function(){Ue(this.g,"b")},ud.prototype.createWebChannel=ud.prototype.g,Ui.prototype.send=Ui.prototype.o,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,fV=function(){return new ud},dV=function(){return Jt()},uV=Ft,kk={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Cb=we,ne.COMPLETE="complete",lV=ne,sr.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Gg=sr,ur.prototype.listenOnce=ur.prototype.L,ur.prototype.getLastError=ur.prototype.Ka,ur.prototype.getLastErrorCode=ur.prototype.Ba,ur.prototype.getStatus=ur.prototype.Z,ur.prototype.getResponseJson=ur.prototype.Oa,ur.prototype.getResponseText=ur.prototype.oa,ur.prototype.send=ur.prototype.ea,ur.prototype.setWithCredentials=ur.prototype.Ha,cV=ur}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});const jO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new YD("@firebase/firestore");function wg(){return Wh.logLevel}function kt(e,...t){if(Wh.logLevel<=Vn.DEBUG){const n=t.map(uj);Wh.debug(`Firestore (${I0}): ${e}`,...n)}}function zu(e,...t){if(Wh.logLevel<=Vn.ERROR){const n=t.map(uj);Wh.error(`Firestore (${I0}): ${e}`,...n)}}function Zm(e,...t){if(Wh.logLevel<=Vn.WARN){const n=t.map(uj);Wh.warn(`Firestore (${I0}): ${e}`,...n)}}function uj(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e="Unexpected state"){const t=`FIRESTORE (${I0}) INTERNAL ASSERTION FAILED: `+e;throw zu(t),new Error(t)}function xr(e,t){e||on()}function hn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Xl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class voe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Rs.UNAUTHENTICATED))}shutdown(){}}class yoe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class boe{constructor(t){this.t=t,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xr(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ju;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ju,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},c=l=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ju)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xr(typeof r.accessToken=="string"),new hV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xr(t===null||typeof t=="string"),new Rs(t)}}class woe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _oe{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new woe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Toe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eoe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){xr(this.o===void 0);const r=s=>{s.error!=null&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,kt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(xr(typeof n.token=="string"),this.R=n.token,new Toe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Noe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function tr(e,t){return e<t?-1:e>t?1:0}function Jm(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new _t(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $i.fromMillis(Date.now())}static fromDate(t){return $i.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new $i(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?tr(this.nanoseconds,t.nanoseconds):tr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ln(t)}static min(){return new ln(new $i(0,0))}static max(){return new ln(new $i(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t,n,r){n===void 0?n=0:n>t.length&&on(),r===void 0?r=t.length-n:r>t.length-n&&on(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return cv.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cv?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class $r extends cv{construct(t,n,r){return new $r(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $r(n)}static emptyPath(){return new $r([])}}const Soe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends cv{construct(t,n,r){return new ps(t,n,r)}static isValidIdentifier(t){return Soe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ps(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new _t(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new _t(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _t(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new _t(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ps(n)}static emptyPath(){return new ps([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt($r.fromString(t))}static fromName(t){return new zt($r.fromString(t).popFirst(5))}static empty(){return new zt($r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$r.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $r.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new $r(t.slice()))}}function Coe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ln.fromTimestamp(r===1e9?new $i(n+1,0):new $i(n,r));return new mf(i,zt.empty(),t)}function koe(e){return new mf(e.readTime,e.key,-1)}class mf{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new mf(ln.min(),zt.empty(),-1)}static max(){return new mf(ln.max(),zt.empty(),-1)}}function Aoe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=zt.comparator(e.documentKey,t.documentKey),n!==0?n:tr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class joe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function my(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==Doe)throw e;kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&on(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):at.reject(n)}static resolve(t){return new at((n,r)=>{n(t)})}static reject(t){return new at((n,r)=>{r(t)})}static waitFor(t){return new at((n,r)=>{let i=0,s=0,o=!1;t.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=at.resolve(!1);for(const r of t)n=n.next(i=>i?at.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new at((r,i)=>{const s=t.length,o=new Array(s);let c=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(d=>{o[u]=d,++c,c===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new at((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Ioe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gy(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}dj.oe=-1;function r_(e){return e==null}function b2(e){return e===0&&1/e==-1/0}function Roe(e){return typeof e=="number"&&Number.isInteger(e)&&!b2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function up(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,n){this.comparator=t,this.root=n||fs.EMPTY}insert(t,n){return new ii(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(t){return new ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fs.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new S1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new S1(this.root,t,this.comparator,!1)}getReverseIterator(){return new S1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new S1(this.root,t,this.comparator,!0)}}class S1{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fs{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??fs.RED,this.left=i??fs.EMPTY,this.right=s??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new fs(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw on();const t=this.left.check();if(t!==this.right.check())throw on();return t+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1;fs.EMPTY=new class{constructor(){this.size=0}get key(){throw on()}get value(){throw on()}get color(){throw on()}get left(){throw on()}get right(){throw on()}copy(t,n,r,i,s){return this}insert(t,n,r){return new fs(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.comparator=t,this.data=new ii(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new RO(this.data.getIterator())}getIteratorFrom(t){return new RO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof xs)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xs(this.comparator);return n.data=t,n}}class RO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.fields=t,t.sort(ps.comparator)}static empty(){return new bo([])}unionWith(t){let n=new xs(ps.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new bo(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Jm(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gV("Invalid base64 string: "+s):s}}(t);return new ws(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ws(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ws.EMPTY_BYTE_STRING=new ws("");const Ooe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gf(e){if(xr(!!e),typeof e=="string"){let t=0;const n=Ooe.exec(e);if(xr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vi(e.seconds),nanos:vi(e.nanos)}}function vi(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qh(e){return typeof e=="string"?ws.fromBase64String(e):ws.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hj(e){const t=e.mapValue.fields.__previous_value__;return fj(t)?hj(t):t}function lv(e){const t=gf(e.mapValue.fields.__local_write_time__.timestampValue);return new $i(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(t,n,r,i,s,o,c,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}}class uv{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new uv("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof uv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1={mapValue:{}};function zh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fj(e)?4:Uoe(e)?9007199254740991:Poe(e)?10:11:on()}function ql(e,t){if(e===t)return!0;const n=zh(e);if(n!==zh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lv(e).isEqual(lv(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gf(i.timestampValue),c=gf(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return qh(i.bytesValue).isEqual(qh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return vi(i.geoPointValue.latitude)===vi(s.geoPointValue.latitude)&&vi(i.geoPointValue.longitude)===vi(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vi(i.integerValue)===vi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vi(i.doubleValue),c=vi(s.doubleValue);return o===c?b2(o)===b2(c):isNaN(o)&&isNaN(c)}return!1}(e,t);case 9:return Jm(e.arrayValue.values||[],t.arrayValue.values||[],ql);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(IO(o)!==IO(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!ql(o[l],c[l])))return!1;return!0}(e,t);default:return on()}}function dv(e,t){return(e.values||[]).find(n=>ql(n,t))!==void 0}function e0(e,t){if(e===t)return 0;const n=zh(e),r=zh(t);if(n!==r)return tr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tr(e.booleanValue,t.booleanValue);case 2:return function(s,o){const c=vi(s.integerValue||s.doubleValue),l=vi(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return OO(e.timestampValue,t.timestampValue);case 4:return OO(lv(e),lv(t));case 5:return tr(e.stringValue,t.stringValue);case 6:return function(s,o){const c=qh(s),l=qh(o);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const d=tr(c[u],l[u]);if(d!==0)return d}return tr(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const c=tr(vi(s.latitude),vi(o.latitude));return c!==0?c:tr(vi(s.longitude),vi(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return FO(e.arrayValue,t.arrayValue);case 10:return function(s,o){var c,l,u,d;const f=s.fields||{},h=o.fields||{},p=(c=f.value)===null||c===void 0?void 0:c.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,m=tr(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return m!==0?m:FO(p,y)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===C1.mapValue&&o===C1.mapValue)return 0;if(s===C1.mapValue)return 1;if(o===C1.mapValue)return-1;const c=s.fields||{},l=Object.keys(c),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=tr(l[f],d[f]);if(h!==0)return h;const p=e0(c[l[f]],u[d[f]]);if(p!==0)return p}return tr(l.length,d.length)}(e.mapValue,t.mapValue);default:throw on()}}function OO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return tr(e,t);const n=gf(e),r=gf(t),i=tr(n.seconds,r.seconds);return i!==0?i:tr(n.nanos,r.nanos)}function FO(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=e0(n[i],r[i]);if(s)return s}return tr(n.length,r.length)}function t0(e){return Ak(e)}function Ak(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=gf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return qh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return zt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ak(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ak(n.fields[o])}`;return i+"}"}(e.mapValue):on()}function PO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dk(e){return!!e&&"integerValue"in e}function pj(e){return!!e&&"arrayValue"in e}function UO(e){return!!e&&"nullValue"in e}function LO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kb(e){return!!e&&"mapValue"in e}function Poe(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return up(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=vx(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vx(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Uoe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.value=t}static empty(){return new qa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!kb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vx(n)}setAll(t){let n=ps.emptyPath(),r={},i=[];t.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=vx(o):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());kb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ql(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];kb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){up(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new qa(vx(this.value))}}function xV(e){const t=[];return up(e.fields,(n,r)=>{const i=new ps([n]);if(kb(r)){const s=xV(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new bo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n,r,i,s,o,c){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new Ms(t,0,ln.min(),ln.min(),ln.min(),qa.empty(),0)}static newFoundDocument(t,n,r,i){return new Ms(t,1,n,ln.min(),r,i,0)}static newNoDocument(t,n){return new Ms(t,2,n,ln.min(),ln.min(),qa.empty(),0)}static newUnknownDocument(t,n){return new Ms(t,3,n,ln.min(),ln.min(),qa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ln.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ms&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,n){this.position=t,this.inclusive=n}}function MO(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=zt.comparator(zt.fromName(o.referenceValue),n.key):r=e0(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ql(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,n="asc"){this.field=t,this.dir=n}}function Loe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vV=class{};class Oi extends vV{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Boe(t,n,r):n==="array-contains"?new qoe(t,r):n==="in"?new zoe(t,r):n==="not-in"?new $oe(t,r):n==="array-contains-any"?new Hoe(t,r):new Oi(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Voe(t,r):new Woe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(e0(n,this.value)):n!==null&&zh(this.value)===zh(n)&&this.matchesComparison(e0(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return on()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zc extends vV{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new zc(t,n)}matches(t){return yV(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yV(e){return e.op==="and"}function bV(e){return Moe(e)&&yV(e)}function Moe(e){for(const t of e.filters)if(t instanceof zc)return!1;return!0}function jk(e){if(e instanceof Oi)return e.field.canonicalString()+e.op.toString()+t0(e.value);if(bV(e))return e.filters.map(t=>jk(t)).join(",");{const t=e.filters.map(n=>jk(n)).join(",");return`${e.op}(${t})`}}function wV(e,t){return e instanceof Oi?function(r,i){return i instanceof Oi&&r.op===i.op&&r.field.isEqual(i.field)&&ql(r.value,i.value)}(e,t):e instanceof zc?function(r,i){return i instanceof zc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&wV(o,i.filters[c]),!0):!1}(e,t):void on()}function _V(e){return e instanceof Oi?function(n){return`${n.field.canonicalString()} ${n.op} ${t0(n.value)}`}(e):e instanceof zc?function(n){return n.op.toString()+" {"+n.getFilters().map(_V).join(" ,")+"}"}(e):"Filter"}class Boe extends Oi{constructor(t,n,r){super(t,n,r),this.key=zt.fromName(r.referenceValue)}matches(t){const n=zt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Voe extends Oi{constructor(t,n){super(t,"in",n),this.keys=TV("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Woe extends Oi{constructor(t,n){super(t,"not-in",n),this.keys=TV("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function TV(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>zt.fromName(r.referenceValue))}class qoe extends Oi{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pj(n)&&dv(n.arrayValue,this.value)}}class zoe extends Oi{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&dv(this.value.arrayValue,n)}}class $oe extends Oi{constructor(t,n){super(t,"not-in",n)}matches(t){if(dv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!dv(this.value.arrayValue,n)}}class Hoe extends Oi{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pj(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dv(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(t,n=null,r=[],i=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function VO(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Goe(e,t,n,r,i,s,o)}function mj(e){const t=hn(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>jk(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),r_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>t0(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>t0(r)).join(",")),t.ue=n}return t.ue}function gj(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Loe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wV(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!BO(e.startAt,t.startAt)&&BO(e.endAt,t.endAt)}function Ik(e){return zt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Qoe(e,t,n,r,i,s,o,c){return new R0(e,t,n,r,i,s,o,c)}function i_(e){return new R0(e)}function WO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function EV(e){return e.collectionGroup!==null}function yx(e){const t=hn(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new xs(ps.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new fv(s,r))}),n.has(ps.keyField().canonicalString())||t.ce.push(new fv(ps.keyField(),r))}return t.ce}function Dl(e){const t=hn(e);return t.le||(t.le=Koe(t,yx(e))),t.le}function Koe(e,t){if(e.limitType==="F")return VO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new fv(i.field,s)});const n=e.endAt?new w2(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new w2(e.startAt.position,e.startAt.inclusive):null;return VO(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Rk(e,t){const n=e.filters.concat([t]);return new R0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ok(e,t,n){return new R0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function s_(e,t){return gj(Dl(e),Dl(t))&&e.limitType===t.limitType}function NV(e){return`${mj(Dl(e))}|lt:${e.limitType}`}function zp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_V(i)).join(", ")}]`),r_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>t0(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>t0(i)).join(",")),`Target(${r})`}(Dl(e))}; limitType=${e.limitType})`}function a_(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):zt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of yx(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,c,l){const u=MO(o,c,l);return o.inclusive?u<=0:u<0}(r.startAt,yx(r),i)||r.endAt&&!function(o,c,l){const u=MO(o,c,l);return o.inclusive?u>=0:u>0}(r.endAt,yx(r),i))}(e,t)}function Xoe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SV(e){return(t,n)=>{let r=!1;for(const i of yx(e)){const s=Yoe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yoe(e,t,n){const r=e.field.isKeyField()?zt.comparator(t.key,n.key):function(s,o,c){const l=o.data.field(s),u=c.data.field(s);return l!==null&&u!==null?e0(l,u):on()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return on()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){up(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return mV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe=new ii(zt.comparator);function $u(){return Zoe}const CV=new ii(zt.comparator);function Qg(...e){let t=CV;for(const n of e)t=t.insert(n.key,n);return t}function kV(e){let t=CV;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function gh(){return bx()}function AV(){return bx()}function bx(){return new O0(e=>e.toString(),(e,t)=>e.isEqual(t))}const Joe=new ii(zt.comparator),ece=new xs(zt.comparator);function In(...e){let t=ece;for(const n of e)t=t.add(n);return t}const tce=new xs(tr);function nce(){return tce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b2(t)?"-0":t}}function DV(e){return{integerValue:""+e}}function rce(e,t){return Roe(t)?DV(t):xj(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this._=void 0}}function ice(e,t,n){return e instanceof hv?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fj(s)&&(s=hj(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof pv?IV(e,t):e instanceof mv?RV(e,t):function(i,s){const o=jV(i,s),c=qO(o)+qO(i.Pe);return Dk(o)&&Dk(i.Pe)?DV(c):xj(i.serializer,c)}(e,t)}function sce(e,t,n){return e instanceof pv?IV(e,t):e instanceof mv?RV(e,t):n}function jV(e,t){return e instanceof _2?function(r){return Dk(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class hv extends o_{}class pv extends o_{constructor(t){super(),this.elements=t}}function IV(e,t){const n=OV(t);for(const r of e.elements)n.some(i=>ql(i,r))||n.push(r);return{arrayValue:{values:n}}}class mv extends o_{constructor(t){super(),this.elements=t}}function RV(e,t){let n=OV(t);for(const r of e.elements)n=n.filter(i=>!ql(i,r));return{arrayValue:{values:n}}}class _2 extends o_{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function qO(e){return vi(e.integerValue||e.doubleValue)}function OV(e){return pj(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(t,n){this.field=t,this.transform=n}}function oce(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof pv&&i instanceof pv||r instanceof mv&&i instanceof mv?Jm(r.elements,i.elements,ql):r instanceof _2&&i instanceof _2?ql(r.Pe,i.Pe):r instanceof hv&&i instanceof hv}(e.transform,t.transform)}class cce{constructor(t,n){this.version=t,this.transformResults=n}}class ba{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ba}static exists(t){return new ba(void 0,t)}static updateTime(t){return new ba(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ab(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class c_{}function FV(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new l_(e.key,ba.none()):new xy(e.key,e.data,ba.none());{const n=e.data,r=qa.empty();let i=new xs(ps.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ff(e.key,r,new bo(i.toArray()),ba.none())}}function lce(e,t,n){e instanceof xy?function(i,s,o){const c=i.value.clone(),l=$O(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Ff?function(i,s,o){if(!Ab(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=$O(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PV(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function wx(e,t,n,r){return e instanceof xy?function(s,o,c,l){if(!Ab(s.precondition,o))return c;const u=s.value.clone(),d=HO(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ff?function(s,o,c,l){if(!Ab(s.precondition,o))return c;const u=HO(s.fieldTransforms,l,o),d=o.data;return d.setAll(PV(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,c){return Ab(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(e,t,n)}function uce(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=jV(r.transform,i||null);s!=null&&(n===null&&(n=qa.empty()),n.set(r.field,s))}return n||null}function zO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jm(r,i,(s,o)=>oce(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xy extends c_{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ff extends c_{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PV(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $O(e,t,n){const r=new Map;xr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,c=t.data.field(s.field);r.set(s.field,sce(o,c,n[i]))}return r}function HO(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ice(s,o,t))}return r}class l_ extends c_{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dce extends c_{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fce{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&lce(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=wx(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=wx(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=AV();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const l=FV(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ln.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),In())}isEqual(t){return this.batchId===t.batchId&&Jm(this.mutations,t.mutations,(n,r)=>zO(n,r))&&Jm(this.baseMutations,t.baseMutations,(n,r)=>zO(n,r))}}class vj{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){xr(t.mutations.length===r.length);let i=function(){return Joe}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vj(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hce=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki,$n;function mce(e){switch(e){default:return on();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function UV(e){if(e===void 0)return zu("GRPC error has no .code"),tt.UNKNOWN;switch(e){case ki.OK:return tt.OK;case ki.CANCELLED:return tt.CANCELLED;case ki.UNKNOWN:return tt.UNKNOWN;case ki.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ki.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ki.INTERNAL:return tt.INTERNAL;case ki.UNAVAILABLE:return tt.UNAVAILABLE;case ki.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ki.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ki.NOT_FOUND:return tt.NOT_FOUND;case ki.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ki.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ki.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ki.ABORTED:return tt.ABORTED;case ki.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ki.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ki.DATA_LOSS:return tt.DATA_LOSS;default:return on()}}($n=ki||(ki={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=new kh([4294967295,4294967295],0);function GO(e){const t=gce().encode(e),n=new oV;return n.update(t),new Uint8Array(n.digest())}function QO(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new kh([n,r],0),new kh([i,s],0)]}class yj{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kg(`Invalid padding: ${n}`);if(r<0)throw new Kg(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Kg(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Kg(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=kh.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(kh.fromNumber(r)));return i.compare(xce)===1&&(i=new kh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=GO(t),[r,i]=QO(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new yj(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(t){if(this.Ie===0)return;const n=GO(t),[r,i]=QO(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,vy.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new u_(ln.min(),i,new ii(tr),$u(),In())}}class vy{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new vy(r,n,In(),In(),In())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LV{constructor(t,n){this.targetId=t,this.me=n}}class MV{constructor(t,n,r=ws.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KO{constructor(){this.fe=0,this.ge=YO(),this.pe=ws.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=In(),n=In(),r=In();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:on()}}),new vy(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=YO()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,xr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vce{constructor(t){this.Le=t,this.Be=new Map,this.ke=$u(),this.qe=XO(),this.Qe=new ii(tr)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:on()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(Ik(s))if(r===0){const o=new zt(s.path);this.Ue(n,o,Ms.newNoDocument(o,ln.min()))}else xr(r===1);else{const o=this.Ye(n);if(o!==r){const c=this.Ze(t),l=c?this.Xe(c,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=qh(r).toUint8Array()}catch(l){if(l instanceof gV)return Zm("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new yj(o,i,s)}catch(l){return Zm(l instanceof Kg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const c=this.Je(o);if(c){if(s.current&&Ik(c.target)){const l=new zt(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ms.newNoDocument(l,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=In();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new u_(t,n,this.Qe,this.ke,r);return this.ke=$u(),this.qe=XO(),this.Qe=new ii(tr),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new KO,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new xs(tr),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||kt("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new KO),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function XO(){return new ii(zt.comparator)}function YO(){return new ii(zt.comparator)}const yce={asc:"ASCENDING",desc:"DESCENDING"},bce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wce={and:"AND",or:"OR"};class _ce{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Fk(e,t){return e.useProto3Json||r_(t)?t:{value:t}}function T2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Tce(e,t){return T2(e,t.toTimestamp())}function jl(e){return xr(!!e),ln.fromTimestamp(function(n){const r=gf(n);return new $i(r.seconds,r.nanos)}(e))}function bj(e,t){return Pk(e,t).canonicalString()}function Pk(e,t){const n=function(i){return new $r(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function VV(e){const t=$r.fromString(e);return xr(HV(t)),t}function Uk(e,t){return bj(e.databaseId,t.path)}function oN(e,t){const n=VV(t);if(n.get(1)!==e.databaseId.projectId)throw new _t(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _t(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zt(qV(n))}function WV(e,t){return bj(e.databaseId,t)}function Ece(e){const t=VV(e);return t.length===4?$r.emptyPath():qV(t)}function Lk(e){return new $r(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qV(e){return xr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function ZO(e,t,n){return{name:Uk(e,t),fields:n.value.mapValue.fields}}function Nce(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:on()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(xr(d===void 0||typeof d=="string"),ws.fromBase64String(d||"")):(xr(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ws.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(u){const d=u.code===void 0?tt.UNKNOWN:UV(u.code);return new _t(d,u.message||"")}(o);n=new MV(r,i,s,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=oN(e,r.document.name),s=jl(r.document.updateTime),o=r.document.createTime?jl(r.document.createTime):ln.min(),c=new qa({mapValue:{fields:r.document.fields}}),l=Ms.newFoundDocument(i,s,o,c),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Db(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=oN(e,r.document),s=r.readTime?jl(r.readTime):ln.min(),o=Ms.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Db([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=oN(e,r.document),s=r.removedTargetIds||[];n=new Db([],s,i,null)}else{if(!("filter"in t))return on();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pce(i,s),c=r.targetId;n=new LV(c,o)}}return n}function Sce(e,t){let n;if(t instanceof xy)n={update:ZO(e,t.key,t.value)};else if(t instanceof l_)n={delete:Uk(e,t.key)};else if(t instanceof Ff)n={update:ZO(e,t.key,t.data),updateMask:Fce(t.fieldMask)};else{if(!(t instanceof dce))return on();n={verify:Uk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const c=o.transform;if(c instanceof hv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof pv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof mv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _2)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw on()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tce(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:on()}(e,t.precondition)),n}function Cce(e,t){return e&&e.length>0?(xr(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?jl(i.updateTime):jl(s);return o.isEqual(ln.min())&&(o=jl(s)),new cce(o,i.transformResults||[])}(n,t))):[]}function kce(e,t){return{documents:[WV(e,t.path)]}}function Ace(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WV(e,i);const s=function(u){if(u.length!==0)return $V(zc.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:$p(h.field),direction:Ice(h.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Fk(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function Dce(e){let t=Ece(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xr(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=zV(f);return h instanceof zc&&bV(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new fv(Hp(y.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let c=null;n.limit&&(c=function(f){let h;return h=typeof f=="object"?f.value:f,r_(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new w2(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new w2(p,h)}(n.endAt)),Qoe(t,i,o,s,c,"F",l,u)}function jce(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return on()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zV(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hp(n.unaryFilter.field);return Oi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hp(n.unaryFilter.field);return Oi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hp(n.unaryFilter.field);return Oi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hp(n.unaryFilter.field);return Oi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return on()}}(e):e.fieldFilter!==void 0?function(n){return Oi.create(Hp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return on()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return zc.create(n.compositeFilter.filters.map(r=>zV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return on()}}(n.compositeFilter.op))}(e):on()}function Ice(e){return yce[e]}function Rce(e){return bce[e]}function Oce(e){return wce[e]}function $p(e){return{fieldPath:e.canonicalString()}}function Hp(e){return ps.fromServerFormat(e.fieldPath)}function $V(e){return e instanceof Oi?function(n){if(n.op==="=="){if(LO(n.value))return{unaryFilter:{field:$p(n.field),op:"IS_NAN"}};if(UO(n.value))return{unaryFilter:{field:$p(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LO(n.value))return{unaryFilter:{field:$p(n.field),op:"IS_NOT_NAN"}};if(UO(n.value))return{unaryFilter:{field:$p(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$p(n.field),op:Rce(n.op),value:n.value}}}(e):e instanceof zc?function(n){const r=n.getFilters().map(i=>$V(i));return r.length===1?r[0]:{compositeFilter:{op:Oce(n.op),filters:r}}}(e):on()}function Fce(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function HV(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,n,r,i,s=ln.min(),o=ln.min(),c=ws.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new qd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pce{constructor(t){this.ct=t}}function Uce(e){const t=Dce({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ok(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(){this.un=new Mce}addToCollectionParentIndex(t,n){return this.un.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(mf.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(mf.min())}updateCollectionGroup(t,n,r){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class Mce{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new xs($r.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new xs($r.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new n0(0)}static kn(){return new n0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(){this.changes=new O0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ms.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?at.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vce{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&wx(r.mutation,i,bo.empty(),$i.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,In()).next(()=>r))}getLocalViewOfDocuments(t,n,r=In()){const i=gh();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Qg();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=gh();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,In()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(t,n,r,i){let s=$u();const o=bx(),c=function(){return bx()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ff)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),wx(d.mutation,u,d.mutation.getFieldMask(),$i.now())):o.set(u.key,bo.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return c.set(u,new Vce(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),c))}recalculateAndSaveOverlays(t,n){const r=bx();let i=new ii((o,c)=>o-c),s=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const c of o)c.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||bo.empty();d=c.applyToLocalView(u,d),r.set(l,d);const f=(i.get(c.batchId)||In()).add(l);i=i.insert(c.batchId,f)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,d=l.value,f=AV();d.forEach(h=>{if(!s.has(h)){const p=FV(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return at.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return zt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):EV(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):at.resolve(gh());let c=-1,l=s;return o.next(u=>at.forEach(u,(d,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(d)?at.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,In())).next(d=>({batchId:c,changes:kV(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new zt(n)).next(r=>{let i=Qg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Qg();return this.indexManager.getCollectionParents(t,s).next(c=>at.forEach(c,l=>{const u=function(f,h){return new R0(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ms.newInvalidDocument(d)))});let c=Qg();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&wx(d.mutation,u,bo.empty(),$i.now()),a_(n,u)&&(c=c.insert(l,u))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return at.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jl(i.createTime)}}(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Uce(i.bundledQuery),readTime:jl(i.readTime)}}(n)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(){this.overlays=new ii(zt.comparator),this.Ir=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const r=gh();return at.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),at.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),at.resolve()}getOverlaysForCollection(t,n,r){const i=gh(),s=n.length+1,o=new zt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return at.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ii((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=gh(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const c=gh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=i)););return at.resolve(c)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hce(n,r));let s=this.Ir.get(n);s===void 0&&(s=In(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ce{constructor(){this.sessionToken=ws.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.Tr=new xs(es.Er),this.dr=new xs(es.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new es(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new es(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new zt(new $r([])),r=new es(n,t),i=new es(n,t+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new zt(new $r([])),r=new es(n,t),i=new es(n,t+1);let s=In();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new es(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class es{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return zt.comparator(t.key,n.key)||tr(t.wr,n.wr)}static Ar(t,n){return tr(t.wr,n.wr)||zt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hce{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xs(es.Er)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fce(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.br=this.br.add(new es(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return at.resolve(o)}lookupMutationBatch(t,n){return at.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return at.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new es(n,0),i=new es(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const c=this.Dr(o.wr);s.push(c)}),at.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new xs(tr);return n.forEach(i=>{const s=new es(i,0),o=new es(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),at.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;zt.isDocumentKey(s)||(s=s.child(""));const o=new es(new zt(s),0);let c=new xs(tr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(l.wr)),!0)},o),at.resolve(this.Cr(c))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){xr(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return at.forEach(n.mutations,i=>{const s=new es(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new es(n,0),i=this.br.firstAfterOrEqual(r);return at.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(t){this.Mr=t,this.docs=function(){return new ii(zt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return at.resolve(r?r.document.mutableCopy():Ms.newInvalidDocument(n))}getEntries(t,n){let r=$u();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ms.newInvalidDocument(i))}),at.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=$u();const o=n.path,c=new zt(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Aoe(koe(d),r)<=0||(i.has(d.key)||a_(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return at.resolve(s)}getAllFromCollectionGroup(t,n,r,i){on()}Or(t,n){return at.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Qce(this)}getSize(t){return at.resolve(this.size)}}class Qce extends Bce{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),at.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(t){this.persistence=t,this.Nr=new O0(n=>mj(n),gj),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wj,this.targetCount=0,this.kr=n0.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),at.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new n0(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.Kn(n),at.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),at.waitFor(s).next(()=>i)}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return at.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),at.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),at.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return at.resolve(r)}containsKey(t,n){return at.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(t,n){this.qr={},this.overlays={},this.Qr=new dj(0),this.Kr=!1,this.Kr=!0,this.$r=new $ce,this.referenceDelegate=t(this),this.Ur=new Kce(this),this.indexManager=new Lce,this.remoteDocumentCache=function(i){return new Gce(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Pce(n),this.Gr=new qce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zce,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new Hce(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){kt("MemoryPersistence","Starting transaction:",t);const i=new Yce(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,n){return at.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class Yce extends joe{constructor(t){super(),this.currentSequenceNumber=t}}class _j{constructor(t){this.persistence=t,this.Jr=new wj,this.Yr=null}static Zr(t){return new _j(t)}get Xr(){if(this.Yr)return this.Yr;throw on()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),at.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),at.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Xr,r=>{const i=zt.fromPath(r);return this.ei(t,i).next(s=>{s||n.removeEntry(i,ln.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return at.or([()=>at.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=In(),i=In();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tj(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Vre()?8:Ioe(Hs())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Zce;return this.Xi(t,n,o).next(c=>{if(s.result=c,this.zi)return this.es(t,n,o,c.size)})}).next(()=>s.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(wg()<=Vn.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",zp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),at.resolve()):(wg()<=Vn.DEBUG&&kt("QueryEngine","Query:",zp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wg()<=Vn.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",zp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Dl(n))):at.resolve())}Yi(t,n){if(WO(n))return at.resolve(null);let r=Dl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ok(n,null,"F"),r=Dl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=In(...s);return this.Ji.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(n,c);return this.ns(n,u,o,l.readTime)?this.Yi(t,Ok(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,r,i){return WO(n)||i.isEqual(ln.min())?at.resolve(null):this.Ji.getDocuments(t,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?at.resolve(null):(wg()<=Vn.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zp(n)),this.rs(t,o,n,Coe(i,-1)).next(c=>c))})}ts(t,n){let r=new xs(SV(t));return n.forEach((i,s)=>{a_(t,s)&&(r=r.add(s))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,n,r){return wg()<=Vn.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",zp(n)),this.Ji.getDocumentsMatchingQuery(t,n,mf.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new ii(tr),this._s=new O0(s=>mj(s),gj),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Wce(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function tle(e,t,n,r){return new ele(e,t,n,r)}async function GV(e,t){const n=hn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let l=In();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){c.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:c}))})})}function nle(e,t){const n=hn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,u,d){const f=u.batch,h=f.keys();let p=at.resolve();return h.forEach(y=>{p=p.next(()=>d.getEntry(l,y)).next(m=>{const g=u.docVersions.get(y);xr(g!==null),m.version.compareTo(g)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),p.next(()=>c.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=In();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function QV(e){const t=hn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function rle(e,t){const n=hn(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const c=[];t.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;c.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(ws.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(m,g,v){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,d)&&c.push(n.Ur.updateTargetData(s,p))});let l=$u(),u=In();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(ile(s,o,t.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ln.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(d)}return at.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function ile(e,t,n){let r=In(),i=In();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=$u();return n.forEach((c,l)=>{const u=s.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(ln.min())?(t.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(c,l)):kt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function sle(e,t){const n=hn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function ale(e,t){const n=hn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(s=>s?(i=s,at.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new qd(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function Mk(e,t,n){const r=hn(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gy(o))throw o;kt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function JO(e,t,n){const r=hn(e);let i=ln.min(),s=In();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=hn(l),h=f._s.get(d);return h!==void 0?at.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,Dl(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,t,n?i:ln.min(),n?s:In())).next(c=>(ole(r,Xoe(t),c),{documents:c,Ts:s})))}function ole(e,t,n){let r=e.us.get(t)||ln.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.us.set(t,r)}class eF{constructor(){this.activeTargetIds=nce()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cle{constructor(){this.so=new eF,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new eF,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k1=null;function cN(){return k1===null?k1=function(){return 268435456+Math.round(2147483648*Math.random())}():k1++,"0x"+k1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="WebChannelConnection";class fle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const c=cN(),l=this.xo(n,r.toUriEncodedString());kt("RestConnection",`Sending RPC '${n}' ${c}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(kt("RestConnection",`Received RPC '${n}' ${c}: `,d),d),d=>{throw Zm("RestConnection",`RPC '${n}' ${c} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+I0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=ule[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const s=cN();return new Promise((o,c)=>{const l=new cV;l.setWithCredentials(!0),l.listenOnce(lV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cb.NO_ERROR:const d=l.getResponseJson();kt(As,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case Cb.TIMEOUT:kt(As,`RPC '${t}' ${s} timed out`),c(new _t(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Cb.HTTP_ERROR:const f=l.getStatus();if(kt(As,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(v)>=0?v:tt.UNKNOWN}(p.status);c(new _t(y,p.message))}else c(new _t(tt.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new _t(tt.UNAVAILABLE,"Connection failed."));break;default:on()}}finally{kt(As,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);kt(As,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=cN(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=fV(),c=dV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");kt(As,`Creating RPC '${t}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,p=!1;const y=new dle({Io:g=>{p?kt(As,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(h||(kt(As,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),kt(As,`RPC '${t}' stream ${i} sending:`,g),f.send(g))},To:()=>f.close()}),m=(g,v,x)=>{g.listen(v,b=>{try{x(b)}catch(w){setTimeout(()=>{throw w},0)}})};return m(f,Gg.EventType.OPEN,()=>{p||(kt(As,`RPC '${t}' stream ${i} transport opened.`),y.yo())}),m(f,Gg.EventType.CLOSE,()=>{p||(p=!0,kt(As,`RPC '${t}' stream ${i} transport closed`),y.So())}),m(f,Gg.EventType.ERROR,g=>{p||(p=!0,Zm(As,`RPC '${t}' stream ${i} transport errored:`,g),y.So(new _t(tt.UNAVAILABLE,"The operation could not be completed")))}),m(f,Gg.EventType.MESSAGE,g=>{var v;if(!p){const x=g.data[0];xr(!!x);const b=x,w=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(w){kt(As,`RPC '${t}' stream ${i} received error:`,w);const T=w.status;let C=function(k){const j=ki[k];if(j!==void 0)return UV(j)}(T),_=w.message;C===void 0&&(C=tt.INTERNAL,_="Unknown error status: "+T+" with message "+w.message),p=!0,y.So(new _t(C,_)),f.close()}else kt(As,`RPC '${t}' stream ${i} received:`,x),y.bo(x)}}),m(c,uV.STAT_EVENT,g=>{g.stat===kk.PROXY?kt(As,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===kk.NOPROXY&&kt(As,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function lN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(e){return new _ce(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&kt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t,n,r,i,s,o,c,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KV(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(zu(n.toString()),zu("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new _t(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return kt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hle extends XV{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=Nce(this.serializer,t),r=function(s){if(!("targetChange"in s))return ln.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ln.min():o.readTime?jl(o.readTime):ln.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=Lk(this.serializer),n.addTarget=function(s,o){let c;const l=o.target;if(c=Ik(l)?{documents:kce(s,l)}:{query:Ace(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=BV(s,o.resumeToken);const u=Fk(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ln.min())>0){c.readTime=T2(s,o.snapshotVersion.toTimestamp());const u=Fk(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,t);const r=jce(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=Lk(this.serializer),n.removeTarget=t,this.a_(n)}}class ple extends XV{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return xr(!!t.streamToken),this.lastStreamToken=t.streamToken,xr(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){xr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=Cce(t.writeResults,t.commitTime),r=jl(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=Lk(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Sce(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new _t(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,Pk(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _t(tt.UNKNOWN,s.toString())})}Lo(t,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(t,Pk(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _t(tt.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gle{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zu(n),this.D_=!1):kt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{dp(this)&&(kt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=hn(l);u.L_.add(4),await yy(u),u.q_.set("Unknown"),u.L_.delete(4),await f_(u)}(this))})}),this.q_=new gle(r,i)}}async function f_(e){if(dp(e))for(const t of e.B_)await t(!0)}async function yy(e){for(const t of e.B_)await t(!1)}function YV(e,t){const n=hn(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Cj(n)?Sj(n):F0(n).r_()&&Nj(n,t))}function Ej(e,t){const n=hn(e),r=F0(n);n.N_.delete(t),r.r_()&&ZV(n,t),n.N_.size===0&&(r.r_()?r.o_():dp(n)&&n.q_.set("Unknown"))}function Nj(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ln.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}F0(e).A_(t)}function ZV(e,t){e.Q_.xe(t),F0(e).R_(t)}function Sj(e){e.Q_=new vce({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),F0(e).start(),e.q_.v_()}function Cj(e){return dp(e)&&!F0(e).n_()&&e.N_.size>0}function dp(e){return hn(e).L_.size===0}function JV(e){e.Q_=void 0}async function vle(e){e.q_.set("Online")}async function yle(e){e.N_.forEach((t,n)=>{Nj(e,t)})}async function ble(e,t){JV(e),Cj(e)?(e.q_.M_(t),Sj(e)):e.q_.set("Unknown")}async function wle(e,t,n){if(e.q_.set("Online"),t instanceof MV&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))}(e,t)}catch(r){kt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await E2(e,r)}else if(t instanceof Db?e.Q_.Ke(t):t instanceof LV?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ln.min()))try{const r=await QV(e.localStore);n.compareTo(r)>=0&&await function(s,o){const c=s.Q_.rt(o);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(ws.EMPTY_BYTE_STRING,d.snapshotVersion)),ZV(s,l);const f=new qd(d.target,l,u,d.sequenceNumber);Nj(s,f)}),s.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(r){kt("RemoteStore","Failed to raise snapshot:",r),await E2(e,r)}}async function E2(e,t,n){if(!gy(t))throw t;e.L_.add(1),await yy(e),e.q_.set("Offline"),n||(n=()=>QV(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{kt("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await f_(e)})}function eW(e,t){return t().catch(n=>E2(e,n,t))}async function h_(e){const t=hn(e),n=xf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;_le(t);)try{const i=await sle(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,Tle(t,i)}catch(i){await E2(t,i)}tW(t)&&nW(t)}function _le(e){return dp(e)&&e.O_.length<10}function Tle(e,t){e.O_.push(t);const n=xf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function tW(e){return dp(e)&&!xf(e).n_()&&e.O_.length>0}function nW(e){xf(e).start()}async function Ele(e){xf(e).p_()}async function Nle(e){const t=xf(e);for(const n of e.O_)t.m_(n.mutations)}async function Sle(e,t,n){const r=e.O_.shift(),i=vj.from(r,t,n);await eW(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await h_(e)}async function Cle(e,t){t&&xf(e).V_&&await async function(r,i){if(function(o){return mce(o)&&o!==tt.ABORTED}(i.code)){const s=r.O_.shift();xf(r).s_(),await eW(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await h_(r)}}(e,t),tW(e)&&nW(e)}async function nF(e,t){const n=hn(e);n.asyncQueue.verifyOperationInProgress(),kt("RemoteStore","RemoteStore received new credentials");const r=dp(n);n.L_.add(3),await yy(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await f_(n)}async function kle(e,t){const n=hn(e);t?(n.L_.delete(2),await f_(n)):t||(n.L_.add(2),await yy(n),n.q_.set("Unknown"))}function F0(e){return e.K_||(e.K_=function(n,r,i){const s=hn(n);return s.w_(),new hle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:vle.bind(null,e),Ro:yle.bind(null,e),mo:ble.bind(null,e),d_:wle.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Cj(e)?Sj(e):e.q_.set("Unknown")):(await e.K_.stop(),JV(e))})),e.K_}function xf(e){return e.U_||(e.U_=function(n,r,i){const s=hn(n);return s.w_(),new ple(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ele.bind(null,e),mo:Cle.bind(null,e),f_:Nle.bind(null,e),g_:Sle.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await h_(e)):(await e.U_.stop(),e.O_.length>0&&(kt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,c=new kj(t,n,o,i,s);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Aj(e,t){if(zu("AsyncQueue",`${t}: ${e}`),gy(e))return new _t(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t){this.comparator=t?(n,r)=>t(n,r)||zt.comparator(n.key,r.key):(n,r)=>zt.comparator(n.key,r.key),this.keyedMap=Qg(),this.sortedSet=new ii(this.comparator)}static emptySet(t){return new Cm(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Cm)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Cm;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.W_=new ii(zt.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):on():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class r0{constructor(t,n,r,i,s,o,c,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new r0(t,n,Cm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&s_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Dle{constructor(){this.queries=iF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=hn(n),s=i.queries;i.queries=iF(),s.forEach((o,c)=>{for(const l of c.j_)l.onError(r)})})(this,new _t(tt.ABORTED,"Firestore shutting down"))}}function iF(){return new O0(e=>NV(e),s_)}async function Dj(e,t){const n=hn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Ale,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=Aj(o,`Initialization of query '${zp(t.query)}' failed`);return void t.onError(c)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Ij(n)}async function jj(e,t){const n=hn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jle(e,t){const n=hn(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Ij(n)}function Ile(e,t,n){const r=hn(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Ij(e){e.Y_.forEach(t=>{t.next()})}var Bk,sF;(sF=Bk||(Bk={})).ea="default",sF.Cache="cache";class Rj{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new r0(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=r0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Bk.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(t){this.key=t}}class iW{constructor(t){this.key=t}}class Rle{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=In(),this.mutatedKeys=In(),this.Aa=SV(t),this.Ra=new Cm(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new rF,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const h=i.get(d),p=a_(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?y!==m&&(r.track({type:3,doc:p}),g=!0):this.ga(h,p)||(r.track({type:2,doc:p}),g=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(c=!0)):!h&&p?(r.track({type:0,doc:p}),g=!0):h&&!p&&(r.track({type:1,doc:h}),g=!0,(l||u)&&(c=!0)),g&&(p?(o=o.add(p),s=m?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,f)=>function(p,y){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return on()}};return m(p)-m(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const c=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new r0(this.query,t.Ra,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rF,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=In(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new iW(r))}),this.da.forEach(r=>{t.has(r)||n.push(new rW(r))}),n}ba(t){this.Ta=t.Ts,this.da=In();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return r0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ole{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Fle{constructor(t){this.key=t,this.va=!1}}class Ple{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new O0(c=>NV(c),s_),this.Ma=new Map,this.xa=new Set,this.Oa=new ii(zt.comparator),this.Na=new Map,this.La=new wj,this.Ba={},this.ka=new Map,this.qa=n0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ule(e,t,n=!0){const r=uW(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await sW(r,t,n,!0),i}async function Lle(e,t){const n=uW(e);await sW(n,t,!0,!1)}async function sW(e,t,n,r){const i=await ale(e.localStore,Dl(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await Mle(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&YV(e.remoteStore,i),c}async function Mle(e,t,n,r,i){e.Ka=(f,h,p)=>async function(m,g,v,x){let b=g.view.ma(v);b.ns&&(b=await JO(m.localStore,g.query,!1).then(({documents:_})=>g.view.ma(_,b)));const w=x&&x.targetChanges.get(g.targetId),T=x&&x.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(b,m.isPrimaryClient,w,T);return oF(m,g.targetId,C.wa),C.snapshot}(e,f,h,p);const s=await JO(e.localStore,t,!0),o=new Rle(t,s.Ts),c=o.ma(s.documents),l=vy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(c,e.isPrimaryClient,l);oF(e,n,u.wa);const d=new Ole(t,n,o);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function Ble(e,t,n){const r=hn(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!s_(o,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mk(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ej(r.remoteStore,i.targetId),Vk(r,i.targetId)}).catch(my)):(Vk(r,i.targetId),await Mk(r.localStore,i.targetId,!0))}async function Vle(e,t){const n=hn(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ej(n.remoteStore,r.targetId))}async function Wle(e,t,n){const r=Kle(e);try{const i=await function(o,c){const l=hn(o),u=$i.now(),d=c.reduce((p,y)=>p.add(y.key),In());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=$u(),m=In();return l.cs.getEntries(p,d).next(g=>{y=g,y.forEach((v,x)=>{x.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(g=>{f=g;const v=[];for(const x of c){const b=uce(x,f.get(x.key).overlayedDocument);b!=null&&v.push(new Ff(x.key,b,xV(b.value.mapValue),ba.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,c)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:kV(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ii(tr)),u=u.insert(c,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await by(r,i.changes),await h_(r.remoteStore)}catch(i){const s=Aj(i,"Failed to persist write");n.reject(s)}}async function aW(e,t){const n=hn(e);try{const r=await rle(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(xr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xr(o.va):i.removedDocuments.size>0&&(xr(o.va),o.va=!1))}),await by(n,r,t)}catch(r){await my(r)}}function aF(e,t,n){const r=hn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const c=o.view.Z_(t);c.snapshot&&i.push(c.snapshot)}),function(o,c){const l=hn(o);l.onlineState=c;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(c)&&(u=!0)}),u&&Ij(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qle(e,t,n){const r=hn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let o=new ii(zt.comparator);o=o.insert(s,Ms.newNoDocument(s,ln.min()));const c=In().add(s),l=new u_(ln.min(),new Map,new ii(tr),o,c);await aW(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(t),Oj(r)}else await Mk(r.localStore,t,!1).then(()=>Vk(r,t,n)).catch(my)}async function zle(e,t){const n=hn(e),r=t.batch.batchId;try{const i=await nle(n.localStore,t);cW(n,r,null),oW(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await by(n,i)}catch(i){await my(i)}}async function $le(e,t,n){const r=hn(e);try{const i=await function(o,c){const l=hn(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,c).next(f=>(xr(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,t);cW(r,t,n),oW(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await by(r,i)}catch(i){await my(i)}}function oW(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function cW(e,t,n){const r=hn(e);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Vk(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||lW(e,r)})}function lW(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Ej(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Oj(e))}function oF(e,t,n){for(const r of n)r instanceof rW?(e.La.addReference(r.key,t),Hle(e,r)):r instanceof iW?(kt("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||lW(e,r.key)):on()}function Hle(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(kt("SyncEngine","New document in limbo: "+n),e.xa.add(r),Oj(e))}function Oj(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new zt($r.fromString(t)),r=e.qa.next();e.Na.set(r,new Fle(n)),e.Oa=e.Oa.insert(n,r),YV(e.remoteStore,new qd(Dl(i_(n.path)),r,"TargetPurposeLimboResolution",dj.oe))}}async function by(e,t,n){const r=hn(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{o.push(r.Ka(l,t,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Tj.Wi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=hn(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>at.forEach(u,h=>at.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>at.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!gy(f))throw f;kt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),y=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,m)}}}(r.localStore,s))}async function Gle(e,t){const n=hn(e);if(!n.currentUser.isEqual(t)){kt("SyncEngine","User change. New user:",t.toKey());const r=await GV(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new _t(tt.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await by(n,r.hs)}}function Qle(e,t){const n=hn(e),r=n.Na.get(t);if(r&&r.va)return In().add(r.key);{let i=In();const s=n.Ma.get(t);if(!s)return i;for(const o of s){const c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function uW(e){const t=hn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aW.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qle.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qle.bind(null,t),t.Ca.d_=jle.bind(null,t.eventManager),t.Ca.$a=Ile.bind(null,t.eventManager),t}function Kle(e){const t=hn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zle.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$le.bind(null,t),t}class N2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=d_(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return tle(this.persistence,new Jce,t.initialUser,this.serializer)}Ga(t){return new Xce(_j.Zr,this.serializer)}Wa(t){return new cle}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}N2.provider={build:()=>new N2};class Wk{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gle.bind(null,this.syncEngine),await kle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Dle}()}createDatastore(t){const n=d_(t.databaseInfo.databaseId),r=function(s){return new fle(s)}(t.databaseInfo);return function(s,o,c,l){return new mle(s,o,c,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,c){return new xle(r,i,s,o,c)}(this.localStore,this.datastore,t.asyncQueue,n=>aF(this.syncEngine,n,0),function(){return tF.D()?new tF:new lle}())}createSyncEngine(t,n){return function(i,s,o,c,l,u,d){const f=new Ple(i,s,o,c,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=hn(i);kt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await yy(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wk.provider={build:()=>new Wk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):zu("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rs.UNAUTHENTICATED,this.clientId=pV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{kt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(kt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ju;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Aj(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function uN(e,t){e.asyncQueue.verifyOperationInProgress(),kt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GV(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function cF(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Yle(e);kt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>nF(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>nF(t.remoteStore,i)),e._onlineComponents=t}async function Yle(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){kt("FirestoreClient","Using user provided OfflineComponentProvider");try{await uN(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===tt.FAILED_PRECONDITION||i.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zm("Error using user provided cache. Falling back to memory cache: "+n),await uN(e,new N2)}}else kt("FirestoreClient","Using default OfflineComponentProvider"),await uN(e,new N2);return e._offlineComponents}async function dW(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(kt("FirestoreClient","Using user provided OnlineComponentProvider"),await cF(e,e._uninitializedComponentsProvider._online)):(kt("FirestoreClient","Using default OnlineComponentProvider"),await cF(e,new Wk))),e._onlineComponents}function Zle(e){return dW(e).then(t=>t.syncEngine)}async function S2(e){const t=await dW(e),n=t.eventManager;return n.onListen=Ule.bind(null,t.syncEngine),n.onUnlisten=Ble.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Lle.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Vle.bind(null,t.syncEngine),n}function Jle(e,t,n={}){const r=new ju;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,c,l,u){const d=new Fj({next:h=>{d.Za(),o.enqueueAndForget(()=>jj(s,f));const p=h.docs.has(c);!p&&h.fromCache?u.reject(new _t(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new _t(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Rj(i_(c.path),d,{includeMetadataChanges:!0,_a:!0});return Dj(s,f)}(await S2(e),e.asyncQueue,t,n,r)),r.promise}function eue(e,t,n={}){const r=new ju;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,c,l,u){const d=new Fj({next:h=>{d.Za(),o.enqueueAndForget(()=>jj(s,f)),h.fromCache&&l.source==="server"?u.reject(new _t(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Rj(c,d,{includeMetadataChanges:!0,_a:!0});return Dj(s,f)}(await S2(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(e,t,n){if(!n)throw new _t(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tue(e,t,n,r){if(t===!0&&r===!0)throw new _t(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function uF(e){if(!zt.isDocumentKey(e))throw new _t(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dF(e){if(zt.isDocumentKey(e))throw new _t(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function p_(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":on()}function wa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _t(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=p_(e);throw new _t(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new _t(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tue("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fW((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m_{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fF({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fF(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new voe;switch(r.type){case"firstParty":return new _oe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lF.get(n);r&&(kt("ComponentProvider","Removing Datastore"),lF.delete(n),r.terminate())}(this),Promise.resolve()}}function nue(e,t,n,r={}){var i;const s=(e=wa(e,m_))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=Rs.MOCK_USER;else{c=bB(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new _t(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rs(u)}e._authCredentials=new yoe(new hV(c,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Pf(this.firestore,t,this._query)}}class qs{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new af(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qs(this.firestore,t,this._key)}}class af extends Pf{constructor(t,n,r){super(t,n,i_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qs(this.firestore,null,new zt(t))}withConverter(t){return new af(this.firestore,t,this._path)}}function Et(e,t,...n){if(e=Qr(e),hW("collection","path",t),e instanceof m_){const r=$r.fromString(t,...n);return dF(r),new af(e,null,r)}{if(!(e instanceof qs||e instanceof af))throw new _t(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($r.fromString(t,...n));return dF(r),new af(e.firestore,null,r)}}function Ke(e,t,...n){if(e=Qr(e),arguments.length===1&&(t=pV.newId()),hW("doc","path",t),e instanceof m_){const r=$r.fromString(t,...n);return uF(r),new qs(e,null,new zt(r))}{if(!(e instanceof qs||e instanceof af))throw new _t(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($r.fromString(t,...n));return uF(r),new qs(e.firestore,e instanceof af?e.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KV(this,"async_queue_retry"),this.Vu=()=>{const r=lN();r&&kt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=lN();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=lN();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ju;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!gy(t))throw t;kt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw zu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=kj.createAndSchedule(this,t,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&on()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function pF(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class zl extends m_{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new hF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hF(t),this._firestoreClient=void 0,await t}}}function rue(e,t){const n=typeof e=="object"?e:JD(),r=typeof e=="string"?e:"(default)",i=Zw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xB("firestore");s&&nue(i,...s)}return i}function wy(e){if(e._terminated)throw new _t(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iue(e),e._firestoreClient}function iue(e){var t,n,r;const i=e._freezeSettings(),s=function(c,l,u,d){return new Foe(c,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fW(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Xle(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i0(ws.fromBase64String(t))}catch(n){throw new _t(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new i0(ws.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tr(this._lat,t._lat)||tr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sue=/^__.*__$/;class aue{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ff(t,this.data,this.fieldMask,n,this.fieldTransforms):new xy(t,this.data,n,this.fieldTransforms)}}class pW{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ff(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function mW(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw on()}}class Lj{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Lj(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return C2(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(mW(this.Cu)&&sue.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class oue{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||d_(t)}Qu(t,n,r,i=!1){return new Lj({Cu:t,methodName:n,qu:r,path:ps.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(e){const t=e._freezeSettings(),n=d_(e._databaseId);return new oue(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Mj(e,t,n,r,i,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Vj("Data must be an object, but it was:",o,r);const c=vW(r,o);let l,u;if(s.merge)l=new bo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=qk(t,f,n);if(!o.contains(h))throw new _t(tt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bW(d,h)||d.push(h)}l=new bo(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new aue(new qa(c),l,u)}class x_ extends g_{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof x_}}class Bj extends g_{_toFieldTransform(t){return new ace(t.path,new hv)}isEqual(t){return t instanceof Bj}}function gW(e,t,n,r){const i=e.Qu(1,t,n);Vj("Data must be an object, but it was:",i,r);const s=[],o=qa.empty();up(r,(l,u)=>{const d=Wj(t,l,n);u=Qr(u);const f=i.Nu(d);if(u instanceof x_)s.push(d);else{const h=Ey(u,f);h!=null&&(s.push(d),o.set(d,h))}});const c=new bo(s);return new pW(o,c,i.fieldTransforms)}function xW(e,t,n,r,i,s){const o=e.Qu(1,t,n),c=[qk(t,r,n)],l=[i];if(s.length%2!=0)throw new _t(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)c.push(qk(t,s[h])),l.push(s[h+1]);const u=[],d=qa.empty();for(let h=c.length-1;h>=0;--h)if(!bW(u,c[h])){const p=c[h];let y=l[h];y=Qr(y);const m=o.Nu(p);if(y instanceof x_)u.push(p);else{const g=Ey(y,m);g!=null&&(u.push(p),d.set(p,g))}}const f=new bo(u);return new pW(d,f,o.fieldTransforms)}function cue(e,t,n,r=!1){return Ey(n,e.Qu(r?4:3,t))}function Ey(e,t){if(yW(e=Qr(e)))return Vj("Unsupported field value:",t,e),vW(e,t);if(e instanceof g_)return function(r,i){if(!mW(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const c of r){let l=Ey(c,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Qr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rce(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$i.fromDate(r);return{timestampValue:T2(i.serializer,s)}}if(r instanceof $i){const s=new $i(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:T2(i.serializer,s)}}if(r instanceof Pj)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof i0)return{bytesValue:BV(i.serializer,r._byteString)};if(r instanceof qs){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uj)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return xj(c.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${p_(r)}`)}(e,t)}function vW(e,t){const n={};return mV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):up(e,(r,i)=>{const s=Ey(i,t.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yW(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $i||e instanceof Pj||e instanceof i0||e instanceof qs||e instanceof g_||e instanceof Uj)}function Vj(e,t,n){if(!yW(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=p_(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function qk(e,t,n){if((t=Qr(t))instanceof _y)return t._internalPath;if(typeof t=="string")return Wj(e,t);throw C2("Field path arguments must be of type string or ",e,!1,void 0,n)}const lue=new RegExp("[~\\*/\\[\\]]");function Wj(e,t,n){if(t.search(lue)>=0)throw C2(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _y(...t.split("."))._internalPath}catch{throw C2(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function C2(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new _t(tt.INVALID_ARGUMENT,c+e+l)}function bW(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(v_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uue extends wW{data(){return super.data()}}function v_(e,t){return typeof t=="string"?Wj(e,t):t instanceof _y?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new _t(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qj{}class TW extends qj{}function Ut(e,t,...n){let r=[];t instanceof qj&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zj).length,c=s.filter(l=>l instanceof y_).length;if(o>1||o>0&&c>0)throw new _t(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class y_ extends TW{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new y_(t,n,r)}_apply(t){const n=this._parse(t);return EW(t._query,n),new Pf(t.firestore,t.converter,Rk(t._query,n))}_parse(t){const n=Ty(t.firestore);return function(s,o,c,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new _t(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){gF(f,d);const p=[];for(const y of f)p.push(mF(l,s,y));h={arrayValue:{values:p}}}else h=mF(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||gF(f,d),h=cue(c,o,f,d==="in"||d==="not-in");return Oi.create(u,d,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Vt(e,t,n){const r=t,i=v_("where",e);return y_._create(i,r,n)}class zj extends qj{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new zj(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zc.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const c=s.getFlattenedFilters();for(const l of c)EW(o,l),o=Rk(o,l)}(t._query,n),new Pf(t.firestore,t.converter,Rk(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $j extends TW{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new $j(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new _t(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _t(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fv(s,o)}(t._query,this._field,this._direction);return new Pf(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new R0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function due(e,t="asc"){const n=t,r=v_("orderBy",e);return $j._create(r,n)}function mF(e,t,n){if(typeof(n=Qr(n))=="string"){if(n==="")throw new _t(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EV(t)&&n.indexOf("/")!==-1)throw new _t(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($r.fromString(n));if(!zt.isDocumentKey(r))throw new _t(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PO(e,new zt(r))}if(n instanceof qs)return PO(e,n._key);throw new _t(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p_(n)}.`)}function gF(e,t){if(!Array.isArray(e)||e.length===0)throw new _t(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function EW(e,t){const n=function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new _t(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _t(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class fue{convertValue(t,n="none"){switch(zh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw on()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return up(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>vi(o.doubleValue));return new Uj(s)}convertGeoPoint(t){return new Pj(vi(t.latitude),vi(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hj(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lv(t));default:return null}}convertTimestamp(t){const n=gf(t);return new $i(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$r.fromString(t);xr(HV(r));const i=new uv(r.get(1),r.get(3)),s=new zt(r.popFirst(5));return i.isEqual(n)||zu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class NW extends wW{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(v_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jb extends NW{data(t={}){return super.data(t)}}class SW{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new jb(this._firestore,this._userDataWriter,r.key,r,new Xg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const l=new jb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const l=new jb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:hue(c.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hue(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return on()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e){e=wa(e,qs);const t=wa(e.firestore,zl);return Jle(wy(t),e._key).then(n=>CW(t,e,n))}class Gj extends fue{constructor(t){super(),this.firestore=t}convertBytes(t){return new i0(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qs(this.firestore,null,n)}}function Bn(e){e=wa(e,Pf);const t=wa(e.firestore,zl),n=wy(t),r=new Gj(t);return _W(e._query),eue(n,e._query).then(i=>new SW(t,r,e,i))}function xt(e,t,n){e=wa(e,qs);const r=wa(e.firestore,zl),i=Hj(e.converter,t,n);return Ny(r,[Mj(Ty(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ba.none())])}function zk(e,t,n,...r){e=wa(e,qs);const i=wa(e.firestore,zl),s=Ty(i);let o;return o=typeof(t=Qr(t))=="string"||t instanceof _y?xW(s,"updateDoc",e._key,t,n,r):gW(s,"updateDoc",e._key,t),Ny(i,[o.toMutation(e._key,ba.exists(!0))])}function No(e){return Ny(wa(e.firestore,zl),[new l_(e._key,ba.none())])}function pue(e,t){const n=wa(e.firestore,zl),r=Ke(e),i=Hj(e.converter,t);return Ny(n,[Mj(Ty(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,ba.exists(!1))]).then(()=>r)}function ir(e,...t){var n,r,i;e=Qr(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||pF(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(pF(t[o])){const f=t[o];t[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(e instanceof qs)u=wa(e.firestore,zl),d=i_(e._key.path),l={next:f=>{t[o]&&t[o](CW(u,e,f))},error:t[o+1],complete:t[o+2]};else{const f=wa(e,Pf);u=wa(f.firestore,zl),d=f._query;const h=new Gj(u);l={next:p=>{t[o]&&t[o](new SW(u,h,f,p))},error:t[o+1],complete:t[o+2]},_W(e._query)}return function(h,p,y,m){const g=new Fj(m),v=new Rj(p,g,y);return h.asyncQueue.enqueueAndForget(async()=>Dj(await S2(h),v)),()=>{g.Za(),h.asyncQueue.enqueueAndForget(async()=>jj(await S2(h),v))}}(wy(u),d,c,l)}function Ny(e,t){return function(r,i){const s=new ju;return r.asyncQueue.enqueueAndForget(async()=>Wle(await Zle(r),i,s)),s.promise}(wy(e),t)}function CW(e,t,n){const r=n.docs.get(t._key),i=new Gj(e);return new NW(e,i,t._key,r,new Xg(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ty(t)}set(t,n,r){this._verifyNotCommitted();const i=dN(t,this._firestore),s=Hj(i.converter,n,r),o=Mj(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ba.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=dN(t,this._firestore);let o;return o=typeof(n=Qr(n))=="string"||n instanceof _y?xW(this._dataReader,"WriteBatch.update",s._key,n,r,i):gW(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ba.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=dN(t,this._firestore);return this._mutations=this._mutations.concat(new l_(n._key,ba.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dN(e,t){if((e=Qr(e)).firestore!==t)throw new _t(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function cm(){return new Bj("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){return wy(e=wa(e,zl)),new mue(e,t=>Ny(e,t))}(function(t,n=!0){(function(i){I0=i})(lp),Mh(new pf("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new zl(new boe(r.getProvider("auth-internal")),new Eoe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _t(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uv(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Cl(jO,"4.7.3",t),Cl(jO,"4.7.3","esm2017")})();var gue="firebase",xue="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl(gue,xue,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW="firebasestorage.googleapis.com",AW="storageBucket",vue=2*60*1e3,yue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Xl{constructor(t,n,r=0){super(fN(t),`Firebase Storage: ${n} (${fN(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return fN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ui;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ui||(ui={}));function fN(e){return"storage/"+e}function Qj(){const e="An unknown error occurred, please check the error payload for server response.";return new fi(ui.UNKNOWN,e)}function bue(e){return new fi(ui.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function wue(e){return new fi(ui.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _ue(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fi(ui.UNAUTHENTICATED,e)}function Tue(){return new fi(ui.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Eue(e){return new fi(ui.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Nue(){return new fi(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sue(){return new fi(ui.CANCELED,"User canceled the upload/download.")}function Cue(e){return new fi(ui.INVALID_URL,"Invalid URL '"+e+"'.")}function kue(e){return new fi(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Aue(){return new fi(ui.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AW+"' property when initializing the app?")}function Due(){return new fi(ui.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jue(){return new fi(ui.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Iue(e){return new fi(ui.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $k(e){return new fi(ui.INVALID_ARGUMENT,e)}function DW(){return new fi(ui.APP_DELETED,"The Firebase app was deleted.")}function Rue(e){return new fi(ui.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _x(e,t){return new fi(ui.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _g(e){throw new fi(ui.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=wo.makeFromUrl(t,n)}catch{return new wo(t,"")}if(r.path==="")return r;throw kue(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},m=n===kW?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${g}`,"i"),b=[{regex:c,indices:l,postModify:s},{regex:p,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<b.length;w++){const T=b[w],C=T.regex.exec(t);if(C){const _=C[T.indices.bucket];let N=C[T.indices.path];N||(N=""),r=new wo(_,N),T.postModify(r);break}}if(r==null)throw Cue(t);return r}}class Oue{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fue(e,t,n){let r=1,i=null,s=null,o=!1,c=0;function l(){return c===2}let u=!1;function d(...g){u||(u=!0,t.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,e(p,l())},g)}function h(){s&&clearTimeout(s)}function p(g,...v){if(u){h();return}if(g){h(),d.call(null,g,...v);return}if(l()||o){h(),d.call(null,g,...v);return}r<64&&(r*=2);let b;c===1?(c=2,b=0):b=(r+Math.random())*1e3,f(b)}let y=!1;function m(g){y||(y=!0,h(),!u&&(i!==null?(g||(c=2),clearTimeout(i),f(0)):g||(c=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Pue(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uue(e){return e!==void 0}function Lue(e){return typeof e=="object"&&!Array.isArray(e)}function Kj(e){return typeof e=="string"||e instanceof String}function xF(e){return Xj()&&e instanceof Blob}function Xj(){return typeof Blob<"u"}function vF(e,t,n,r){if(r<t)throw $k(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw $k(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function jW(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ah;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ah||(Ah={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bue{constructor(t,n,r,i,s,o,c,l,u,d,f,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new A1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Ah.NO_ERROR,l=s.getStatus();if(!c||Mue(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Ah.ABORT;r(!1,new A1(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new A1(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());Uue(l)?s(l):s()}catch(l){o(l)}else if(c!==null){const l=Qj();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(i.canceled){const l=this.appDelete_?DW():Sue();o(l)}else{const l=Nue();o(l)}};this.canceled_?n(!1,new A1(!1,null,!0)):this.backoffId_=Fue(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Pue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class A1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Vue(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Wue(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function que(e,t){t&&(e["X-Firebase-GMPID"]=t)}function zue(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function $ue(e,t,n,r,i,s,o=!0){const c=jW(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return que(u,t),Vue(u,n),Wue(u,s),zue(u,r),new Bue(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gue(...e){const t=Hue();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Xj())return new Blob(e);throw new fi(ui.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Que(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kue(e){if(typeof atob>"u")throw Iue("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hN{constructor(t,n){this.data=t,this.contentType=n||null}}function Xue(e,t){switch(e){case Tl.RAW:return new hN(IW(t));case Tl.BASE64:case Tl.BASE64URL:return new hN(RW(e,t));case Tl.DATA_URL:return new hN(Zue(t),Jue(t))}throw Qj()}function IW(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Yue(e){let t;try{t=decodeURIComponent(e)}catch{throw _x(Tl.DATA_URL,"Malformed data URL.")}return IW(t)}function RW(e,t){switch(e){case Tl.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw _x(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tl.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw _x(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Kue(t)}catch(i){throw i.message.includes("polyfill")?i:_x(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class OW{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw _x(Tl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ede(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Zue(e){const t=new OW(e);return t.base64?RW(Tl.BASE64,t.rest):Yue(t.rest)}function Jue(e){return new OW(e).contentType}function ede(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n){let r=0,i="";xF(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(xF(this.data_)){const r=this.data_,i=Que(r,t,n);return i===null?null:new Id(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Id(r,!0)}}static getBlob(...t){if(Xj()){const n=t.map(r=>r instanceof Id?r.data_:r);return new Id(Gue.apply(null,n))}else{const n=t.map(o=>Kj(o)?Xue(Tl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new Id(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(e){let t;try{t=JSON.parse(e)}catch{return null}return Lue(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tde(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function nde(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function PW(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rde(e,t){return t}class na{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||rde}}let D1=null;function ide(e){return!Kj(e)||e.length<2?e:PW(e)}function UW(){if(D1)return D1;const e=[];e.push(new na("bucket")),e.push(new na("generation")),e.push(new na("metageneration")),e.push(new na("name","fullPath",!0));function t(s,o){return ide(o)}const n=new na("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new na("size");return i.xform=r,e.push(i),e.push(new na("timeCreated")),e.push(new na("updated")),e.push(new na("md5Hash",null,!0)),e.push(new na("cacheControl",null,!0)),e.push(new na("contentDisposition",null,!0)),e.push(new na("contentEncoding",null,!0)),e.push(new na("contentLanguage",null,!0)),e.push(new na("contentType",null,!0)),e.push(new na("metadata","customMetadata",!0)),D1=e,D1}function sde(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new wo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function ade(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return sde(r,e),r}function LW(e,t,n){const r=FW(t);return r===null?null:ade(e,r,n)}function ode(e,t,n,r){const i=FW(t);if(i===null||!Kj(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,f=e.fullPath,h="/b/"+o(d)+"/o/"+o(f),p=Yj(h,n,r),y=jW({alt:"media",token:u});return p+y})[0]}function cde(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class MW{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(e){if(!e)throw Qj()}function lde(e,t){function n(r,i){const s=LW(e,i,t);return BW(s!==null),s}return n}function ude(e,t){function n(r,i){const s=LW(e,i,t);return BW(s!==null),ode(s,i,e.host,e._protocol)}return n}function VW(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Tue():i=_ue():n.getStatus()===402?i=wue(e.bucket):n.getStatus()===403?i=Eue(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function dde(e){const t=VW(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=bue(e.path)),s.serverResponse=i.serverResponse,s}return n}function fde(e,t,n){const r=t.fullServerUrl(),i=Yj(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,c=new MW(i,s,ude(e,n),o);return c.errorHandler=dde(t),c}function hde(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function pde(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=hde(null,t)),r}function mde(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const l=c();o["Content-Type"]="multipart/related; boundary="+l;const u=pde(t,r,i),d=cde(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Id.getBlob(f,r,h);if(p===null)throw Due();const y={name:u.fullPath},m=Yj(s,e.host,e._protocol),g="POST",v=e.maxUploadRetryTime,x=new MW(m,g,lde(e,n),v);return x.urlParams=y,x.headers=o,x.body=p.uploadData(),x.errorHandler=VW(t),x}class gde{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ah.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ah.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ah.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw _g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _g("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _g("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _g("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _g("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class xde extends gde{initXhr(){this.xhr_.responseType="text"}}function WW(){return new xde}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n){this._service=t,n instanceof wo?this._location=n:this._location=wo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $h(t,n)}get root(){const t=new wo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PW(this._location.path)}get storage(){return this._service}get parent(){const t=tde(this._location.path);if(t===null)return null;const n=new wo(this._location.bucket,t);return new $h(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Rue(t)}}function vde(e,t,n){e._throwIfRoot("uploadBytes");const r=mde(e.storage,e._location,UW(),new Id(t,!0),n);return e.storage.makeRequestWithTokens(r,WW).then(i=>({metadata:i,ref:e}))}function yde(e){e._throwIfRoot("getDownloadURL");const t=fde(e.storage,e._location,UW());return e.storage.makeRequestWithTokens(t,WW).then(n=>{if(n===null)throw jue();return n})}function bde(e,t){const n=nde(e._location.path,t),r=new wo(e._location.bucket,n);return new $h(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(e){return/^[A-Za-z]+:\/\//.test(e)}function _de(e,t){return new $h(e,t)}function qW(e,t){if(e instanceof Zj){const n=e;if(n._bucket==null)throw Aue();const r=new $h(n,n._bucket);return t!=null?qW(r,t):r}else return t!==void 0?bde(e,t):e}function Tde(e,t){if(t&&wde(t)){if(e instanceof Zj)return _de(e,t);throw $k("To use ref(service, url), the first argument must be a Storage instance.")}else return qW(e,t)}function yF(e,t){const n=t==null?void 0:t[AW];return n==null?null:wo.makeFromBucketSpec(n,e)}function Ede(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:bB(i,e.app.options.projectId))}class Zj{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=kW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vue,this._maxUploadRetryTime=yue,this._requests=new Set,i!=null?this._bucket=wo.makeFromBucketSpec(i,this._host):this._bucket=yF(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wo.makeFromBucketSpec(this._url,t):this._bucket=yF(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){vF("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){vF("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $h(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Oue(DW());{const o=$ue(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const bF="@firebase/storage",wF="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="storage";function Nde(e,t,n){return e=Qr(e),vde(e,t,n)}function Sde(e){return e=Qr(e),yde(e)}function Cde(e,t){return e=Qr(e),Tde(e,t)}function kde(e=JD(),t){e=Qr(e);const r=Zw(e,zW).getImmediate({identifier:t}),i=xB("storage");return i&&Ade(r,...i),r}function Ade(e,t,n,r={}){Ede(e,t,n,r)}function Dde(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Zj(n,r,i,t,lp)}function jde(){Mh(new pf(zW,Dde,"PUBLIC").setMultipleInstances(!0)),Cl(bF,wF,""),Cl(bF,wF,"esm2017")}jde();const Ide={apiKey:"AIzaSyDAY6SbxMjFxgzzV4_drApxuiit4lnJmfw",authDomain:"group-study-3b0ee.firebaseapp.com",projectId:"group-study-3b0ee",storageBucket:"group-study-3b0ee.firebasestorage.app",messagingSenderId:"209242981722",appId:"1:209242981722:web:817829ea089db024851f63",measurementId:"G-BYKDT76GTT"},Jj=TB(Ide),lh=goe(Jj),Pe=rue(Jj),Rde=kde(Jj),Ode={},_F=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Ode?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},Fde=e=>e?_F(e):_F;var $W={exports:{}},HW={},GW={exports:{}},QW={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=A;function Pde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ude=typeof Object.is=="function"?Object.is:Pde,Lde=s0.useState,Mde=s0.useEffect,Bde=s0.useLayoutEffect,Vde=s0.useDebugValue;function Wde(e,t){var n=t(),r=Lde({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Bde(function(){i.value=n,i.getSnapshot=t,pN(i)&&s({inst:i})},[e,n,t]),Mde(function(){return pN(i)&&s({inst:i}),e(function(){pN(i)&&s({inst:i})})},[e]),Vde(n),n}function pN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ude(e,n)}catch{return!0}}function qde(e,t){return t()}var zde=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qde:Wde;QW.useSyncExternalStore=s0.useSyncExternalStore!==void 0?s0.useSyncExternalStore:zde;GW.exports=QW;var KW=GW.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_=A,$de=KW;function Hde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gde=typeof Object.is=="function"?Object.is:Hde,Qde=$de.useSyncExternalStore,Kde=b_.useRef,Xde=b_.useEffect,Yde=b_.useMemo,Zde=b_.useDebugValue;HW.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Kde(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Yde(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return f=y}return f=p}if(y=f,Gde(d,p))return y;var m=r(p);return i!==void 0&&i(y,m)?(d=p,y):(d=p,f=m)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var c=Qde(e,s[0],s[1]);return Xde(function(){o.hasValue=!0,o.value=c},[c]),Zde(c),c};$W.exports=HW;var Jde=$W.exports;const efe=Iw(Jde),XW={},{useDebugValue:tfe}=zr,{useSyncExternalStoreWithSelector:nfe}=efe;let TF=!1;const rfe=e=>e;function ife(e,t=rfe,n){(XW?"production":void 0)!=="production"&&n&&!TF&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),TF=!0);const r=nfe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tfe(r),r}const EF=e=>{(XW?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Fde(e):e,n=(r,i)=>ife(t,r,i);return Object.assign(n,t),n},Lf=e=>e?EF(e):EF,sfe={};function afe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),c=(s=n.getItem(i))!=null?s:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const gv=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return gv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gv(r)(n)}}}},ofe=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},o=!1;const c=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...g)},r,i);const d=gv(s.serialize),f=()=>{const g=s.partialize({...r()});let v;const x=d({state:g,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{v=b});if(v)throw v;return x},h=i.setState;i.setState=(g,v)=>{h(g,v),f()};const p=e((...g)=>{n(...g),f()},r,i);let y;const m=()=>{var g;if(!u)return;o=!1,c.forEach(x=>x(r()));const v=((g=s.onRehydrateStorage)==null?void 0:g.call(s,r()))||void 0;return gv(u.getItem.bind(u))(s.name).then(x=>{if(x)return s.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return s.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var b;return y=s.merge(x,(b=r())!=null?b:p),n(y,!0),f()}).then(()=>{v==null||v(y,void 0),o=!0,l.forEach(x=>x(y))}).catch(x=>{v==null||v(void 0,x)})};return i.persist={setOptions:g=>{s={...s,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(c.add(g),()=>{c.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},m(),y||p},cfe=(e,t)=>(n,r,i)=>{let s={storage:afe(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...t},o=!1;const c=new Set,l=new Set;let u=s.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const d=()=>{const m=s.partialize({...r()});return u.setItem(s.name,{state:m,version:s.version})},f=i.setState;i.setState=(m,g)=>{f(m,g),d()};const h=e((...m)=>{n(...m),d()},r,i);i.getInitialState=()=>h;let p;const y=()=>{var m,g;if(!u)return;o=!1,c.forEach(x=>{var b;return x((b=r())!=null?b:h)});const v=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(m=r())!=null?m:h))||void 0;return gv(u.getItem.bind(u))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[w,T]=x;if(p=s.merge(T,(b=r())!=null?b:h),n(p,!0),w)return d()}).then(()=>{v==null||v(p,void 0),p=r(),o=!0,l.forEach(x=>x(p))}).catch(x=>{v==null||v(void 0,x)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:m=>(c.add(m),()=>{c.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||y(),p||h},lfe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((sfe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ofe(e,t)):cfe(e,t),fp=lfe,Ki=Lf()(fp(e=>({user:null,isLoading:!0,setUser:t=>e({user:t,isLoading:!1}),setLoading:t=>e({isLoading:t}),logout:()=>e({user:null})}),{name:"auth-storage",partialize:e=>({user:e.user})})),ufe=e=>{const t=document.getElementById("theme-color-meta");t&&t.setAttribute("content",e?"#0f172a":"#ffffff")},YW=Lf()(fp((e,t)=>({theme:"system",hapticEnabled:!0,setTheme:n=>{e({theme:n});const r=window.document.documentElement;r.classList.remove("light","dark");let i=!1;n==="system"?(i=window.matchMedia("(prefers-color-scheme: dark)").matches,r.classList.add(i?"dark":"light")):(i=n==="dark",r.classList.add(n)),ufe(i)},setHapticEnabled:n=>{e({hapticEnabled:n})},triggerHaptic:(n="light")=>{const{hapticEnabled:r}=t();if(r&&"vibrate"in navigator){const i=n==="light"?10:n==="medium"?20:30;navigator.vibrate(i)}}}),{name:"theme-storage"}));var Sy=e=>e.type==="checkbox",xh=e=>e instanceof Date,Ba=e=>e==null;const ZW=e=>typeof e=="object";var Fi=e=>!Ba(e)&&!Array.isArray(e)&&ZW(e)&&!xh(e),dfe=e=>Fi(e)&&e.target?Sy(e.target)?e.target.checked:e.target.value:e,ffe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hfe=(e,t)=>e.has(ffe(t)),pfe=e=>{const t=e.constructor&&e.constructor.prototype;return Fi(t)&&t.hasOwnProperty("isPrototypeOf")},e4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zi(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(e4&&(e instanceof Blob||r))&&(n||Fi(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!pfe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Zi(e[i]));else return e;return t}var w_=e=>/^\w*$/.test(e),yi=e=>e===void 0,t4=e=>Array.isArray(e)?e.filter(Boolean):[],n4=e=>t4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),St=(e,t,n)=>{if(!t||!Fi(e))return n;const r=(w_(t)?[t]:n4(t)).reduce((i,s)=>Ba(i)?i:i[s],e);return yi(r)||r===e?yi(e[t])?n:e[t]:r},fl=e=>typeof e=="boolean",Nr=(e,t,n)=>{let r=-1;const i=w_(t)?[t]:n4(t),s=i.length,o=s-1;for(;++r<s;){const c=i[r];let l=n;if(r!==o){const u=e[c];l=Fi(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}};const NF={BLUR:"blur",FOCUS_OUT:"focusout"},kc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mfe=zr.createContext(null);mfe.displayName="HookFormContext";var gfe=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==kc.all&&(t._proxyFormState[o]=!r||kc.all),e[o]}});return i};const xfe=typeof window<"u"?zr.useLayoutEffect:zr.useEffect;var xo=e=>typeof e=="string",vfe=(e,t,n,r,i)=>xo(e)?(r&&t.watch.add(e),St(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),St(n,s))):(r&&(t.watchAll=!0),n),Hk=e=>Ba(e)||!ZW(e);function Rd(e,t,n=new WeakSet){if(Hk(e)||Hk(t))return Object.is(e,t);if(xh(e)&&xh(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const c=t[s];if(xh(o)&&xh(c)||Fi(o)&&Fi(c)||Array.isArray(o)&&Array.isArray(c)?!Rd(o,c,n):!Object.is(o,c))return!1}}return!0}var JW=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Tx=e=>Array.isArray(e)?e:[e],SF=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}};function eq(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],s=t[r];if(i&&Fi(i)&&s){const o=eq(i,s);Fi(o)&&(n[r]=o)}else e[r]&&(n[r]=s)}return n}var sa=e=>Fi(e)&&!Object.keys(e).length,r4=e=>e.type==="file",Ac=e=>typeof e=="function",k2=e=>{if(!e4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tq=e=>e.type==="select-multiple",i4=e=>e.type==="radio",yfe=e=>i4(e)||Sy(e),mN=e=>k2(e)&&e.isConnected;function bfe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=yi(e)?r++:e[t[r++]];return e}function wfe(e){for(const t in e)if(e.hasOwnProperty(t)&&!yi(e[t]))return!1;return!0}function Ci(e,t){const n=Array.isArray(t)?t:w_(t)?[t]:n4(t),r=n.length===1?e:bfe(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Fi(r)&&sa(r)||Array.isArray(r)&&wfe(r))&&Ci(e,n.slice(0,-1)),e}var _fe=e=>{for(const t in e)if(Ac(e[t]))return!0;return!1};function nq(e){return Array.isArray(e)||Fi(e)&&!_fe(e)}function Gk(e,t={}){for(const n in e){const r=e[n];nq(r)?(t[n]=Array.isArray(r)?[]:{},Gk(r,t[n])):yi(r)||(t[n]=!0)}return t}function Gp(e,t,n){n||(n=Gk(t));for(const r in e){const i=e[r];if(nq(i))yi(t)||Hk(n[r])?n[r]=Gk(i,Array.isArray(i)?[]:{}):Gp(i,Ba(t)?{}:t[r],n[r]);else{const s=t[r];n[r]=!Rd(i,s)}}return n}const CF={value:!1,isValid:!1},kF={value:!0,isValid:!0};var rq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yi(e[0].attributes.value)?yi(e[0].value)||e[0].value===""?kF:{value:e[0].value,isValid:!0}:kF:CF}return CF},iq=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>yi(e)?e:t?e===""?NaN:e&&+e:n&&xo(e)?new Date(e):r?r(e):e;const AF={isValid:!1,value:null};var sq=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,AF):AF;function DF(e){const t=e.ref;return r4(t)?t.files:i4(t)?sq(e.refs).value:tq(t)?[...t.selectedOptions].map(({value:n})=>n):Sy(t)?rq(e.refs).value:iq(yi(t.value)?e.ref.value:t.value,e)}var Tfe=(e,t,n,r)=>{const i={};for(const s of e){const o=St(t,s);o&&Nr(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},A2=e=>e instanceof RegExp,Tg=e=>yi(e)?e:A2(e)?e.source:Fi(e)?A2(e.value)?e.value.source:e.value:e,jF=e=>({isOnSubmit:!e||e===kc.onSubmit,isOnBlur:e===kc.onBlur,isOnChange:e===kc.onChange,isOnAll:e===kc.all,isOnTouch:e===kc.onTouched});const IF="AsyncFunction";var Efe=e=>!!e&&!!e.validate&&!!(Ac(e.validate)&&e.validate.constructor.name===IF||Fi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===IF)),Nfe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),RF=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ex=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=St(e,i);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Ex(c,t))break}else if(Fi(c)&&Ex(c,t))break}}};function OF(e,t,n){const r=St(e,n);if(r||w_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=St(t,s),c=St(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(c&&c.type)return{name:s,error:c};if(c&&c.root&&c.root.type)return{name:`${s}.root`,error:c.root};i.pop()}return{name:n}}var Sfe=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return sa(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||kc.all))},Cfe=(e,t,n)=>!e||!t||e===t||Tx(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),kfe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Afe=(e,t)=>!t4(St(e,t)).length&&Ci(e,t),Dfe=(e,t,n)=>{const r=Tx(St(e,n));return Nr(r,"root",t[n]),Nr(e,n,r),e};function FF(e,t,n="validate"){if(xo(e)||Array.isArray(e)&&e.every(xo)||fl(e)&&!e)return{type:n,message:xo(e)?e:"",ref:t}}var Rp=e=>Fi(e)&&!A2(e)?e:{value:e,message:""},PF=async(e,t,n,r,i,s)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:g,mount:v}=e._f,x=St(n,m);if(!v||t.has(m))return{};const b=c?c[0]:o,w=E=>{i&&b.reportValidity&&(b.setCustomValidity(fl(E)?"":E||""),b.reportValidity())},T={},C=i4(o),_=Sy(o),N=C||_,k=(g||r4(o))&&yi(o.value)&&yi(x)||k2(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,j=JW.bind(null,m,r,T),D=(E,I,R,V=pu.maxLength,M=pu.minLength)=>{const H=E?I:R;T[m]={type:E?V:M,message:H,ref:o,...j(E?V:M,H)}};if(s?!Array.isArray(x)||!x.length:l&&(!N&&(k||Ba(x))||fl(x)&&!x||_&&!rq(c).isValid||C&&!sq(c).isValid)){const{value:E,message:I}=xo(l)?{value:!!l,message:l}:Rp(l);if(E&&(T[m]={type:pu.required,message:I,ref:b,...j(pu.required,I)},!r))return w(I),T}if(!k&&(!Ba(f)||!Ba(h))){let E,I;const R=Rp(h),V=Rp(f);if(!Ba(x)&&!isNaN(x)){const M=o.valueAsNumber||x&&+x;Ba(R.value)||(E=M>R.value),Ba(V.value)||(I=M<V.value)}else{const M=o.valueAsDate||new Date(x),H=W=>new Date(new Date().toDateString()+" "+W),G=o.type=="time",P=o.type=="week";xo(R.value)&&x&&(E=G?H(x)>H(R.value):P?x>R.value:M>new Date(R.value)),xo(V.value)&&x&&(I=G?H(x)<H(V.value):P?x<V.value:M<new Date(V.value))}if((E||I)&&(D(!!E,R.message,V.message,pu.max,pu.min),!r))return w(T[m].message),T}if((u||d)&&!k&&(xo(x)||s&&Array.isArray(x))){const E=Rp(u),I=Rp(d),R=!Ba(E.value)&&x.length>+E.value,V=!Ba(I.value)&&x.length<+I.value;if((R||V)&&(D(R,E.message,I.message),!r))return w(T[m].message),T}if(p&&!k&&xo(x)){const{value:E,message:I}=Rp(p);if(A2(E)&&!x.match(E)&&(T[m]={type:pu.pattern,message:I,ref:o,...j(pu.pattern,I)},!r))return w(I),T}if(y){if(Ac(y)){const E=await y(x,n),I=FF(E,b);if(I&&(T[m]={...I,...j(pu.validate,I.message)},!r))return w(I.message),T}else if(Fi(y)){let E={};for(const I in y){if(!sa(E)&&!r)break;const R=FF(await y[I](x,n),b,I);R&&(E={...R,...j(I,R.message)},w(R.message),r&&(T[m]=E))}if(!sa(E)&&(T[m]={ref:b,...E},!r))return T}}return w(!0),T};const jfe={mode:kc.onSubmit,reValidateMode:kc.onChange,shouldFocusError:!0};function Ife(e={}){let t={...jfe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ac(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Fi(t.defaultValues)||Fi(t.values)?Zi(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Zi(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:SF(),state:SF()},p=t.criteriaMode===kc.all,y=X=>ue=>{clearTimeout(u),u=setTimeout(X,ue)},m=async X=>{if(!t.disabled&&(d.isValid||f.isValid||X)){const ue=t.resolver?sa((await _()).errors):await k(r,!0);ue!==n.isValid&&h.state.next({isValid:ue})}},g=(X,ue)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((X||Array.from(c.mount)).forEach(te=>{te&&(ue?Nr(n.validatingFields,te,ue):Ci(n.validatingFields,te))}),h.state.next({validatingFields:n.validatingFields,isValidating:!sa(n.validatingFields)}))},v=(X,ue=[],te,oe,le=!0,ae=!0)=>{if(oe&&te&&!t.disabled){if(o.action=!0,ae&&Array.isArray(St(r,X))){const Te=te(St(r,X),oe.argA,oe.argB);le&&Nr(r,X,Te)}if(ae&&Array.isArray(St(n.errors,X))){const Te=te(St(n.errors,X),oe.argA,oe.argB);le&&Nr(n.errors,X,Te),Afe(n.errors,X)}if((d.touchedFields||f.touchedFields)&&ae&&Array.isArray(St(n.touchedFields,X))){const Te=te(St(n.touchedFields,X),oe.argA,oe.argB);le&&Nr(n.touchedFields,X,Te)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Gp(i,s)),h.state.next({name:X,isDirty:D(X,ue),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Nr(s,X,ue)},x=(X,ue)=>{Nr(n.errors,X,ue),h.state.next({errors:n.errors})},b=X=>{n.errors=X,h.state.next({errors:n.errors,isValid:!1})},w=(X,ue,te,oe)=>{const le=St(r,X);if(le){const ae=St(s,X,yi(te)?St(i,X):te);yi(ae)||oe&&oe.defaultChecked||ue?Nr(s,X,ue?ae:DF(le._f)):R(X,ae),o.mount&&!o.action&&m()}},T=(X,ue,te,oe,le)=>{let ae=!1,Te=!1;const Ue={name:X};if(!t.disabled){if(!te||oe){(d.isDirty||f.isDirty)&&(Te=n.isDirty,n.isDirty=Ue.isDirty=D(),ae=Te!==Ue.isDirty);const qe=Rd(St(i,X),ue);Te=!!St(n.dirtyFields,X),qe?Ci(n.dirtyFields,X):Nr(n.dirtyFields,X,!0),Ue.dirtyFields=n.dirtyFields,ae=ae||(d.dirtyFields||f.dirtyFields)&&Te!==!qe}if(te){const qe=St(n.touchedFields,X);qe||(Nr(n.touchedFields,X,te),Ue.touchedFields=n.touchedFields,ae=ae||(d.touchedFields||f.touchedFields)&&qe!==te)}ae&&le&&h.state.next(Ue)}return ae?Ue:{}},C=(X,ue,te,oe)=>{const le=St(n.errors,X),ae=(d.isValid||f.isValid)&&fl(ue)&&n.isValid!==ue;if(t.delayError&&te?(l=y(()=>x(X,te)),l(t.delayError)):(clearTimeout(u),l=null,te?Nr(n.errors,X,te):Ci(n.errors,X)),(te?!Rd(le,te):le)||!sa(oe)||ae){const Te={...oe,...ae&&fl(ue)?{isValid:ue}:{},errors:n.errors,name:X};n={...n,...Te},h.state.next(Te)}},_=async X=>{g(X,!0);const ue=await t.resolver(s,t.context,Tfe(X||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(X),ue},N=async X=>{const{errors:ue}=await _(X);if(X)for(const te of X){const oe=St(ue,te);oe?Nr(n.errors,te,oe):Ci(n.errors,te)}else n.errors=ue;return ue},k=async(X,ue,te={valid:!0})=>{for(const oe in X){const le=X[oe];if(le){const{_f:ae,...Te}=le;if(ae){const Ue=c.array.has(ae.name),qe=le._f&&Efe(le._f);qe&&d.validatingFields&&g([ae.name],!0);const nt=await PF(le,c.disabled,s,p,t.shouldUseNativeValidation&&!ue,Ue);if(qe&&d.validatingFields&&g([ae.name]),nt[ae.name]&&(te.valid=!1,ue))break;!ue&&(St(nt,ae.name)?Ue?Dfe(n.errors,nt,ae.name):Nr(n.errors,ae.name,nt[ae.name]):Ci(n.errors,ae.name))}!sa(Te)&&await k(Te,ue,te)}}return te.valid},j=()=>{for(const X of c.unMount){const ue=St(r,X);ue&&(ue._f.refs?ue._f.refs.every(te=>!mN(te)):!mN(ue._f.ref))&&Z(X)}c.unMount=new Set},D=(X,ue)=>!t.disabled&&(X&&ue&&Nr(s,X,ue),!Rd(W(),i)),E=(X,ue,te)=>vfe(X,c,{...o.mount?s:yi(ue)?i:xo(X)?{[X]:ue}:ue},te,ue),I=X=>t4(St(o.mount?s:i,X,t.shouldUnregister?St(i,X,[]):[])),R=(X,ue,te={})=>{const oe=St(r,X);let le=ue;if(oe){const ae=oe._f;ae&&(!ae.disabled&&Nr(s,X,iq(ue,ae)),le=k2(ae.ref)&&Ba(ue)?"":ue,tq(ae.ref)?[...ae.ref.options].forEach(Te=>Te.selected=le.includes(Te.value)):ae.refs?Sy(ae.ref)?ae.refs.forEach(Te=>{(!Te.defaultChecked||!Te.disabled)&&(Array.isArray(le)?Te.checked=!!le.find(Ue=>Ue===Te.value):Te.checked=le===Te.value||!!le)}):ae.refs.forEach(Te=>Te.checked=Te.value===le):r4(ae.ref)?ae.ref.value="":(ae.ref.value=le,ae.ref.type||h.state.next({name:X,values:Zi(s)})))}(te.shouldDirty||te.shouldTouch)&&T(X,le,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&P(X)},V=(X,ue,te)=>{for(const oe in ue){if(!ue.hasOwnProperty(oe))return;const le=ue[oe],ae=X+"."+oe,Te=St(r,ae);(c.array.has(X)||Fi(le)||Te&&!Te._f)&&!xh(le)?V(ae,le,te):R(ae,le,te)}},M=(X,ue,te={})=>{const oe=St(r,X),le=c.array.has(X),ae=Zi(ue);Nr(s,X,ae),le?(h.array.next({name:X,values:Zi(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&h.state.next({name:X,dirtyFields:Gp(i,s),isDirty:D(X,ae)})):oe&&!oe._f&&!Ba(ae)?V(X,ae,te):R(X,ae,te),RF(X,c)&&h.state.next({...n,name:X}),h.state.next({name:o.mount?X:void 0,values:Zi(s)})},H=async X=>{o.mount=!0;const ue=X.target;let te=ue.name,oe=!0;const le=St(r,te),ae=qe=>{oe=Number.isNaN(qe)||xh(qe)&&isNaN(qe.getTime())||Rd(qe,St(s,te,qe))},Te=jF(t.mode),Ue=jF(t.reValidateMode);if(le){let qe,nt;const Oe=ue.type?DF(le._f):dfe(X),Le=X.type===NF.BLUR||X.type===NF.FOCUS_OUT,Ze=!Nfe(le._f)&&!t.resolver&&!St(n.errors,te)&&!le._f.deps||kfe(Le,St(n.touchedFields,te),n.isSubmitted,Ue,Te),it=RF(te,c,Le);Nr(s,te,Oe),Le?(!ue||!ue.readOnly)&&(le._f.onBlur&&le._f.onBlur(X),l&&l(0)):le._f.onChange&&le._f.onChange(X);const Dt=T(te,Oe,Le),$t=!sa(Dt)||it;if(!Le&&h.state.next({name:te,type:X.type,values:Zi(s)}),Ze)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Le&&m():Le||m()),$t&&h.state.next({name:te,...it?{}:Dt});if(!Le&&it&&h.state.next({...n}),t.resolver){const{errors:Pt}=await _([te]);if(ae(Oe),oe){const xn=OF(n.errors,r,te),rn=OF(Pt,r,xn.name||te);qe=rn.error,te=rn.name,nt=sa(Pt)}}else g([te],!0),qe=(await PF(le,c.disabled,s,p,t.shouldUseNativeValidation))[te],g([te]),ae(Oe),oe&&(qe?nt=!1:(d.isValid||f.isValid)&&(nt=await k(r,!0)));oe&&(le._f.deps&&(!Array.isArray(le._f.deps)||le._f.deps.length>0)&&P(le._f.deps),C(te,nt,qe,Dt))}},G=(X,ue)=>{if(St(n.errors,ue)&&X.focus)return X.focus(),1},P=async(X,ue={})=>{let te,oe;const le=Tx(X);if(t.resolver){const ae=await N(yi(X)?X:le);te=sa(ae),oe=X?!le.some(Te=>St(ae,Te)):te}else X?(oe=(await Promise.all(le.map(async ae=>{const Te=St(r,ae);return await k(Te&&Te._f?{[ae]:Te}:Te)}))).every(Boolean),!(!oe&&!n.isValid)&&m()):oe=te=await k(r);return h.state.next({...!xo(X)||(d.isValid||f.isValid)&&te!==n.isValid?{}:{name:X},...t.resolver||!X?{isValid:te}:{},errors:n.errors}),ue.shouldFocus&&!oe&&Ex(r,G,X?le:c.mount),oe},W=(X,ue)=>{let te={...o.mount?s:i};return ue&&(te=eq(ue.dirtyFields?n.dirtyFields:n.touchedFields,te)),yi(X)?te:xo(X)?St(te,X):X.map(oe=>St(te,oe))},F=(X,ue)=>({invalid:!!St((ue||n).errors,X),isDirty:!!St((ue||n).dirtyFields,X),error:St((ue||n).errors,X),isValidating:!!St(n.validatingFields,X),isTouched:!!St((ue||n).touchedFields,X)}),O=X=>{X&&Tx(X).forEach(ue=>Ci(n.errors,ue)),h.state.next({errors:X?n.errors:{}})},L=(X,ue,te)=>{const oe=(St(r,X,{_f:{}})._f||{}).ref,le=St(n.errors,X)||{},{ref:ae,message:Te,type:Ue,...qe}=le;Nr(n.errors,X,{...qe,...ue,ref:oe}),h.state.next({name:X,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&oe&&oe.focus&&oe.focus()},K=(X,ue)=>Ac(X)?h.state.subscribe({next:te=>"values"in te&&X(E(void 0,ue),te)}):E(X,ue,!0),Q=X=>h.state.subscribe({next:ue=>{Cfe(X.name,ue.name,X.exact)&&Sfe(ue,X.formState||d,se,X.reRenderRoot)&&X.callback({values:{...s},...n,...ue,defaultValues:i})}}).unsubscribe,U=X=>(o.mount=!0,f={...f,...X.formState},Q({...X,formState:f})),Z=(X,ue={})=>{for(const te of X?Tx(X):c.mount)c.mount.delete(te),c.array.delete(te),ue.keepValue||(Ci(r,te),Ci(s,te)),!ue.keepError&&Ci(n.errors,te),!ue.keepDirty&&Ci(n.dirtyFields,te),!ue.keepTouched&&Ci(n.touchedFields,te),!ue.keepIsValidating&&Ci(n.validatingFields,te),!t.shouldUnregister&&!ue.keepDefaultValue&&Ci(i,te);h.state.next({values:Zi(s)}),h.state.next({...n,...ue.keepDirty?{isDirty:D()}:{}}),!ue.keepIsValid&&m()},pe=({disabled:X,name:ue})=>{(fl(X)&&o.mount||X||c.disabled.has(ue))&&(X?c.disabled.add(ue):c.disabled.delete(ue))},me=(X,ue={})=>{let te=St(r,X);const oe=fl(ue.disabled)||fl(t.disabled);return Nr(r,X,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:X}},name:X,mount:!0,...ue}}),c.mount.add(X),te?pe({disabled:fl(ue.disabled)?ue.disabled:t.disabled,name:X}):w(X,!0,ue.value),{...oe?{disabled:ue.disabled||t.disabled}:{},...t.progressive?{required:!!ue.required,min:Tg(ue.min),max:Tg(ue.max),minLength:Tg(ue.minLength),maxLength:Tg(ue.maxLength),pattern:Tg(ue.pattern)}:{},name:X,onChange:H,onBlur:H,ref:le=>{if(le){me(X,ue),te=St(r,X);const ae=yi(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Te=yfe(ae),Ue=te._f.refs||[];if(Te?Ue.find(qe=>qe===ae):ae===te._f.ref)return;Nr(r,X,{_f:{...te._f,...Te?{refs:[...Ue.filter(mN),ae,...Array.isArray(St(i,X))?[{}]:[]],ref:{type:ae.type,name:X}}:{ref:ae}}}),w(X,!1,void 0,ae)}else te=St(r,X,{}),te._f&&(te._f.mount=!1),(t.shouldUnregister||ue.shouldUnregister)&&!(hfe(c.array,X)&&o.action)&&c.unMount.add(X)}}},ye=()=>t.shouldFocusError&&Ex(r,G,c.mount),Fe=X=>{fl(X)&&(h.state.next({disabled:X}),Ex(r,(ue,te)=>{const oe=St(r,te);oe&&(ue.disabled=oe._f.disabled||X,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(le=>{le.disabled=oe._f.disabled||X}))},0,!1))},Y=(X,ue)=>async te=>{let oe;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let le=Zi(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:Te}=await _();n.errors=ae,le=Zi(Te)}else await k(r);if(c.disabled.size)for(const ae of c.disabled)Ci(le,ae);if(Ci(n.errors,"root"),sa(n.errors)){h.state.next({errors:{}});try{await X(le,te)}catch(ae){oe=ae}}else ue&&await ue({...n.errors},te),ye(),setTimeout(ye);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sa(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},ve=(X,ue={})=>{St(r,X)&&(yi(ue.defaultValue)?M(X,Zi(St(i,X))):(M(X,ue.defaultValue),Nr(i,X,Zi(ue.defaultValue))),ue.keepTouched||Ci(n.touchedFields,X),ue.keepDirty||(Ci(n.dirtyFields,X),n.isDirty=ue.defaultValue?D(X,Zi(St(i,X))):D()),ue.keepError||(Ci(n.errors,X),d.isValid&&m()),h.state.next({...n}))},B=(X,ue={})=>{const te=X?Zi(X):i,oe=Zi(te),le=sa(X),ae=le?i:oe;if(ue.keepDefaultValues||(i=te),!ue.keepValues){if(ue.keepDirtyValues){const Te=new Set([...c.mount,...Object.keys(Gp(i,s))]);for(const Ue of Array.from(Te))St(n.dirtyFields,Ue)?Nr(ae,Ue,St(s,Ue)):M(Ue,St(ae,Ue))}else{if(e4&&yi(X))for(const Te of c.mount){const Ue=St(r,Te);if(Ue&&Ue._f){const qe=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(k2(qe)){const nt=qe.closest("form");if(nt){nt.reset();break}}}}if(ue.keepFieldsRef)for(const Te of c.mount)M(Te,St(ae,Te));else r={}}s=t.shouldUnregister?ue.keepDefaultValues?Zi(i):{}:Zi(ae),h.array.next({values:{...ae}}),h.state.next({values:{...ae}})}c={mount:ue.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues||!t.shouldUnregister&&!sa(ae),o.watch=!!t.shouldUnregister,o.action=!1,ue.keepErrors||(n.errors={}),h.state.next({submitCount:ue.keepSubmitCount?n.submitCount:0,isDirty:le?!1:ue.keepDirty?n.isDirty:!!(ue.keepDefaultValues&&!Rd(X,i)),isSubmitted:ue.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:le?{}:ue.keepDirtyValues?ue.keepDefaultValues&&s?Gp(i,s):n.dirtyFields:ue.keepDefaultValues&&X?Gp(i,X):ue.keepDirty?n.dirtyFields:{},touchedFields:ue.keepTouched?n.touchedFields:{},errors:ue.keepErrors?n.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_e=(X,ue)=>B(Ac(X)?X(s):X,ue),Ee=(X,ue={})=>{const te=St(r,X),oe=te&&te._f;if(oe){const le=oe.refs?oe.refs[0]:oe.ref;le.focus&&(le.focus(),ue.shouldSelect&&Ac(le.select)&&le.select())}},se=X=>{n={...n,...X}},de={control:{register:me,unregister:Z,getFieldState:F,handleSubmit:Y,setError:L,_subscribe:Q,_runSchema:_,_focusError:ye,_getWatch:E,_getDirty:D,_setValid:m,_setFieldArray:v,_setDisabledField:pe,_setErrors:b,_getFieldArray:I,_reset:B,_resetDefaultValues:()=>Ac(t.defaultValues)&&t.defaultValues().then(X=>{_e(X,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:Fe,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(X){o=X},get _defaultValues(){return i},get _names(){return c},set _names(X){c=X},get _formState(){return n},get _options(){return t},set _options(X){t={...t,...X}}},subscribe:U,trigger:P,register:me,handleSubmit:Y,watch:K,setValue:M,getValues:W,reset:_e,resetField:ve,clearErrors:O,unregister:Z,setError:L,setFocus:Ee,getFieldState:F};return{...de,formControl:de}}function Rfe(e={}){const t=zr.useRef(void 0),n=zr.useRef(void 0),[r,i]=zr.useState({isDirty:!1,isValidating:!1,isLoading:Ac(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ac(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Ac(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=Ife(e);t.current={...c,formState:r}}const s=t.current.control;return s._options=e,xfe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),s._formState.isReady=!0,o},[s]),zr.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),zr.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),zr.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),zr.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),zr.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),zr.useEffect(()=>{var o;e.values&&!Rd(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),n.current=e.values,i(c=>({...c}))):s._resetDefaultValues()},[s,e.values]),zr.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=gfe(r,s),t.current}const UF=(e,t,n)=>{if(e&&"reportValidity"in e){const r=St(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},aq=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?UF(r.ref,n,e):r.refs&&r.refs.forEach(i=>UF(i,n,e))}},Ofe=(e,t)=>{t.shouldUseNativeValidation&&aq(e,t);const n={};for(const r in e){const i=St(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(Ffe(t.names||Object.keys(e),r)){const o=Object.assign({},St(n,r));Nr(o,"root",s),Nr(n,r,o)}else Nr(n,r,s)}return n},Ffe=(e,t)=>e.some(n=>n.startsWith(t+"."));var Pfe=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[o]={message:c.message,type:c.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=n[o].types,u=l&&l[r.code];n[o]=JW(o,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},Ufe=function(e,t,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return s.shouldUseNativeValidation&&aq({},s),{errors:{},values:n.raw?r:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:Ofe(Pfe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},nr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(nr||(nr={}));var LF;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(LF||(LF={}));const At=nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ed=e=>{switch(typeof e){case"undefined":return At.undefined;case"string":return At.string;case"number":return Number.isNaN(e)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(e)?At.array:e===null?At.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?At.promise:typeof Map<"u"&&e instanceof Map?At.map:typeof Set<"u"&&e instanceof Set?At.set:typeof Date<"u"&&e instanceof Date?At.date:At.object;default:return At.unknown}},ft=nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Hu extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(n(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return i(this),r}static assert(t){if(!(t instanceof Hu))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Hu.create=e=>new Hu(e);const Qk=(e,t)=>{let n;switch(e.code){case ft.invalid_type:e.received===At.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ft.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,nr.jsonStringifyReplacer)}`;break;case ft.unrecognized_keys:n=`Unrecognized key(s) in object: ${nr.joinValues(e.keys,", ")}`;break;case ft.invalid_union:n="Invalid input";break;case ft.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nr.joinValues(e.options)}`;break;case ft.invalid_enum_value:n=`Invalid enum value. Expected ${nr.joinValues(e.options)}, received '${e.received}'`;break;case ft.invalid_arguments:n="Invalid function arguments";break;case ft.invalid_return_type:n="Invalid function return type";break;case ft.invalid_date:n="Invalid date";break;case ft.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:nr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ft.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ft.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ft.custom:n="Invalid input";break;case ft.invalid_intersection_types:n="Intersection results could not be merged";break;case ft.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ft.not_finite:n="Number must be finite";break;default:n=t.defaultError,nr.assertNever(e)}return{message:n}};let Lfe=Qk;function Mfe(){return Lfe}const Bfe=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return{...i,path:s,message:c}};function wt(e,t){const n=Mfe(),r=Bfe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Qk?void 0:Qk].filter(i=>!!i)});e.common.issues.push(r)}class So{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return dn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return So.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return dn;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const dn=Object.freeze({status:"aborted"}),Yg=e=>({status:"dirty",value:e}),lc=e=>({status:"valid",value:e}),MF=e=>e.status==="aborted",BF=e=>e.status==="dirty",a0=e=>e.status==="valid",D2=e=>typeof Promise<"u"&&e instanceof Promise;var It;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(It||(It={}));class vf{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const VF=(e,t)=>{if(a0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Hu(e.common.issues);return this._error=n,this._error}}};function kn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??c.defaultError}:typeof c.data>"u"?{message:l??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:l??n??c.defaultError}},description:i}}class Zn{get description(){return this._def.description}_getType(t){return Ed(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ed(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new So,ctx:{common:t.parent.common,data:t.data,parsedType:Ed(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(D2(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ed(t)},i=this._parseSync({data:t,path:r.path,parent:r});return VF(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ed(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return a0(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>a0(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ed(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(D2(i)?i:Promise.resolve(i));return VF(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),c=()=>s.addIssue({code:ft.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new c0({schema:this,typeName:fn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return of.create(this,this._def)}nullable(){return l0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Il.create(this)}promise(){return O2.create(this,this._def)}or(t){return I2.create([this,t],this._def)}and(t){return R2.create(this,t,this._def)}transform(t){return new c0({...kn(this._def),schema:this,typeName:fn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Xk({...kn(this._def),innerType:this,defaultValue:n,typeName:fn.ZodDefault})}brand(){return new lhe({typeName:fn.ZodBranded,type:this,...kn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Yk({...kn(this._def),innerType:this,catchValue:n,typeName:fn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return s4.create(this,t)}readonly(){return Zk.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vfe=/^c[^\s-]{8,}$/i,Wfe=/^[0-9a-z]+$/,qfe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$fe=/^[a-z0-9_-]{21}$/i,Hfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Gfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Kfe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gN;const Xfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Jfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ehe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,the=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nhe=new RegExp(`^${oq}$`);function cq(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function rhe(e){return new RegExp(`^${cq(e)}$`)}function ihe(e){let t=`${oq}T${cq(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function she(e,t){return!!((t==="v4"||!t)&&Xfe.test(e)||(t==="v6"||!t)&&Zfe.test(e))}function ahe(e,t){if(!Hfe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function ohe(e,t){return!!((t==="v4"||!t)&&Yfe.test(e)||(t==="v6"||!t)&&Jfe.test(e))}class zd extends Zn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==At.string){const s=this._getOrReturnCtx(t);return wt(s,{code:ft.invalid_type,expected:At.string,received:s.parsedType}),dn}const r=new So;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,c=t.data.length<s.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?wt(i,{code:ft.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&wt(i,{code:ft.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Qfe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"email",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")gN||(gN=new RegExp(Kfe,"u")),gN.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"emoji",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")zfe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"uuid",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")$fe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"nanoid",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Vfe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"cuid",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Wfe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"cuid2",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")qfe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"ulid",code:ft.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),wt(i,{validation:"url",code:ft.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"regex",code:ft.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?ihe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?nhe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?rhe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Gfe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"duration",code:ft.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?she(t.data,s.version)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"ip",code:ft.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?ahe(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"jwt",code:ft.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?ohe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"cidr",code:ft.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?ehe.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"base64",code:ft.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?the.test(t.data)||(i=this._getOrReturnCtx(t,i),wt(i,{validation:"base64url",code:ft.invalid_string,message:s.message}),r.dirty()):nr.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:ft.invalid_string,...It.errToObj(r)})}_addCheck(t){return new zd({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...It.errToObj(t)})}url(t){return this._addCheck({kind:"url",...It.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...It.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...It.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...It.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...It.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...It.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...It.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...It.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...It.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...It.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...It.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...It.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...It.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...It.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...It.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...It.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...It.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...It.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...It.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...It.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...It.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...It.errToObj(n)})}nonempty(t){return this.min(1,It.errToObj(t))}trim(){return new zd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zd.create=e=>new zd({checks:[],typeName:fn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...kn(e)});function che(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class xv extends Zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==At.number){const s=this._getOrReturnCtx(t);return wt(s,{code:ft.invalid_type,expected:At.number,received:s.parsedType}),dn}let r;const i=new So;for(const s of this._def.checks)s.kind==="int"?nr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?che(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.not_finite,message:s.message}),i.dirty()):nr.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,It.toString(n))}gt(t,n){return this.setLimit("min",t,!1,It.toString(n))}lte(t,n){return this.setLimit("max",t,!0,It.toString(n))}lt(t,n){return this.setLimit("max",t,!1,It.toString(n))}setLimit(t,n,r,i){return new xv({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:It.toString(i)}]})}_addCheck(t){return new xv({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:It.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:It.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:It.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nr.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}xv.create=e=>new xv({checks:[],typeName:fn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...kn(e)});class vv extends Zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==At.bigint)return this._getInvalidInput(t);let r;const i=new So;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:ft.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):nr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return wt(n,{code:ft.invalid_type,expected:At.bigint,received:n.parsedType}),dn}gte(t,n){return this.setLimit("min",t,!0,It.toString(n))}gt(t,n){return this.setLimit("min",t,!1,It.toString(n))}lte(t,n){return this.setLimit("max",t,!0,It.toString(n))}lt(t,n){return this.setLimit("max",t,!1,It.toString(n))}setLimit(t,n,r,i){return new vv({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:It.toString(i)}]})}_addCheck(t){return new vv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:It.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vv.create=e=>new vv({checks:[],typeName:fn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...kn(e)});class WF extends Zn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==At.boolean){const r=this._getOrReturnCtx(t);return wt(r,{code:ft.invalid_type,expected:At.boolean,received:r.parsedType}),dn}return lc(t.data)}}WF.create=e=>new WF({typeName:fn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...kn(e)});class j2 extends Zn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==At.date){const s=this._getOrReturnCtx(t);return wt(s,{code:ft.invalid_type,expected:At.date,received:s.parsedType}),dn}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return wt(s,{code:ft.invalid_date}),dn}const r=new So;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),wt(i,{code:ft.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):nr.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new j2({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:It.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:It.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}j2.create=e=>new j2({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:fn.ZodDate,...kn(e)});class qF extends Zn{_parse(t){if(this._getType(t)!==At.symbol){const r=this._getOrReturnCtx(t);return wt(r,{code:ft.invalid_type,expected:At.symbol,received:r.parsedType}),dn}return lc(t.data)}}qF.create=e=>new qF({typeName:fn.ZodSymbol,...kn(e)});class zF extends Zn{_parse(t){if(this._getType(t)!==At.undefined){const r=this._getOrReturnCtx(t);return wt(r,{code:ft.invalid_type,expected:At.undefined,received:r.parsedType}),dn}return lc(t.data)}}zF.create=e=>new zF({typeName:fn.ZodUndefined,...kn(e)});class $F extends Zn{_parse(t){if(this._getType(t)!==At.null){const r=this._getOrReturnCtx(t);return wt(r,{code:ft.invalid_type,expected:At.null,received:r.parsedType}),dn}return lc(t.data)}}$F.create=e=>new $F({typeName:fn.ZodNull,...kn(e)});class HF extends Zn{constructor(){super(...arguments),this._any=!0}_parse(t){return lc(t.data)}}HF.create=e=>new HF({typeName:fn.ZodAny,...kn(e)});class GF extends Zn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return lc(t.data)}}GF.create=e=>new GF({typeName:fn.ZodUnknown,...kn(e)});class yf extends Zn{_parse(t){const n=this._getOrReturnCtx(t);return wt(n,{code:ft.invalid_type,expected:At.never,received:n.parsedType}),dn}}yf.create=e=>new yf({typeName:fn.ZodNever,...kn(e)});class QF extends Zn{_parse(t){if(this._getType(t)!==At.undefined){const r=this._getOrReturnCtx(t);return wt(r,{code:ft.invalid_type,expected:At.void,received:r.parsedType}),dn}return lc(t.data)}}QF.create=e=>new QF({typeName:fn.ZodVoid,...kn(e)});class Il extends Zn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==At.array)return wt(n,{code:ft.invalid_type,expected:At.array,received:n.parsedType}),dn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(wt(n,{code:o?ft.too_big:ft.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(wt(n,{code:ft.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(wt(n,{code:ft.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new vf(n,o,n.path,c)))).then(o=>So.mergeArray(r,o));const s=[...n.data].map((o,c)=>i.type._parseSync(new vf(n,o,n.path,c)));return So.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Il({...this._def,minLength:{value:t,message:It.toString(n)}})}max(t,n){return new Il({...this._def,maxLength:{value:t,message:It.toString(n)}})}length(t,n){return new Il({...this._def,exactLength:{value:t,message:It.toString(n)}})}nonempty(t){return this.min(1,t)}}Il.create=(e,t)=>new Il({type:e,minLength:null,maxLength:null,exactLength:null,typeName:fn.ZodArray,...kn(t)});function Qp(e){if(e instanceof Ii){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=of.create(Qp(r))}return new Ii({...e._def,shape:()=>t})}else return e instanceof Il?new Il({...e._def,type:Qp(e.element)}):e instanceof of?of.create(Qp(e.unwrap())):e instanceof l0?l0.create(Qp(e.unwrap())):e instanceof Hh?Hh.create(e.items.map(t=>Qp(t))):e}class Ii extends Zn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=nr.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==At.object){const u=this._getOrReturnCtx(t);return wt(u,{code:ft.invalid_type,expected:At.object,received:u.parsedType}),dn}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof yf&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new vf(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof yf){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")c.length>0&&(wt(i,{code:ft.unrecognized_keys,keys:c}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new vf(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>So.mergeObjectSync(r,u)):So.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return It.errToObj,new Ii({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:It.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Ii({...this._def,unknownKeys:"strip"})}passthrough(){return new Ii({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ii({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ii({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:fn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ii({...this._def,catchall:t})}pick(t){const n={};for(const r of nr.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ii({...this._def,shape:()=>n})}omit(t){const n={};for(const r of nr.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Ii({...this._def,shape:()=>n})}deepPartial(){return Qp(this)}partial(t){const n={};for(const r of nr.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new Ii({...this._def,shape:()=>n})}required(t){const n={};for(const r of nr.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof of;)s=s._def.innerType;n[r]=s}return new Ii({...this._def,shape:()=>n})}keyof(){return lq(nr.objectKeys(this.shape))}}Ii.create=(e,t)=>new Ii({shape:()=>e,unknownKeys:"strip",catchall:yf.create(),typeName:fn.ZodObject,...kn(t)});Ii.strictCreate=(e,t)=>new Ii({shape:()=>e,unknownKeys:"strict",catchall:yf.create(),typeName:fn.ZodObject,...kn(t)});Ii.lazycreate=(e,t)=>new Ii({shape:e,unknownKeys:"strip",catchall:yf.create(),typeName:fn.ZodObject,...kn(t)});class I2 extends Zn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new Hu(c.ctx.common.issues));return wt(n,{code:ft.invalid_union,unionErrors:o}),dn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(l=>new Hu(l));return wt(n,{code:ft.invalid_union,unionErrors:c}),dn}}get options(){return this._def.options}}I2.create=(e,t)=>new I2({options:e,typeName:fn.ZodUnion,...kn(t)});function Kk(e,t){const n=Ed(e),r=Ed(t);if(e===t)return{valid:!0,data:e};if(n===At.object&&r===At.object){const i=nr.objectKeys(t),s=nr.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of s){const l=Kk(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(n===At.array&&r===At.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],c=t[s],l=Kk(o,c);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===At.date&&r===At.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class R2 extends Zn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(MF(s)||MF(o))return dn;const c=Kk(s.value,o.value);return c.valid?((BF(s)||BF(o))&&n.dirty(),{status:n.value,value:c.data}):(wt(r,{code:ft.invalid_intersection_types}),dn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}R2.create=(e,t,n)=>new R2({left:e,right:t,typeName:fn.ZodIntersection,...kn(n)});class Hh extends Zn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==At.array)return wt(r,{code:ft.invalid_type,expected:At.array,received:r.parsedType}),dn;if(r.data.length<this._def.items.length)return wt(r,{code:ft.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),dn;!this._def.rest&&r.data.length>this._def.items.length&&(wt(r,{code:ft.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new vf(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>So.mergeArray(n,o)):So.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Hh({...this._def,rest:t})}}Hh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hh({items:e,typeName:fn.ZodTuple,rest:null,...kn(t)})};class KF extends Zn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==At.map)return wt(r,{code:ft.invalid_type,expected:At.map,received:r.parsedType}),dn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([c,l],u)=>({key:i._parse(new vf(r,c,r.path,[u,"key"])),value:s._parse(new vf(r,l,r.path,[u,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return dn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return dn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}}}KF.create=(e,t,n)=>new KF({valueType:t,keyType:e,typeName:fn.ZodMap,...kn(n)});class yv extends Zn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==At.set)return wt(r,{code:ft.invalid_type,expected:At.set,received:r.parsedType}),dn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(wt(r,{code:ft.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(wt(r,{code:ft.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return dn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const c=[...r.data.values()].map((l,u)=>s._parse(new vf(r,l,r.path,u)));return r.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,n){return new yv({...this._def,minSize:{value:t,message:It.toString(n)}})}max(t,n){return new yv({...this._def,maxSize:{value:t,message:It.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}yv.create=(e,t)=>new yv({valueType:e,minSize:null,maxSize:null,typeName:fn.ZodSet,...kn(t)});class XF extends Zn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}XF.create=(e,t)=>new XF({getter:e,typeName:fn.ZodLazy,...kn(t)});class YF extends Zn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return wt(n,{received:n.data,code:ft.invalid_literal,expected:this._def.value}),dn}return{status:"valid",value:t.data}}get value(){return this._def.value}}YF.create=(e,t)=>new YF({value:e,typeName:fn.ZodLiteral,...kn(t)});function lq(e,t){return new o0({values:e,typeName:fn.ZodEnum,...kn(t)})}class o0 extends Zn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return wt(n,{expected:nr.joinValues(r),received:n.parsedType,code:ft.invalid_type}),dn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return wt(n,{received:n.data,code:ft.invalid_enum_value,options:r}),dn}return lc(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return o0.create(t,{...this._def,...n})}exclude(t,n=this._def){return o0.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}o0.create=lq;class ZF extends Zn{_parse(t){const n=nr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==At.string&&r.parsedType!==At.number){const i=nr.objectValues(n);return wt(r,{expected:nr.joinValues(i),received:r.parsedType,code:ft.invalid_type}),dn}if(this._cache||(this._cache=new Set(nr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=nr.objectValues(n);return wt(r,{received:r.data,code:ft.invalid_enum_value,options:i}),dn}return lc(t.data)}get enum(){return this._def.values}}ZF.create=(e,t)=>new ZF({values:e,typeName:fn.ZodNativeEnum,...kn(t)});class O2 extends Zn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==At.promise&&n.common.async===!1)return wt(n,{code:ft.invalid_type,expected:At.promise,received:n.parsedType}),dn;const r=n.parsedType===At.promise?n.data:Promise.resolve(n.data);return lc(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}O2.create=(e,t)=>new O2({type:e,typeName:fn.ZodPromise,...kn(t)});class c0 extends Zn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{wt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return dn;const l=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return l.status==="aborted"?dn:l.status==="dirty"||n.value==="dirty"?Yg(l.value):l});{if(n.value==="aborted")return dn;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?dn:c.status==="dirty"||n.value==="dirty"?Yg(c.value):c}}if(i.type==="refinement"){const o=c=>{const l=i.refinement(c,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?dn:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?dn:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!a0(o))return dn;const c=i.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>a0(o)?Promise.resolve(i.transform(o.value,s)).then(c=>({status:n.value,value:c})):dn);nr.assertNever(i)}}c0.create=(e,t,n)=>new c0({schema:e,typeName:fn.ZodEffects,effect:t,...kn(n)});c0.createWithPreprocess=(e,t,n)=>new c0({schema:t,effect:{type:"preprocess",transform:e},typeName:fn.ZodEffects,...kn(n)});class of extends Zn{_parse(t){return this._getType(t)===At.undefined?lc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}of.create=(e,t)=>new of({innerType:e,typeName:fn.ZodOptional,...kn(t)});class l0 extends Zn{_parse(t){return this._getType(t)===At.null?lc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}l0.create=(e,t)=>new l0({innerType:e,typeName:fn.ZodNullable,...kn(t)});class Xk extends Zn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===At.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Xk.create=(e,t)=>new Xk({innerType:e,typeName:fn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...kn(t)});class Yk extends Zn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return D2(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Hu(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yk.create=(e,t)=>new Yk({innerType:e,typeName:fn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...kn(t)});class JF extends Zn{_parse(t){if(this._getType(t)!==At.nan){const r=this._getOrReturnCtx(t);return wt(r,{code:ft.invalid_type,expected:At.nan,received:r.parsedType}),dn}return{status:"valid",value:t.data}}}JF.create=e=>new JF({typeName:fn.ZodNaN,...kn(e)});class lhe extends Zn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class s4 extends Zn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?dn:s.status==="dirty"?(n.dirty(),Yg(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?dn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new s4({in:t,out:n,typeName:fn.ZodPipeline})}}class Zk extends Zn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(a0(i)&&(i.value=Object.freeze(i.value)),i);return D2(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Zk.create=(e,t)=>new Zk({innerType:e,typeName:fn.ZodReadonly,...kn(t)});var fn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(fn||(fn={}));const Jk=zd.create;yf.create;Il.create;const uhe=Ii.create;I2.create;R2.create;Hh.create;o0.create;O2.create;of.create;l0.create;const uq=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),__=A.createContext({}),T_=A.createContext(null),E_=typeof document<"u",a4=E_?A.useLayoutEffect:A.useEffect,dq=A.createContext({strict:!1}),o4=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),dhe="framerAppearId",fq="data-"+o4(dhe);function fhe(e,t,n,r){const{visualElement:i}=A.useContext(__),s=A.useContext(dq),o=A.useContext(T_),c=A.useContext(uq).reducedMotion,l=A.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=l.current;A.useInsertionEffect(()=>{u&&u.update(n,o)});const d=A.useRef(!!(n[fq]&&!window.HandoffComplete));return a4(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function lm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hhe(e,t,n){return A.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lm(n)&&(n.current=r))},[t])}function bv(e){return typeof e=="string"||Array.isArray(e)}function N_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const c4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l4=["initial",...c4];function S_(e){return N_(e.animate)||l4.some(t=>bv(e[t]))}function hq(e){return!!(S_(e)||e.variants)}function phe(e,t){if(S_(e)){const{initial:n,animate:r}=e;return{initial:n===!1||bv(n)?n:void 0,animate:bv(r)?r:void 0}}return e.inherit!==!1?t:{}}function mhe(e){const{initial:t,animate:n}=phe(e,A.useContext(__));return A.useMemo(()=>({initial:t,animate:n}),[eP(t),eP(n)])}function eP(e){return Array.isArray(e)?e.join(" "):e}const tP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wv={};for(const e in tP)wv[e]={isEnabled:t=>tP[e].some(n=>!!t[n])};function ghe(e){for(const t in e)wv[t]={...wv[t],...e[t]}}const u4=A.createContext({}),pq=A.createContext({}),xhe=Symbol.for("motionComponentSymbol");function vhe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&ghe(e);function s(c,l){let u;const d={...A.useContext(uq),...c,layoutId:yhe(c)},{isStatic:f}=d,h=mhe(c),p=r(c,f);if(!f&&E_){h.visualElement=fhe(i,p,d,t);const y=A.useContext(pq),m=A.useContext(dq).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,y))}return A.createElement(__.Provider,{value:h},u&&h.visualElement?A.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,c,hhe(p,h.visualElement,l),p,f,h.visualElement))}const o=A.forwardRef(s);return o[xhe]=i,o}function yhe({layoutId:e}){const t=A.useContext(u4).id;return t&&e!==void 0?t+"-"+e:e}function bhe(e){function t(r,i={}){return vhe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const whe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d4(e){return typeof e!="string"||e.includes("-")?!1:!!(whe.indexOf(e)>-1||/[A-Z]/.test(e))}const F2={};function _he(e){Object.assign(F2,e)}const Cy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hp=new Set(Cy);function mq(e,{layout:t,layoutId:n}){return hp.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!F2[e]||e==="opacity")}const Xa=e=>!!(e&&e.getVelocity),The={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ehe=Cy.length;function Nhe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Ehe;o++){const c=Cy[o];if(e[c]!==void 0){const l=The[c]||c;s+=`${l}(${e[c]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const gq=e=>t=>typeof t=="string"&&t.startsWith(e),xq=gq("--"),eA=gq("var(--"),She=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Che=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bf=(e,t,n)=>Math.min(Math.max(n,e),t),pp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nx={...pp,transform:e=>bf(0,1,e)},j1={...pp,default:1},Sx=e=>Math.round(e*1e5)/1e5,C_=/(-)?([\d]*\.?[\d])+/g,vq=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,khe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ky(e){return typeof e=="string"}const Ay=e=>({test:t=>ky(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bd=Ay("deg"),Rl=Ay("%"),Xt=Ay("px"),Ahe=Ay("vh"),Dhe=Ay("vw"),nP={...Rl,parse:e=>Rl.parse(e)/100,transform:e=>Rl.transform(e*100)},rP={...pp,transform:Math.round},yq={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,size:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,rotate:bd,rotateX:bd,rotateY:bd,rotateZ:bd,scale:j1,scaleX:j1,scaleY:j1,scaleZ:j1,skew:bd,skewX:bd,skewY:bd,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:Nx,originX:nP,originY:nP,originZ:Xt,zIndex:rP,fillOpacity:Nx,strokeOpacity:Nx,numOctaves:rP};function f4(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:c}=e;let l=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(xq(f)){s[f]=h;continue}const p=yq[f],y=Che(h,p);if(hp.has(f)){if(l=!0,o[f]=y,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,c[f]=y):i[f]=y}if(t.transform||(l||r?i.transform=Nhe(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=c;i.transformOrigin=`${f} ${h} ${p}`}}const h4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bq(e,t,n){for(const r in t)!Xa(t[r])&&!mq(r,n)&&(e[r]=t[r])}function jhe({transformTemplate:e},t,n){return A.useMemo(()=>{const r=h4();return f4(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Ihe(e,t,n){const r=e.style||{},i={};return bq(i,r,e),Object.assign(i,jhe(e,t,n)),e.transformValues?e.transformValues(i):i}function Rhe(e,t,n){const r={},i=Ihe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Ohe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function P2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ohe.has(e)}let wq=e=>!P2(e);function Fhe(e){e&&(wq=t=>t.startsWith("on")?!P2(t):e(t))}try{Fhe(require("@emotion/is-prop-valid").default)}catch{}function Phe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(wq(i)||n===!0&&P2(i)||!t&&!P2(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function iP(e,t,n){return typeof e=="string"?e:Xt.transform(t+n*e)}function Uhe(e,t,n){const r=iP(t,e.x,e.width),i=iP(n,e.y,e.height);return`${r} ${i}`}const Lhe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mhe={offset:"strokeDashoffset",array:"strokeDasharray"};function Bhe(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Lhe:Mhe;e[s.offset]=Xt.transform(-r);const o=Xt.transform(t),c=Xt.transform(n);e[s.array]=`${o} ${c}`}function p4(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:c=1,pathOffset:l=0,...u},d,f,h){if(f4(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y,dimensions:m}=e;p.transform&&(m&&(y.transform=p.transform),delete p.transform),m&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=Uhe(m,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Bhe(p,o,c,l,!1)}const _q=()=>({...h4(),attrs:{}}),m4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Vhe(e,t,n,r){const i=A.useMemo(()=>{const s=_q();return p4(s,t,{enableHardwareAcceleration:!1},m4(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};bq(s,e.style,e),i.style={...s,...i.style}}return i}function Whe(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(d4(n)?Vhe:Rhe)(r,s,o,n),d={...Phe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=A.useMemo(()=>Xa(f)?f.get():f,[f]);return A.createElement(n,{...d,children:h})}}function Tq(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Eq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nq(e,t,n,r){Tq(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Eq.has(i)?i:o4(i),t.attrs[i])}function g4(e,t){const{style:n}=e,r={};for(const i in n)(Xa(n[i])||t.style&&Xa(t.style[i])||mq(i,e))&&(r[i]=n[i]);return r}function Sq(e,t){const n=g4(e,t);for(const r in e)if(Xa(e[r])||Xa(t[r])){const i=Cy.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function x4(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Cq(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const U2=e=>Array.isArray(e),qhe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zhe=e=>U2(e)?e[e.length-1]||0:e;function Ib(e){const t=Xa(e)?e.get():e;return qhe(t)?t.toValue():t}function $he({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:Hhe(r,i,s,e),renderState:t()};return n&&(o.mount=c=>n(r,c,o)),o}const kq=e=>(t,n)=>{const r=A.useContext(__),i=A.useContext(T_),s=()=>$he(e,t,r,i);return n?s():Cq(s)};function Hhe(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Ib(s[h]);let{initial:o,animate:c}=e;const l=S_(e),u=hq(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?c:o;return f&&typeof f!="boolean"&&!N_(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const y=x4(e,p);if(!y)return;const{transitionEnd:m,transition:g,...v}=y;for(const x in v){let b=v[x];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(i[x]=b)}for(const x in m)i[x]=m[x]}),i}const Ei=e=>e;class sP{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Ghe(e){let t=new sP,n=new sP,r=0,i=!1,s=!1;const o=new WeakSet,c={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&o.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(c.schedule(d),e())}i=!1,s&&(s=!1,c.process(l))}};return c}const I1=["prepare","read","update","preRender","render","postRender"],Qhe=40;function Khe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=I1.reduce((f,h)=>(f[h]=Ghe(()=>n=!0),f),{}),o=f=>s[f].process(i),c=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Qhe),1),i.timestamp=f,i.isProcessing=!0,I1.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(c))},l=()=>{n=!0,r=!0,i.isProcessing||e(c)};return{schedule:I1.reduce((f,h)=>{const p=s[h];return f[h]=(y,m=!1,g=!1)=>(n||l(),p.schedule(y,m,g)),f},{}),cancel:f=>I1.forEach(h=>s[h].cancel(f)),state:i,steps:s}}const{schedule:Or,cancel:Gu,state:Is,steps:xN}=Khe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0),Xhe={useVisualState:kq({scrapeMotionValuesFromProps:Sq,createRenderState:_q,onMount:(e,t,{renderState:n,latestValues:r})=>{Or.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Or.render(()=>{p4(n,r,{enableHardwareAcceleration:!1},m4(t.tagName),e.transformTemplate),Nq(t,n)})}})},Yhe={useVisualState:kq({scrapeMotionValuesFromProps:g4,createRenderState:h4})};function Zhe(e,{forwardMotionProps:t=!1},n,r){return{...d4(e)?Xhe:Yhe,preloadedFeatures:n,useRender:Whe(t),createVisualElement:r,Component:e}}function ku(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Aq=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function k_(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Jhe=e=>t=>Aq(t)&&e(t,k_(t));function Iu(e,t,n,r){return ku(e,t,Jhe(n),r)}const epe=(e,t)=>n=>t(e(n)),cf=(...e)=>e.reduce(epe);function Dq(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const aP=Dq("dragHorizontal"),oP=Dq("dragVertical");function jq(e){let t=!1;if(e==="y")t=oP();else if(e==="x")t=aP();else{const n=aP(),r=oP();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Iq(){const e=jq(!0);return e?(e(),!1):!0}class Mf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cP(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||Iq())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[r]&&Or.update(()=>c[r](s,o))};return Iu(e.current,n,i,{passive:!e.getProps()[r]})}class tpe extends Mf{mount(){this.unmount=cf(cP(this.node,!0),cP(this.node,!1))}unmount(){}}class npe extends Mf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cf(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Rq=(e,t)=>t?e===t?!0:Rq(e,t.parentElement):!1;function vN(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,k_(n))}class rpe extends Mf{constructor(){super(...arguments),this.removeStartListeners=Ei,this.removeEndListeners=Ei,this.removeAccessibleListeners=Ei,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Iu(window,"pointerup",(c,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Or.update(()=>{!f&&!Rq(this.node.current,c.target)?d&&d(c,l):u&&u(c,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Iu(window,"pointercancel",(c,l)=>this.cancelPress(c,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=cf(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=c=>{c.key!=="Enter"||!this.checkPressEnd()||vN("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Or.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=ku(this.node.current,"keyup",o),vN("down",(c,l)=>{this.startPress(c,l)})},n=ku(this.node.current,"keydown",t),r=()=>{this.isPressing&&vN("cancel",(s,o)=>this.cancelPress(s,o))},i=ku(this.node.current,"blur",r);this.removeAccessibleListeners=cf(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Or.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Iq()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Or.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Iu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ku(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tA=new WeakMap,yN=new WeakMap,ipe=e=>{const t=tA.get(e.target);t&&t(e)},spe=e=>{e.forEach(ipe)};function ape({root:e,...t}){const n=e||document;yN.has(n)||yN.set(n,{});const r=yN.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(spe,{root:e,...t})),r[i]}function ope(e,t,n){const r=ape(t);return tA.set(e,n),r.observe(e),()=>{tA.delete(e),r.unobserve(e)}}const cpe={some:0,all:1};class lpe extends Mf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cpe[i]},c=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return ope(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(upe(t,n))&&this.startObserver()}unmount(){}}function upe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const dpe={inView:{Feature:lpe},tap:{Feature:rpe},focus:{Feature:npe},hover:{Feature:tpe}};function Oq(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function fpe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function hpe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function A_(e,t,n){const r=e.getProps();return x4(r,t,n!==void 0?n:r.custom,fpe(e),hpe(e))}let v4=Ei;const Dh=e=>e*1e3,Ru=e=>e/1e3,ppe={current:!1},Fq=e=>Array.isArray(e)&&typeof e[0]=="number";function Pq(e){return!!(!e||typeof e=="string"&&Uq[e]||Fq(e)||Array.isArray(e)&&e.every(Pq))}const Zg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zg([0,.65,.55,1]),circOut:Zg([.55,0,1,.45]),backIn:Zg([.31,.01,.66,-.59]),backOut:Zg([.33,1.53,.69,.99])};function Lq(e){if(e)return Fq(e)?Zg(e):Array.isArray(e)?e.map(Lq):Uq[e]}function mpe(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:c,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=Lq(c);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function gpe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Mq=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xpe=1e-7,vpe=12;function ype(e,t,n,r,i){let s,o,c=0;do o=t+(n-t)/2,s=Mq(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>xpe&&++c<vpe);return o}function Dy(e,t,n,r){if(e===t&&n===r)return Ei;const i=s=>ype(s,0,1,e,n);return s=>s===0||s===1?s:Mq(i(s),t,r)}const bpe=Dy(.42,0,1,1),wpe=Dy(0,0,.58,1),Bq=Dy(.42,0,.58,1),_pe=e=>Array.isArray(e)&&typeof e[0]!="number",Vq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wq=e=>t=>1-e(1-t),y4=e=>1-Math.sin(Math.acos(e)),qq=Wq(y4),Tpe=Vq(y4),zq=Dy(.33,1.53,.69,.99),b4=Wq(zq),Epe=Vq(b4),Npe=e=>(e*=2)<1?.5*b4(e):.5*(2-Math.pow(2,-10*(e-1))),Spe={linear:Ei,easeIn:bpe,easeInOut:Bq,easeOut:wpe,circIn:y4,circInOut:Tpe,circOut:qq,backIn:b4,backInOut:Epe,backOut:zq,anticipate:Npe},lP=e=>{if(Array.isArray(e)){v4(e.length===4);const[t,n,r,i]=e;return Dy(t,n,r,i)}else if(typeof e=="string")return Spe[e];return e},w4=(e,t)=>n=>!!(ky(n)&&khe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),$q=(e,t,n)=>r=>{if(!ky(r))return r;const[i,s,o,c]=r.match(C_);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Cpe=e=>bf(0,255,e),bN={...pp,transform:e=>Math.round(Cpe(e))},vh={test:w4("rgb","red"),parse:$q("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bN.transform(e)+", "+bN.transform(t)+", "+bN.transform(n)+", "+Sx(Nx.transform(r))+")"};function kpe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const nA={test:w4("#"),parse:kpe,transform:vh.transform},um={test:w4("hsl","hue"),parse:$q("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Rl.transform(Sx(t))+", "+Rl.transform(Sx(n))+", "+Sx(Nx.transform(r))+")"},aa={test:e=>vh.test(e)||nA.test(e)||um.test(e),parse:e=>vh.test(e)?vh.parse(e):um.test(e)?um.parse(e):nA.parse(e),transform:e=>ky(e)?e:e.hasOwnProperty("red")?vh.transform(e):um.transform(e)},ti=(e,t,n)=>-n*e+n*t+e;function wN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ape({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,l=2*n-c;i=wN(l,c,e+1/3),s=wN(l,c,e),o=wN(l,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const _N=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Dpe=[nA,vh,um],jpe=e=>Dpe.find(t=>t.test(e));function uP(e){const t=jpe(e);let n=t.parse(e);return t===um&&(n=Ape(n)),n}const Hq=(e,t)=>{const n=uP(e),r=uP(t),i={...n};return s=>(i.red=_N(n.red,r.red,s),i.green=_N(n.green,r.green,s),i.blue=_N(n.blue,r.blue,s),i.alpha=ti(n.alpha,r.alpha,s),vh.transform(i))};function Ipe(e){var t,n;return isNaN(e)&&ky(e)&&(((t=e.match(C_))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(vq))===null||n===void 0?void 0:n.length)||0)>0}const Gq={regex:She,countKey:"Vars",token:"${v}",parse:Ei},Qq={regex:vq,countKey:"Colors",token:"${c}",parse:aa.parse},Kq={regex:C_,countKey:"Numbers",token:"${n}",parse:pp.parse};function TN(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function L2(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&TN(n,Gq),TN(n,Qq),TN(n,Kq),n}function Xq(e){return L2(e).values}function Yq(e){const{values:t,numColors:n,numVars:r,tokenised:i}=L2(e),s=t.length;return o=>{let c=i;for(let l=0;l<s;l++)l<r?c=c.replace(Gq.token,o[l]):l<r+n?c=c.replace(Qq.token,aa.transform(o[l])):c=c.replace(Kq.token,Sx(o[l]));return c}}const Rpe=e=>typeof e=="number"?0:e;function Ope(e){const t=Xq(e);return Yq(e)(t.map(Rpe))}const wf={test:Ipe,parse:Xq,createTransformer:Yq,getAnimatableNone:Ope},Zq=(e,t)=>n=>`${n>0?t:e}`;function Jq(e,t){return typeof e=="number"?n=>ti(e,t,n):aa.test(e)?Hq(e,t):e.startsWith("var(")?Zq(e,t):tz(e,t)}const ez=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>Jq(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Fpe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Jq(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},tz=(e,t)=>{const n=wf.createTransformer(t),r=L2(e),i=L2(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?cf(ez(r.values,i.values),n):Zq(e,t)},_v=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dP=(e,t)=>n=>ti(e,t,n);function Ppe(e){return typeof e=="number"?dP:typeof e=="string"?aa.test(e)?Hq:tz:Array.isArray(e)?ez:typeof e=="object"?Fpe:dP}function Upe(e,t,n){const r=[],i=n||Ppe(e[0]),s=e.length-1;for(let o=0;o<s;o++){let c=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ei:t;c=cf(l,c)}r.push(c)}return r}function nz(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(v4(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Upe(t,r,i),c=o.length,l=u=>{let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=_v(e[d],e[d+1],u);return o[d](f)};return n?u=>l(bf(e[0],e[s-1],u)):l}function Lpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=_v(0,t,r);e.push(ti(n,1,i))}}function Mpe(e){const t=[0];return Lpe(t,e.length-1),t}function Bpe(e,t){return e.map(n=>n*t)}function Vpe(e,t){return e.map(()=>t||Bq).splice(0,e.length-1)}function M2({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=_pe(r)?r.map(lP):lP(r),s={done:!1,value:t[0]},o=Bpe(n&&n.length===t.length?n:Mpe(t),e),c=nz(o,t,{ease:Array.isArray(i)?i:Vpe(t,i)});return{calculatedDuration:e,next:l=>(s.value=c(l),s.done=l>=e,s)}}function rz(e,t){return t?e*(1e3/t):0}const Wpe=5;function iz(e,t,n){const r=Math.max(t-Wpe,0);return rz(n-e(r),t-r)}const EN=.001,qpe=.01,zpe=10,$pe=.05,Hpe=1;function Gpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=bf($pe,Hpe,o),e=bf(qpe,zpe,Ru(e)),o<1?(i=u=>{const d=u*o,f=d*e,h=d-n,p=rA(u,o),y=Math.exp(-f);return EN-h/p*y},s=u=>{const f=u*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),m=rA(Math.pow(u,2),o);return(-i(u)+EN>0?-1:1)*((h-p)*y)/m}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-EN+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const c=5/e,l=Kpe(i,s,c);if(e=Dh(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Qpe=12;function Kpe(e,t,n){let r=n;for(let i=1;i<Qpe;i++)r=r-e(r)/t(r);return r}function rA(e,t){return e*Math.sqrt(1-t*t)}const Xpe=["duration","bounce"],Ype=["stiffness","damping","mass"];function fP(e,t){return t.some(n=>e[n]!==void 0)}function Zpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!fP(e,Ype)&&fP(e,Xpe)){const n=Gpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function sz({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Zpe({...r,velocity:-Ru(r.velocity||0)}),p=f||0,y=l/(2*Math.sqrt(c*u)),m=s-i,g=Ru(Math.sqrt(c/u)),v=Math.abs(m)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let x;if(y<1){const b=rA(g,y);x=w=>{const T=Math.exp(-y*g*w);return s-T*((p+y*g*m)/b*Math.sin(b*w)+m*Math.cos(b*w))}}else if(y===1)x=b=>s-Math.exp(-g*b)*(m+(p+g*m)*b);else{const b=g*Math.sqrt(y*y-1);x=w=>{const T=Math.exp(-y*g*w),C=Math.min(b*w,300);return s-T*((p+y*g*m)*Math.sinh(C)+b*m*Math.cosh(C))/b}}return{calculatedDuration:h&&d||null,next:b=>{const w=x(b);if(h)o.done=b>=d;else{let T=p;b!==0&&(y<1?T=iz(x,b,w):T=0);const C=Math.abs(T)<=n,_=Math.abs(s-w)<=t;o.done=C&&_}return o.value=o.done?s:w,o}}}function hP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=N=>c!==void 0&&N<c||l!==void 0&&N>l,y=N=>c===void 0?l:l===void 0||Math.abs(c-N)<Math.abs(l-N)?c:l;let m=n*t;const g=f+m,v=o===void 0?g:o(g);v!==g&&(m=v-f);const x=N=>-m*Math.exp(-N/r),b=N=>v+x(N),w=N=>{const k=x(N),j=b(N);h.done=Math.abs(k)<=u,h.value=h.done?v:j};let T,C;const _=N=>{p(h.value)&&(T=N,C=sz({keyframes:[h.value,y(h.value)],velocity:iz(b,N,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:N=>{let k=!1;return!C&&T===void 0&&(k=!0,w(N),_(N)),T!==void 0&&N>T?C.next(N-T):(!k&&w(N),h)}}}const Jpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Or.update(t,!0),stop:()=>Gu(t),now:()=>Is.isProcessing?Is.timestamp:performance.now()}},pP=2e4;function mP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<pP;)t+=n,r=e.next(t);return t>=pP?1/0:t}const eme={decay:hP,inertia:hP,tween:M2,keyframes:M2,spring:sz};function B2({autoplay:e=!0,delay:t=0,driver:n=Jpe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,y=!1,m,g;const v=()=>{g=new Promise(F=>{m=F})};v();let x;const b=eme[i]||M2;let w;b!==M2&&typeof r[0]!="number"&&(w=nz([0,100],r,{clamp:!1}),r=[0,100]);const T=b({...h,keyframes:r});let C;c==="mirror"&&(C=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",N=null,k=null,j=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=mP(T));const{calculatedDuration:D}=T;let E=1/0,I=1/0;D!==null&&(E=D+o,I=E*(s+1)-o);let R=0;const V=F=>{if(k===null)return;p>0&&(k=Math.min(k,F)),p<0&&(k=Math.min(F-I/p,k)),N!==null?R=N:R=Math.round(F-k)*p;const O=R-t*(p>=0?1:-1),L=p>=0?O<0:O>I;R=Math.max(O,0),_==="finished"&&N===null&&(R=I);let K=R,Q=T;if(s){const me=Math.min(R,I)/E;let ye=Math.floor(me),Fe=me%1;!Fe&&me>=1&&(Fe=1),Fe===1&&ye--,ye=Math.min(ye,s+1),!!(ye%2)&&(c==="reverse"?(Fe=1-Fe,o&&(Fe-=o/E)):c==="mirror"&&(Q=C)),K=bf(0,1,Fe)*E}const U=L?{done:!1,value:r[0]}:Q.next(K);w&&(U.value=w(U.value));let{done:Z}=U;!L&&D!==null&&(Z=p>=0?R>=I:R<=0);const pe=N===null&&(_==="finished"||_==="running"&&Z);return f&&f(U.value),pe&&G(),U},M=()=>{x&&x.stop(),x=void 0},H=()=>{_="idle",M(),m(),v(),k=j=null},G=()=>{_="finished",d&&d(),M(),m()},P=()=>{if(y)return;x||(x=n(V));const F=x.now();l&&l(),N!==null?k=F-N:(!k||_==="finished")&&(k=F),_==="finished"&&v(),j=k,N=null,_="running",x.start()};e&&P();const W={then(F,O){return g.then(F,O)},get time(){return Ru(R)},set time(F){F=Dh(F),R=F,N!==null||!x||p===0?N=F:k=x.now()-F/p},get duration(){const F=T.calculatedDuration===null?mP(T):T.calculatedDuration;return Ru(F)},get speed(){return p},set speed(F){F===p||!x||(p=F,W.time=Ru(R))},get state(){return _},play:P,pause:()=>{_="paused",N=R},stop:()=>{y=!0,_!=="idle"&&(_="idle",u&&u(),H())},cancel:()=>{j!==null&&V(j),H()},complete:()=>{_="finished"},sample:F=>(k=0,V(F))};return W}function tme(e){let t;return()=>(t===void 0&&(t=e()),t)}const nme=tme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),R1=10,ime=2e4,sme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Pq(t.ease);function ame(e,t,{onUpdate:n,onComplete:r,...i}){if(!(nme()&&rme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,c,l,u=!1;const d=()=>{l=new Promise(b=>{c=b})};d();let{keyframes:f,duration:h=300,ease:p,times:y}=i;if(sme(t,i)){const b=B2({...i,repeat:0,delay:0});let w={done:!1,value:f[0]};const T=[];let C=0;for(;!w.done&&C<ime;)w=b.sample(C),T.push(w.value),C+=R1;y=void 0,f=T,h=C-R1,p="linear"}const m=mpe(e.owner.current,t,f,{...i,duration:h,ease:p,times:y}),g=()=>{u=!1,m.cancel()},v=()=>{u=!0,Or.update(g),c(),d()};return m.onfinish=()=>{u||(e.set(gpe(f,i)),r&&r(),v())},{then(b,w){return l.then(b,w)},attachTimeline(b){return m.timeline=b,m.onfinish=null,Ei},get time(){return Ru(m.currentTime||0)},set time(b){m.currentTime=Dh(b)},get speed(){return m.playbackRate},set speed(b){m.playbackRate=b},get duration(){return Ru(h)},play:()=>{o||(m.play(),Gu(g))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:b}=m;if(b){const w=B2({...i,autoplay:!1});e.setWithVelocity(w.sample(b-R1).value,w.sample(b).value,R1)}v()},complete:()=>{u||m.finish()},cancel:v}}function ome({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ei,pause:Ei,stop:Ei,then:s=>(s(),Promise.resolve()),cancel:Ei,complete:Ei});return t?B2({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const cme={type:"spring",stiffness:500,damping:25,restSpeed:10},lme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ume={type:"keyframes",duration:.8},dme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fme=(e,{keyframes:t})=>t.length>2?ume:hp.has(e)?e.startsWith("scale")?lme(t[1]):cme:dme,iA=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wf.test(t)||t==="0")&&!t.startsWith("url(")),hme=new Set(["brightness","contrast","saturate","opacity"]);function pme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(C_)||[];if(!r)return e;const i=n.replace(r,"");let s=hme.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const mme=/([a-z-]*)\(.*?\)/g,sA={...wf,getAnimatableNone:e=>{const t=e.match(mme);return t?t.map(pme).join(" "):e}},gme={...yq,color:aa,backgroundColor:aa,outlineColor:aa,fill:aa,stroke:aa,borderColor:aa,borderTopColor:aa,borderRightColor:aa,borderBottomColor:aa,borderLeftColor:aa,filter:sA,WebkitFilter:sA},_4=e=>gme[e];function az(e,t){let n=_4(e);return n!==sA&&(n=wf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oz=e=>/^0[^.\s]+$/.test(e);function xme(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||oz(e)}function vme(e,t,n,r){const i=iA(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let c;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),xme(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(c=s[u]);if(i&&l.length&&c)for(let u=0;u<l.length;u++){const d=l[u];s[d]=az(t,c)}return s}function yme({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:c,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function T4(e,t){return e[t]||e.default||e}const bme={skipAnimations:!1},E4=(e,t,n,r={})=>i=>{const s=T4(r,e)||{},o=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Dh(o);const l=vme(t,e,n,s),u=l[0],d=l[l.length-1],f=iA(e,u),h=iA(e,d);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-c,onUpdate:y=>{t.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(yme(s)||(p={...p,...fme(e,p)}),p.duration&&(p.duration=Dh(p.duration)),p.repeatDelay&&(p.repeatDelay=Dh(p.repeatDelay)),!f||!h||ppe.current||s.type===!1||bme.skipAnimations)return ome(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=ame(t,e,p);if(y)return y}return B2(p)};function V2(e){return!!(Xa(e)&&e.add)}const cz=e=>/^\-?\d*\.?\d+$/.test(e);function N4(e,t){e.indexOf(t)===-1&&e.push(t)}function S4(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class C4{constructor(){this.subscriptions=[]}add(t){return N4(this.subscriptions,t),()=>S4(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wme=e=>!isNaN(parseFloat(e));class _me{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Is;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Or.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Or.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=wme(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new C4);const r=this.events[t].add(n);return t==="change"?()=>{r(),Or.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rz(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function u0(e,t){return new _me(e,t)}const lz=e=>t=>t.test(e),Tme={test:e=>e==="auto",parse:e=>e},uz=[pp,Xt,Rl,bd,Dhe,Ahe,Tme],Eg=e=>uz.find(lz(e)),Eme=[...uz,aa,wf],Nme=e=>Eme.find(lz(e));function Sme(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,u0(n))}function Cme(e,t){const n=A_(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const c=zhe(s[o]);Sme(e,o,c)}}function kme(e,t,n){var r,i;const s=Object.keys(t).filter(c=>!e.hasValue(c)),o=s.length;if(o)for(let c=0;c<o;c++){const l=s[c],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(cz(d)||oz(d))?d=parseFloat(d):!Nme(d)&&wf.test(u)&&(d=az(l,u)),e.addValue(l,u0(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Ame(e,t){return t?(t[e]||t.default||t).from:void 0}function Dme(e,t,n){const r={};for(const i in e){const s=Ame(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function jme({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ime(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function dz(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...c}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const h=e.getValue(f),p=c[f];if(!h||p===void 0||d&&jme(d,f))continue;const y={delay:n,elapsed:0,...T4(s||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[fq];if(v){const x=window.HandoffAppearAnimations(v,f,h,Or);x!==null&&(y.elapsed=x,y.isHandoff=!0)}}let m=!y.isHandoff&&!Ime(h,p);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(E4(f,h,p,e.shouldReduceMotion&&hp.has(f)?{type:!1}:y));const g=h.animation;V2(l)&&(l.add(f),g.then(()=>l.remove(f))),u.push(g)}return o&&Promise.all(u).then(()=>{o&&Cme(e,o)}),u}function aA(e,t,n={}){const r=A_(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(dz(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Rme(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[l,u]=c==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Rme(e,t,n=0,r=0,i=1,s){const o=[],c=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>c-u*r;return Array.from(e.variantChildren).sort(Ome).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(aA(u,t,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Ome(e,t){return e.sortNodePosition(t)}function Fme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>aA(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=aA(e,t,n);else{const i=typeof t=="function"?A_(e,t,n.custom):t;r=Promise.all(dz(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Pme=[...c4].reverse(),Ume=c4.length;function Lme(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Fme(e,n,r)))}function Mme(e){let t=Lme(e);const n=Vme();let r=!0;const i=(l,u)=>{const d=A_(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;l={...l,...p,...h}}return l};function s(l){t=l(e)}function o(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let y={},m=1/0;for(let v=0;v<Ume;v++){const x=Pme[v],b=n[x],w=d[x]!==void 0?d[x]:f[x],T=bv(w),C=x===u?b.isActive:null;C===!1&&(m=v);let _=w===f[x]&&w!==d[x]&&T;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...y},!b.isActive&&C===null||!w&&!b.prevProp||N_(w)||typeof w=="boolean")continue;let k=Bme(b.prevProp,w)||x===u&&b.isActive&&!_&&T||v>m&&T,j=!1;const D=Array.isArray(w)?w:[w];let E=D.reduce(i,{});C===!1&&(E={});const{prevResolvedValues:I={}}=b,R={...I,...E},V=M=>{k=!0,p.has(M)&&(j=!0,p.delete(M)),b.needsAnimating[M]=!0};for(const M in R){const H=E[M],G=I[M];if(y.hasOwnProperty(M))continue;let P=!1;U2(H)&&U2(G)?P=!Oq(H,G):P=H!==G,P?H!==void 0?V(M):p.add(M):H!==void 0&&p.has(M)?V(M):b.protectedKeys[M]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(y={...y,...E}),r&&e.blockInitialAnimation&&(k=!1),k&&(!_||j)&&h.push(...D.map(M=>({animation:M,options:{type:x,...l}})))}if(p.size){const v={};p.forEach(x=>{const b=e.getBaseTarget(x);b!==void 0&&(v[x]=b)}),h.push({animation:v})}let g=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function c(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(d,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>n}}function Bme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Oq(t,e):!1}function Jf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vme(){return{animate:Jf(!0),whileInView:Jf(),whileHover:Jf(),whileTap:Jf(),whileDrag:Jf(),whileFocus:Jf(),exit:Jf()}}class Wme extends Mf{constructor(t){super(t),t.animationState||(t.animationState=Mme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),N_(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qme=0;class zme extends Mf{constructor(){super(...arguments),this.id=qme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $me={animation:{Feature:Wme},exit:{Feature:zme}},gP=(e,t)=>Math.abs(e-t);function Hme(e,t){const n=gP(e.x,t.x),r=gP(e.y,t.y);return Math.sqrt(n**2+r**2)}class fz{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=SN(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Hme(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:m}=Is;this.history.push({...y,timestamp:m});const{onStart:g,onMove:v}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=NN(h,this.transformPagePoint),Or.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=SN(f.type==="pointercancel"?this.lastMoveEventInfo:NN(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),y&&y(f,g)},!Aq(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=k_(t),c=NN(o,this.transformPagePoint),{point:l}=c,{timestamp:u}=Is;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,SN(c,this.history)),this.removeListeners=cf(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gu(this.updatePoint)}}function NN(e,t){return t?{point:t(e.point)}:e}function xP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function SN({point:e},t){return{point:e,delta:xP(e,hz(t)),offset:xP(e,Gme(t)),velocity:Qme(t,.1)}}function Gme(e){return e[0]}function hz(e){return e[e.length-1]}function Qme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=hz(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Dh(t)));)n--;if(!r)return{x:0,y:0};const s=Ru(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Co(e){return e.max-e.min}function oA(e,t=0,n=.01){return Math.abs(e-t)<=n}function vP(e,t,n,r=.5){e.origin=r,e.originPoint=ti(t.min,t.max,e.origin),e.scale=Co(n)/Co(t),(oA(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ti(n.min,n.max,e.origin)-e.originPoint,(oA(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Cx(e,t,n,r){vP(e.x,t.x,n.x,r?r.originX:void 0),vP(e.y,t.y,n.y,r?r.originY:void 0)}function yP(e,t,n){e.min=n.min+t.min,e.max=e.min+Co(t)}function Kme(e,t,n){yP(e.x,t.x,n.x),yP(e.y,t.y,n.y)}function bP(e,t,n){e.min=t.min-n.min,e.max=e.min+Co(t)}function kx(e,t,n){bP(e.x,t.x,n.x),bP(e.y,t.y,n.y)}function Xme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ti(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ti(n,e,r.max):Math.min(e,n)),e}function wP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Yme(e,{top:t,left:n,bottom:r,right:i}){return{x:wP(e.x,n,i),y:wP(e.y,t,r)}}function _P(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Zme(e,t){return{x:_P(e.x,t.x),y:_P(e.y,t.y)}}function Jme(e,t){let n=.5;const r=Co(e),i=Co(t);return i>r?n=_v(t.min,t.max-r,e.min):r>i&&(n=_v(e.min,e.max-i,t.min)),bf(0,1,n)}function e0e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cA=.35;function t0e(e=cA){return e===!1?e=0:e===!0&&(e=cA),{x:TP(e,"left","right"),y:TP(e,"top","bottom")}}function TP(e,t,n){return{min:EP(e,t),max:EP(e,n)}}function EP(e,t){return typeof e=="number"?e:e[t]||0}const NP=()=>({translate:0,scale:1,origin:0,originPoint:0}),dm=()=>({x:NP(),y:NP()}),SP=()=>({min:0,max:0}),Ai=()=>({x:SP(),y:SP()});function qo(e){return[e("x"),e("y")]}function pz({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function n0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function r0e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function CN(e){return e===void 0||e===1}function lA({scale:e,scaleX:t,scaleY:n}){return!CN(e)||!CN(t)||!CN(n)}function sh(e){return lA(e)||mz(e)||e.z||e.rotate||e.rotateX||e.rotateY}function mz(e){return CP(e.x)||CP(e.y)}function CP(e){return e&&e!=="0%"}function W2(e,t,n){const r=e-n,i=t*r;return n+i}function kP(e,t,n,r,i){return i!==void 0&&(e=W2(e,i,r)),W2(e,n,r)+t}function uA(e,t=0,n=1,r,i){e.min=kP(e.min,t,n,r,i),e.max=kP(e.max,t,n,r,i)}function gz(e,{x:t,y:n}){uA(e.x,t.translate,t.scale,t.originPoint),uA(e.y,n.translate,n.scale,n.originPoint)}function i0e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let c=0;c<i;c++){s=n[c],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fm(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gz(e,o)),r&&sh(s.latestValues)&&fm(e,s.latestValues))}t.x=AP(t.x),t.y=AP(t.y)}function AP(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Nd(e,t){e.min=e.min+t,e.max=e.max+t}function DP(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=ti(e.min,e.max,s);uA(e,t[n],t[r],o,t.scale)}const s0e=["x","scaleX","originX"],a0e=["y","scaleY","originY"];function fm(e,t){DP(e.x,t,s0e),DP(e.y,t,a0e)}function xz(e,t){return pz(r0e(e.getBoundingClientRect(),t))}function o0e(e,t,n){const r=xz(e,n),{scroll:i}=t;return i&&(Nd(r.x,i.offset.x),Nd(r.y,i.offset.y)),r}const vz=({current:e})=>e?e.ownerDocument.defaultView:null,c0e=new WeakMap;class l0e{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ai(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(k_(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jq(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qo(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Rl.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[g];b&&(v=Co(b)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&Or.update(()=>y(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=u0e(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),m&&m(d,f)},c=(d,f)=>this.stop(d,f),l=()=>qo(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new fz(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:vz(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Or.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!O1(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Xme(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&lm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Yme(i.layoutBox,n):this.constraints=!1,this.elastic=t0e(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qo(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=e0e(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lm(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=o0e(r,i.root,this.visualElement.getTransformPagePoint());let o=Zme(i.layout.layoutBox,s);if(n){const c=n(n0e(o));this.hasMutatedConstraints=!!c,c&&(o=pz(c))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},u=qo(d=>{if(!O1(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(E4(t,r,0,n))}stopAnimation(){qo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qo(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qo(n=>{const{drag:r}=this.getProps();if(!O1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];s.set(t[n]-ti(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qo(o=>{const c=this.getAxisMotionValue(o);if(c){const l=c.get();i[o]=Jme({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qo(o=>{if(!O1(o,t,null))return;const c=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];c.set(ti(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;c0e.set(this.visualElement,this);const t=this.visualElement.current,n=Iu(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();lm(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ku(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(qo(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=cA,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function O1(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function u0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class d0e extends Mf{constructor(t){super(t),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new l0e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const jP=e=>(t,n)=>{e&&Or.update(()=>e(t,n))};class f0e extends Mf{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(t){this.session=new fz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jP(t),onStart:jP(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Or.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function h0e(){const e=A.useContext(T_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=A.useId();return A.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Rb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ng={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xt.test(e))e=parseFloat(e);else return e;const n=IP(e,t.target.x),r=IP(e,t.target.y);return`${n}% ${r}%`}},p0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=wf.parse(e);if(i.length>5)return r;const s=wf.createTransformer(e),o=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=c,i[1+o]/=l;const u=ti(c,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class m0e extends zr.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;_he(g0e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Rb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Or.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yz(e){const[t,n]=h0e(),r=A.useContext(u4);return zr.createElement(m0e,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(pq),isPresent:t,safeToRemove:n})}const g0e={borderRadius:{...Ng,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ng,borderTopRightRadius:Ng,borderBottomLeftRadius:Ng,borderBottomRightRadius:Ng,boxShadow:p0e},bz=["TopLeft","TopRight","BottomLeft","BottomRight"],x0e=bz.length,RP=e=>typeof e=="string"?parseFloat(e):e,OP=e=>typeof e=="number"||Xt.test(e);function v0e(e,t,n,r,i,s){i?(e.opacity=ti(0,n.opacity!==void 0?n.opacity:1,y0e(r)),e.opacityExit=ti(t.opacity!==void 0?t.opacity:1,0,b0e(r))):s&&(e.opacity=ti(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<x0e;o++){const c=`border${bz[o]}Radius`;let l=FP(t,c),u=FP(n,c);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||OP(l)===OP(u)?(e[c]=Math.max(ti(RP(l),RP(u),r),0),(Rl.test(u)||Rl.test(l))&&(e[c]+="%")):e[c]=u}(t.rotate||n.rotate)&&(e.rotate=ti(t.rotate||0,n.rotate||0,r))}function FP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const y0e=wz(0,.5,qq),b0e=wz(.5,.95,Ei);function wz(e,t,n){return r=>r<e?0:r>t?1:n(_v(e,t,r))}function PP(e,t){e.min=t.min,e.max=t.max}function Mo(e,t){PP(e.x,t.x),PP(e.y,t.y)}function UP(e,t,n,r,i){return e-=t,e=W2(e,1/n,r),i!==void 0&&(e=W2(e,1/i,r)),e}function w0e(e,t=0,n=1,r=.5,i,s=e,o=e){if(Rl.test(t)&&(t=parseFloat(t),t=ti(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=ti(s.min,s.max,r);e===s&&(c-=t),e.min=UP(e.min,t,n,c,i),e.max=UP(e.max,t,n,c,i)}function LP(e,t,[n,r,i],s,o){w0e(e,t[n],t[r],t[i],t.scale,s,o)}const _0e=["x","scaleX","originX"],T0e=["y","scaleY","originY"];function MP(e,t,n,r){LP(e.x,t,_0e,n?n.x:void 0,r?r.x:void 0),LP(e.y,t,T0e,n?n.y:void 0,r?r.y:void 0)}function BP(e){return e.translate===0&&e.scale===1}function _z(e){return BP(e.x)&&BP(e.y)}function E0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Tz(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function VP(e){return Co(e.x)/Co(e.y)}class N0e{constructor(){this.members=[]}add(t){N4(this.members,t),t.scheduleRender()}remove(t){if(S4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WP(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const S0e=(e,t)=>e.depth-t.depth;class C0e{constructor(){this.children=[],this.isDirty=!1}add(t){N4(this.children,t),this.isDirty=!0}remove(t){S4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(S0e),this.isDirty=!1,this.children.forEach(t)}}function k0e(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Gu(r),e(s-t))};return Or.read(r,!0),()=>Gu(r)}function A0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function D0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function j0e(e,t,n){const r=Xa(e)?e:u0(e);return r.start(E4("",r,t,n)),r.animation}const qP=["","X","Y","Z"],I0e={visibility:"hidden"},zP=1e3;let R0e=0;const ah={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ez({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=R0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ah.totalNodes=ah.resolvedTargetDeltas=ah.recalculatedProjection=0,this.nodes.forEach(P0e),this.nodes.forEach(V0e),this.nodes.forEach(W0e),this.nodes.forEach(U0e),A0e(ah)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new C0e)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new C4),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=D0e(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=k0e(h,250),Rb.hasAnimatedSinceResize&&(Rb.hasAnimatedSinceResize=!1,this.nodes.forEach(HP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||G0e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=d.getProps(),x=!this.targetLayout||!Tz(this.targetLayout,y)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const w={...T4(m,"layout"),onPlay:g,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||HP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q0e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($P);return}this.isUpdating||this.nodes.forEach(M0e),this.isUpdating=!1,this.nodes.forEach(B0e),this.nodes.forEach(O0e),this.nodes.forEach(F0e),this.clearAllSnapshots();const c=performance.now();Is.delta=bf(0,1e3/60,c-Is.timestamp),Is.timestamp=c,Is.isProcessing=!0,xN.update.process(Is),xN.preRender.process(Is),xN.render.process(Is),Is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(L0e),this.sharedNodes.forEach(z0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ai(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!_z(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(c||sh(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),Q0e(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ai();const c=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Nd(c.x,l.offset.x),Nd(c.y,l.offset.y)),c}removeElementScroll(o){const c=Ai();Mo(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Mo(c,o);const{scroll:h}=this.root;h&&(Nd(c.x,-h.offset.x),Nd(c.y,-h.offset.y))}Nd(c.x,d.offset.x),Nd(c.y,d.offset.y)}}return c}applyTransform(o,c=!1){const l=Ai();Mo(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fm(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sh(d.latestValues)&&fm(l,d.latestValues)}return sh(this.latestValues)&&fm(l,this.latestValues),l}removeTransform(o){const c=Ai();Mo(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!sh(u.latestValues))continue;lA(u.latestValues)&&u.updateSnapshot();const d=Ai(),f=u.measurePageBox();Mo(d,f),MP(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return sh(this.latestValues)&&MP(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Is.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),kx(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ai(),this.targetWithTransforms=Ai()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mo(this.target,this.layout.layoutBox),gz(this.target,this.targetDelta)):Mo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),kx(this.relativeTargetOrigin,this.target,p.target),Mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ah.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lA(this.parent.latestValues)||mz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),l=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Is.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Mo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;i0e(this.layoutCorrected,this.treeScale,this.path,l),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:y}=c;if(!y){this.projectionTransform&&(this.projectionDelta=dm(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=dm(),this.projectionDeltaWithTransform=dm());const m=this.projectionTransform;Cx(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=WP(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ah.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,c=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=dm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=Ai(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,g=this.getStack(),v=!g||g.members.length<=1,x=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(H0e));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const T=w/1e3;GP(f.x,o.x,T),GP(f.y,o.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$0e(this.relativeTarget,this.relativeTargetOrigin,h,T),b&&E0e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ai()),Mo(b,this.relativeTarget)),m&&(this.animationValues=d,v0e(d,u,this.latestValues,T,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Or.update(()=>{Rb.hasAnimatedSinceResize=!0,this.currentAnimation=j0e(0,zP,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:u,latestValues:d}=o;if(!(!c||!l||!u)){if(this!==o&&this.layout&&u&&Nz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ai();const f=Co(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Co(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Mo(c,l),fm(c,d),Cx(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new N0e),this.sharedNodes.get(o).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(c=!0),!c)return;const u={};for(let d=0;d<qP.length;d++){const f="rotate"+qP[d];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var c,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return I0e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ib(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ib(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sh(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=WP(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(c=h.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in F2){if(h[m]===void 0)continue;const{correct:g,applyTo:v}=F2[m],x=u.transform==="none"?h[m]:g(h[m],f);if(v){const b=v.length;for(let w=0;w<b;w++)u[v[w]]=x}else u[m]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Ib(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach($P),this.root.sharedNodes.clear()}}}function O0e(e){e.updateLayout()}function F0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?qo(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Co(h);h.min=r[f].min,h.max=h.min+p}):Nz(s,n.layoutBox,r)&&qo(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Co(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const c=dm();Cx(c,r,n.layoutBox);const l=dm();o?Cx(l,e.applyTransform(i,!0),n.measuredBox):Cx(l,r,n.layoutBox);const u=!_z(c);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const y=Ai();kx(y,n.layoutBox,h.layoutBox);const m=Ai();kx(m,r,p.layoutBox),Tz(y,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:c,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function P0e(e){ah.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function U0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L0e(e){e.clearSnapshot()}function $P(e){e.clearMeasurements()}function M0e(e){e.isLayoutDirty=!1}function B0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function HP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function V0e(e){e.resolveTargetDelta()}function W0e(e){e.calcProjection()}function q0e(e){e.resetRotation()}function z0e(e){e.removeLeadSnapshot()}function GP(e,t,n){e.translate=ti(t.translate,0,n),e.scale=ti(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function QP(e,t,n,r){e.min=ti(t.min,n.min,r),e.max=ti(t.max,n.max,r)}function $0e(e,t,n,r){QP(e.x,t.x,n.x,r),QP(e.y,t.y,n.y,r)}function H0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const G0e={duration:.45,ease:[.4,0,.1,1]},KP=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),XP=KP("applewebkit/")&&!KP("chrome/")?Math.round:Ei;function YP(e){e.min=XP(e.min),e.max=XP(e.max)}function Q0e(e){YP(e.x),YP(e.y)}function Nz(e,t,n){return e==="position"||e==="preserve-aspect"&&!oA(VP(t),VP(n),.2)}const K0e=Ez({attachResizeListener:(e,t)=>ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kN={current:void 0},Sz=Ez({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kN.current){const e=new K0e({});e.mount(window),e.setOptions({layoutScroll:!0}),kN.current=e}return kN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),X0e={pan:{Feature:f0e},drag:{Feature:d0e,ProjectionNode:Sz,MeasureLayout:yz}},Y0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Z0e(e){const t=Y0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function dA(e,t,n=1){const[r,i]=Z0e(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return cz(o)?parseFloat(o):o}else return eA(i)?dA(i,t,n+1):i}function J0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!eA(s))return;const o=dA(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!eA(s))continue;const o=dA(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const ege=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Cz=e=>ege.has(e),tge=e=>Object.keys(e).some(Cz),ZP=e=>e===pp||e===Xt,JP=(e,t)=>parseFloat(e.split(", ")[t]),e6=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return JP(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?JP(s[1],e):0}},nge=new Set(["x","y","z"]),rge=Cy.filter(e=>!nge.has(e));function ige(e){const t=[];return rge.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const d0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:e6(4,13),y:e6(5,14)};d0.translateX=d0.x;d0.translateY=d0.y;const sge=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,c={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{c[u]=d0[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(c[u]),e[u]=d0[u](l,s)}),e},age=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(Cz);let s=[],o=!1;const c=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Eg(d);const h=t[l];let p;if(U2(h)){const y=h.length,m=h[0]===null?1:0;d=h[m],f=Eg(d);for(let g=m;g<y&&h[g]!==null;g++)p?v4(Eg(h[g])===p):p=Eg(h[g])}else p=Eg(h);if(f!==p)if(ZP(f)&&ZP(p)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&p===Xt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[l]=f.transform(h):(o||(s=ige(e),o=!0),c.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),c.length){const l=c.indexOf("height")>=0?window.pageYOffset:null,u=sge(t,e,c);return s.length&&s.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),E_&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function oge(e,t,n,r){return tge(t)?age(e,t,n,r):{target:t,transitionEnd:r}}const cge=(e,t,n,r)=>{const i=J0e(e,t,r);return t=i.target,r=i.transitionEnd,oge(e,t,n,r)},fA={current:null},kz={current:!1};function lge(){if(kz.current=!0,!!E_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fA.current=e.matches;e.addListener(t),t()}else fA.current=!1}function uge(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Xa(s))e.addValue(i,s),V2(r)&&r.add(i);else if(Xa(o))e.addValue(i,u0(s,{owner:e})),V2(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(s)}else{const c=e.getStaticValue(i);e.addValue(i,u0(c!==void 0?c:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const t6=new WeakMap,Az=Object.keys(wv),dge=Az.length,n6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],fge=l4.length;class hge{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Or.render(this.render,!1,!0);const{latestValues:c,renderState:l}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=S_(n),this.isVariantNode=hq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];c[f]!==void 0&&Xa(h)&&(h.set(c[f],!1),V2(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,t6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kz.current||lge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){t6.delete(this.current),this.projection&&this.projection.unmount(),Gu(this.notifyUpdate),Gu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=hp.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Or.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,c;for(let l=0;l<dge;l++){const u=Az[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=wv[u];h&&(o=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(c=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&lm(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return c}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ai()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<n6.length;r++){const i=n6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=uge(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<fge;r++){const i=l4[r],s=this.props[i];(bv(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=u0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=x4(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xa(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new C4),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Dz extends hge{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=Dme(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){kme(this,r,o);const c=cge(this,r,o,n);n=c.transitionEnd,r=c.target}return{transition:t,transitionEnd:n,...r}}}function pge(e){return window.getComputedStyle(e)}class mge extends Dz{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(hp.has(n)){const r=_4(n);return r&&r.default||0}else{const r=pge(t),i=(xq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return xz(t,n)}build(t,n,r,i){f4(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return g4(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Tq(t,n,r,i)}}class gge extends Dz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hp.has(n)){const r=_4(n);return r&&r.default||0}return n=Eq.has(n)?n:o4(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ai()}scrapeMotionValuesFromProps(t,n){return Sq(t,n)}build(t,n,r,i){p4(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Nq(t,n,r,i)}mount(t){this.isSVGTag=m4(t.tagName),super.mount(t)}}const xge=(e,t)=>d4(e)?new gge(t,{enableHardwareAcceleration:!1}):new mge(t,{enableHardwareAcceleration:!0}),vge={layout:{ProjectionNode:Sz,MeasureLayout:yz}},yge={...$me,...dpe,...X0e,...vge},ct=bhe((e,t)=>Zhe(e,t,yge,xge));function jz(){const e=A.useRef(!1);return a4(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function bge(){const e=jz(),[t,n]=A.useState(0),r=A.useCallback(()=>{e.current&&n(t+1)},[t]);return[A.useCallback(()=>Or.postRender(r),[r]),t]}class wge extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _ge({children:e,isPresent:t}){const n=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:s,height:o,top:c,left:l}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),A.createElement(wge,{isPresent:t,childRef:r,sizeRef:i},A.cloneElement(e,{ref:r}))}const AN=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const c=Cq(Tge),l=A.useId(),u=A.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d=>{c.set(d,!0);for(const f of c.values())if(!f)return;r&&r()},register:d=>(c.set(d,!1),()=>c.delete(d))}),s?void 0:[n]);return A.useMemo(()=>{c.forEach((d,f)=>c.set(f,!1))},[n]),A.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=A.createElement(_ge,{isPresent:n},e)),A.createElement(T_.Provider,{value:u},e)};function Tge(){return new Map}function Ege(e){return A.useEffect(()=>()=>e(),[])}const oh=e=>e.key||"";function Nge(e,t){e.forEach(n=>{const r=oh(n);t.set(r,n)})}function Sge(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const dr=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const c=A.useContext(u4).forceRender||bge()[0],l=jz(),u=Sge(e);let d=u;const f=A.useRef(new Map).current,h=A.useRef(d),p=A.useRef(new Map).current,y=A.useRef(!0);if(a4(()=>{y.current=!1,Nge(u,p),h.current=d}),Ege(()=>{y.current=!0,p.clear(),f.clear()}),y.current)return A.createElement(A.Fragment,null,d.map(x=>A.createElement(AN,{key:oh(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},x)));d=[...d];const m=h.current.map(oh),g=u.map(oh),v=m.length;for(let x=0;x<v;x++){const b=m[x];g.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((x,b)=>{if(g.indexOf(b)!==-1)return;const w=p.get(b);if(!w)return;const T=m.indexOf(b);let C=x;if(!C){const _=()=>{f.delete(b);const N=Array.from(p.keys()).filter(k=>!g.includes(k));if(N.forEach(k=>p.delete(k)),h.current=u.filter(k=>{const j=oh(k);return j===b||N.includes(j)}),!f.size){if(l.current===!1)return;c(),r&&r()}};C=A.createElement(AN,{key:oh(w),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:s,mode:o},w),f.set(b,C)}d.splice(T,0,C)}),d=d.map(x=>{const b=x.key;return f.has(b)?x:A.createElement(AN,{key:oh(x),isPresent:!0,presenceAffectsLayout:s,mode:o},x)}),A.createElement(A.Fragment,null,f.size?d:d.map(x=>A.cloneElement(x)))};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rt=(e,t)=>{const n=A.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>A.createElement("svg",{ref:d,...Cge,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kge(e)}`,c].join(" "),...u},[...t.map(([f,h])=>A.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=rt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=rt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=rt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=rt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=rt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=rt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=rt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=rt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=rt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=rt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=rt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jge=rt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=rt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=rt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=rt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ige=rt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=rt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=rt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=rt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=rt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=rt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=rt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=rt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=rt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=rt("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=rt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=rt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=rt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=rt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=rt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=rt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=rt("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pge=rt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=rt("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=rt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=rt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=rt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=rt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=rt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=rt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=rt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mge=rt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=rt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=rt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=rt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=rt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=rt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=rt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=rt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zge=rt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=rt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=rt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=rt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=rt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=rt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=rt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=rt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qge=rt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=rt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=rt("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=rt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=rt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=rt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xge=rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=rt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=rt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=rt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=rt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=rt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yge=rt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=rt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=rt("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=rt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=rt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=rt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function c6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nd(...e){return t=>{let n=!1;const r=e.map(i=>{const s=c6(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():c6(e[i],null)}}}}function yr(...e){return A.useCallback(nd(...e),e)}var exe=Symbol.for("react.lazy"),G2=iD[" use ".trim().toString()];function txe(e){return typeof e=="object"&&e!==null&&"then"in e}function zz(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===exe&&"_payload"in e&&txe(e._payload)}function I4(e){const t=rxe(e),n=A.forwardRef((r,i)=>{let{children:s,...o}=r;zz(s)&&typeof G2=="function"&&(s=G2(s._payload));const c=A.Children.toArray(s),l=c.find(sxe);if(l){const u=l.props.children,d=c.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var nxe=I4("Slot");function rxe(e){const t=A.forwardRef((n,r)=>{let{children:i,...s}=n;if(zz(i)&&typeof G2=="function"&&(i=G2(i._payload)),A.isValidElement(i)){const o=oxe(i),c=axe(s,i.props);return i.type!==A.Fragment&&(c.ref=r?nd(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ixe=Symbol("radix.slottable");function sxe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ixe}function axe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function oxe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $z(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$z(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hz(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$z(e))&&(r&&(r+=" "),r+=t);return r}const l6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,u6=Hz,cxe=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return u6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=l6(d)||l6(f);return i[u][h]}),c=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...s,...c}[m]):{...s,...c}[m]===g})?[...u,f,h]:u},[]);return u6(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},R4="-",lxe=e=>{const t=dxe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const c=o.split(R4);return c[0]===""&&c.length!==1&&c.shift(),Gz(c,t)||uxe(o)},getConflictingClassGroupIds:(o,c)=>{const l=n[o]||[];return c&&r[o]?[...l,...r[o]]:l}}},Gz=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Gz(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(R4);return(o=t.validators.find(({validator:c})=>c(s)))==null?void 0:o.classGroupId},d6=/^\[(.+)\]$/,uxe=e=>{if(d6.test(e)){const t=d6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dxe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return hxe(Object.entries(e.classGroups),n).forEach(([s,o])=>{pA(o,r,s,t)}),r},pA=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:f6(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(fxe(i)){pA(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{pA(o,f6(t,s),n,r)})})},f6=(e,t)=>{let n=e;return t.split(R4).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fxe=e=>e.isThemeGetter,hxe=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[t+o,c])):s);return[n,i]}):e,pxe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Qz="!",mxe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let g=0;g<c.length;g++){let v=c[g];if(u===0){if(v===i&&(r||c.slice(g,g+s)===t)){l.push(c.slice(d,g)),d=g+s;continue}if(v==="/"){f=g;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(Qz),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return n?c=>n({className:c,parseClassName:o}):o},gxe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},xxe=e=>({cache:pxe(e.cacheSize),parseClassName:mxe(e),...lxe(e)}),vxe=/\s+/,yxe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(vxe);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,m=r(y?h.substring(0,p):h);if(!m){if(!y){c=u+(c.length>0?" "+c:c);continue}if(m=r(h),!m){c=u+(c.length>0?" "+c:c);continue}y=!1}const g=gxe(d).join(":"),v=f?g+Qz:g,x=v+m;if(s.includes(x))continue;s.push(x);const b=i(m,y);for(let w=0;w<b.length;++w){const T=b[w];s.push(v+T)}c=u+(c.length>0?" "+c:c)}return c};function bxe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Kz(t))&&(r&&(r+=" "),r+=n);return r}const Kz=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Kz(e[r]))&&(n&&(n+=" "),n+=t);return n};function wxe(e,...t){let n,r,i,s=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return n=xxe(u),r=n.cache.get,i=n.cache.set,s=c,c(l)}function c(l){const u=r(l);if(u)return u;const d=yxe(l,n);return i(l,d),d}return function(){return s(bxe.apply(null,arguments))}}const Mr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Xz=/^\[(?:([a-z-]+):)?(.+)\]$/i,_xe=/^\d+\/\d+$/,Txe=new Set(["px","full","screen"]),Exe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cxe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kxe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mu=e=>Am(e)||Txe.has(e)||_xe.test(e),pd=e=>U0(e,"length",Pxe),Am=e=>!!e&&!Number.isNaN(Number(e)),RN=e=>U0(e,"number",Am),Sg=e=>!!e&&Number.isInteger(Number(e)),Axe=e=>e.endsWith("%")&&Am(e.slice(0,-1)),yn=e=>Xz.test(e),md=e=>Exe.test(e),Dxe=new Set(["length","size","percentage"]),jxe=e=>U0(e,Dxe,Yz),Ixe=e=>U0(e,"position",Yz),Rxe=new Set(["image","url"]),Oxe=e=>U0(e,Rxe,Lxe),Fxe=e=>U0(e,"",Uxe),Cg=()=>!0,U0=(e,t,n)=>{const r=Xz.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Pxe=e=>Nxe.test(e)&&!Sxe.test(e),Yz=()=>!1,Uxe=e=>Cxe.test(e),Lxe=e=>kxe.test(e),Mxe=()=>{const e=Mr("colors"),t=Mr("spacing"),n=Mr("blur"),r=Mr("brightness"),i=Mr("borderColor"),s=Mr("borderRadius"),o=Mr("borderSpacing"),c=Mr("borderWidth"),l=Mr("contrast"),u=Mr("grayscale"),d=Mr("hueRotate"),f=Mr("invert"),h=Mr("gap"),p=Mr("gradientColorStops"),y=Mr("gradientColorStopPositions"),m=Mr("inset"),g=Mr("margin"),v=Mr("opacity"),x=Mr("padding"),b=Mr("saturate"),w=Mr("scale"),T=Mr("sepia"),C=Mr("skew"),_=Mr("space"),N=Mr("translate"),k=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",yn,t],E=()=>[yn,t],I=()=>["",mu,pd],R=()=>["auto",Am,yn],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",yn],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Am,yn];return{cacheSize:500,separator:":",theme:{colors:[Cg],spacing:[mu,pd],blur:["none","",md,yn],brightness:F(),borderColor:[e],borderRadius:["none","","full",md,yn],borderSpacing:E(),borderWidth:I(),contrast:F(),grayscale:P(),hueRotate:F(),invert:P(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Axe,pd],inset:D(),margin:D(),opacity:F(),padding:E(),saturate:F(),scale:F(),sepia:P(),skew:F(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",yn]}],container:["container"],columns:[{columns:[md]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),yn]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sg,yn]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yn]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Sg,yn]}],"grid-cols":[{"grid-cols":[Cg]}],"col-start-end":[{col:["auto",{span:["full",Sg,yn]},yn]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Cg]}],"row-start-end":[{row:["auto",{span:[Sg,yn]},yn]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yn,t]}],"min-w":[{"min-w":[yn,t,"min","max","fit"]}],"max-w":[{"max-w":[yn,t,"none","full","min","max","fit","prose",{screen:[md]},md]}],h:[{h:[yn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",md,pd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",RN]}],"font-family":[{font:[Cg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yn]}],"line-clamp":[{"line-clamp":["none",Am,RN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mu,yn]}],"list-image":[{"list-image":["none",yn]}],"list-style-type":[{list:["none","disc","decimal",yn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mu,pd]}],"underline-offset":[{"underline-offset":["auto",mu,yn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Ixe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jxe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oxe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[mu,yn]}],"outline-w":[{outline:[mu,pd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mu,pd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",md,Fxe]}],"shadow-color":[{shadow:[Cg]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",md,yn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yn]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",yn]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",yn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Sg,yn]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mu,pd,RN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bxe=wxe(Mxe);function Ct(...e){return Bxe(Hz(e))}const Vxe=cxe("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=A.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?nxe:"button";return a.jsx(o,{className:Ct(Vxe({variant:t,size:n,className:e})),ref:s,...i})});ge.displayName="Button";const et=A.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Ct("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));et.displayName="Input";const dt=A.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ct("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));dt.displayName="Card";const jn=A.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ct("flex flex-col space-y-1.5 p-6",e),...t}));jn.displayName="CardHeader";const Mn=A.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Ct("text-2xl font-semibold leading-none tracking-tight",e),...t}));Mn.displayName="CardTitle";const wl=A.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Ct("text-sm text-muted-foreground",e),...t}));wl.displayName="CardDescription";const Lt=A.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ct("p-6 pt-0",e),...t}));Lt.displayName="CardContent";const Wxe=A.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ct("flex items-center p-6 pt-0",e),...t}));Wxe.displayName="CardFooter";const Zz=uhe({email:Jk().email("Please enter a valid email"),password:Jk().min(6,"Password must be at least 6 characters")}),qxe=Zz.extend({name:Jk().min(2,"Name must be at least 2 characters")});function zxe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,c]=A.useState(""),{setUser:l}=Ki(),u=Rfe({resolver:Ufe(e?qxe:Zz),defaultValues:{email:"",password:"",name:""}}),d=async(y,m,g)=>{const v=Ke(Pe,"users",y);(await Uf(v)).exists()||await xt(v,{uid:y,email:m,displayName:g,role:"student",institution:"",groups:[],createdAt:new Date,lastActive:new Date})},f=async y=>{s(!0),c("");try{if(e){const m=await eae(lh,y.email,y.password);await d(m.user.uid,y.email,y.name)}else await tae(lh,y.email,y.password)}catch(m){const g=m.code||"";let v="Something went wrong. Please try again.";g==="auth/user-not-found"?v="No account found with this email.":g==="auth/wrong-password"?v="Incorrect password.":g==="auth/email-already-in-use"?v="This email is already registered.":g==="auth/invalid-email"?v="Invalid email address.":g==="auth/weak-password"?v="Password is too weak.":g==="auth/network-request-failed"?v="Network error. Please check your connection.":g==="auth/invalid-credential"&&(v="Invalid credentials. Please check email and password."),c(v)}finally{s(!1)}},h=async()=>{var y;s(!0),c("");try{const m=new yl;m.setCustomParameters({prompt:"select_account"});try{const g=await Nae(lh,m);await d(g.user.uid,g.user.email||"",g.user.displayName||((y=g.user.email)==null?void 0:y.split("@")[0])||"User")}catch(g){if(g.code==="auth/popup-blocked"||g.code==="auth/popup-closed-by-user")await _O(lh,m);else throw g}}catch(m){const g=m.code||"";let v="Google sign-in failed. Please try again.";if(console.error("Google Sign-in Error:",g,m.message),g==="auth/popup-blocked"){v="Popup was blocked. Redirecting to sign in...";const x=new yl;await _O(lh,x);return}else g==="auth/cancelled-popup-request"?v="Sign-in cancelled.":g==="auth/network-request-failed"?v="Network error. Please check your connection.":g==="auth/unauthorized-domain"?v="This domain is not authorized. Please contact the administrator.":g==="auth/operation-not-allowed"?v="Google sign-in is not enabled. Please contact the administrator.":g.includes("auth/")&&(v=`Authentication error: ${m.message}`);c(v)}finally{s(!1)}},p=()=>{const y={id:"guest-"+Date.now(),email:"guest@studycircle.app",displayName:"Guest User",photoURL:void 0,institution:"",groups:[],role:"student",createdAt:new Date,lastActive:new Date,isGuest:!0};l(y)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/50 p-4",children:a.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:a.jsxs(dt,{className:"border-0 shadow-2xl",children:[a.jsxs(jn,{className:"space-y-1 text-center pb-2",children:[a.jsx(ct.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:"text-4xl mb-2",children:""}),a.jsx(Mn,{className:"text-2xl font-bold",children:"Group Study 2.0"}),a.jsx(wl,{children:"Learn together, grow together"})]}),a.jsxs(Lt,{className:"space-y-4",children:[o&&a.jsx(ct.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-destructive/10 text-destructive text-sm p-3 rounded-lg",children:o}),a.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[e&&a.jsxs(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"relative",children:[a.jsx(Ax,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{...u.register("name"),placeholder:"Your Name",className:"pl-10",disabled:i}),u.formState.errors.name&&a.jsx("p",{className:"text-destructive text-xs mt-1",children:u.formState.errors.name.message})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Vz,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{...u.register("email"),type:"email",placeholder:"Email",className:"pl-10",disabled:i}),u.formState.errors.email&&a.jsx("p",{className:"text-destructive text-xs mt-1",children:u.formState.errors.email.message})]}),a.jsxs("div",{className:"relative",children:[a.jsx(j4,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{...u.register("password"),type:n?"text":"password",placeholder:"Password",className:"pl-10 pr-10",disabled:i}),a.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:n?a.jsx(Fz,{className:"h-4 w-4"}):a.jsx(Bc,{className:"h-4 w-4"})}),u.formState.errors.password&&a.jsx("p",{className:"text-destructive text-xs mt-1",children:u.formState.errors.password.message})]}),a.jsxs(ge,{type:"submit",className:"w-full",disabled:i,children:[i?a.jsx(Mz,{className:"h-4 w-4 animate-spin mr-2"}):null,e?"Register":"Login"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or"})})]}),a.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:h,disabled:i,children:[a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),a.jsxs(ge,{type:"button",variant:"secondary",className:"w-full",onClick:p,disabled:i,children:[a.jsx(Ige,{className:"h-4 w-4 mr-2"}),"Continue as Guest"]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[e?"Already have an account?":"New user?"," ",a.jsx("button",{type:"button",onClick:()=>{t(!e),c(""),u.reset()},className:"text-primary hover:underline font-medium",children:e?"Login":"Register"})]})]})]})})})}function $xe(e,t=[]){let n=[];function r(s,o){const c=A.createContext(o);c.displayName=s+"Context";const l=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[l])||c,g=A.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,y=A.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[r,Hxe(i,...t)]}function Hxe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Hc(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Gi=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Gxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O4=Gxe.reduce((e,t)=>{const n=I4(`Primitive.${t}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Qxe(){return KW.useSyncExternalStore(Kxe,()=>!0,()=>!1)}function Kxe(){return()=>{}}var F4="Avatar",[Xxe]=$xe(F4),[Yxe,Jz]=Xxe(F4),e$=A.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=A.useState("idle");return a.jsx(Yxe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(O4.span,{...r,ref:t})})});e$.displayName=F4;var t$="AvatarImage",n$=A.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,o=Jz(t$,n),c=Zxe(r,s),l=Hc(u=>{i(u),o.onImageLoadingStatusChange(u)});return Gi(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?a.jsx(O4.img,{...s,ref:t,src:r}):null});n$.displayName=t$;var r$="AvatarFallback",i$=A.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=Jz(r$,n),[o,c]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(O4.span,{...i,ref:t}):null});i$.displayName=r$;function h6(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Zxe(e,{referrerPolicy:t,crossOrigin:n}){const r=Qxe(),i=A.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=A.useState(()=>h6(s,e));return Gi(()=>{c(h6(s,e))},[s,e]),Gi(()=>{const l=f=>()=>{c(f)};if(!s)return;const u=l("loaded"),d=l("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,t]),o}var s$=e$,a$=n$,o$=i$;const $d=A.forwardRef(({className:e,...t},n)=>a.jsx(s$,{ref:n,className:Ct("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$d.displayName=s$.displayName;const c$=A.forwardRef(({className:e,...t},n)=>a.jsx(a$,{ref:n,className:Ct("aspect-square h-full w-full",e),...t}));c$.displayName=a$.displayName;const Hd=A.forwardRef(({className:e,...t},n)=>a.jsx(o$,{ref:n,className:Ct("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Hd.displayName=o$.displayName;function Rt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Jxe(e,t){const n=A.createContext(t),r=s=>{const{children:o,...c}=s,l=A.useMemo(()=>c,Object.values(c));return a.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(s){const o=A.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function rd(e,t=[]){let n=[];function r(s,o){const c=A.createContext(o),l=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[l])||c,g=A.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,y=A.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[r,eve(i,...t)]}function eve(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var tve=iD[" useInsertionEffect ".trim().toString()]||Gi;function Gh({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=nve({defaultProp:t,onChange:n}),c=e!==void 0,l=c?e:i;{const d=A.useRef(e!==void 0);A.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,r])}const u=A.useCallback(d=>{var f;if(c){const h=rve(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function nve({defaultProp:e,onChange:t}){const[n,r]=A.useState(e),i=A.useRef(n),s=A.useRef(t);return tve(()=>{s.current=t},[t]),A.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function rve(e){return typeof e=="function"}function ive(e){const t=sve(e),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),l=c.find(ove);if(l){const u=l.props.children,d=c.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function sve(e){const t=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=lve(i),c=cve(s,i.props);return i.type!==A.Fragment&&(c.ref=r?nd(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ave=Symbol("radix.slottable");function ove(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ave}function cve(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function lve(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=uve.reduce((e,t)=>{const n=ive(`Primitive.${t}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l$(e,t){e&&cp.flushSync(()=>e.dispatchEvent(t))}function p6(e){const t=dve(e),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),l=c.find(hve);if(l){const u=l.props.children,d=c.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function dve(e){const t=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=mve(i),c=pve(s,i.props);return i.type!==A.Fragment&&(c.ref=r?nd(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fve=Symbol("radix.slottable");function hve(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fve}function pve(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function mve(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function P4(e){const t=e+"CollectionProvider",[n,r]=rd(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,x=zr.useRef(null),b=zr.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:b,collectionRef:x,children:v})};o.displayName=t;const c=e+"CollectionSlot",l=p6(c),u=zr.forwardRef((m,g)=>{const{scope:v,children:x}=m,b=s(c,v),w=yr(g,b.collectionRef);return a.jsx(l,{ref:w,children:x})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=p6(d),p=zr.forwardRef((m,g)=>{const{scope:v,children:x,...b}=m,w=zr.useRef(null),T=yr(g,w),C=s(d,v);return zr.useEffect(()=>(C.itemMap.set(w,{ref:w,...b}),()=>void C.itemMap.delete(w))),a.jsx(h,{[f]:"",ref:T,children:x})});p.displayName=d;function y(m){const g=s(e+"CollectionConsumer",m);return zr.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,_)=>b.indexOf(C.ref.current)-b.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,r]}var gve=A.createContext(void 0);function O_(e){const t=A.useContext(gve);return e||t||"ltr"}function xve(e,t=globalThis==null?void 0:globalThis.document){const n=Hc(e);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var vve="DismissableLayer",mA="dismissableLayer.update",yve="dismissableLayer.pointerDownOutside",bve="dismissableLayer.focusOutside",m6,u$=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F_=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...l}=e,u=A.useContext(u$),[d,f]=A.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),y=yr(t,_=>f(_)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=x>=v,T=Tve(_=>{const N=_.target,k=[...u.branches].some(j=>j.contains(N));!w||k||(i==null||i(_),o==null||o(_),_.defaultPrevented||c==null||c())},h),C=Eve(_=>{const N=_.target;[...u.branches].some(j=>j.contains(N))||(s==null||s(_),o==null||o(_),_.defaultPrevented||c==null||c())},h);return xve(_=>{x===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},h),A.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),g6(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=m6)}},[d,h,n,u]),A.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),g6())},[d,u]),A.useEffect(()=>{const _=()=>p({});return document.addEventListener(mA,_),()=>document.removeEventListener(mA,_)},[]),a.jsx(wn.div,{...l,ref:y,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Rt(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Rt(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Rt(e.onPointerDownCapture,T.onPointerDownCapture)})});F_.displayName=vve;var wve="DismissableLayerBranch",_ve=A.forwardRef((e,t)=>{const n=A.useContext(u$),r=A.useRef(null),i=yr(t,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(wn.div,{...e,ref:i})});_ve.displayName=wve;function Tve(e,t=globalThis==null?void 0:globalThis.document){const n=Hc(e),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let l=function(){d$(yve,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Eve(e,t=globalThis==null?void 0:globalThis.document){const n=Hc(e),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&d$(bve,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function g6(){const e=new CustomEvent(mA);document.dispatchEvent(e)}function d$(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?l$(i,s):i.dispatchEvent(s)}var ON=0;function U4(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??x6()),document.body.insertAdjacentElement("beforeend",e[1]??x6()),ON++,()=>{ON===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ON--}},[])}function x6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var FN="focusScope.autoFocusOnMount",PN="focusScope.autoFocusOnUnmount",v6={bubbles:!1,cancelable:!0},Nve="FocusScope",P_=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[c,l]=A.useState(null),u=Hc(i),d=Hc(s),f=A.useRef(null),h=yr(t,m=>l(m)),p=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let m=function(b){if(p.paused||!c)return;const w=b.target;c.contains(w)?f.current=w:wd(f.current,{select:!0})},g=function(b){if(p.paused||!c)return;const w=b.relatedTarget;w!==null&&(c.contains(w)||wd(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&wd(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(v);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[r,c,p.paused]),A.useEffect(()=>{if(c){b6.add(p);const m=document.activeElement;if(!c.contains(m)){const v=new CustomEvent(FN,v6);c.addEventListener(FN,u),c.dispatchEvent(v),v.defaultPrevented||(Sve(jve(f$(c)),{select:!0}),document.activeElement===m&&wd(c))}return()=>{c.removeEventListener(FN,u),setTimeout(()=>{const v=new CustomEvent(PN,v6);c.addEventListener(PN,d),c.dispatchEvent(v),v.defaultPrevented||wd(m??document.body,{select:!0}),c.removeEventListener(PN,d),b6.remove(p)},0)}}},[c,u,d,p]);const y=A.useCallback(m=>{if(!n&&!r||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const x=m.currentTarget,[b,w]=Cve(x);b&&w?!m.shiftKey&&v===w?(m.preventDefault(),n&&wd(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&wd(w,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return a.jsx(wn.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});P_.displayName=Nve;function Sve(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wd(r,{select:t}),document.activeElement!==n)return}function Cve(e){const t=f$(e),n=y6(t,e),r=y6(t.reverse(),e);return[n,r]}function f$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function y6(e,t){for(const n of e)if(!kve(n,{upTo:t}))return n}function kve(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ave(e){return e instanceof HTMLInputElement&&"select"in e}function wd(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ave(e)&&t&&e.select()}}var b6=Dve();function Dve(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=w6(e,t),e.unshift(t)},remove(t){var n;e=w6(e,t),(n=e[0])==null||n.resume()}}}function w6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jve(e){return e.filter(t=>t.tagName!=="A")}var Ive=iD[" useId ".trim().toString()]||(()=>{}),Rve=0;function Ul(e){const[t,n]=A.useState(Ive());return Gi(()=>{n(r=>r??String(Rve++))},[e]),t?`radix-${t}`:""}const Ove=["top","right","bottom","left"],Tf=Math.min,mo=Math.max,Q2=Math.round,F1=Math.floor,Ll=e=>({x:e,y:e}),Fve={left:"right",right:"left",bottom:"top",top:"bottom"},Pve={start:"end",end:"start"};function gA(e,t,n){return mo(e,Tf(t,n))}function Qu(e,t){return typeof e=="function"?e(t):e}function Ku(e){return e.split("-")[0]}function L0(e){return e.split("-")[1]}function L4(e){return e==="x"?"y":"x"}function M4(e){return e==="y"?"height":"width"}const Uve=new Set(["top","bottom"]);function El(e){return Uve.has(Ku(e))?"y":"x"}function B4(e){return L4(El(e))}function Lve(e,t,n){n===void 0&&(n=!1);const r=L0(e),i=B4(e),s=M4(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=K2(o)),[o,K2(o)]}function Mve(e){const t=K2(e);return[xA(e),t,xA(t)]}function xA(e){return e.replace(/start|end/g,t=>Pve[t])}const _6=["left","right"],T6=["right","left"],Bve=["top","bottom"],Vve=["bottom","top"];function Wve(e,t,n){switch(e){case"top":case"bottom":return n?t?T6:_6:t?_6:T6;case"left":case"right":return t?Bve:Vve;default:return[]}}function qve(e,t,n,r){const i=L0(e);let s=Wve(Ku(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(xA)))),s}function K2(e){return e.replace(/left|right|bottom|top/g,t=>Fve[t])}function zve(e){return{top:0,right:0,bottom:0,left:0,...e}}function h$(e){return typeof e!="number"?zve(e):{top:e,right:e,bottom:e,left:e}}function X2(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function E6(e,t,n){let{reference:r,floating:i}=e;const s=El(t),o=B4(t),c=M4(o),l=Ku(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[c]/2-i[c]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(L0(t)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const $ve=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,c=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=E6(u,r,l),h=r,p={},y=0;for(let m=0;m<c.length;m++){const{name:g,fn:v}=c[m],{x,y:b,data:w,reset:T}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[g]:{...p[g],...w}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:d,y:f}=E6(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Cv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Qu(t,e),y=h$(p),g=c[h?f==="floating"?"reference":"floating":f],v=X2(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},T=X2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-T.top+y.top)/w.y,bottom:(T.bottom-v.bottom+y.bottom)/w.y,left:(v.left-T.left+y.left)/w.x,right:(T.right-v.right+y.right)/w.x}}const Hve=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=Qu(e,t)||{};if(u==null)return{};const f=h$(d),h={x:n,y:r},p=B4(i),y=M4(p),m=await o.getDimensions(u),g=p==="y",v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=s.reference[y]+s.reference[p]-h[p]-s.floating[y],T=h[p]-s.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=C?C[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=c.floating[b]||s.floating[y]);const N=w/2-T/2,k=_/2-m[y]/2-1,j=Tf(f[v],k),D=Tf(f[x],k),E=j,I=_-m[y]-D,R=_/2-m[y]/2+N,V=gA(E,R,I),M=!l.arrow&&L0(i)!=null&&R!==V&&s.reference[y]/2-(R<E?j:D)-m[y]/2<0,H=M?R<E?R-E:R-I:0;return{[p]:h[p]+H,data:{[p]:V,centerOffset:R-V-H,...M&&{alignmentOffset:H}},reset:M}}}),Gve=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=Qu(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ku(i),x=El(c),b=Ku(c)===c,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(b||!m?[K2(c)]:Mve(c)),C=y!=="none";!h&&C&&T.push(...qve(c,m,y,w));const _=[c,...T],N=await Cv(t,g),k=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(N[v]),f){const R=Lve(i,o,w);k.push(N[R[0]],N[R[1]])}if(j=[...j,{placement:i,overflows:k}],!k.every(R=>R<=0)){var D,E;const R=(((D=s.flip)==null?void 0:D.index)||0)+1,V=_[R];if(V&&(!(f==="alignment"?x!==El(V):!1)||j.every(G=>El(G.placement)===x?G.overflows[0]>0:!0)))return{data:{index:R,overflows:j},reset:{placement:V}};let M=(E=j.filter(H=>H.overflows[0]<=0).sort((H,G)=>H.overflows[1]-G.overflows[1])[0])==null?void 0:E.placement;if(!M)switch(p){case"bestFit":{var I;const H=(I=j.filter(G=>{if(C){const P=El(G.placement);return P===x||P==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(P=>P>0).reduce((P,W)=>P+W,0)]).sort((G,P)=>G[1]-P[1])[0])==null?void 0:I[0];H&&(M=H);break}case"initialPlacement":M=c;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function N6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function S6(e){return Ove.some(t=>e[t]>=0)}const Qve=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Qu(e,t);switch(r){case"referenceHidden":{const s=await Cv(t,{...i,elementContext:"reference"}),o=N6(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:S6(o)}}}case"escaped":{const s=await Cv(t,{...i,altBoundary:!0}),o=N6(s,n.floating);return{data:{escapedOffsets:o,escaped:S6(o)}}}default:return{}}}}},p$=new Set(["left","top"]);async function Kve(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ku(n),c=L0(n),l=El(n)==="y",u=p$.has(o)?-1:1,d=s&&l?-1:1,f=Qu(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof y=="number"&&(p=c==="end"?y*-1:y),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Xve=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:c}=t,l=await Kve(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Yve=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...l}=Qu(e,t),u={x:n,y:r},d=await Cv(t,l),f=El(Ku(i)),h=L4(f);let p=u[h],y=u[f];if(s){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[g],b=p-d[v];p=gA(x,p,b)}if(o){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+d[g],b=y-d[v];y=gA(x,y,b)}const m=c.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:o}}}}}},Zve=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=Qu(e,t),d={x:n,y:r},f=El(i),h=L4(f);let p=d[h],y=d[f];const m=Qu(c,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",w=s.reference[h]-s.floating[b]+g.mainAxis,T=s.reference[h]+s.reference[b]-g.mainAxis;p<w?p=w:p>T&&(p=T)}if(u){var v,x;const b=h==="y"?"width":"height",w=p$.has(Ku(i)),T=s.reference[f]-s.floating[b]+(w&&((v=o.offset)==null?void 0:v[f])||0)+(w?0:g.crossAxis),C=s.reference[f]+s.reference[b]+(w?0:((x=o.offset)==null?void 0:x[f])||0)-(w?g.crossAxis:0);y<T?y=T:y>C&&(y=C)}return{[h]:p,[f]:y}}}},Jve=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:c}=t,{apply:l=()=>{},...u}=Qu(e,t),d=await Cv(t,u),f=Ku(i),h=L0(i),p=El(i)==="y",{width:y,height:m}=s.floating;let g,v;f==="top"||f==="bottom"?(g=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(v=f,g=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,w=Tf(m-d[g],x),T=Tf(y-d[v],b),C=!t.middlewareData.shift;let _=w,N=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=x),C&&!h){const j=mo(d.left,0),D=mo(d.right,0),E=mo(d.top,0),I=mo(d.bottom,0);p?N=y-2*(j!==0||D!==0?j+D:mo(d.left,d.right)):_=m-2*(E!==0||I!==0?E+I:mo(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:_});const k=await o.getDimensions(c.floating);return y!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function U_(){return typeof window<"u"}function M0(e){return m$(e)?(e.nodeName||"").toLowerCase():"#document"}function To(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yl(e){var t;return(t=(m$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m$(e){return U_()?e instanceof Node||e instanceof To(e).Node:!1}function Gc(e){return U_()?e instanceof Element||e instanceof To(e).Element:!1}function Hl(e){return U_()?e instanceof HTMLElement||e instanceof To(e).HTMLElement:!1}function C6(e){return!U_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof To(e).ShadowRoot}const eye=new Set(["inline","contents"]);function jy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!eye.has(i)}const tye=new Set(["table","td","th"]);function nye(e){return tye.has(M0(e))}const rye=[":popover-open",":modal"];function L_(e){return rye.some(t=>{try{return e.matches(t)}catch{return!1}})}const iye=["transform","translate","scale","rotate","perspective"],sye=["transform","translate","scale","rotate","perspective","filter"],aye=["paint","layout","strict","content"];function V4(e){const t=W4(),n=Gc(e)?Qc(e):e;return iye.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||sye.some(r=>(n.willChange||"").includes(r))||aye.some(r=>(n.contain||"").includes(r))}function oye(e){let t=Ef(e);for(;Hl(t)&&!x0(t);){if(V4(t))return t;if(L_(t))return null;t=Ef(t)}return null}function W4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cye=new Set(["html","body","#document"]);function x0(e){return cye.has(M0(e))}function Qc(e){return To(e).getComputedStyle(e)}function M_(e){return Gc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ef(e){if(M0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||C6(e)&&e.host||Yl(e);return C6(t)?t.host:t}function g$(e){const t=Ef(e);return x0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hl(t)&&jy(t)?t:g$(t)}function kv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=g$(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=To(i);if(s){const c=vA(o);return t.concat(o,o.visualViewport||[],jy(i)?i:[],c&&n?kv(c):[])}return t.concat(i,kv(i,[],n))}function vA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function x$(e){const t=Qc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Hl(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,c=Q2(n)!==s||Q2(r)!==o;return c&&(n=s,r=o),{width:n,height:r,$:c}}function q4(e){return Gc(e)?e:e.contextElement}function Dm(e){const t=q4(e);if(!Hl(t))return Ll(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=x$(t);let o=(s?Q2(n.width):n.width)/r,c=(s?Q2(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const lye=Ll(0);function v$(e){const t=To(e);return!W4()||!t.visualViewport?lye:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uye(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==To(e)?!1:t}function Qh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=q4(e);let o=Ll(1);t&&(r?Gc(r)&&(o=Dm(r)):o=Dm(e));const c=uye(s,n,r)?v$(s):Ll(0);let l=(i.left+c.x)/o.x,u=(i.top+c.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=To(s),p=r&&Gc(r)?To(r):r;let y=h,m=vA(y);for(;m&&r&&p!==y;){const g=Dm(m),v=m.getBoundingClientRect(),x=Qc(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,w=v.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=b,u+=w,y=To(m),m=vA(y)}}return X2({width:d,height:f,x:l,y:u})}function B_(e,t){const n=M_(e).scrollLeft;return t?t.left+n:Qh(Yl(e)).left+n}function y$(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-B_(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function dye(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Yl(r),c=t?L_(t.floating):!1;if(r===o||c&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ll(1);const d=Ll(0),f=Hl(r);if((f||!f&&!s)&&((M0(r)!=="body"||jy(o))&&(l=M_(r)),Hl(r))){const p=Qh(r);u=Dm(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!f&&!s?y$(o,l):Ll(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function fye(e){return Array.from(e.getClientRects())}function hye(e){const t=Yl(e),n=M_(e),r=e.ownerDocument.body,i=mo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=mo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+B_(e);const c=-n.scrollTop;return Qc(r).direction==="rtl"&&(o+=mo(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:c}}const k6=25;function pye(e,t){const n=To(e),r=Yl(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,c=0,l=0;if(i){s=i.width,o=i.height;const d=W4();(!d||d&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}const u=B_(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-p);y<=k6&&(s-=y)}else u<=k6&&(s+=u);return{width:s,height:o,x:c,y:l}}const mye=new Set(["absolute","fixed"]);function gye(e,t){const n=Qh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Hl(e)?Dm(e):Ll(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:c,x:l,y:u}}function A6(e,t,n){let r;if(t==="viewport")r=pye(e,n);else if(t==="document")r=hye(Yl(e));else if(Gc(t))r=gye(t,n);else{const i=v$(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return X2(r)}function b$(e,t){const n=Ef(e);return n===t||!Gc(n)||x0(n)?!1:Qc(n).position==="fixed"||b$(n,t)}function xye(e,t){const n=t.get(e);if(n)return n;let r=kv(e,[],!1).filter(c=>Gc(c)&&M0(c)!=="body"),i=null;const s=Qc(e).position==="fixed";let o=s?Ef(e):e;for(;Gc(o)&&!x0(o);){const c=Qc(o),l=V4(o);!l&&c.position==="fixed"&&(i=null),(s?!l&&!i:!l&&c.position==="static"&&!!i&&mye.has(i.position)||jy(o)&&!l&&b$(e,o))?r=r.filter(d=>d!==o):i=c,o=Ef(o)}return t.set(e,r),r}function vye(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?L_(t)?[]:xye(t,this._c):[].concat(n),r],c=o[0],l=o.reduce((u,d)=>{const f=A6(t,d,i);return u.top=mo(f.top,u.top),u.right=Tf(f.right,u.right),u.bottom=Tf(f.bottom,u.bottom),u.left=mo(f.left,u.left),u},A6(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yye(e){const{width:t,height:n}=x$(e);return{width:t,height:n}}function bye(e,t,n){const r=Hl(t),i=Yl(t),s=n==="fixed",o=Qh(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const l=Ll(0);function u(){l.x=B_(i)}if(r||!r&&!s)if((M0(t)!=="body"||jy(i))&&(c=M_(t)),r){const p=Qh(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?y$(i,c):Ll(0),f=o.left+c.scrollLeft-l.x-d.x,h=o.top+c.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function UN(e){return Qc(e).position==="static"}function D6(e,t){if(!Hl(e)||Qc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Yl(e)===n&&(n=n.ownerDocument.body),n}function w$(e,t){const n=To(e);if(L_(e))return n;if(!Hl(e)){let i=Ef(e);for(;i&&!x0(i);){if(Gc(i)&&!UN(i))return i;i=Ef(i)}return n}let r=D6(e,t);for(;r&&nye(r)&&UN(r);)r=D6(r,t);return r&&x0(r)&&UN(r)&&!V4(r)?n:r||oye(e)||n}const wye=async function(e){const t=this.getOffsetParent||w$,n=this.getDimensions,r=await n(e.floating);return{reference:bye(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _ye(e){return Qc(e).direction==="rtl"}const Tye={convertOffsetParentRelativeRectToViewportRelativeRect:dye,getDocumentElement:Yl,getClippingRect:vye,getOffsetParent:w$,getElementRects:wye,getClientRects:fye,getDimensions:yye,getScale:Dm,isElement:Gc,isRTL:_ye};function _$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Eye(e,t){let n=null,r;const i=Yl(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(c||t(),!h||!p)return;const y=F1(f),m=F1(i.clientWidth-(d+h)),g=F1(i.clientHeight-(f+p)),v=F1(d),b={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:mo(0,Tf(1,l))||1};let w=!0;function T(C){const _=C[0].intersectionRatio;if(_!==l){if(!w)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!_$(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(T,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,b)}n.observe(e)}return o(!0),s}function Nye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=q4(e),d=i||s?[...u?kv(u):[],...kv(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&c?Eye(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let y,m=l?Qh(e):null;l&&g();function g(){const v=Qh(e);m&&!_$(m,v)&&n(),m=v,y=requestAnimationFrame(g)}return n(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const Sye=Xve,Cye=Yve,kye=Gve,Aye=Jve,Dye=Qve,j6=Hve,jye=Zve,Iye=(e,t,n)=>{const r=new Map,i={platform:Tye,...n},s={...i.platform,_c:r};return $ve(e,t,{...i,platform:s})};var Rye=typeof document<"u",Oye=function(){},Fb=Rye?A.useLayoutEffect:Oye;function Y2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Y2(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Y2(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function T$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function I6(e,t){const n=T$(e);return Math.round(t*n)/n}function LN(e){const t=A.useRef(e);return Fb(()=>{t.current=e}),t}function Fye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=A.useState(r);Y2(h,r)||p(r);const[y,m]=A.useState(null),[g,v]=A.useState(null),x=A.useCallback(G=>{G!==C.current&&(C.current=G,m(G))},[]),b=A.useCallback(G=>{G!==_.current&&(_.current=G,v(G))},[]),w=s||y,T=o||g,C=A.useRef(null),_=A.useRef(null),N=A.useRef(d),k=l!=null,j=LN(l),D=LN(i),E=LN(u),I=A.useCallback(()=>{if(!C.current||!_.current)return;const G={placement:t,strategy:n,middleware:h};D.current&&(G.platform=D.current),Iye(C.current,_.current,G).then(P=>{const W={...P,isPositioned:E.current!==!1};R.current&&!Y2(N.current,W)&&(N.current=W,cp.flushSync(()=>{f(W)}))})},[h,t,n,D,E]);Fb(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const R=A.useRef(!1);Fb(()=>(R.current=!0,()=>{R.current=!1}),[]),Fb(()=>{if(w&&(C.current=w),T&&(_.current=T),w&&T){if(j.current)return j.current(w,T,I);I()}},[w,T,I,j,k]);const V=A.useMemo(()=>({reference:C,floating:_,setReference:x,setFloating:b}),[x,b]),M=A.useMemo(()=>({reference:w,floating:T}),[w,T]),H=A.useMemo(()=>{const G={position:n,left:0,top:0};if(!M.floating)return G;const P=I6(M.floating,d.x),W=I6(M.floating,d.y);return c?{...G,transform:"translate("+P+"px, "+W+"px)",...T$(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:W}},[n,c,M.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:I,refs:V,elements:M,floatingStyles:H}),[d,I,V,M,H])}const Pye=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?j6({element:r.current,padding:i}).fn(n):{}:r?j6({element:r,padding:i}).fn(n):{}}}},Uye=(e,t)=>({...Sye(e),options:[e,t]}),Lye=(e,t)=>({...Cye(e),options:[e,t]}),Mye=(e,t)=>({...jye(e),options:[e,t]}),Bye=(e,t)=>({...kye(e),options:[e,t]}),Vye=(e,t)=>({...Aye(e),options:[e,t]}),Wye=(e,t)=>({...Dye(e),options:[e,t]}),qye=(e,t)=>({...Pye(e),options:[e,t]});var zye="Arrow",E$=A.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return a.jsx(wn.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});E$.displayName=zye;var $ye=E$;function N$(e){const[t,n]=A.useState(void 0);return Gi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var z4="Popper",[S$,V_]=rd(z4),[Hye,C$]=S$(z4),k$=e=>{const{__scopePopper:t,children:n}=e,[r,i]=A.useState(null);return a.jsx(Hye,{scope:t,anchor:r,onAnchorChange:i,children:n})};k$.displayName=z4;var A$="PopperAnchor",D$=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=C$(A$,n),o=A.useRef(null),c=yr(t,o),l=A.useRef(null);return A.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:a.jsx(wn.div,{...i,ref:c})});D$.displayName=A$;var $4="PopperContent",[Gye,Qye]=S$($4),j$=A.forwardRef((e,t)=>{var Z,pe,me,ye,Fe,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=C$($4,n),[v,x]=A.useState(null),b=yr(t,ve=>x(ve)),[w,T]=A.useState(null),C=N$(w),_=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,k=r+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],E=D.length>0,I={padding:j,boundary:D.filter(Xye),altBoundary:E},{refs:R,floatingStyles:V,placement:M,isPositioned:H,middlewareData:G}=Fye({strategy:"fixed",placement:k,whileElementsMounted:(...ve)=>Nye(...ve,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[Uye({mainAxis:i+N,alignmentAxis:o}),l&&Lye({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Mye():void 0,...I}),l&&Bye({...I}),Vye({...I,apply:({elements:ve,rects:B,availableWidth:_e,availableHeight:Ee})=>{const{width:se,height:J}=B.reference,de=ve.floating.style;de.setProperty("--radix-popper-available-width",`${_e}px`),de.setProperty("--radix-popper-available-height",`${Ee}px`),de.setProperty("--radix-popper-anchor-width",`${se}px`),de.setProperty("--radix-popper-anchor-height",`${J}px`)}}),w&&qye({element:w,padding:c}),Yye({arrowWidth:_,arrowHeight:N}),h&&Wye({strategy:"referenceHidden",...I})]}),[P,W]=O$(M),F=Hc(y);Gi(()=>{H&&(F==null||F())},[H,F]);const O=(Z=G.arrow)==null?void 0:Z.x,L=(pe=G.arrow)==null?void 0:pe.y,K=((me=G.arrow)==null?void 0:me.centerOffset)!==0,[Q,U]=A.useState();return Gi(()=>{v&&U(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:H?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(ye=G.transformOrigin)==null?void 0:ye.x,(Fe=G.transformOrigin)==null?void 0:Fe.y].join(" "),...((Y=G.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Gye,{scope:n,placedSide:P,onArrowChange:T,arrowX:O,arrowY:L,shouldHideArrow:K,children:a.jsx(wn.div,{"data-side":P,"data-align":W,...m,ref:b,style:{...m.style,animation:H?void 0:"none"}})})})});j$.displayName=$4;var I$="PopperArrow",Kye={top:"bottom",right:"left",bottom:"top",left:"right"},R$=A.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=Qye(I$,r),o=Kye[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx($ye,{...i,ref:n,style:{...i.style,display:"block"}})})});R$.displayName=I$;function Xye(e){return e!==null}var Yye=e=>({name:"transformOrigin",options:e,fn(t){var g,v,x;const{placement:n,rects:r,middlewareData:i}=t,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=O$(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+c/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-l}px`):u==="top"?(y=o?f:`${h}px`,m=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,m=o?f:`${p}px`):u==="left"&&(y=`${r.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function O$(e){const[t,n="center"]=e.split("-");return[t,n]}var F$=k$,P$=D$,U$=j$,L$=R$,Zye="Portal",W_=A.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,s]=A.useState(!1);Gi(()=>s(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?Zne.createPortal(a.jsx(wn.div,{...r,ref:t}),o):null});W_.displayName=Zye;function Jye(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var id=e=>{const{present:t,children:n}=e,r=e1e(t),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=yr(r.ref,t1e(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};id.displayName="Presence";function e1e(e){const[t,n]=A.useState(),r=A.useRef(null),i=A.useRef(e),s=A.useRef("none"),o=e?"mounted":"unmounted",[c,l]=Jye(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=P1(r.current);s.current=c==="mounted"?u:"none"},[c]),Gi(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=P1(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Gi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=P1(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(s.current=P1(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:A.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function P1(e){return(e==null?void 0:e.animationName)||"none"}function t1e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MN="rovingFocusGroup.onEntryFocus",n1e={bubbles:!1,cancelable:!0},Iy="RovingFocusGroup",[yA,M$,r1e]=P4(Iy),[i1e,q_]=rd(Iy,[r1e]),[s1e,a1e]=i1e(Iy),B$=A.forwardRef((e,t)=>a.jsx(yA.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(yA.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(o1e,{...e,ref:t})})}));B$.displayName=Iy;var o1e=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=A.useRef(null),p=yr(t,h),y=O_(s),[m,g]=Gh({prop:o,defaultProp:c??null,onChange:l,caller:Iy}),[v,x]=A.useState(!1),b=Hc(u),w=M$(n),T=A.useRef(!1),[C,_]=A.useState(0);return A.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(MN,b),()=>N.removeEventListener(MN,b)},[b]),a.jsx(s1e,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:m,onItemFocus:A.useCallback(N=>g(N),[g]),onItemShiftTab:A.useCallback(()=>x(!0),[]),onFocusableItemAdd:A.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:A.useCallback(()=>_(N=>N-1),[]),children:a.jsx(wn.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Rt(e.onMouseDown,()=>{T.current=!0}),onFocus:Rt(e.onFocus,N=>{const k=!T.current;if(N.target===N.currentTarget&&k&&!v){const j=new CustomEvent(MN,n1e);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=w().filter(M=>M.focusable),E=D.find(M=>M.active),I=D.find(M=>M.id===m),V=[E,I,...D].filter(Boolean).map(M=>M.ref.current);q$(V,d)}}T.current=!1}),onBlur:Rt(e.onBlur,()=>x(!1))})})}),V$="RovingFocusGroupItem",W$=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...c}=e,l=Ul(),u=s||l,d=a1e(V$,n),f=d.currentTabStopId===u,h=M$(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return A.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),a.jsx(yA.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx(wn.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:Rt(e.onMouseDown,g=>{r?d.onItemFocus(u):g.preventDefault()}),onFocus:Rt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Rt(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=u1e(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const w=b.indexOf(g.currentTarget);b=d.loop?d1e(b,w+1):b.slice(w+1)}setTimeout(()=>q$(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});W$.displayName=V$;var c1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l1e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function u1e(e,t,n){const r=l1e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return c1e[r]}function q$(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function d1e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var z$=B$,$$=W$;function f1e(e){const t=h1e(e),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),l=c.find(m1e);if(l){const u=l.props.children,d=c.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function h1e(e){const t=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=x1e(i),c=g1e(s,i.props);return i.type!==A.Fragment&&(c.ref=r?nd(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p1e=Symbol("radix.slottable");function m1e(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p1e}function g1e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function x1e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var v1e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Op=new WeakMap,U1=new WeakMap,L1={},BN=0,H$=function(e){return e&&(e.host||H$(e.parentNode))},y1e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=H$(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},b1e=function(e,t,n,r){var i=y1e(t,Array.isArray(e)?e:[e]);L1[n]||(L1[n]=new WeakMap);var s=L1[n],o=[],c=new Set,l=new Set(i),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",m=(Op.get(h)||0)+1,g=(s.get(h)||0)+1;Op.set(h,m),s.set(h,g),o.push(h),m===1&&y&&U1.set(h,!0),g===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),c.clear(),BN++,function(){o.forEach(function(f){var h=Op.get(f)-1,p=s.get(f)-1;Op.set(f,h),s.set(f,p),h||(U1.has(f)||f.removeAttribute(r),U1.delete(f)),p||f.removeAttribute(n)}),BN--,BN||(Op=new WeakMap,Op=new WeakMap,U1=new WeakMap,L1={})}},H4=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=v1e(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),b1e(r,i,n,"aria-hidden")):function(){return null}},Pb="right-scroll-bar-position",Ub="width-before-scroll-bar",w1e="with-scroll-bars-hidden",_1e="--removed-body-scroll-bar-size";function VN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function T1e(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var E1e=typeof window<"u"?A.useLayoutEffect:A.useEffect,R6=new WeakMap;function N1e(e,t){var n=T1e(null,function(r){return e.forEach(function(i){return VN(i,r)})});return E1e(function(){var r=R6.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(c){s.has(c)||VN(c,null)}),s.forEach(function(c){i.has(c)||VN(c,o)})}R6.set(n,e)},[e]),n}function S1e(e){return e}function C1e(e,t){t===void 0&&(t=S1e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function k1e(e){e===void 0&&(e={});var t=C1e(null);return t.options=vl({async:!0,ssr:!1},e),t}var G$=function(e){var t=e.sideCar,n=uy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,vl({},n))};G$.isSideCarExport=!0;function A1e(e,t){return e.useMedium(t),G$}var Q$=k1e(),WN=function(){},z_=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:WN,onWheelCapture:WN,onTouchMoveCapture:WN}),i=r[0],s=r[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,w=uy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,C=N1e([n,t]),_=vl(vl({},w),i);return A.createElement(A.Fragment,null,d&&A.createElement(T,{sideCar:Q$,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?A.cloneElement(A.Children.only(c),vl(vl({},_),{ref:C})):A.createElement(x,vl({},_,{className:l,ref:C}),c))});z_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z_.classNames={fullWidth:Ub,zeroRight:Pb};var D1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j1e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D1e();return t&&e.setAttribute("nonce",t),e}function I1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R1e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var O1e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=j1e())&&(I1e(t,n),R1e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F1e=function(){var e=O1e();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},K$=function(){var e=F1e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},P1e={left:0,top:0,right:0,gap:0},qN=function(e){return parseInt(e||"",10)||0},U1e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[qN(n),qN(r),qN(i)]},L1e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return P1e;var t=U1e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},M1e=K$(),jm="data-scroll-locked",B1e=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(w1e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(jm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pb,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ub,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Pb," .").concat(Pb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ub," .").concat(Ub,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jm,`] {
    `).concat(_1e,": ").concat(c,`px;
  }
`)},O6=function(){var e=parseInt(document.body.getAttribute(jm)||"0",10);return isFinite(e)?e:0},V1e=function(){A.useEffect(function(){return document.body.setAttribute(jm,(O6()+1).toString()),function(){var e=O6()-1;e<=0?document.body.removeAttribute(jm):document.body.setAttribute(jm,e.toString())}},[])},W1e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;V1e();var s=A.useMemo(function(){return L1e(i)},[i]);return A.createElement(M1e,{styles:B1e(s,!t,i,n?"":"!important")})},bA=!1;if(typeof window<"u")try{var M1=Object.defineProperty({},"passive",{get:function(){return bA=!0,!0}});window.addEventListener("test",M1,M1),window.removeEventListener("test",M1,M1)}catch{bA=!1}var Fp=bA?{passive:!1}:!1,q1e=function(e){return e.tagName==="TEXTAREA"},X$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q1e(e)&&n[t]==="visible")},z1e=function(e){return X$(e,"overflowY")},$1e=function(e){return X$(e,"overflowX")},F6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Y$(e,r);if(i){var s=Z$(e,r),o=s[1],c=s[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},H1e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},G1e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Y$=function(e,t){return e==="v"?z1e(t):$1e(t)},Z$=function(e,t){return e==="v"?H1e(t):G1e(t)},Q1e=function(e,t){return e==="h"&&t==="rtl"?-1:1},K1e=function(e,t,n,r,i){var s=Q1e(e,window.getComputedStyle(t).direction),o=s*r,c=n.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{if(!c)break;var p=Z$(e,c),y=p[0],m=p[1],g=p[2],v=m-g-s*y;(y||v)&&Y$(e,c)&&(f+=v,h+=y);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},B1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P6=function(e){return[e.deltaX,e.deltaY]},U6=function(e){return e&&"current"in e?e.current:e},X1e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Y1e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z1e=0,Pp=[];function J1e(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(Z1e++)[0],s=A.useState(K$)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=ise([e.lockRef.current],(e.shards||[]).map(U6),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=A.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=B1(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-v[0],w="deltaY"in m?m.deltaY:x[1]-v[1],T,C=m.target,_=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&_==="h"&&C.type==="range")return!1;var N=window.getSelection(),k=N&&N.anchorNode,j=k?k===C||k.contains(C):!1;if(j)return!1;var D=F6(_,C);if(!D)return!0;if(D?T=_:(T=_==="v"?"h":"v",D=F6(_,C)),!D)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=T),!T)return!0;var E=r.current||T;return K1e(E,g,m,E==="h"?b:w)},[]),l=A.useCallback(function(m){var g=m;if(!(!Pp.length||Pp[Pp.length-1]!==s)){var v="deltaY"in g?P6(g):B1(g),x=t.current.filter(function(T){return T.name===g.type&&(T.target===g.target||g.target===T.shadowParent)&&X1e(T.delta,v)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(U6).filter(Boolean).filter(function(T){return T.contains(g.target)}),w=b.length>0?c(g,b[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),u=A.useCallback(function(m,g,v,x){var b={name:m,delta:g,target:v,should:x,shadowParent:ebe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),d=A.useCallback(function(m){n.current=B1(m),r.current=void 0},[]),f=A.useCallback(function(m){u(m.type,P6(m),m.target,c(m,e.lockRef.current))},[]),h=A.useCallback(function(m){u(m.type,B1(m),m.target,c(m,e.lockRef.current))},[]);A.useEffect(function(){return Pp.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Fp),document.addEventListener("touchmove",l,Fp),document.addEventListener("touchstart",d,Fp),function(){Pp=Pp.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Fp),document.removeEventListener("touchmove",l,Fp),document.removeEventListener("touchstart",d,Fp)}},[]);var p=e.removeScrollBar,y=e.inert;return A.createElement(A.Fragment,null,y?A.createElement(s,{styles:Y1e(i)}):null,p?A.createElement(W1e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ebe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tbe=A1e(Q$,J1e);var $_=A.forwardRef(function(e,t){return A.createElement(z_,vl({},e,{ref:t,sideCar:tbe}))});$_.classNames=z_.classNames;var wA=["Enter"," "],nbe=["ArrowDown","PageUp","Home"],J$=["ArrowUp","PageDown","End"],rbe=[...nbe,...J$],ibe={ltr:[...wA,"ArrowRight"],rtl:[...wA,"ArrowLeft"]},sbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ry="Menu",[Av,abe,obe]=P4(Ry),[mp,eH]=rd(Ry,[obe,V_,q_]),H_=V_(),tH=q_(),[cbe,gp]=mp(Ry),[lbe,Oy]=mp(Ry),nH=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,c=H_(t),[l,u]=A.useState(null),d=A.useRef(!1),f=Hc(s),h=O_(i);return A.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(F$,{...c,children:a.jsx(cbe,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:a.jsx(lbe,{scope:t,onClose:A.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};nH.displayName=Ry;var ube="MenuAnchor",G4=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=H_(n);return a.jsx(P$,{...i,...r,ref:t})});G4.displayName=ube;var Q4="MenuPortal",[dbe,rH]=mp(Q4,{forceMount:void 0}),iH=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=gp(Q4,t);return a.jsx(dbe,{scope:t,forceMount:n,children:a.jsx(id,{present:n||s.open,children:a.jsx(W_,{asChild:!0,container:i,children:r})})})};iH.displayName=Q4;var tc="MenuContent",[fbe,K4]=mp(tc),sH=A.forwardRef((e,t)=>{const n=rH(tc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=gp(tc,e.__scopeMenu),o=Oy(tc,e.__scopeMenu);return a.jsx(Av.Provider,{scope:e.__scopeMenu,children:a.jsx(id,{present:r||s.open,children:a.jsx(Av.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(hbe,{...i,ref:t}):a.jsx(pbe,{...i,ref:t})})})})}),hbe=A.forwardRef((e,t)=>{const n=gp(tc,e.__scopeMenu),r=A.useRef(null),i=yr(t,r);return A.useEffect(()=>{const s=r.current;if(s)return H4(s)},[]),a.jsx(X4,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Rt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pbe=A.forwardRef((e,t)=>{const n=gp(tc,e.__scopeMenu);return a.jsx(X4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mbe=f1e("MenuContent.ScrollLock"),X4=A.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,g=gp(tc,n),v=Oy(tc,n),x=H_(n),b=tH(n),w=abe(n),[T,C]=A.useState(null),_=A.useRef(null),N=yr(t,_,g.onContentChange),k=A.useRef(0),j=A.useRef(""),D=A.useRef(0),E=A.useRef(null),I=A.useRef("right"),R=A.useRef(0),V=y?$_:A.Fragment,M=y?{as:mbe,allowPinchZoom:!0}:void 0,H=P=>{var Z,pe;const W=j.current+P,F=w().filter(me=>!me.disabled),O=document.activeElement,L=(Z=F.find(me=>me.ref.current===O))==null?void 0:Z.textValue,K=F.map(me=>me.textValue),Q=Cbe(K,W,L),U=(pe=F.find(me=>me.textValue===Q))==null?void 0:pe.ref.current;(function me(ye){j.current=ye,window.clearTimeout(k.current),ye!==""&&(k.current=window.setTimeout(()=>me(""),1e3))})(W),U&&setTimeout(()=>U.focus())};A.useEffect(()=>()=>window.clearTimeout(k.current),[]),U4();const G=A.useCallback(P=>{var F,O;return I.current===((F=E.current)==null?void 0:F.side)&&Abe(P,(O=E.current)==null?void 0:O.area)},[]);return a.jsx(fbe,{scope:n,searchRef:j,onItemEnter:A.useCallback(P=>{G(P)&&P.preventDefault()},[G]),onItemLeave:A.useCallback(P=>{var W;G(P)||((W=_.current)==null||W.focus(),C(null))},[G]),onTriggerLeave:A.useCallback(P=>{G(P)&&P.preventDefault()},[G]),pointerGraceTimerRef:D,onPointerGraceIntentChange:A.useCallback(P=>{E.current=P},[]),children:a.jsx(V,{...M,children:a.jsx(P_,{asChild:!0,trapped:i,onMountAutoFocus:Rt(s,P=>{var W;P.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(F_,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(z$,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:C,onEntryFocus:Rt(l,P=>{v.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(U$,{role:"menu","aria-orientation":"vertical","data-state":wH(g.open),"data-radix-menu-content":"",dir:v.dir,...x,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:Rt(m.onKeyDown,P=>{const F=P.target.closest("[data-radix-menu-content]")===P.currentTarget,O=P.ctrlKey||P.altKey||P.metaKey,L=P.key.length===1;F&&(P.key==="Tab"&&P.preventDefault(),!O&&L&&H(P.key));const K=_.current;if(P.target!==K||!rbe.includes(P.key))return;P.preventDefault();const U=w().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);J$.includes(P.key)&&U.reverse(),Nbe(U)}),onBlur:Rt(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(k.current),j.current="")}),onPointerMove:Rt(e.onPointerMove,Dv(P=>{const W=P.target,F=R.current!==P.clientX;if(P.currentTarget.contains(W)&&F){const O=P.clientX>R.current?"right":"left";I.current=O,R.current=P.clientX}}))})})})})})})});sH.displayName=tc;var gbe="MenuGroup",Y4=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(wn.div,{role:"group",...r,ref:t})});Y4.displayName=gbe;var xbe="MenuLabel",aH=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(wn.div,{...r,ref:t})});aH.displayName=xbe;var Z2="MenuItem",L6="menu.itemSelect",G_=A.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=A.useRef(null),o=Oy(Z2,e.__scopeMenu),c=K4(Z2,e.__scopeMenu),l=yr(t,s),u=A.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(L6,{bubbles:!0,cancelable:!0});f.addEventListener(L6,p=>r==null?void 0:r(p),{once:!0}),l$(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(oH,{...i,ref:l,disabled:n,onClick:Rt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Rt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Rt(e.onKeyDown,f=>{const h=c.searchRef.current!=="";n||h&&f.key===" "||wA.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});G_.displayName=Z2;var oH=A.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=K4(Z2,n),c=tH(n),l=A.useRef(null),u=yr(t,l),[d,f]=A.useState(!1),[h,p]=A.useState("");return A.useEffect(()=>{const y=l.current;y&&p((y.textContent??"").trim())},[s.children]),a.jsx(Av.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:a.jsx($$,{asChild:!0,...c,focusable:!r,children:a.jsx(wn.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Rt(e.onPointerMove,Dv(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Rt(e.onPointerLeave,Dv(y=>o.onItemLeave(y))),onFocus:Rt(e.onFocus,()=>f(!0)),onBlur:Rt(e.onBlur,()=>f(!1))})})})}),vbe="MenuCheckboxItem",cH=A.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return a.jsx(hH,{scope:e.__scopeMenu,checked:n,children:a.jsx(G_,{role:"menuitemcheckbox","aria-checked":J2(n)?"mixed":n,...i,ref:t,"data-state":J4(n),onSelect:Rt(i.onSelect,()=>r==null?void 0:r(J2(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cH.displayName=vbe;var lH="MenuRadioGroup",[ybe,bbe]=mp(lH,{value:void 0,onValueChange:()=>{}}),uH=A.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Hc(r);return a.jsx(ybe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(Y4,{...i,ref:t})})});uH.displayName=lH;var dH="MenuRadioItem",fH=A.forwardRef((e,t)=>{const{value:n,...r}=e,i=bbe(dH,e.__scopeMenu),s=n===i.value;return a.jsx(hH,{scope:e.__scopeMenu,checked:s,children:a.jsx(G_,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":J4(s),onSelect:Rt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});fH.displayName=dH;var Z4="MenuItemIndicator",[hH,wbe]=mp(Z4,{checked:!1}),pH=A.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=wbe(Z4,n);return a.jsx(id,{present:r||J2(s.checked)||s.checked===!0,children:a.jsx(wn.span,{...i,ref:t,"data-state":J4(s.checked)})})});pH.displayName=Z4;var _be="MenuSeparator",mH=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(wn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});mH.displayName=_be;var Tbe="MenuArrow",gH=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=H_(n);return a.jsx(L$,{...i,...r,ref:t})});gH.displayName=Tbe;var Ebe="MenuSub",[$Me,xH]=mp(Ebe),ex="MenuSubTrigger",vH=A.forwardRef((e,t)=>{const n=gp(ex,e.__scopeMenu),r=Oy(ex,e.__scopeMenu),i=xH(ex,e.__scopeMenu),s=K4(ex,e.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=s,u={__scopeMenu:e.__scopeMenu},d=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),a.jsx(G4,{asChild:!0,...u,children:a.jsx(oH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":wH(n.open),...e,ref:nd(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Rt(e.onPointerMove,Dv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Rt(e.onPointerLeave,Dv(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=n.content)==null?void 0:y.dataset.side,g=m==="right",v=g?-5:5,x=h[g?"left":"right"],b=h[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Rt(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||ibe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});vH.displayName=ex;var yH="MenuSubContent",bH=A.forwardRef((e,t)=>{const n=rH(tc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=gp(tc,e.__scopeMenu),o=Oy(tc,e.__scopeMenu),c=xH(yH,e.__scopeMenu),l=A.useRef(null),u=yr(t,l);return a.jsx(Av.Provider,{scope:e.__scopeMenu,children:a.jsx(id,{present:r||s.open,children:a.jsx(Av.Slot,{scope:e.__scopeMenu,children:a.jsx(X4,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Rt(e.onFocusOutside,d=>{d.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Rt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Rt(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=sbe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=c.trigger)==null||p.focus(),d.preventDefault())})})})})})});bH.displayName=yH;function wH(e){return e?"open":"closed"}function J2(e){return e==="indeterminate"}function J4(e){return J2(e)?"indeterminate":e?"checked":"unchecked"}function Nbe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Sbe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Cbe(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=Sbe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function kbe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const c=t[s],l=t[o],u=c.x,d=c.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function Abe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return kbe(n,t)}function Dv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Dbe=nH,jbe=G4,Ibe=iH,Rbe=sH,Obe=Y4,Fbe=aH,Pbe=G_,Ube=cH,Lbe=uH,Mbe=fH,Bbe=pH,Vbe=mH,Wbe=gH,qbe=vH,zbe=bH,Q_="DropdownMenu",[$be]=rd(Q_,[eH]),Da=eH(),[Hbe,_H]=$be(Q_),TH=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:c=!0}=e,l=Da(t),u=A.useRef(null),[d,f]=Gh({prop:i,defaultProp:s??!1,onChange:o,caller:Q_});return a.jsx(Hbe,{scope:t,triggerId:Ul(),triggerRef:u,contentId:Ul(),open:d,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(h=>!h),[f]),modal:c,children:a.jsx(Dbe,{...l,open:d,onOpenChange:f,dir:r,modal:c,children:n})})};TH.displayName=Q_;var EH="DropdownMenuTrigger",NH=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=_H(EH,n),o=Da(n);return a.jsx(jbe,{asChild:!0,...o,children:a.jsx(wn.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:nd(t,s.triggerRef),onPointerDown:Rt(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:Rt(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});NH.displayName=EH;var Gbe="DropdownMenuPortal",SH=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Da(t);return a.jsx(Ibe,{...r,...n})};SH.displayName=Gbe;var CH="DropdownMenuContent",kH=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_H(CH,n),s=Da(n),o=A.useRef(!1);return a.jsx(Rbe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Rt(e.onCloseAutoFocus,c=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Rt(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kH.displayName=CH;var Qbe="DropdownMenuGroup",Kbe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Obe,{...i,...r,ref:t})});Kbe.displayName=Qbe;var Xbe="DropdownMenuLabel",AH=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Fbe,{...i,...r,ref:t})});AH.displayName=Xbe;var Ybe="DropdownMenuItem",DH=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Pbe,{...i,...r,ref:t})});DH.displayName=Ybe;var Zbe="DropdownMenuCheckboxItem",Jbe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Ube,{...i,...r,ref:t})});Jbe.displayName=Zbe;var e2e="DropdownMenuRadioGroup",t2e=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Lbe,{...i,...r,ref:t})});t2e.displayName=e2e;var n2e="DropdownMenuRadioItem",r2e=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Mbe,{...i,...r,ref:t})});r2e.displayName=n2e;var i2e="DropdownMenuItemIndicator",s2e=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Bbe,{...i,...r,ref:t})});s2e.displayName=i2e;var a2e="DropdownMenuSeparator",jH=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Vbe,{...i,...r,ref:t})});jH.displayName=a2e;var o2e="DropdownMenuArrow",c2e=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(Wbe,{...i,...r,ref:t})});c2e.displayName=o2e;var l2e="DropdownMenuSubTrigger",u2e=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(qbe,{...i,...r,ref:t})});u2e.displayName=l2e;var d2e="DropdownMenuSubContent",f2e=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Da(n);return a.jsx(zbe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f2e.displayName=d2e;var h2e=TH,p2e=NH,m2e=SH,IH=kH,RH=AH,OH=DH,FH=jH;const Ml=h2e,Bl=p2e,Vc=A.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(m2e,{children:a.jsx(IH,{ref:r,sideOffset:t,className:Ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vc.displayName=IH.displayName;const Cn=A.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(OH,{ref:r,className:Ct("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Cn.displayName=OH.displayName;const PH=A.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(RH,{ref:r,className:Ct("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));PH.displayName=RH.displayName;const UH=A.forwardRef(({className:e,...t},n)=>a.jsx(FH,{ref:n,className:Ct("-mx-1 my-1 h-px bg-muted",e),...t}));UH.displayName=FH.displayName;const kg="notifications",g2e="content-reports",x2e=Lf((e,t)=>({notifications:[],unreadCount:0,isLoading:!1,setNotifications:n=>{const r=n.filter(i=>!i.isRead).length;e({notifications:n,unreadCount:r})},markAsRead:async n=>{try{await zk(Ke(Pe,kg,n),{isRead:!0}),e(r=>({notifications:r.notifications.map(i=>i.id===n?{...i,isRead:!0}:i),unreadCount:Math.max(0,r.unreadCount-1)}))}catch(r){console.error("Error marking notification as read:",r)}},markAllAsRead:async n=>{try{const r=t().notifications.filter(i=>!i.isRead);for(const i of r)await zk(Ke(Pe,kg,i.id),{isRead:!0});e(i=>({notifications:i.notifications.map(s=>({...s,isRead:!0})),unreadCount:0}))}catch(r){console.error("Error marking all notifications as read:",r)}},createNotification:async n=>{try{await xt(Ke(Pe,kg,n.id),n)}catch(r){console.error("Error creating notification:",r)}},createReport:async n=>{try{await xt(Ke(Pe,g2e,n.id),n);const r={id:`notif-${Date.now()}`,userId:n.creatorId,type:"report",title:"Content Reported",message:`Your ${n.contentType} "${n.contentTitle}" has been reported: ${n.reportType}`,link:"/library-admin",isRead:!1,createdAt:Date.now()};await xt(Ke(Pe,kg,r.id),r)}catch(r){throw console.error("Error creating report:",r),r}},subscribeToNotifications:n=>{e({isLoading:!0});const r=Ut(Et(Pe,kg),Vt("userId","==",n),due("createdAt","desc"));return ir(r,i=>{const s=i.docs.map(c=>c.data()),o=s.filter(c=>!c.isRead).length;e({notifications:s,unreadCount:o,isLoading:!1})},i=>{console.error("Error subscribing to notifications:",i),e({isLoading:!1})})}}));function LH(){const{user:e}=Ki(),{notifications:t,unreadCount:n,subscribeToNotifications:r,markAsRead:i,markAllAsRead:s}=x2e();A.useEffect(()=>{if(!(e!=null&&e.id))return;const l=r(e.id);return()=>l()},[e==null?void 0:e.id,r]);const o=l=>{switch(l){case"report":return a.jsx(A4,{className:"h-4 w-4 text-orange-500"});case"system":return a.jsx(P0,{className:"h-4 w-4 text-blue-500"});case"message":return a.jsx($2,{className:"h-4 w-4 text-green-500"});default:return a.jsx(Uz,{className:"h-4 w-4 text-muted-foreground"})}},c=l=>{const u=Date.now()-l,d=Math.floor(u/6e4),f=Math.floor(u/36e5),h=Math.floor(u/864e5);return d<1?"Just now":d<60?`${d}m ago`:f<24?`${f}h ago`:`${h}d ago`};return a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsxs(ge,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(z2,{className:"h-5 w-5"}),n>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-[10px] font-bold text-white flex items-center justify-center",children:n>9?"9+":n})]})}),a.jsxs(Vc,{align:"end",className:"w-80",children:[a.jsxs(PH,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Notifications"}),n>0&&a.jsxs(ge,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>(e==null?void 0:e.id)&&s(e.id),children:[a.jsx(jge,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),a.jsx(UH,{}),t.length===0?a.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[a.jsx(z2,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):a.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:t.slice(0,10).map(l=>a.jsxs(Cn,{className:Ct("flex items-start gap-3 p-3 cursor-pointer",!l.isRead&&"bg-primary/5"),onClick:()=>{l.isRead||i(l.id)},children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o(l.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:Ct("text-sm",!l.isRead&&"font-medium"),children:l.title}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:l.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c(l.createdAt)})]}),!l.isRead&&a.jsx("div",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0"})]},l.id))})]})]})}const Hn=A.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Ct("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Hn.displayName="Textarea";var K_="Tabs",[v2e]=rd(K_,[q_]),MH=q_(),[y2e,e3]=v2e(K_),BH=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=O_(c),[f,h]=Gh({prop:r,onChange:i,defaultProp:s??"",caller:K_});return a.jsx(y2e,{scope:n,baseId:Ul(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:a.jsx(wn.div,{dir:d,"data-orientation":o,...u,ref:t})})});BH.displayName=K_;var VH="TabsList",WH=A.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=e3(VH,n),o=MH(n);return a.jsx(z$,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(wn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});WH.displayName=VH;var qH="TabsTrigger",zH=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=e3(qH,n),c=MH(n),l=GH(o.baseId,r),u=QH(o.baseId,r),d=r===o.value;return a.jsx($$,{asChild:!0,...c,focusable:!i,active:d,children:a.jsx(wn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:Rt(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Rt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Rt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});zH.displayName=qH;var $H="TabsContent",HH=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,c=e3($H,n),l=GH(c.baseId,r),u=QH(c.baseId,r),d=r===c.value,f=A.useRef(d);return A.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(id,{present:i||d,children:({present:h})=>a.jsx(wn.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});HH.displayName=$H;function GH(e,t){return`${e}-trigger-${t}`}function QH(e,t){return`${e}-content-${t}`}var b2e=BH,KH=WH,XH=zH,YH=HH;const v0=b2e,Kh=A.forwardRef(({className:e,...t},n)=>a.jsx(KH,{ref:n,className:Ct("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Kh.displayName=KH.displayName;const bi=A.forwardRef(({className:e,...t},n)=>a.jsx(XH,{ref:n,className:Ct("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));bi.displayName=XH.displayName;const wi=A.forwardRef(({className:e,...t},n)=>a.jsx(YH,{ref:n,className:Ct("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wi.displayName=YH.displayName;function M6(e,[t,n]){return Math.min(n,Math.max(t,e))}function w2e(e){const t=_2e(e),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),l=c.find(E2e);if(l){const u=l.props.children,d=c.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function _2e(e){const t=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=S2e(i),c=N2e(s,i.props);return i.type!==A.Fragment&&(c.ref=r?nd(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var T2e=Symbol("radix.slottable");function E2e(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===T2e}function N2e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function S2e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ZH(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),C2e="VisuallyHidden",k2e=A.forwardRef((e,t)=>a.jsx(wn.span,{...e,ref:t,style:{...JH,...e.style}}));k2e.displayName=C2e;var A2e=[" ","Enter","ArrowUp","ArrowDown"],D2e=[" ","Enter"],Xh="Select",[X_,Y_,j2e]=P4(Xh),[B0]=rd(Xh,[j2e,V_]),Z_=V_(),[I2e,Bf]=B0(Xh),[R2e,O2e]=B0(Xh),eG=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=Z_(t),[g,v]=A.useState(null),[x,b]=A.useState(null),[w,T]=A.useState(!1),C=O_(u),[_,N]=Gh({prop:r,defaultProp:i??!1,onChange:s,caller:Xh}),[k,j]=Gh({prop:o,defaultProp:c,onChange:l,caller:Xh}),D=A.useRef(null),E=g?y||!!g.closest("form"):!0,[I,R]=A.useState(new Set),V=Array.from(I).map(M=>M.props.value).join(";");return a.jsx(F$,{...m,children:a.jsxs(I2e,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:T,contentId:Ul(),value:k,onValueChange:j,open:_,onOpenChange:N,dir:C,triggerPointerDownPosRef:D,disabled:h,children:[a.jsx(X_.Provider,{scope:t,children:a.jsx(R2e,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(M=>{R(H=>new Set(H).add(M))},[]),onNativeOptionRemove:A.useCallback(M=>{R(H=>{const G=new Set(H);return G.delete(M),G})},[]),children:n})}),E?a.jsxs(EG,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:M=>j(M.target.value),disabled:h,form:y,children:[k===void 0?a.jsx("option",{value:""}):null,Array.from(I)]},V):null]})})};eG.displayName=Xh;var tG="SelectTrigger",nG=A.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Z_(n),o=Bf(tG,n),c=o.disabled||r,l=yr(t,o.onTriggerChange),u=Y_(n),d=A.useRef("touch"),[f,h,p]=SG(m=>{const g=u().filter(b=>!b.disabled),v=g.find(b=>b.value===o.value),x=CG(g,m,v);x!==void 0&&o.onValueChange(x.value)}),y=m=>{c||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(P$,{asChild:!0,...s,children:a.jsx(wn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":NG(o.value)?"":void 0,...i,ref:l,onClick:Rt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Rt(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Rt(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&A2e.includes(m.key)&&(y(),m.preventDefault())})})})});nG.displayName=tG;var rG="SelectValue",iG=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...c}=e,l=Bf(rG,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=yr(t,l.onValueNodeChange);return Gi(()=>{u(d)},[u,d]),a.jsx(wn.span,{...c,ref:f,style:{pointerEvents:"none"},children:NG(l.value)?a.jsx(a.Fragment,{children:o}):s})});iG.displayName=rG;var F2e="SelectIcon",sG=A.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return a.jsx(wn.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});sG.displayName=F2e;var P2e="SelectPortal",aG=e=>a.jsx(W_,{asChild:!0,...e});aG.displayName=P2e;var Yh="SelectContent",oG=A.forwardRef((e,t)=>{const n=Bf(Yh,e.__scopeSelect),[r,i]=A.useState();if(Gi(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?cp.createPortal(a.jsx(cG,{scope:e.__scopeSelect,children:a.jsx(X_.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(lG,{...e,ref:t})});oG.displayName=Yh;var yc=10,[cG,Vf]=B0(Yh),U2e="SelectContentImpl",L2e=w2e("SelectContent.RemoveScroll"),lG=A.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,x=Bf(Yh,n),[b,w]=A.useState(null),[T,C]=A.useState(null),_=yr(t,Z=>w(Z)),[N,k]=A.useState(null),[j,D]=A.useState(null),E=Y_(n),[I,R]=A.useState(!1),V=A.useRef(!1);A.useEffect(()=>{if(b)return H4(b)},[b]),U4();const M=A.useCallback(Z=>{const[pe,...me]=E().map(Y=>Y.ref.current),[ye]=me.slice(-1),Fe=document.activeElement;for(const Y of Z)if(Y===Fe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===pe&&T&&(T.scrollTop=0),Y===ye&&T&&(T.scrollTop=T.scrollHeight),Y==null||Y.focus(),document.activeElement!==Fe))return},[E,T]),H=A.useCallback(()=>M([N,b]),[M,N,b]);A.useEffect(()=>{I&&H()},[I,H]);const{onOpenChange:G,triggerPointerDownPosRef:P}=x;A.useEffect(()=>{if(b){let Z={x:0,y:0};const pe=ye=>{var Fe,Y;Z={x:Math.abs(Math.round(ye.pageX)-(((Fe=P.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((Y=P.current)==null?void 0:Y.y)??0))}},me=ye=>{Z.x<=10&&Z.y<=10?ye.preventDefault():b.contains(ye.target)||G(!1),document.removeEventListener("pointermove",pe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",me,{capture:!0})}}},[b,G,P]),A.useEffect(()=>{const Z=()=>G(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[G]);const[W,F]=SG(Z=>{const pe=E().filter(Fe=>!Fe.disabled),me=pe.find(Fe=>Fe.ref.current===document.activeElement),ye=CG(pe,Z,me);ye&&setTimeout(()=>ye.ref.current.focus())}),O=A.useCallback((Z,pe,me)=>{const ye=!V.current&&!me;(x.value!==void 0&&x.value===pe||ye)&&(k(Z),ye&&(V.current=!0))},[x.value]),L=A.useCallback(()=>b==null?void 0:b.focus(),[b]),K=A.useCallback((Z,pe,me)=>{const ye=!V.current&&!me;(x.value!==void 0&&x.value===pe||ye)&&D(Z)},[x.value]),Q=r==="popper"?_A:uG,U=Q===_A?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return a.jsx(cG,{scope:n,content:b,viewport:T,onViewportChange:C,itemRefCallback:O,selectedItem:N,onItemLeave:L,itemTextRefCallback:K,focusSelectedItem:H,selectedItemText:j,position:r,isPositioned:I,searchRef:W,children:a.jsx($_,{as:L2e,allowPinchZoom:!0,children:a.jsx(P_,{asChild:!0,trapped:x.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Rt(i,Z=>{var pe;(pe=x.trigger)==null||pe.focus({preventScroll:!0}),Z.preventDefault()}),children:a.jsx(F_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(Q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Z=>Z.preventDefault(),...v,...U,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Rt(v.onKeyDown,Z=>{const pe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!pe&&Z.key.length===1&&F(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ye=E().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Fe=Z.target,Y=ye.indexOf(Fe);ye=ye.slice(Y+1)}setTimeout(()=>M(ye)),Z.preventDefault()}})})})})})})});lG.displayName=U2e;var M2e="SelectItemAlignedPosition",uG=A.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Bf(Yh,n),o=Vf(Yh,n),[c,l]=A.useState(null),[u,d]=A.useState(null),f=yr(t,_=>d(_)),h=Y_(n),p=A.useRef(!1),y=A.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:x}=o,b=A.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&u&&m&&g&&v){const _=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),j=v.getBoundingClientRect();if(s.dir!=="rtl"){const Fe=j.left-N.left,Y=k.left-Fe,ve=_.left-Y,B=_.width+ve,_e=Math.max(B,N.width),Ee=window.innerWidth-yc,se=M6(Y,[yc,Math.max(yc,Ee-_e)]);c.style.minWidth=B+"px",c.style.left=se+"px"}else{const Fe=N.right-j.right,Y=window.innerWidth-k.right-Fe,ve=window.innerWidth-_.right-Y,B=_.width+ve,_e=Math.max(B,N.width),Ee=window.innerWidth-yc,se=M6(Y,[yc,Math.max(yc,Ee-_e)]);c.style.minWidth=B+"px",c.style.right=se+"px"}const D=h(),E=window.innerHeight-yc*2,I=m.scrollHeight,R=window.getComputedStyle(u),V=parseInt(R.borderTopWidth,10),M=parseInt(R.paddingTop,10),H=parseInt(R.borderBottomWidth,10),G=parseInt(R.paddingBottom,10),P=V+M+I+G+H,W=Math.min(g.offsetHeight*5,P),F=window.getComputedStyle(m),O=parseInt(F.paddingTop,10),L=parseInt(F.paddingBottom,10),K=_.top+_.height/2-yc,Q=E-K,U=g.offsetHeight/2,Z=g.offsetTop+U,pe=V+M+Z,me=P-pe;if(pe<=K){const Fe=D.length>0&&g===D[D.length-1].ref.current;c.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,ve=Math.max(Q,U+(Fe?L:0)+Y+H),B=pe+ve;c.style.height=B+"px"}else{const Fe=D.length>0&&g===D[0].ref.current;c.style.top="0px";const ve=Math.max(K,V+m.offsetTop+(Fe?O:0)+U)+me;c.style.height=ve+"px",m.scrollTop=pe-K+m.offsetTop}c.style.margin=`${yc}px 0`,c.style.minHeight=W+"px",c.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,c,u,m,g,v,s.dir,r]);Gi(()=>b(),[b]);const[w,T]=A.useState();Gi(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const C=A.useCallback(_=>{_&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return a.jsx(V2e,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(wn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uG.displayName=M2e;var B2e="SelectPopperPosition",_A=A.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yc,...s}=e,o=Z_(n);return a.jsx(U$,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_A.displayName=B2e;var[V2e,t3]=B0(Yh,{}),TA="SelectViewport",dG=A.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Vf(TA,n),o=t3(TA,n),c=yr(t,s.onViewportChange),l=A.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(X_.Slot,{scope:n,children:a.jsx(wn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Rt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const y=window.innerHeight-yc*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),v=Math.max(m,g);if(v<y){const x=v+p,b=Math.min(y,x),w=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});dG.displayName=TA;var fG="SelectGroup",[W2e,q2e]=B0(fG),z2e=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ul();return a.jsx(W2e,{scope:n,id:i,children:a.jsx(wn.div,{role:"group","aria-labelledby":i,...r,ref:t})})});z2e.displayName=fG;var hG="SelectLabel",pG=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=q2e(hG,n);return a.jsx(wn.div,{id:i.id,...r,ref:t})});pG.displayName=hG;var ew="SelectItem",[$2e,mG]=B0(ew),gG=A.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,c=Bf(ew,n),l=Vf(ew,n),u=c.value===r,[d,f]=A.useState(s??""),[h,p]=A.useState(!1),y=yr(t,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,r,i)}),m=Ul(),g=A.useRef("touch"),v=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx($2e,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:A.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(X_.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:a.jsx(wn.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Rt(o.onFocus,()=>p(!0)),onBlur:Rt(o.onBlur,()=>p(!1)),onClick:Rt(o.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:Rt(o.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:Rt(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:Rt(o.onPointerMove,x=>{var b;g.current=x.pointerType,i?(b=l.onItemLeave)==null||b.call(l):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Rt(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Rt(o.onKeyDown,x=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(D2e.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});gG.displayName=ew;var tx="SelectItemText",xG=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=Bf(tx,n),c=Vf(tx,n),l=mG(tx,n),u=O2e(tx,n),[d,f]=A.useState(null),h=yr(t,v=>f(v),l.onItemTextChange,v=>{var x;return(x=c.itemTextRefCallback)==null?void 0:x.call(c,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,y=A.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Gi(()=>(m(y),()=>g(y)),[m,g,y]),a.jsxs(a.Fragment,{children:[a.jsx(wn.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?cp.createPortal(s.children,o.valueNode):null]})});xG.displayName=tx;var vG="SelectItemIndicator",yG=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return mG(vG,n).isSelected?a.jsx(wn.span,{"aria-hidden":!0,...r,ref:t}):null});yG.displayName=vG;var EA="SelectScrollUpButton",bG=A.forwardRef((e,t)=>{const n=Vf(EA,e.__scopeSelect),r=t3(EA,e.__scopeSelect),[i,s]=A.useState(!1),o=yr(t,r.onScrollButtonChange);return Gi(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?a.jsx(_G,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});bG.displayName=EA;var NA="SelectScrollDownButton",wG=A.forwardRef((e,t)=>{const n=Vf(NA,e.__scopeSelect),r=t3(NA,e.__scopeSelect),[i,s]=A.useState(!1),o=yr(t,r.onScrollButtonChange);return Gi(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?a.jsx(_G,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});wG.displayName=NA;var _G=A.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Vf("SelectScrollButton",n),o=A.useRef(null),c=Y_(n),l=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),Gi(()=>{var d;const u=c().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),a.jsx(wn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Rt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Rt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Rt(i.onPointerLeave,()=>{l()})})}),H2e="SelectSeparator",TG=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(wn.div,{"aria-hidden":!0,...r,ref:t})});TG.displayName=H2e;var SA="SelectArrow",G2e=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Z_(n),s=Bf(SA,n),o=Vf(SA,n);return s.open&&o.position==="popper"?a.jsx(L$,{...i,...r,ref:t}):null});G2e.displayName=SA;var Q2e="SelectBubbleInput",EG=A.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=A.useRef(null),s=yr(r,i),o=ZH(t);return A.useEffect(()=>{const c=i.current;if(!c)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),a.jsx(wn.select,{...n,style:{...JH,...n.style},ref:s,defaultValue:t})});EG.displayName=Q2e;function NG(e){return e===""||e===void 0}function SG(e){const t=Hc(e),n=A.useRef(""),r=A.useRef(0),i=A.useCallback(o=>{const c=n.current+o;t(c),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),s=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function CG(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=K2e(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function K2e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var X2e=eG,kG=nG,Y2e=iG,Z2e=sG,J2e=aG,AG=oG,ewe=dG,DG=pG,jG=gG,twe=xG,nwe=yG,IG=bG,RG=wG,OG=TG;const Wt=X2e,qt=Y2e,Mt=A.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(kG,{ref:r,className:Ct("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(Z2e,{asChild:!0,children:a.jsx(Mc,{className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=kG.displayName;const FG=A.forwardRef(({className:e,...t},n)=>a.jsx(IG,{ref:n,className:Ct("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Rz,{className:"h-4 w-4"})}));FG.displayName=IG.displayName;const PG=A.forwardRef(({className:e,...t},n)=>a.jsx(RG,{ref:n,className:Ct("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Mc,{className:"h-4 w-4"})}));PG.displayName=RG.displayName;const Bt=A.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>a.jsx(J2e,{children:a.jsxs(AG,{ref:i,className:Ct("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(FG,{}),a.jsx(ewe,{className:Ct("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(PG,{})]})}));Bt.displayName=AG.displayName;const rwe=A.forwardRef(({className:e,...t},n)=>a.jsx(DG,{ref:n,className:Ct("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rwe.displayName=DG.displayName;const Qe=A.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(jG,{ref:r,className:Ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nwe,{children:a.jsx(fa,{className:"h-4 w-4"})})}),a.jsx(twe,{children:t})]}));Qe.displayName=jG.displayName;const iwe=A.forwardRef(({className:e,...t},n)=>a.jsx(OG,{ref:n,className:Ct("-mx-1 my-1 h-px bg-muted",e),...t}));iwe.displayName=OG.displayName;const J_=Lf()(fp((e,t)=>({courses:[],topics:[],subTopics:[],contentItems:[],questionCategories:[],courseMCQs:[],quizResults:[],liveTests:[],liveTestResults:[],autoLiveTestConfigs:[],activeCourseId:null,setActiveCourse:n=>e({activeCourseId:n}),addCourse:async n=>{e(r=>({courses:[...r.courses,n]}));try{await xt(Ke(Pe,"personal-courses",n.id),n)}catch(r){console.error("Error saving course:",r)}},updateCourse:async n=>{e(r=>({courses:r.courses.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"personal-courses",n.id),n)}catch(r){console.error("Error updating course:",r)}},removeCourse:async n=>{const r=t(),i=r.topics.filter(l=>l.courseId===n),s=r.contentItems.filter(l=>l.courseId===n),o=r.courseMCQs.filter(l=>l.courseId===n),c=r.questionCategories.filter(l=>l.courseId===n);e(l=>({courses:l.courses.filter(u=>u.id!==n),topics:l.topics.filter(u=>u.courseId!==n),subTopics:l.subTopics.filter(u=>u.courseId!==n),contentItems:l.contentItems.filter(u=>u.courseId!==n),questionCategories:l.questionCategories.filter(u=>u.courseId!==n),courseMCQs:l.courseMCQs.filter(u=>u.courseId!==n),quizResults:l.quizResults.filter(u=>u.courseId!==n),liveTests:l.liveTests.filter(u=>u.courseId!==n),liveTestResults:l.liveTestResults.filter(u=>u.courseId!==n),activeCourseId:l.activeCourseId===n?null:l.activeCourseId}));try{const l=Ha(Pe);l.delete(Ke(Pe,"personal-courses",n)),i.forEach(u=>l.delete(Ke(Pe,"personal-topics",u.id))),s.forEach(u=>l.delete(Ke(Pe,"personal-content",u.id))),o.forEach(u=>l.delete(Ke(Pe,"personal-mcqs",u.id))),c.forEach(u=>l.delete(Ke(Pe,"personal-categories",u.id))),await l.commit()}catch(l){console.error("Error deleting course:",l)}},addTopic:async n=>{e(r=>({topics:[...r.topics,n]}));try{await xt(Ke(Pe,"personal-topics",n.id),n)}catch(r){console.error("Error saving topic:",r)}},updateTopic:async n=>{e(r=>({topics:r.topics.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"personal-topics",n.id),n)}catch(r){console.error("Error updating topic:",r)}},removeTopic:async n=>{const r=t().contentItems.filter(i=>i.topicId===n);e(i=>({topics:i.topics.filter(s=>s.id!==n),subTopics:i.subTopics.filter(s=>s.topicId!==n),contentItems:i.contentItems.filter(s=>s.topicId!==n)}));try{const i=Ha(Pe);i.delete(Ke(Pe,"personal-topics",n)),r.forEach(s=>i.delete(Ke(Pe,"personal-content",s.id))),await i.commit()}catch(i){console.error("Error deleting topic:",i)}},addSubTopic:n=>e(r=>({subTopics:[...r.subTopics,n]})),updateSubTopic:n=>e(r=>({subTopics:r.subTopics.map(i=>i.id===n.id?n:i)})),removeSubTopic:n=>e(r=>({subTopics:r.subTopics.filter(i=>i.id!==n),contentItems:r.contentItems.filter(i=>i.subTopicId!==n)})),addContentItem:async n=>{e(r=>({contentItems:[...r.contentItems,n]}));try{await xt(Ke(Pe,"personal-content",n.id),n)}catch(r){console.error("Error saving content:",r)}},updateContentItem:async n=>{e(r=>({contentItems:r.contentItems.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"personal-content",n.id),n)}catch(r){console.error("Error updating content:",r)}},removeContentItem:async n=>{e(r=>({contentItems:r.contentItems.filter(i=>i.id!==n)}));try{await No(Ke(Pe,"personal-content",n))}catch(r){console.error("Error deleting content:",r)}},addQuestionCategory:async n=>{e(r=>({questionCategories:[...r.questionCategories,n]}));try{await xt(Ke(Pe,"personal-categories",n.id),n)}catch(r){console.error("Error saving category:",r)}},removeQuestionCategory:async n=>{const r=t().courseMCQs.filter(i=>i.categoryId===n);e(i=>({questionCategories:i.questionCategories.filter(s=>s.id!==n),courseMCQs:i.courseMCQs.filter(s=>s.categoryId!==n)}));try{const i=Ha(Pe);i.delete(Ke(Pe,"personal-categories",n)),r.forEach(s=>i.delete(Ke(Pe,"personal-mcqs",s.id))),await i.commit()}catch(i){console.error("Error deleting category:",i)}},addCourseMCQ:async n=>{e(r=>({courseMCQs:[...r.courseMCQs,n]}));try{await xt(Ke(Pe,"personal-mcqs",n.id),n)}catch(r){console.error("Error saving MCQ:",r)}},updateCourseMCQ:async n=>{e(r=>({courseMCQs:r.courseMCQs.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"personal-mcqs",n.id),n)}catch(r){console.error("Error updating MCQ:",r)}},removeCourseMCQ:async n=>{e(r=>({courseMCQs:r.courseMCQs.filter(i=>i.id!==n)}));try{await No(Ke(Pe,"personal-mcqs",n))}catch(r){console.error("Error deleting MCQ:",r)}},addQuizResult:async n=>{e(r=>({quizResults:[...r.quizResults,n]}));try{await xt(Ke(Pe,"personal-quiz-results",n.id),n)}catch(r){console.error("Error saving quiz result:",r)}},getQuizResultsByQuiz:n=>t().quizResults.filter(r=>r.quizItemId===n),addLiveTest:async n=>{e(r=>({liveTests:[...r.liveTests,n]}));try{await xt(Ke(Pe,"personal-live-tests",n.id),n)}catch(r){console.error("Error saving live test:",r)}},updateLiveTest:async n=>{e(r=>({liveTests:r.liveTests.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"personal-live-tests",n.id),n)}catch(r){console.error("Error updating live test:",r)}},removeLiveTest:async n=>{const r=t().liveTestResults.filter(i=>i.testId===n);e(i=>({liveTests:i.liveTests.filter(s=>s.id!==n),liveTestResults:i.liveTestResults.filter(s=>s.testId!==n)}));try{const i=Ha(Pe);i.delete(Ke(Pe,"personal-live-tests",n)),r.forEach(s=>i.delete(Ke(Pe,"personal-live-test-results",s.id))),await i.commit()}catch(i){console.error("Error deleting live test:",i)}},getLiveTestsByCourse:n=>t().liveTests.filter(r=>r.courseId===n),addLiveTestResult:async n=>{e(r=>({liveTestResults:[...r.liveTestResults,n]}));try{await xt(Ke(Pe,"personal-live-test-results",n.id),n)}catch(r){console.error("Error saving live test result:",r)}},getLiveTestResultsByTest:n=>t().liveTestResults.filter(r=>r.testId===n),setAutoLiveTestConfig:async n=>{e(r=>({autoLiveTestConfigs:r.autoLiveTestConfigs.some(i=>i.courseId===n.courseId)?r.autoLiveTestConfigs.map(i=>i.courseId===n.courseId?n:i):[...r.autoLiveTestConfigs,n]}));try{await xt(Ke(Pe,"personal-auto-test-configs",n.id),n)}catch(r){console.error("Error saving auto test config:",r)}},getAutoLiveTestConfig:n=>t().autoLiveTestConfigs.find(r=>r.courseId===n),getActiveCourse:()=>{const n=t();return n.courses.find(r=>r.id===n.activeCourseId)},getTopicsByCourse:n=>t().topics.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getSubTopicsByTopic:n=>t().subTopics.filter(r=>r.topicId===n).sort((r,i)=>r.order-i.order),getContentBySubTopic:n=>t().contentItems.filter(r=>r.subTopicId===n).sort((r,i)=>(r.order||0)-(i.order||0)),getContentByTopic:n=>t().contentItems.filter(r=>r.topicId===n).sort((r,i)=>(r.order||0)-(i.order||0)),getMCQsByCourse:n=>t().courseMCQs.filter(r=>r.courseId===n),getMCQsByCategory:n=>t().courseMCQs.filter(r=>r.categoryId===n),getCategoriesByCourse:n=>t().questionCategories.filter(r=>r.courseId===n),loadFromFirebase:async n=>{try{const i=(await Bn(Ut(Et(Pe,"personal-courses"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),o=(await Bn(Ut(Et(Pe,"personal-topics"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),l=(await Bn(Ut(Et(Pe,"personal-content"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),d=(await Bn(Ut(Et(Pe,"personal-mcqs"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),h=(await Bn(Ut(Et(Pe,"personal-categories"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),y=(await Bn(Ut(Et(Pe,"personal-quiz-results"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),g=(await Bn(Ut(Et(Pe,"personal-live-tests"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),x=(await Bn(Ut(Et(Pe,"personal-live-test-results"),Vt("userId","==",n)))).docs.map(T=>({...T.data()})),w=(await Bn(Ut(Et(Pe,"personal-auto-test-configs"),Vt("userId","==",n)))).docs.map(T=>({...T.data()}));e({courses:i,topics:o,contentItems:l,courseMCQs:d,questionCategories:h,quizResults:y,liveTests:g,liveTestResults:x,autoLiveTestConfigs:w}),console.log(" Personal data loaded from Firebase")}catch(r){console.error("Error loading personal data:",r)}},subscribeToFirebase:n=>{const r=[];return r.push(ir(Ut(Et(Pe,"personal-courses"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({courses:s})})),r.push(ir(Ut(Et(Pe,"personal-topics"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({topics:s})})),r.push(ir(Ut(Et(Pe,"personal-content"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({contentItems:s})})),r.push(ir(Ut(Et(Pe,"personal-mcqs"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({courseMCQs:s})})),r.push(ir(Ut(Et(Pe,"personal-categories"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({questionCategories:s})})),r.push(ir(Ut(Et(Pe,"personal-quiz-results"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({quizResults:s})})),r.push(ir(Ut(Et(Pe,"personal-live-tests"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({liveTests:s})})),r.push(ir(Ut(Et(Pe,"personal-live-test-results"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({liveTestResults:s})})),r.push(ir(Ut(Et(Pe,"personal-auto-test-configs"),Vt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({autoLiveTestConfigs:s})})),()=>r.forEach(i=>i())},subjects:[{id:"sub-1",name:"General"}],categories:[],mcqs:[],notes:[],testResults:[],settings:{liveCategories:[],liveCount:20,mockCount:50},selectedSubjectId:"sub-1",addSubject:n=>e(r=>({subjects:[...r.subjects,n]})),removeSubject:n=>e(r=>({subjects:r.subjects.filter(i=>i.id!==n)})),setSelectedSubject:n=>e({selectedSubjectId:n}),addCategory:n=>e(r=>({categories:[...r.categories,n]})),removeCategory:n=>e(r=>({categories:r.categories.filter(i=>i.id!==n&&i.parentId!==n)})),addMCQ:n=>e(r=>({mcqs:[...r.mcqs,n]})),updateMCQ:n=>e(r=>({mcqs:r.mcqs.map(i=>i.id===n.id?n:i)})),removeMCQ:n=>e(r=>({mcqs:r.mcqs.filter(i=>i.id!==n)})),addNote:n=>e(r=>({notes:[...r.notes,n]})),updateNote:n=>e(r=>({notes:r.notes.map(i=>i.id===n.id?n:i)})),removeNote:n=>e(r=>({notes:r.notes.filter(i=>i.id!==n)})),addTestResult:n=>e(r=>({testResults:[...r.testResults.slice(-9),n]})),updateSettings:n=>e(r=>({settings:{...r.settings,...n}}))}),{name:"personal-store"})),B6={subjects:[],topics:[],subtopics:[],assets:[],isLoading:!1,isInitialized:!1,selectedSubjectId:null,selectedTopicId:null,selectedSubtopicId:null,selectedType:"all",searchQuery:""},Gl=Lf()(fp((e,t)=>({...B6,setSubjects:n=>e({subjects:n}),addSubject:n=>e(r=>({subjects:[...r.subjects,n]})),updateSubject:(n,r)=>e(i=>({subjects:i.subjects.map(s=>s.id===n?{...s,...r}:s)})),removeSubject:n=>e(r=>({subjects:r.subjects.filter(i=>i.id!==n),topics:r.topics.filter(i=>i.subjectId!==n),subtopics:r.subtopics.filter(i=>{const s=r.topics.find(o=>o.id===i.topicId);return(s==null?void 0:s.subjectId)!==n})})),setTopics:n=>e({topics:n}),addTopic:n=>e(r=>({topics:[...r.topics,n]})),updateTopic:(n,r)=>e(i=>({topics:i.topics.map(s=>s.id===n?{...s,...r}:s)})),removeTopic:n=>e(r=>({topics:r.topics.filter(i=>i.id!==n),subtopics:r.subtopics.filter(i=>i.topicId!==n)})),setSubtopics:n=>e({subtopics:n}),addSubtopic:n=>e(r=>({subtopics:[...r.subtopics,n]})),updateSubtopic:(n,r)=>e(i=>({subtopics:i.subtopics.map(s=>s.id===n?{...s,...r}:s)})),removeSubtopic:n=>e(r=>({subtopics:r.subtopics.filter(i=>i.id!==n)})),setAssets:n=>e({assets:n}),addAsset:n=>e(r=>({assets:[...r.assets,n]})),updateAsset:(n,r)=>e(i=>({assets:i.assets.map(s=>s.id===n?{...s,...r}:s)})),removeAsset:n=>e(r=>({assets:r.assets.filter(i=>i.id!==n)})),addUsageRef:(n,r)=>e(i=>({assets:i.assets.map(s=>s.id===n?{...s,usedIn:[...s.usedIn||[],r]}:s)})),removeUsageRef:(n,r,i)=>e(s=>({assets:s.assets.map(o=>o.id===n?{...o,usedIn:(o.usedIn||[]).filter(c=>!(c.deskType===r&&c.deskId===i))}:o)})),setSelectedSubject:n=>e({selectedSubjectId:n,selectedTopicId:null,selectedSubtopicId:null}),setSelectedTopic:n=>e({selectedTopicId:n,selectedSubtopicId:null}),setSelectedSubtopic:n=>e({selectedSubtopicId:n}),setSelectedType:n=>e({selectedType:n}),setSearchQuery:n=>e({searchQuery:n}),setLoading:n=>e({isLoading:n}),setInitialized:n=>e({isInitialized:n}),clearStore:()=>e(B6),getAssetsByType:n=>t().assets.filter(r=>r.type===n),getFilteredAssets:()=>{const{assets:n,selectedSubjectId:r,selectedTopicId:i,selectedSubtopicId:s,selectedType:o,searchQuery:c}=t();return n.filter(l=>{var u;if(o!=="all"&&l.type!==o||r&&l.subjectId!==r||i&&l.topicId!==i||s&&l.subtopicId!==s)return!1;if(c.trim()){const d=c.toLowerCase(),f=l.type==="mcq"&&l.quizQuestions?l.quizQuestions.map(p=>p.question).join(" "):"";if(![l.title,((u=l.tags)==null?void 0:u.join(" "))||"",f,l.content||"",l.description||""].join(" ").toLowerCase().includes(d))return!1}return!0})},getAssetUsageCount:n=>{var i;const r=t().assets.find(s=>s.id===n);return((i=r==null?void 0:r.usedIn)==null?void 0:i.length)||0},getTopicsBySubject:n=>t().topics.filter(r=>r.subjectId===n),getSubtopicsByTopic:n=>t().subtopics.filter(r=>r.topicId===n),getMCQById:n=>t().assets.find(i=>i.id===n&&i.type==="mcq"),getMCQQuestionById:(n,r)=>{var s;const i=t().getMCQById(n);return(s=i==null?void 0:i.quizQuestions)==null?void 0:s.find(o=>o.id===r)},getAllMCQQuestions:()=>t().assets.filter(r=>r.type==="mcq").flatMap(r=>r.quizQuestions.map(i=>({...i,assetId:r.id}))),getMCQQuestionsBySubject:n=>t().assets.filter(i=>i.type==="mcq"&&i.subjectId===n).flatMap(i=>i.quizQuestions.map(s=>({...s,assetId:i.id}))),addSingleMCQ:(n,r,i,s,o,c,l,u,d)=>{const f=`q_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,h=`mcq_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,p={id:h,userId:s,type:"mcq",subjectId:o,topicId:c,subtopicId:d,tags:[],title:n.slice(0,50)+(n.length>50?"...":""),createdAt:Date.now(),updatedAt:Date.now(),usedIn:[],quizQuestions:[{id:f,question:n,options:r,correctIndex:i,explanation:l,difficulty:u}]};return e(y=>({assets:[...y.assets,p]})),{assetId:h,questionId:f}},updateSingleMCQ:(n,r,i)=>{e(s=>({assets:s.assets.map(o=>{if(o.id===n&&o.type==="mcq"){const c=o;return{...c,updatedAt:Date.now(),title:i.question?i.question.slice(0,50)+(i.question.length>50?"...":""):c.title,quizQuestions:c.quizQuestions.map(l=>l.id===r?{...l,...i}:l)}}return o})}))},removeSingleMCQ:(n,r)=>{e(i=>{const s=i.assets.find(c=>c.id===n);return!s||s.type!=="mcq"?i:s.quizQuestions.length<=1?{assets:i.assets.filter(c=>c.id!==n)}:{assets:i.assets.map(c=>c.id===n&&c.type==="mcq"?{...c,updatedAt:Date.now(),quizQuestions:c.quizQuestions.filter(l=>l.id!==r)}:c)}})}}),{name:"asset-store",partialize:e=>({subjects:e.subjects,topics:e.topics,subtopics:e.subtopics,assets:e.assets})})),us=[];for(let e=0;e<256;++e)us.push((e+256).toString(16).slice(1));function swe(e,t=0){return(us[e[t+0]]+us[e[t+1]]+us[e[t+2]]+us[e[t+3]]+"-"+us[e[t+4]]+us[e[t+5]]+"-"+us[e[t+6]]+us[e[t+7]]+"-"+us[e[t+8]]+us[e[t+9]]+"-"+us[e[t+10]]+us[e[t+11]]+us[e[t+12]]+us[e[t+13]]+us[e[t+14]]+us[e[t+15]]).toLowerCase()}let zN;const awe=new Uint8Array(16);function owe(){if(!zN){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zN=crypto.getRandomValues.bind(crypto)}return zN(awe)}const cwe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),V6={randomUUID:cwe};function lwe(e,t,n){var i;e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??owe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,swe(r)}function Zt(e,t,n){return V6.randomUUID&&!e?V6.randomUUID():lwe(e)}function uwe(){this.__data__=[],this.size=0}var dwe=uwe;function fwe(e,t){return e===t||e!==e&&t!==t}var UG=fwe,hwe=UG;function pwe(e,t){for(var n=e.length;n--;)if(hwe(e[n][0],t))return n;return-1}var eT=pwe,mwe=eT,gwe=Array.prototype,xwe=gwe.splice;function vwe(e){var t=this.__data__,n=mwe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xwe.call(t,n,1),--this.size,!0}var ywe=vwe,bwe=eT;function wwe(e){var t=this.__data__,n=bwe(t,e);return n<0?void 0:t[n][1]}var _we=wwe,Twe=eT;function Ewe(e){return Twe(this.__data__,e)>-1}var Nwe=Ewe,Swe=eT;function Cwe(e,t){var n=this.__data__,r=Swe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var kwe=Cwe,Awe=dwe,Dwe=ywe,jwe=_we,Iwe=Nwe,Rwe=kwe;function V0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V0.prototype.clear=Awe;V0.prototype.delete=Dwe;V0.prototype.get=jwe;V0.prototype.has=Iwe;V0.prototype.set=Rwe;var tT=V0,Owe=tT;function Fwe(){this.__data__=new Owe,this.size=0}var Pwe=Fwe;function Uwe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Lwe=Uwe;function Mwe(e){return this.__data__.get(e)}var Bwe=Mwe;function Vwe(e){return this.__data__.has(e)}var Wwe=Vwe,qwe=typeof Kt=="object"&&Kt&&Kt.Object===Object&&Kt,LG=qwe,zwe=LG,$we=typeof self=="object"&&self&&self.Object===Object&&self,Hwe=zwe||$we||Function("return this")(),sd=Hwe,Gwe=sd,Qwe=Gwe.Symbol,n3=Qwe,W6=n3,MG=Object.prototype,Kwe=MG.hasOwnProperty,Xwe=MG.toString,Ag=W6?W6.toStringTag:void 0;function Ywe(e){var t=Kwe.call(e,Ag),n=e[Ag];try{e[Ag]=void 0;var r=!0}catch{}var i=Xwe.call(e);return r&&(t?e[Ag]=n:delete e[Ag]),i}var Zwe=Ywe,Jwe=Object.prototype,e_e=Jwe.toString;function t_e(e){return e_e.call(e)}var n_e=t_e,q6=n3,r_e=Zwe,i_e=n_e,s_e="[object Null]",a_e="[object Undefined]",z6=q6?q6.toStringTag:void 0;function o_e(e){return e==null?e===void 0?a_e:s_e:z6&&z6 in Object(e)?r_e(e):i_e(e)}var nT=o_e;function c_e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var BG=c_e,l_e=nT,u_e=BG,d_e="[object AsyncFunction]",f_e="[object Function]",h_e="[object GeneratorFunction]",p_e="[object Proxy]";function m_e(e){if(!u_e(e))return!1;var t=l_e(e);return t==f_e||t==h_e||t==d_e||t==p_e}var VG=m_e,g_e=sd,x_e=g_e["__core-js_shared__"],v_e=x_e,$N=v_e,$6=function(){var e=/[^.]+$/.exec($N&&$N.keys&&$N.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function y_e(e){return!!$6&&$6 in e}var b_e=y_e,w_e=Function.prototype,__e=w_e.toString;function T_e(e){if(e!=null){try{return __e.call(e)}catch{}try{return e+""}catch{}}return""}var WG=T_e,E_e=VG,N_e=b_e,S_e=BG,C_e=WG,k_e=/[\\^$.*+?()[\]{}|]/g,A_e=/^\[object .+?Constructor\]$/,D_e=Function.prototype,j_e=Object.prototype,I_e=D_e.toString,R_e=j_e.hasOwnProperty,O_e=RegExp("^"+I_e.call(R_e).replace(k_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F_e(e){if(!S_e(e)||N_e(e))return!1;var t=E_e(e)?O_e:A_e;return t.test(C_e(e))}var P_e=F_e;function U_e(e,t){return e==null?void 0:e[t]}var L_e=U_e,M_e=P_e,B_e=L_e;function V_e(e,t){var n=B_e(e,t);return M_e(n)?n:void 0}var W0=V_e,W_e=W0,q_e=sd,z_e=W_e(q_e,"Map"),r3=z_e,$_e=W0,H_e=$_e(Object,"create"),rT=H_e,H6=rT;function G_e(){this.__data__=H6?H6(null):{},this.size=0}var Q_e=G_e;function K_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var X_e=K_e,Y_e=rT,Z_e="__lodash_hash_undefined__",J_e=Object.prototype,eTe=J_e.hasOwnProperty;function tTe(e){var t=this.__data__;if(Y_e){var n=t[e];return n===Z_e?void 0:n}return eTe.call(t,e)?t[e]:void 0}var nTe=tTe,rTe=rT,iTe=Object.prototype,sTe=iTe.hasOwnProperty;function aTe(e){var t=this.__data__;return rTe?t[e]!==void 0:sTe.call(t,e)}var oTe=aTe,cTe=rT,lTe="__lodash_hash_undefined__";function uTe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=cTe&&t===void 0?lTe:t,this}var dTe=uTe,fTe=Q_e,hTe=X_e,pTe=nTe,mTe=oTe,gTe=dTe;function q0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}q0.prototype.clear=fTe;q0.prototype.delete=hTe;q0.prototype.get=pTe;q0.prototype.has=mTe;q0.prototype.set=gTe;var xTe=q0,G6=xTe,vTe=tT,yTe=r3;function bTe(){this.size=0,this.__data__={hash:new G6,map:new(yTe||vTe),string:new G6}}var wTe=bTe;function _Te(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var TTe=_Te,ETe=TTe;function NTe(e,t){var n=e.__data__;return ETe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var iT=NTe,STe=iT;function CTe(e){var t=STe(this,e).delete(e);return this.size-=t?1:0,t}var kTe=CTe,ATe=iT;function DTe(e){return ATe(this,e).get(e)}var jTe=DTe,ITe=iT;function RTe(e){return ITe(this,e).has(e)}var OTe=RTe,FTe=iT;function PTe(e,t){var n=FTe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var UTe=PTe,LTe=wTe,MTe=kTe,BTe=jTe,VTe=OTe,WTe=UTe;function z0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}z0.prototype.clear=LTe;z0.prototype.delete=MTe;z0.prototype.get=BTe;z0.prototype.has=VTe;z0.prototype.set=WTe;var qG=z0,qTe=tT,zTe=r3,$Te=qG,HTe=200;function GTe(e,t){var n=this.__data__;if(n instanceof qTe){var r=n.__data__;if(!zTe||r.length<HTe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $Te(r)}return n.set(e,t),this.size=n.size,this}var QTe=GTe,KTe=tT,XTe=Pwe,YTe=Lwe,ZTe=Bwe,JTe=Wwe,eEe=QTe;function $0(e){var t=this.__data__=new KTe(e);this.size=t.size}$0.prototype.clear=XTe;$0.prototype.delete=YTe;$0.prototype.get=ZTe;$0.prototype.has=JTe;$0.prototype.set=eEe;var tEe=$0,nEe="__lodash_hash_undefined__";function rEe(e){return this.__data__.set(e,nEe),this}var iEe=rEe;function sEe(e){return this.__data__.has(e)}var aEe=sEe,oEe=qG,cEe=iEe,lEe=aEe;function tw(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new oEe;++t<n;)this.add(e[t])}tw.prototype.add=tw.prototype.push=cEe;tw.prototype.has=lEe;var uEe=tw;function dEe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var fEe=dEe;function hEe(e,t){return e.has(t)}var pEe=hEe,mEe=uEe,gEe=fEe,xEe=pEe,vEe=1,yEe=2;function bEe(e,t,n,r,i,s){var o=n&vEe,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=n&yEe?new mEe:void 0;for(s.set(e,t),s.set(t,e);++f<c;){var y=e[f],m=t[f];if(r)var g=o?r(m,y,f,t,e,s):r(y,m,f,e,t,s);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!gEe(t,function(v,x){if(!xEe(p,x)&&(y===v||i(y,v,n,r,s)))return p.push(x)})){h=!1;break}}else if(!(y===m||i(y,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var zG=bEe,wEe=sd,_Ee=wEe.Uint8Array,TEe=_Ee;function EEe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var NEe=EEe;function SEe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var CEe=SEe,Q6=n3,K6=TEe,kEe=UG,AEe=zG,DEe=NEe,jEe=CEe,IEe=1,REe=2,OEe="[object Boolean]",FEe="[object Date]",PEe="[object Error]",UEe="[object Map]",LEe="[object Number]",MEe="[object RegExp]",BEe="[object Set]",VEe="[object String]",WEe="[object Symbol]",qEe="[object ArrayBuffer]",zEe="[object DataView]",X6=Q6?Q6.prototype:void 0,HN=X6?X6.valueOf:void 0;function $Ee(e,t,n,r,i,s,o){switch(n){case zEe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qEe:return!(e.byteLength!=t.byteLength||!s(new K6(e),new K6(t)));case OEe:case FEe:case LEe:return kEe(+e,+t);case PEe:return e.name==t.name&&e.message==t.message;case MEe:case VEe:return e==t+"";case UEe:var c=DEe;case BEe:var l=r&IEe;if(c||(c=jEe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=REe,o.set(e,t);var d=AEe(c(e),c(t),r,i,s,o);return o.delete(e),d;case WEe:if(HN)return HN.call(e)==HN.call(t)}return!1}var HEe=$Ee;function GEe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var QEe=GEe,KEe=Array.isArray,i3=KEe,XEe=QEe,YEe=i3;function ZEe(e,t,n){var r=t(e);return YEe(e)?r:XEe(r,n(e))}var JEe=ZEe;function eNe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var tNe=eNe;function nNe(){return[]}var rNe=nNe,iNe=tNe,sNe=rNe,aNe=Object.prototype,oNe=aNe.propertyIsEnumerable,Y6=Object.getOwnPropertySymbols,cNe=Y6?function(e){return e==null?[]:(e=Object(e),iNe(Y6(e),function(t){return oNe.call(e,t)}))}:sNe,lNe=cNe;function uNe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var dNe=uNe;function fNe(e){return e!=null&&typeof e=="object"}var sT=fNe,hNe=nT,pNe=sT,mNe="[object Arguments]";function gNe(e){return pNe(e)&&hNe(e)==mNe}var xNe=gNe,Z6=xNe,vNe=sT,$G=Object.prototype,yNe=$G.hasOwnProperty,bNe=$G.propertyIsEnumerable,wNe=Z6(function(){return arguments}())?Z6:function(e){return vNe(e)&&yNe.call(e,"callee")&&!bNe.call(e,"callee")},_Ne=wNe,nw={exports:{}};function TNe(){return!1}var ENe=TNe;nw.exports;(function(e,t){var n=sd,r=ENe,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,c=o?n.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||r;e.exports=u})(nw,nw.exports);var HG=nw.exports,NNe=9007199254740991,SNe=/^(?:0|[1-9]\d*)$/;function CNe(e,t){var n=typeof e;return t=t??NNe,!!t&&(n=="number"||n!="symbol"&&SNe.test(e))&&e>-1&&e%1==0&&e<t}var kNe=CNe,ANe=9007199254740991;function DNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ANe}var GG=DNe,jNe=nT,INe=GG,RNe=sT,ONe="[object Arguments]",FNe="[object Array]",PNe="[object Boolean]",UNe="[object Date]",LNe="[object Error]",MNe="[object Function]",BNe="[object Map]",VNe="[object Number]",WNe="[object Object]",qNe="[object RegExp]",zNe="[object Set]",$Ne="[object String]",HNe="[object WeakMap]",GNe="[object ArrayBuffer]",QNe="[object DataView]",KNe="[object Float32Array]",XNe="[object Float64Array]",YNe="[object Int8Array]",ZNe="[object Int16Array]",JNe="[object Int32Array]",eSe="[object Uint8Array]",tSe="[object Uint8ClampedArray]",nSe="[object Uint16Array]",rSe="[object Uint32Array]",Wr={};Wr[KNe]=Wr[XNe]=Wr[YNe]=Wr[ZNe]=Wr[JNe]=Wr[eSe]=Wr[tSe]=Wr[nSe]=Wr[rSe]=!0;Wr[ONe]=Wr[FNe]=Wr[GNe]=Wr[PNe]=Wr[QNe]=Wr[UNe]=Wr[LNe]=Wr[MNe]=Wr[BNe]=Wr[VNe]=Wr[WNe]=Wr[qNe]=Wr[zNe]=Wr[$Ne]=Wr[HNe]=!1;function iSe(e){return RNe(e)&&INe(e.length)&&!!Wr[jNe(e)]}var sSe=iSe;function aSe(e){return function(t){return e(t)}}var oSe=aSe,rw={exports:{}};rw.exports;(function(e,t){var n=LG,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,c=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(rw,rw.exports);var cSe=rw.exports,lSe=sSe,uSe=oSe,J6=cSe,e8=J6&&J6.isTypedArray,dSe=e8?uSe(e8):lSe,QG=dSe,fSe=dNe,hSe=_Ne,pSe=i3,mSe=HG,gSe=kNe,xSe=QG,vSe=Object.prototype,ySe=vSe.hasOwnProperty;function bSe(e,t){var n=pSe(e),r=!n&&hSe(e),i=!n&&!r&&mSe(e),s=!n&&!r&&!i&&xSe(e),o=n||r||i||s,c=o?fSe(e.length,String):[],l=c.length;for(var u in e)(t||ySe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gSe(u,l)))&&c.push(u);return c}var wSe=bSe,_Se=Object.prototype;function TSe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||_Se;return e===n}var ESe=TSe;function NSe(e,t){return function(n){return e(t(n))}}var SSe=NSe,CSe=SSe,kSe=CSe(Object.keys,Object),ASe=kSe,DSe=ESe,jSe=ASe,ISe=Object.prototype,RSe=ISe.hasOwnProperty;function OSe(e){if(!DSe(e))return jSe(e);var t=[];for(var n in Object(e))RSe.call(e,n)&&n!="constructor"&&t.push(n);return t}var FSe=OSe,PSe=VG,USe=GG;function LSe(e){return e!=null&&USe(e.length)&&!PSe(e)}var MSe=LSe,BSe=wSe,VSe=FSe,WSe=MSe;function qSe(e){return WSe(e)?BSe(e):VSe(e)}var zSe=qSe,$Se=JEe,HSe=lNe,GSe=zSe;function QSe(e){return $Se(e,GSe,HSe)}var KSe=QSe,t8=KSe,XSe=1,YSe=Object.prototype,ZSe=YSe.hasOwnProperty;function JSe(e,t,n,r,i,s){var o=n&XSe,c=t8(e),l=c.length,u=t8(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:ZSe.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=o;++f<l;){h=c[f];var v=e[h],x=t[h];if(r)var b=o?r(x,v,h,t,e,s):r(v,x,h,e,t,s);if(!(b===void 0?v===x||i(v,x,n,r,s):b)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var w=e.constructor,T=t.constructor;w!=T&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof T=="function"&&T instanceof T)&&(m=!1)}return s.delete(e),s.delete(t),m}var eCe=JSe,tCe=W0,nCe=sd,rCe=tCe(nCe,"DataView"),iCe=rCe,sCe=W0,aCe=sd,oCe=sCe(aCe,"Promise"),cCe=oCe,lCe=W0,uCe=sd,dCe=lCe(uCe,"Set"),fCe=dCe,hCe=W0,pCe=sd,mCe=hCe(pCe,"WeakMap"),gCe=mCe,CA=iCe,kA=r3,AA=cCe,DA=fCe,jA=gCe,KG=nT,H0=WG,n8="[object Map]",xCe="[object Object]",r8="[object Promise]",i8="[object Set]",s8="[object WeakMap]",a8="[object DataView]",vCe=H0(CA),yCe=H0(kA),bCe=H0(AA),wCe=H0(DA),_Ce=H0(jA),ch=KG;(CA&&ch(new CA(new ArrayBuffer(1)))!=a8||kA&&ch(new kA)!=n8||AA&&ch(AA.resolve())!=r8||DA&&ch(new DA)!=i8||jA&&ch(new jA)!=s8)&&(ch=function(e){var t=KG(e),n=t==xCe?e.constructor:void 0,r=n?H0(n):"";if(r)switch(r){case vCe:return a8;case yCe:return n8;case bCe:return r8;case wCe:return i8;case _Ce:return s8}return t});var TCe=ch,GN=tEe,ECe=zG,NCe=HEe,SCe=eCe,o8=TCe,c8=i3,l8=HG,CCe=QG,kCe=1,u8="[object Arguments]",d8="[object Array]",V1="[object Object]",ACe=Object.prototype,f8=ACe.hasOwnProperty;function DCe(e,t,n,r,i,s){var o=c8(e),c=c8(t),l=o?d8:o8(e),u=c?d8:o8(t);l=l==u8?V1:l,u=u==u8?V1:u;var d=l==V1,f=u==V1,h=l==u;if(h&&l8(e)){if(!l8(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new GN),o||CCe(e)?ECe(e,t,n,r,i,s):NCe(e,t,l,n,r,i,s);if(!(n&kCe)){var p=d&&f8.call(e,"__wrapped__"),y=f&&f8.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,g=y?t.value():t;return s||(s=new GN),i(m,g,n,r,s)}}return h?(s||(s=new GN),SCe(e,t,n,r,i,s)):!1}var jCe=DCe,ICe=jCe,h8=sT;function XG(e,t,n,r,i){return e===t?!0:e==null||t==null||!h8(e)&&!h8(t)?e!==e&&t!==t:ICe(e,t,n,r,XG,i)}var RCe=XG,OCe=RCe;function FCe(e,t){return OCe(e,t)}var PCe=FCe,YG={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:Kt,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,c){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:c})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),c=i(19),l=i(45),u=i(46),d=i(47),f=i(48),h=i(49),p=i(12),y=i(32),m=i(33),g=i(31),v=i(1),x={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:s.default,Format:o.default,Leaf:c.default,Embed:f.default,Scroll:l.default,Block:d.default,Inline:u.default,Text:h.default,Attributor:{Attribute:p.default,Class:y.default,Style:m.default,Store:g.default}};r.default=x},function(n,r,i){var s=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var b in x)x.hasOwnProperty(b)&&(v[b]=x[b])};return function(v,x){g(v,x);function b(){this.constructor=v}v.prototype=x===null?Object.create(x):(b.prototype=x.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(g){s(v,g);function v(x){var b=this;return x="[Parchment] "+x,b=g.call(this,x)||this,b.message=x,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=o;var c={},l={},u={},d={};r.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(g,v){var x=y(g);if(x==null)throw new o("Unable to create "+g+" blot");var b=x,w=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:b.create(v);return new b(w,v)}r.create=h;function p(g,v){return v===void 0&&(v=!1),g==null?null:g[r.DATA_KEY]!=null?g[r.DATA_KEY].blot:v?p(g.parentNode,v):null}r.find=p;function y(g,v){v===void 0&&(v=f.ANY);var x;if(typeof g=="string")x=d[g]||c[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)x=d.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?x=d.block:g&f.LEVEL&f.INLINE&&(x=d.inline);else if(g instanceof HTMLElement){var b=(g.getAttribute("class")||"").split(/\s+/);for(var w in b)if(x=l[b[w]],x)break;x=x||u[g.tagName]}return x==null?null:v&f.LEVEL&x.scope&&v&f.TYPE&x.scope?x:null}r.query=y;function m(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];if(g.length>1)return g.map(function(w){return m(w)});var x=g[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(d[x.blotName||x.attrName]=x,typeof x.keyName=="string")c[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(w){return w.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var b=Array.isArray(x.tagName)?x.tagName:[x.tagName];b.forEach(function(w){(u[w]==null||x.className==null)&&(u[w]=x)})}return x}r.register=m},function(n,r,i){var s=i(51),o=i(11),c=i(3),l=i(20),u="\0",d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},d.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=c(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(y){var m=f(y)?h:p;m.push(y)}),[h,p]},d.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},d.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},d.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],y=l.iterator(this.ops),m=0;m<h&&y.hasNext();){var g;m<f?g=y.next(f-m):(g=y.next(h-m),p.push(g)),m+=l.length(g)}return new d(p)},d.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),y=[],m=p.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var g=m.retain;h.peekType()==="insert"&&h.peekLength()<=g;)g-=h.peekLength(),y.push(h.next());m.retain-g>0&&p.next(m.retain-g)}for(var v=new d(y);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")v.push(p.next());else if(h.peekType()==="delete")v.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),b=h.next(x),w=p.next(x);if(typeof w.retain=="number"){var T={};typeof b.retain=="number"?T.retain=x:T.insert=b.insert;var C=l.attributes.compose(b.attributes,w.attributes,typeof b.retain=="number");if(C&&(T.attributes=C),v.push(T),!p.hasNext()&&o(v.ops[v.ops.length-1],T)){var _=new d(h.rest());return v.concat(_).chop()}}else typeof w.delete=="number"&&typeof b.retain=="number"&&v.push(w)}return v.chop()},d.prototype.concat=function(f){var h=new d(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},d.prototype.diff=function(f,h){if(this.ops===f.ops)return new d;var p=[this,f].map(function(x){return x.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var w=x===f?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),y=new d,m=s(p[0],p[1],h),g=l.iterator(this.ops),v=l.iterator(f.ops);return m.forEach(function(x){for(var b=x[1].length;b>0;){var w=0;switch(x[0]){case s.INSERT:w=Math.min(v.peekLength(),b),y.push(v.next(w));break;case s.DELETE:w=Math.min(b,g.peekLength()),g.next(w),y.delete(w);break;case s.EQUAL:w=Math.min(g.peekLength(),v.peekLength(),b);var T=g.next(w),C=v.next(w);o(T.insert,C.insert)?y.retain(w,l.attributes.diff(T.attributes,C.attributes)):y.push(C).delete(w);break}b-=w}}),y.chop()},d.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),y=new d,m=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),v=l.length(g)-p.peekLength(),x=typeof g.insert=="string"?g.insert.indexOf(h,v)-v:-1;if(x<0)y.push(p.next());else if(x>0)y.push(p.next(x));else{if(f(y,p.next(1).attributes||{},m)===!1)return;m+=1,y=new d}}y.length()>0&&f(y,{},m)},d.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),y=l.iterator(f.ops),m=new d;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(h||y.peekType()!=="insert"))m.retain(l.length(p.next()));else if(y.peekType()==="insert")m.push(y.next());else{var g=Math.min(p.peekLength(),y.peekLength()),v=p.next(g),x=y.next(g);if(v.delete)continue;x.delete?m.push(x):m.retain(g,l.attributes.transform(v.attributes,x.attributes,h))}return m.chop()},d.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),y=0;p.hasNext()&&y<=f;){var m=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){f-=Math.min(m,f-y);continue}else g==="insert"&&(y<f||!h)&&(f+=m);y+=m}return f},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},u=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var y=i.call(p,"constructor"),m=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!m)return!1;var g;for(g in p);return typeof g>"u"||i.call(p,g)},d=function(p,y){o&&y.name==="__proto__"?o(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},f=function(p,y){if(y==="__proto__")if(i.call(p,y)){if(c)return c(p,y).value}else return;return p[y]};n.exports=function h(){var p,y,m,g,v,x,b=arguments[0],w=1,T=arguments.length,C=!1;for(typeof b=="boolean"&&(C=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<T;++w)if(p=arguments[w],p!=null)for(y in p)m=f(b,y),g=f(p,y),b!==g&&(C&&g&&(u(g)||(v=l(g)))?(v?(v=!1,x=m&&l(m)?m:[]):x=m&&u(m)?m:{},d(b,{name:y,newValue:h(C,x,g)})):typeof g<"u"&&d(b,{name:y,newValue:g}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function D(E,I){for(var R=0;R<I.length;R++){var V=I[R];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,I,R){return I&&D(E.prototype,I),R&&D(E,R),E}}(),o=function D(E,I,R){E===null&&(E=Function.prototype);var V=Object.getOwnPropertyDescriptor(E,I);if(V===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:D(M,I,R)}else{if("value"in V)return V.value;var H=V.get;return H===void 0?void 0:H.call(R)}},c=i(3),l=b(c),u=i(2),d=b(u),f=i(0),h=b(f),p=i(16),y=b(p),m=i(6),g=b(m),v=i(7),x=b(v);function b(D){return D&&D.__esModule?D:{default:D}}function w(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function T(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function C(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}var _=1,N=function(D){C(E,D);function E(){return w(this,E),T(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"attach",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,V){var M=h.default.query(R,h.default.Scope.BLOCK_ATTRIBUTE);M!=null&&this.attributes.attribute(M,V)}},{key:"formatAt",value:function(R,V,M,H){this.format(M,H)}},{key:"insertAt",value:function(R,V,M){if(typeof V=="string"&&V.endsWith(`
`)){var H=h.default.create(k.blotName);this.parent.insertBefore(H,R===0?this:this.next),H.insertAt(0,V.slice(0,-1))}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,R,V,M)}}]),E}(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var k=function(D){C(E,D);function E(I){w(this,E);var R=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return R.cache={},R}return s(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(R,V){return V.length()===0?R:R.insert(V.value(),j(V))},new d.default).insert(`
`,j(this))),this.cache.delta}},{key:"deleteAt",value:function(R,V){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,R,V),this.cache={}}},{key:"formatAt",value:function(R,V,M,H){V<=0||(h.default.query(M,h.default.Scope.BLOCK)?R+V===this.length()&&this.format(M,H):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,R,Math.min(V,this.length()-R-1),M,H),this.cache={})}},{key:"insertAt",value:function(R,V,M){if(M!=null)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,R,V,M);if(V.length!==0){var H=V.split(`
`),G=H.shift();G.length>0&&(R<this.length()-1||this.children.tail==null?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var P=this;H.reduce(function(W,F){return P=P.split(W,!0),P.insertAt(0,F),F.length},R+G.length)}}},{key:"insertBefore",value:function(R,V){var M=this.children.head;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,R,V),M instanceof y.default&&M.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function(R,V){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,R,V),this.cache={}}},{key:"optimize",value:function(R){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V&&(R===0||R>=this.length()-_)){var M=this.clone();return R===0?(this.parent.insertBefore(M,this),this):(this.parent.insertBefore(M,this.next),M)}else{var H=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,R,V);return this.cache={},H}}}]),E}(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[g.default,h.default.Embed,x.default];function j(D){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D==null||(typeof D.formats=="function"&&(E=(0,l.default)(E,D.formats())),D.parent==null||D.parent.blotName=="scroll"||D.parent.statics.scope!==D.statics.scope)?E:j(D.parent,E)}r.bubbleFormats=j,r.BlockEmbed=N,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},o=function(){function P(W,F){var O=[],L=!0,K=!1,Q=void 0;try{for(var U=W[Symbol.iterator](),Z;!(L=(Z=U.next()).done)&&(O.push(Z.value),!(F&&O.length===F));L=!0);}catch(pe){K=!0,Q=pe}finally{try{!L&&U.return&&U.return()}finally{if(K)throw Q}}return O}return function(W,F){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return P(W,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function P(W,F){for(var O=0;O<F.length;O++){var L=F[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(W,L.key,L)}}return function(W,F,O){return F&&P(W.prototype,F),O&&P(W,O),W}}();i(50);var l=i(2),u=j(l),d=i(14),f=j(d),h=i(8),p=j(h),y=i(9),m=j(y),g=i(0),v=j(g),x=i(15),b=j(x),w=i(3),T=j(w),C=i(10),_=j(C),N=i(34),k=j(N);function j(P){return P&&P.__esModule?P:{default:P}}function D(P,W,F){return W in P?Object.defineProperty(P,W,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[W]=F,P}function E(P,W){if(!(P instanceof W))throw new TypeError("Cannot call a class as a function")}var I=(0,_.default)("quill"),R=function(){c(P,null,[{key:"debug",value:function(F){F===!0&&(F="log"),_.default.level(F)}},{key:"find",value:function(F){return F.__quill||v.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&I.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,O){var L=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var Q=F.attrName||F.blotName;typeof Q=="string"?this.register("formats/"+Q,F,O):Object.keys(F).forEach(function(U){L.register(U,F[U],O)})}else this.imports[F]!=null&&!K&&I.warn("Overwriting "+F+" with",O),this.imports[F]=O,(F.startsWith("blots/")||F.startsWith("formats/"))&&O.blotName!=="abstract"?v.default.register(O):F.startsWith("modules")&&typeof O.register=="function"&&O.register()}}]);function P(W){var F=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,P),this.options=V(W,O),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",W);this.options.debug&&P.debug(this.options.debug);var L=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,U){var Z=F.selection.lastRange,pe=Z&&Z.length===0?Z.index:void 0;M.call(F,function(){return F.editor.update(null,U,pe)},Q)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+L+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(P,[{key:"addContainer",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var L=F;F=document.createElement("div"),F.classList.add(L)}return this.container.insertBefore(F,O),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,O,L){var K=this,Q=H(F,O,L),U=o(Q,4);return F=U[0],O=U[1],L=U[3],M.call(this,function(){return K.editor.deleteText(F,O)},L,F,-1*O)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,O){var L=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return M.call(this,function(){var Q=L.getSelection(!0),U=new u.default;if(Q==null)return U;if(v.default.query(F,v.default.Scope.BLOCK))U=L.editor.formatLine(Q.index,Q.length,D({},F,O));else{if(Q.length===0)return L.selection.format(F,O),U;U=L.editor.formatText(Q.index,Q.length,D({},F,O))}return L.setSelection(Q,p.default.sources.SILENT),U},K)}},{key:"formatLine",value:function(F,O,L,K,Q){var U=this,Z=void 0,pe=H(F,O,L,K,Q),me=o(pe,4);return F=me[0],O=me[1],Z=me[2],Q=me[3],M.call(this,function(){return U.editor.formatLine(F,O,Z)},Q,F,0)}},{key:"formatText",value:function(F,O,L,K,Q){var U=this,Z=void 0,pe=H(F,O,L,K,Q),me=o(pe,4);return F=me[0],O=me[1],Z=me[2],Q=me[3],M.call(this,function(){return U.editor.formatText(F,O,Z)},Q,F,0)}},{key:"getBounds",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=void 0;typeof F=="number"?L=this.selection.getBounds(F,O):L=this.selection.getBounds(F.index,F.length);var K=this.container.getBoundingClientRect();return{bottom:L.bottom-K.top,height:L.height,left:L.left-K.left,right:L.right-K.left,top:L.top-K.top,width:L.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,L=H(F,O),K=o(L,2);return F=K[0],O=K[1],this.editor.getContents(F,O)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,O):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,O)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,L=H(F,O),K=o(L,2);return F=K[0],O=K[1],this.editor.getText(F,O)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,O,L){var K=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P.sources.API;return M.call(this,function(){return K.editor.insertEmbed(F,O,L)},Q,F)}},{key:"insertText",value:function(F,O,L,K,Q){var U=this,Z=void 0,pe=H(F,0,L,K,Q),me=o(pe,4);return F=me[0],Z=me[2],Q=me[3],M.call(this,function(){return U.editor.insertText(F,O,Z)},Q,F,O.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,O,L){this.clipboard.dangerouslyPasteHTML(F,O,L)}},{key:"removeFormat",value:function(F,O,L){var K=this,Q=H(F,O,L),U=o(Q,4);return F=U[0],O=U[1],L=U[3],M.call(this,function(){return K.editor.removeFormat(F,O)},L,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var O=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return M.call(this,function(){F=new u.default(F);var K=O.getLength(),Q=O.editor.deleteText(0,K),U=O.editor.applyDelta(F),Z=U.ops[U.ops.length-1];Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&(O.editor.deleteText(O.getLength()-1,1),U.delete(1));var pe=Q.compose(U);return pe},L)}},{key:"setSelection",value:function(F,O,L){if(F==null)this.selection.setRange(null,O||P.sources.API);else{var K=H(F,O,L),Q=o(K,4);F=Q[0],O=Q[1],L=Q[3],this.selection.setRange(new x.Range(F,O),L),L!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,L=new u.default().insert(F);return this.setContents(L,O)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,O=this.scroll.update(F);return this.selection.update(F),O}},{key:"updateContents",value:function(F){var O=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return M.call(this,function(){return F=new u.default(F),O.editor.applyDelta(F,L)},L,!0)}}]),P}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=p.default.events,R.sources=p.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:v.default,"core/module":m.default,"core/theme":k.default};function V(P,W){if(W=(0,T.default)(!0,{container:P,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===R.DEFAULTS.theme)W.theme=k.default;else if(W.theme=R.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var F=(0,T.default)(!0,{},W.theme.DEFAULTS);[F,W].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(Q){K.modules[Q]===!0&&(K.modules[Q]={})})});var O=Object.keys(F.modules).concat(Object.keys(W.modules)),L=O.reduce(function(K,Q){var U=R.import("modules/"+Q);return U==null?I.error("Cannot load "+Q+" module. Are you sure you registered it?"):K[Q]=U.DEFAULTS||{},K},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,T.default)(!0,{},R.DEFAULTS,{modules:L},F,W),["bounds","container","scrollingContainer"].forEach(function(K){typeof W[K]=="string"&&(W[K]=document.querySelector(W[K]))}),W.modules=Object.keys(W.modules).reduce(function(K,Q){return W.modules[Q]&&(K[Q]=W.modules[Q]),K},{}),W}function M(P,W,F,O){if(this.options.strict&&!this.isEnabled()&&W===p.default.sources.USER)return new u.default;var L=F==null?null:this.getSelection(),K=this.editor.delta,Q=P();if(L!=null&&(F===!0&&(F=L.index),O==null?L=G(L,Q,W):O!==0&&(L=G(L,F,O,W)),this.setSelection(L,p.default.sources.SILENT)),Q.length()>0){var U,Z=[p.default.events.TEXT_CHANGE,Q,K,W];if((U=this.emitter).emit.apply(U,[p.default.events.EDITOR_CHANGE].concat(Z)),W!==p.default.sources.SILENT){var pe;(pe=this.emitter).emit.apply(pe,Z)}}return Q}function H(P,W,F,O,L){var K={};return typeof P.index=="number"&&typeof P.length=="number"?typeof W!="number"?(L=O,O=F,F=W,W=P.length,P=P.index):(W=P.length,P=P.index):typeof W!="number"&&(L=O,O=F,F=W,W=0),(typeof F>"u"?"undefined":s(F))==="object"?(K=F,L=O):typeof F=="string"&&(O!=null?K[F]=O:L=F),L=L||p.default.sources.API,[P,W,K,L]}function G(P,W,F,O){if(P==null)return null;var L=void 0,K=void 0;if(W instanceof u.default){var Q=[P.index,P.index+P.length].map(function(me){return W.transformPosition(me,O!==p.default.sources.USER)}),U=o(Q,2);L=U[0],K=U[1]}else{var Z=[P.index,P.index+P.length].map(function(me){return me<W||me===W&&O===p.default.sources.USER?me:F>=0?me+F:Math.max(W,me+F)}),pe=o(Z,2);L=pe[0],K=pe[1]}return new x.Range(L,K-L)}r.expandConfig=V,r.overload=H,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(v,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,x,b){return x&&g(v.prototype,x),b&&g(v,b),v}}(),o=function g(v,x,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,x);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:g(T,x,b)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(b)}},c=i(7),l=f(c),u=i(0),d=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function p(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function y(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){y(v,g);function v(){return h(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"formatAt",value:function(b,w,T,C){if(v.compare(this.statics.blotName,T)<0&&d.default.query(T,d.default.Scope.BLOT)){var _=this.isolate(b,w);C&&_.wrap(T,C)}else o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,w,T,C)}},{key:"optimize",value:function(b){if(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(b,w){var T=v.order.indexOf(b),C=v.order.indexOf(w);return T>=0||C>=0?T-C:b===w?0:b<w?-1:1}}]),v}(d.default.Inline);m.allowedChildren=[m,d.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(b,w){for(var T=0;T<w.length;T++){var C=w[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,w,T){return w&&x(b.prototype,w),T&&x(b,T),b}}(),o=function x(b,w,T){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,w);if(C===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:x(_,w,T)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(T)}},c=i(54),l=f(c),u=i(10),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function p(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function y(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var m=(0,d.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(x){document.addEventListener(x,function(){for(var b=arguments.length,w=Array(b),T=0;T<b;T++)w[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var _;(_=C.__quill.emitter).handleDOM.apply(_,w)}})})});var v=function(x){y(b,x);function b(){h(this,b);var w=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return w.listeners={},w.on("error",m.error),w}return s(b,[{key:"emit",value:function(){m.log.apply(m,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var C=arguments.length,_=Array(C>1?C-1:0),N=1;N<C;N++)_[N-1]=arguments[N];(this.listeners[T.type]||[]).forEach(function(k){var j=k.node,D=k.handler;(T.target===j||j.contains(T.target))&&D.apply(void 0,[T].concat(_))})}},{key:"listenDOM",value:function(T,C,_){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:C,handler:_})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function c(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,c),this.quill=l,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function c(u){if(s.indexOf(u)<=s.indexOf(o)){for(var d,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(d=console)[u].apply(d,h)}}function l(u){return s.reduce(function(d,f){return d[f]=c.bind(console,f,u),d},{})}c.level=l.level=function(u){o=u},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),c=i(53),l=n.exports=function(h,p,y){return y||(y={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?y.strict?h===p:h==p:f(h,p,y)};function u(h){return h==null}function d(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,y){var m,g;if(u(h)||u(p)||h.prototype!==p.prototype)return!1;if(c(h))return c(p)?(h=s.call(h),p=s.call(p),l(h,p,y)):!1;if(d(h)){if(!d(p)||h.length!==p.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==p[m])return!1;return!0}try{var v=o(h),x=o(p)}catch{return!1}if(v.length!=x.length)return!1;for(v.sort(),x.sort(),m=v.length-1;m>=0;m--)if(v[m]!=x[m])return!1;for(m=v.length-1;m>=0;m--)if(g=v[m],!l(h[g],p[g],y))return!1;return typeof h==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function c(l,u,d){d===void 0&&(d={}),this.attrName=l,this.keyName=u;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return c.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},c.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},c.prototype.canAdd=function(l,u){var d=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},c.prototype.remove=function(l){l.removeAttribute(this.keyName)},c.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},c}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function N(k,j){var D=[],E=!0,I=!1,R=void 0;try{for(var V=k[Symbol.iterator](),M;!(E=(M=V.next()).done)&&(D.push(M.value),!(j&&D.length===j));E=!0);}catch(H){I=!0,R=H}finally{try{!E&&V.return&&V.return()}finally{if(I)throw R}}return D}return function(k,j){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(k,j){for(var D=0;D<j.length;D++){var E=j[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,j,D){return j&&N(k.prototype,j),D&&N(k,D),k}}(),c=function N(k,j,D){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,j);if(E===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:N(I,j,D)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(D)}},l=i(2),u=x(l),d=i(0),f=x(d),h=i(4),p=x(h),y=i(6),m=x(y),g=i(7),v=x(g);function x(N){return N&&N.__esModule?N:{default:N}}function b(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function w(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:N}function T(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}var C=function(N){T(k,N);function k(){return b(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(m.default);C.blotName="code",C.tagName="CODE";var _=function(N){T(k,N);function k(){return b(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var D=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(I,R){return I.insert(R).insert(`
`,D.formats())},new u.default)}},{key:"format",value:function(D,E){if(!(D===this.statics.blotName&&E)){var I=this.descendant(v.default,this.length()-1),R=s(I,1),V=R[0];V!=null&&V.deleteAt(V.length()-1,1),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,D,E)}}},{key:"formatAt",value:function(D,E,I,R){if(E!==0&&!(f.default.query(I,f.default.Scope.BLOCK)==null||I===this.statics.blotName&&R===this.statics.formats(this.domNode))){var V=this.newlineIndex(D);if(!(V<0||V>=D+E)){var M=this.newlineIndex(D,!0)+1,H=V-M+1,G=this.isolate(M,H),P=G.next;G.format(I,R),P instanceof k&&P.formatAt(0,D-M+E-H,I,R)}}}},{key:"insertAt",value:function(D,E,I){if(I==null){var R=this.descendant(v.default,D),V=s(R,2),M=V[0],H=V[1];M.insertAt(H,E)}}},{key:"length",value:function(){var D=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?D:D+1}},{key:"newlineIndex",value:function(D){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,D).lastIndexOf(`
`);var I=this.domNode.textContent.slice(D).indexOf(`
`);return I>-1?D+I:-1}},{key:"optimize",value:function(D){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,D);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(D),E.moveChildren(this),E.remove())}},{key:"replace",value:function(D){c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,D),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var I=f.default.find(E);I==null?E.parentNode.removeChild(E):I instanceof f.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(D){var E=c(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,D);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),k}(p.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",r.Code=C,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},o=function(){function P(W,F){var O=[],L=!0,K=!1,Q=void 0;try{for(var U=W[Symbol.iterator](),Z;!(L=(Z=U.next()).done)&&(O.push(Z.value),!(F&&O.length===F));L=!0);}catch(pe){K=!0,Q=pe}finally{try{!L&&U.return&&U.return()}finally{if(K)throw Q}}return O}return function(W,F){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return P(W,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function P(W,F){for(var O=0;O<F.length;O++){var L=F[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(W,L.key,L)}}return function(W,F,O){return F&&P(W.prototype,F),O&&P(W,O),W}}(),l=i(2),u=E(l),d=i(20),f=E(d),h=i(0),p=E(h),y=i(13),m=E(y),g=i(24),v=E(g),x=i(4),b=E(x),w=i(16),T=E(w),C=i(21),_=E(C),N=i(11),k=E(N),j=i(3),D=E(j);function E(P){return P&&P.__esModule?P:{default:P}}function I(P,W,F){return W in P?Object.defineProperty(P,W,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[W]=F,P}function R(P,W){if(!(P instanceof W))throw new TypeError("Cannot call a class as a function")}var V=/^[ -~]*$/,M=function(){function P(W){R(this,P),this.scroll=W,this.delta=this.getDelta()}return c(P,[{key:"applyDelta",value:function(F){var O=this,L=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),F=G(F),F.reduce(function(Q,U){var Z=U.retain||U.delete||U.insert.length||1,pe=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var me=U.insert;me.endsWith(`
`)&&L&&(L=!1,me=me.slice(0,-1)),Q>=K&&!me.endsWith(`
`)&&(L=!0),O.scroll.insertAt(Q,me);var ye=O.scroll.line(Q),Fe=o(ye,2),Y=Fe[0],ve=Fe[1],B=(0,D.default)({},(0,x.bubbleFormats)(Y));if(Y instanceof b.default){var _e=Y.descendant(p.default.Leaf,ve),Ee=o(_e,1),se=Ee[0];B=(0,D.default)(B,(0,x.bubbleFormats)(se))}pe=f.default.attributes.diff(B,pe)||{}}else if(s(U.insert)==="object"){var J=Object.keys(U.insert)[0];if(J==null)return Q;O.scroll.insertAt(Q,J,U.insert[J])}K+=Z}return Object.keys(pe).forEach(function(de){O.scroll.formatAt(Q,Z,de,pe[de])}),Q+Z},0),F.reduce(function(Q,U){return typeof U.delete=="number"?(O.scroll.deleteAt(Q,U.delete),Q):Q+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,O){return this.scroll.deleteAt(F,O),this.update(new u.default().retain(F).delete(O))}},{key:"formatLine",value:function(F,O){var L=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(Q){if(!(L.scroll.whitelist!=null&&!L.scroll.whitelist[Q])){var U=L.scroll.lines(F,Math.max(O,1)),Z=O;U.forEach(function(pe){var me=pe.length();if(!(pe instanceof m.default))pe.format(Q,K[Q]);else{var ye=F-pe.offset(L.scroll),Fe=pe.newlineIndex(ye+Z)-ye+1;pe.formatAt(ye,Fe,Q,K[Q])}Z-=me})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(O,(0,_.default)(K)))}},{key:"formatText",value:function(F,O){var L=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(Q){L.scroll.formatAt(F,O,Q,K[Q])}),this.update(new u.default().retain(F).retain(O,(0,_.default)(K)))}},{key:"getContents",value:function(F,O){return this.delta.slice(F,F+O)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,O){return F.concat(O.delta())},new u.default)}},{key:"getFormat",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=[],K=[];O===0?this.scroll.path(F).forEach(function(U){var Z=o(U,1),pe=Z[0];pe instanceof b.default?L.push(pe):pe instanceof p.default.Leaf&&K.push(pe)}):(L=this.scroll.lines(F,O),K=this.scroll.descendants(p.default.Leaf,F,O));var Q=[L,K].map(function(U){if(U.length===0)return{};for(var Z=(0,x.bubbleFormats)(U.shift());Object.keys(Z).length>0;){var pe=U.shift();if(pe==null)return Z;Z=H((0,x.bubbleFormats)(pe),Z)}return Z});return D.default.apply(D.default,Q)}},{key:"getText",value:function(F,O){return this.getContents(F,O).filter(function(L){return typeof L.insert=="string"}).map(function(L){return L.insert}).join("")}},{key:"insertEmbed",value:function(F,O,L){return this.scroll.insertAt(F,O,L),this.update(new u.default().retain(F).insert(I({},O,L)))}},{key:"insertText",value:function(F,O){var L=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O=O.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,O),Object.keys(K).forEach(function(Q){L.scroll.formatAt(F,O.length,Q,K[Q])}),this.update(new u.default().retain(F).insert(O,(0,_.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==b.default.blotName||F.children.length>1?!1:F.children.head instanceof T.default}},{key:"removeFormat",value:function(F,O){var L=this.getText(F,O),K=this.scroll.line(F+O),Q=o(K,2),U=Q[0],Z=Q[1],pe=0,me=new u.default;U!=null&&(U instanceof m.default?pe=U.newlineIndex(Z)-Z+1:pe=U.length()-Z,me=U.delta().slice(Z,Z+pe-1).insert(`
`));var ye=this.getContents(F,O+pe),Fe=ye.diff(new u.default().insert(L).concat(me)),Y=new u.default().retain(F).concat(Fe);return this.applyDelta(Y)}},{key:"update",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(O.length===1&&O[0].type==="characterData"&&O[0].target.data.match(V)&&p.default.find(O[0].target)){var Q=p.default.find(O[0].target),U=(0,x.bubbleFormats)(Q),Z=Q.offset(this.scroll),pe=O[0].oldValue.replace(v.default.CONTENTS,""),me=new u.default().insert(pe),ye=new u.default().insert(Q.value()),Fe=new u.default().retain(Z).concat(me.diff(ye,L));F=Fe.reduce(function(Y,ve){return ve.insert?Y.insert(ve.insert,U):Y.push(ve)},new u.default),this.delta=K.compose(F)}else this.delta=this.getDelta(),(!F||!(0,k.default)(K.compose(F),this.delta))&&(F=K.diff(this.delta,L));return F}}]),P}();function H(P,W){return Object.keys(W).reduce(function(F,O){return P[O]==null||(W[O]===P[O]?F[O]=W[O]:Array.isArray(W[O])?W[O].indexOf(P[O])<0&&(F[O]=W[O].concat([P[O]])):F[O]=[W[O],P[O]]),F},{})}function G(P){return P.reduce(function(W,F){if(F.insert===1){var O=(0,_.default)(F.attributes);return delete O.image,W.insert({image:F.attributes.image},O)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,_.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var L=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(L,F.attributes)}return W.push(F)},new u.default)}r.default=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function N(k,j){var D=[],E=!0,I=!1,R=void 0;try{for(var V=k[Symbol.iterator](),M;!(E=(M=V.next()).done)&&(D.push(M.value),!(j&&D.length===j));E=!0);}catch(H){I=!0,R=H}finally{try{!E&&V.return&&V.return()}finally{if(I)throw R}}return D}return function(k,j){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(k,j){for(var D=0;D<j.length;D++){var E=j[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,j,D){return j&&N(k.prototype,j),D&&N(k,D),k}}(),c=i(0),l=v(c),u=i(21),d=v(u),f=i(11),h=v(f),p=i(8),y=v(p),m=i(10),g=v(m);function v(N){return N&&N.__esModule?N:{default:N}}function x(N){if(Array.isArray(N)){for(var k=0,j=Array(N.length);k<N.length;k++)j[k]=N[k];return j}else return Array.from(N)}function b(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}var w=(0,g.default)("quill:selection"),T=function N(k){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,N),this.index=k,this.length=j},C=function(){function N(k,j){var D=this;b(this,N),this.emitter=j,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){D.mouseDown||setTimeout(D.update.bind(D,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(E,I){E===y.default.events.TEXT_CHANGE&&I.length()>0&&D.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(D.hasFocus()){var E=D.getNativeRange();E!=null&&E.start.node!==D.cursor.textNode&&D.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{D.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(E,I){if(I.range){var R=I.range,V=R.startNode,M=R.startOffset,H=R.endNode,G=R.endOffset;D.setNativeRange(V,M,H,G)}}),this.update(y.default.sources.SILENT)}return o(N,[{key:"handleComposition",value:function(){var j=this;this.root.addEventListener("compositionstart",function(){j.composing=!0}),this.root.addEventListener("compositionend",function(){if(j.composing=!1,j.cursor.parent){var D=j.cursor.restore();if(!D)return;setTimeout(function(){j.setNativeRange(D.startNode,D.startOffset,D.endNode,D.endOffset)},1)}})}},{key:"handleDragging",value:function(){var j=this;this.emitter.listenDOM("mousedown",document.body,function(){j.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){j.mouseDown=!1,j.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(j,D){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[j])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||l.default.query(j,l.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var I=l.default.find(E.start.node,!1);if(I==null)return;if(I instanceof l.default.Leaf){var R=I.split(E.start.offset);I.parent.insertBefore(this.cursor,R)}else I.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(j,D),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();j=Math.min(j,E-1),D=Math.min(j+D,E-1)-j;var I=void 0,R=this.scroll.leaf(j),V=s(R,2),M=V[0],H=V[1];if(M==null)return null;var G=M.position(H,!0),P=s(G,2);I=P[0],H=P[1];var W=document.createRange();if(D>0){W.setStart(I,H);var F=this.scroll.leaf(j+D),O=s(F,2);if(M=O[0],H=O[1],M==null)return null;var L=M.position(H,!0),K=s(L,2);return I=K[0],H=K[1],W.setEnd(I,H),W.getBoundingClientRect()}else{var Q="left",U=void 0;return I instanceof Text?(H<I.data.length?(W.setStart(I,H),W.setEnd(I,H+1)):(W.setStart(I,H-1),W.setEnd(I,H),Q="right"),U=W.getBoundingClientRect()):(U=M.domNode.getBoundingClientRect(),H>0&&(Q="right")),{bottom:U.top+U.height,height:U.height,left:U[Q],right:U[Q],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var j=document.getSelection();if(j==null||j.rangeCount<=0)return null;var D=j.getRangeAt(0);if(D==null)return null;var E=this.normalizeNative(D);return w.info("getNativeRange",E),E}},{key:"getRange",value:function(){var j=this.getNativeRange();if(j==null)return[null,null];var D=this.normalizedToRange(j);return[D,j]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(j){var D=this,E=[[j.start.node,j.start.offset]];j.native.collapsed||E.push([j.end.node,j.end.offset]);var I=E.map(function(M){var H=s(M,2),G=H[0],P=H[1],W=l.default.find(G,!0),F=W.offset(D.scroll);return P===0?F:W instanceof l.default.Container?F+W.length():F+W.index(G,P)}),R=Math.min(Math.max.apply(Math,x(I)),this.scroll.length()-1),V=Math.min.apply(Math,[R].concat(x(I)));return new T(V,R-V)}},{key:"normalizeNative",value:function(j){if(!_(this.root,j.startContainer)||!j.collapsed&&!_(this.root,j.endContainer))return null;var D={start:{node:j.startContainer,offset:j.startOffset},end:{node:j.endContainer,offset:j.endOffset},native:j};return[D.start,D.end].forEach(function(E){for(var I=E.node,R=E.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>R)I=I.childNodes[R],R=0;else if(I.childNodes.length===R)I=I.lastChild,R=I instanceof Text?I.data.length:I.childNodes.length+1;else break;E.node=I,E.offset=R}),D}},{key:"rangeToNative",value:function(j){var D=this,E=j.collapsed?[j.index]:[j.index,j.index+j.length],I=[],R=this.scroll.length();return E.forEach(function(V,M){V=Math.min(R-1,V);var H=void 0,G=D.scroll.leaf(V),P=s(G,2),W=P[0],F=P[1],O=W.position(F,M!==0),L=s(O,2);H=L[0],F=L[1],I.push(H,F)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(j){var D=this.lastRange;if(D!=null){var E=this.getBounds(D.index,D.length);if(E!=null){var I=this.scroll.length()-1,R=this.scroll.line(Math.min(D.index,I)),V=s(R,1),M=V[0],H=M;if(D.length>0){var G=this.scroll.line(Math.min(D.index+D.length,I)),P=s(G,1);H=P[0]}if(!(M==null||H==null)){var W=j.getBoundingClientRect();E.top<W.top?j.scrollTop-=W.top-E.top:E.bottom>W.bottom&&(j.scrollTop+=E.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(j,D){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",j,D,E,I),!(j!=null&&(this.root.parentNode==null||j.parentNode==null||E.parentNode==null))){var V=document.getSelection();if(V!=null)if(j!=null){this.hasFocus()||this.root.focus();var M=(this.getNativeRange()||{}).native;if(M==null||R||j!==M.startContainer||D!==M.startOffset||E!==M.endContainer||I!==M.endOffset){j.tagName=="BR"&&(D=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode),E.tagName=="BR"&&(I=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var H=document.createRange();H.setStart(j,D),H.setEnd(E,I),V.removeAllRanges(),V.addRange(H)}}else V.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof D=="string"&&(E=D,D=!1),w.info("setRange",j),j!=null){var I=this.rangeToNative(j);this.setNativeRange.apply(this,x(I).concat([D]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,D=this.lastRange,E=this.getRange(),I=s(E,2),R=I[0],V=I[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(D,this.lastRange)){var M;!this.composing&&V!=null&&V.native.collapsed&&V.start.node!==this.cursor.textNode&&this.cursor.restore();var H=[y.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(D),j];if((M=this.emitter).emit.apply(M,[y.default.events.EDITOR_CHANGE].concat(H)),j!==y.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,H)}}}}]),N}();function _(N,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),N.contains(k)}r.Range=T,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,v){return g&&y(m.prototype,g),v&&y(m,v),m}}(),o=function y(m,g,v){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,g,v)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(v)}},c=i(0),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"insertInto",value:function(v,x){v.children.length===0?o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){f(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),c=i(30),l=i(1),u=function(f){s(h,f);function h(p){var y=f.call(this,p)||this;return y.build(),y}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var m=d(y);p.insertBefore(m,p.children.head||void 0)}catch(g){if(g instanceof l.ParchmentError)return;throw g}})},h.prototype.deleteAt=function(p,y){if(p===0&&y===this.length())return this.remove();this.children.forEachAt(p,y,function(m,g,v){m.deleteAt(g,v)})},h.prototype.descendant=function(p,y){var m=this.children.find(y),g=m[0],v=m[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,v]:g instanceof h?g.descendant(p,v):[null,-1]},h.prototype.descendants=function(p,y,m){y===void 0&&(y=0),m===void 0&&(m=Number.MAX_VALUE);var g=[],v=m;return this.children.forEachAt(y,m,function(x,b,w){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&g.push(x),x instanceof h&&(g=g.concat(x.descendants(p,b,v))),v-=w}),g},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,y,m,g){this.children.forEachAt(p,y,function(v,x,b){v.formatAt(x,b,m,g)})},h.prototype.insertAt=function(p,y,m){var g=this.children.find(p),v=g[0],x=g[1];if(v)v.insertAt(x,y,m);else{var b=m==null?l.create("text",y):l.create(y,m);this.appendChild(b)}},h.prototype.insertBefore=function(p,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return p instanceof m}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,y)},h.prototype.length=function(){return this.children.reduce(function(p,y){return p+y.length()},0)},h.prototype.moveChildren=function(p,y){this.children.forEach(function(m){p.insertBefore(m,y)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(p)}else this.remove()},h.prototype.path=function(p,y){y===void 0&&(y=!1);var m=this.children.find(p,y),g=m[0],v=m[1],x=[[this,p]];return g instanceof h?x.concat(g.path(v,y)):(g!=null&&x.push([g,v]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,y){if(y===void 0&&(y=!1),!y){if(p===0)return this;if(p===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(p,this.length(),function(g,v,x){g=g.split(v,y),m.appendChild(g)}),m},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,y){var m=this,g=[],v=[];p.forEach(function(x){x.target===m.domNode&&x.type==="childList"&&(g.push.apply(g,x.addedNodes),v.push.apply(v,x.removedNodes))}),v.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(x);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),g.filter(function(x){return x.parentNode==m.domNode}).sort(function(x,b){return x===b?0:x.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var b=null;x.nextSibling!=null&&(b=l.find(x.nextSibling));var w=d(x);(w.next!=b||w.next==null)&&(w.parent!=null&&w.parent.removeChild(m),m.insertBefore(w,b||void 0))})},h}(c.default);function d(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(y){h.domNode.appendChild(y)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){f(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),c=i(31),l=i(17),u=i(1),d=function(f){s(h,f);function h(p){var y=f.call(this,p)||this;return y.attributes=new c.default(y.domNode),y}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,y){var m=u.query(p);m instanceof o.default?this.attributes.attribute(m,y):y&&m!=null&&(p!==this.statics.blotName||this.formats()[p]!==y)&&this.replaceWith(p,y)},h.prototype.formats=function(){var p=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(p[this.statics.blotName]=y),p},h.prototype.replaceWith=function(p,y){var m=f.prototype.replaceWith.call(this,p,y);return this.attributes.copy(m),m},h.prototype.update=function(p,y){var m=this;f.prototype.update.call(this,p,y),p.some(function(g){return g.target===m.domNode&&g.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,y){var m=f.prototype.wrap.call(this,p,y);return m instanceof h&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},h}(l.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),c=i(1),l=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},d.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=c.Scope.INLINE_BLOT,d}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),c={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=o(!0,{},d);f||(h=Object.keys(h).reduce(function(y,m){return h[m]!=null&&(y[m]=h[m]),y},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(h,p){return s(u[p],d[p])||(h[p]=d[p]===void 0?null:d[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var h=Object.keys(d).reduce(function(p,y){return u[y]===void 0&&(p[y]=d[y]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,h=c.length(d);if(u>=h-f?(u=h-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(f,u):p.insert=d.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(h)}else return[]},n.exports=c},function(n,r){var i=function(){function s(m,g){return g!=null&&m instanceof g}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(m,g,v,x,b){typeof g=="object"&&(v=g.depth,x=g.prototype,b=g.includeNonEnumerable,g=g.circular);var w=[],T=[],C=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof v>"u"&&(v=1/0);function _(N,k){if(N===null)return null;if(k===0)return N;var j,D;if(typeof N!="object")return N;if(s(N,o))j=new o;else if(s(N,c))j=new c;else if(s(N,l))j=new l(function(W,F){N.then(function(O){W(_(O,k-1))},function(O){F(_(O,k-1))})});else if(u.__isArray(N))j=[];else if(u.__isRegExp(N))j=new RegExp(N.source,y(N)),N.lastIndex&&(j.lastIndex=N.lastIndex);else if(u.__isDate(N))j=new Date(N.getTime());else{if(C&&Buffer.isBuffer(N))return Buffer.allocUnsafe?j=Buffer.allocUnsafe(N.length):j=new Buffer(N.length),N.copy(j),j;s(N,Error)?j=Object.create(N):typeof x>"u"?(D=Object.getPrototypeOf(N),j=Object.create(D)):(j=Object.create(x),D=x)}if(g){var E=w.indexOf(N);if(E!=-1)return T[E];w.push(N),T.push(j)}s(N,o)&&N.forEach(function(W,F){var O=_(F,k-1),L=_(W,k-1);j.set(O,L)}),s(N,c)&&N.forEach(function(W){var F=_(W,k-1);j.add(F)});for(var I in N){var R;D&&(R=Object.getOwnPropertyDescriptor(D,I)),!(R&&R.set==null)&&(j[I]=_(N[I],k-1))}if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(N),I=0;I<V.length;I++){var M=V[I],H=Object.getOwnPropertyDescriptor(N,M);H&&!H.enumerable&&!b||(j[M]=_(N[M],k-1),H.enumerable||Object.defineProperty(j,M,{enumerable:!1}))}if(b)for(var G=Object.getOwnPropertyNames(N),I=0;I<G.length;I++){var P=G[I],H=Object.getOwnPropertyDescriptor(N,P);H&&H.enumerable||(j[P]=_(N[P],k-1),Object.defineProperty(j,P,{enumerable:!1}))}return j}return _(m,v)}u.clonePrototype=function(g){if(g===null)return null;var v=function(){};return v.prototype=g,new v};function d(m){return Object.prototype.toString.call(m)}u.__objToStr=d;function f(m){return typeof m=="object"&&d(m)==="[object Date]"}u.__isDate=f;function h(m){return typeof m=="object"&&d(m)==="[object Array]"}u.__isArray=h;function p(m){return typeof m=="object"&&d(m)==="[object RegExp]"}u.__isRegExp=p;function y(m){var g="";return m.global&&(g+="g"),m.ignoreCase&&(g+="i"),m.multiline&&(g+="m"),g}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function j(D,E){var I=[],R=!0,V=!1,M=void 0;try{for(var H=D[Symbol.iterator](),G;!(R=(G=H.next()).done)&&(I.push(G.value),!(E&&I.length===E));R=!0);}catch(P){V=!0,M=P}finally{try{!R&&H.return&&H.return()}finally{if(V)throw M}}return I}return function(D,E){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return j(D,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function j(D,E){for(var I=0;I<E.length;I++){var R=E[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,E,I){return E&&j(D.prototype,E),I&&j(D,I),D}}(),c=function j(D,E,I){D===null&&(D=Function.prototype);var R=Object.getOwnPropertyDescriptor(D,E);if(R===void 0){var V=Object.getPrototypeOf(D);return V===null?void 0:j(V,E,I)}else{if("value"in R)return R.value;var M=R.get;return M===void 0?void 0:M.call(I)}},l=i(0),u=w(l),d=i(8),f=w(d),h=i(4),p=w(h),y=i(16),m=w(y),g=i(13),v=w(g),x=i(25),b=w(x);function w(j){return j&&j.__esModule?j:{default:j}}function T(j,D){if(!(j instanceof D))throw new TypeError("Cannot call a class as a function")}function C(j,D){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:j}function _(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);j.prototype=Object.create(D&&D.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(j,D):j.__proto__=D)}function N(j){return j instanceof p.default||j instanceof h.BlockEmbed}var k=function(j){_(D,j);function D(E,I){T(this,D);var R=C(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,E));return R.emitter=I.emitter,Array.isArray(I.whitelist)&&(R.whitelist=I.whitelist.reduce(function(V,M){return V[M]=!0,V},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return o(D,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,R){var V=this.line(I),M=s(V,2),H=M[0],G=M[1],P=this.line(I+R),W=s(P,1),F=W[0];if(c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,I,R),F!=null&&H!==F&&G>0){if(H instanceof h.BlockEmbed||F instanceof h.BlockEmbed){this.optimize();return}if(H instanceof v.default){var O=H.newlineIndex(H.length(),!0);if(O>-1&&(H=H.split(O+1),H===F)){this.optimize();return}}else if(F instanceof v.default){var L=F.newlineIndex(0);L>-1&&F.split(L+1)}var K=F.children.head instanceof m.default?null:F.children.head;H.moveChildren(F,K),H.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,R,V,M){this.whitelist!=null&&!this.whitelist[V]||(c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,I,R,V,M),this.optimize())}},{key:"insertAt",value:function(I,R,V){if(!(V!=null&&this.whitelist!=null&&!this.whitelist[R])){if(I>=this.length())if(V==null||u.default.query(R,u.default.Scope.BLOCK)==null){var M=u.default.create(this.statics.defaultChild);this.appendChild(M),V==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),M.insertAt(0,R,V)}else{var H=u.default.create(R,V);this.appendChild(H)}else c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,I,R,V);this.optimize()}}},{key:"insertBefore",value:function(I,R){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var V=u.default.create(this.statics.defaultChild);V.appendChild(I),I=V}c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,I,R)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(N,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,V=function M(H,G,P){var W=[],F=P;return H.children.forEachAt(G,P,function(O,L,K){N(O)?W.push(O):O instanceof u.default.Container&&(W=W.concat(M(O,L,F))),F-=K}),W};return V(this,I,R)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,I,R),I.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,I,R))}},{key:"path",value:function(I){return c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var R=f.default.sources.USER;typeof I=="string"&&(R=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,R,I),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,R,I)}}}]),D}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,h.BlockEmbed,b.default],r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(Z,pe){var me=[],ye=!0,Fe=!1,Y=void 0;try{for(var ve=Z[Symbol.iterator](),B;!(ye=(B=ve.next()).done)&&(me.push(B.value),!(pe&&me.length===pe));ye=!0);}catch(_e){Fe=!0,Y=_e}finally{try{!ye&&ve.return&&ve.return()}finally{if(Fe)throw Y}}return me}return function(Z,pe){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return U(Z,pe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function U(Z,pe){for(var me=0;me<pe.length;me++){var ye=pe[me];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(Z,ye.key,ye)}}return function(Z,pe,me){return pe&&U(Z.prototype,pe),me&&U(Z,me),Z}}(),l=i(21),u=j(l),d=i(11),f=j(d),h=i(3),p=j(h),y=i(2),m=j(y),g=i(20),v=j(g),x=i(0),b=j(x),w=i(5),T=j(w),C=i(10),_=j(C),N=i(9),k=j(N);function j(U){return U&&U.__esModule?U:{default:U}}function D(U,Z,pe){return Z in U?Object.defineProperty(U,Z,{value:pe,enumerable:!0,configurable:!0,writable:!0}):U[Z]=pe,U}function E(U,Z){if(!(U instanceof Z))throw new TypeError("Cannot call a class as a function")}function I(U,Z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:U}function R(U,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);U.prototype=Object.create(Z&&Z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(U,Z):U.__proto__=Z)}var V=(0,_.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",H=function(U){R(Z,U),c(Z,null,[{key:"match",value:function(me,ye){return ye=Q(ye),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Fe){return!!ye[Fe]!==me[Fe]&&ye[Fe]!==null})?!1:ye.key===(me.which||me.keyCode)}}]);function Z(pe,me){E(this,Z);var ye=I(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,pe,me));return ye.bindings={},Object.keys(ye.options.bindings).forEach(function(Fe){Fe==="list autofill"&&pe.scroll.whitelist!=null&&!pe.scroll.whitelist.list||ye.options.bindings[Fe]&&ye.addBinding(ye.options.bindings[Fe])}),ye.addBinding({key:Z.keys.ENTER,shiftKey:null},O),ye.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ye.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},P),ye.addBinding({key:Z.keys.DELETE},{collapsed:!0},W)):(ye.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},P),ye.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),ye.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},F),ye.addBinding({key:Z.keys.DELETE},{collapsed:!1},F),ye.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},P),ye.listen(),ye}return c(Z,[{key:"addBinding",value:function(me){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=Q(me);if(Y==null||Y.key==null)return V.warn("Attempted to add invalid keyboard binding",Y);typeof ye=="function"&&(ye={handler:ye}),typeof Fe=="function"&&(Fe={handler:Fe}),Y=(0,p.default)(Y,ye,Fe),this.bindings[Y.key]=this.bindings[Y.key]||[],this.bindings[Y.key].push(Y)}},{key:"listen",value:function(){var me=this;this.quill.root.addEventListener("keydown",function(ye){if(!ye.defaultPrevented){var Fe=ye.which||ye.keyCode,Y=(me.bindings[Fe]||[]).filter(function(Oe){return Z.match(ye,Oe)});if(Y.length!==0){var ve=me.quill.getSelection();if(!(ve==null||!me.quill.hasFocus())){var B=me.quill.getLine(ve.index),_e=o(B,2),Ee=_e[0],se=_e[1],J=me.quill.getLeaf(ve.index),de=o(J,2),X=de[0],ue=de[1],te=ve.length===0?[X,ue]:me.quill.getLeaf(ve.index+ve.length),oe=o(te,2),le=oe[0],ae=oe[1],Te=X instanceof b.default.Text?X.value().slice(0,ue):"",Ue=le instanceof b.default.Text?le.value().slice(ae):"",qe={collapsed:ve.length===0,empty:ve.length===0&&Ee.length()<=1,format:me.quill.getFormat(ve),offset:se,prefix:Te,suffix:Ue},nt=Y.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==qe.collapsed||Oe.empty!=null&&Oe.empty!==qe.empty||Oe.offset!=null&&Oe.offset!==qe.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(Le){return qe.format[Le]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(Le){return Oe.format[Le]===!0?qe.format[Le]!=null:Oe.format[Le]===!1?qe.format[Le]==null:(0,f.default)(Oe.format[Le],qe.format[Le])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(qe.prefix)||Oe.suffix!=null&&!Oe.suffix.test(qe.suffix)?!1:Oe.handler.call(me,ve,qe)!==!0});nt&&ye.preventDefault()}}}})}}]),Z}(k.default);H.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},H.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:H.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,pe){if(pe.collapsed&&pe.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:H.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,pe){if(pe.collapsed&&pe.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:H.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,pe){pe.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):pe.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:H.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,T.default.sources.USER)}},tab:{key:H.keys.TAB,handler:function(Z){this.quill.history.cutoff();var pe=new m.default().retain(Z.index).delete(Z.length).insert("	");this.quill.updateContents(pe,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,T.default.sources.SILENT)}},"list empty enter":{key:H.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,pe){this.quill.format("list",!1,T.default.sources.USER),pe.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:H.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var pe=this.quill.getLine(Z.index),me=o(pe,2),ye=me[0],Fe=me[1],Y=(0,p.default)({},ye.formats(),{list:"checked"}),ve=new m.default().retain(Z.index).insert(`
`,Y).retain(ye.length()-Fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,T.default.sources.USER),this.quill.setSelection(Z.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:H.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,pe){var me=this.quill.getLine(Z.index),ye=o(me,2),Fe=ye[0],Y=ye[1],ve=new m.default().retain(Z.index).insert(`
`,pe.format).retain(Fe.length()-Y-1).retain(1,{header:null});this.quill.updateContents(ve,T.default.sources.USER),this.quill.setSelection(Z.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,pe){var me=pe.prefix.length,ye=this.quill.getLine(Z.index),Fe=o(ye,2),Y=Fe[0],ve=Fe[1];if(ve>me)return!0;var B=void 0;switch(pe.prefix.trim()){case"[]":case"[ ]":B="unchecked";break;case"[x]":B="checked";break;case"-":case"*":B="bullet";break;default:B="ordered"}this.quill.insertText(Z.index," ",T.default.sources.USER),this.quill.history.cutoff();var _e=new m.default().retain(Z.index-ve).delete(me+1).retain(Y.length()-2-ve).retain(1,{list:B});this.quill.updateContents(_e,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-me,T.default.sources.SILENT)}},"code exit":{key:H.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var pe=this.quill.getLine(Z.index),me=o(pe,2),ye=me[0],Fe=me[1],Y=new m.default().retain(Z.index+ye.length()-Fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Y,T.default.sources.USER)}},"embed left":G(H.keys.LEFT,!1),"embed left shift":G(H.keys.LEFT,!0),"embed right":G(H.keys.RIGHT,!1),"embed right shift":G(H.keys.RIGHT,!0)}};function G(U,Z){var pe,me=U===H.keys.LEFT?"prefix":"suffix";return pe={key:U,shiftKey:Z,altKey:null},D(pe,me,/^$/),D(pe,"handler",function(Fe){var Y=Fe.index;U===H.keys.RIGHT&&(Y+=Fe.length+1);var ve=this.quill.getLeaf(Y),B=o(ve,1),_e=B[0];return _e instanceof b.default.Embed?(U===H.keys.LEFT?Z?this.quill.setSelection(Fe.index-1,Fe.length+1,T.default.sources.USER):this.quill.setSelection(Fe.index-1,T.default.sources.USER):Z?this.quill.setSelection(Fe.index,Fe.length+1,T.default.sources.USER):this.quill.setSelection(Fe.index+Fe.length+1,T.default.sources.USER),!1):!0}),pe}function P(U,Z){if(!(U.index===0||this.quill.getLength()<=1)){var pe=this.quill.getLine(U.index),me=o(pe,1),ye=me[0],Fe={};if(Z.offset===0){var Y=this.quill.getLine(U.index-1),ve=o(Y,1),B=ve[0];if(B!=null&&B.length()>1){var _e=ye.formats(),Ee=this.quill.getFormat(U.index-1,1);Fe=v.default.attributes.diff(_e,Ee)||{}}}var se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(U.index-se,se,T.default.sources.USER),Object.keys(Fe).length>0&&this.quill.formatLine(U.index-se,se,Fe,T.default.sources.USER),this.quill.focus()}}function W(U,Z){var pe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(U.index>=this.quill.getLength()-pe)){var me={},ye=0,Fe=this.quill.getLine(U.index),Y=o(Fe,1),ve=Y[0];if(Z.offset>=ve.length()-1){var B=this.quill.getLine(U.index+1),_e=o(B,1),Ee=_e[0];if(Ee){var se=ve.formats(),J=this.quill.getFormat(U.index,1);me=v.default.attributes.diff(se,J)||{},ye=Ee.length()}}this.quill.deleteText(U.index,pe,T.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(U.index+ye-1,pe,me,T.default.sources.USER)}}function F(U){var Z=this.quill.getLines(U),pe={};if(Z.length>1){var me=Z[0].formats(),ye=Z[Z.length-1].formats();pe=v.default.attributes.diff(ye,me)||{}}this.quill.deleteText(U,T.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(U.index,1,pe,T.default.sources.USER),this.quill.setSelection(U.index,T.default.sources.SILENT),this.quill.focus()}function O(U,Z){var pe=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var me=Object.keys(Z.format).reduce(function(ye,Fe){return b.default.query(Fe,b.default.Scope.BLOCK)&&!Array.isArray(Z.format[Fe])&&(ye[Fe]=Z.format[Fe]),ye},{});this.quill.insertText(U.index,`
`,me,T.default.sources.USER),this.quill.setSelection(U.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(ye){me[ye]==null&&(Array.isArray(Z.format[ye])||ye!=="link"&&pe.quill.format(ye,Z.format[ye],T.default.sources.USER))})}function L(U){return{key:H.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(pe){var me=b.default.query("code-block"),ye=pe.index,Fe=pe.length,Y=this.quill.scroll.descendant(me,ye),ve=o(Y,2),B=ve[0],_e=ve[1];if(B!=null){var Ee=this.quill.getIndex(B),se=B.newlineIndex(_e,!0)+1,J=B.newlineIndex(Ee+_e+Fe),de=B.domNode.textContent.slice(se,J).split(`
`);_e=0,de.forEach(function(X,ue){U?(B.insertAt(se+_e,me.TAB),_e+=me.TAB.length,ue===0?ye+=me.TAB.length:Fe+=me.TAB.length):X.startsWith(me.TAB)&&(B.deleteAt(se+_e,me.TAB.length),_e-=me.TAB.length,ue===0?ye-=me.TAB.length:Fe-=me.TAB.length),_e+=X.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(ye,Fe,T.default.sources.SILENT)}}}}function K(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(pe,me){this.quill.format(U,!me.format[U],T.default.sources.USER)}}}function Q(U){if(typeof U=="string"||typeof U=="number")return Q({key:U});if((typeof U>"u"?"undefined":s(U))==="object"&&(U=(0,u.default)(U,!1)),typeof U.key=="string")if(H.keys[U.key.toUpperCase()]!=null)U.key=H.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[M]=U.shortKey,delete U.shortKey),U}r.default=H,r.SHORTKEY=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(x,b){var w=[],T=!0,C=!1,_=void 0;try{for(var N=x[Symbol.iterator](),k;!(T=(k=N.next()).done)&&(w.push(k.value),!(b&&w.length===b));T=!0);}catch(j){C=!0,_=j}finally{try{!T&&N.return&&N.return()}finally{if(C)throw _}}return w}return function(x,b){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return v(x,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function v(x,b,w){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,b);if(T===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:v(C,b,w)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(w)}},c=function(){function v(x,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,b,w){return b&&v(x.prototype,b),w&&v(x,w),x}}(),l=i(0),u=h(l),d=i(7),f=h(d);function h(v){return v&&v.__esModule?v:{default:v}}function p(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function y(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var g=function(v){m(x,v),c(x,null,[{key:"value",value:function(){}}]);function x(b,w){p(this,x);var T=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return T.selection=w,T.textNode=document.createTextNode(x.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return c(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,T){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,w,T);for(var C=this,_=0;C!=null&&C.statics.scope!==u.default.Scope.BLOCK_BLOT;)_+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=x.CONTENTS.length,C.optimize(),C.formatAt(_,x.CONTENTS.length,w,T),this._length=0)}},{key:"index",value:function(w,T){return w===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,w,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,T=this.selection.getNativeRange(),C=void 0,_=void 0,N=void 0;if(T!=null&&T.start.node===w&&T.end.node===w){var k=[w,T.start.offset,T.end.offset];C=k[0],_=k[1],N=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var j=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(C=this.next.domNode,this.next.insertAt(0,j),this.textNode.data=x.CONTENTS):(this.textNode.data=j,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var D=[_,N].map(function(I){return Math.max(0,Math.min(C.data.length,I-1))}),E=s(D,2);return _=E[0],N=E[1],{startNode:C,startOffset:_,endNode:C,endOffset:N}}}}},{key:"update",value:function(w,T){var C=this;if(w.some(function(N){return N.type==="characterData"&&N.target===C.textNode})){var _=this.restore();_&&(T.range=_)}}},{key:"value",value:function(){return""}}]),x}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=u(s),c=i(4),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Container);p.allowedChildren=[l.default,c.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function g(v,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,x,b){return x&&g(v.prototype,x),b&&g(v,b),v}}(),o=function g(v,x,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,x);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:g(T,x,b)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(b)}},c=i(0),l=u(c);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var p=function(g){h(v,g);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(b){var w=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):w}}]),v}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=y,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function m(g,v){for(var x=0;x<v.length;x++){var b=v[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,x){return v&&m(g.prototype,v),x&&m(g,x),g}}(),o=function m(g,v,x){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,v,x)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(x)}},c=i(6),l=u(c);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){h(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(x,b){if(x!==this.statics.blotName||!b)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(x){var b=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return x=this.sanitize(x),b.setAttribute("href",x),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return y(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),g}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(m,g){var v=document.createElement("a");v.href=m;var x=v.href.slice(0,v.href.indexOf(":"));return g.indexOf(x)>-1}r.default=p,r.sanitize=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(v,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,x,b){return x&&g(v.prototype,x),b&&g(v,b),v}}(),c=i(23),l=f(c),u=i(107),d=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}var p=0;function y(g,v){g.setAttribute(v,g.getAttribute(v)!=="true")}var m=function(){function g(v){var x=this;h(this,g),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var b=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),x.hasAttribute("value")&&w.setAttribute("data-value",x.getAttribute("value")),x.textContent&&w.setAttribute("data-label",x.textContent),w.addEventListener("click",function(){b.selectItem(w,!0)}),w.addEventListener("keydown",function(T){switch(T.keyCode){case l.default.keys.ENTER:b.selectItem(w,!0),T.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),T.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=d.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(w){var T=x.buildItem(w);b.appendChild(T),w.selected===!0&&x.selectItem(T)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(b){x.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(x!==w&&(w!=null&&w.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var w=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),g}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=V(s),c=i(5),l=V(c),u=i(4),d=V(u),f=i(16),h=V(f),p=i(25),y=V(p),m=i(24),g=V(m),v=i(35),x=V(v),b=i(6),w=V(b),T=i(22),C=V(T),_=i(7),N=V(_),k=i(55),j=V(k),D=i(42),E=V(D),I=i(23),R=V(I);function V(M){return M&&M.__esModule?M:{default:M}}l.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":y.default,"blots/cursor":g.default,"blots/embed":x.default,"blots/inline":w.default,"blots/scroll":C.default,"blots/text":N.default,"modules/clipboard":j.default,"modules/history":E.default,"modules/keyboard":R.default}),o.default.register(d.default,h.default,g.default,w.default,C.default,N.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function c(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},c.prototype.deleteAt=function(l,u){var d=this.isolate(l,u);d.remove()},c.prototype.formatAt=function(l,u,d,f){var h=this.isolate(l,u);if(s.query(d,s.Scope.BLOT)!=null&&f)h.wrap(d,f);else if(s.query(d,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(d,f)}},c.prototype.insertAt=function(l,u,d){var f=d==null?s.create("text",u):s.create(u,d),h=this.split(l);this.parent.insertBefore(f,h)},c.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},c.prototype.isolate=function(l,u){var d=this.split(l);return d.split(u),d},c.prototype.length=function(){return 1},c.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},c.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},c.prototype.replaceWith=function(l,u){var d=typeof l=="string"?s.create(l,u):l;return d.replace(this),d},c.prototype.split=function(l,u){return l===0?this:this.next},c.prototype.update=function(l,u){},c.prototype.wrap=function(l,u){var d=typeof l=="string"?s.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},c.blotName="abstract",c}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),c=i(33),l=i(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=o.default.keys(this.domNode),y=c.default.keys(this.domNode);h.concat(p).concat(y).forEach(function(m){var g=l.query(m,l.Scope.ATTRIBUTE);g instanceof s.default&&(f.attributes[g.attrName]=g)})},d.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var y=h.attributes[p].value(h.domNode);f.format(p,y)})},d.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},d}();r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function c(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(d+"-")===0})}var l=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},d.prototype.remove=function(f){var h=c(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var h=c(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},d}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function c(u){var d=u.split("-"),f=d.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return d[0]+f}var l=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[c(this.keyName)]=h,!0):!1},d.prototype.remove=function(f){f.style[c(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var h=f.style[c(this.keyName)];return this.canAdd(f,h)?h:""},d}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,d){o(this,l),this.quill=u,this.options=d,this.modules={}}return s(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(x,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,b,w){return b&&v(x.prototype,b),w&&v(x,w),x}}(),o=function v(x,b,w){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,b);if(T===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:v(C,b,w)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(w)}},c=i(0),l=f(c),u=i(7),d=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function p(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function y(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var m="\uFEFF",g=function(v){y(x,v);function x(b){h(this,x);var w=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(T){w.contentNode.appendChild(T)}),w.leftGuard=document.createTextNode(m),w.rightGuard=document.createTextNode(m),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return s(x,[{key:"index",value:function(w,T){return w===this.leftGuard?0:w===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,w,T)}},{key:"restore",value:function(w){var T=void 0,C=void 0,_=w.data.split(m).join("");if(w===this.leftGuard)if(this.prev instanceof d.default){var N=this.prev.length();this.prev.insertAt(N,_),T={startNode:this.prev.domNode,startOffset:N+_.length}}else C=document.createTextNode(_),this.parent.insertBefore(l.default.create(C),this),T={startNode:C,startOffset:_.length};else w===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,_),T={startNode:this.next.domNode,startOffset:_.length}):(C=document.createTextNode(_),this.parent.insertBefore(l.default.create(C),this.next),T={startNode:C,startOffset:_.length}));return w.data=m,T}},{key:"update",value:function(w,T){var C=this;w.forEach(function(_){if(_.type==="characterData"&&(_.target===C.leftGuard||_.target===C.rightGuard)){var N=C.restore(_.target);N&&(T.range=N)}})}}]),x}(l.default.Embed);r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),d=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),c=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),d=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function v(x,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,b,w){return b&&v(x.prototype,b),w&&v(x,w),x}}(),o=function v(x,b,w){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,b);if(T===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:v(C,b,w)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(w)}},c=i(0),l=u(c);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function h(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",p),m=function(v){h(x,v);function x(){return d(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(w){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),x}(l.default.Attributor.Style),g=new m("font","font-family",p);r.FontStyle=g,r.FontClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=c(s);function c(d){return d&&d.__esModule?d:{default:d}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function b(w,T){for(var C=0;C<T.length;C++){var _=T[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,T,C){return T&&b(w.prototype,T),C&&b(w,C),w}}(),o=i(0),c=h(o),l=i(5),u=h(l),d=i(9),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function y(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){m(w,b);function w(T,C){p(this,w);var _=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,C));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(u.default.events.EDITOR_CHANGE,function(N,k,j,D){N!==u.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||D===u.default.sources.USER?_.record(k,j):_.transform(k))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return s(w,[{key:"change",value:function(C,_){if(this.stack[C].length!==0){var N=this.stack[C].pop();this.stack[_].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[C],u.default.sources.USER),this.ignoreChange=!1;var k=x(N[C]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,_){if(C.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(_),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var j=this.stack.undo.pop();N=N.compose(j.undo),C=j.redo.compose(C)}else this.lastRecorded=k;this.stack.undo.push({redo:C,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(_){_.undo=C.transform(_.undo,!0),_.redo=C.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=C.transform(_.undo,!0),_.redo=C.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var w=b.ops[b.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(T){return c.default.query(T,c.default.Scope.BLOCK)!=null}):!1}function x(b){var w=b.reduce(function(C,_){return C+=_.delete||0,C},0),T=b.length()-w;return v(b)&&(T-=1),T}r.default=g,r.getLastChangeIndex=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function O(L,K){for(var Q=0;Q<K.length;Q++){var U=K[Q];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,K,Q){return K&&O(L.prototype,K),Q&&O(L,Q),L}}(),o=function O(L,K,Q){L===null&&(L=Function.prototype);var U=Object.getOwnPropertyDescriptor(L,K);if(U===void 0){var Z=Object.getPrototypeOf(L);return Z===null?void 0:O(Z,K,Q)}else{if("value"in U)return U.value;var pe=U.get;return pe===void 0?void 0:pe.call(Q)}},c=i(3),l=k(c),u=i(2),d=k(u),f=i(8),h=k(f),p=i(23),y=k(p),m=i(34),g=k(m),v=i(59),x=k(v),b=i(60),w=k(b),T=i(28),C=k(T),_=i(61),N=k(_);function k(O){return O&&O.__esModule?O:{default:O}}function j(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function D(O,L){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:O}function E(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(O,L):O.__proto__=L)}var I=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V=[!1,"serif","monospace"],M=["1","2","3",!1],H=["small",!1,"large","huge"],G=function(O){E(L,O);function L(K,Q){j(this,L);var U=D(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,K,Q)),Z=function pe(me){if(!document.body.contains(K.root))return document.body.removeEventListener("click",pe);U.tooltip!=null&&!U.tooltip.root.contains(me.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(ye){ye.container.contains(me.target)||ye.close()})};return K.emitter.listenDOM("click",document.body,Z),U}return s(L,[{key:"addModule",value:function(Q){var U=o(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(Q,U){Q.forEach(function(Z){var pe=Z.getAttribute("class")||"";pe.split(/\s+/).forEach(function(me){if(me.startsWith("ql-")&&(me=me.slice(3),U[me]!=null))if(me==="direction")Z.innerHTML=U[me][""]+U[me].rtl;else if(typeof U[me]=="string")Z.innerHTML=U[me];else{var ye=Z.value||"";ye!=null&&U[me][ye]&&(Z.innerHTML=U[me][ye])}})})}},{key:"buildPickers",value:function(Q,U){var Z=this;this.pickers=Q.map(function(me){if(me.classList.contains("ql-align"))return me.querySelector("option")==null&&F(me,I),new w.default(me,U.align);if(me.classList.contains("ql-background")||me.classList.contains("ql-color")){var ye=me.classList.contains("ql-background")?"background":"color";return me.querySelector("option")==null&&F(me,R,ye==="background"?"#ffffff":"#000000"),new x.default(me,U[ye])}else return me.querySelector("option")==null&&(me.classList.contains("ql-font")?F(me,V):me.classList.contains("ql-header")?F(me,M):me.classList.contains("ql-size")&&F(me,H)),new C.default(me)});var pe=function(){Z.pickers.forEach(function(ye){ye.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,pe)}}]),L}(g.default);G.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var L=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var Q=new FileReader;Q.onload=function(U){var Z=L.quill.getSelection(!0);L.quill.updateContents(new d.default().retain(Z.index).delete(Z.length).insert({image:U.target.result}),h.default.sources.USER),L.quill.setSelection(Z.index+1,h.default.sources.SILENT),K.value=""},Q.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var P=function(O){E(L,O);function L(K,Q){j(this,L);var U=D(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,K,Q));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return s(L,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(U){y.default.match(U,"enter")?(Q.save(),U.preventDefault()):y.default.match(U,"escape")&&(Q.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":Q=W(Q);case"formula":{if(!Q)break;var Z=this.quill.getSelection(!0);if(Z!=null){var pe=Z.index+Z.length;this.quill.insertEmbed(pe,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(pe+1," ",h.default.sources.USER),this.quill.setSelection(pe+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),L}(N.default);function W(O){var L=O.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||O.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return L?(L[1]||"https")+"://www.youtube.com/embed/"+L[2]+"?showinfo=0":(L=O.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(L[1]||"https")+"://player.vimeo.com/video/"+L[2]+"/":O}function F(O,L){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;L.forEach(function(Q){var U=document.createElement("option");Q===K?U.setAttribute("selected","selected"):U.setAttribute("value",Q),O.appendChild(U)})}r.BaseTooltip=P,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var l,u=this.iterator();l=u();)if(l===c)return!0;return!1},o.prototype.insertBefore=function(c,l){c&&(c.next=l,l!=null?(c.prev=l.prev,l.prev!=null&&(l.prev.next=c),l.prev=c,l===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var l=0,u=this.head;u!=null;){if(u===c)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var l=c;return c!=null&&(c=c.next),l}},o.prototype.find=function(c,l){l===void 0&&(l=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(c<f||l&&c===f&&(u.next==null||u.next.length()!==0))return[u,c];c-=f}return[null,0]},o.prototype.forEach=function(c){for(var l,u=this.iterator();l=u();)c(l)},o.prototype.forEachAt=function(c,l,u){if(!(l<=0))for(var d=this.find(c),f=d[0],h=d[1],p,y=c-h,m=this.iterator(f);(p=m())&&y<c+l;){var g=p.length();c>y?u(p,c-y,Math.min(l,y+g-c)):u(p,0,Math.min(g,c+l-y)),y+=g}},o.prototype.map=function(c){return this.reduce(function(l,u){return l.push(c(u)),l},[])},o.prototype.reduce=function(c,l){for(var u,d=this.iterator();u=d();)l=c(l,u);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){f(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),c=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){s(h,f);function h(p){var y=f.call(this,p)||this;return y.scroll=y,y.observer=new MutationObserver(function(m){y.update(m)}),y.observer.observe(y.domNode,l),y.attach(),y}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,y){this.update(),p===0&&y===this.length()?this.children.forEach(function(m){m.remove()}):f.prototype.deleteAt.call(this,p,y)},h.prototype.formatAt=function(p,y,m,g){this.update(),f.prototype.formatAt.call(this,p,y,m,g)},h.prototype.insertAt=function(p,y,m){this.update(),f.prototype.insertAt.call(this,p,y,m)},h.prototype.optimize=function(p,y){var m=this;p===void 0&&(p=[]),y===void 0&&(y={}),f.prototype.optimize.call(this,y);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var v=function(T,C){C===void 0&&(C=!0),!(T==null||T===m)&&T.domNode.parentNode!=null&&(T.domNode[c.DATA_KEY].mutations==null&&(T.domNode[c.DATA_KEY].mutations=[]),C&&v(T.parent))},x=function(T){T.domNode[c.DATA_KEY]==null||T.domNode[c.DATA_KEY].mutations==null||(T instanceof o.default&&T.children.forEach(x),T.optimize(y))},b=p,w=0;b.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(T){var C=c.find(T.target,!0);C!=null&&(C.domNode===T.target&&(T.type==="childList"?(v(c.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(_){var N=c.find(_,!1);v(N,!1),N instanceof o.default&&N.children.forEach(function(k){v(k,!1)})})):T.type==="attributes"&&v(C.prev)),v(C))}),this.children.forEach(x),b=[].slice.call(this.observer.takeRecords()),g=b.slice();g.length>0;)p.push(g.pop())}},h.prototype.update=function(p,y){var m=this;y===void 0&&(y={}),p=p||this.observer.takeRecords(),p.map(function(g){var v=c.find(g.target,!0);return v==null?null:v.domNode[c.DATA_KEY].mutations==null?(v.domNode[c.DATA_KEY].mutations=[g],v):(v.domNode[c.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===m||g.domNode[c.DATA_KEY]==null||g.update(g.domNode[c.DATA_KEY].mutations||[],y)}),this.domNode[c.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,y),this.optimize(p,y)},h.blotName="scroll",h.defaultChild="block",h.scope=c.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),c=i(1);function l(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var h in d)if(d[h]!==f[h])return!1;return!0}var u=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return d.formats.call(this,h)},f.prototype.format=function(h,p){var y=this;h===this.statics.blotName&&!p?(this.children.forEach(function(m){m instanceof o.default||(m=m.wrap(f.blotName,!0)),y.attributes.copy(m)}),this.unwrap()):d.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,y,m){if(this.formats()[y]!=null||c.query(y,c.Scope.ATTRIBUTE)){var g=this.isolate(h,p);g.format(y,m)}else d.prototype.formatAt.call(this,h,p,y,m)},f.prototype.optimize=function(h){d.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var y=this.next;y instanceof f&&y.prev===this&&l(p,y.formats())&&(y.moveChildren(this),y.remove())},f.blotName="inline",f.scope=c.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),c=i(1),l=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var h=c.query(d.blotName).tagName;if(f.tagName!==h)return u.formats.call(this,f)},d.prototype.format=function(f,h){c.query(f,c.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(d.blotName):u.prototype.format.call(this,f,h))},d.prototype.formatAt=function(f,h,p,y){c.query(p,c.Scope.BLOCK)!=null?this.format(p,y):u.prototype.formatAt.call(this,f,h,p,y)},d.prototype.insertAt=function(f,h,p){if(p==null||c.query(h,c.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,h,p);else{var y=this.split(f),m=c.create(h,p);y.parent.insertBefore(m,y)}},d.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,h)},d.blotName="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="P",d}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){l(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),c=function(l){s(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){l.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,h,p){d===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,d,f,h,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),c=i(1),l=function(u){s(d,u);function d(f){var h=u.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},d.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},d.prototype.index=function(f,h){return this.domNode===f?h:-1},d.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,h,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,h){return[this.domNode,f]},d.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=c.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(f,h){var p=this;f.some(function(y){return y.type==="characterData"&&y.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=c.Scope.INLINE_BLOT,d}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,l){return arguments.length>1&&!this.contains(c)==!l?l:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,l){return l=l||0,this.substr(l,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=c.length;var d=u.indexOf(c,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],h,p=0;p<d;p++)if(h=u[p],l.call(f,h,p,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function c(w,T,C){if(w==T)return w?[[o,w]]:[];(C<0||w.length<C)&&(C=null);var _=f(w,T),N=w.substring(0,_);w=w.substring(_),T=T.substring(_),_=h(w,T);var k=w.substring(w.length-_);w=w.substring(0,w.length-_),T=T.substring(0,T.length-_);var j=l(w,T);return N&&j.unshift([o,N]),k&&j.push([o,k]),y(j),C!=null&&(j=v(j,C)),j=x(j),j}function l(w,T){var C;if(!w)return[[s,T]];if(!T)return[[i,w]];var _=w.length>T.length?w:T,N=w.length>T.length?T:w,k=_.indexOf(N);if(k!=-1)return C=[[s,_.substring(0,k)],[o,N],[s,_.substring(k+N.length)]],w.length>T.length&&(C[0][0]=C[2][0]=i),C;if(N.length==1)return[[i,w],[s,T]];var j=p(w,T);if(j){var D=j[0],E=j[1],I=j[2],R=j[3],V=j[4],M=c(D,I),H=c(E,R);return M.concat([[o,V]],H)}return u(w,T)}function u(w,T){for(var C=w.length,_=T.length,N=Math.ceil((C+_)/2),k=N,j=2*N,D=new Array(j),E=new Array(j),I=0;I<j;I++)D[I]=-1,E[I]=-1;D[k+1]=0,E[k+1]=0;for(var R=C-_,V=R%2!=0,M=0,H=0,G=0,P=0,W=0;W<N;W++){for(var F=-W+M;F<=W-H;F+=2){var O=k+F,L;F==-W||F!=W&&D[O-1]<D[O+1]?L=D[O+1]:L=D[O-1]+1;for(var K=L-F;L<C&&K<_&&w.charAt(L)==T.charAt(K);)L++,K++;if(D[O]=L,L>C)H+=2;else if(K>_)M+=2;else if(V){var Q=k+R-F;if(Q>=0&&Q<j&&E[Q]!=-1){var U=C-E[Q];if(L>=U)return d(w,T,L,K)}}}for(var Z=-W+G;Z<=W-P;Z+=2){var Q=k+Z,U;Z==-W||Z!=W&&E[Q-1]<E[Q+1]?U=E[Q+1]:U=E[Q-1]+1;for(var pe=U-Z;U<C&&pe<_&&w.charAt(C-U-1)==T.charAt(_-pe-1);)U++,pe++;if(E[Q]=U,U>C)P+=2;else if(pe>_)G+=2;else if(!V){var O=k+R-Z;if(O>=0&&O<j&&D[O]!=-1){var L=D[O],K=k+L-O;if(U=C-U,L>=U)return d(w,T,L,K)}}}}return[[i,w],[s,T]]}function d(w,T,C,_){var N=w.substring(0,C),k=T.substring(0,_),j=w.substring(C),D=T.substring(_),E=c(N,k),I=c(j,D);return E.concat(I)}function f(w,T){if(!w||!T||w.charAt(0)!=T.charAt(0))return 0;for(var C=0,_=Math.min(w.length,T.length),N=_,k=0;C<N;)w.substring(k,N)==T.substring(k,N)?(C=N,k=C):_=N,N=Math.floor((_-C)/2+C);return N}function h(w,T){if(!w||!T||w.charAt(w.length-1)!=T.charAt(T.length-1))return 0;for(var C=0,_=Math.min(w.length,T.length),N=_,k=0;C<N;)w.substring(w.length-N,w.length-k)==T.substring(T.length-N,T.length-k)?(C=N,k=C):_=N,N=Math.floor((_-C)/2+C);return N}function p(w,T){var C=w.length>T.length?w:T,_=w.length>T.length?T:w;if(C.length<4||_.length*2<C.length)return null;function N(H,G,P){for(var W=H.substring(P,P+Math.floor(H.length/4)),F=-1,O="",L,K,Q,U;(F=G.indexOf(W,F+1))!=-1;){var Z=f(H.substring(P),G.substring(F)),pe=h(H.substring(0,P),G.substring(0,F));O.length<pe+Z&&(O=G.substring(F-pe,F)+G.substring(F,F+Z),L=H.substring(0,P-pe),K=H.substring(P+Z),Q=G.substring(0,F-pe),U=G.substring(F+Z))}return O.length*2>=H.length?[L,K,Q,U,O]:null}var k=N(C,_,Math.ceil(C.length/4)),j=N(C,_,Math.ceil(C.length/2)),D;if(!k&&!j)return null;j?k?D=k[4].length>j[4].length?k:j:D=j:D=k;var E,I,R,V;w.length>T.length?(E=D[0],I=D[1],R=D[2],V=D[3]):(R=D[0],V=D[1],E=D[2],I=D[3]);var M=D[4];return[E,I,R,V,M]}function y(w){w.push([o,""]);for(var T=0,C=0,_=0,N="",k="",j;T<w.length;)switch(w[T][0]){case s:_++,k+=w[T][1],T++;break;case i:C++,N+=w[T][1],T++;break;case o:C+_>1?(C!==0&&_!==0&&(j=f(k,N),j!==0&&(T-C-_>0&&w[T-C-_-1][0]==o?w[T-C-_-1][1]+=k.substring(0,j):(w.splice(0,0,[o,k.substring(0,j)]),T++),k=k.substring(j),N=N.substring(j)),j=h(k,N),j!==0&&(w[T][1]=k.substring(k.length-j)+w[T][1],k=k.substring(0,k.length-j),N=N.substring(0,N.length-j))),C===0?w.splice(T-_,C+_,[s,k]):_===0?w.splice(T-C,C+_,[i,N]):w.splice(T-C-_,C+_,[i,N],[s,k]),T=T-C-_+(C?1:0)+(_?1:0)+1):T!==0&&w[T-1][0]==o?(w[T-1][1]+=w[T][1],w.splice(T,1)):T++,_=0,C=0,N="",k="";break}w[w.length-1][1]===""&&w.pop();var D=!1;for(T=1;T<w.length-1;)w[T-1][0]==o&&w[T+1][0]==o&&(w[T][1].substring(w[T][1].length-w[T-1][1].length)==w[T-1][1]?(w[T][1]=w[T-1][1]+w[T][1].substring(0,w[T][1].length-w[T-1][1].length),w[T+1][1]=w[T-1][1]+w[T+1][1],w.splice(T-1,1),D=!0):w[T][1].substring(0,w[T+1][1].length)==w[T+1][1]&&(w[T-1][1]+=w[T+1][1],w[T][1]=w[T][1].substring(w[T+1][1].length)+w[T+1][1],w.splice(T+1,1),D=!0)),T++;D&&y(w)}var m=c;m.INSERT=s,m.DELETE=i,m.EQUAL=o,n.exports=m;function g(w,T){if(T===0)return[o,w];for(var C=0,_=0;_<w.length;_++){var N=w[_];if(N[0]===i||N[0]===o){var k=C+N[1].length;if(T===k)return[_+1,w];if(T<k){w=w.slice();var j=T-C,D=[N[0],N[1].slice(0,j)],E=[N[0],N[1].slice(j)];return w.splice(_,1,D,E),[_+1,w]}else C=k}}throw new Error("cursor_pos is out of bounds!")}function v(w,T){var C=g(w,T),_=C[1],N=C[0],k=_[N],j=_[N+1];if(k==null)return w;if(k[0]!==o)return w;if(j!=null&&k[1]+j[1]===j[1]+k[1])return _.splice(N,2,j,k),b(_,N,2);if(j!=null&&j[1].indexOf(k[1])===0){_.splice(N,2,[j[0],k[1]],[0,k[1]]);var D=j[1].slice(k[1].length);return D.length>0&&_.splice(N+2,0,[j[0],D]),b(_,N,3)}else return w}function x(w){for(var T=!1,C=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},_=function(j){return j.charCodeAt(j.length-1)>=55296&&j.charCodeAt(j.length-1)<=56319},N=2;N<w.length;N+=1)w[N-2][0]===o&&_(w[N-2][1])&&w[N-1][0]===i&&C(w[N-1][1])&&w[N][0]===s&&C(w[N][1])&&(T=!0,w[N-1][1]=w[N-2][1].slice(-1)+w[N-1][1],w[N][1]=w[N-2][1].slice(-1)+w[N][1],w[N-2][1]=w[N-2][1].slice(0,-1));if(!T)return w;for(var k=[],N=0;N<w.length;N+=1)w[N][1].length>0&&k.push(w[N]);return k}function b(w,T,C){for(var _=T+C-1;_>=0&&_>=T-1;_--)if(_+1<w.length){var N=w[_],k=w[_+1];N[0]===k[1]&&w.splice(_,2,[N[0],N[1]+k[1]])}return w}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var c in s)o.push(c);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function c(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)i.call(f,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d,f){var h=s?s+d:d,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var y=0,m=p.length,g=new Array(m);y<m;y++)g[y]=p[y].fn;return g},l.prototype.emit=function(d,f,h,p,y,m){var g=s?s+d:d;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,h),!0;case 4:return v.fn.call(v.context,f,h,p),!0;case 5:return v.fn.call(v.context,f,h,p,y),!0;case 6:return v.fn.call(v.context,f,h,p,y,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var T=v.length,C;for(w=0;w<T;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,f);break;case 3:v[w].fn.call(v[w].context,f,h);break;case 4:v[w].fn.call(v[w].context,f,h,p);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(d,f,h){var p=new c(f,h||this),y=s?s+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},l.prototype.once=function(d,f,h){var p=new c(f,h||this,!0),y=s?s+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},l.prototype.removeListener=function(d,f,h,p){var y=s?s+d:d;if(!this._events[y])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[y],this;var m=this._events[y];if(m.fn)m.fn===f&&(!p||m.once)&&(!h||m.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[y]);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==f||p&&!m[g].once||h&&m[g].context!==h)&&v.push(m[g]);v.length?this._events[y]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new o:delete this._events[y]}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=s?s+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},o=function(){function J(de,X){var ue=[],te=!0,oe=!1,le=void 0;try{for(var ae=de[Symbol.iterator](),Te;!(te=(Te=ae.next()).done)&&(ue.push(Te.value),!(X&&ue.length===X));te=!0);}catch(Ue){oe=!0,le=Ue}finally{try{!te&&ae.return&&ae.return()}finally{if(oe)throw le}}return ue}return function(de,X){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return J(de,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function J(de,X){for(var ue=0;ue<X.length;ue++){var te=X[ue];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(de,te.key,te)}}return function(de,X,ue){return X&&J(de.prototype,X),ue&&J(de,ue),de}}(),l=i(3),u=E(l),d=i(2),f=E(d),h=i(0),p=E(h),y=i(5),m=E(y),g=i(10),v=E(g),x=i(9),b=E(x),w=i(36),T=i(37),C=i(13),_=E(C),N=i(26),k=i(38),j=i(39),D=i(40);function E(J){return J&&J.__esModule?J:{default:J}}function I(J,de,X){return de in J?Object.defineProperty(J,de,{value:X,enumerable:!0,configurable:!0,writable:!0}):J[de]=X,J}function R(J,de){if(!(J instanceof de))throw new TypeError("Cannot call a class as a function")}function V(J,de){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:J}function M(J,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);J.prototype=Object.create(de&&de.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(J,de):J.__proto__=de)}var H=(0,v.default)("quill:clipboard"),G="__ql-matcher",P=[[Node.TEXT_NODE,se],[Node.TEXT_NODE,B],["br",Fe],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,ye],[Node.ELEMENT_NODE,_e],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,Ee],["li",ve],["b",pe.bind(pe,"bold")],["i",pe.bind(pe,"italic")],["style",Y]],W=[w.AlignAttribute,k.DirectionAttribute].reduce(function(J,de){return J[de.keyName]=de,J},{}),F=[w.AlignStyle,T.BackgroundStyle,N.ColorStyle,k.DirectionStyle,j.FontStyle,D.SizeStyle].reduce(function(J,de){return J[de.keyName]=de,J},{}),O=function(J){M(de,J);function de(X,ue){R(this,de);var te=V(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,X,ue));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],P.concat(te.options.matchers).forEach(function(oe){var le=o(oe,2),ae=le[0],Te=le[1];!ue.matchVisual&&Te===_e||te.addMatcher(ae,Te)}),te}return c(de,[{key:"addMatcher",value:function(ue,te){this.matchers.push([ue,te])}},{key:"convert",value:function(ue){if(typeof ue=="string")return this.container.innerHTML=ue.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[_.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",new f.default().insert(oe,I({},_.default.blotName,te[_.default.blotName]))}var le=this.prepareMatching(),ae=o(le,2),Te=ae[0],Ue=ae[1],qe=Z(this.container,Te,Ue);return Q(qe,`
`)&&qe.ops[qe.ops.length-1].attributes==null&&(qe=qe.compose(new f.default().retain(qe.length()-1).delete(1))),H.log("convert",this.container.innerHTML,qe),this.container.innerHTML="",qe}},{key:"dangerouslyPasteHTML",value:function(ue,te){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof ue=="string")this.quill.setContents(this.convert(ue),te),this.quill.setSelection(0,m.default.sources.SILENT);else{var le=this.convert(te);this.quill.updateContents(new f.default().retain(ue).concat(le),oe),this.quill.setSelection(ue+le.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(ue){var te=this;if(!(ue.defaultPrevented||!this.quill.isEnabled())){var oe=this.quill.getSelection(),le=new f.default().retain(oe.index),ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){le=le.concat(te.convert()).delete(oe.length),te.quill.updateContents(le,m.default.sources.USER),te.quill.setSelection(le.length()-oe.length,m.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=ae,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ue=this,te=[],oe=[];return this.matchers.forEach(function(le){var ae=o(le,2),Te=ae[0],Ue=ae[1];switch(Te){case Node.TEXT_NODE:oe.push(Ue);break;case Node.ELEMENT_NODE:te.push(Ue);break;default:[].forEach.call(ue.container.querySelectorAll(Te),function(qe){qe[G]=qe[G]||[],qe[G].push(Ue)});break}}),[te,oe]}}]),de}(b.default);O.DEFAULTS={matchers:[],matchVisual:!0};function L(J,de,X){return(typeof de>"u"?"undefined":s(de))==="object"?Object.keys(de).reduce(function(ue,te){return L(ue,te,de[te])},J):J.reduce(function(ue,te){return te.attributes&&te.attributes[de]?ue.push(te):ue.insert(te.insert,(0,u.default)({},I({},de,X),te.attributes))},new f.default)}function K(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return J[de]||(J[de]=window.getComputedStyle(J))}function Q(J,de){for(var X="",ue=J.ops.length-1;ue>=0&&X.length<de.length;--ue){var te=J.ops[ue];if(typeof te.insert!="string")break;X=te.insert+X}return X.slice(-1*de.length)===de}function U(J){if(J.childNodes.length===0)return!1;var de=K(J);return["block","list-item"].indexOf(de.display)>-1}function Z(J,de,X){return J.nodeType===J.TEXT_NODE?X.reduce(function(ue,te){return te(J,ue)},new f.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(ue,te){var oe=Z(te,de,X);return te.nodeType===J.ELEMENT_NODE&&(oe=de.reduce(function(le,ae){return ae(te,le)},oe),oe=(te[G]||[]).reduce(function(le,ae){return ae(te,le)},oe)),ue.concat(oe)},new f.default):new f.default}function pe(J,de,X){return L(X,J,!0)}function me(J,de){var X=p.default.Attributor.Attribute.keys(J),ue=p.default.Attributor.Class.keys(J),te=p.default.Attributor.Style.keys(J),oe={};return X.concat(ue).concat(te).forEach(function(le){var ae=p.default.query(le,p.default.Scope.ATTRIBUTE);ae!=null&&(oe[ae.attrName]=ae.value(J),oe[ae.attrName])||(ae=W[le],ae!=null&&(ae.attrName===le||ae.keyName===le)&&(oe[ae.attrName]=ae.value(J)||void 0),ae=F[le],ae!=null&&(ae.attrName===le||ae.keyName===le)&&(ae=F[le],oe[ae.attrName]=ae.value(J)||void 0))}),Object.keys(oe).length>0&&(de=L(de,oe)),de}function ye(J,de){var X=p.default.query(J);if(X==null)return de;if(X.prototype instanceof p.default.Embed){var ue={},te=X.value(J);te!=null&&(ue[X.blotName]=te,de=new f.default().insert(ue,X.formats(J)))}else typeof X.formats=="function"&&(de=L(de,X.blotName,X.formats(J)));return de}function Fe(J,de){return Q(de,`
`)||de.insert(`
`),de}function Y(){return new f.default}function ve(J,de){var X=p.default.query(J);if(X==null||X.blotName!=="list-item"||!Q(de,`
`))return de;for(var ue=-1,te=J.parentNode;!te.classList.contains("ql-clipboard");)(p.default.query(te)||{}).blotName==="list"&&(ue+=1),te=te.parentNode;return ue<=0?de:de.compose(new f.default().retain(de.length()-1).retain(1,{indent:ue}))}function B(J,de){return Q(de,`
`)||(U(J)||de.length()>0&&J.nextSibling&&U(J.nextSibling))&&de.insert(`
`),de}function _e(J,de){if(U(J)&&J.nextElementSibling!=null&&!Q(de,`

`)){var X=J.offsetHeight+parseFloat(K(J).marginTop)+parseFloat(K(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+X*1.5&&de.insert(`
`)}return de}function Ee(J,de){var X={},ue=J.style||{};return ue.fontStyle&&K(J).fontStyle==="italic"&&(X.italic=!0),ue.fontWeight&&(K(J).fontWeight.startsWith("bold")||parseInt(K(J).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(de=L(de,X)),parseFloat(ue.textIndent||0)>0&&(de=new f.default().insert("	").concat(de)),de}function se(J,de){var X=J.data;if(J.parentNode.tagName==="O:P")return de.insert(X.trim());if(X.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return de;if(!K(J.parentNode).whiteSpace.startsWith("pre")){var ue=function(oe,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&oe?" ":le};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,ue.bind(ue,!0)),(J.previousSibling==null&&U(J.parentNode)||J.previousSibling!=null&&U(J.previousSibling))&&(X=X.replace(/^\s+/,ue.bind(ue,!1))),(J.nextSibling==null&&U(J.parentNode)||J.nextSibling!=null&&U(J.nextSibling))&&(X=X.replace(/\s+$/,ue.bind(ue,!1)))}return de.insert(X)}r.default=O,r.matchAttributor=me,r.matchBlot=ye,r.matchNewline=B,r.matchSpacing=_e,r.matchText=se},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,v){return g&&y(m.prototype,g),v&&y(m,v),m}}(),o=function y(m,g,v){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,g,v)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(v)}},c=i(6),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"optimize",value:function(v){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function D(E,I){var R=[],V=!0,M=!1,H=void 0;try{for(var G=E[Symbol.iterator](),P;!(V=(P=G.next()).done)&&(R.push(P.value),!(I&&R.length===I));V=!0);}catch(W){M=!0,H=W}finally{try{!V&&G.return&&G.return()}finally{if(M)throw H}}return R}return function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return D(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function D(E,I){for(var R=0;R<I.length;R++){var V=I[R];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,I,R){return I&&D(E.prototype,I),R&&D(E,R),E}}(),c=i(2),l=v(c),u=i(0),d=v(u),f=i(5),h=v(f),p=i(10),y=v(p),m=i(9),g=v(m);function v(D){return D&&D.__esModule?D:{default:D}}function x(D,E,I){return E in D?Object.defineProperty(D,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[E]=I,D}function b(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function w(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function T(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}var C=(0,y.default)("quill:toolbar"),_=function(D){T(E,D);function E(I,R){b(this,E);var V=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,R));if(Array.isArray(V.options.container)){var M=document.createElement("div");k(M,V.options.container),I.container.parentNode.insertBefore(M,I.container),V.container=M}else typeof V.options.container=="string"?V.container=document.querySelector(V.options.container):V.container=V.options.container;if(!(V.container instanceof HTMLElement)){var H;return H=C.error("Container required for toolbar",V.options),w(V,H)}return V.container.classList.add("ql-toolbar"),V.controls=[],V.handlers={},Object.keys(V.options.handlers).forEach(function(G){V.addHandler(G,V.options.handlers[G])}),[].forEach.call(V.container.querySelectorAll("button, select"),function(G){V.attach(G)}),V.quill.on(h.default.events.EDITOR_CHANGE,function(G,P){G===h.default.events.SELECTION_CHANGE&&V.update(P)}),V.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var G=V.quill.selection.getRange(),P=s(G,1),W=P[0];V.update(W)}),V}return o(E,[{key:"addHandler",value:function(R,V){this.handlers[R]=V}},{key:"attach",value:function(R){var V=this,M=[].find.call(R.classList,function(G){return G.indexOf("ql-")===0});if(M){if(M=M.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[M]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[M]==null){C.warn("ignoring attaching to disabled format",M,R);return}if(d.default.query(M)==null){C.warn("ignoring attaching to nonexistent format",M,R);return}}var H=R.tagName==="SELECT"?"change":"click";R.addEventListener(H,function(G){var P=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var W=R.options[R.selectedIndex];W.hasAttribute("selected")?P=!1:P=W.value||!1}else R.classList.contains("ql-active")?P=!1:P=R.value||!R.hasAttribute("value"),G.preventDefault();V.quill.focus();var F=V.quill.selection.getRange(),O=s(F,1),L=O[0];if(V.handlers[M]!=null)V.handlers[M].call(V,P);else if(d.default.query(M).prototype instanceof d.default.Embed){if(P=prompt("Enter "+M),!P)return;V.quill.updateContents(new l.default().retain(L.index).delete(L.length).insert(x({},M,P)),h.default.sources.USER)}else V.quill.format(M,P,h.default.sources.USER);V.update(L)}),this.controls.push([M,R])}}},{key:"update",value:function(R){var V=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(M){var H=s(M,2),G=H[0],P=H[1];if(P.tagName==="SELECT"){var W=void 0;if(R==null)W=null;else if(V[G]==null)W=P.querySelector("option[selected]");else if(!Array.isArray(V[G])){var F=V[G];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),W=P.querySelector('option[value="'+F+'"]')}W==null?(P.value="",P.selectedIndex=-1):W.selected=!0}else if(R==null)P.classList.remove("ql-active");else if(P.hasAttribute("value")){var O=V[G]===P.getAttribute("value")||V[G]!=null&&V[G].toString()===P.getAttribute("value")||V[G]==null&&!P.getAttribute("value");P.classList.toggle("ql-active",O)}else P.classList.toggle("ql-active",V[G]!=null)})}}]),E}(g.default);_.DEFAULTS={};function N(D,E,I){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+E),I!=null&&(R.value=I),D.appendChild(R)}function k(D,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(I){var R=document.createElement("span");R.classList.add("ql-formats"),I.forEach(function(V){if(typeof V=="string")N(R,V);else{var M=Object.keys(V)[0],H=V[M];Array.isArray(H)?j(R,M,H):N(R,M,H)}}),D.appendChild(R)})}function j(D,E,I){var R=document.createElement("select");R.classList.add("ql-"+E),I.forEach(function(V){var M=document.createElement("option");V!==!1?M.setAttribute("value",V):M.setAttribute("selected","selected"),R.appendChild(M)}),D.appendChild(R)}_.DEFAULTS={container:null,handlers:{clean:function(){var E=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(V){d.default.query(V,d.default.Scope.INLINE)!=null&&E.quill.format(V,!1)})}else this.quill.removeFormat(I,h.default.sources.USER)},direction:function(E){var I=this.quill.getFormat().align;E==="rtl"&&I==null?this.quill.format("align","right",h.default.sources.USER):!E&&I==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",E,h.default.sources.USER)},indent:function(E){var I=this.quill.getSelection(),R=this.quill.getFormat(I),V=parseInt(R.indent||0);if(E==="+1"||E==="-1"){var M=E==="+1"?1:-1;R.direction==="rtl"&&(M*=-1),this.quill.format("indent",V+M,h.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,h.default.sources.USER)},list:function(E){var I=this.quill.getSelection(),R=this.quill.getFormat(I);E==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",E,h.default.sources.USER)}}},r.default=_,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,v){return g&&y(m.prototype,g),v&&y(m,v),m}}(),o=function y(m,g,v){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,g,v)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(v)}},c=i(28),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(g,v){d(this,m);var x=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g));return x.label.innerHTML=v,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),x}return s(m,[{key:"buildItem",value:function(v){var x=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return x.style.backgroundColor=v.getAttribute("value")||"",x}},{key:"selectItem",value:function(v,x){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,x);var b=this.label.querySelector(".ql-color-label"),w=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=w:b.style.fill=w)}}]),m}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,v){return g&&y(m.prototype,g),v&&y(m,v),m}}(),o=function y(m,g,v){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,g,v)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(v)}},c=i(28),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(g,v){d(this,m);var x=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(m,[{key:"selectItem",value:function(v,x){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,x),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,d){var f=this;o(this,l),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,h=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),m=0;if(y.right>p.right&&(m=p.right-y.right,this.root.style.left=f+m+"px"),y.left<p.left&&(m=p.left-y.left,this.root.style.left=f+m+"px"),y.bottom>p.bottom){var g=y.bottom-y.top,v=d.bottom-d.top+g;this.root.style.top=h-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function j(D,E){var I=[],R=!0,V=!1,M=void 0;try{for(var H=D[Symbol.iterator](),G;!(R=(G=H.next()).done)&&(I.push(G.value),!(E&&I.length===E));R=!0);}catch(P){V=!0,M=P}finally{try{!R&&H.return&&H.return()}finally{if(V)throw M}}return I}return function(D,E){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return j(D,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function j(D,E,I){D===null&&(D=Function.prototype);var R=Object.getOwnPropertyDescriptor(D,E);if(R===void 0){var V=Object.getPrototypeOf(D);return V===null?void 0:j(V,E,I)}else{if("value"in R)return R.value;var M=R.get;return M===void 0?void 0:M.call(I)}},c=function(){function j(D,E){for(var I=0;I<E.length;I++){var R=E[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,E,I){return E&&j(D.prototype,E),I&&j(D,I),D}}(),l=i(3),u=b(l),d=i(8),f=b(d),h=i(43),p=b(h),y=i(27),m=b(y),g=i(15),v=i(41),x=b(v);function b(j){return j&&j.__esModule?j:{default:j}}function w(j,D){if(!(j instanceof D))throw new TypeError("Cannot call a class as a function")}function T(j,D){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:j}function C(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);j.prototype=Object.create(D&&D.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(j,D):j.__proto__=D)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(j){C(D,j);function D(E,I){w(this,D),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=_);var R=T(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,E,I));return R.quill.container.classList.add("ql-snow"),R}return c(D,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),x.default),this.tooltip=new k(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,V){I.handlers.link.call(I,!V.format.link)})}}]),D}(p.default);N.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(D){if(D){var E=this.quill.getSelection();if(E==null||E.length==0)return;var I=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var R=this.quill.theme.tooltip;R.edit("link",I)}else this.quill.format("link",!1)}}}}});var k=function(j){C(D,j);function D(E,I){w(this,D);var R=T(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,E,I));return R.preview=R.root.querySelector("a.ql-preview"),R}return c(D,[{key:"listen",value:function(){var I=this;o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(I.linkRange!=null){var V=I.linkRange;I.restoreFocus(),I.quill.formatText(V,"link",!1,f.default.sources.USER),delete I.linkRange}R.preventDefault(),I.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(R,V,M){if(R!=null){if(R.length===0&&M===f.default.sources.USER){var H=I.quill.scroll.descendant(m.default,R.index),G=s(H,2),P=G[0],W=G[1];if(P!=null){I.linkRange=new g.Range(R.index-W,P.length());var F=m.default.formats(P.domNode);I.preview.textContent=F,I.preview.setAttribute("href",F),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),D}(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=te(s),c=i(36),l=i(38),u=i(64),d=i(65),f=te(d),h=i(66),p=te(h),y=i(67),m=te(y),g=i(37),v=i(26),x=i(39),b=i(40),w=i(56),T=te(w),C=i(68),_=te(C),N=i(27),k=te(N),j=i(69),D=te(j),E=i(70),I=te(E),R=i(71),V=te(R),M=i(72),H=te(M),G=i(73),P=te(G),W=i(13),F=te(W),O=i(74),L=te(O),K=i(75),Q=te(K),U=i(57),Z=te(U),pe=i(41),me=te(pe),ye=i(28),Fe=te(ye),Y=i(59),ve=te(Y),B=i(60),_e=te(B),Ee=i(61),se=te(Ee),J=i(108),de=te(J),X=i(62),ue=te(X);function te(oe){return oe&&oe.__esModule?oe:{default:oe}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":x.FontClass,"formats/size":b.SizeClass,"formats/blockquote":f.default,"formats/code-block":F.default,"formats/header":p.default,"formats/list":m.default,"formats/bold":T.default,"formats/code":W.Code,"formats/italic":_.default,"formats/link":k.default,"formats/script":D.default,"formats/strike":I.default,"formats/underline":V.default,"formats/image":H.default,"formats/video":P.default,"formats/list/item":y.ListItem,"modules/formula":L.default,"modules/syntax":Q.default,"modules/toolbar":Z.default,"themes/bubble":de.default,"themes/snow":ue.default,"ui/icons":me.default,"ui/picker":Fe.default,"ui/icon-picker":_e.default,"ui/color-picker":ve.default,"ui/tooltip":se.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function m(g,v){for(var x=0;x<v.length;x++){var b=v[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,x){return v&&m(g.prototype,v),x&&m(g,x),g}}(),o=function m(g,v,x){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:m(w,v,x)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(x)}},c=i(0),l=u(c);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){h(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"add",value:function(x,b){if(b==="+1"||b==="-1"){var w=this.value(x)||0;b=b==="+1"?w+1:w-1}return b===0?(this.remove(x),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,x,b)}},{key:"canAdd",value:function(x,b){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,x,b)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,x,parseInt(b))}},{key:"value",value:function(x){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,x))||void 0}}]),g}(l.default.Attributor.Class),y=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(y,m){for(var g=0;g<m.length;g++){var v=m[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,m,g){return m&&p(y.prototype,m),g&&p(y,g),y}}(),o=i(4),c=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function f(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var h=function(p){f(y,p);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),y}(c.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function w(T,C){for(var _=0;_<C.length;_++){var N=C[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,C,_){return C&&w(T.prototype,C),_&&w(T,_),T}}(),o=function w(T,C,_){T===null&&(T=Function.prototype);var N=Object.getOwnPropertyDescriptor(T,C);if(N===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:w(k,C,_)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(_)}},c=i(0),l=p(c),u=i(4),d=p(u),f=i(25),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function y(w,T,C){return T in w?Object.defineProperty(w,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[T]=C,w}function m(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var x=function(w){v(T,w);function T(){return m(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"format",value:function(_,N){_===b.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,_,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,N){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,N),this):(this.parent.unwrap(),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,_,N))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:o(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,_)}}]),T}(d.default);x.blotName="list-item",x.tagName="LI";var b=function(w){v(T,w),s(T,null,[{key:"create",value:function(_){var N=_==="ordered"?"OL":"UL",k=o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,N);return(_==="checked"||_==="unchecked")&&k.setAttribute("data-checked",_==="checked"),k}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(C){m(this,T);var _=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C)),N=function(j){if(j.target.parentNode===C){var D=_.statics.formats(C),E=l.default.find(j.target);D==="checked"?E.format("list","unchecked"):D==="unchecked"&&E.format("list","checked")}};return C.addEventListener("touchstart",N),C.addEventListener("mousedown",N),_}return s(T,[{key:"format",value:function(_,N){this.children.length>0&&this.children.tail.format(_,N)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,N){if(_ instanceof x)o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,_,N);else{var k=N==null?this.length():N.offset(this),j=this.split(k);j.parent.insertBefore(_,j)}}},{key:"optimize",value:function(_){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,_);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);_.moveChildren(N),this.appendChild(N)}o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,_)}}]),T}(h.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[x],r.ListItem=x,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,v){return g&&y(m.prototype,g),v&&y(m,v),m}}(),o=function y(m,g,v){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,g,v)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(v)}},c=i(6),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(v,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,x,b){return x&&g(v.prototype,x),b&&g(v,b),v}}(),o=function g(v,x,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,x);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:g(T,x,b)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(b)}},c=i(0),l=d(c),u=i(27);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function p(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var y=["alt","height","width"],m=function(g){p(v,g);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,w){y.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return y.reduce(function(w,T){return b.hasAttribute(T)&&(w[T]=b.getAttribute(T)),w},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(v,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,x,b){return x&&g(v.prototype,x),b&&g(v,b),v}}(),o=function g(v,x,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,x);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:g(T,x,b)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(b)}},c=i(4),l=i(27),u=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function p(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var y=["height","width"],m=function(g){p(v,g);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,w){y.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return y.reduce(function(w,T){return b.hasAttribute(T)&&(w[T]=b.getAttribute(T)),w},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(c.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function b(w,T){for(var C=0;C<T.length;C++){var _=T[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,T,C){return T&&b(w.prototype,T),C&&b(w,C),w}}(),o=function b(w,T,C){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,T);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:b(N,T,C)}else{if("value"in _)return _.value;var k=_.get;return k===void 0?void 0:k.call(C)}},c=i(35),l=p(c),u=i(5),d=p(u),f=i(9),h=p(f);function p(b){return b&&b.__esModule?b:{default:b}}function y(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function m(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function g(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var v=function(b){g(w,b);function w(){return y(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"create",value:function(C){var _=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",C)),_}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),w}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var x=function(b){g(w,b),s(w,null,[{key:"register",value:function(){d.default.register(v,!0)}}]);function w(){y(this,w);var T=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return w}(h.default);r.FormulaBlot=v,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function C(_,N){for(var k=0;k<N.length;k++){var j=N[k];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,N,k){return N&&C(_.prototype,N),k&&C(_,k),_}}(),o=function C(_,N,k){_===null&&(_=Function.prototype);var j=Object.getOwnPropertyDescriptor(_,N);if(j===void 0){var D=Object.getPrototypeOf(_);return D===null?void 0:C(D,N,k)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(k)}},c=i(0),l=m(c),u=i(5),d=m(u),f=i(9),h=m(f),p=i(13),y=m(p);function m(C){return C&&C.__esModule?C:{default:C}}function g(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function v(C,_){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:C}function x(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(C,_):C.__proto__=_)}var b=function(C){x(_,C);function _(){return g(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var j=this.domNode.textContent;this.cachedText!==j&&((j.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(j),this.domNode.normalize(),this.attach()),this.cachedText=j)}}]),_}(y.default);b.className="ql-syntax";var w=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),T=function(C){x(_,C),s(_,null,[{key:"register",value:function(){d.default.register(w,!0),d.default.register(b,!0)}}]);function _(N,k){g(this,_);var j=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N,k));if(typeof j.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var D=null;return j.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(D),D=setTimeout(function(){j.highlight(),D=null},j.options.interval)}),j.highlight(),j}return s(_,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var j=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(D){D.highlight(k.options.highlight)}),this.quill.update(d.default.sources.SILENT),j!=null&&this.quill.setSelection(j,d.default.sources.SILENT)}}}]),_}(h.default);T.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var _=window.hljs.highlightAuto(C);return _.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=w,r.default=T},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function _(N,k,j){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,k);if(D===void 0){var E=Object.getPrototypeOf(N);return E===null?void 0:_(E,k,j)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(j)}},o=function(){function _(N,k){for(var j=0;j<k.length;j++){var D=k[j];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,k,j){return k&&_(N.prototype,k),j&&_(N,j),N}}(),c=i(3),l=g(c),u=i(8),d=g(u),f=i(43),h=g(f),p=i(15),y=i(41),m=g(y);function g(_){return _&&_.__esModule?_:{default:_}}function v(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function x(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function b(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(_){b(N,_);function N(k,j){v(this,N),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=w);var D=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,j));return D.quill.container.classList.add("ql-bubble"),D}return o(N,[{key:"extendToolbar",value:function(j){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(j.container),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),m.default)}}]),N}(h.default);T.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(_){b(N,_);function N(k,j){v(this,N);var D=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,j));return D.quill.on(d.default.events.EDITOR_CHANGE,function(E,I,R,V){if(E===d.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&V===d.default.sources.USER){D.show(),D.root.style.left="0px",D.root.style.width="",D.root.style.width=D.root.offsetWidth+"px";var M=D.quill.getLines(I.index,I.length);if(M.length===1)D.position(D.quill.getBounds(I));else{var H=M[M.length-1],G=D.quill.getIndex(H),P=Math.min(H.length()-1,I.index+I.length-G),W=D.quill.getBounds(new p.Range(G,P));D.position(W)}}else document.activeElement!==D.textbox&&D.quill.hasFocus()&&D.hide()}),D}return o(N,[{key:"listen",value:function(){var j=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){j.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!j.root.classList.contains("ql-hidden")){var D=j.quill.getSelection();D!=null&&j.position(j.quill.getBounds(D))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(j){var D=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,j),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",D===0)return D;E.style.marginLeft=-1*D-E.offsetWidth/2+"px"}}]),N}(f.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=T},function(n,r,i){n.exports=i(63)}]).default})})(YG);var UCe=YG.exports,LCe=Kt&&Kt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iw=Kt&&Kt.__assign||function(){return iw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},iw.apply(this,arguments)},MCe=Kt&&Kt.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,c=s.length;o<c;o++,i++)r[i]=s[o];return r},aT=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ol=aT(A),BCe=aT(cp),Dg=aT(PCe),p8=aT(UCe),VCe=function(e){LCe(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,o,c,l){var u,d,f,h;s==="text-change"?(d=(u=r).onEditorChangeText)===null||d===void 0||d.call(u,r.editor.root.innerHTML,o,l,r.unprivilegedEditor):s==="selection-change"&&((h=(f=r).onEditorChangeSelection)===null||h===void 0||h.call(f,o,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return t.prototype.validateProps=function(n){var r;if(ol.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ol.default.Children.count(n.children)){var i=ol.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var i=this,s;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),c=(s=n.value,s??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),MCe(this.cleanProps,this.dirtyProps).some(function(l){return!Dg.default(n[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Dg.default(n[i],r.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var c=this.regenerationSnapshot,s=c.delta,l=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(s),m8(function(){return i.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var i=new p8.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Dg.default(n.ops,r.ops):Dg.default(n,r)},t.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),m8(function(){return i.setEditorSelection(n,s)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var i,s;!((s=(i=n)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=BCe.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,s=r.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(l){n.editingArea=l}};return ol.default.Children.count(i)?ol.default.cloneElement(ol.default.Children.only(i),c):s?ol.default.createElement("pre",iw({},c)):ol.default.createElement("div",iw({},c))},t.prototype.render=function(){var n;return ol.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,i,s){var o,c;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,n,r,i,s))}},t.prototype.onEditorChangeSelection=function(n,r,i){var s,o,c,l,u,d;if(this.editor){var f=this.getEditorSelection(),h=!f&&n,p=f&&!n;Dg.default(n,f)||(this.selection=n,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,n,r,i),h?(l=(c=this.props).onFocus)===null||l===void 0||l.call(c,n,r,i):p&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,f,r,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=p8.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(ol.default.Component);function m8(e){Promise.resolve().then(e)}var WCe=VCe;const Nf=Iw(WCe);function qCe(e,t=[]){let n=[];function r(s,o){const c=A.createContext(o);c.displayName=s+"Context";const l=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[l])||c,g=A.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,y=A.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[r,zCe(i,...t)]}function zCe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var $Ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZG=$Ce.reduce((e,t)=>{const n=I4(`Primitive.${t}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),s3="Progress",a3=100,[HCe]=qCe(s3),[GCe,QCe]=HCe(s3),JG=A.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=KCe,...o}=e;(i||i===0)&&!g8(i)&&console.error(XCe(`${i}`,"Progress"));const c=g8(i)?i:a3;r!==null&&!x8(r,c)&&console.error(YCe(`${r}`,"Progress"));const l=x8(r,c)?r:null,u=sw(l)?s(l,c):void 0;return a.jsx(GCe,{scope:n,value:l,max:c,children:a.jsx(ZG.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":sw(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":nQ(l,c),"data-value":l??void 0,"data-max":c,...o,ref:t})})});JG.displayName=s3;var eQ="ProgressIndicator",tQ=A.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=QCe(eQ,n);return a.jsx(ZG.div,{"data-state":nQ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});tQ.displayName=eQ;function KCe(e,t){return`${Math.round(e/t*100)}%`}function nQ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sw(e){return typeof e=="number"}function g8(e){return sw(e)&&!isNaN(e)&&e>0}function x8(e,t){return sw(e)&&!isNaN(e)&&e<=t&&e>=0}function XCe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${a3}\`.`}function YCe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${a3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rQ=JG,ZCe=tQ;const Fy=A.forwardRef(({className:e,value:t,...n},r)=>a.jsx(rQ,{ref:r,className:Ct("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(ZCe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Fy.displayName=rQ.displayName;function JCe({questions:e,timePerQuestion:t=30,testTitle:n,onFinish:r,onBack:i}){const[s,o]=A.useState(0),[c,l]=A.useState(new Array(e.length).fill(null)),[u,d]=A.useState(e.length*t),[f]=A.useState(Date.now()),[h,p]=A.useState(!1),[y,m]=A.useState(!1),g=e[s];A.useEffect(()=>{if(h)return;const C=setInterval(()=>{d(_=>_<=1?(clearInterval(C),w(),0):_-1)},1e3);return()=>clearInterval(C)},[h]);const v=C=>{if(h)return;const _=[...c];_[s]=C,l(_)},x=()=>{s<e.length-1&&o(s+1)},b=()=>{s>0&&o(s-1)},w=A.useCallback(()=>{const C=Math.floor((Date.now()-f)/1e3);let _=0,N=0,k=0;const j=e.map((E,I)=>{const R=c[I];return R===null?k++:R===E.correctIndex?_++:N++,{questionId:E.id,selected:R,correct:E.correctIndex}}),D={total:e.length,correct:_,wrong:N,skipped:k,unanswered:k,percentage:Math.round(_/e.length*100),timeTaken:C,answers:j};p(!0),r(D)},[c,e,f,r]),T=C=>{const _=Math.floor(C/60),N=C%60;return`${_}:${N.toString().padStart(2,"0")}`};if(h&&!y){const C=c.filter((E,I)=>E===e[I].correctIndex).length,_=c.filter((E,I)=>E!==null&&E!==e[I].correctIndex).length,N=c.filter(E=>E===null).length,k=Math.round(C/e.length*100),D=J_.getState().testResults.slice(-10);return a.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:a.jsxs(dt,{children:[a.jsxs(jn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4",children:a.jsx(za,{className:Ct("h-16 w-16",k>=70?"text-yellow-500":k>=40?"text-blue-500":"text-muted-foreground")})}),a.jsx(Mn,{className:"text-2xl",children:"Test Complete!"}),a.jsx(wl,{children:n})]}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold text-primary",children:[k,"%"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Your Score"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[a.jsx(h0,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:C}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Correct"})]}),a.jsxs("div",{className:"p-4 bg-red-500/10 rounded-lg",children:[a.jsx(Ou,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:_}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Wrong"})]}),a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx(Ir,{className:"h-6 w-6 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:N}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]})]}),D.length>1&&a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-4",children:[a.jsx(R_,{className:"h-4 w-4"})," Progress Analytics (Last ",D.length," Tests)"]}),a.jsx("div",{className:"flex items-end justify-between gap-1 h-32",children:D.map((E,I)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:Ct("w-full rounded-t transition-all",E.score>=70?"bg-green-500":E.score>=40?"bg-yellow-500":"bg-red-500"),style:{height:`${E.score}%`},title:`${E.score}%`}),a.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:I+1})]},E.id))}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[a.jsx("span",{children:"Oldest"}),a.jsxs("span",{children:["Average: ",Math.round(D.reduce((E,I)=>E+I.score,0)/D.length),"%"]}),a.jsx("span",{children:"Latest"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ge,{variant:"outline",className:"flex-1",onClick:i,children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"})," Back"]}),a.jsx(ge,{variant:"outline",className:"flex-1",onClick:()=>m(!0),children:"Review Answers"})]})]})]})})}return y?a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Review Answers"}),a.jsx(ge,{variant:"outline",onClick:()=>m(!1),children:"Back to Results"})]}),e.map((C,_)=>{const N=c[_],k=N===C.correctIndex,j=N!==null&&N!==C.correctIndex;return a.jsx(dt,{className:Ct(k&&"border-green-500",j&&"border-red-500"),children:a.jsxs(Lt,{className:"pt-4",children:[a.jsxs("p",{className:"font-medium mb-3",children:["Q",_+1,". ",C.question]}),a.jsx("div",{className:"space-y-2",children:C.options.map((D,E)=>a.jsxs("div",{className:Ct("p-2 rounded border text-sm",E===C.correctIndex&&"bg-green-500/10 border-green-500",N===E&&E!==C.correctIndex&&"bg-red-500/10 border-red-500"),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+E),"."]}),D,E===C.correctIndex&&a.jsx(h0,{className:"h-4 w-4 text-green-500 inline ml-2"}),N===E&&E!==C.correctIndex&&a.jsx(Ou,{className:"h-4 w-4 text-red-500 inline ml-2"})]},E))}),N===null&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You did not answer this question."})]})},C.id)}),a.jsx(ge,{variant:"outline",className:"w-full",onClick:i,children:"Back to Tests"})]}):a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:n}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:Ct("flex items-center gap-2 px-3 py-1 rounded-full",u<60?"bg-red-500/10 text-red-500":"bg-muted"),children:[a.jsx(Ir,{className:"h-4 w-4"}),a.jsx("span",{className:"font-mono font-bold",children:T(u)})]}),a.jsx(ge,{variant:"destructive",size:"sm",onClick:w,children:"Submit"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Question ",s+1," of ",e.length]}),a.jsxs("span",{children:[c.filter(C=>C!==null).length," answered"]})]}),a.jsx(Fy,{value:(s+1)/e.length*100})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((C,_)=>a.jsx("button",{onClick:()=>o(_),className:Ct("h-8 w-8 rounded-full text-sm font-medium transition-colors",_===s&&"bg-primary text-primary-foreground",_!==s&&c[_]!==null&&"bg-green-500 text-white",_!==s&&c[_]===null&&"bg-muted hover:bg-muted/80"),children:_+1},_))}),a.jsxs(dt,{children:[a.jsx(jn,{children:a.jsxs(Mn,{className:"text-lg",children:["Q",s+1,". ",g.question]})}),a.jsx(Lt,{className:"space-y-3",children:g.options.map((C,_)=>a.jsxs("button",{onClick:()=>v(_),className:Ct("w-full p-4 rounded-lg border text-left transition-all flex items-center gap-3",c[s]===_?"border-primary bg-primary/10":"hover:border-primary/50 hover:bg-muted/50"),children:[a.jsx("span",{className:Ct("h-8 w-8 rounded-full flex items-center justify-center font-medium",c[s]===_?"bg-primary text-primary-foreground":"bg-muted"),children:String.fromCharCode(65+_)}),a.jsx("span",{children:C})]},_))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ge,{variant:"outline",onClick:b,disabled:s===0,children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"})," Previous"]}),s===e.length-1?a.jsx(ge,{onClick:w,children:"Submit Test"}):a.jsxs(ge,{onClick:x,children:["Next ",a.jsx(Iz,{className:"h-4 w-4 ml-2"})]})]})]})}const la=Lf()(fp((e,t)=>({myGroups:[],activeGroupId:null,allGroupsRegistry:[],topics:[],subTopics:[],contentItems:[],groupMCQs:[],deleteRequests:[],questionCategories:[],quizResults:[],contentReports:[],liveTests:[],liveTestResults:[],autoLiveTestConfigs:[],setMyGroups:n=>e({myGroups:n}),addGroup:async n=>{e(r=>({myGroups:[...r.myGroups,n],allGroupsRegistry:r.allGroupsRegistry.some(i=>i.id===n.id)?r.allGroupsRegistry:[...r.allGroupsRegistry,n]}));try{await xt(Ke(Pe,"groups",n.id),n)}catch(r){console.error("Error saving group:",r)}},removeGroup:async n=>{e(r=>({myGroups:r.myGroups.filter(i=>i.id!==n),activeGroupId:r.activeGroupId===n?null:r.activeGroupId}))},updateGroup:async n=>{e(r=>({myGroups:r.myGroups.map(i=>i.id===n.id?n:i),allGroupsRegistry:r.allGroupsRegistry.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"groups",n.id),n)}catch(r){console.error("Error updating group:",r)}},setActiveGroup:n=>e({activeGroupId:n}),findGroupByCode:async n=>{const r=t().allGroupsRegistry.find(i=>i.groupCode===n.toUpperCase());if(r)return r;try{const i=await Bn(Ut(Et(Pe,"groups"),Vt("groupCode","==",n.toUpperCase())));if(!i.empty){const s=i.docs[0].data();return e(o=>({allGroupsRegistry:[...o.allGroupsRegistry,s]})),s}}catch(i){console.error("Error finding group:",i)}},registerGroup:async n=>{e(r=>({allGroupsRegistry:r.allGroupsRegistry.some(i=>i.id===n.id)?r.allGroupsRegistry.map(i=>i.id===n.id?n:i):[...r.allGroupsRegistry,n]}));try{await xt(Ke(Pe,"groups",n.id),n)}catch(r){console.error("Error registering group:",r)}},addTopic:async n=>{e(r=>({topics:[...r.topics,n]}));try{await xt(Ke(Pe,"group-topics",n.id),n)}catch(r){console.error("Error saving topic:",r)}},updateTopic:async n=>{e(r=>({topics:r.topics.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"group-topics",n.id),n)}catch(r){console.error("Error updating topic:",r)}},removeTopic:async n=>{const r=t(),i=r.subTopics.filter(o=>o.topicId===n),s=r.contentItems.filter(o=>o.topicId===n);e(o=>({topics:o.topics.filter(c=>c.id!==n),subTopics:o.subTopics.filter(c=>c.topicId!==n),contentItems:o.contentItems.filter(c=>c.topicId!==n)}));try{const o=Ha(Pe);o.delete(Ke(Pe,"group-topics",n)),i.forEach(c=>o.delete(Ke(Pe,"group-subtopics",c.id))),s.forEach(c=>o.delete(Ke(Pe,"group-content",c.id))),await o.commit()}catch(o){console.error("Error deleting topic:",o)}},addSubTopic:async n=>{e(r=>({subTopics:[...r.subTopics,n]}));try{await xt(Ke(Pe,"group-subtopics",n.id),n)}catch(r){console.error("Error saving subtopic:",r)}},updateSubTopic:async n=>{e(r=>({subTopics:r.subTopics.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"group-subtopics",n.id),n)}catch(r){console.error("Error updating subtopic:",r)}},removeSubTopic:async n=>{const r=t().contentItems.filter(i=>i.subTopicId===n);e(i=>({subTopics:i.subTopics.filter(s=>s.id!==n),contentItems:i.contentItems.filter(s=>s.subTopicId!==n)}));try{const i=Ha(Pe);i.delete(Ke(Pe,"group-subtopics",n)),r.forEach(s=>i.delete(Ke(Pe,"group-content",s.id))),await i.commit()}catch(i){console.error("Error deleting subtopic:",i)}},assignSubTopic:async(n,r,i)=>{const s=t().subTopics.find(c=>c.id===n);if(!s)return;const o={...s,assignedTo:r,assignedToName:i,status:"assigned"};e(c=>({subTopics:c.subTopics.map(l=>l.id===n?o:l)}));try{await xt(Ke(Pe,"group-subtopics",n),o)}catch(c){console.error("Error assigning subtopic:",c)}},updateSubTopicStatus:async(n,r)=>{const i=t().subTopics.find(o=>o.id===n);if(!i)return;const s={...i,status:r};e(o=>({subTopics:o.subTopics.map(c=>c.id===n?s:c)}));try{await xt(Ke(Pe,"group-subtopics",n),s)}catch(o){console.error("Error updating subtopic status:",o)}},addContentItem:async n=>{e(r=>({contentItems:[...r.contentItems,n]}));try{await xt(Ke(Pe,"group-content",n.id),n)}catch(r){console.error("Error saving content:",r)}},updateContentItem:async n=>{e(r=>({contentItems:r.contentItems.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"group-content",n.id),n)}catch(r){console.error("Error updating content:",r)}},removeContentItem:async n=>{e(r=>({contentItems:r.contentItems.filter(i=>i.id!==n)}));try{await No(Ke(Pe,"group-content",n))}catch(r){console.error("Error deleting content:",r)}},addGroupMCQ:async n=>{e(r=>({groupMCQs:[...r.groupMCQs,n]}));try{await xt(Ke(Pe,"group-mcqs",n.id),n)}catch(r){console.error("Error saving MCQ:",r)}},updateGroupMCQ:async n=>{e(r=>({groupMCQs:r.groupMCQs.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"group-mcqs",n.id),n)}catch(r){console.error("Error updating MCQ:",r)}},removeGroupMCQ:async n=>{e(r=>({groupMCQs:r.groupMCQs.filter(i=>i.id!==n)}));try{await No(Ke(Pe,"group-mcqs",n))}catch(r){console.error("Error deleting MCQ:",r)}},addQuestionCategory:async n=>{e(r=>({questionCategories:[...r.questionCategories,n]}));try{await xt(Ke(Pe,"group-categories",n.id),n)}catch(r){console.error("Error saving category:",r)}},removeQuestionCategory:async n=>{const r=t().groupMCQs.filter(i=>i.categoryId===n);e(i=>({questionCategories:i.questionCategories.filter(s=>s.id!==n),groupMCQs:i.groupMCQs.filter(s=>s.categoryId!==n)}));try{const i=Ha(Pe);i.delete(Ke(Pe,"group-categories",n)),r.forEach(s=>i.delete(Ke(Pe,"group-mcqs",s.id))),await i.commit()}catch(i){console.error("Error deleting category:",i)}},createDeleteRequest:async n=>{e(r=>({deleteRequests:[...r.deleteRequests,n]}));try{await xt(Ke(Pe,"group-delete-requests",n.id),n)}catch(r){console.error("Error creating delete request:",r)}},voteOnDeleteRequest:async(n,r,i)=>{const s=t().deleteRequests.find(u=>u.id===n);if(!s)return;const o=s.approvedBy.filter(u=>u!==r),c=s.rejectedBy.filter(u=>u!==r);i?o.push(r):c.push(r);const l={...s,approvedBy:o,rejectedBy:c};e(u=>({deleteRequests:u.deleteRequests.map(d=>d.id===n?l:d)}));try{await xt(Ke(Pe,"group-delete-requests",n),l)}catch(u){console.error("Error voting on delete request:",u)}},resolveDeleteRequest:async(n,r)=>{const i=t().deleteRequests.find(o=>o.id===n);if(!i)return;const s={...i,status:r?"approved":"rejected",resolvedAt:Date.now()};e(o=>({deleteRequests:o.deleteRequests.map(c=>c.id===n?s:c)}));try{await xt(Ke(Pe,"group-delete-requests",n),s)}catch(o){console.error("Error resolving delete request:",o)}},getDeleteRequestsByGroup:n=>t().deleteRequests.filter(r=>r.groupId===n&&r.status==="pending"),addQuizResult:async n=>{e(r=>({quizResults:[...r.quizResults,n]}));try{await xt(Ke(Pe,"group-quiz-results",n.id),n)}catch(r){console.error("Error saving quiz result:",r)}},getQuizResultsByUser:(n,r)=>t().quizResults.filter(i=>i.groupId===n&&i.userId===r),getQuizResultsByQuiz:n=>t().quizResults.filter(r=>r.quizItemId===n),getLeaderboard:n=>{const r=t().quizResults.filter(s=>s.quizItemId===n),i=new Map;return r.forEach(s=>{const o=i.get(s.userId);(!o||s.score>o.score)&&i.set(s.userId,s)}),Array.from(i.values()).sort((s,o)=>o.score-s.score)},getUserQuizHistory:(n,r,i=10)=>t().quizResults.filter(s=>s.groupId===n&&s.userId===r).sort((s,o)=>o.createdAt-s.createdAt).slice(0,i),addContentReport:async n=>{e(r=>({contentReports:[...r.contentReports,n]}));try{await xt(Ke(Pe,"group-reports",n.id),n)}catch(r){console.error("Error saving report:",r)}},resolveContentReport:async(n,r)=>{const i=t().contentReports.find(o=>o.id===n);if(!i)return;const s={...i,status:r,resolvedAt:Date.now()};e(o=>({contentReports:o.contentReports.map(c=>c.id===n?s:c)}));try{await xt(Ke(Pe,"group-reports",n),s)}catch(o){console.error("Error resolving report:",o)}},getReportsByCreator:n=>t().contentReports.filter(r=>r.creatorId===n&&r.status==="pending"),getReportsByContent:n=>t().contentReports.filter(r=>r.contentId===n),addLiveTest:async n=>{e(r=>({liveTests:[...r.liveTests,n]}));try{await xt(Ke(Pe,"group-live-tests",n.id),n)}catch(r){console.error("Error saving live test:",r)}},updateLiveTest:async n=>{e(r=>({liveTests:r.liveTests.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"group-live-tests",n.id),n)}catch(r){console.error("Error updating live test:",r)}},removeLiveTest:async n=>{const r=t().liveTestResults.filter(i=>i.liveTestId===n);e(i=>({liveTests:i.liveTests.filter(s=>s.id!==n),liveTestResults:i.liveTestResults.filter(s=>s.liveTestId!==n)}));try{const i=Ha(Pe);i.delete(Ke(Pe,"group-live-tests",n)),r.forEach(s=>i.delete(Ke(Pe,"group-live-test-results",s.id))),await i.commit()}catch(i){console.error("Error deleting live test:",i)}},getLiveTestsByGroup:n=>t().liveTests.filter(r=>r.groupId===n).sort((r,i)=>i.createdAt-r.createdAt),getUpcomingLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.groupId===n&&i.startTime>r).sort((i,s)=>i.startTime-s.startTime)},getActiveLiveTest:n=>{const r=Date.now();return t().liveTests.find(i=>i.groupId===n&&i.startTime<=r&&i.endTime>r)},getPastLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.groupId===n&&i.endTime<=r).sort((i,s)=>s.endTime-i.endTime)},addLiveTestResult:async n=>{e(r=>({liveTestResults:[...r.liveTestResults,n]}));try{await xt(Ke(Pe,"group-live-test-results",n.id),n)}catch(r){console.error("Error saving live test result:",r)}},updateLiveTestResult:async n=>{e(r=>({liveTestResults:r.liveTestResults.map(i=>i.id===n.id?n:i)}));try{await xt(Ke(Pe,"group-live-test-results",n.id),n)}catch(r){console.error("Error updating live test result:",r)}},getLiveTestResultsByTest:n=>t().liveTestResults.filter(r=>r.liveTestId===n),getUserLiveTestResult:(n,r)=>t().liveTestResults.find(i=>i.liveTestId===n&&i.userId===r),getLiveTestLeaderboard:n=>t().liveTestResults.filter(r=>r.liveTestId===n&&r.status!=="in-progress").sort((r,i)=>i.score-r.score||r.timeTaken-i.timeTaken),setAutoLiveTestConfig:async n=>{e(r=>{const i=r.autoLiveTestConfigs.findIndex(s=>s.groupId===n.groupId);if(i>=0){const s=[...r.autoLiveTestConfigs];return s[i]=n,{autoLiveTestConfigs:s}}return{autoLiveTestConfigs:[...r.autoLiveTestConfigs,n]}});try{await xt(Ke(Pe,"group-auto-test-configs",n.groupId),n)}catch(r){console.error("Error saving auto test config:",r)}},getAutoLiveTestConfig:n=>t().autoLiveTestConfigs.find(r=>r.groupId===n),loadGroupFromFirebase:async n=>{try{const r=await Bn(Ut(Et(Pe,"groups"),Vt("id","==",n)));if(!r.empty){const j=r.docs[0].data();e(D=>({myGroups:D.myGroups.some(E=>E.id===n)?D.myGroups.map(E=>E.id===n?j:E):[...D.myGroups,j],allGroupsRegistry:D.allGroupsRegistry.some(E=>E.id===n)?D.allGroupsRegistry.map(E=>E.id===n?j:E):[...D.allGroupsRegistry,j]}))}const s=(await Bn(Ut(Et(Pe,"group-topics"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),c=(await Bn(Ut(Et(Pe,"group-subtopics"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),u=(await Bn(Ut(Et(Pe,"group-content"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),f=(await Bn(Ut(Et(Pe,"group-mcqs"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),p=(await Bn(Ut(Et(Pe,"group-categories"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),m=(await Bn(Ut(Et(Pe,"group-quiz-results"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),v=(await Bn(Ut(Et(Pe,"group-live-tests"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),b=(await Bn(Ut(Et(Pe,"group-live-test-results"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),T=(await Bn(Ut(Et(Pe,"group-delete-requests"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),_=(await Bn(Ut(Et(Pe,"group-reports"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()})),k=(await Bn(Ut(Et(Pe,"group-auto-test-configs"),Vt("groupId","==",n)))).docs.map(j=>({...j.data()}));e(j=>({topics:[...j.topics.filter(D=>D.groupId!==n),...s],subTopics:[...j.subTopics.filter(D=>D.groupId!==n),...c],contentItems:[...j.contentItems.filter(D=>D.groupId!==n),...u],groupMCQs:[...j.groupMCQs.filter(D=>D.groupId!==n),...f],questionCategories:[...j.questionCategories.filter(D=>D.groupId!==n),...p],quizResults:[...j.quizResults.filter(D=>D.groupId!==n),...m],liveTests:[...j.liveTests.filter(D=>D.groupId!==n),...v],liveTestResults:[...j.liveTestResults.filter(D=>D.groupId!==n),...b],deleteRequests:[...j.deleteRequests.filter(D=>D.groupId!==n),...T],contentReports:[...j.contentReports.filter(D=>D.groupId!==n),..._],autoLiveTestConfigs:[...j.autoLiveTestConfigs.filter(D=>D.groupId!==n),...k]})),console.log(" Group data loaded from Firebase:",n)}catch(r){console.error("Error loading group data:",r)}},subscribeToGroup:n=>{const r=[];return r.push(ir(Ke(Pe,"groups",n),i=>{if(i.exists()){const s=i.data();e(o=>({myGroups:o.myGroups.map(c=>c.id===n?s:c),allGroupsRegistry:o.allGroupsRegistry.map(c=>c.id===n?s:c)}))}})),r.push(ir(Ut(Et(Pe,"group-topics"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({topics:[...o.topics.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-subtopics"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({subTopics:[...o.subTopics.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-content"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({contentItems:[...o.contentItems.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-mcqs"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({groupMCQs:[...o.groupMCQs.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-categories"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({questionCategories:[...o.questionCategories.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-quiz-results"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({quizResults:[...o.quizResults.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-live-tests"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({liveTests:[...o.liveTests.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-live-test-results"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({liveTestResults:[...o.liveTestResults.filter(c=>c.groupId!==n),...s]}))})),r.push(ir(Ut(Et(Pe,"group-auto-test-configs"),Vt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({autoLiveTestConfigs:[...o.autoLiveTestConfigs.filter(c=>c.groupId!==n),...s]}))})),()=>r.forEach(i=>i())},getActiveGroup:()=>{const n=t();return n.myGroups.find(r=>r.id===n.activeGroupId)},getTopicsByGroup:n=>t().topics.filter(r=>r.groupId===n).sort((r,i)=>r.order-i.order),getSubTopicsByTopic:n=>t().subTopics.filter(r=>r.topicId===n).sort((r,i)=>r.order-i.order),getContentBySubTopic:n=>t().contentItems.filter(r=>r.subTopicId===n),getMCQsByGroup:n=>t().groupMCQs.filter(r=>r.groupId===n),getMCQsByCategory:n=>t().groupMCQs.filter(r=>r.categoryId===n),getCategoriesByGroup:n=>t().questionCategories.filter(r=>r.groupId===n),getLatestNotes:(n,r)=>t().contentItems.filter(i=>i.groupId===n&&i.type==="note").sort((i,s)=>s.createdAt-i.createdAt).slice(0,r),getLatestQuizzes:(n,r)=>t().contentItems.filter(i=>i.groupId===n&&i.type==="quiz").sort((i,s)=>s.createdAt-i.createdAt).slice(0,r)}),{name:"group-store"})),o3="teachers",jv="courses";async function nx(e){try{const t=Ke(Pe,o3,e.userId);await xt(t,{...e,updatedAt:cm(),createdAt:e.createdAt||cm()})}catch(t){throw console.error("Error saving teacher profile:",t),t}}async function eke(e){var t,n,r,i;try{const s=Ke(Pe,o3,e),o=await Uf(s);if(o.exists()){const c=o.data();return{...c,createdAt:((n=(t=c.createdAt)==null?void 0:t.toDate)==null?void 0:n.call(t))||new Date,updatedAt:((i=(r=c.updatedAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date}}return null}catch(s){return console.error("Error getting teacher profile:",s),null}}async function tke(){try{return(await Bn(Et(Pe,o3))).docs.map(t=>{var r,i,s,o;const n=t.data();return{...n,createdAt:((i=(r=n.createdAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date,updatedAt:((o=(s=n.updatedAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date}})}catch(e){return console.error("Error getting all teachers:",e),[]}}async function IA(e){try{if(e.id&&!e.id.startsWith("course_temp_")){const t=Ke(Pe,jv,e.id);return await xt(t,{...e,updatedAt:cm(),createdAt:e.createdAt||cm()}),e.id}else return(await pue(Et(Pe,jv),{...e,createdAt:cm(),updatedAt:cm()})).id}catch(t){throw console.error("Error saving course:",t),t}}async function nke(e){try{const t=Ut(Et(Pe,jv),Vt("teacherId","==",e));return(await Bn(t)).docs.map(r=>{var s,o,c,l;const i=r.data();return{...i,id:r.id,createdAt:((o=(s=i.createdAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date,updatedAt:((l=(c=i.updatedAt)==null?void 0:c.toDate)==null?void 0:l.call(c))||new Date}})}catch(t){return console.error("Error getting courses by teacher:",t),[]}}async function rke(){try{return(await Bn(Et(Pe,jv))).docs.map(t=>{var r,i,s,o;const n=t.data();return{...n,id:t.id,createdAt:((i=(r=n.createdAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date,updatedAt:((o=(s=n.updatedAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date}})}catch(e){return console.error("Error getting all courses:",e),[]}}async function ike(e){try{await No(Ke(Pe,jv,e))}catch(t){throw console.error("Error deleting course:",t),t}}async function ske(e,t){try{e&&await nx(e);for(const n of t)await IA(n)}catch(n){throw console.error("Error syncing to Firestore:",n),n}}const Xc=Lf()(fp((e,t)=>({teachers:[],teacherProfile:null,courses:[],myCourses:[],enrolledCourses:[],sections:[],lessons:[],mcqs:[],mockTests:[],liveTests:[],enrollments:[],lessonProgress:[],mockTestAttempts:[],liveTestAttempts:[],reviews:[],announcements:[],discussions:[],consultationBookings:[],activeCourseId:null,activeView:"student",loadFromFirestore:async n=>{try{const r=await eke(n);r&&e({teacherProfile:r});const i=await tke();i.length>0&&e({teachers:i});const s=`teacher_${n}`,o=await nke(s);o.length>0&&e({myCourses:o});const c=await rke();c.length>0&&e({courses:c})}catch(r){console.error("Error loading from Firestore:",r)}},addTeacher:n=>{console.log("Adding teacher:",n),e(r=>({teachers:[...r.teachers,n],teacherProfile:n})),nx(n).then(()=>console.log(" Teacher saved to Firestore!")).catch(r=>console.error(" Failed to save teacher:",r))},updateTeacher:(n,r)=>{e(i=>{var c,l;const s=i.teachers.map(u=>u.id===n?{...u,...r,updatedAt:new Date}:u),o=((c=i.teacherProfile)==null?void 0:c.id)===n?{...i.teacherProfile,...r,updatedAt:new Date}:i.teacherProfile;return o&&((l=i.teacherProfile)==null?void 0:l.id)===n&&nx(o).catch(console.error),{teachers:s,teacherProfile:o}})},removeTeacher:n=>e(r=>({teachers:r.teachers.filter(i=>i.id!==n)})),setTeacherProfile:n=>{e({teacherProfile:n}),n&&nx(n).catch(console.error)},updateTeacherProfile:n=>e(r=>{const i=r.teacherProfile?{...r.teacherProfile,...n,updatedAt:new Date}:null;return i&&nx(i).catch(console.error),{teacherProfile:i}}),setCourses:n=>e({courses:n}),addCourse:n=>{console.log("Adding course:",n),e(r=>({courses:[...r.courses,n],myCourses:[...r.myCourses,n]})),IA(n).then(r=>console.log(" Course saved to Firestore! ID:",r)).catch(r=>console.error(" Failed to save course:",r))},updateCourse:n=>{console.log("Updating course:",n.id),e(r=>({courses:r.courses.map(i=>i.id===n.id?n:i),myCourses:r.myCourses.map(i=>i.id===n.id?n:i)})),IA(n).then(()=>console.log(" Course updated in Firestore!")).catch(r=>console.error(" Failed to update course:",r))},removeCourse:n=>{e(r=>({courses:r.courses.filter(i=>i.id!==n),myCourses:r.myCourses.filter(i=>i.id!==n),sections:r.sections.filter(i=>i.courseId!==n),lessons:r.lessons.filter(i=>i.courseId!==n),mcqs:r.mcqs.filter(i=>i.courseId!==n),mockTests:r.mockTests.filter(i=>i.courseId!==n),liveTests:r.liveTests.filter(i=>i.courseId!==n)})),ike(n).catch(console.error)},setActiveCourse:n=>e({activeCourseId:n}),addSection:n=>e(r=>({sections:[...r.sections,n]})),updateSection:n=>e(r=>({sections:r.sections.map(i=>i.id===n.id?n:i)})),removeSection:n=>e(r=>({sections:r.sections.filter(i=>i.id!==n),lessons:r.lessons.filter(i=>i.sectionId!==n)})),reorderSections:(n,r)=>e(i=>({sections:i.sections.map(s=>{if(s.courseId!==n)return s;const o=r.indexOf(s.id);return o>=0?{...s,order:o}:s})})),addLesson:n=>e(r=>({lessons:[...r.lessons,n]})),updateLesson:n=>e(r=>({lessons:r.lessons.map(i=>i.id===n.id?n:i)})),removeLesson:n=>e(r=>({lessons:r.lessons.filter(i=>i.id!==n),mcqs:r.mcqs.filter(i=>i.lessonId!==n)})),reorderLessons:(n,r)=>e(i=>({lessons:i.lessons.map(s=>{if(s.sectionId!==n)return s;const o=r.indexOf(s.id);return o>=0?{...s,order:o}:s})})),addMCQ:n=>e(r=>({mcqs:[...r.mcqs,n]})),updateMCQ:n=>e(r=>({mcqs:r.mcqs.map(i=>i.id===n.id?n:i)})),removeMCQ:n=>e(r=>({mcqs:r.mcqs.filter(i=>i.id!==n)})),bulkAddMCQs:n=>e(r=>({mcqs:[...r.mcqs,...n]})),addMockTest:n=>e(r=>({mockTests:[...r.mockTests,n]})),updateMockTest:n=>e(r=>({mockTests:r.mockTests.map(i=>i.id===n.id?n:i)})),removeMockTest:n=>e(r=>({mockTests:r.mockTests.filter(i=>i.id!==n),mcqs:r.mcqs.filter(i=>i.mockTestId!==n)})),addLiveTest:n=>e(r=>({liveTests:[...r.liveTests,n]})),updateLiveTest:n=>e(r=>({liveTests:r.liveTests.map(i=>i.id===n.id?n:i)})),removeLiveTest:n=>e(r=>({liveTests:r.liveTests.filter(i=>i.id!==n)})),addEnrollment:n=>e(r=>({enrollments:[...r.enrollments,n],enrolledCourses:[...r.enrolledCourses,r.courses.find(i=>i.id===n.courseId)].filter(Boolean)})),updateEnrollment:n=>e(r=>({enrollments:r.enrollments.map(i=>i.id===n.id?n:i)})),updateLessonProgress:n=>e(r=>({lessonProgress:r.lessonProgress.some(i=>i.id===n.id)?r.lessonProgress.map(i=>i.id===n.id?n:i):[...r.lessonProgress,n]})),markLessonComplete:(n,r)=>e(i=>{const s=i.enrollments.find(u=>u.id===n);if(!s)return i;const o=[...new Set([...s.completedLessonIds||[],r])],c=i.lessons.filter(u=>u.courseId===s.courseId).length,l=c>0?o.length/c*100:0;return{enrollments:i.enrollments.map(u=>u.id===n?{...u,completedLessonIds:o,completedLessons:o.length,progress:l,lastAccessedAt:Date.now()}:u)}}),addMockTestAttempt:n=>e(r=>({mockTestAttempts:[...r.mockTestAttempts,n]})),updateMockTestAttempt:n=>e(r=>({mockTestAttempts:r.mockTestAttempts.map(i=>i.id===n.id?n:i)})),addLiveTestAttempt:n=>e(r=>({liveTestAttempts:[...r.liveTestAttempts,n]})),updateLiveTestAttempt:n=>e(r=>({liveTestAttempts:r.liveTestAttempts.map(i=>i.id===n.id?n:i)})),addReview:n=>e(r=>({reviews:[...r.reviews,n]})),updateReview:n=>e(r=>({reviews:r.reviews.map(i=>i.id===n.id?n:i)})),addAnnouncement:n=>e(r=>({announcements:[...r.announcements,n]})),removeAnnouncement:n=>e(r=>({announcements:r.announcements.filter(i=>i.id!==n)})),addDiscussion:n=>e(r=>({discussions:[...r.discussions,n]})),updateDiscussion:n=>e(r=>({discussions:r.discussions.map(i=>i.id===n.id?n:i)})),addConsultationBooking:n=>e(r=>({consultationBookings:[...r.consultationBookings,n]})),updateConsultationBooking:n=>e(r=>({consultationBookings:r.consultationBookings.map(i=>i.id===n.id?n:i)})),getCourseById:n=>t().courses.find(r=>r.id===n),getCoursesByTeacher:n=>t().courses.filter(r=>r.teacherId===n),getPublishedCourses:()=>t().courses.filter(n=>n.status==="published"),getCoursesByCategory:n=>t().courses.filter(r=>r.status==="published"&&r.category===n),getSectionsByCourse:n=>t().sections.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getLessonsBySection:n=>t().lessons.filter(r=>r.sectionId===n).sort((r,i)=>r.order-i.order),getLessonsByCourse:n=>t().lessons.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getPreviewableLessons:n=>t().lessons.filter(r=>r.courseId===n&&r.isPreviewable),getMCQsByLesson:n=>t().mcqs.filter(r=>r.lessonId===n).sort((r,i)=>r.order-i.order),getMCQsByMockTest:n=>t().mcqs.filter(r=>r.mockTestId===n).sort((r,i)=>r.order-i.order),getMockTestsByCourse:n=>t().mockTests.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getLiveTestsByCourse:n=>t().liveTests.filter(r=>r.courseId===n).sort((r,i)=>r.startTime-i.startTime),getUpcomingLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.courseId===n&&i.startTime>r).sort((i,s)=>i.startTime-s.startTime)},getActiveLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.courseId===n&&i.startTime<=r&&i.endTime>r)},getEnrollmentsByCourse:n=>t().enrollments.filter(r=>r.courseId===n),getEnrollmentsByStudent:n=>t().enrollments.filter(r=>r.studentId===n),isEnrolled:(n,r)=>t().enrollments.some(i=>i.courseId===n&&i.studentId===r&&i.status==="active"),getProgressByEnrollment:n=>t().lessonProgress.filter(r=>r.enrollmentId===n),getCourseProgress:(n,r)=>{const i=t().enrollments.find(s=>s.courseId===n&&s.studentId===r);return(i==null?void 0:i.progress)||0},getMockTestAttempts:(n,r)=>t().mockTestAttempts.filter(i=>i.mockTestId===n&&i.studentId===r).sort((i,s)=>s.submittedAt-i.submittedAt),getLiveTestAttempt:(n,r)=>t().liveTestAttempts.find(i=>i.liveTestId===n&&i.studentId===r),getMockTestLeaderboard:n=>t().mockTestAttempts.filter(r=>r.mockTestId===n&&r.status!=="in-progress").sort((r,i)=>i.percentage-r.percentage||r.timeTaken-i.timeTaken),getLiveTestLeaderboard:n=>t().liveTestAttempts.filter(r=>r.liveTestId===n&&r.status!=="in-progress").sort((r,i)=>i.percentage-r.percentage||r.timeTaken-i.timeTaken),getReviewsByCourse:n=>t().reviews.filter(r=>r.courseId===n&&r.status==="published").sort((r,i)=>i.createdAt-r.createdAt),getConsultationsByTeacher:n=>t().consultationBookings.filter(r=>r.teacherId===n).sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime()),getConsultationsByStudent:n=>t().consultationBookings.filter(r=>r.studentId===n).sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime()),getUpcomingConsultations:n=>{const i=new Date().toISOString().split("T")[0];return t().consultationBookings.filter(s=>(s.teacherId===n||s.studentId===n)&&s.status==="confirmed"&&s.date>=i).sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime())},getTeacherStats:n=>{const r=t(),i=r.courses.filter(l=>l.teacherId===n),s=i.map(l=>l.id),o=r.enrollments.filter(l=>s.includes(l.courseId)),c=r.reviews.filter(l=>s.includes(l.courseId));return{totalCourses:i.length,totalStudents:new Set(o.map(l=>l.studentId)).size,totalRevenue:o.reduce((l,u)=>l+u.pricePaid,0),averageRating:c.length>0?c.reduce((l,u)=>l+u.rating,0)/c.length:0}},getCourseStats:n=>{const r=t(),i=r.enrollments.filter(c=>c.courseId===n),s=r.reviews.filter(c=>c.courseId===n),o=i.filter(c=>c.progress===100);return{enrollments:i.length,completionRate:i.length>0?o.length/i.length*100:0,averageRating:s.length>0?s.reduce((c,l)=>c+l.rating,0)/s.length:0,revenue:i.reduce((c,l)=>c+l.pricePaid,0)}}}),{name:"coaching-storage",version:1,partialize:e=>({teachers:e.teachers,teacherProfile:e.teacherProfile,courses:e.courses,myCourses:e.myCourses,enrolledCourses:e.enrolledCourses,sections:e.sections,lessons:e.lessons,mcqs:e.mcqs,mockTests:e.mockTests,liveTests:e.liveTests,enrollments:e.enrollments,lessonProgress:e.lessonProgress,mockTestAttempts:e.mockTestAttempts,liveTestAttempts:e.liveTestAttempts,reviews:e.reviews,announcements:e.announcements,discussions:e.discussions,consultationBookings:e.consultationBookings,activeCourseId:e.activeCourseId,activeView:e.activeView})}));function oT(e){if(!e||!e.includes(":"))return null;const[t,n]=e.split(":");return{assetId:t,questionId:n}}function c3(e){var s;const t=oT(e);if(!t)return null;const{getMCQById:n}=Gl.getState(),r=n(t.assetId);return r&&((s=r.quizQuestions)==null?void 0:s.find(o=>o.id===t.questionId))||null}function ake(e,t){const n=`${e}:${t}`,{courseMCQs:r,updateCourseMCQ:i}=J_.getState(),s=c3(n);if(!s)return 0;let o=0;return r.forEach(c=>{c.assetRef===n&&(i({...c,question:s.question,options:s.options,correctIndex:s.correctIndex,explanation:s.explanation,difficulty:s.difficulty}),o++)}),o}function oke(e,t){const n=`${e}:${t}`,{groupMCQs:r,updateGroupMCQ:i}=la.getState(),s=c3(n);if(!s)return 0;let o=0;return r.forEach(c=>{c.assetRef===n&&(i({...c,question:s.question,options:s.options,correctIndex:s.correctIndex,explanation:s.explanation,difficulty:s.difficulty}),o++)}),o}function cke(e,t){const n=`${e}:${t}`,{mcqs:r,updateMCQ:i}=Xc.getState(),s=c3(n);if(!s)return 0;let o=0;return r.forEach(c=>{if(c.assetRef===n){const l={...c,question:s.question,options:s.options,correctIndex:s.correctIndex,explanation:s.explanation,difficulty:s.difficulty};i(l),xt(Ke(Pe,"coaching-mcqs",c.id),l).catch(console.error),o++}}),o}function lke(e){const{courseMCQs:t}=J_.getState(),{updateSingleMCQ:n}=Gl.getState(),r=t.find(s=>s.id===e);if(!r||!r.assetRef)return!1;const i=oT(r.assetRef);return i?(n(i.assetId,i.questionId,{question:r.question,options:r.options,correctIndex:r.correctIndex,explanation:r.explanation,difficulty:r.difficulty}),!0):!1}function uke(e){const{groupMCQs:t}=la.getState(),{updateSingleMCQ:n}=Gl.getState(),r=t.find(s=>s.id===e);if(!r||!r.assetRef)return!1;const i=oT(r.assetRef);return i?(n(i.assetId,i.questionId,{question:r.question,options:r.options,correctIndex:r.correctIndex,explanation:r.explanation,difficulty:r.difficulty}),!0):!1}function dke(e){const{mcqs:t}=Xc.getState(),{updateSingleMCQ:n}=Gl.getState(),r=t.find(s=>s.id===e);if(!r||!r.assetRef)return!1;const i=oT(r.assetRef);return i?(n(i.assetId,i.questionId,{question:r.question,options:r.options,correctIndex:r.correctIndex,explanation:r.explanation,difficulty:r.difficulty}),!0):!1}function fke(e,t){const n=ake(e,t),r=oke(e,t),i=cke(e,t);return{personal:n,group:r,coaching:i,total:n+r+i}}function v8({activeSubTab:e,setActiveSubTab:t}){var Ie,Je;const n=Ki(ie=>ie.user),{courses:r,topics:i,contentItems:s,courseMCQs:o,quizResults:c,activeCourseId:l,setActiveCourse:u,addCourse:d,updateCourse:f,removeCourse:h,addTopic:p,updateTopic:y,removeTopic:m,addContentItem:g,updateContentItem:v,removeContentItem:x,addCourseMCQ:b,updateCourseMCQ:w,removeCourseMCQ:T,addQuizResult:C,getTopicsByCourse:_,getMCQsByCourse:N,loadFromFirebase:k,subscribeToFirebase:j,liveTests:D,liveTestResults:E,addLiveTest:I,updateLiveTest:R,removeLiveTest:V,getLiveTestsByCourse:M,addLiveTestResult:H,getLiveTestResultsByTest:G,setAutoLiveTestConfig:P,getAutoLiveTestConfig:W}=J_(),[F,O]=A.useState(!1),[L,K]=A.useState([]),[Q,U]=A.useState(!1),[Z,pe]=A.useState(""),[me,ye]=A.useState(""),[Fe,Y]=A.useState(""),[ve,B]=A.useState(null),[_e,Ee]=A.useState("choose"),[se,J]=A.useState("text"),[de,X]=A.useState(""),[ue,te]=A.useState(""),[oe,le]=A.useState(""),[ae,Te]=A.useState("all"),[Ue,qe]=A.useState([]),[nt,Oe]=A.useState(null),[Le,Ze]=A.useState(null),[it,Dt]=A.useState(null),[$t,Pt]=A.useState(""),[xn,rn]=A.useState(["","","",""]),[qn,sr]=A.useState(0),[Kn,Jn]=A.useState(""),[_n,Ft]=A.useState(null),[_r,Jt]=A.useState(null),[ar,Kr]=A.useState(""),[Cr,Dn]=A.useState(["","","",""]),[hr,er]=A.useState(0),[or,cr]=A.useState(""),{subjects:Tr,assets:ce,selectedSubjectId:Se,selectedTopicId:xe,setSelectedSubject:we,setSelectedTopic:ne,getTopicsBySubject:fe}=Gl(),[Ae,re]=A.useState("upcoming"),[Ce,ke]=A.useState("schedule"),[Ne,he]=A.useState("schedule"),[Re,We]=A.useState(null),[ze,Xe]=A.useState([]),[ot,jt]=A.useState(0),[gt,Nt]=A.useState({}),[On,cn]=A.useState(0),[br,lr]=A.useState(null),[Zs,Ur]=A.useState(!1),[fc,ro]=A.useState(!1),[io,Ro]=A.useState(""),[so,ao]=A.useState("30"),[De,ht]=A.useState([]),[en,Ot]=A.useState("20"),[Fn,Tn]=A.useState(!0),[cs,Pn]=A.useState(!1),[ja,Ia]=A.useState("Daily Practice Test"),[kr,Xi]=A.useState([]),[oo,hc]=A.useState("10:00"),[el,pr]=A.useState("22:00"),[tu,zn]=A.useState("30"),[hi,Pi]=A.useState("20"),[Ar,Ra]=A.useState([0,1,2,3,4,5,6]),[pi,Oa]=A.useState(!0),si=l?r.find(ie=>ie.id===l):null,Lr=l?i.filter(ie=>ie.courseId===l).sort((ie,Me)=>ie.order-Me.order):[],mr=l?o.filter(ie=>ie.courseId===l):[],Fa=A.useMemo(()=>l?M(l).sort((ie,Me)=>Me.createdAt-ie.createdAt):[],[l,D]),pn=A.useMemo(()=>l?W(l):null,[l,W]),Oo=A.useMemo(()=>{if(!pn||!pn.enabled)return!1;const ie=new Date,Me=ie.getDay();if(!pn.activeDays.includes(Me))return!1;const vt=ie.getHours()*60+ie.getMinutes(),[Gt,yt]=pn.startTime.split(":").map(Number),[Qt,bn]=pn.endTime.split(":").map(Number),ai=Gt*60+yt,Po=Qt*60+bn;return vt>=ai&&vt<=Po},[pn]);A.useEffect(()=>{pn?(Pn(pn.enabled),Ia(pn.title),Xi(pn.categoryIds),hc(pn.startTime),pr(pn.endTime),zn(String(pn.duration)),Pi(String(pn.questionCount)),Ra(pn.activeDays),Oa(pn.showSolution)):(Pn(!1),Ia("Daily Practice Test"),Xi([]),hc("10:00"),pr("22:00"),zn("30"),Pi("20"),Ra([0,1,2,3,4,5,6]),Oa(!0))},[pn,l]),A.useEffect(()=>{if(n!=null&&n.id){k(n.id);const ie=j(n.id);return()=>ie()}},[n==null?void 0:n.id]);const Fo=ie=>{K(Me=>Me.includes(ie)?Me.filter(vt=>vt!==ie):[...Me,ie])},nu=()=>{if(!Z.trim()||!n)return;const ie={id:Zt(),userId:n.id,name:Z.trim(),description:me.trim(),icon:Fe,order:r.length+1,createdAt:Date.now(),updatedAt:Date.now()};d(ie),u(ie.id),pe(""),ye(""),U(!1)},Pa=ie=>{const Me=ie||"";if(!Me.trim()||!l||!n)return;const vt={id:Zt(),courseId:l,userId:n.id,name:Me.trim(),order:Lr.length+1,createdAt:Date.now()};p(vt)},Js=()=>{if(!ve||!de.trim()||!n||!l)return;let ie="note",Me=ue;se==="heading"?ie="note":se==="pdf"?ie="file":se==="text"?ie="note":se==="link"?(ie="link",Me=oe):se==="quiz"&&(ie="quiz");const vt={id:Zt(),courseId:l,topicId:ve.topicId,subTopicId:"",userId:n.id,type:ie,title:de.trim(),content:Me,order:s.filter(Gt=>Gt.topicId===ve.topicId).length+1,createdAt:Date.now(),updatedAt:Date.now()};g(vt),Jr()},Jr=()=>{B(null),Ee("choose"),J("text"),X(""),te(""),le(""),qe([]),Te("all")},tl=()=>{!ve||!n||!l||Ue.length===0||(Ue.forEach(ie=>{const Me=ce.find(yt=>yt.id===ie);if(!Me)return;let vt="";Me.type==="note"?vt=Me.content||"":Me.type==="url"?vt=Me.url||"":Me.type==="pdf"?vt=Me.fileUrl||"":Me.type==="video"&&(vt=Me.videoUrl||"");const Gt={id:Zt(),courseId:l,topicId:ve.topicId,subTopicId:"",userId:n.id,type:Me.type==="mcq"?"quiz":Me.type==="url"?"link":Me.type==="pdf"||Me.type==="video"?"file":"note",title:Me.title,content:vt,order:s.filter(yt=>yt.topicId===ve.topicId).length+1,createdAt:Date.now(),updatedAt:Date.now(),assetRef:Me.id};if(g(Gt),Me.type==="mcq"){const yt=Me;yt.quizQuestions&&Array.isArray(yt.quizQuestions)&&yt.quizQuestions.forEach(Qt=>{const bn={id:Zt(),courseId:l,categoryId:ve.topicId,userId:n.id,question:Qt.question||"",options:Qt.options||[],correctIndex:Qt.correctIndex||0,explanation:Qt.explanation,createdAt:Date.now()};b(bn)})}}),Jr())},ur=()=>{nt&&(v(nt),Oe(null))},ru=()=>{const ie=(it==null?void 0:it.topicId)||(ve==null?void 0:ve.topicId);if(!ie||!$t.trim()||!n||!l||xn.filter(vt=>vt.trim()).length<2)return;const Me={id:Zt(),courseId:l,categoryId:ie,userId:n.id,question:$t.trim(),options:xn.filter(vt=>vt.trim()),correctIndex:qn,explanation:Kn.trim()||void 0,createdAt:Date.now()};b(Me),Dt(null),Pt(""),rn(["","","",""]),sr(0),Jn("")},nl=ie=>{var Gt;let Me=mr;if(ie&&(Me=Me.filter(yt=>yt.categoryId===ie)),Me.length===0){alert("No MCQs available!");return}const vt=[...Me].sort(()=>Math.random()-.5);Ft({questions:vt,title:ie?((Gt=Lr.find(yt=>yt.id===ie))==null?void 0:Gt.name)||"Quiz":(si==null?void 0:si.name)||"Quiz"})},iu=ie=>{Jt(ie),Kr(ie.question),Dn([...ie.options]),er(ie.correctIndex),cr(ie.explanation||"")},su=async()=>{if(!_r||!ar.trim()||Cr.some(Me=>!Me.trim()))return;const ie={..._r,question:ar.trim(),options:Cr.map(Me=>Me.trim()),correctIndex:hr,explanation:or.trim()||void 0};w(ie),ie.assetRef&&lke(ie.id),Jt(null)},au=()=>{if(!io.trim()||!l||!n){alert("Please enter a test title");return}let ie=mr;if(De.length>0&&(ie=mr.filter(vt=>De.includes(vt.categoryId||""))),ie.length===0){alert("No questions available in selected categories");return}const Me={id:Zt(),courseId:l,userId:n.id,title:io.trim(),categoryIds:De,questionCount:Math.min(parseInt(en),ie.length),duration:parseInt(so),status:"scheduled",showSolution:Fn,createdAt:Date.now()};I(Me),ro(!1),Ro(""),ao("30"),ht([]),Ot("20"),Tn(!0),alert("Live Test created successfully!")},ea=()=>{if(!l||!n)return;if(cs&&kr.length===0&&mr.length===0){alert("Please add MCQs to your course first or select categories");return}const ie={id:`auto-${l}`,courseId:l,userId:n.id,enabled:cs,title:ja,categoryIds:kr,startTime:oo,endTime:el,duration:parseInt(tu),questionCount:parseInt(hi),activeDays:Ar,showSolution:pi,createdAt:(pn==null?void 0:pn.createdAt)||Date.now(),updatedAt:Date.now()};P(ie),alert("Auto Daily Test settings saved!")},ou=ie=>{let Me=mr;if(ie.categoryIds.length>0&&(Me=mr.filter(yt=>ie.categoryIds.includes(yt.categoryId||""))),Me.length===0){alert("No questions available");return}const Gt=[...Me].sort(()=>Math.random()-.5).slice(0,ie.questionCount);Xe(Gt),jt(0),Nt({}),cn(Date.now()),We(ie),R({...ie,status:"active",startedAt:Date.now()})},Xr=()=>{if(!pn||!l||!n)return;let ie=mr;if(pn.categoryIds.length>0&&(ie=mr.filter(yt=>pn.categoryIds.includes(yt.categoryId||""))),ie.length===0){alert("No questions available");return}const Me={id:`auto-${Date.now()}`,courseId:l,userId:n.id,title:pn.title,categoryIds:pn.categoryIds,questionCount:Math.min(pn.questionCount,ie.length),duration:pn.duration,status:"active",showSolution:pn.showSolution,startedAt:Date.now(),createdAt:Date.now()},Gt=[...ie].sort(()=>Math.random()-.5).slice(0,Me.questionCount);Xe(Gt),jt(0),Nt({}),cn(Date.now()),We(Me)},co=()=>{if(!Re||!n||!l)return;const ie=Math.round((Date.now()-On)/1e3);let Me=0,vt=0,Gt=0;const yt=ze.map(ai=>{const Po=gt[ai.id]!==void 0?gt[ai.id]:null;return Po===null?Gt++:Po===ai.correctIndex?Me++:vt++,{questionId:ai.id,selected:Po,correct:ai.correctIndex}}),Qt=Math.round(Me/ze.length*100),bn={id:Zt(),testId:Re.id,courseId:l,userId:n.id,score:Qt,correct:Me,wrong:vt,unanswered:Gt,total:ze.length,timeTaken:ie,answers:yt,submittedAt:Date.now()};H(bn),Re.id.startsWith("auto-")||R({...Re,status:"completed",endedAt:Date.now()}),lr(bn),We(null),Xe([]),re("results")},rl=(ie,Me)=>{const Gt=ie+Me*60*1e3-Date.now();if(Gt<=0)return"0:00";const yt=Math.floor(Gt/6e4),Qt=Math.floor(Gt%6e4/1e3);return`${yt}:${String(Qt).padStart(2,"0")}`},Ua={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]};return _n?a.jsx("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:a.jsx(JCe,{questions:_n.questions.map(ie=>({id:ie.id,categoryId:ie.categoryId||"",question:ie.question,options:ie.options,correctIndex:ie.correctIndex,explanation:ie.explanation})),testTitle:_n.title,onFinish:ie=>{var Me;n&&l&&C({id:Zt(),courseId:l,quizItemId:((Me=_n.questions[0])==null?void 0:Me.id)||"",quizTitle:_n.title,userId:n.id,score:ie.percentage,correct:ie.correct,wrong:ie.wrong,unanswered:ie.total-ie.correct-ie.wrong,total:ie.total,timeTaken:ie.timeTaken,answers:ie.answers,createdAt:Date.now()}),Ft(null)},onBack:()=>Ft(null)})}):Re&&ze.length>0?a.jsx("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-20 lg:pb-6",children:a.jsxs(dt,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-sm",children:[a.jsxs("span",{className:"font-medium",children:["Q ",ot+1,"/",ze.length]}),a.jsxs("span",{className:"text-red-500 font-medium",children:[a.jsx(Ir,{className:"h-3.5 w-3.5 inline mr-1"}),rl(On,Re.duration)]})]}),a.jsxs(ge,{variant:"destructive",size:"sm",className:"h-8 text-xs",onClick:co,children:[a.jsx(fa,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Submit"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4 p-2 sm:p-3 bg-muted/50 rounded overflow-x-auto",children:ze.map((ie,Me)=>a.jsx("button",{onClick:()=>jt(Me),className:`min-w-[28px] w-7 h-7 sm:w-8 sm:h-8 rounded text-xs sm:text-sm font-medium transition-colors ${ot===Me?"bg-primary text-primary-foreground":gt[ze[Me].id]!==void 0?"bg-green-500 text-white":"bg-background border"}`,children:Me+1},Me))}),a.jsx("h3",{className:"text-base sm:text-lg font-medium mb-3 sm:mb-4",children:(Ie=ze[ot])==null?void 0:Ie.question}),a.jsx("div",{className:"space-y-2",children:(Je=ze[ot])==null?void 0:Je.options.map((ie,Me)=>a.jsxs("div",{className:`p-2.5 sm:p-3 border rounded cursor-pointer transition-colors text-sm ${gt[ze[ot].id]===Me?"border-primary bg-primary/10":"hover:bg-muted"}`,onClick:()=>Nt(vt=>({...vt,[ze[ot].id]:Me})),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+Me),"."]})," ",ie]},Me))}),a.jsxs("div",{className:"flex justify-between pt-3 sm:pt-4",children:[a.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 text-xs sm:text-sm",disabled:ot===0,onClick:()=>jt(ie=>ie-1),children:[a.jsx(k4,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})]}),ot<ze.length-1?a.jsxs(ge,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>jt(ie=>ie+1),children:[a.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),a.jsx(xa,{className:"h-4 w-4"})]}):a.jsxs(ge,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:co,children:[a.jsx(fa,{className:"h-3.5 w-3.5 mr-1"})," Submit"]})]})]})}):Zs&&br?a.jsx("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-20 lg:pb-6",children:a.jsxs(dt,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"View Solutions"}),a.jsxs(ge,{variant:"outline",size:"sm",className:"h-8",onClick:()=>Ur(!1),children:[a.jsx(sn,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]}),a.jsx("div",{className:"space-y-4 sm:space-y-6",children:br.answers.map((ie,Me)=>{const vt=o.find(Qt=>Qt.id===ie.questionId);if(!vt)return null;const Gt=ie.selected===ie.correct,yt=ie.selected===null;return a.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${Gt?"border-green-500 bg-green-50 dark:bg-green-950/20":yt?"border-gray-400 bg-gray-50 dark:bg-gray-950/20":"border-red-500 bg-red-50 dark:bg-red-950/20"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[a.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:["Q",Me+1,"."]}),Gt?a.jsxs("span",{className:"text-green-600 text-xs sm:text-sm flex items-center",children:[a.jsx(ga,{className:"h-3.5 w-3.5 mr-1"})," Correct"]}):yt?a.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm flex items-center",children:[a.jsx(Oz,{className:"h-3.5 w-3.5 mr-1"})," Skipped"]}):a.jsxs("span",{className:"text-red-600 text-xs sm:text-sm flex items-center",children:[a.jsx(Ou,{className:"h-3.5 w-3.5 mr-1"})," Wrong"]})]}),a.jsx("p",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:vt.question}),a.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:vt.options.map((Qt,bn)=>a.jsxs("div",{className:`p-1.5 sm:p-2 rounded text-xs sm:text-sm ${bn===ie.correct?"bg-green-200 dark:bg-green-900 font-medium":ie.selected===bn&&!Gt?"bg-red-200 dark:bg-red-900":""}`,children:[a.jsxs("span",{className:"font-medium mr-1.5 sm:mr-2",children:[String.fromCharCode(65+bn),"."]}),Qt,bn===ie.correct&&a.jsx(fa,{className:"h-3.5 w-3.5 inline ml-1.5 text-green-600"}),ie.selected===bn&&!Gt&&a.jsx(sn,{className:"h-3.5 w-3.5 inline ml-1.5 text-red-600"})]},bn))}),vt.explanation&&a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-xs sm:text-sm",children:[a.jsx("span",{className:"font-medium",children:"Explanation:"})," ",vt.explanation]})]},ie.questionId)})})]})}):si?a.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto pb-20 lg:pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>u(null),children:" Back"}),a.jsx("span",{className:"text-2xl",children:si.icon}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold",children:si.name}),si.description&&a.jsx("p",{className:"text-sm text-muted-foreground",children:si.description})]})]}),a.jsx(ge,{variant:F?"default":"outline",size:"sm",onClick:()=>O(!F),children:F?a.jsxs(a.Fragment,{children:[a.jsx(ha,{className:"h-4 w-4 mr-1"})," Exit Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(ha,{className:"h-4 w-4 mr-1"})," Edit"]})})]}),a.jsxs(v0,{value:e,onValueChange:ie=>t(ie),className:"w-full",children:[a.jsxs(Kh,{className:"hidden lg:flex w-full justify-start mb-4 bg-muted/50",children:[a.jsxs(bi,{value:"dashboard",className:"flex items-center gap-2",children:[a.jsx(q2,{className:"h-4 w-4"}),"Dashboard"]}),a.jsxs(bi,{value:"course",className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"h-4 w-4"}),"Course"]}),a.jsxs(bi,{value:"live-test",className:"flex items-center gap-2",children:[a.jsx(lf,{className:"h-4 w-4"}),"Live Test"]}),a.jsxs(bi,{value:"settings",className:"flex items-center gap-2",children:[a.jsx(ms,{className:"h-4 w-4"}),"Settings"]})]}),a.jsxs(wi,{value:"dashboard",className:"mt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(Hr,{className:"h-6 w-6 mx-auto mb-2 text-blue-500"}),a.jsx("p",{className:"text-xl font-bold",children:Lr.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Chapters"})]})}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(Sr,{className:"h-6 w-6 mx-auto mb-2 text-green-500"}),a.jsx("p",{className:"text-xl font-bold",children:s.filter(ie=>ie.courseId===l).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Contents"})]})}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(Dc,{className:"h-6 w-6 mx-auto mb-2 text-purple-500"}),a.jsx("p",{className:"text-xl font-bold",children:mr.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"MCQs"})]})}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(za,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),a.jsx("p",{className:"text-xl font-bold",children:c.filter(ie=>ie.courseId===l).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quiz Results"})]})})]}),a.jsxs(dt,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>t("course"),children:[a.jsx(Yt,{className:"h-4 w-4 mr-1"})," Add Chapter"]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>nl(),disabled:mr.length===0,children:[a.jsx(Zo,{className:"h-4 w-4 mr-1"})," Start Quiz"]})]})]})]}),a.jsxs(wi,{value:"course",className:"mt-4 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-lg font-semibold",children:"Course Contents"})}),F&&a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 hover:bg-muted/50 rounded cursor-pointer border border-dashed",onClick:()=>{const ie=prompt("Enter chapter name:");ie!=null&&ie.trim()&&Pa(ie)},children:[a.jsx(Yt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]}),a.jsx("div",{className:"space-y-3",children:Lr.length===0?a.jsx(dt,{className:"p-8 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["No chapters yet. ",F&&'Click "Add new chapter" above!']})}):Lr.map(ie=>{const Me=s.filter(yt=>yt.topicId===ie.id),vt=mr.filter(yt=>yt.categoryId===ie.id),Gt=L.includes(ie.id);return a.jsxs(dt,{className:"overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-muted/50",onClick:()=>Fo(ie.id),children:[Gt?a.jsx(Mc,{className:"h-4 w-4"}):a.jsx(xa,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium",children:ie.name}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",Me.length," items, ",vt.length," MCQs)"]})]}),F&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,onClick:yt=>yt.stopPropagation(),children:a.jsx(ge,{variant:"ghost",size:"sm",children:a.jsx(Pl,{className:"h-4 w-4"})})}),a.jsxs(Vc,{children:[a.jsxs(Cn,{onClick:()=>{const yt=prompt("Rename chapter:",ie.name);yt!=null&&yt.trim()&&y({...ie,name:yt.trim()})},children:[a.jsx(ha,{className:"h-4 w-4 mr-2"})," Rename"]}),a.jsxs(Cn,{onClick:()=>{K(yt=>yt.includes(ie.id)?yt:[...yt,ie.id]),B({topicId:ie.id})},children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Add content"]}),a.jsxs(Cn,{onClick:()=>{const yt=Lr.findIndex(Qt=>Qt.id===ie.id);if(yt>0){const Qt=Lr[yt-1];y({...ie,order:Qt.order}),y({...Qt,order:ie.order})}},disabled:Lr.findIndex(yt=>yt.id===ie.id)===0,children:[a.jsx(Ev,{className:"h-4 w-4 mr-2"})," Move up"]}),a.jsxs(Cn,{onClick:()=>{const yt=Lr.findIndex(Qt=>Qt.id===ie.id);if(yt<Lr.length-1){const Qt=Lr[yt+1];y({...ie,order:Qt.order}),y({...Qt,order:ie.order})}},disabled:Lr.findIndex(yt=>yt.id===ie.id)===Lr.length-1,children:[a.jsx(Tv,{className:"h-4 w-4 mr-2"})," Move down"]}),a.jsxs(Cn,{className:"text-destructive",onClick:()=>{confirm("Delete this chapter and all its content?")&&m(ie.id)},children:[a.jsx(wr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]}),!F&&vt.length>0&&a.jsxs(ge,{variant:"outline",size:"sm",onClick:yt=>{yt.stopPropagation(),nl(ie.id)},children:[a.jsx(Zo,{className:"h-3 w-3 mr-1"})," Quiz"]})]}),Gt&&a.jsxs("div",{className:"border-t bg-muted/30 p-3 space-y-2",children:[Me.map(yt=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background rounded border cursor-pointer hover:border-primary",onClick:()=>Ze(yt),children:[yt.type==="note"?a.jsx(Sr,{className:"h-4 w-4 text-green-500"}):a.jsx(Dc,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"flex-1 text-sm",children:yt.title}),a.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:yt.type}),F&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,onClick:Qt=>Qt.stopPropagation(),children:a.jsx(ge,{variant:"ghost",size:"sm",children:a.jsx(Pl,{className:"h-3 w-3"})})}),a.jsxs(Vc,{children:[a.jsxs(Cn,{onClick:Qt=>{Qt.stopPropagation(),Oe(yt)},children:[a.jsx(ha,{className:"h-4 w-4 mr-2"})," Edit"]}),a.jsxs(Cn,{className:"text-destructive",onClick:Qt=>{Qt.stopPropagation(),confirm("Delete this content?")&&x(yt.id)},children:[a.jsx(wr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]},yt.id)),F&&a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 hover:bg-muted/50 rounded cursor-pointer text-primary",onClick:()=>B({topicId:ie.id}),children:[a.jsx(Yt,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Add content"})]}),vt.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsxs("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:["MCQs (",vt.length,")"]}),a.jsx("div",{className:"space-y-1",children:vt.map((yt,Qt)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background rounded border hover:border-primary text-sm",children:[a.jsx(Dc,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),a.jsxs("span",{className:"flex-1 truncate",children:[Qt+1,". ",yt.question.replace(/<[^>]*>/g,"").substring(0,60),"..."]}),yt.assetRef&&a.jsx("span",{className:"text-xs text-green-500",title:"Synced with Library",children:""}),F&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,onClick:bn=>bn.stopPropagation(),children:a.jsx(ge,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",children:a.jsx(Pl,{className:"h-3 w-3"})})}),a.jsxs(Vc,{children:[a.jsxs(Cn,{onClick:()=>iu(yt),children:[a.jsx(ha,{className:"h-4 w-4 mr-2"})," Edit"]}),a.jsxs(Cn,{className:"text-destructive",onClick:()=>{confirm("Delete this MCQ?")&&T(yt.id)},children:[a.jsx(wr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]},yt.id))})]}),Me.length===0&&a.jsxs("p",{className:"text-sm text-muted-foreground py-2",children:["No content yet. ",F&&'Click "Add content" to start!']})]})]},ie.id)})}),F&&Lr.length>0&&a.jsxs("div",{className:"flex items-center gap-2 py-3 px-3 hover:bg-primary/10 rounded cursor-pointer border border-dashed",onClick:()=>{const ie=prompt("Enter chapter name:");ie!=null&&ie.trim()&&Pa(ie)},children:[a.jsx(Yt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]})]}),a.jsxs(wi,{value:"live-test",className:"mt-4 space-y-4",children:[Oo&&pn&&a.jsx(dt,{className:"border-2 border-green-500 bg-green-50 dark:bg-green-900/20",children:a.jsxs(Lt,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base text-green-700 dark:text-green-400",children:pn.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[pn.questionCount," Q  ",pn.duration," min"]})]})]}),a.jsxs(ge,{size:"sm",className:"h-8 text-xs sm:text-sm w-full sm:w-auto bg-green-600 hover:bg-green-700",onClick:Xr,children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Start Daily Test"]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Available until ",pn.endTime," today"]})]})}),a.jsxs("div",{className:"flex gap-2 border-b pb-2 mb-4",children:[a.jsxs(ge,{variant:Ae==="upcoming"?"default":"ghost",size:"sm",onClick:()=>re("upcoming"),children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"})," Upcoming"]}),a.jsxs(ge,{variant:Ae==="past"?"default":"ghost",size:"sm",onClick:()=>re("past"),children:[a.jsx(hm,{className:"h-4 w-4 mr-1"})," Past Tests"]}),a.jsxs(ge,{variant:Ae==="results"?"default":"ghost",size:"sm",onClick:()=>re("results"),children:[a.jsx(za,{className:"h-4 w-4 mr-1"})," My Results"]})]}),Ae==="upcoming"&&a.jsx("div",{className:"space-y-4",children:Fa.filter(ie=>ie.status==="scheduled").length===0?a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(Ir,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for scheduled tests"})]}):Fa.filter(ie=>ie.status==="scheduled").map(ie=>a.jsx(dt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:ie.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(m0,{className:"h-4 w-4 inline mr-1"})," ",ie.questionCount," questions"]}),a.jsxs("span",{children:[a.jsx(Ir,{className:"h-4 w-4 inline mr-1"})," ",ie.duration," min"]})]})]}),a.jsxs(ge,{onClick:()=>ou(ie),children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"})," Start"]})]})},ie.id))}),Ae==="past"&&a.jsx("div",{className:"space-y-4",children:Fa.filter(ie=>ie.status==="completed").length===0?a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(hm,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Completed tests will appear here"})]}):Fa.filter(ie=>ie.status==="completed").map(ie=>{const Me=E.find(vt=>vt.testId===ie.id);return a.jsxs(dt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:ie.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[ie.endedAt?new Date(ie.endedAt).toLocaleDateString():"","  ",ie.questionCount," questions"]})]}),a.jsx("div",{className:"text-right",children:Me?a.jsxs("div",{className:`text-2xl font-bold ${Me.score>=80?"text-green-500":Me.score>=50?"text-yellow-500":"text-red-500"}`,children:[Me.score,"%"]}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Not attempted"})})]}),Me&&ie.showSolution&&a.jsx("div",{className:"flex gap-2 mt-3",children:a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>{lr(Me),Ur(!0)},children:[a.jsx(Bc,{className:"h-4 w-4 mr-1"})," View Solutions"]})})]},ie.id)})}),Ae==="results"&&a.jsx("div",{className:"space-y-4",children:br?a.jsxs(dt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Test Result"}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>lr(null),children:[a.jsx(sn,{className:"h-4 w-4 mr-1"})," Close"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsxs("div",{className:`text-2xl font-bold ${br.score>=80?"text-green-500":br.score>=50?"text-yellow-500":"text-red-500"}`,children:[br.score,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Score"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-green-500",children:br.correct}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-red-500",children:br.wrong}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Wrong"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[Math.floor(br.timeTaken/60),":",String(br.timeTaken%60).padStart(2,"0")]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Time"})]})]}),a.jsxs(ge,{onClick:()=>Ur(!0),className:"w-full",children:[a.jsx(Bc,{className:"h-4 w-4 mr-2"})," View Solutions"]})]}):a.jsxs(dt,{className:"p-4",children:[a.jsx(jn,{className:"p-0 pb-3",children:a.jsx(Mn,{children:"My Live Test Results"})}),a.jsx(Lt,{className:"p-0",children:E.filter(ie=>ie.courseId===l).length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No results yet. Take a live test!"}):a.jsx("div",{className:"space-y-2",children:E.filter(ie=>ie.courseId===l).sort((ie,Me)=>Me.submittedAt-ie.submittedAt).map(ie=>{const Me=D.find(vt=>vt.id===ie.testId);return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-muted/50 cursor-pointer",onClick:()=>lr(ie),children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(Me==null?void 0:Me.title)||"Auto Test"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(ie.submittedAt).toLocaleDateString(),"  ",ie.correct,"/",ie.total," correct"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`text-xl font-bold ${ie.score>=80?"text-green-500":ie.score>=50?"text-yellow-500":"text-red-500"}`,children:[ie.score,"%"]}),(Me==null?void 0:Me.showSolution)&&a.jsx(ge,{size:"sm",variant:"outline",onClick:vt=>{vt.stopPropagation(),lr(ie),Ur(!0)},children:a.jsx(Bc,{className:"h-4 w-4"})})]})]},ie.id)})})})]})})]}),a.jsxs(wi,{value:"settings",className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Course Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage this course"})]}),a.jsxs(dt,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Course Info"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Name"}),a.jsx(et,{value:si.name,onChange:ie=>f({...si,name:ie.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description"}),a.jsx(Hn,{value:si.description||"",onChange:ie=>f({...si,description:ie.target.value}),rows:3})]})]})]}),a.jsxs(dt,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Live Test Management"]}),a.jsxs("div",{className:"flex gap-1 p-1 bg-muted rounded-lg mb-4",children:[a.jsx("button",{onClick:()=>ke("schedule"),className:`flex-1 py-2 px-4 rounded text-sm font-medium transition-all ${Ce==="schedule"?"bg-background shadow":"hover:bg-background/50"}`,children:"Schedule"}),a.jsx("button",{onClick:()=>ke("auto-daily"),className:`flex-1 py-2 px-4 rounded text-sm font-medium transition-all ${Ce==="auto-daily"?"bg-background shadow":"hover:bg-background/50"}`,children:"Auto Daily"})]}),Ce==="schedule"&&a.jsx("div",{className:"space-y-4",children:fc?a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-medium",children:"Create New Test"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>ro(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title *"}),a.jsx(et,{placeholder:"e.g., Weekly Quiz #1",value:io,onChange:ie=>Ro(ie.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Chapters (optional)"}),a.jsxs("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:De.length===0,onChange:()=>ht([]),className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["All Chapters (",mr.length," MCQs)"]})]}),Lr.map(ie=>{const Me=mr.filter(Gt=>Gt.categoryId===ie.id).length,vt=De.includes(ie.id);return a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:vt,onChange:Gt=>{Gt.target.checked?ht([...De,ie.id]):ht(De.filter(yt=>yt!==ie.id))},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[ie.name," (",Me,")"]})]},ie.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Duration"}),a.jsxs(Wt,{value:so,onValueChange:ao,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"15",children:"15 minutes"}),a.jsx(Qe,{value:"30",children:"30 minutes"}),a.jsx(Qe,{value:"45",children:"45 minutes"}),a.jsx(Qe,{value:"60",children:"60 minutes"}),a.jsx(Qe,{value:"90",children:"90 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions Count"}),a.jsxs(Wt,{value:en,onValueChange:Ot,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"10",children:"10 Questions"}),a.jsx(Qe,{value:"20",children:"20 Questions"}),a.jsx(Qe,{value:"30",children:"30 Questions"}),a.jsx(Qe,{value:"50",children:"50 Questions"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show solutions after test"}),a.jsx("input",{type:"checkbox",checked:Fn,onChange:ie=>Tn(ie.target.checked),className:"h-4 w-4"})]}),a.jsxs(ge,{onClick:au,className:"w-full",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create Test"]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ge,{onClick:()=>ro(!0),className:"w-full",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create New Test"]}),Fa.filter(ie=>ie.status==="scheduled").length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Tests"}),Fa.filter(ie=>ie.status==="scheduled").map(ie=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ie.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ie.questionCount," questions  ",ie.duration," min"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:"Ready"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this test?")&&V(ie.id)},children:a.jsx(wr,{className:"h-4 w-4 text-red-500"})})]})]},ie.id))]}):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No scheduled tests. Create one above!"})]})}),Ce==="auto-daily"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Enable Auto Daily Test"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Practice with a new test every day at the specified time"})]}),a.jsx("input",{type:"checkbox",checked:cs,onChange:ie=>Pn(ie.target.checked),className:"h-5 w-5"})]}),a.jsxs("div",{className:`space-y-4 ${cs?"":"opacity-50 pointer-events-none"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title"}),a.jsx(et,{value:ja,onChange:ie=>Ia(ie.target.value),placeholder:"Daily Practice Test"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Chapters"}),a.jsx("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:Lr.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add chapters first."}):a.jsxs(a.Fragment,{children:[a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:kr.length===0,onChange:()=>Xi([]),className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["All Chapters (",mr.length,")"]})]}),Lr.map(ie=>{const Me=mr.filter(Gt=>Gt.categoryId===ie.id).length,vt=kr.includes(ie.id);return a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:vt,onChange:Gt=>{Gt.target.checked?Xi([...kr,ie.id]):Xi(kr.filter(yt=>yt!==ie.id))},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[ie.name," (",Me,")"]})]},ie.id)})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Daily Start Time"}),a.jsx(et,{type:"time",value:oo,onChange:ie=>hc(ie.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Daily End Time"}),a.jsx(et,{type:"time",value:el,onChange:ie=>pr(ie.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Duration"}),a.jsxs(Wt,{value:tu,onValueChange:zn,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"15",children:"15 minutes"}),a.jsx(Qe,{value:"30",children:"30 minutes"}),a.jsx(Qe,{value:"45",children:"45 minutes"}),a.jsx(Qe,{value:"60",children:"60 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions Count"}),a.jsxs(Wt,{value:hi,onValueChange:Pi,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"10",children:"10 Questions"}),a.jsx(Qe,{value:"20",children:"20 Questions"}),a.jsx(Qe,{value:"30",children:"30 Questions"}),a.jsx(Qe,{value:"50",children:"50 Questions"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Active Days"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((ie,Me)=>a.jsx("button",{onClick:()=>{Ar.includes(Me)?Ra(Ar.filter(vt=>vt!==Me)):Ra([...Ar,Me])},className:`px-3 py-1 rounded text-sm ${Ar.includes(Me)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:ie},ie))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show solutions after test"}),a.jsx("input",{type:"checkbox",checked:pi,onChange:ie=>Oa(ie.target.checked),className:"h-4 w-4"})]})]}),a.jsxs(ge,{onClick:ea,className:"w-full",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Save Auto Test Settings"]}),cs&&pn&&a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:" Auto Test Active"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Runs daily from ",pn.startTime," to ",pn.endTime]})]})]})]}),a.jsxs(dt,{className:"p-4 border-destructive/50",children:[a.jsx("h3",{className:"font-semibold mb-3 text-destructive",children:"Danger Zone"}),a.jsxs(ge,{variant:"destructive",onClick:()=>{confirm("Delete this course and all its content? This cannot be undone!")&&(h(l),u(null))},children:[a.jsx(wr,{className:"h-4 w-4 mr-2"})," Delete Course"]})]})]})]}),a.jsx(dr,{children:ve&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:Jr,children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:ie=>ie.stopPropagation(),children:[_e==="choose"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Add Content"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:Jr,children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover:border-primary hover:bg-muted/50 cursor-pointer transition-all",onClick:()=>Ee("type"),children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Yt,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Manually"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create new content from scratch"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover:border-primary hover:bg-muted/50 cursor-pointer transition-all",onClick:()=>Ee("import"),children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:a.jsx(ma,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Import from Library"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Import MCQs or Notes from your library"})]})]})]})]}),_e==="import"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Ee("choose"),children:a.jsx(Lc,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(ma,{className:"h-5 w-5 text-purple-600"}),"Import from Library"]}),a.jsx("div",{className:"flex-1"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:Jr,children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-1 p-1 bg-muted rounded mb-4",children:["all","mcq","note","url","pdf","video"].map(ie=>a.jsx("button",{onClick:()=>Te(ie),className:`px-2 py-1 rounded text-xs capitalize ${ae===ie?"bg-background shadow":""}`,children:ie==="all"?"All":ie==="mcq"?"MCQs":ie==="note"?"Notes":ie==="url"?"Links":ie==="pdf"?"PDFs":"Videos"},ie))}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs(Wt,{value:Se||"all",onValueChange:ie=>we(ie==="all"?null:ie),children:[a.jsx(Mt,{className:"flex-1 h-9",children:a.jsx(qt,{placeholder:"All Subjects"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Subjects"}),Tr.map(ie=>a.jsx(Qe,{value:ie.id,children:ie.name},ie.id))]})]}),Se&&a.jsxs(Wt,{value:xe||"all",onValueChange:ie=>ne(ie==="all"?null:ie),children:[a.jsx(Mt,{className:"flex-1 h-9",children:a.jsx(qt,{placeholder:"All Topics"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Topics"}),fe(Se).map(ie=>a.jsx(Qe,{value:ie.id,children:ie.name},ie.id))]})]})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:ce.length===0?a.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No assets in your library yet.",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Go to Library tab to add content!"})]}):ce.filter(ie=>!(ae!=="all"&&ie.type!==ae||Se&&ie.subjectId!==Se||xe&&ie.topicId!==xe)).map(ie=>a.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-muted/50 ${Ue.includes(ie.id)?"border-primary bg-primary/5":""}`,children:[a.jsx("input",{type:"checkbox",checked:Ue.includes(ie.id),onChange:Me=>{Me.target.checked?qe([...Ue,ie.id]):qe(Ue.filter(vt=>vt!==ie.id))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${ie.type==="mcq"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":ie.type==="note"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":ie.type==="url"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300"}`,children:ie.type.toUpperCase()}),a.jsx("span",{className:"font-medium text-sm truncate",children:ie.title})]}),ie.type==="note"&&ie.content&&a.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:[(ie.content||"").replace(/<[^>]*>/g,"").substring(0,60),"..."]}),ie.type==="mcq"&&ie.quizQuestions&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[ie.quizQuestions.length," questions"]})]})]},ie.id))}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[a.jsx(ge,{variant:"outline",onClick:Jr,children:"Cancel"}),a.jsxs(ge,{onClick:tl,disabled:Ue.length===0,className:"bg-purple-600 hover:bg-purple-700",children:[a.jsx(ma,{className:"h-4 w-4 mr-2"}),"Import (",Ue.length,")"]})]})]}),_e==="type"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Ee("choose"),children:a.jsx(Lc,{className:"h-4 w-4"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Create new item"}),a.jsx("div",{className:"flex-1"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:Jr,children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"space-y-2",children:[{type:"heading",icon:Pz,label:"Heading",desc:"Define chapter section headings"},{type:"pdf",icon:D4,label:"PDF / Images",desc:"Upload PDF or image files"},{type:"text",icon:Wz,label:"Text",desc:"Add custom text or iFrame and HTML"},{type:"link",icon:Lz,label:"Link (Video, Website etc.)",desc:"Add link which will be embedded in iFrame"},{type:"quiz",icon:Dc,label:"Quiz",desc:"Learners can attempt any time & get results"}].map(ie=>a.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg border cursor-pointer transition-all ${se===ie.type?"border-primary bg-primary/5":"hover:border-muted-foreground/50"}`,onClick:()=>{J(ie.type),Ee("form")},children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center",children:se===ie.type&&a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),a.jsx(ie.icon,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:ie.label}),a.jsx("p",{className:"text-xs text-muted-foreground",children:ie.desc})]})]},ie.type))})]}),_e==="form"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Ee("type"),children:a.jsx(Lc,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-xl font-semibold",children:[se==="heading"&&"Add Heading",se==="pdf"&&"Add PDF / Images",se==="text"&&"Add Text",se==="link"&&"Add Link",se==="quiz"&&"Add Quiz"]}),a.jsx("div",{className:"flex-1"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:Jr,children:a.jsx(sn,{className:"h-4 w-4"})})]}),se==="heading"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Heading Text"}),a.jsx(et,{placeholder:"Enter heading",value:de,onChange:ie=>X(ie.target.value)})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:Jr,children:"Cancel"}),a.jsx(ge,{onClick:Js,disabled:!de.trim(),children:"Add"})]})]}),se==="pdf"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(et,{placeholder:"File title",value:de,onChange:ie=>X(ie.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"File URL"}),a.jsx(et,{placeholder:"Enter file URL (PDF, Image)",value:oe,onChange:ie=>le(ie.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload to Google Drive/Dropbox and paste the link"})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:Jr,children:"Cancel"}),a.jsx(ge,{onClick:Js,disabled:!de.trim(),children:"Add"})]})]}),se==="text"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(et,{placeholder:"Content title",value:de,onChange:ie=>X(ie.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsx(Nf,{theme:"snow",value:ue,onChange:te,modules:Ua,className:"bg-background"})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:Jr,children:"Cancel"}),a.jsx(ge,{onClick:Js,disabled:!de.trim(),children:"Add"})]})]}),se==="link"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(et,{placeholder:"Link title",value:de,onChange:ie=>X(ie.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"URL"}),a.jsx(et,{placeholder:"https://...",value:oe,onChange:ie=>le(ie.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"YouTube, Website, or any embeddable link"})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:Jr,children:"Cancel"}),a.jsx(ge,{onClick:Js,disabled:!de.trim()||!oe.trim(),children:"Add"})]})]}),se==="quiz"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question"}),a.jsx(Hn,{placeholder:"Enter your question",value:$t,onChange:ie=>Pt(ie.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options (click to mark correct)"}),xn.map((ie,Me)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${qn===Me?"border-green-500 bg-green-500 text-white":"border-muted-foreground"}`,onClick:()=>sr(Me),children:qn===Me&&a.jsx(fa,{className:"h-3 w-3"})}),a.jsx(et,{placeholder:`Option ${String.fromCharCode(65+Me)}`,value:ie,onChange:vt=>{const Gt=[...xn];Gt[Me]=vt.target.value,rn(Gt)}})]},Me))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Explanation (optional)"}),a.jsx(Hn,{placeholder:"Explain the answer",value:Kn,onChange:ie=>Jn(ie.target.value),rows:2})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:Jr,children:"Cancel"}),a.jsx(ge,{onClick:()=>{ru(),Jr()},disabled:!$t.trim()||xn.filter(ie=>ie.trim()).length<2,children:"Add Quiz"})]})]})]})]})})}),a.jsx(dr,{children:it&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Dt(null),children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-lg w-full max-h-[80vh] overflow-y-auto p-6 space-y-4",onClick:ie=>ie.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Add MCQ"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question"}),a.jsx(Hn,{placeholder:"Enter your question",value:$t,onChange:ie=>Pt(ie.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options (click to mark correct)"}),xn.map((ie,Me)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${qn===Me?"border-green-500 bg-green-500 text-white":"border-muted-foreground"}`,onClick:()=>sr(Me),children:qn===Me&&a.jsx(fa,{className:"h-3 w-3"})}),a.jsx(et,{placeholder:`Option ${String.fromCharCode(65+Me)}`,value:ie,onChange:vt=>{const Gt=[...xn];Gt[Me]=vt.target.value,rn(Gt)}})]},Me))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Explanation (optional)"}),a.jsx(Hn,{placeholder:"Explain the answer",value:Kn,onChange:ie=>Jn(ie.target.value),rows:2})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>Dt(null),children:"Cancel"}),a.jsx(ge,{onClick:ru,disabled:!$t.trim()||xn.filter(ie=>ie.trim()).length<2,children:"Add MCQ"})]})]})})}),a.jsx(dr,{children:Le&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Ze(null),children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-3xl w-full max-h-[80vh] overflow-y-auto p-6",onClick:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:Le.title}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Ze(null),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:Le.content||'<p class="text-muted-foreground">No content</p>'}})]})})}),a.jsx(dr,{children:nt&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Oe(null),children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6 space-y-4",onClick:ie=>ie.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Edit Content"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(et,{value:nt.title,onChange:ie=>Oe({...nt,title:ie.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsx(Nf,{theme:"snow",value:nt.content||"",onChange:ie=>Oe({...nt,content:ie}),modules:Ua,className:"bg-background"})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>Oe(null),children:"Cancel"}),a.jsx(ge,{onClick:ur,children:"Save"})]})]})})}),a.jsx(dr,{children:_r&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>Jt(null),children:a.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-background rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto p-4",onClick:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Edit MCQ",_r.assetRef&&a.jsx("span",{className:"text-xs text-green-500",children:"( Library Synced)"})]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Jt(null),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Question"}),a.jsx(Hn,{value:ar,onChange:ie=>Kr(ie.target.value),placeholder:"Enter question...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options"}),Cr.map((ie,Me)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"editCorrect",checked:hr===Me,onChange:()=>er(Me),className:"h-4 w-4"}),a.jsx(et,{value:ie,onChange:vt=>{const Gt=[...Cr];Gt[Me]=vt.target.value,Dn(Gt)},placeholder:`Option ${Me+1}`})]},Me))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Explanation (Optional)"}),a.jsx(Hn,{value:or,onChange:ie=>cr(ie.target.value),placeholder:"Explain the correct answer...",rows:2})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(ge,{variant:"outline",onClick:()=>Jt(null),children:"Cancel"}),a.jsxs(ge,{onClick:su,disabled:!ar.trim()||Cr.some(ie=>!ie.trim()),children:[a.jsx(jr,{className:"h-4 w-4 mr-1"})," Save ",_r.assetRef&&"& Sync"]})]})]})]})})})]}):a.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto pb-20 lg:pb-6",children:[a.jsxs(v0,{value:e,onValueChange:ie=>t(ie),className:"w-full",children:[a.jsxs(Kh,{className:"hidden lg:flex w-full justify-start mb-4 bg-muted/50",children:[a.jsxs(bi,{value:"dashboard",className:"flex items-center gap-2",children:[a.jsx(q2,{className:"h-4 w-4"}),"Dashboard"]}),a.jsxs(bi,{value:"course",className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"h-4 w-4"}),"Course"]}),a.jsxs(bi,{value:"live-test",className:"flex items-center gap-2",children:[a.jsx(lf,{className:"h-4 w-4"}),"Live Test"]}),a.jsxs(bi,{value:"settings",className:"flex items-center gap-2",children:[a.jsx(ms,{className:"h-4 w-4"}),"Settings"]})]}),a.jsxs(wi,{value:"dashboard",className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Personal Desk"}),a.jsx("p",{className:"text-muted-foreground",children:"Your personal learning dashboard"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(Hr,{className:"h-6 w-6 mx-auto mb-2 text-blue-500"}),a.jsx("p",{className:"text-xl font-bold",children:r.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Courses"})]})}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(Sr,{className:"h-6 w-6 mx-auto mb-2 text-green-500"}),a.jsx("p",{className:"text-xl font-bold",children:s.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Contents"})]})}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(Dc,{className:"h-6 w-6 mx-auto mb-2 text-purple-500"}),a.jsx("p",{className:"text-xl font-bold",children:o.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"MCQs"})]})}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-4 text-center",children:[a.jsx(za,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),a.jsx("p",{className:"text-xl font-bold",children:c.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quizzes"})]})})]}),r.length===0&&a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first course to get started"}),a.jsxs(ge,{onClick:()=>{t("course"),U(!0)},children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create Course"]})]})]}),a.jsxs(wi,{value:"course",className:"mt-4 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"My Courses"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage your courses"})]}),a.jsxs(ge,{onClick:()=>U(!0),className:"gap-2",children:[a.jsx(Yt,{className:"h-4 w-4"})," Create Course"]})]}),r.length===0?a.jsxs(dt,{className:"p-12 text-center",children:[a.jsx(Hr,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No courses yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first course to get started"}),a.jsxs(ge,{onClick:()=>U(!0),children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create Course"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(ie=>a.jsx(dt,{className:"cursor-pointer hover:shadow-lg transition-all hover:border-primary",onClick:()=>u(ie.id),children:a.jsx(Lt,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-4xl",children:ie.icon||""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate",children:ie.name}),ie.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ie.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[_(ie.id).length," chapters"]}),a.jsxs("span",{children:[N(ie.id).length," MCQs"]})]})]})]})})},ie.id))})]}),a.jsxs(wi,{value:"live-test",className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Live Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Practice with timed tests"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(ge,{variant:Ae==="upcoming"?"default":"outline",size:"sm",onClick:()=>re("upcoming"),children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"})," Upcoming"]}),a.jsxs(ge,{variant:Ae==="past"?"default":"outline",size:"sm",onClick:()=>re("past"),children:[a.jsx(hm,{className:"h-4 w-4 mr-1"})," Past Tests"]}),a.jsxs(ge,{variant:Ae==="results"?"default":"outline",size:"sm",onClick:()=>re("results"),children:[a.jsx(za,{className:"h-4 w-4 mr-1"})," My Results"]})]}),Ae==="upcoming"&&a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(Ir,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-muted-foreground",children:r.length===0?"Create a course first to schedule tests":"Select a course to view and schedule tests"})]}),Ae==="past"&&a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(hm,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Your completed tests will appear here"})]}),Ae==="results"&&a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(za,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete a test to see your results"})]})]}),a.jsxs(wi,{value:"settings",className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your preferences"})]}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ms,{className:"h-5 w-5"})," About Personal Desk"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Personal Desk helps you create and organize your own courses, notes, and MCQs for self-study."}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:r.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Courses"})]}),a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Topics"})]}),a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"MCQs"})]}),a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tests"})]})]})]}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(lf,{className:"h-5 w-5"})," Live Test Management"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r.length===0?"Create a course first to manage live tests and auto-scheduling.":"Select a course to manage live tests and enable auto-scheduling."}),r.length===0&&a.jsxs(ge,{onClick:()=>{t("course"),U(!0)},children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create Course"]})]})]})]}),a.jsx(dr,{children:Q&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>U(!1),children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-md w-full p-6 space-y-4",onClick:ie=>ie.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create New Course"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Wt,{value:Fe,onValueChange:Y,children:[a.jsx(Mt,{className:"w-20",children:a.jsx(qt,{})}),a.jsx(Bt,{children:["","","","","","","","","","","",""].map(ie=>a.jsx(Qe,{value:ie,children:ie},ie))})]}),a.jsx(et,{placeholder:"Course name",value:Z,onChange:ie=>pe(ie.target.value),className:"flex-1"})]}),a.jsx(Hn,{placeholder:"Description (optional)",value:me,onChange:ie=>ye(ie.target.value),rows:3})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),a.jsx(ge,{onClick:nu,disabled:!Z.trim(),children:"Create"})]})]})})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var iQ=1252,hke=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],l3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},u3=function(e){hke.indexOf(e)!=-1&&(iQ=l3[0]=e)};function pke(){u3(1252)}var Rc=function(e){u3(e)};function sQ(){Rc(1200),pke()}function y8(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function mke(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function aQ(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var rx=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?mke(e.slice(2)):t==254&&n==255?aQ(e.slice(2)):t==65279?e.slice(1):e},W1=function(t){return String.fromCharCode(t)},b8=function(t){return String.fromCharCode(t)},Iv,Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function w8(e){for(var t="",n=0,r=0,i=0,s=0,o=0,c=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),s=n>>2,r=e.charCodeAt(u++),o=(n&3)<<4|r>>4,i=e.charCodeAt(u++),c=(r&15)<<2|i>>6,l=i&63,isNaN(r)?c=l=64:isNaN(i)&&(l=64),t+=Gd.charAt(s)+Gd.charAt(o)+Gd.charAt(c)+Gd.charAt(l);return t}function ko(e){var t="",n=0,r=0,i=0,s=0,o=0,c=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Gd.indexOf(e.charAt(u++)),o=Gd.indexOf(e.charAt(u++)),n=s<<2|o>>4,t+=String.fromCharCode(n),c=Gd.indexOf(e.charAt(u++)),r=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(r)),l=Gd.indexOf(e.charAt(u++)),i=(c&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var Wn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),xp=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Sf(e){return Wn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function _8(e){return Wn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var jc=function(t){return Wn?xp(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function vp(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function d3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return d3(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Od=Wn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:xp(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gke(e){for(var t=[],n=0,r=e.length+250,i=Sf(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|c>>6&15|(o&3)<<4,i[n++]=128|c&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=Sf(65535),r=65530)}return t.push(i.slice(0,n)),Od(t)}var _a=/\u0000/g,ix=/[\u0001-\u0006]/g;function Im(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Oc(e,t){var n=""+e;return n.length>=t?n:li("0",t-n.length)+n}function f3(e,t){var n=""+e;return n.length>=t?n:li(" ",t-n.length)+n}function aw(e,t){var n=""+e;return n.length>=t?n:n+li(" ",t-n.length)}function xke(e,t){var n=""+Math.round(e);return n.length>=t?n:li("0",t-n.length)+n}function vke(e,t){var n=""+e;return n.length>=t?n:li("0",t-n.length)+n}var T8=Math.pow(2,32);function Up(e,t){if(e>T8||e<-T8)return xke(e,t);var n=Math.round(e);return vke(n,t)}function ow(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var E8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],QN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yke(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var gn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},N8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bke={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cw(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,c=0,l=1,u=0,d=0,f=Math.floor(i);u<t&&(f=Math.floor(i),c=f*o+s,d=f*u+l,!(i-f<5e-8));)i=1/(i-f),s=o,o=c,l=u,u=d;if(d>t&&(u>t?(d=l,c=s):(d=u,c=o)),!n)return[0,r*c,d];var h=Math.floor(r*c/d);return[h,r*c-h*d,d]}function yh(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],c={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=Ske(l,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var oQ=new Date(1899,11,31,0,0,0),wke=oQ.getTime(),_ke=new Date(1900,2,1,0,0,0);function cQ(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=_ke&&(n+=24*60*60*1e3),(n-(wke+(e.getTimezoneOffset()-oQ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function h3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Tke(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Eke(e){var t=e<0?12:11,n=h3(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function Nke(e){var t=h3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Rv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=Eke(e):t===10?n=e.toFixed(10).substr(0,12):n=Nke(e),h3(Tke(n.toUpperCase()))}function Zh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Rv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return oc(14,cQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Ske(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function Cke(e,t,n,r){var i="",s=0,o=0,c=n.y,l,u=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:l=c%100,u=2;break;default:l=c%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,u=t.length;break;case 3:return QN[n.m-1][1];case 5:return QN[n.m-1][0];default:return QN[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,u=t.length;break;case 3:return E8[n.q][0];default:return E8[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Oc(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(i=Oc(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=c,u=1;break}var d=u>0?Oc(l,u):"";return d}function Qd(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var lQ=/%/g;function kke(e,t,n){var r=t.replace(lQ,""),i=t.length-r.length;return Fu(e,r,n*Math.pow(10,2*i))+li("%",i)}function Ake(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Fu(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function uQ(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uQ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var dQ=/# (\?+)( ?)\/( ?)(\d+)/;function Dke(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(o===0?li(" ",e[1].length+1+e[4].length):f3(o,e[1].length)+e[2]+"/"+e[3]+Oc(c,e[4].length))}function jke(e,t,n){return n+(t===0?"":""+t)+li(" ",e[1].length+2+e[4].length)}var fQ=/^#*0*\.([0#]+)/,hQ=/\).*[0#]/,pQ=/\(###\) ###\\?-####/;function ca(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function S8(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function C8(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Ike(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Rke(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Wo(e,t,n){if(e.charCodeAt(0)===40&&!t.match(hQ)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Wo("n",r,n):"("+Wo("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Ake(e,t,n);if(t.indexOf("%")!==-1)return kke(e,t,n);if(t.indexOf("E")!==-1)return uQ(t,n);if(t.charCodeAt(0)===36)return"$"+Wo(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,c,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Up(l,t.length);if(t.match(/^[#?]+$/))return i=Up(n,0),i==="0"&&(i=""),i.length>t.length?i:ca(t.substr(0,t.length-i.length))+i;if(s=t.match(dQ))return Dke(s,l,u);if(t.match(/^#+0+$/))return u+Up(l,t.length-t.indexOf("0"));if(s=t.match(fQ))return i=S8(n,s[1].length).replace(/^([^\.]+)$/,"$1."+ca(s[1])).replace(/\.$/,"."+ca(s[1])).replace(/\.(\d*)$/,function(y,m){return"."+m+li("0",ca(s[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+S8(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Qd(Up(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Wo(e,t,-n):Qd(""+(Math.floor(n)+Ike(n,s[1].length)))+"."+Oc(C8(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Wo(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Im(Wo(e,t.replace(/[\\-]/g,""),n)),o=0,Im(Im(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(pQ))return i=Wo(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=cw(l,Math.pow(10,o)-1,!1),i=""+u,d=Fu("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=aw(c[2],o),d.length<s[4].length&&(d=ca(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=cw(l,Math.pow(10,o)-1,!0),u+(c[0]||(c[1]?"":"0"))+" "+(c[1]?f3(c[1],o)+s[2]+"/"+s[3]+aw(c[2],o):li(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Up(n,0),t.length<=i.length?i:ca(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,h=t.length-i.length-f;return ca(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=C8(n,s[1].length),n<0?"-"+Wo(e,t,-n):Qd(Rke(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Oc(0,3-y.length):"")+y})+"."+Oc(o,s[1].length);switch(t){case"###,##0.00":return Wo(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Qd(Up(l,0));return p!=="0"?u+p:"";case"###,###.00":return Wo(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Wo(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Oke(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Fu(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Fke(e,t,n){var r=t.replace(lQ,""),i=t.length-r.length;return Fu(e,r,n*Math.pow(10,2*i))+li("%",i)}function mQ(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+mQ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ll(e,t,n){if(e.charCodeAt(0)===40&&!t.match(hQ)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ll("n",r,n):"("+ll("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Oke(e,t,n);if(t.indexOf("%")!==-1)return Fke(e,t,n);if(t.indexOf("E")!==-1)return mQ(t,n);if(t.charCodeAt(0)===36)return"$"+ll(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,c,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Oc(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:ca(t.substr(0,t.length-i.length))+i;if(s=t.match(dQ))return jke(s,l,u);if(t.match(/^#+0+$/))return u+Oc(l,t.length-t.indexOf("0"));if(s=t.match(fQ))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ca(s[1])).replace(/\.$/,"."+ca(s[1])),i=i.replace(/\.(\d*)$/,function(y,m){return"."+m+li("0",ca(s[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Qd(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ll(e,t,-n):Qd(""+n)+"."+li("0",s[1].length);if(s=t.match(/^#,#*,#0/))return ll(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Im(ll(e,t.replace(/[\\-]/g,""),n)),o=0,Im(Im(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(pQ))return i=ll(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=cw(l,Math.pow(10,o)-1,!1),i=""+u,d=Fu("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=aw(c[2],o),d.length<s[4].length&&(d=ca(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=cw(l,Math.pow(10,o)-1,!0),u+(c[0]||(c[1]?"":"0"))+" "+(c[1]?f3(c[1],o)+s[2]+"/"+s[3]+aw(c[2],o):li(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:ca(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,h=t.length-i.length-f;return ca(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ll(e,t,-n):Qd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Oc(0,3-y.length):"")+y})+"."+Oc(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Qd(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ll(e,t.slice(0,t.lastIndexOf(".")),n)+ca(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Fu(e,t,n){return(n|0)===n?ll(e,t,n):Wo(e,t,n)}function Pke(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var gQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function G0(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":ow(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(gQ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Uke(e,t,n,r){for(var i=[],s="",o=0,c="",l="t",u,d,f,h="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!ow(e,o))throw new Error("unrecognized character "+c+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";i[i.length]={t:y,v:p},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=yh(t,n,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},l=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=yh(t,n),u==null))return"";for(s=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&l.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=h),i[i.length]={t:c,v:s},l=c;break;case"A":case"a":case"":var m={t:c,v:c};if(u==null&&(u=yh(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";i[i.length]=m,l=c;break;case"[":for(s=c;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(gQ)){if(u==null&&(u=yh(t,n),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",G0(e)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=c;++o<e.length&&(c=e.charAt(o))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;e.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},l=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);i[i.length]={t:"t",v:c},++o;break}var g=0,v=0,x;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=h,l="h",g<1&&(g=1);break;case"s":(x=i[o].v.match(/\.0+$/))&&(v=Math.max(v,x[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[o].v.match(/[Hh]/)&&(g=1),g<2&&i[o].v.match(/[Mm]/)&&(g=2),g<3&&i[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",w;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Cke(i[o].t.charCodeAt(0),i[o].v,u,v),i[o].t="t";break;case"n":case"?":for(w=o+1;i[w]!=null&&((c=i[w].t)==="?"||c==="D"||(c===" "||c==="t")&&i[w+1]!=null&&(i[w+1].t==="?"||i[w+1].t==="t"&&i[w+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[w].v==="/"||i[w].v===" "&&i[w+1]!=null&&i[w+1].t=="?"));)i[o].v+=i[w].v,i[w]={v:"",t:";"},++w;b+=i[o].v,o=w-1;break;case"G":i[o].t="t",i[o].v=Zh(t,n);break}var T="",C,_;if(b.length>0){b.charCodeAt(0)==40?(C=t<0&&b.charCodeAt(0)===45?-t:t,_=Fu("n",b,C)):(C=t<0&&r>1?-t:t,_=Fu("n",b,C),C<0&&i[0]&&i[0].t=="t"&&(_=_.substr(1),i[0].v="-"+i[0].v)),w=_.length-1;var N=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){N=o;break}var k=i.length;if(N===i.length&&_.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(w>=i[o].v.length-1?(w-=i[o].v.length,i[o].v=_.substr(w+1,i[o].v.length)):w<0?i[o].v="":(i[o].v=_.substr(0,w+1),w=-1),i[o].t="t",k=o);w>=0&&k<i.length&&(i[k].v=_.substr(0,w+1)+i[k].v)}else if(N!==i.length&&_.indexOf("E")===-1){for(w=_.indexOf(".")-1,o=N;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")-1:i[o].v.length-1,T=i[o].v.substr(d+1);d>=0;--d)w>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(T=_.charAt(w--)+T);i[o].v=T,i[o].t="t",k=o}for(w>=0&&k<i.length&&(i[k].v=_.substr(0,w+1)+i[k].v),w=_.indexOf(".")+1,o=N;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==N)){for(d=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")+1:0,T=i[o].v.substr(0,d);d<i[o].v.length;++d)w<_.length&&(T+=_.charAt(w++));i[o].v=T,i[o].t="t",k=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(C=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Fu(i[o].t,i[o].v,C),i[o].t="t");var j="";for(o=0;o!==i.length;++o)i[o]!=null&&(j+=i[o].v);return j}var k8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function A8(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function Lke(e,t){var n=Pke(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(k8),c=n[1].match(k8);return A8(t,o)?[r,n[0]]:A8(t,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,s]}function oc(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:gn)[e],r==null&&(r=n.table&&n.table[N8[e]]||gn[N8[e]]),r==null&&(r=bke[e]||"General");break}if(ow(r,0))return Zh(t,n);t instanceof Date&&(t=cQ(t,n.date1904));var i=Lke(r,t);if(ow(i[1]))return Zh(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Uke(i[1],t,n,i[0])}function jh(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(gn[n]==null){t<0&&(t=n);continue}if(gn[n]==e){t=n;break}}t<0&&(t=391)}return gn[t]=e,t}function xQ(){gn=yke()}var Mke={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},vQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Bke(e){var t=typeof e=="number"?gn[e]:e;return t=t.replace(vQ,"(\\d+)"),new RegExp("^"+t+"$")}function Vke(e,t,n){var r=-1,i=-1,s=-1,o=-1,c=-1,l=-1;(t.match(vQ)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":o=p;break;case"s":l=p;break;case"m":o>=0?c=p:i=p;break}}),l>=0&&c==-1&&i>=0&&(c=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&c==-1&&l==-1?u:r==-1&&i==-1&&s==-1?d:u+"T"+d}var Wke=function(){var e={};e.version="1.2.0";function t(){for(var _=0,N=new Array(256),k=0;k!=256;++k)_=k,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,N[k]=_;return typeof Int32Array<"u"?new Int32Array(N):N}var n=t();function r(_){var N=0,k=0,j=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)D[j]=_[j];for(j=0;j!=256;++j)for(k=_[j],N=256+j;N<4096;N+=256)k=D[N]=k>>>8^_[k&255];var E=[];for(j=1;j!=16;++j)E[j-1]=typeof Int32Array<"u"?D.subarray(j*256,j*256+256):D.slice(j*256,j*256+256);return E}var i=r(n),s=i[0],o=i[1],c=i[2],l=i[3],u=i[4],d=i[5],f=i[6],h=i[7],p=i[8],y=i[9],m=i[10],g=i[11],v=i[12],x=i[13],b=i[14];function w(_,N){for(var k=N^-1,j=0,D=_.length;j<D;)k=k>>>8^n[(k^_.charCodeAt(j++))&255];return~k}function T(_,N){for(var k=N^-1,j=_.length-15,D=0;D<j;)k=b[_[D++]^k&255]^x[_[D++]^k>>8&255]^v[_[D++]^k>>16&255]^g[_[D++]^k>>>24]^m[_[D++]]^y[_[D++]]^p[_[D++]]^h[_[D++]]^f[_[D++]]^d[_[D++]]^u[_[D++]]^l[_[D++]]^c[_[D++]]^o[_[D++]]^s[_[D++]]^n[_[D++]];for(j+=15;D<j;)k=k>>>8^n[(k^_[D++])&255];return~k}function C(_,N){for(var k=N^-1,j=0,D=_.length,E=0,I=0;j<D;)E=_.charCodeAt(j++),E<128?k=k>>>8^n[(k^E)&255]:E<2048?(k=k>>>8^n[(k^(192|E>>6&31))&255],k=k>>>8^n[(k^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,I=_.charCodeAt(j++)&1023,k=k>>>8^n[(k^(240|E>>8&7))&255],k=k>>>8^n[(k^(128|E>>2&63))&255],k=k>>>8^n[(k^(128|I>>6&15|(E&3)<<4))&255],k=k>>>8^n[(k^(128|I&63))&255]):(k=k>>>8^n[(k^(224|E>>12&15))&255],k=k>>>8^n[(k^(128|E>>6&63))&255],k=k>>>8^n[(k^(128|E&63))&255]);return~k}return e.table=n,e.bstr=w,e.buf=T,e.str=C,e}(),Gn=function(){var t={};t.version="1.2.1";function n(ce,Se){for(var xe=ce.split("/"),we=Se.split("/"),ne=0,fe=0,Ae=Math.min(xe.length,we.length);ne<Ae;++ne){if(fe=xe[ne].length-we[ne].length)return fe;if(xe[ne]!=we[ne])return xe[ne]<we[ne]?-1:1}return xe.length-we.length}function r(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:r(ce.slice(0,-1));var Se=ce.lastIndexOf("/");return Se===-1?ce:ce.slice(0,Se+1)}function i(ce){if(ce.charAt(ce.length-1)=="/")return i(ce.slice(0,-1));var Se=ce.lastIndexOf("/");return Se===-1?ce:ce.slice(Se+1)}function s(ce,Se){typeof Se=="string"&&(Se=new Date(Se));var xe=Se.getHours();xe=xe<<6|Se.getMinutes(),xe=xe<<5|Se.getSeconds()>>>1,ce.write_shift(2,xe);var we=Se.getFullYear()-1980;we=we<<4|Se.getMonth()+1,we=we<<5|Se.getDate(),ce.write_shift(2,we)}function o(ce){var Se=ce.read_shift(2)&65535,xe=ce.read_shift(2)&65535,we=new Date,ne=xe&31;xe>>>=5;var fe=xe&15;xe>>>=4,we.setMilliseconds(0),we.setFullYear(xe+1980),we.setMonth(fe-1),we.setDate(ne);var Ae=Se&31;Se>>>=5;var re=Se&63;return Se>>>=6,we.setHours(Se),we.setMinutes(re),we.setSeconds(Ae<<1),we}function c(ce){hs(ce,0);for(var Se={},xe=0;ce.l<=ce.length-4;){var we=ce.read_shift(2),ne=ce.read_shift(2),fe=ce.l+ne,Ae={};switch(we){case 21589:xe=ce.read_shift(1),xe&1&&(Ae.mtime=ce.read_shift(4)),ne>5&&(xe&2&&(Ae.atime=ce.read_shift(4)),xe&4&&(Ae.ctime=ce.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}ce.l=fe,Se[we]=Ae}return Se}var l;function u(){return l||(l={})}function d(ce,Se){if(ce[0]==80&&ce[1]==75)return sr(ce,Se);if((ce[0]|32)==109&&(ce[1]|32)==105)return Cr(ce,Se);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var xe=3,we=512,ne=0,fe=0,Ae=0,re=0,Ce=0,ke=[],Ne=ce.slice(0,512);hs(Ne,0);var he=f(Ne);switch(xe=he[0],xe){case 3:we=512;break;case 4:we=4096;break;case 0:if(he[1]==0)return sr(ce,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}we!==512&&(Ne=ce.slice(0,we),hs(Ne,28));var Re=ce.slice(0,we);h(Ne,xe);var We=Ne.read_shift(4,"i");if(xe===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);Ne.l+=4,Ae=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),re=Ne.read_shift(4,"i"),ne=Ne.read_shift(4,"i"),Ce=Ne.read_shift(4,"i"),fe=Ne.read_shift(4,"i");for(var ze=-1,Xe=0;Xe<109&&(ze=Ne.read_shift(4,"i"),!(ze<0));++Xe)ke[Xe]=ze;var ot=p(ce,we);g(Ce,fe,ot,we,ke);var jt=x(ot,Ae,ke,we);jt[Ae].name="!Directory",ne>0&&re!==I&&(jt[re].name="!MiniFAT"),jt[ke[0]].name="!FAT",jt.fat_addrs=ke,jt.ssz=we;var gt={},Nt=[],On=[],cn=[];b(Ae,jt,ot,Nt,ne,gt,On,re),y(On,cn,Nt),Nt.shift();var br={FileIndex:On,FullPaths:cn};return Se&&Se.raw&&(br.raw={header:Re,sectors:ot}),br}function f(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(R,"Header Signature: "),ce.l+=16;var Se=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),Se]}function h(ce,Se){var xe=9;switch(ce.l+=2,xe=ce.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function p(ce,Se){for(var xe=Math.ceil(ce.length/Se)-1,we=[],ne=1;ne<xe;++ne)we[ne-1]=ce.slice(ne*Se,(ne+1)*Se);return we[xe-1]=ce.slice(xe*Se),we}function y(ce,Se,xe){for(var we=0,ne=0,fe=0,Ae=0,re=0,Ce=xe.length,ke=[],Ne=[];we<Ce;++we)ke[we]=Ne[we]=we,Se[we]=xe[we];for(;re<Ne.length;++re)we=Ne[re],ne=ce[we].L,fe=ce[we].R,Ae=ce[we].C,ke[we]===we&&(ne!==-1&&ke[ne]!==ne&&(ke[we]=ke[ne]),fe!==-1&&ke[fe]!==fe&&(ke[we]=ke[fe])),Ae!==-1&&(ke[Ae]=we),ne!==-1&&we!=ke[we]&&(ke[ne]=ke[we],Ne.lastIndexOf(ne)<re&&Ne.push(ne)),fe!==-1&&we!=ke[we]&&(ke[fe]=ke[we],Ne.lastIndexOf(fe)<re&&Ne.push(fe));for(we=1;we<Ce;++we)ke[we]===we&&(fe!==-1&&ke[fe]!==fe?ke[we]=ke[fe]:ne!==-1&&ke[ne]!==ne&&(ke[we]=ke[ne]));for(we=1;we<Ce;++we)if(ce[we].type!==0){if(re=we,re!=ke[re])do re=ke[re],Se[we]=Se[re]+"/"+Se[we];while(re!==0&&ke[re]!==-1&&re!=ke[re]);ke[we]=-1}for(Se[0]+="/",we=1;we<Ce;++we)ce[we].type!==2&&(Se[we]+="/")}function m(ce,Se,xe){for(var we=ce.start,ne=ce.size,fe=[],Ae=we;xe&&ne>0&&Ae>=0;)fe.push(Se.slice(Ae*E,Ae*E+E)),ne-=E,Ae=dh(xe,Ae*4);return fe.length===0?Vi(0):Od(fe).slice(0,ce.size)}function g(ce,Se,xe,we,ne){var fe=I;if(ce===I){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var Ae=xe[ce],re=(we>>>2)-1;if(!Ae)return;for(var Ce=0;Ce<re&&(fe=dh(Ae,Ce*4))!==I;++Ce)ne.push(fe);g(dh(Ae,we-4),Se-1,xe,we,ne)}}function v(ce,Se,xe,we,ne){var fe=[],Ae=[];ne||(ne=[]);var re=we-1,Ce=0,ke=0;for(Ce=Se;Ce>=0;){ne[Ce]=!0,fe[fe.length]=Ce,Ae.push(ce[Ce]);var Ne=xe[Math.floor(Ce*4/we)];if(ke=Ce*4&re,we<4+ke)throw new Error("FAT boundary crossed: "+Ce+" 4 "+we);if(!ce[Ne])break;Ce=dh(ce[Ne],ke)}return{nodes:fe,data:M8([Ae])}}function x(ce,Se,xe,we){var ne=ce.length,fe=[],Ae=[],re=[],Ce=[],ke=we-1,Ne=0,he=0,Re=0,We=0;for(Ne=0;Ne<ne;++Ne)if(re=[],Re=Ne+Se,Re>=ne&&(Re-=ne),!Ae[Re]){Ce=[];var ze=[];for(he=Re;he>=0;){ze[he]=!0,Ae[he]=!0,re[re.length]=he,Ce.push(ce[he]);var Xe=xe[Math.floor(he*4/we)];if(We=he*4&ke,we<4+We)throw new Error("FAT boundary crossed: "+he+" 4 "+we);if(!ce[Xe]||(he=dh(ce[Xe],We),ze[he]))break}fe[Re]={nodes:re,data:M8([Ce])}}return fe}function b(ce,Se,xe,we,ne,fe,Ae,re){for(var Ce=0,ke=we.length?2:0,Ne=Se[ce].data,he=0,Re=0,We;he<Ne.length;he+=128){var ze=Ne.slice(he,he+128);hs(ze,64),Re=ze.read_shift(2),We=v3(ze,0,Re-ke),we.push(We);var Xe={name:We,type:ze.read_shift(1),color:ze.read_shift(1),L:ze.read_shift(4,"i"),R:ze.read_shift(4,"i"),C:ze.read_shift(4,"i"),clsid:ze.read_shift(16),state:ze.read_shift(4,"i"),start:0,size:0},ot=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);ot!==0&&(Xe.ct=w(ze,ze.l-8));var jt=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);jt!==0&&(Xe.mt=w(ze,ze.l-8)),Xe.start=ze.read_shift(4,"i"),Xe.size=ze.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=I,Xe.name=""),Xe.type===5?(Ce=Xe.start,ne>0&&Ce!==I&&(Se[Ce].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",Se[Xe.start]===void 0&&(Se[Xe.start]=v(xe,Xe.start,Se.fat_addrs,Se.ssz)),Se[Xe.start].name=Xe.name,Xe.content=Se[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:Ce!==I&&Xe.start!==I&&Se[Ce]&&(Xe.content=m(Xe,Se[Ce].data,(Se[re]||{}).data))),Xe.content&&hs(Xe.content,0),fe[We]=Xe,Ae.push(Xe)}}function w(ce,Se){return new Date((go(ce,Se+4)/1e7*Math.pow(2,32)+go(ce,Se)/1e7-11644473600)*1e3)}function T(ce,Se){return u(),d(l.readFileSync(ce),Se)}function C(ce,Se){var xe=Se&&Se.type;switch(xe||Wn&&Buffer.isBuffer(ce)&&(xe="buffer"),xe||"base64"){case"file":return T(ce,Se);case"base64":return d(jc(ko(ce)),Se);case"binary":return d(jc(ce),Se)}return d(ce,Se)}function _(ce,Se){var xe=Se||{},we=xe.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=we+"/",ce.FileIndex[0]={name:we,type:5}),xe.CLSID&&(ce.FileIndex[0].clsid=xe.CLSID),N(ce)}function N(ce){var Se="Sh33tJ5";if(!Gn.find(ce,"/"+Se)){var xe=Vi(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,ce.FileIndex.push({name:Se,type:2,content:xe,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+Se),k(ce)}}function k(ce,Se){_(ce);for(var xe=!1,we=!1,ne=ce.FullPaths.length-1;ne>=0;--ne){var fe=ce.FileIndex[ne];switch(fe.type){case 0:we?xe=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(fe.R*fe.L*fe.C)&&(xe=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!Se)){var Ae=new Date(1987,1,19),re=0,Ce=Object.create?Object.create(null):{},ke=[];for(ne=0;ne<ce.FullPaths.length;++ne)Ce[ce.FullPaths[ne]]=!0,ce.FileIndex[ne].type!==0&&ke.push([ce.FullPaths[ne],ce.FileIndex[ne]]);for(ne=0;ne<ke.length;++ne){var Ne=r(ke[ne][0]);we=Ce[Ne],we||(ke.push([Ne,{name:i(Ne).replace("/",""),type:1,clsid:M,ct:Ae,mt:Ae,content:null}]),Ce[Ne]=!0)}for(ke.sort(function(We,ze){return n(We[0],ze[0])}),ce.FullPaths=[],ce.FileIndex=[],ne=0;ne<ke.length;++ne)ce.FullPaths[ne]=ke[ne][0],ce.FileIndex[ne]=ke[ne][1];for(ne=0;ne<ke.length;++ne){var he=ce.FileIndex[ne],Re=ce.FullPaths[ne];if(he.name=i(Re).replace("/",""),he.L=he.R=he.C=-(he.color=1),he.size=he.content?he.content.length:0,he.start=0,he.clsid=he.clsid||M,ne===0)he.C=ke.length>1?1:-1,he.size=0,he.type=5;else if(Re.slice(-1)=="/"){for(re=ne+1;re<ke.length&&r(ce.FullPaths[re])!=Re;++re);for(he.C=re>=ke.length?-1:re,re=ne+1;re<ke.length&&r(ce.FullPaths[re])!=r(Re);++re);he.R=re>=ke.length?-1:re,he.type=1}else r(ce.FullPaths[ne+1]||"")==r(Re)&&(he.R=ne+1),he.type=2}}}function j(ce,Se){var xe=Se||{};if(xe.fileType=="mad")return Dn(ce,xe);switch(k(ce),xe.fileType){case"zip":return Jn(ce,xe)}var we=function(We){for(var ze=0,Xe=0,ot=0;ot<We.FileIndex.length;++ot){var jt=We.FileIndex[ot];if(jt.content){var gt=jt.content.length;gt>0&&(gt<4096?ze+=gt+63>>6:Xe+=gt+511>>9)}}for(var Nt=We.FullPaths.length+3>>2,On=ze+7>>3,cn=ze+127>>7,br=On+Xe+Nt+cn,lr=br+127>>7,Zs=lr<=109?0:Math.ceil((lr-109)/127);br+lr+Zs+127>>7>lr;)Zs=++lr<=109?0:Math.ceil((lr-109)/127);var Ur=[1,Zs,lr,cn,Nt,Xe,ze,0];return We.FileIndex[0].size=ze<<6,Ur[7]=(We.FileIndex[0].start=Ur[0]+Ur[1]+Ur[2]+Ur[3]+Ur[4]+Ur[5])+(Ur[6]+7>>3),Ur}(ce),ne=Vi(we[7]<<9),fe=0,Ae=0;{for(fe=0;fe<8;++fe)ne.write_shift(1,V[fe]);for(fe=0;fe<8;++fe)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),fe=0;fe<3;++fe)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,we[2]),ne.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:I),ne.write_shift(4,we[3]),ne.write_shift(-4,we[1]?we[0]-1:I),ne.write_shift(4,we[1]),fe=0;fe<109;++fe)ne.write_shift(-4,fe<we[2]?we[1]+fe:-1)}if(we[1])for(Ae=0;Ae<we[1];++Ae){for(;fe<236+Ae*127;++fe)ne.write_shift(-4,fe<we[2]?we[1]+fe:-1);ne.write_shift(-4,Ae===we[1]-1?I:Ae+1)}var re=function(We){for(Ae+=We;fe<Ae-1;++fe)ne.write_shift(-4,fe+1);We&&(++fe,ne.write_shift(-4,I))};for(Ae=fe=0,Ae+=we[1];fe<Ae;++fe)ne.write_shift(-4,H.DIFSECT);for(Ae+=we[2];fe<Ae;++fe)ne.write_shift(-4,H.FATSECT);re(we[3]),re(we[4]);for(var Ce=0,ke=0,Ne=ce.FileIndex[0];Ce<ce.FileIndex.length;++Ce)Ne=ce.FileIndex[Ce],Ne.content&&(ke=Ne.content.length,!(ke<4096)&&(Ne.start=Ae,re(ke+511>>9)));for(re(we[6]+7>>3);ne.l&511;)ne.write_shift(-4,H.ENDOFCHAIN);for(Ae=fe=0,Ce=0;Ce<ce.FileIndex.length;++Ce)Ne=ce.FileIndex[Ce],Ne.content&&(ke=Ne.content.length,!(!ke||ke>=4096)&&(Ne.start=Ae,re(ke+63>>6)));for(;ne.l&511;)ne.write_shift(-4,H.ENDOFCHAIN);for(fe=0;fe<we[4]<<2;++fe){var he=ce.FullPaths[fe];if(!he||he.length===0){for(Ce=0;Ce<17;++Ce)ne.write_shift(4,0);for(Ce=0;Ce<3;++Ce)ne.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)ne.write_shift(4,0);continue}Ne=ce.FileIndex[fe],fe===0&&(Ne.start=Ne.size?Ne.start-1:I);var Re=fe===0&&xe.root||Ne.name;if(ke=2*(Re.length+1),ne.write_shift(64,Re,"utf16le"),ne.write_shift(2,ke),ne.write_shift(1,Ne.type),ne.write_shift(1,Ne.color),ne.write_shift(-4,Ne.L),ne.write_shift(-4,Ne.R),ne.write_shift(-4,Ne.C),Ne.clsid)ne.write_shift(16,Ne.clsid,"hex");else for(Ce=0;Ce<4;++Ce)ne.write_shift(4,0);ne.write_shift(4,Ne.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Ne.start),ne.write_shift(4,Ne.size),ne.write_shift(4,0)}for(fe=1;fe<ce.FileIndex.length;++fe)if(Ne=ce.FileIndex[fe],Ne.size>=4096)if(ne.l=Ne.start+1<<9,Wn&&Buffer.isBuffer(Ne.content))Ne.content.copy(ne,ne.l,0,Ne.size),ne.l+=Ne.size+511&-512;else{for(Ce=0;Ce<Ne.size;++Ce)ne.write_shift(1,Ne.content[Ce]);for(;Ce&511;++Ce)ne.write_shift(1,0)}for(fe=1;fe<ce.FileIndex.length;++fe)if(Ne=ce.FileIndex[fe],Ne.size>0&&Ne.size<4096)if(Wn&&Buffer.isBuffer(Ne.content))Ne.content.copy(ne,ne.l,0,Ne.size),ne.l+=Ne.size+63&-64;else{for(Ce=0;Ce<Ne.size;++Ce)ne.write_shift(1,Ne.content[Ce]);for(;Ce&63;++Ce)ne.write_shift(1,0)}if(Wn)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function D(ce,Se){var xe=ce.FullPaths.map(function(Ce){return Ce.toUpperCase()}),we=xe.map(function(Ce){var ke=Ce.split("/");return ke[ke.length-(Ce.slice(-1)=="/"?2:1)]}),ne=!1;Se.charCodeAt(0)===47?(ne=!0,Se=xe[0].slice(0,-1)+Se):ne=Se.indexOf("/")!==-1;var fe=Se.toUpperCase(),Ae=ne===!0?xe.indexOf(fe):we.indexOf(fe);if(Ae!==-1)return ce.FileIndex[Ae];var re=!fe.match(ix);for(fe=fe.replace(_a,""),re&&(fe=fe.replace(ix,"!")),Ae=0;Ae<xe.length;++Ae)if((re?xe[Ae].replace(ix,"!"):xe[Ae]).replace(_a,"")==fe||(re?we[Ae].replace(ix,"!"):we[Ae]).replace(_a,"")==fe)return ce.FileIndex[Ae];return null}var E=64,I=-2,R="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(ce,Se,xe){u();var we=j(ce,xe);l.writeFileSync(Se,we)}function P(ce){for(var Se=new Array(ce.length),xe=0;xe<ce.length;++xe)Se[xe]=String.fromCharCode(ce[xe]);return Se.join("")}function W(ce,Se){var xe=j(ce,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),l.writeFileSync(Se.filename,xe),xe;case"binary":return typeof xe=="string"?xe:P(xe);case"base64":return w8(typeof xe=="string"?xe:P(xe));case"buffer":if(Wn)return Buffer.isBuffer(xe)?xe:xp(xe);case"array":return typeof xe=="string"?jc(xe):xe}return xe}var F;function O(ce){try{var Se=ce.InflateRaw,xe=new Se;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)F=ce;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function L(ce,Se){if(!F)return rn(ce,Se);var xe=F.InflateRaw,we=new xe,ne=we._processChunk(ce.slice(ce.l),we._finishFlushFlag);return ce.l+=we.bytesRead,ne}function K(ce){return F?F.deflateRawSync(ce):Oe(ce)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(ce){var Se=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var me=typeof Uint8Array<"u",ye=me?new Uint8Array(256):[],Fe=0;Fe<256;++Fe)ye[Fe]=pe(Fe);function Y(ce,Se){var xe=ye[ce&255];return Se<=8?xe>>>8-Se:(xe=xe<<8|ye[ce>>8&255],Se<=16?xe>>>16-Se:(xe=xe<<8|ye[ce>>16&255],xe>>>24-Se))}function ve(ce,Se){var xe=Se&7,we=Se>>>3;return(ce[we]|(xe<=6?0:ce[we+1]<<8))>>>xe&3}function B(ce,Se){var xe=Se&7,we=Se>>>3;return(ce[we]|(xe<=5?0:ce[we+1]<<8))>>>xe&7}function _e(ce,Se){var xe=Se&7,we=Se>>>3;return(ce[we]|(xe<=4?0:ce[we+1]<<8))>>>xe&15}function Ee(ce,Se){var xe=Se&7,we=Se>>>3;return(ce[we]|(xe<=3?0:ce[we+1]<<8))>>>xe&31}function se(ce,Se){var xe=Se&7,we=Se>>>3;return(ce[we]|(xe<=1?0:ce[we+1]<<8))>>>xe&127}function J(ce,Se,xe){var we=Se&7,ne=Se>>>3,fe=(1<<xe)-1,Ae=ce[ne]>>>we;return xe<8-we||(Ae|=ce[ne+1]<<8-we,xe<16-we)||(Ae|=ce[ne+2]<<16-we,xe<24-we)||(Ae|=ce[ne+3]<<24-we),Ae&fe}function de(ce,Se,xe){var we=Se&7,ne=Se>>>3;return we<=5?ce[ne]|=(xe&7)<<we:(ce[ne]|=xe<<we&255,ce[ne+1]=(xe&7)>>8-we),Se+3}function X(ce,Se,xe){var we=Se&7,ne=Se>>>3;return xe=(xe&1)<<we,ce[ne]|=xe,Se+1}function ue(ce,Se,xe){var we=Se&7,ne=Se>>>3;return xe<<=we,ce[ne]|=xe&255,xe>>>=8,ce[ne+1]=xe,Se+8}function te(ce,Se,xe){var we=Se&7,ne=Se>>>3;return xe<<=we,ce[ne]|=xe&255,xe>>>=8,ce[ne+1]=xe&255,ce[ne+2]=xe>>>8,Se+16}function oe(ce,Se){var xe=ce.length,we=2*xe>Se?2*xe:Se+5,ne=0;if(xe>=Se)return ce;if(Wn){var fe=_8(we);if(ce.copy)ce.copy(fe);else for(;ne<ce.length;++ne)fe[ne]=ce[ne];return fe}else if(me){var Ae=new Uint8Array(we);if(Ae.set)Ae.set(ce);else for(;ne<xe;++ne)Ae[ne]=ce[ne];return Ae}return ce.length=we,ce}function le(ce){for(var Se=new Array(ce),xe=0;xe<ce;++xe)Se[xe]=0;return Se}function ae(ce,Se,xe){var we=1,ne=0,fe=0,Ae=0,re=0,Ce=ce.length,ke=me?new Uint16Array(32):le(32);for(fe=0;fe<32;++fe)ke[fe]=0;for(fe=Ce;fe<xe;++fe)ce[fe]=0;Ce=ce.length;var Ne=me?new Uint16Array(Ce):le(Ce);for(fe=0;fe<Ce;++fe)ke[ne=ce[fe]]++,we<ne&&(we=ne),Ne[fe]=0;for(ke[0]=0,fe=1;fe<=we;++fe)ke[fe+16]=re=re+ke[fe-1]<<1;for(fe=0;fe<Ce;++fe)re=ce[fe],re!=0&&(Ne[fe]=ke[re+16]++);var he=0;for(fe=0;fe<Ce;++fe)if(he=ce[fe],he!=0)for(re=Y(Ne[fe],we)>>we-he,Ae=(1<<we+4-he)-1;Ae>=0;--Ae)Se[re|Ae<<he]=he&15|fe<<4;return we}var Te=me?new Uint16Array(512):le(512),Ue=me?new Uint16Array(32):le(32);if(!me){for(var qe=0;qe<512;++qe)Te[qe]=0;for(qe=0;qe<32;++qe)Ue[qe]=0}(function(){for(var ce=[],Se=0;Se<32;Se++)ce.push(5);ae(ce,Ue,32);var xe=[];for(Se=0;Se<=143;Se++)xe.push(8);for(;Se<=255;Se++)xe.push(9);for(;Se<=279;Se++)xe.push(7);for(;Se<=287;Se++)xe.push(8);ae(xe,Te,288)})();var nt=function(){for(var Se=me?new Uint8Array(32768):[],xe=0,we=0;xe<Z.length-1;++xe)for(;we<Z[xe+1];++we)Se[we]=xe;for(;we<32768;++we)Se[we]=29;var ne=me?new Uint8Array(259):[];for(xe=0,we=0;xe<U.length-1;++xe)for(;we<U[xe+1];++we)ne[we]=xe;function fe(re,Ce){for(var ke=0;ke<re.length;){var Ne=Math.min(65535,re.length-ke),he=ke+Ne==re.length;for(Ce.write_shift(1,+he),Ce.write_shift(2,Ne),Ce.write_shift(2,~Ne&65535);Ne-- >0;)Ce[Ce.l++]=re[ke++]}return Ce.l}function Ae(re,Ce){for(var ke=0,Ne=0,he=me?new Uint16Array(32768):[];Ne<re.length;){var Re=Math.min(65535,re.length-Ne);if(Re<10){for(ke=de(Ce,ke,+(Ne+Re==re.length)),ke&7&&(ke+=8-(ke&7)),Ce.l=ke/8|0,Ce.write_shift(2,Re),Ce.write_shift(2,~Re&65535);Re-- >0;)Ce[Ce.l++]=re[Ne++];ke=Ce.l*8;continue}ke=de(Ce,ke,+(Ne+Re==re.length)+2);for(var We=0;Re-- >0;){var ze=re[Ne];We=(We<<5^ze)&32767;var Xe=-1,ot=0;if((Xe=he[We])&&(Xe|=Ne&-32768,Xe>Ne&&(Xe-=32768),Xe<Ne))for(;re[Xe+ot]==re[Ne+ot]&&ot<250;)++ot;if(ot>2){ze=ne[ot],ze<=22?ke=ue(Ce,ke,ye[ze+1]>>1)-1:(ue(Ce,ke,3),ke+=5,ue(Ce,ke,ye[ze-23]>>5),ke+=3);var jt=ze<8?0:ze-4>>2;jt>0&&(te(Ce,ke,ot-U[ze]),ke+=jt),ze=Se[Ne-Xe],ke=ue(Ce,ke,ye[ze]>>3),ke-=3;var gt=ze<4?0:ze-2>>1;gt>0&&(te(Ce,ke,Ne-Xe-Z[ze]),ke+=gt);for(var Nt=0;Nt<ot;++Nt)he[We]=Ne&32767,We=(We<<5^re[Ne])&32767,++Ne;Re-=ot-1}else ze<=143?ze=ze+48:ke=X(Ce,ke,1),ke=ue(Ce,ke,ye[ze]),he[We]=Ne&32767,++Ne}ke=ue(Ce,ke,0)-1}return Ce.l=(ke+7)/8|0,Ce.l}return function(Ce,ke){return Ce.length<8?fe(Ce,ke):Ae(Ce,ke)}}();function Oe(ce){var Se=Vi(50+Math.floor(ce.length*1.1)),xe=nt(ce,Se);return Se.slice(0,xe)}var Le=me?new Uint16Array(32768):le(32768),Ze=me?new Uint16Array(32768):le(32768),it=me?new Uint16Array(128):le(128),Dt=1,$t=1;function Pt(ce,Se){var xe=Ee(ce,Se)+257;Se+=5;var we=Ee(ce,Se)+1;Se+=5;var ne=_e(ce,Se)+4;Se+=4;for(var fe=0,Ae=me?new Uint8Array(19):le(19),re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,ke=me?new Uint8Array(8):le(8),Ne=me?new Uint8Array(8):le(8),he=Ae.length,Re=0;Re<ne;++Re)Ae[Q[Re]]=fe=B(ce,Se),Ce<fe&&(Ce=fe),ke[fe]++,Se+=3;var We=0;for(ke[0]=0,Re=1;Re<=Ce;++Re)Ne[Re]=We=We+ke[Re-1]<<1;for(Re=0;Re<he;++Re)(We=Ae[Re])!=0&&(re[Re]=Ne[We]++);var ze=0;for(Re=0;Re<he;++Re)if(ze=Ae[Re],ze!=0){We=ye[re[Re]]>>8-ze;for(var Xe=(1<<7-ze)-1;Xe>=0;--Xe)it[We|Xe<<ze]=ze&7|Re<<3}var ot=[];for(Ce=1;ot.length<xe+we;)switch(We=it[se(ce,Se)],Se+=We&7,We>>>=3){case 16:for(fe=3+ve(ce,Se),Se+=2,We=ot[ot.length-1];fe-- >0;)ot.push(We);break;case 17:for(fe=3+B(ce,Se),Se+=3;fe-- >0;)ot.push(0);break;case 18:for(fe=11+se(ce,Se),Se+=7;fe-- >0;)ot.push(0);break;default:ot.push(We),Ce<We&&(Ce=We);break}var jt=ot.slice(0,xe),gt=ot.slice(xe);for(Re=xe;Re<286;++Re)jt[Re]=0;for(Re=we;Re<30;++Re)gt[Re]=0;return Dt=ae(jt,Le,286),$t=ae(gt,Ze,30),Se}function xn(ce,Se){if(ce[0]==3&&!(ce[1]&3))return[Sf(Se),2];for(var xe=0,we=0,ne=_8(Se||1<<18),fe=0,Ae=ne.length>>>0,re=0,Ce=0;!(we&1);){if(we=B(ce,xe),xe+=3,we>>>1)we>>1==1?(re=9,Ce=5):(xe=Pt(ce,xe),re=Dt,Ce=$t);else{xe&7&&(xe+=8-(xe&7));var ke=ce[xe>>>3]|ce[(xe>>>3)+1]<<8;if(xe+=32,ke>0)for(!Se&&Ae<fe+ke&&(ne=oe(ne,fe+ke),Ae=ne.length);ke-- >0;)ne[fe++]=ce[xe>>>3],xe+=8;continue}for(;;){!Se&&Ae<fe+32767&&(ne=oe(ne,fe+32767),Ae=ne.length);var Ne=J(ce,xe,re),he=we>>>1==1?Te[Ne]:Le[Ne];if(xe+=he&15,he>>>=4,!(he>>>8&255))ne[fe++]=he;else{if(he==256)break;he-=257;var Re=he<8?0:he-4>>2;Re>5&&(Re=0);var We=fe+U[he];Re>0&&(We+=J(ce,xe,Re),xe+=Re),Ne=J(ce,xe,Ce),he=we>>>1==1?Ue[Ne]:Ze[Ne],xe+=he&15,he>>>=4;var ze=he<4?0:he-2>>1,Xe=Z[he];for(ze>0&&(Xe+=J(ce,xe,ze),xe+=ze),!Se&&Ae<We&&(ne=oe(ne,We+100),Ae=ne.length);fe<We;)ne[fe]=ne[fe-Xe],++fe}}}return Se?[ne,xe+7>>>3]:[ne.slice(0,fe),xe+7>>>3]}function rn(ce,Se){var xe=ce.slice(ce.l||0),we=xn(xe,Se);return ce.l+=we[1],we[0]}function qn(ce,Se){if(ce)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function sr(ce,Se){var xe=ce;hs(xe,0);var we=[],ne=[],fe={FileIndex:we,FullPaths:ne};_(fe,{root:Se.root});for(var Ae=xe.length-4;(xe[Ae]!=80||xe[Ae+1]!=75||xe[Ae+2]!=5||xe[Ae+3]!=6)&&Ae>=0;)--Ae;xe.l=Ae+4,xe.l+=4;var re=xe.read_shift(2);xe.l+=6;var Ce=xe.read_shift(4);for(xe.l=Ce,Ae=0;Ae<re;++Ae){xe.l+=20;var ke=xe.read_shift(4),Ne=xe.read_shift(4),he=xe.read_shift(2),Re=xe.read_shift(2),We=xe.read_shift(2);xe.l+=8;var ze=xe.read_shift(4),Xe=c(xe.slice(xe.l+he,xe.l+he+Re));xe.l+=he+Re+We;var ot=xe.l;xe.l=ze+4,Kn(xe,ke,Ne,fe,Xe),xe.l=ot}return fe}function Kn(ce,Se,xe,we,ne){ce.l+=2;var fe=ce.read_shift(2),Ae=ce.read_shift(2),re=o(ce);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=ce.read_shift(4),ke=ce.read_shift(4),Ne=ce.read_shift(4),he=ce.read_shift(2),Re=ce.read_shift(2),We="",ze=0;ze<he;++ze)We+=String.fromCharCode(ce[ce.l++]);if(Re){var Xe=c(ce.slice(ce.l,ce.l+Re));(Xe[21589]||{}).mt&&(re=Xe[21589].mt),((ne||{})[21589]||{}).mt&&(re=ne[21589].mt)}ce.l+=Re;var ot=ce.slice(ce.l,ce.l+ke);switch(Ae){case 8:ot=L(ce,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var jt=!1;fe&8&&(Ce=ce.read_shift(4),Ce==134695760&&(Ce=ce.read_shift(4),jt=!0),ke=ce.read_shift(4),Ne=ce.read_shift(4)),ke!=Se&&qn(jt,"Bad compressed size: "+Se+" != "+ke),Ne!=xe&&qn(jt,"Bad uncompressed size: "+xe+" != "+Ne),er(we,We,ot,{unsafe:!0,mt:re})}function Jn(ce,Se){var xe=Se||{},we=[],ne=[],fe=Vi(1),Ae=xe.compression?8:0,re=0,Ce=0,ke=0,Ne=0,he=0,Re=ce.FullPaths[0],We=Re,ze=ce.FileIndex[0],Xe=[],ot=0;for(Ce=1;Ce<ce.FullPaths.length;++Ce)if(We=ce.FullPaths[Ce].slice(Re.length),ze=ce.FileIndex[Ce],!(!ze.size||!ze.content||We=="Sh33tJ5")){var jt=Ne,gt=Vi(We.length);for(ke=0;ke<We.length;++ke)gt.write_shift(1,We.charCodeAt(ke)&127);gt=gt.slice(0,gt.l),Xe[he]=Wke.buf(ze.content,0);var Nt=ze.content;Ae==8&&(Nt=K(Nt)),fe=Vi(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,re),fe.write_shift(2,Ae),ze.mt?s(fe,ze.mt):fe.write_shift(4,0),fe.write_shift(-4,Xe[he]),fe.write_shift(4,Nt.length),fe.write_shift(4,ze.content.length),fe.write_shift(2,gt.length),fe.write_shift(2,0),Ne+=fe.length,we.push(fe),Ne+=gt.length,we.push(gt),Ne+=Nt.length,we.push(Nt),fe=Vi(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,re),fe.write_shift(2,Ae),fe.write_shift(4,0),fe.write_shift(-4,Xe[he]),fe.write_shift(4,Nt.length),fe.write_shift(4,ze.content.length),fe.write_shift(2,gt.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,jt),ot+=fe.l,ne.push(fe),ot+=gt.length,ne.push(gt),++he}return fe=Vi(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,he),fe.write_shift(2,he),fe.write_shift(4,ot),fe.write_shift(4,Ne),fe.write_shift(2,0),Od([Od(we),Od(ne),fe])}var _n={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ft(ce,Se){if(ce.ctype)return ce.ctype;var xe=ce.name||"",we=xe.match(/\.([^\.]+)$/);return we&&_n[we[1]]||Se&&(we=(xe=Se).match(/[\.\\]([^\.\\])+$/),we&&_n[we[1]])?_n[we[1]]:"application/octet-stream"}function _r(ce){for(var Se=w8(ce),xe=[],we=0;we<Se.length;we+=76)xe.push(Se.slice(we,we+76));return xe.join(`\r
`)+`\r
`}function Jt(ce){var Se=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var Ne=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],we=Se.split(`\r
`),ne=0;ne<we.length;++ne){var fe=we[ne];if(fe.length==0){xe.push("");continue}for(var Ae=0;Ae<fe.length;){var re=76,Ce=fe.slice(Ae,Ae+re);Ce.charAt(re-1)=="="?re--:Ce.charAt(re-2)=="="?re-=2:Ce.charAt(re-3)=="="&&(re-=3),Ce=fe.slice(Ae,Ae+re),Ae+=re,Ae<fe.length&&(Ce+="="),xe.push(Ce)}}return xe.join(`\r
`)}function ar(ce){for(var Se=[],xe=0;xe<ce.length;++xe){for(var we=ce[xe];xe<=ce.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+ce[++xe];Se.push(we)}for(var ne=0;ne<Se.length;++ne)Se[ne]=Se[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return jc(Se.join(`\r
`))}function Kr(ce,Se,xe){for(var we="",ne="",fe="",Ae,re=0;re<10;++re){var Ce=Se[re];if(!Ce||Ce.match(/^\s*$/))break;var ke=Ce.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":we=ke[2].trim();break;case"content-type":fe=ke[2].trim();break;case"content-transfer-encoding":ne=ke[2].trim();break}}switch(++re,ne.toLowerCase()){case"base64":Ae=jc(ko(Se.slice(re).join("")));break;case"quoted-printable":Ae=ar(Se.slice(re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Ne=er(ce,we.slice(xe.length),Ae,{unsafe:!0});fe&&(Ne.ctype=fe)}function Cr(ce,Se){if(P(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=Se&&Se.root||"",we=(Wn&&Buffer.isBuffer(ce)?ce.toString("binary"):P(ce)).split(`\r
`),ne=0,fe="";for(ne=0;ne<we.length;++ne)if(fe=we[ne],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),xe||(xe=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),fe.slice(0,xe.length)!=xe););var Ae=(we[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var re="--"+(Ae[1]||""),Ce=[],ke=[],Ne={FileIndex:Ce,FullPaths:ke};_(Ne);var he,Re=0;for(ne=0;ne<we.length;++ne){var We=we[ne];We!==re&&We!==re+"--"||(Re++&&Kr(Ne,we.slice(he,ne),xe),he=ne)}return Ne}function Dn(ce,Se){var xe=Se||{},we=xe.boundary||"SheetJS";we="------="+we;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],fe=ce.FullPaths[0],Ae=fe,re=ce.FileIndex[0],Ce=1;Ce<ce.FullPaths.length;++Ce)if(Ae=ce.FullPaths[Ce].slice(fe.length),re=ce.FileIndex[Ce],!(!re.size||!re.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var ke=re.content,Ne=Wn&&Buffer.isBuffer(ke)?ke.toString("binary"):P(ke),he=0,Re=Math.min(1024,Ne.length),We=0,ze=0;ze<=Re;++ze)(We=Ne.charCodeAt(ze))>=32&&We<128&&++he;var Xe=he>=Re*4/5;ne.push(we),ne.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+Ae),ne.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),ne.push("Content-Type: "+Ft(re,Ae)),ne.push(""),ne.push(Xe?Jt(Ne):_r(Ne))}return ne.push(we+`--\r
`),ne.join(`\r
`)}function hr(ce){var Se={};return _(Se,ce),Se}function er(ce,Se,xe,we){var ne=we&&we.unsafe;ne||_(ce);var fe=!ne&&Gn.find(ce,Se);if(!fe){var Ae=ce.FullPaths[0];Se.slice(0,Ae.length)==Ae?Ae=Se:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+Se).replace("//","/")),fe={name:i(Se),type:2},ce.FileIndex.push(fe),ce.FullPaths.push(Ae),ne||Gn.utils.cfb_gc(ce)}return fe.content=xe,fe.size=xe?xe.length:0,we&&(we.CLSID&&(fe.clsid=we.CLSID),we.mt&&(fe.mt=we.mt),we.ct&&(fe.ct=we.ct)),fe}function or(ce,Se){_(ce);var xe=Gn.find(ce,Se);if(xe){for(var we=0;we<ce.FileIndex.length;++we)if(ce.FileIndex[we]==xe)return ce.FileIndex.splice(we,1),ce.FullPaths.splice(we,1),!0}return!1}function cr(ce,Se,xe){_(ce);var we=Gn.find(ce,Se);if(we){for(var ne=0;ne<ce.FileIndex.length;++ne)if(ce.FileIndex[ne]==we)return ce.FileIndex[ne].name=i(xe),ce.FullPaths[ne]=xe,!0}return!1}function Tr(ce){k(ce,!0)}return t.find=D,t.read=C,t.parse=d,t.write=W,t.writeFile=G,t.utils={cfb_new:hr,cfb_add:er,cfb_del:or,cfb_mov:cr,cfb_gc:Tr,ReadShift:Dx,CheckField:BQ,prep_blob:hs,bconcat:Od,use_zlib:O,_deflateRaw:Oe,_inflateRaw:rn,consts:H},t}();function qke(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Ql(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function p3(e){for(var t=[],n=Ql(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var lw=new Date(1899,11,30,0,0,0);function Ea(e,t){var n=e.getTime(),r=lw.getTime()+(e.getTimezoneOffset()-lw.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var yQ=new Date,zke=lw.getTime()+(yQ.getTimezoneOffset()-lw.getTimezoneOffset())*6e4,D8=yQ.getTimezoneOffset();function cT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+zke),t.getTimezoneOffset()!==D8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-D8)*6e4),t}function $ke(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var j8=new Date("2017-02-19T19:06:09.000Z"),bQ=isNaN(j8.getFullYear())?new Date("2/19/17"):j8,Hke=bQ.getFullYear()==2017;function ss(e,t){var n=new Date(e);if(Hke)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(bQ.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Jh(e,t){if(Wn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ax(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ax(aQ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ax(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ax(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function vs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=vs(e[n]));return t}function li(e,t){for(var n="";n.length<t;)n+=e;return n}function Wc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var Gke=["january","february","march","april","may","june","july","august","september","october","november","december"];function y0(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Gke.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var Qke=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],c=1;c<s.length;++c)o.push(i),o.push(s[c]);return o}}();function wQ(e){return e?e.content&&e.type?Jh(e.content,!0):e.data?rx(e.data):e.asNodeBuffer&&Wn?rx(e.asNodeBuffer().toString("binary")):e.asBinary?rx(e.asBinary()):e._data&&e._data.getContent?rx(Jh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function _Q(e){if(!e)return null;if(e.data)return y8(e.data);if(e.asNodeBuffer&&Wn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?y8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Kke(e){return e&&e.name.slice(-4)===".bin"?_Q(e):wQ(e)}function zo(e,t){for(var n=e.FullPaths||Ql(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function m3(e,t){var n=zo(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Di(e,t,n){if(!n)return Kke(m3(e,t));if(!t)return null;try{return Di(e,t)}catch{return null}}function vo(e,t,n){if(!n)return wQ(m3(e,t));if(!t)return null;try{return vo(e,t)}catch{return null}}function Xke(e,t,n){return _Q(m3(e,t))}function I8(e){for(var t=e.FullPaths||Ql(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Yke(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Wn?r=xp(n):r=gke(n),Gn.utils.cfb_add(e,t,r)}Gn.utils.cfb_add(e,t,n)}else e.file(t,n)}function TQ(e,t){switch(t.type){case"base64":return Gn.read(e,{type:"base64"});case"binary":return Gn.read(e,{type:"binary"});case"buffer":case"array":return Gn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function sx(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var EQ=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Zke=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,R8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Jke=/<[^>]*>/g,Ks=EQ.match(R8)?R8:Jke,eAe=/<\w*:/,tAe=/<(\/?)\w+:/;function tn(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(Zke),c=0,l="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),c=0;c!=d.length&&d.charCodeAt(c)!==58;++c);if(c===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,r[d.toLowerCase()]=l;else{var p=(c===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(c+1);if(r[p]&&d.slice(c-3,c)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Zl(e){return e.replace(tAe,"<$1")}var NQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},nAe=p3(NQ),Yn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(c,l){return NQ[c]||String.fromCharCode(parseInt(l,c.indexOf("x")>-1?16:10))||c}).replace(t,function(c,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),rAe=/[&<>'"]/g,iAe=/[\u0000-\u001f]/g;function g3(e){var t=e+"";return t.replace(rAe,function(n){return nAe[n]}).replace(/\n/g,"<br/>").replace(iAe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var O8=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function Yr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function KN(e){for(var t="",n=0,r=0,i=0,s=0,o=0,c=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=e.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function F8(e){var t=Sf(2*e.length),n,r,i=1,s=0,o=0,c;for(r=0;r<e.length;r+=i)i=1,(c=e.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function P8(e){return xp(e,"binary").toString("utf8")}var q1="foo bar baz",Fr=Wn&&(P8(q1)==KN(q1)&&P8||F8(q1)==KN(q1)&&F8)||KN,ax=Wn?function(e){return xp(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Ov=function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),SQ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),sAe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),aAe=/<\/?(?:vt:)?variant>/g,oAe=/<(?:vt:)([^>]*)>([\s\S]*)</;function U8(e,t){var n=tn(e),r=e.match(sAe(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(aAe,"").match(oAe);o&&i.push({v:Fr(o[2]),t:o[1]})}),i}var cAe=/(^\s|\s$|\n)/;function lAe(e){return Ql(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function uAe(e,t,n){return"<"+e+(n!=null?lAe(n):"")+(t!=null?(t.match(cAe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function x3(e){if(Wn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Fr(vp(d3(e)));throw new Error("Bad input format: expected Buffer or string")}var Fv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,dAe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},fAe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function hAe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function pAe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var c=0;c<=5;++c,s/=256)e[n+c]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var L8=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},M8=Wn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:xp(t)})):L8(e)}:L8,B8=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Au(e,i)));return r.join("").replace(_a,"")},v3=Wn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(_a,""):B8(e,t,n)}:B8,V8=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},CQ=Wn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):V8(e,t,n)}:V8,W8=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Kp(e,i)));return r.join("")},Py=Wn?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):W8(t,n,r)}:W8,kQ=function(e,t){var n=go(e,t);return n>0?Py(e,t+4,t+4+n-1):""},AQ=kQ,DQ=function(e,t){var n=go(e,t);return n>0?Py(e,t+4,t+4+n-1):""},jQ=DQ,IQ=function(e,t){var n=2*go(e,t);return n>0?Py(e,t+4,t+4+n-1):""},RQ=IQ,OQ=function(t,n){var r=go(t,n);return r>0?v3(t,n+4,n+4+r):""},FQ=OQ,PQ=function(e,t){var n=go(e,t);return n>0?Py(e,t+4,t+4+n):""},UQ=PQ,LQ=function(e,t){return hAe(e,t)},uw=LQ,MQ=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Wn&&(AQ=function(t,n){if(!Buffer.isBuffer(t))return kQ(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},jQ=function(t,n){if(!Buffer.isBuffer(t))return DQ(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},RQ=function(t,n){if(!Buffer.isBuffer(t))return IQ(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},FQ=function(t,n){if(!Buffer.isBuffer(t))return OQ(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},UQ=function(t,n){if(!Buffer.isBuffer(t))return PQ(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},uw=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):LQ(t,n)},MQ=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Kp=function(e,t){return e[t]},Au=function(e,t){return e[t+1]*256+e[t]},mAe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},go=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},dh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},gAe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Dx(e,t){var n="",r,i,s=[],o,c,l,u;switch(t){case"dbcs":if(u=this.l,Wn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Au(this,u)),u+=2;e*=2;break;case"utf8":n=Py(this,this.l,this.l+e);break;case"utf16le":e*=2,n=v3(this,this.l,this.l+e);break;case"wstr":return Dx.call(this,e,"dbcs");case"lpstr-ansi":n=AQ(this,this.l),e=4+go(this,this.l);break;case"lpstr-cp":n=jQ(this,this.l),e=4+go(this,this.l);break;case"lpwstr":n=RQ(this,this.l),e=4+2*go(this,this.l);break;case"lpp4":e=4+go(this,this.l),n=FQ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+go(this,this.l),n=UQ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Kp(this,this.l+e++))!==0;)s.push(W1(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=Au(this,this.l+e))!==0;)s.push(W1(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Kp(this,u),this.l=u+1,c=Dx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(W1(Au(this,u))),u+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Kp(this,u),this.l=u+1,c=Dx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(W1(Kp(this,u))),u+=1}n=s.join("");break;default:switch(e){case 1:return r=Kp(this,this.l),this.l++,r;case 2:return r=(t==="i"?mAe:Au)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?dh:gAe)(this,this.l),this.l+=4,r):(i=go(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=uw(this,this.l):i=uw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=CQ(this,this.l,e);break}}return this.l+=e,n}var xAe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},vAe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},yAe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function bAe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)yAe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,xAe(this,t,this.l);break;case 8:if(r=8,n==="f"){pAe(this,t,this.l);break}case 16:break;case-4:r=4,vAe(this,t,this.l);break}return this.l+=r,this}function BQ(e,t){var n=CQ(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function hs(e,t){e.l=t,e.read_shift=Dx,e.chk=BQ,e.write_shift=bAe}function Gs(e,t){e.l+=t}function Vi(e){var t=Sf(e);return hs(t,0),t}function ad(e,t,n){if(e){var r,i,s;hs(e,e.l||0);for(var o=e.length,c=0,l=0;e.l<o;){c=e.read_shift(1),c&128&&(c=(c&127)+((e.read_shift(1)&127)<<7));var u=gw[c]||gw[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var d=u.f&&u.f(e,s,n);if(e.l=l,t(d,u,c))return}}}function RA(){var e=[],t=Wn?256:2048,n=function(u){var d=Vi(u);return hs(d,0),d},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,t)))},o=function(){return i(),Od(e)},c=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:c,end:o,_bufs:e}}function jx(e,t,n){var r=vs(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function q8(e,t,n){var r=vs(e);return r.s=jx(r.s,t.s,n),r.e=jx(r.e,t.s,n),r}function Ix(e,t){if(e.cRel&&e.c<0)for(e=vs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=vs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=un(e);return!e.cRel&&e.cRel!=null&&(n=TAe(n)),!e.rRel&&e.rRel!=null&&(n=wAe(n)),n}function XN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+zi(e.s.c)+":"+(e.e.cRel?"":"$")+zi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ys(e.s.r)+":"+(e.e.rRel?"":"$")+ys(e.e.r):Ix(e.s,t.biff)+":"+Ix(e.e,t.biff)}function y3(e){return parseInt(_Ae(e),10)-1}function ys(e){return""+(e+1)}function wAe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _Ae(e){return e.replace(/\$(\d+)$/,"$1")}function b3(e){for(var t=EAe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function zi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function TAe(e){return e.replace(/^([A-Z])/,"$$$1")}function EAe(e){return e.replace(/^\$([A-Z])/,"$1")}function NAe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function va(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function un(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Q0(e){var t=e.indexOf(":");return t==-1?{s:va(e),e:va(e)}:{s:va(e.slice(0,t)),e:va(e.slice(t+1))}}function Qn(e,t){return typeof t>"u"||typeof t=="number"?Qn(e.s,e.e):(typeof e!="string"&&(e=un(e)),typeof t!="string"&&(t=un(t)),e==t?e:e+":"+t)}function di(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function z8(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=oc(e.z,n?Ea(t):t)}catch{}try{return e.w=oc((e.XF||{}).numFmtId||(n?14:0),n?Ea(t):t)}catch{return""+t}}function Xu(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?wp[e.v]||e.v:t==null?z8(e,e.v):z8(e,t))}function Wf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function VQ(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),o=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?va(r.origin):r.origin;o=l.r,c=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=di(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},y=o+f,m=c+h;if(u.s.r>y&&(u.s.r=y),u.s.c>m&&(u.s.c=m),u.e.r<y&&(u.e.r=y),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||gn[14],r.cellDates?(p.t="d",p.w=oc(p.z,Ea(p.v))):(p.t="n",p.v=Ea(p.v),p.w=oc(p.z,p.v))):p.t="s";if(i)s[y]||(s[y]=[]),s[y][m]&&s[y][m].z&&(p.z=s[y][m].z),s[y][m]=p;else{var g=un({c:m,r:y});s[g]&&s[g].z&&(p.z=s[g].z),s[g]=p}}}return u.s.c<1e7&&(s["!ref"]=Qn(u)),s}function K0(e,t){return VQ(null,e,t)}function SAe(e){return e.read_shift(4,"i")}function zs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function CAe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function w3(e,t){var n=e.l,r=e.read_shift(1),i=zs(e),s=[],o={t:i,h:i};if(r&1){for(var c=e.read_shift(4),l=0;l!=c;++l)s.push(CAe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var kAe=w3;function uc(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function yp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var AAe=zs;function _3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var DAe=zs,OA=_3;function T3(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?uw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):dh(t,0)>>2;return n?i/100:i}function WQ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var bp=WQ;function Bs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function jAe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var u=Ih[i];u&&(t.rgb=Uv(u));break;case 2:t.rgb=Uv([o,c,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function IAe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function qQ(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function RAe(e){return qQ(e,1)}function OAe(e){return qQ(e,2)}var E3=2,Ma=3,z1=11,$8=12,dw=19,$1=64,FAe=65,PAe=71,UAe=4108,LAe=4126,ts=80,zQ=81,MAe=[ts,zQ],BAe={1:{n:"CodePage",t:E3},2:{n:"Category",t:ts},3:{n:"PresentationFormat",t:ts},4:{n:"ByteCount",t:Ma},5:{n:"LineCount",t:Ma},6:{n:"ParagraphCount",t:Ma},7:{n:"SlideCount",t:Ma},8:{n:"NoteCount",t:Ma},9:{n:"HiddenCount",t:Ma},10:{n:"MultimediaClipCount",t:Ma},11:{n:"ScaleCrop",t:z1},12:{n:"HeadingPairs",t:UAe},13:{n:"TitlesOfParts",t:LAe},14:{n:"Manager",t:ts},15:{n:"Company",t:ts},16:{n:"LinksUpToDate",t:z1},17:{n:"CharacterCount",t:Ma},19:{n:"SharedDoc",t:z1},22:{n:"HyperlinksChanged",t:z1},23:{n:"AppVersion",t:Ma,p:"version"},24:{n:"DigSig",t:FAe},26:{n:"ContentType",t:ts},27:{n:"ContentStatus",t:ts},28:{n:"Language",t:ts},29:{n:"Version",t:ts},255:{},2147483648:{n:"Locale",t:dw},2147483651:{n:"Behavior",t:dw},1919054434:{}},VAe={1:{n:"CodePage",t:E3},2:{n:"Title",t:ts},3:{n:"Subject",t:ts},4:{n:"Author",t:ts},5:{n:"Keywords",t:ts},6:{n:"Comments",t:ts},7:{n:"Template",t:ts},8:{n:"LastAuthor",t:ts},9:{n:"RevNumber",t:ts},10:{n:"EditTime",t:$1},11:{n:"LastPrinted",t:$1},12:{n:"CreatedDate",t:$1},13:{n:"ModifiedDate",t:$1},14:{n:"PageCount",t:Ma},15:{n:"WordCount",t:Ma},16:{n:"CharCount",t:Ma},17:{n:"Thumbnail",t:PAe},18:{n:"Application",t:ts},19:{n:"DocSecurity",t:Ma},255:{},2147483648:{n:"Locale",t:dw},2147483651:{n:"Behavior",t:dw},1919054434:{}},H8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},WAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function qAe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var zAe=qAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ih=vs(zAe),wp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$Q={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},G8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function $Ae(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function HAe(e){var t=$Ae();if(!e||!e.match)return t;var n={};if((e.match(Ks)||[]).forEach(function(r){var i=tn(r);switch(i[0].replace(eAe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[G8[i.ContentType]]!==void 0&&t[G8[i.ContentType]].push(i.PartName);break}}),t.xmlns!==dAe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var mm={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function FA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Rx(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Ks)||[]).forEach(function(i){var s=tn(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:sx(s.Target,t);n[c]=o,r[s.Id]=o}}),n["!id"]=r,n}var GAe="application/vnd.oasis.opendocument.spreadsheet";function QAe(e,t){for(var n=x3(e),r,i;r=Fv.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=tn(r[0],!1),i.path=="/"&&i.type!==GAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var Ox=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],KAe=function(){for(var e=new Array(Ox.length),t=0;t<Ox.length;++t){var n=Ox[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function HQ(e){var t={};e=Fr(e);for(var n=0;n<Ox.length;++n){var r=Ox[n],i=e.match(KAe[n]);i!=null&&i.length>0&&(t[r[1]]=Yn(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=ss(t[r[1]]))}return t}var XAe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function GQ(e,t,n,r){var i=[];if(typeof e=="string")i=U8(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?U8(t,r).map(function(d){return d.v}):t,c=0,l=0;if(o.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(c,c+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(c,c+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(c,c+l);break}c+=l}}function YAe(e,t,n){var r={};return t||(t={}),e=Fr(e),XAe.forEach(function(i){var s=(e.match(Ov(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Yn(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&GQ(r.HeadingPairs,r.TitlesOfParts,t,n),t}var ZAe=/<[^>]+>[^<]*/g;function JAe(e,t){var n={},r="",i=e.match(ZAe);if(i)for(var s=0;s!=i.length;++s){var o=i[s],c=tn(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Yn(c.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=Yn(d);break;case"bool":n[r]=Yr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=ss(d);break;case"cy":case"error":n[r]=Yn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var eDe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},YN;function tDe(e,t,n){YN||(YN=p3(eDe)),t=YN[t]||t,e[t]=n}function N3(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function QQ(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function KQ(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function XQ(e,t,n){return t===31?KQ(e):QQ(e,t,n)}function PA(e,t,n){return XQ(e,t,n===!1?0:4)}function nDe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return XQ(e,t,0)}function rDe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(_a,""),e.l-i&2&&(e.l+=2)}return n}function iDe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(_a,"");return n}function sDe(e){var t=e.l,n=fw(e,zQ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=fw(e,Ma);return[n,r]}function aDe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(sDe(e));return n}function Q8(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(_a,"").replace(ix,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function YQ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function oDe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function fw(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==$8&&r!==t&&MAe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===$8?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return QQ(e,r,4).replace(_a,"");case 31:return KQ(e);case 64:return N3(e);case 65:return YQ(e);case 71:return oDe(e);case 80:return PA(e,r,!s.raw).replace(_a,"");case 81:return nDe(e,r).replace(_a,"");case 4108:return aDe(e);case 4126:case 4127:return r==4127?rDe(e):iDe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function K8(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,c=0,l=-1,u={};for(o=0;o!=i;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+n]}s.sort(function(x,b){return x[1]-b[1]});var h={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var p=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],p=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],p=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(p=!1,e.l=s[o][1]),p)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(h[y.n]=fw(e,y.t,{raw:!0}),y.p==="version"&&(h[y.n]=String(h[y.n]>>16)+"."+("0000"+String(h[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(h[y.n]){case 0:h[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Rc(c=h[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[y.n])}}else if(s[o][0]===1){if(c=h.CodePage=fw(e,E3),Rc(c),l!==-1){var m=e.l;e.l=s[l][1],u=Q8(e,c),e.l=m}}else if(s[o][0]===0){if(c===0){l=o,e.l=s[o+1][1];continue}u=Q8(e,c)}else{var g=u[s[o][0]],v;switch(e[e.l]){case 65:e.l+=4,v=YQ(e);break;case 30:e.l+=4,v=PA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=PA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=xi(e,4);break;case 64:e.l+=4,v=ss(N3(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=v}}return e.l=n+r,h}function X8(e,t,n){var r=e.content;if(!r)return{};hs(r,0);var i,s,o,c,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),d=r.read_shift(16);if(d!==Gn.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),c=r.read_shift(4),i===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);i===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=K8(r,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var y;try{y=K8(r,null)}catch{}for(p in y)h[p]=y[p];return h.FMTID=[s,o],h}function gd(e,t){return e.read_shift(t),null}function cDe(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function xi(e,t){return e.read_shift(t)===1}function ji(e){return e.read_shift(2,"u")}function ZQ(e,t){return cDe(e,t,ji)}function lDe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function Uy(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function uDe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,c,l={};i&&(o=e.read_shift(2)),r&&(c=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*o),r&&(e.l+=c),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ep(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Ly(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):ep(e,r,n)}function _p(e,t,n){if(n.biff>5)return Ly(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dDe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function fDe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(_a,"");return r&&(e.l+=24),i}function hDe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(_a,"");return n+o}function pDe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return fDe(e);case"0303000000000000c000000000000046":return hDe(e);default:throw new Error("Unsupported Moniker "+n)}}function H1(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(_a,""):"";return n}function mDe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,c,l,u="",d,f;i&16&&(s=H1(e,n-e.l)),i&128&&(o=H1(e,n-e.l)),(i&257)===257&&(c=H1(e,n-e.l)),(i&257)===1&&(l=pDe(e,n-e.l)),i&8&&(u=H1(e,n-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(f=N3(e)),e.l=n;var h=o||c||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function JQ(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function eK(e,t){var n=JQ(e);return n[3]=0,n}function Jl(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function gDe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function xDe(e,t,n){return t===0?"":_p(e,t,n)}function vDe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function tK(e){var t=e.read_shift(2),n=T3(e);return[t,n]}function yDe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=Uy(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function lT(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function nK(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var bDe=nK;function rK(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function wDe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function _De(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ds(e){e.l+=2,e.l+=e.read_shift(2)}var TDe={0:Ds,4:Ds,5:Ds,6:Ds,7:_De,8:Ds,9:Ds,10:Ds,11:Ds,12:Ds,13:wDe,14:Ds,15:Ds,16:Ds,17:Ds,18:Ds,19:Ds,20:Ds,21:rK};function EDe(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(TDe[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function G1(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function NDe(e,t){return t===0||e.read_shift(2),1200}function SDe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=_p(e,0,n);return e.read_shift(t+r-e.l),i}function CDe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function kDe(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=Uy(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function ADe(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(uDe(e));return s.Count=r,s.Unique=i,s}function DDe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function jDe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function IDe(e){var t=gDe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function RDe(e){return e.read_shift(2),e.read_shift(4)}function Y8(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function ODe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:c,Selected:l,TabRatio:u}}function FDe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function PDe(){}function UDe(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=Uy(e,0,n),r}function LDe(e){var t=Jl(e);return t.isst=e.read_shift(4),t}function MDe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Jl(e);n.biff==2&&e.l++;var s=Ly(e,r-e.l,n);return i.val=s,i}function BDe(e,t,n){var r=e.read_shift(2),i=_p(e,0,n);return[r,i]}var VDe=_p;function Z8(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),o=e.read_shift(i),c=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c},e:{r:o,c:l}}}function WDe(e){var t=e.read_shift(2),n=e.read_shift(2),r=tK(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function qDe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(tK(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function zDe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function $De(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(4),l=e.read_shift(2);return i.patternType=WAe[c>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function HDe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=$De(e,t,r.fStyle,n),r}function GDe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function J8(e,t,n){var r=Jl(e);(n.biff==2||t==9)&&++e.l;var i=lDe(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function QDe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Jl(e),i=Bs(e);return r.val=i,r}var eU=xDe;function KDe(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=ep(e,s),c=[];r>e.l;)c.push(Ly(e));return[s,i,o,c]}function tU(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=yDe(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var XDe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nU(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var u=ep(e,o,n);i&32&&(u=XDe[u.charCodeAt(0)]);var d=r-e.l;n&&n.biff==2&&--d;var f=r==e.l||c===0||!(d>0)?[]:jIe(e,d,n,c);return{chKey:s,Name:u,itab:l,rgce:f}}function iK(e,t,n){if(n.biff<8)return YDe(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(vDe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function YDe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=Uy(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function ZDe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=ep(e,r,n),o=ep(e,i,n);return[s,o]}function JDe(e,t,n){var r=nK(e);e.l++;var i=e.read_shift(1);return t-=8,[IIe(e,t,n),i,r]}function rU(e,t,n){var r=bDe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,AIe(e,t,n)]}function eje(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function tje(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=_p(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},c,o,s]}}function nje(e,t,n){return tje(e,t,n)}function rje(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(lT(e));return n}function ije(e,t,n){if(n&&n.biff<8)return aje(e,t,n);var r=rK(e),i=EDe(e,t-22,r[1]);return{cmo:r,ft:i}}var sje={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function aje(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((sje[r]||Gs)(e,t,n)),{cmo:[i,r,s],ft:o}}function oje(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=dDe(e,6,n);var c=e.read_shift(2);e.read_shift(2),ji(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-r!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=ep(e,e.lens[u+1]-e.lens[u]-1);if(i+=f,i.length>=(d?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function cje(e,t){var n=lT(e);e.l+=16;var r=mDe(e,t-24);return[n,r]}function lje(e,t){e.read_shift(2);var n=lT(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(_a,""),[n,r]}function uje(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=H8[n]||n,n=e.read_shift(2),t[1]=H8[n]||n,t}function dje(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(eK(e));return n}function fje(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(eK(e));return n}function hje(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function sK(e,t,n){if(!n.cellStyles)return Gs(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),c=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var u={s:i,e:s,w:o,ixfe:c,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function pje(e,t){var n={};return t<32||(e.l+=16,n.header=Bs(e),n.footer=Bs(e),e.l+=2),n}function mje(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var gje=Jl,xje=ZQ,vje=Ly;function yje(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function bje(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Jl(e);++e.l;var i=_p(e,t-7,n);return r.t="str",r.val=i,r}function wje(e){var t=Jl(e);++e.l;var n=Bs(e);return t.t="n",t.val=n,t}function _je(e){var t=Jl(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function Tje(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Eje(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Nje(e,t,n){var r=e.l+t,i=Jl(e),s=e.read_shift(2),o=ep(e,s,n);return e.l=r,i.t="str",i.val=o,i}var Sje=[2,3,48,49,131,139,140,245],iU=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=p3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,l){var u=[],d=Sf(1);switch(l.type){case"base64":d=jc(ko(c));break;case"binary":d=jc(c);break;case"buffer":case"array":d=c;break}hs(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,g=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(g=d.read_shift(2));var v=d.read_shift(2),x=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(x=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var b=[],w={},T=Math.min(d.length,f==2?521:g-10-(p?264:0)),C=y?32:11;d.l<T&&d[d.l]!=13;)switch(w={},w.name=Iv.utils.decode(x,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&b.push(w),f!=2&&(d.l+=y?13:14),w.type){case"B":(!p||w.len!=8)&&l.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var _=0,N=0;for(u[0]=[],N=0;N!=b.length;++N)u[0][N]=b[N].name;for(;m-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++_]=[],N=0,N=0;N!=b.length;++N){var k=d.slice(d.l,d.l+b[N].len);d.l+=b[N].len,hs(k,0);var j=Iv.utils.decode(x,k);switch(b[N].type){case"C":j.trim().length&&(u[_][N]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[_][N]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[_][N]=j;break;case"F":u[_][N]=parseFloat(j.trim());break;case"+":case"I":u[_][N]=y?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[_][N]=!0;break;case"N":case"F":u[_][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[_][N]="##MEMO##"+(y?parseInt(j.trim(),10):k.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[_][N]=+j||0);break;case"@":u[_][N]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[_][N]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[_][N]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[_][N]=-k.read_shift(-8,"f");break;case"B":if(p&&b[N].len==8){u[_][N]=k.read_shift(8,"f");break}case"G":case"P":k.l+=b[N].len;break;case"0":if(b[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[N].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}function r(c,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=K0(n(c,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function i(c,l){try{return Wf(r(c,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,l){var u=l||{};if(+u.codepage>=0&&Rc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=RA(),f=WA(c,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),y=c["!cols"]||[],m=0,g=0,v=0,x=1;for(m=0;m<h.length;++m){if(((y[m]||{}).DBF||{}).name){h[m]=y[m].DBF.name,++v;continue}if(h[m]!=null){if(++v,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(g=0;g<1024;++g)if(h.indexOf(h[m]+"_"+g)==-1){h[m]+="_"+g;break}}}}var b=di(c["!ref"]),w=[],T=[],C=[];for(m=0;m<=b.e.c-b.s.c;++m){var _="",N="",k=0,j=[];for(g=0;g<p.length;++g)p[g][m]!=null&&j.push(p[g][m]);if(j.length==0||h[m]==null){w[m]="?";continue}for(g=0;g<j.length;++g){switch(typeof j[g]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=j[g]instanceof Date?"D":"C";break;default:N="C"}k=Math.max(k,String(j[g]).length),_=_&&_!=N?"C":N}k>250&&(k=250),N=((y[m]||{}).DBF||{}).type,N=="C"&&y[m].DBF.len>k&&(k=y[m].DBF.len),_=="B"&&N=="N"&&(_="N",C[m]=y[m].DBF.dec,k=y[m].DBF.len),T[m]=_=="C"||N=="N"?k:s[_]||0,x+=T[m],w[m]=_}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*v),D.write_shift(2,x),m=0;m<4;++m)D.write_shift(4,0);for(D.write_shift(4,0|(+t[iQ]||3)<<8),m=0,g=0;m<h.length;++m)if(h[m]!=null){var E=d.next(32),I=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,I,"sbcs"),E.write_shift(1,w[m]=="?"?"C":w[m],"sbcs"),E.write_shift(4,g),E.write_shift(1,T[m]||s[w[m]]||0),E.write_shift(1,C[m]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),g+=T[m]||s[w[m]]||0}var R=d.next(264);for(R.write_shift(4,13),m=0;m<65;++m)R.write_shift(4,0);for(m=0;m<p.length;++m){var V=d.next(x);for(V.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(w[g]){case"L":V.write_shift(1,p[m][g]==null?63:p[m][g]?84:70);break;case"B":V.write_shift(8,p[m][g]||0,"f");break;case"N":var M="0";for(typeof p[m][g]=="number"&&(M=p[m][g].toFixed(C[g]||0)),v=0;v<T[g]-M.length;++v)V.write_shift(1,32);V.write_shift(1,M,"sbcs");break;case"D":p[m][g]?(V.write_shift(4,("0000"+p[m][g].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(p[m][g].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+p[m][g].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var H=String(p[m][g]!=null?p[m][g]:"").slice(0,T[g]);for(V.write_shift(1,H,"sbcs"),v=0;v<T[g]-H.length;++v)V.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),Cje=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ql(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var y=e[p];return typeof y=="number"?b8(y):y},r=function(h,p,y){var m=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return m==59?h:b8(m)};e["|"]=254;function i(h,p){switch(p.type){case"base64":return s(ko(h),p);case"binary":return s(h,p);case"buffer":return s(Wn&&Buffer.isBuffer(h)?h.toString("binary"):vp(h),p);case"array":return s(Jh(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var y=h.split(/[\n\r]+/),m=-1,g=-1,v=0,x=0,b=[],w=[],T=null,C={},_=[],N=[],k=[],j=0,D;for(+p.codepage>=0&&Rc(+p.codepage);v!==y.length;++v){j=0;var E=y[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),I=E.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),R=I[0],V;if(E.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&w.push(E.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,H=!1,G=!1,P=!1,W=-1,F=-1;for(x=1;x<I.length;++x)switch(I[x].charAt(0)){case"A":break;case"X":g=parseInt(I[x].slice(1))-1,H=!0;break;case"Y":for(m=parseInt(I[x].slice(1))-1,H||(g=0),D=b.length;D<=m;++D)b[D]=[];break;case"K":V=I[x].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Wc(V))?isNaN(y0(V).getDate())||(V=ss(V)):(V=Wc(V),T!==null&&G0(T)&&(V=cT(V))),M=!0;break;case"E":P=!0;var O=Rm(I[x].slice(1),{r:m,c:g});b[m][g]=[b[m][g],O];break;case"S":G=!0,b[m][g]=[b[m][g],"S5S"];break;case"G":break;case"R":W=parseInt(I[x].slice(1))-1;break;case"C":F=parseInt(I[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(M&&(b[m][g]&&b[m][g].length==2?b[m][g][0]=V:b[m][g]=V,T=null),G){if(P)throw new Error("SYLK shared formula cannot have own formula");var L=W>-1&&b[W][F];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");b[m][g][1]=mK(L[1],{r:m-W,c:g-F})}break;case"F":var K=0;for(x=1;x<I.length;++x)switch(I[x].charAt(0)){case"X":g=parseInt(I[x].slice(1))-1,++K;break;case"Y":for(m=parseInt(I[x].slice(1))-1,D=b.length;D<=m;++D)b[D]=[];break;case"M":j=parseInt(I[x].slice(1))/20;break;case"F":break;case"G":break;case"P":T=w[parseInt(I[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=I[x].slice(1).split(" "),D=parseInt(k[0],10);D<=parseInt(k[1],10);++D)j=parseInt(k[2],10),N[D-1]=j===0?{hidden:!0}:{wch:j},b0(N[D-1]);break;case"C":g=parseInt(I[x].slice(1))-1,N[g]||(N[g]={});break;case"R":m=parseInt(I[x].slice(1))-1,_[m]||(_[m]={}),j>0?(_[m].hpt=j,_[m].hpx=Lv(j)):j===0&&(_[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}K<1&&(T=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return _.length>0&&(C["!rows"]=_),N.length>0&&(C["!cols"]=N),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,C]}function o(h,p){var y=i(h,p),m=y[0],g=y[1],v=K0(m,p);return Ql(g).forEach(function(x){v[x]=g[x]}),v}function c(h,p){return Wf(o(h,p),p)}function l(h,p,y,m){var g="C;Y"+(y+1)+";X"+(m+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+h3e(h.f,{r:y,c:m}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,p){p.forEach(function(y,m){var g="F;W"+(m+1)+" "+(m+1)+" ";y.hidden?g+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=pw(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=mw(y.wpx)),typeof y.wch=="number"&&(g+=Math.round(y.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,p){p.forEach(function(y,m){var g="F;";y.hidden?g+="M0;":y.hpt?g+="M"+20*y.hpt+";":y.hpx&&(g+="M"+20*fK(y.hpx)+";"),g.length>2&&h.push(g+"R"+(m+1))})}function f(h,p){var y=["ID;PWXL;N;E"],m=[],g=di(h["!ref"]),v,x=Array.isArray(h),b=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),h["!cols"]&&u(y,h["!cols"]),h["!rows"]&&d(y,h["!rows"]),y.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var w=g.s.r;w<=g.e.r;++w)for(var T=g.s.c;T<=g.e.c;++T){var C=un({r:w,c:T});v=x?(h[w]||[])[T]:h[C],!(!v||v.v==null&&(!v.f||v.F))&&m.push(l(v,h,w,T))}return y.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:c,to_sheet:o,from_sheet:f}}(),kje=function(){function e(s,o){switch(o.type){case"base64":return t(ko(s),o);case"binary":return t(s,o);case"buffer":return t(Wn&&Buffer.isBuffer(s)?s.toString("binary"):vp(s),o);case"array":return t(Jh(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var c=s.split(`
`),l=-1,u=-1,d=0,f=[];d!==c.length;++d){if(c[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=c[d].trim().split(","),p=h[0],y=h[1];++d;for(var m=c[d]||"";(m.match(/["]/g)||[]).length&1&&d<c.length-1;)m+=`
`+c[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][u]=!0:m==="FALSE"?f[l][u]=!1:isNaN(Wc(y))?isNaN(y0(y).getDate())?f[l][u]=y:f[l][u]=ss(y):f[l][u]=Wc(y),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return K0(e(s,o),o)}function r(s,o){return Wf(n(s,o),o)}var i=function(){var s=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=di(l["!ref"]),f,h=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var m=un({r:p,c:y});if(f=h?(l[p]||[])[y]:l[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=oc(f.z||gn[14],Ea(ss(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var v=`\r
`,x=u.join(v);return x}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),Aje=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),y=-1,m=-1,g=0,v=[];g!==p.length;++g){var x=p[g].trim().split(":");if(x[0]==="cell"){var b=va(x[1]);if(v.length<=b.r)for(y=v.length;y<=b.r;++y)v[y]||(v[y]=[]);switch(y=b.r,m=b.c,x[2]){case"t":v[y][m]=e(x[3]);break;case"v":v[y][m]=+x[3];break;case"vtf":var w=x[x.length-1];case"vtc":switch(x[3]){case"nl":v[y][m]=!!+x[4];break;default:v[y][m]=+x[4];break}x[2]=="vtf"&&(v[y][m]=[v[y][m],w])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function r(f,h){return K0(n(f,h),h)}function i(f,h){return Wf(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],y,m="",g=Q0(f["!ref"]),v=Array.isArray(f),x=g.s.r;x<=g.e.r;++x)for(var b=g.s.c;b<=g.e.c;++b)if(m=un({r:x,c:b}),y=v?(f[x]||[])[b]:f[m],!(!y||y.v==null||y.t==="z")){switch(p=["cell",m,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var w=Ea(ss(y.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=y.w||oc(y.z||gn[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,c,o,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),Pv=function(){function e(d,f,h,p,y){y.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Wc(d))?isNaN(y0(d).getDate())?f[h][p]=d:f[h][p]=ss(d):f[h][p]=Wc(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),m=y.length-1;m>=0&&y[m].length===0;)--m;for(var g=10,v=0,x=0;x<=m;++x)v=y[x].indexOf(" "),v==-1?v=y[x].length:v++,g=Math.max(g,v);for(x=0;x<=m;++x){p[x]=[];var b=0;for(e(y[x].slice(0,g).trim(),p,x,b,h),b=1;b<=(y[x].length-g)/10+1;++b)e(y[x].slice(g+(b-1)*10,g+b*10).trim(),p,x,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var f={},h=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?h=!h:!h&&y in n&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(m,g){return m[0]-g[0]||r[m[1]]-r[g[1]]}),n[y.pop()[1]]||44}function s(d,f){var h=f||{},p="",y=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=i(d.slice(0,1024)):h&&h.FS?p=h.FS:p=i(d.slice(0,1024));var g=0,v=0,x=0,b=0,w=0,T=p.charCodeAt(0),C=!1,_=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?Bke(h.dateNF):null;function j(){var D=d.slice(b,w),E={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)E.t="z";else if(h.raw)E.t="s",E.v=D;else if(D.trim().length===0)E.t="s",E.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(E.t="s",E.v=D.slice(2,-1).replace(/""/g,'"')):m3e(D)?(E.t="n",E.f=D.slice(1)):(E.t="s",E.v=D);else if(D=="TRUE")E.t="b",E.v=!0;else if(D=="FALSE")E.t="b",E.v=!1;else if(!isNaN(x=Wc(D)))E.t="n",h.cellText!==!1&&(E.w=D),E.v=x;else if(!isNaN(y0(D).getDate())||k&&D.match(k)){E.z=h.dateNF||gn[14];var I=0;k&&D.match(k)&&(D=Vke(D,h.dateNF,D.match(k)||[]),I=1),h.cellDates?(E.t="d",E.v=ss(D,I)):(E.t="n",E.v=Ea(ss(D,I))),h.cellText!==!1&&(E.w=oc(E.z,E.v instanceof Date?Ea(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=D;if(E.t=="z"||(h.dense?(y[g]||(y[g]=[]),y[g][v]=E):y[un({c:v,r:g})]=E),b=w+1,N=d.charCodeAt(b),m.e.c<v&&(m.e.c=v),m.e.r<g&&(m.e.r=g),_==T)++v;else if(v=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;w<d.length;++w)switch(_=d.charCodeAt(w)){case 34:N===34&&(C=!C);break;case T:case 10:case 13:if(!C&&j())break e;break}return w-b>0&&j(),y["!ref"]=Qn(m),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):K0(t(d,f),f)}function c(d,f){var h="",p=f.type=="string"?[0,0,0,0]:R3(d,f);switch(f.type){case"base64":h=ko(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Iv<"u"||(h=Wn&&Buffer.isBuffer(d)?d.toString("binary"):vp(d));break;case"array":h=Jh(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Fr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Fr(h):f.type=="binary"&&typeof Iv<"u",h.slice(0,19)=="socialcalc:version:"?Aje.to_sheet(f.type=="string"?h:Fr(h),f):o(h,f)}function l(d,f){return Wf(c(d,f),f)}function u(d){for(var f=[],h=di(d["!ref"]),p,y=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var g=[],v=h.s.c;v<=h.e.c;++v){var x=un({r:m,c:v});if(p=y?(d[m]||[])[v]:d[x],!p||p.v==null){g.push("          ");continue}for(var b=(p.w||(Xu(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";g.push(b+(v===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:c,from_sheet:u}}();function Dje(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=Cje.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Pv.to_workbook(e,t)}}var Fx=function(){function e(O,L,K){if(O){hs(O,O.l||0);for(var Q=K.Enum||W;O.l<O.length;){var U=O.read_shift(2),Z=Q[U]||Q[65535],pe=O.read_shift(2),me=O.l+pe,ye=Z.f&&Z.f(O,pe,K);if(O.l=me,L(ye,Z,U))return}}}function t(O,L){switch(L.type){case"base64":return n(jc(ko(O)),L);case"binary":return n(jc(O),L);case"buffer":case"array":return n(O,L)}throw"Unsupported type "+L.type}function n(O,L){if(!O)return O;var K=L||{},Q=K.dense?[]:{},U="Sheet1",Z="",pe=0,me={},ye=[],Fe=[],Y={s:{r:0,c:0},e:{r:0,c:0}},ve=K.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)K.Enum=W,e(O,function(se,J,de){switch(de){case 0:K.vers=se,se>=4096&&(K.qpro=!0);break;case 6:Y=se;break;case 204:se&&(Z=se);break;case 222:Z=se;break;case 15:case 51:K.qpro||(se[1].v=se[1].v.slice(1));case 13:case 14:case 16:de==14&&(se[2]&112)==112&&(se[2]&15)>1&&(se[2]&15)<15&&(se[1].z=K.dateNF||gn[14],K.cellDates&&(se[1].t="d",se[1].v=cT(se[1].v))),K.qpro&&se[3]>pe&&(Q["!ref"]=Qn(Y),me[U]=Q,ye.push(U),Q=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},pe=se[3],U=Z||"Sheet"+(pe+1),Z="");var X=K.dense?(Q[se[0].r]||[])[se[0].c]:Q[un(se[0])];if(X){X.t=se[1].t,X.v=se[1].v,se[1].z!=null&&(X.z=se[1].z),se[1].f!=null&&(X.f=se[1].f);break}K.dense?(Q[se[0].r]||(Q[se[0].r]=[]),Q[se[0].r][se[0].c]=se[1]):Q[un(se[0])]=se[1];break}},K);else if(O[2]==26||O[2]==14)K.Enum=F,O[2]==14&&(K.qpro=!0,O.l=0),e(O,function(se,J,de){switch(de){case 204:U=se;break;case 22:se[1].v=se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(se[3]>pe&&(Q["!ref"]=Qn(Y),me[U]=Q,ye.push(U),Q=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},pe=se[3],U="Sheet"+(pe+1)),ve>0&&se[0].r>=ve)break;K.dense?(Q[se[0].r]||(Q[se[0].r]=[]),Q[se[0].r][se[0].c]=se[1]):Q[un(se[0])]=se[1],Y.e.c<se[0].c&&(Y.e.c=se[0].c),Y.e.r<se[0].r&&(Y.e.r=se[0].r);break;case 27:se[14e3]&&(Fe[se[14e3][0]]=se[14e3][1]);break;case 1537:Fe[se[0]]=se[1],se[0]==pe&&(U=se[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(Q["!ref"]=Qn(Y),me[Z||U]=Q,ye.push(Z||U),!Fe.length)return{SheetNames:ye,Sheets:me};for(var B={},_e=[],Ee=0;Ee<Fe.length;++Ee)me[ye[Ee]]?(_e.push(Fe[Ee]||ye[Ee]),B[Fe[Ee]]=me[Fe[Ee]]||me[ye[Ee]]):(_e.push(Fe[Ee]),B[Fe[Ee]]={"!ref":"A1"});return{SheetNames:_e,Sheets:B}}function r(O,L){var K=L||{};if(+K.codepage>=0&&Rc(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=RA(),U=di(O["!ref"]),Z=Array.isArray(O),pe=[];vc(Q,0,s(1030)),vc(Q,6,l(U));for(var me=Math.min(U.e.r,8191),ye=U.s.r;ye<=me;++ye)for(var Fe=ys(ye),Y=U.s.c;Y<=U.e.c;++Y){ye===U.s.r&&(pe[Y]=zi(Y));var ve=pe[Y]+Fe,B=Z?(O[ye]||[])[Y]:O[ve];if(!(!B||B.t=="z"))if(B.t=="n")(B.v|0)==B.v&&B.v>=-32768&&B.v<=32767?vc(Q,13,p(ye,Y,B.v)):vc(Q,14,m(ye,Y,B.v));else{var _e=Xu(B);vc(Q,15,f(ye,Y,_e.slice(0,239)))}}return vc(Q,1),Q.end()}function i(O,L){var K=L||{};if(+K.codepage>=0&&Rc(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=RA();vc(Q,0,o(O));for(var U=0,Z=0;U<O.SheetNames.length;++U)(O.Sheets[O.SheetNames[U]]||{})["!ref"]&&vc(Q,27,P(O.SheetNames[U],Z++));var pe=0;for(U=0;U<O.SheetNames.length;++U){var me=O.Sheets[O.SheetNames[U]];if(!(!me||!me["!ref"])){for(var ye=di(me["!ref"]),Fe=Array.isArray(me),Y=[],ve=Math.min(ye.e.r,8191),B=ye.s.r;B<=ve;++B)for(var _e=ys(B),Ee=ye.s.c;Ee<=ye.e.c;++Ee){B===ye.s.r&&(Y[Ee]=zi(Ee));var se=Y[Ee]+_e,J=Fe?(me[B]||[])[Ee]:me[se];if(!(!J||J.t=="z"))if(J.t=="n")vc(Q,23,j(B,Ee,pe,J.v));else{var de=Xu(J);vc(Q,22,_(B,Ee,pe,de.slice(0,239)))}}++pe}}return vc(Q,1),Q.end()}function s(O){var L=Vi(2);return L.write_shift(2,O),L}function o(O){var L=Vi(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var K=0,Q=0,U=0,Z=0;Z<O.SheetNames.length;++Z){var pe=O.SheetNames[Z],me=O.Sheets[pe];if(!(!me||!me["!ref"])){++U;var ye=Q0(me["!ref"]);K<ye.e.r&&(K=ye.e.r),Q<ye.e.c&&(Q=ye.e.c)}}return K>8191&&(K=8191),L.write_shift(2,K),L.write_shift(1,U),L.write_shift(1,Q),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function c(O,L,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&K.qpro?(Q.s.c=O.read_shift(1),O.l++,Q.s.r=O.read_shift(2),Q.e.c=O.read_shift(1),O.l++,Q.e.r=O.read_shift(2),Q):(Q.s.c=O.read_shift(2),Q.s.r=O.read_shift(2),L==12&&K.qpro&&(O.l+=2),Q.e.c=O.read_shift(2),Q.e.r=O.read_shift(2),L==12&&K.qpro&&(O.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(O){var L=Vi(8);return L.write_shift(2,O.s.c),L.write_shift(2,O.s.r),L.write_shift(2,O.e.c),L.write_shift(2,O.e.r),L}function u(O,L,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=O.read_shift(1),Q[3]=O.read_shift(1),Q[0].r=O.read_shift(2),O.l+=2):(Q[2]=O.read_shift(1),Q[0].c=O.read_shift(2),Q[0].r=O.read_shift(2)),Q}function d(O,L,K){var Q=O.l+L,U=u(O,L,K);if(U[1].t="s",K.vers==20768){O.l++;var Z=O.read_shift(1);return U[1].v=O.read_shift(Z,"utf8"),U}return K.qpro&&O.l++,U[1].v=O.read_shift(Q-O.l,"cstr"),U}function f(O,L,K){var Q=Vi(7+K.length);Q.write_shift(1,255),Q.write_shift(2,L),Q.write_shift(2,O),Q.write_shift(1,39);for(var U=0;U<Q.length;++U){var Z=K.charCodeAt(U);Q.write_shift(1,Z>=128?95:Z)}return Q.write_shift(1,0),Q}function h(O,L,K){var Q=u(O,L,K);return Q[1].v=O.read_shift(2,"i"),Q}function p(O,L,K){var Q=Vi(7);return Q.write_shift(1,255),Q.write_shift(2,L),Q.write_shift(2,O),Q.write_shift(2,K,"i"),Q}function y(O,L,K){var Q=u(O,L,K);return Q[1].v=O.read_shift(8,"f"),Q}function m(O,L,K){var Q=Vi(13);return Q.write_shift(1,255),Q.write_shift(2,L),Q.write_shift(2,O),Q.write_shift(8,K,"f"),Q}function g(O,L,K){var Q=O.l+L,U=u(O,L,K);if(U[1].v=O.read_shift(8,"f"),K.qpro)O.l=Q;else{var Z=O.read_shift(2);w(O.slice(O.l,O.l+Z),U),O.l+=Z}return U}function v(O,L,K){var Q=L&32768;return L&=-32769,L=(Q?O:0)+(L>=8192?L-16384:L),(Q?"":"$")+(K?zi(L):ys(L))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(O,L){hs(O,0);for(var K=[],Q=0,U="",Z="",pe="",me="";O.l<O.length;){var ye=O[O.l++];switch(ye){case 0:K.push(O.read_shift(8,"f"));break;case 1:Z=v(L[0].c,O.read_shift(2),!0),U=v(L[0].r,O.read_shift(2),!1),K.push(Z+U);break;case 2:{var Fe=v(L[0].c,O.read_shift(2),!0),Y=v(L[0].r,O.read_shift(2),!1);Z=v(L[0].c,O.read_shift(2),!0),U=v(L[0].r,O.read_shift(2),!1),K.push(Fe+Y+":"+Z+U)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(O.read_shift(2));break;case 6:{for(var ve="";ye=O[O.l++];)ve+=String.fromCharCode(ye);K.push('"'+ve.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:me=K.pop(),pe=K.pop(),K.push(["AND","OR"][ye-20]+"("+pe+","+me+")");break;default:if(ye<32&&b[ye])me=K.pop(),pe=K.pop(),K.push(pe+b[ye]+me);else if(x[ye]){if(Q=x[ye][1],Q==69&&(Q=O[O.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+K.join("|")+"|");return}var B=K.slice(-Q);K.length-=Q,K.push(x[ye][0]+"("+B.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}K.length==1?L[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function T(O){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=O.read_shift(2),L[3]=O[O.l++],L[0].c=O[O.l++],L}function C(O,L){var K=T(O);return K[1].t="s",K[1].v=O.read_shift(L-4,"cstr"),K}function _(O,L,K,Q){var U=Vi(6+Q.length);U.write_shift(2,O),U.write_shift(1,K),U.write_shift(1,L),U.write_shift(1,39);for(var Z=0;Z<Q.length;++Z){var pe=Q.charCodeAt(Z);U.write_shift(1,pe>=128?95:pe)}return U.write_shift(1,0),U}function N(O,L){var K=T(O);K[1].v=O.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function k(O,L){var K=T(O),Q=O.read_shift(4),U=O.read_shift(4),Z=O.read_shift(2);if(Z==65535)return Q===0&&U===3221225472?(K[1].t="e",K[1].v=15):Q===0&&U===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var pe=Z&32768;return Z=(Z&32767)-16446,K[1].v=(1-pe*2)*(U*Math.pow(2,Z+32)+Q*Math.pow(2,Z)),K}function j(O,L,K,Q){var U=Vi(14);if(U.write_shift(2,O),U.write_shift(1,K),U.write_shift(1,L),Q==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var Z=0,pe=0,me=0,ye=0;return Q<0&&(Z=1,Q=-Q),pe=Math.log2(Q)|0,Q/=Math.pow(2,pe-31),ye=Q>>>0,ye&2147483648||(Q/=2,++pe,ye=Q>>>0),Q-=ye,ye|=2147483648,ye>>>=0,Q*=Math.pow(2,32),me=Q>>>0,U.write_shift(4,me),U.write_shift(4,ye),pe+=16383+(Z?32768:0),U.write_shift(2,pe),U}function D(O,L){var K=k(O);return O.l+=L-14,K}function E(O,L){var K=T(O),Q=O.read_shift(4);return K[1].v=Q>>6,K}function I(O,L){var K=T(O),Q=O.read_shift(8,"f");return K[1].v=Q,K}function R(O,L){var K=I(O);return O.l+=L-10,K}function V(O,L){return O[O.l+L-1]==0?O.read_shift(L,"cstr"):""}function M(O,L){var K=O[O.l++];K>L-1&&(K=L-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(O[O.l++]);return Q}function H(O,L,K){if(!(!K.qpro||L<21)){var Q=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var U=O.read_shift(L-21,"cstr");return[Q,U]}}function G(O,L){for(var K={},Q=O.l+L;O.l<Q;){var U=O.read_shift(2);if(U==14e3){for(K[U]=[0,""],K[U][0]=O.read_shift(2);O[O.l];)K[U][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return K}function P(O,L){var K=Vi(5+O.length);K.write_shift(2,14e3),K.write_shift(2,L);for(var Q=0;Q<O.length;++Q){var U=O.charCodeAt(Q);K[K.l++]=U>127?95:U}return K[K.l++]=0,K}var W={0:{n:"BOF",f:ji},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},F={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function jje(e){var t={},n=e.match(Ks),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=tn(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=l3[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var Ije=function(){var e=Ov("t"),t=Ov("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var c={t:"s",v:Yn(o[1])},l=s.match(t);return l&&(c.s=jje(l[1])),c}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(c){return c.v})}}(),Rje=function(){var t=/(\r\n|\n)/g;function n(i,s,o){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),Oje=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Fje=/<(?:\w+:)?r>/,Pje=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function S3(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Yn(Fr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Fr(e),n&&(r.h=g3(r.t))):e.match(Fje)&&(r.r=Fr(e),r.t=Yn(Fr((e.replace(Pje,"").match(Oje)||[]).join("").replace(Ks,""))),n&&(r.h=Rje(Ije(r.r)))),r):{t:""}}var Uje=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Lje=/<(?:\w+:)?(?:si|sstItem)>/g,Mje=/<\/(?:\w+:)?(?:si|sstItem)>/;function Bje(e,t){var n=[],r="";if(!e)return n;var i=e.match(Uje);if(i){r=i[2].replace(Lje,"").split(Mje);for(var s=0;s!=r.length;++s){var o=S3(r[s].trim(),t);o!=null&&(n[n.length]=o)}i=tn(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function Vje(e){return[e.read_shift(4),e.read_shift(4)]}function Wje(e,t){var n=[],r=!1;return ad(e,function(s,o,c){switch(c){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function aK(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Pu(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function qje(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Pu(e,4),t.U=Pu(e,4),t.W=Pu(e,4),t}function zje(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function $je(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(zje(e));return t}function Hje(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Gje(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Pu(e,4),t.U=Pu(e,4),t.W=Pu(e,4),t}function Qje(e){var t=Gje(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function oK(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function cK(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function Kje(e){var t=Pu(e);switch(t.Minor){case 2:return[t.Minor,Xje(e)];case 3:return[t.Minor,Yje()];case 4:return[t.Minor,Zje(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Xje(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=oK(e,n),i=cK(e,e.length-e.l);return{t:"Std",h:r,v:i}}function Yje(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Zje(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Ks,function(s){var o=tn(s);switch(Zl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(c){r[c]=o[c]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function Jje(e,t){var n={},r=n.EncryptionVersionInfo=Pu(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=oK(e,i),t-=i,n.EncryptionVerifier=cK(e,t),n}function e4e(e){var t={},n=t.EncryptionVersionInfo=Pu(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function t4e(e){var t=0,n,r=aK(e),i=r.length+1,s,o,c,l,u;for(n=Sf(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],c=t&16384?1:0,l=t<<1&32767,u=c|l,t=u^o;return t^52811}var lK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,c){return r(o^c)},s=function(o){for(var c=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(c^=n[l]),d*=2,--l;return c};return function(o){for(var c=aK(o),l=s(c),u=c.length,d=Sf(16),f=0;f!=16;++f)d[f]=0;var h,p,y;for((u&1)===1&&(h=l>>8,d[u]=i(e[0],h),--u,h=l&255,p=c[c.length-1],d[u]=i(p,h));u>0;)--u,h=l>>8,d[u]=i(c[u],h),--u,h=l&255,d[u]=i(c[u],h);for(u=15,y=15-c.length;y>0;)h=l>>8,d[u]=i(e[y],h),--u,--y,h=l&255,d[u]=i(c[u],h),--u,--y;return d}}(),n4e=function(e,t,n,r,i){i||(i=t),r||(r=lK(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},r4e=function(e){var t=0,n=lK(e);return function(r){var i=n4e("",r,t,n);return t=i[1],i[0]}};function i4e(e,t,n,r){var i={key:ji(e),verificationBytes:ji(e)};return n.password&&(i.verifier=t4e(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=r4e(n.password)),i}function s4e(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=e4e(e):r.Data=Jje(e,t),r}function a4e(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?s4e(e,t-2,r):i4e(e,n.biff>=8?t:t-2,n,r),r}var o4e=function(){function e(i,s){switch(s.type){case"base64":return t(ko(i),s);case"binary":return t(i,s);case"buffer":return t(Wn&&Buffer.isBuffer(i)?i.toString("binary"):vp(i),s);case"array":return t(Jh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var o=s||{},c=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(c)&&(c[f]=[]);for(var h=/\\\w+\b/g,p=0,y,m=-1;y=h.exec(d);){switch(y[0]){case"\\cell":var g=d.slice(p,h.lastIndex-y[0].length);if(g[0]==" "&&(g=g.slice(1)),++m,g.length){var v={v:g,t:"s"};Array.isArray(c)?c[f][m]=v:c[un({r:f,c:m})]=v}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),c["!ref"]=Qn(u),c}function n(i,s){return Wf(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=di(i["!ref"]),c,l=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=un({r:u,c:d});c=l?(i[u]||[])[d]:i[f],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Xu(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function c4e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Uv(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function l4e(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var c=0,l=0,u=i+s;switch(l=o/(u>1?2-u:u),i){case t:c=((n-r)/o+6)%6;break;case n:c=(r-t)/o+2;break;case r:c=(t-n)/o+4;break}return[c/6,l,u/2]}function u4e(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],c=6*t,l;if(n!==0)switch(c|0){case 0:case 6:l=i*c,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-c),o[0]+=l,o[1]+=i;break;case 2:l=i*(c-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-c),o[1]+=l,o[2]+=i;break;case 4:l=i*(c-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-c),o[2]+=l,o[0]+=i;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function hw(e,t){if(t===0)return e;var n=l4e(c4e(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Uv(u4e(n))}var uK=6,d4e=15,f4e=1,pa=uK;function pw(e){return Math.floor((e+Math.round(128/pa)/256)*pa)}function mw(e){return Math.floor((e-5)/pa*100+.5)/100}function UA(e){return Math.round((e*pa+5)/pa*256)/256}function ZN(e){return UA(mw(pw(e)))}function C3(e){var t=Math.abs(e-ZN(e)),n=pa;if(t>.005)for(pa=f4e;pa<d4e;++pa)Math.abs(e-ZN(e))<=t&&(t=Math.abs(e-ZN(e)),n=pa);pa=n}function b0(e){e.width?(e.wpx=pw(e.width),e.wch=mw(e.wpx),e.MDW=pa):e.wpx?(e.wch=mw(e.wpx),e.width=UA(e.wch),e.MDW=pa):typeof e.wch=="number"&&(e.width=UA(e.wch),e.wpx=pw(e.width),e.MDW=pa),e.customWidth&&delete e.customWidth}var h4e=96,dK=h4e;function fK(e){return e*96/dK}function Lv(e){return e*dK/96}var p4e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function m4e(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(Ks)||[]).forEach(function(o){var c=tn(o);switch(Zl(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=Yr(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=Yr(c.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function g4e(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(Ks)||[]).forEach(function(o){var c=tn(o);switch(Zl(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function x4e(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(Ks)||[]).forEach(function(o){var c=tn(o);switch(Zl(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=Fr(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?Yr(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?Yr(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?Yr(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?Yr(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?Yr(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?Yr(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?Yr(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=l3[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=Yr(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var l=Ih[i.color.index];i.color.index==81&&(l=Ih[1]),l||(l=Ih[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=hw(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function v4e(e,t,n){t.NumberFmt=[];for(var r=Ql(gn),i=0;i<r.length;++i)t.NumberFmt[r[i]]=gn[r[i]];var s=e[0].match(Ks);if(s)for(i=0;i<s.length;++i){var o=tn(s[i]);switch(Zl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Yn(Fr(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=c,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=c}jh(c,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Q1=["numFmtId","fillId","fontId","borderId","xfId"],K1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function y4e(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(Ks)||[]).forEach(function(s){var o=tn(s),c=0;switch(Zl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],c=0;c<Q1.length;++c)r[Q1[c]]&&(r[Q1[c]]=parseInt(r[Q1[c]],10));for(c=0;c<K1.length;++c)r[K1[c]]&&(r[K1[c]]=Yr(r[K1[c]]));if(t.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[c]){r.numFmtId=c;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=Yr(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var b4e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,l,u){var d={};if(!c)return d;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=c.match(t))&&v4e(f,d,u),(f=c.match(i))&&x4e(f,d,l,u),(f=c.match(r))&&g4e(f,d,l,u),(f=c.match(s))&&m4e(f,d,l,u),(f=c.match(n))&&y4e(f,d,u),d}}();function w4e(e,t){var n=e.read_shift(2),r=zs(e);return[n,r]}function _4e(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=IAe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var c=e.read_shift(1);c>0&&(r.family=c);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=jAe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=zs(e),r}var T4e=Gs;function E4e(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var N4e=Gs;function S4e(e,t,n){var r={};r.NumberFmt=[];for(var i in gn)r.NumberFmt[i]=gn[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return ad(e,function(l,u,d){switch(d){case 44:r.NumberFmt[l[0]]=l[1],jh(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=hw(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var C4e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function k4e(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Ks)||[]).forEach(function(i){var s=tn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[C4e.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function A4e(){}function D4e(){}var j4e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,I4e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,R4e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function O4e(e,t,n){t.themeElements={};var r;[["clrScheme",j4e,k4e],["fontScheme",I4e,A4e],["fmtScheme",R4e,D4e]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var F4e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function hK(e,t){(!e||e.length===0)&&(e=P4e());var n,r={};if(!(n=e.match(F4e)))throw new Error("themeElements not found in theme");return O4e(n[0],r,t),r.raw=e,r}function P4e(e,t){var n=[EQ];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function U4e(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=TQ(s,{type:"array"})}catch{return}var c=vo(o,"theme/theme/theme1.xml",!0);if(c)return hK(c,n)}}function L4e(e){return e.read_shift(4)}function M4e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=B4e(e,4);break;case 2:t.xclrValue=JQ(e);break;case 3:t.xclrValue=L4e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function B4e(e,t){return Gs(e,t)}function V4e(e,t){return Gs(e,t)}function W4e(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=M4e(e);break;case 6:r[1]=V4e(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function q4e(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(W4e(e,n-e.l));return{ixfe:r,ext:s}}function z4e(e,t){t.forEach(function(n){switch(n[0]){}})}function $4e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:zs(e)}}function H4e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function G4e(e){return e.l+=4,e.read_shift(4)!=0}function Q4e(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,c=2;return ad(e,function(l,u,d){switch(d){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){c==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):c==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:c=l?1:0;break;case 338:c=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function K4e(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,o;return e.replace(Ks,function(c){var l=tn(c);switch(Zl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==l.name&&(o=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return c}),r}function X4e(e){var t=[];if(!e)return t;var n=1;return(e.match(Ks)||[]).forEach(function(r){var i=tn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function Y4e(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=un(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function Z4e(e,t,n){var r=[];return ad(e,function(s,o,c){switch(c){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function J4e(e,t,n,r){if(!e)return e;var i=r||{},s=!1;ad(e,function(c,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function e3e(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function sU(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(o){var c=va(o.ref);if(i?(e[c.r]||(e[c.r]=[]),s=e[c.r][c.c]):s=e[o.ref],!s){s={t:"z"},i?e[c.r][c.c]=s:e[o.ref]=s;var l=di(e["!ref"]||"BDWGO1000001:A1");l.s.r>c.r&&(l.s.r=c.r),l.e.r<c.r&&(l.e.r=c.r),l.s.c>c.c&&(l.s.c=c.c),l.e.c<c.c&&(l.e.c=c.c);var u=Qn(l);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(d.a==r[f].id){d.a=r[f].name||d.a;break}}s.c.push(d)})}function t3e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var l=tn(c[0]),u={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=va(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&S3(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),r.push(u)}}}}),r}function n3e(e,t){var n=[],r=!1,i={},s=0;return e.replace(Ks,function(c,l){var u=tn(c);switch(Zl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+c.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return c}),n}function r3e(e,t){var n=[],r=!1;return e.replace(Ks,function(s){var o=tn(s);switch(Zl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function i3e(e){var t={};t.iauthor=e.read_shift(4);var n=bp(e);return t.rfx=n.s,t.ref=un(n.s),e.l+=16,t}var s3e=zs;function a3e(e,t){var n=[],r=[],i={},s=!1;return ad(e,function(c,l,u){switch(u){case 632:r.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}var o3e="application/vnd.ms-office.vbaProject";function c3e(e){var t=Gn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gn.utils.cfb_add(t,i,e.FileIndex[r].content)}}),Gn.write(t)}function l3e(){return{"!type":"dialog"}}function u3e(){return{"!type":"dialog"}}function d3e(){return{"!type":"macro"}}function f3e(){return{"!type":"macro"}}var Rm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var c=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return c?d+=t.c:--d,l?u+=t.r:--u,i+(c?"":"$")+zi(d)+(l?"":"$")+ys(u)}return function(i,s){return t=s,i.replace(e,n)}}(),pK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,h3e=function(){return function(t,n){return t.replace(pK,function(r,i,s,o,c,l){var u=b3(o)-(s?0:n.c),d=y3(l)-(c?0:n.r),f=d==0?"":c?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function mK(e,t){return e.replace(pK,function(n,r,i,s,o,c){return r+(i=="$"?i+s:zi(b3(s)+t.c))+(o=="$"?o+c:ys(y3(c)+t.r))})}function p3e(e,t,n){var r=Q0(t),i=r.s,s=va(n),o={r:s.r-i.r,c:s.c-i.c};return mK(e,o)}function m3e(e){return e.length!=1}function aU(e){return e.replace(/_xlfn\./g,"")}function Si(e){e.l+=1}function Cf(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function gK(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return xK(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=Cf(e),c=Cf(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function xK(e){var t=Cf(e),n=Cf(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function g3e(e,t,n){if(n.biff<8)return xK(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Cf(e),o=Cf(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function vK(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return x3e(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Cf(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function x3e(e){var t=Cf(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function v3e(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function y3e(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return b3e(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:c}}function b3e(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function w3e(e,t,n){var r=(e[e.l++]&96)>>5,i=gK(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function _3e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=gK(e,s,n);return[r,i,o]}function T3e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function E3e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function N3e(e,t,n){var r=(e[e.l++]&96)>>5,i=g3e(e,t-1,n);return[r,i]}function S3e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function oU(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function C3e(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function k3e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function A3e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function D3e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function j3e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function yK(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function I3e(e){return e.read_shift(2),yK(e)}function R3e(e){return e.read_shift(2),yK(e)}function O3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=vK(e,0,n);return[r,i]}function F3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=y3e(e,0,n);return[r,i]}function P3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=vK(e,0,n);return[r,i,s]}function U3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[LIe[i],_K[i],r]}function L3e(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:M3e(e);return[i,(s[0]===0?_K:UIe)[s[1]]]}function M3e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function B3e(e,t,n){e.l+=n&&n.biff==2?3:4}function V3e(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function W3e(e){return e.l++,wp[e.read_shift(1)]}function q3e(e){return e.l++,e.read_shift(2)}function z3e(e){return e.l++,e.read_shift(1)!==0}function $3e(e){return e.l++,Bs(e)}function H3e(e,t,n){return e.l++,Uy(e,t-1,n)}function G3e(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=xi(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=wp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Bs(e);break;case 2:n[1]=_p(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Q3e(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?bp:lT)(e));return i}function K3e(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=G3e(e,n.biff);return o}function X3e(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function Y3e(e,t,n){if(n.biff==5)return Z3e(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function Z3e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function J3e(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function eIe(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function tIe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function nIe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var rIe=Gs,iIe=Gs,sIe=Gs;function My(e,t,n){return e.l+=2,[v3e(e)]}function k3(e){return e.l+=6,[]}var aIe=My,oIe=k3,cIe=k3,lIe=My;function bK(e){return e.l+=2,[ji(e),e.read_shift(2)&1]}var uIe=My,dIe=bK,fIe=k3,hIe=My,pIe=My,mIe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gIe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=mIe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:s}}function xIe(e){return e.l+=2,[e.read_shift(4)]}function vIe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function yIe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function bIe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function wIe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function _Ie(e){return e.l+=4,[0,0]}var cU={1:{n:"PtgExp",f:V3e},2:{n:"PtgTbl",f:sIe},3:{n:"PtgAdd",f:Si},4:{n:"PtgSub",f:Si},5:{n:"PtgMul",f:Si},6:{n:"PtgDiv",f:Si},7:{n:"PtgPower",f:Si},8:{n:"PtgConcat",f:Si},9:{n:"PtgLt",f:Si},10:{n:"PtgLe",f:Si},11:{n:"PtgEq",f:Si},12:{n:"PtgGe",f:Si},13:{n:"PtgGt",f:Si},14:{n:"PtgNe",f:Si},15:{n:"PtgIsect",f:Si},16:{n:"PtgUnion",f:Si},17:{n:"PtgRange",f:Si},18:{n:"PtgUplus",f:Si},19:{n:"PtgUminus",f:Si},20:{n:"PtgPercent",f:Si},21:{n:"PtgParen",f:Si},22:{n:"PtgMissArg",f:Si},23:{n:"PtgStr",f:H3e},26:{n:"PtgSheet",f:vIe},27:{n:"PtgEndSheet",f:yIe},28:{n:"PtgErr",f:W3e},29:{n:"PtgBool",f:z3e},30:{n:"PtgInt",f:q3e},31:{n:"PtgNum",f:$3e},32:{n:"PtgArray",f:S3e},33:{n:"PtgFunc",f:U3e},34:{n:"PtgFuncVar",f:L3e},35:{n:"PtgName",f:X3e},36:{n:"PtgRef",f:O3e},37:{n:"PtgArea",f:w3e},38:{n:"PtgMemArea",f:J3e},39:{n:"PtgMemErr",f:rIe},40:{n:"PtgMemNoMem",f:iIe},41:{n:"PtgMemFunc",f:eIe},42:{n:"PtgRefErr",f:tIe},43:{n:"PtgAreaErr",f:T3e},44:{n:"PtgRefN",f:F3e},45:{n:"PtgAreaN",f:N3e},46:{n:"PtgMemAreaN",f:bIe},47:{n:"PtgMemNoMemN",f:wIe},57:{n:"PtgNameX",f:Y3e},58:{n:"PtgRef3d",f:P3e},59:{n:"PtgArea3d",f:_3e},60:{n:"PtgRefErr3d",f:nIe},61:{n:"PtgAreaErr3d",f:E3e},255:{}},TIe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},EIe={1:{n:"PtgElfLel",f:bK},2:{n:"PtgElfRw",f:hIe},3:{n:"PtgElfCol",f:aIe},6:{n:"PtgElfRwV",f:pIe},7:{n:"PtgElfColV",f:lIe},10:{n:"PtgElfRadical",f:uIe},11:{n:"PtgElfRadicalS",f:fIe},13:{n:"PtgElfColS",f:oIe},15:{n:"PtgElfColSV",f:cIe},16:{n:"PtgElfRadicalLel",f:dIe},25:{n:"PtgList",f:gIe},29:{n:"PtgSxName",f:xIe},255:{}},NIe={0:{n:"PtgAttrNoop",f:_Ie},1:{n:"PtgAttrSemi",f:j3e},2:{n:"PtgAttrIf",f:A3e},4:{n:"PtgAttrChoose",f:C3e},8:{n:"PtgAttrGoto",f:k3e},16:{n:"PtgAttrSum",f:B3e},32:{n:"PtgAttrBaxcel",f:oU},33:{n:"PtgAttrBaxcel",f:oU},64:{n:"PtgAttrSpace",f:I3e},65:{n:"PtgAttrSpaceSemi",f:R3e},128:{n:"PtgAttrIfError",f:D3e},255:{}};function By(e,t,n,r){if(r.biff<8)return Gs(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=K3e(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Q3e(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&s.push(Gs(e,t)),s}function Vy(e,t,n){for(var r=e.l+t,i,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],i=cU[s]||cU[TIe[s]],(s===24||s===25)&&(i=(s===24?EIe:NIe)[e[e.l+1]]),!i||!i.f?Gs(e,t):o.push([i.n,i.f(e,t,n)]);return o}function SIe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var CIe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function kIe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function wK(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function lU(e,t,n){var r=wK(e,t,n);return r=="#REF"?r:kIe(r,n)}function Os(e,t,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},c=[],l,u,d,f=0,h=0,p,y="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,x=e[0].length;v<x;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=c.pop(),u=c.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=li(" ",e[0][m][1][1]);break;case 1:g=li("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+g,m=-1}c.push(u+CIe[b[0]]+l);break;case"PtgIsect":l=c.pop(),u=c.pop(),c.push(u+" "+l);break;case"PtgUnion":l=c.pop(),u=c.pop(),c.push(u+","+l);break;case"PtgRange":l=c.pop(),u=c.pop(),c.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=jx(b[1][1],o,i),c.push(Ix(d,s));break;case"PtgRefN":d=n?jx(b[1][1],n,i):b[1][1],c.push(Ix(d,s));break;case"PtgRef3d":f=b[1][1],d=jx(b[1][2],o,i),y=lU(r,f,i),c.push(y+"!"+Ix(d,s));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],T=b[1][1];w||(w=0),w&=127;var C=w==0?[]:c.slice(-w);c.length-=w,T==="User"&&(T=C.shift()),c.push(T+"("+C.join(",")+")");break;case"PtgBool":c.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(b[1]);break;case"PtgNum":c.push(String(b[1]));break;case"PtgStr":c.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(b[1]);break;case"PtgAreaN":p=q8(b[1][1],n?{s:n}:o,i),c.push(XN(p,i));break;case"PtgArea":p=q8(b[1][1],o,i),c.push(XN(p,i));break;case"PtgArea3d":f=b[1][1],p=b[1][2],y=lU(r,f,i),c.push(y+"!"+XN(p,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var _=(r.names||[])[h-1]||(r[0]||[])[h],N=_?_.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),c.push(N);break;case"PtgNameX":var k=b[1][1];h=b[1][2];var j;if(i.biff<=5)k<0&&(k=-k),r[k]&&(j=r[k][h]);else{var D="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][h]&&r[k][h].itab>0&&(D=r.SheetNames[r[k][h].itab-1]+"!"):D=r.SheetNames[h-1]+"!"),r[k]&&r[k][h])D+=r[k][h].Name;else if(r[0]&&r[0][h])D+=r[0][h].Name;else{var E=(wK(r,k,i)||"").split(";;");E[h-1]?D=E[h-1]:D+="SH33TJSERRX"}c.push(D);break}j||(j={Name:"SH33TJSERRY"}),c.push(j.Name);break;case"PtgParen":var I="(",R=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:I=li(" ",e[0][m][1][1])+I;break;case 3:I=li("\r",e[0][m][1][1])+I;break;case 4:R=li(" ",e[0][m][1][1])+R;break;case 5:R=li("\r",e[0][m][1][1])+R;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}c.push(I+c.pop()+R);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var V={c:n.c,r:n.r};if(r.sharedf[un(d)]){var M=r.sharedf[un(d)];c.push(Os(M,o,V,r,i))}else{var H=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){c.push(Os(u[1],o,V,r,i)),H=!0;break}H||c.push(b[1])}break;case"PtgArray":c.push("{"+SIe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&G.indexOf(e[0][v][0])==-1){b=e[0][m];var P=!0;switch(b[1][0]){case 4:P=!1;case 0:g=li(" ",b[1][1]);break;case 5:P=!1;case 1:g=li("\r",b[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}c.push((P?g:"")+c.pop()+(P?"":g)),m=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function AIe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],Gs(e,t-2)];var c=Vy(e,o,n);return t!==o+i&&(s=By(e,t-o-i,c,n)),e.l=r,[c,s]}function DIe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],Gs(e,t-2)];var c=Vy(e,o,n);return t!==o+i&&(s=By(e,t-o-i,c,n)),e.l=r,[c,s]}function jIe(e,t,n,r){var i=e.l+t,s=Vy(e,r,n),o;return i!==e.l&&(o=By(e,i-e.l,s,n)),[s,o]}function IIe(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=Vy(e,s,n);return s==65535?[[],Gs(e,t-2)]:(t!==s+2&&(i=By(e,r-s-2,o,n)),[o,i])}function RIe(e){var t;if(Au(e,e.l+6)!==65535)return[Bs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function JN(e,t,n){var r=e.l+t,i=Jl(e);n.biff==2&&++e.l;var s=RIe(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var c=DIe(e,r-e.l,n);return{cell:i,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function uT(e,t,n){var r=e.read_shift(4),i=Vy(e,r,n),s=e.read_shift(4),o=s>0?By(e,s,i,n):null;return[i,o]}var OIe=uT,dT=uT,FIe=uT,PIe=uT,UIe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_K={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},LIe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uU(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function eS(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Px={},Om={};function Ux(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function TK(e,t,n,r,i,s){try{r.cellNF&&(e.z=gn[t])}catch(c){if(r.WTF)throw c}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ss(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(gn[t]==null&&jh(Mke[t]||"General",t),e.t==="e")e.w=e.w||wp[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rv(e.v);else if(e.t==="d"){var o=Ea(e.v);(o|0)===o?e.w=o.toString(10):e.w=Rv(o)}else{if(e.v===void 0)return"";e.w=Zh(e.v,Om)}else e.t==="d"?e.w=oc(t,Ea(e.v),Om):e.w=oc(t,e.v,Om)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=hw(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=hw(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&s.Fills)throw c}}}function MIe(e,t){var n=di(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=Qn(n))}var BIe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,VIe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,WIe=/<(?:\w:)?hyperlink [^>]*>/mg,qIe=/"(\w*:\w*)"/,zIe=/<(?:\w:)?col\b[^>]*[\/]?>/g,$Ie=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,HIe=/<(?:\w:)?pageMargins[^>]*\/>/g,EK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,GIe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,QIe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function KIe(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}});var c=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(VIe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(EK);h?A3(h[0],c,i,n):(h=u.match(GIe))&&XIe(h[0],h[1]||"",c,i,n);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(qIe);y&&MIe(c,y[1])}var m=u.match(QIe);m&&m[1]&&n5e(m[1],i);var g=[];if(t.cellStyles){var v=u.match(zIe);v&&JIe(g,v)}f&&r5e(f[1],c,t,l,s,o);var x=d.match($Ie);x&&(c["!autofilter"]=e5e(x[0]));var b=[],w=d.match(BIe);if(w)for(p=0;p!=w.length;++p)b[p]=di(w[p].slice(w[p].indexOf('"')+1));var T=d.match(WIe);T&&YIe(c,T,r);var C=d.match(HIe);if(C&&(c["!margins"]=ZIe(tn(C[0]))),!c["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(c["!ref"]=Qn(l)),t.sheetRows>0&&c["!ref"]){var _=di(c["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>l.e.r&&(_.e.r=l.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>l.e.c&&(_.e.c=l.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Qn(_))}return g.length>0&&(c["!cols"]=g),b.length>0&&(c["!merges"]=b),c}function A3(e,t,n,r){var i=tn(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Yn(Fr(i.codeName)))}function XIe(e,t,n,r,i){A3(e.slice(0,e.indexOf(">")),n,r,i)}function YIe(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=tn(Fr(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Yn(s.location))):(s.Target="#"+Yn(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=di(s.ref),l=c.s.r;l<=c.e.r;++l)for(var u=c.s.c;u<=c.e.c;++u){var d=un({c:u,r:l});r?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function ZIe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function JIe(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=tn(t[r],!0);i.hidden&&(i.hidden=Yr(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,C3(i.width)),b0(i);s<=o;)e[s++]=vs(i)}}function e5e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var t5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function n5e(e,t){t.Views||(t.Views=[{}]),(e.match(t5e)||[]).forEach(function(n,r){var i=tn(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),Yr(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var r5e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Ov("v"),o=Ov("f");return function(l,u,d,f,h,p){for(var y=0,m="",g=[],v=[],x=0,b=0,w=0,T="",C,_,N=0,k=0,j,D,E=0,I=0,R=Array.isArray(p.CellXf),V,M=[],H=[],G=Array.isArray(u),P=[],W={},F=!1,O=!!d.sheetStubs,L=l.split(t),K=0,Q=L.length;K!=Q;++K){m=L[K].trim();var U=m.length;if(U!==0){var Z=0;e:for(y=0;y<U;++y)switch(m[y]){case">":if(m[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(_=tn(m.slice(Z,y),!0),N=_.r!=null?parseInt(_.r,10):N+1,k=-1,d.sheetRows&&d.sheetRows<N)continue;W={},F=!1,_.ht&&(F=!0,W.hpt=parseFloat(_.ht),W.hpx=Lv(W.hpt)),_.hidden=="1"&&(F=!0,W.hidden=!0),_.outlineLevel!=null&&(F=!0,W.level=+_.outlineLevel),F&&(P[N-1]=W)}break;case"<":Z=y;break}if(Z>=y)break;if(_=tn(m.slice(Z,y),!0),N=_.r!=null?parseInt(_.r,10):N+1,k=-1,!(d.sheetRows&&d.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),d&&d.cellStyles&&(W={},F=!1,_.ht&&(F=!0,W.hpt=parseFloat(_.ht),W.hpx=Lv(W.hpt)),_.hidden=="1"&&(F=!0,W.hidden=!0),_.outlineLevel!=null&&(F=!0,W.level=+_.outlineLevel),F&&(P[N-1]=W)),g=m.slice(y).split(e);for(var pe=0;pe!=g.length&&g[pe].trim().charAt(0)=="<";++pe);for(g=g.slice(pe),y=0;y!=g.length;++y)if(m=g[y].trim(),m.length!==0){if(v=m.match(n),x=y,b=0,w=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,v!=null&&v.length===2){for(x=0,T=v[1],b=0;b!=T.length&&!((w=T.charCodeAt(b)-64)<1||w>26);++b)x=26*x+w;--x,k=x}else++k;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,_=tn(m.slice(0,b),!0),_.r||(_.r=un({r:N-1,c:k})),T=m.slice(b),C={t:""},(v=T.match(s))!=null&&v[1]!==""&&(C.v=Yn(v[1])),d.cellFormula){if((v=T.match(o))!=null&&v[1]!==""){if(C.f=Yn(Fr(v[1])).replace(/\r\n/g,`
`),d.xlfn||(C.f=aU(C.f)),v[0].indexOf('t="array"')>-1)C.F=(T.match(i)||[])[1],C.F.indexOf(":")>-1&&M.push([di(C.F),C.F]);else if(v[0].indexOf('t="shared"')>-1){D=tn(v[0]);var me=Yn(Fr(v[1]));d.xlfn||(me=aU(me)),H[parseInt(D.si,10)]=[D,me,_.r]}}else(v=T.match(/<f[^>]*\/>/))&&(D=tn(v[0]),H[D.si]&&(C.f=p3e(H[D.si][1],H[D.si][2],_.r)));var ye=va(_.r);for(b=0;b<M.length;++b)ye.r>=M[b][0].s.r&&ye.r<=M[b][0].e.r&&ye.c>=M[b][0].s.c&&ye.c<=M[b][0].e.c&&(C.F=M[b][1])}if(_.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(O)C.t="z";else continue;else C.t=_.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),C.t){case"n":if(C.v==""||C.v==null){if(!O)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!O)continue;C.t="z"}else j=Px[parseInt(C.v,10)],C.v=j.t,C.r=j.r,d.cellHTML&&(C.h=j.h);break;case"str":C.t="s",C.v=C.v!=null?Fr(C.v):"",d.cellHTML&&(C.h=g3(C.v));break;case"inlineStr":v=T.match(r),C.t="s",v!=null&&(j=S3(v[1]))?(C.v=j.t,d.cellHTML&&(C.h=j.h)):C.v="";break;case"b":C.v=Yr(C.v);break;case"d":d.cellDates?C.v=ss(C.v,1):(C.v=Ea(ss(C.v,1)),C.t="n");break;case"e":(!d||d.cellText!==!1)&&(C.w=C.v),C.v=$Q[C.v];break}if(E=I=0,V=null,R&&_.s!==void 0&&(V=p.CellXf[_.s],V!=null&&(V.numFmtId!=null&&(E=V.numFmtId),d.cellStyles&&V.fillId!=null&&(I=V.fillId))),TK(C,E,I,d,h,p),d.cellDates&&R&&C.t=="n"&&G0(gn[E])&&(C.t="d",C.v=cT(C.v)),_.cm&&d.xlmeta){var Fe=(d.xlmeta.Cell||[])[+_.cm-1];Fe&&Fe.type=="XLDAPR"&&(C.D=!0)}if(G){var Y=va(_.r);u[Y.r]||(u[Y.r]=[]),u[Y.r][Y.c]=C}else u[_.r]=C}}}}P.length>0&&(u["!rows"]=P)}}();function i5e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var s5e=bp;function a5e(){}function o5e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=AAe(e),n}function c5e(e){var t=uc(e);return[t]}function l5e(e){var t=yp(e);return[t]}function u5e(e){var t=uc(e),n=e.read_shift(1);return[t,n,"b"]}function d5e(e){var t=yp(e),n=e.read_shift(1);return[t,n,"b"]}function f5e(e){var t=uc(e),n=e.read_shift(1);return[t,n,"e"]}function h5e(e){var t=yp(e),n=e.read_shift(1);return[t,n,"e"]}function p5e(e){var t=uc(e),n=e.read_shift(4);return[t,n,"s"]}function m5e(e){var t=yp(e),n=e.read_shift(4);return[t,n,"s"]}function g5e(e){var t=uc(e),n=Bs(e);return[t,n,"n"]}function NK(e){var t=yp(e),n=Bs(e);return[t,n,"n"]}function x5e(e){var t=uc(e),n=T3(e);return[t,n,"n"]}function v5e(e){var t=yp(e),n=T3(e);return[t,n,"n"]}function y5e(e){var t=uc(e),n=w3(e);return[t,n,"is"]}function b5e(e){var t=uc(e),n=zs(e);return[t,n,"str"]}function w5e(e){var t=yp(e),n=zs(e);return[t,n,"str"]}function _5e(e,t,n){var r=e.l+t,i=uc(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var c=dT(e,r-e.l,n);o[3]=Os(c,null,i,n.supbooks,n)}else e.l=r;return o}function T5e(e,t,n){var r=e.l+t,i=uc(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var c=dT(e,r-e.l,n);o[3]=Os(c,null,i,n.supbooks,n)}else e.l=r;return o}function E5e(e,t,n){var r=e.l+t,i=uc(e);i.r=n["!row"];var s=Bs(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var c=dT(e,r-e.l,n);o[3]=Os(c,null,i,n.supbooks,n)}else e.l=r;return o}function N5e(e,t,n){var r=e.l+t,i=uc(e);i.r=n["!row"];var s=zs(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var c=dT(e,r-e.l,n);o[3]=Os(c,null,i,n.supbooks,n)}else e.l=r;return o}var S5e=bp;function C5e(e,t){var n=e.l+t,r=bp(e),i=_3(e),s=zs(e),o=zs(e),c=zs(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:c};return o&&(l.Tooltip=o),l}function k5e(){}function A5e(e,t,n){var r=e.l+t,i=WQ(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var c=OIe(e,r-e.l,n);o[1]=c}else e.l=r;return o}function D5e(e,t,n){var r=e.l+t,i=bp(e),s=[i];if(n.cellFormula){var o=PIe(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}var j5e=["left","right","top","bottom","header","footer"];function I5e(e){var t={};return j5e.forEach(function(n){t[n]=Bs(e)}),t}function R5e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function O5e(){}function F5e(){}function P5e(e,t,n,r,i,s,o){if(!e)return e;var c=t||{};r||(r={"!id":{}});var l=c.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,y,m,g,v,x,b,w,T,C=[];c.biff=12,c["!row"]=0;var _=0,N=!1,k=[],j={},D=c.supbooks||i.supbooks||[[]];if(D.sharedf=j,D.arrayf=k,D.SheetNames=i.SheetNames||i.Sheets.map(function(G){return G.name}),!c.supbooks&&(c.supbooks=D,i.Names))for(var E=0;E<i.Names.length;++E)D[0][E+1]=i.Names[E];var I=[],R=[],V=!1;gw[16]={n:"BrtShortReal",f:NK};var M;if(ad(e,function(P,W,F){if(!h)switch(F){case 148:u=P;break;case 0:p=P,c.sheetRows&&c.sheetRows<=p.r&&(h=!0),w=ys(g=p.r),c["!row"]=p.r,(P.hidden||P.hpt||P.level!=null)&&(P.hpt&&(P.hpx=Lv(P.hpt)),R[P.r]=P);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:P[2]},P[2]){case"n":y.v=P[1];break;case"s":b=Px[P[1]],y.v=b.t,y.r=b.r;break;case"b":y.v=!!P[1];break;case"e":y.v=P[1],c.cellText!==!1&&(y.w=wp[y.v]);break;case"str":y.t="s",y.v=P[1];break;case"is":y.t="s",y.v=P[1].t;break}if((m=o.CellXf[P[0].iStyleRef])&&TK(y,m.numFmtId,null,c,s,o),v=P[0].c==-1?v+1:P[0].c,c.dense?(l[g]||(l[g]=[]),l[g][v]=y):l[zi(v)+w]=y,c.cellFormula){for(N=!1,_=0;_<k.length;++_){var O=k[_];p.r>=O[0].s.r&&p.r<=O[0].e.r&&v>=O[0].s.c&&v<=O[0].e.c&&(y.F=Qn(O[0]),N=!0)}!N&&P.length>3&&(y.f=P[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),c.cellDates&&m&&y.t=="n"&&G0(gn[m.numFmtId])){var L=yh(y.v);L&&(y.t="d",y.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}M&&(M.type=="XLDAPR"&&(y.D=!0),M=void 0);break;case 1:case 12:if(!c.sheetStubs||f)break;y={t:"z",v:void 0},v=P[0].c==-1?v+1:P[0].c,c.dense?(l[g]||(l[g]=[]),l[g][v]=y):l[zi(v)+w]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),M&&(M.type=="XLDAPR"&&(y.D=!0),M=void 0);break;case 176:C.push(P);break;case 49:M=((c.xlmeta||{}).Cell||[])[P-1];break;case 494:var K=r["!id"][P.relId];for(K?(P.Target=K.Target,P.loc&&(P.Target+="#"+P.loc),P.Rel=K):P.relId==""&&(P.Target="#"+P.loc),g=P.rfx.s.r;g<=P.rfx.e.r;++g)for(v=P.rfx.s.c;v<=P.rfx.e.c;++v)c.dense?(l[g]||(l[g]=[]),l[g][v]||(l[g][v]={t:"z",v:void 0}),l[g][v].l=P):(x=un({c:v,r:g}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=P);break;case 426:if(!c.cellFormula)break;k.push(P),T=c.dense?l[g][v]:l[zi(v)+w],T.f=Os(P[1],d,{r:p.r,c:v},D,c),T.F=Qn(P[0]);break;case 427:if(!c.cellFormula)break;j[un(P[0].s)]=P[1],T=c.dense?l[g][v]:l[zi(v)+w],T.f=Os(P[1],d,{r:p.r,c:v},D,c);break;case 60:if(!c.cellStyles)break;for(;P.e>=P.s;)I[P.e--]={width:P.w/256,hidden:!!(P.flags&1),level:P.level},V||(V=!0,C3(P.w/256)),b0(I[P.e+1]);break;case 161:l["!autofilter"]={ref:Qn(P)};break;case 476:l["!margins"]=P;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),P.name&&(i.Sheets[n].CodeName=P.name),(P.above||P.left)&&(l["!outline"]={above:P.above,left:P.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),P.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!W.T){if(!f||c.WTF)throw new Error("Unexpected record 0x"+F.toString(16))}}},c),delete c.supbooks,delete c["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Qn(u||d)),c.sheetRows&&l["!ref"]){var H=di(l["!ref"]);c.sheetRows<=+H.e.r&&(H.e.r=c.sheetRows-1,H.e.r>d.e.r&&(H.e.r=d.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>d.e.c&&(H.e.c=d.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Qn(H))}return C.length>0&&(l["!merges"]=C),I.length>0&&(l["!cols"]=I),R.length>0&&(l["!rows"]=R),l}function U5e(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var i=Yn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function L5e(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var c=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=U5e(f);d.s.r=d.s.c=0,d.e.c=c,u=zi(c),h[0].forEach(function(p,y){o[u+ys(y)]={t:"n",v:p,z:h[1]},l=y}),d.e.r<l&&(d.e.r=l),++c}),c>0&&(o["!ref"]=Qn(d)),o}function M5e(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=e.match(EK);return c&&A3(c[0],s,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function B5e(e,t){e.l+=10;var n=zs(e);return{name:n}}function V5e(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return ad(e,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var SK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],W5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],q5e=[],z5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function dU(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Yr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function fU(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=Yr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function CK(e){fU(e.WBProps,SK),fU(e.CalcPr,z5e),dU(e.WBView,W5e),dU(e.Sheets,q5e),Om.date1904=Yr(e.WBProps.date1904)}var $5e="][*?/\\".split("");function H5e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return $5e.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var G5e=/<\w+:workbook/;function Q5e(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(Ks,function(l,u){var d=tn(l);switch(Zl(d[0])){case"<?xml":break;case"<workbook":l.match(G5e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":SK.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=Yr(d[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:n.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(n.WBProps.CodeName=Fr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Yn(Fr(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Fr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Yr(d.hidden||"0")&&(s.Hidden=!0),o=u+l.length;break;case"</definedName>":s.Ref=Yn(Fr(e.slice(o,u))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),fAe.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return CK(n),n}function K5e(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=OA(e),n.name=zs(e),n}function X5e(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?zs(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Y5e(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function Z5e(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=DAe(e),o=FIe(e,0,n),c=_3(e);e.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),c&&(l.Comment=c),l}function J5e(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],gw[16]={n:"BrtFRTArchID$",f:Y5e},ad(e,function(l,u,d){switch(d){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Os(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),CK(n),n.Names=s,n.supbooks=o,n}function eRe(e,t,n){return t.slice(-4)===".bin"?J5e(e,n):Q5e(e,n)}function tRe(e,t,n,r,i,s,o,c){return t.slice(-4)===".bin"?P5e(e,r,n,i,s,o,c):KIe(e,r,n,i,s,o,c)}function nRe(e,t,n,r,i,s,o,c){return t.slice(-4)===".bin"?V5e(e,r,n,i,s):M5e(e,r,n,i,s)}function rRe(e,t,n,r,i,s,o,c){return t.slice(-4)===".bin"?d3e():f3e()}function iRe(e,t,n,r,i,s,o,c){return t.slice(-4)===".bin"?l3e():u3e()}function sRe(e,t,n,r){return t.slice(-4)===".bin"?S4e(e,n,r):b4e(e,n,r)}function aRe(e,t,n){return hK(e,n)}function oRe(e,t,n){return t.slice(-4)===".bin"?Wje(e,n):Bje(e,n)}function cRe(e,t,n){return t.slice(-4)===".bin"?a3e(e,n):t3e(e,n)}function lRe(e,t,n){return t.slice(-4)===".bin"?Z4e(e):X4e(e)}function uRe(e,t,n,r){return n.slice(-4)===".bin"?J4e(e,t,n,r):void 0}function dRe(e,t,n){return t.slice(-4)===".bin"?Q4e(e,t,n):K4e(e,t,n)}var kK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,AK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xc(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(kK),s,o,c,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(AK),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),r[c]=s[2].slice(1,s[2].length-1));return r}function fRe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(kK),i,s,o,c;if(r)for(c=0;c!=r.length;++c)i=r[c].match(AK),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Lx;function hRe(e,t){var n=Lx[e]||Yn(e);return n==="General"?Zh(t):oc(n,t)}function pRe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Yr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=ss(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Yn(t)]=i}function mRe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||wp[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rv(e.v):e.w=Zh(e.v):e.w=hRe(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=Lx[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&G0(r)){var i=yh(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function gRe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=p4e[r.Pattern]||r.Pattern)}e[t.ID]=t}function xRe(e,t,n,r,i,s,o,c,l,u){var d="General",f=r.StyleID,h={};u=u||{};var p=[],y=0;for(f===void 0&&c&&(f=c.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Yr(e);break;case"String":r.t="s",r.r=O8(Yn(e)),r.v=e.indexOf("<")>-1?Yn(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(ss(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=Yn(e):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=$Q[e],u.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=O8(t||e));break}if(mRe(r,d,u),u.cellFormula!==!1)if(r.Formula){var m=Yn(r.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),r.f=Rm(m,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Rm("RC:RC",i):r.ArrayRange&&(r.F=Rm(r.ArrayRange,i),l.push([di(r.F),r.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(r.F=l[y][1]);u.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function vRe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function tS(e,t){var n=t||{};xQ();var r=rx(x3(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Fr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=vs(n);return o.type="string",Pv.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(J){i.indexOf("<"+J)>=0&&(s=!0)}),s)return CRe(r,n);Lx={"General Number":"General","General Date":gn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gn[15],"Short Date":gn[14],"Long Time":gn[19],"Medium Time":gn[18],"Short Time":gn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gn[2],Standard:gn[4],Percent:gn[10],Scientific:gn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,l=[],u,d={},f=[],h=n.dense?[]:{},p="",y={},m={},g=xc('<Data ss:Type="String">'),v=0,x=0,b=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},C={},_="",N=0,k=[],j={},D={},E=0,I=[],R=[],V={},M=[],H,G=!1,P=[],W=[],F={},O=0,L=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};Fv.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var U="";c=Fv.exec(r);)switch(c[3]=(U=c[3]).toLowerCase()){case"data":if(U=="data"){if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&l.push([c[3],!0]);break}if(l[l.length-1][1])break;c[1]==="/"?xRe(r.slice(v,c.index),_,g,l[l.length-1][0]=="comment"?V:y,{c:x,r:b},T,M[x],m,P,n):(_="",g=xc(c[0]),v=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(R.length>0&&(y.c=R),(!n.sheetRows||n.sheetRows>b)&&y.v!==void 0&&(n.dense?(h[b]||(h[b]=[]),h[b][x]=y):h[zi(x)+ys(b)]=y),y.HRef&&(y.l={Target:Yn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(O=x+(parseInt(y.MergeAcross,10)|0),L=b+(parseInt(y.MergeDown,10)|0),k.push({s:{c:x,r:b},e:{c:O,r:L}})),!n.sheetStubs)y.MergeAcross?x=O+1:++x;else if(y.MergeAcross||y.MergeDown){for(var Z=x;Z<=O;++Z)for(var pe=b;pe<=L;++pe)(Z>x||pe>b)&&(n.dense?(h[pe]||(h[pe]=[]),h[pe][Z]={t:"z"}):h[zi(Z)+ys(pe)]={t:"z"});x=O+1}else++x;else y=fRe(c[0]),y.Index&&(x=+y.Index-1),x<w.s.c&&(w.s.c=x),x>w.e.c&&(w.e.c=x),c[0].slice(-2)==="/>"&&++x,R=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(b<w.s.r&&(w.s.r=b),b>w.e.r&&(w.e.r=b),c[0].slice(-2)==="/>"&&(m=xc(c[0]),m.Index&&(b=+m.Index-1)),x=0,++b):(m=xc(c[0]),m.Index&&(b=+m.Index-1),F={},(m.AutoFitHeight=="0"||m.Height)&&(F.hpx=parseInt(m.Height,10),F.hpt=fK(F.hpx),W[b]=F),m.Hidden=="1"&&(F.hidden=!0,W[b]=F));break;case"worksheet":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"));f.push(p),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(h["!ref"]=Qn(w),n.sheetRows&&n.sheetRows<=w.e.r&&(h["!fullref"]=h["!ref"],w.e.r=n.sheetRows-1,h["!ref"]=Qn(w))),k.length&&(h["!merges"]=k),M.length>0&&(h["!cols"]=M),W.length>0&&(h["!rows"]=W),d[p]=h}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=x=0,l.push([c[3],!1]),u=xc(c[0]),p=Yn(u.Name),h=n.dense?[]:{},k=[],P=[],W=[],Q={name:p,Hidden:0},K.Sheets.push(Q);break;case"table":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"))}else{if(c[0].slice(-2)=="/>")break;l.push([c[3],!1]),M=[],G=!1}break;case"style":c[1]==="/"?gRe(T,C,n):C=xc(c[0]);break;case"numberformat":C.nf=Yn(xc(c[0]).Format||"General"),Lx[C.nf]&&(C.nf=Lx[C.nf]);for(var me=0;me!=392&&gn[me]!=C.nf;++me);if(me==392){for(me=57;me!=392;++me)if(gn[me]==null){jh(C.nf,me);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(H=xc(c[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!G&&H.wpx>10){G=!0,pa=uK;for(var ye=0;ye<M.length;++ye)M[ye]&&b0(M[ye])}G&&b0(H),M[H.Index-1||M.length]=H;for(var Fe=0;Fe<+H.Span;++Fe)M[M.length]=vs(H);break;case"namedrange":if(c[1]==="/")break;K.Names||(K.Names=[]);var Y=tn(c[0]),ve={Name:Y.Name,Ref:Rm(Y.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(ve.Sheet=K.Sheets.length-1),K.Names.push(ve);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?_+=r.slice(N,c.index):N=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;C.Interior=xc(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?tDe(j,U,r.slice(E,c.index)):E=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"))}else l.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"));vRe(V),R.push(V)}else l.push([c[3],!1]),u=xc(c[0]),V={a:u.Author};break;case"autofilter":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var B=xc(c[0]);h["!autofilter"]={ref:Rm(B.Range).replace(/\$/g,"")},l.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&l.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((u=l.pop())[0]!==c[3])throw new Error("Bad state: "+u.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&l.push([c[3],!0]);break;case"null":break;default:if(l.length==0&&c[3]=="document"||l.length==0&&c[3]=="uof")return vU(r,n);var _e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(c[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(E,c.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else E=c.index+c[0].length;break;case"header":h["!margins"]||Ux(h["!margins"]={},"xlml"),isNaN(+tn(c[0]).Margin)||(h["!margins"].header=+tn(c[0]).Margin);break;case"footer":h["!margins"]||Ux(h["!margins"]={},"xlml"),isNaN(+tn(c[0]).Margin)||(h["!margins"].footer=+tn(c[0]).Margin);break;case"pagemargins":var Ee=tn(c[0]);h["!margins"]||Ux(h["!margins"]={},"xlml"),isNaN(+Ee.Top)||(h["!margins"].top=+Ee.Top),isNaN(+Ee.Left)||(h["!margins"].left=+Ee.Left),isNaN(+Ee.Right)||(h["!margins"].right=+Ee.Right),isNaN(+Ee.Bottom)||(h["!margins"].bottom=+Ee.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||c[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?pRe(D,U,I,r.slice(E,c.index)):(I=c,E=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+l.join("|")}var se={};return!n.bookSheets&&!n.bookProps&&(se.Sheets=d),se.SheetNames=f,se.Workbook=K,se.SSF=vs(gn),se.Props=j,se.Custprops=D,se}function LA(e,t){switch(I3(t=t||{}),t.type||"base64"){case"base64":return tS(ko(e),t);case"binary":case"buffer":case"file":return tS(e,t);case"array":return tS(vp(e),t)}}function yRe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=RAe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=OAe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var bRe=[60,1084,2066,2165,2175];function wRe(e,t,n,r,i){var s=r,o=[],c=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}o.push(c),n.l+=s;for(var l=Au(n,n.l),u=MA[l],d=0;u!=null&&bRe.indexOf(l)>-1;)s=Au(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),c=n.slice(d,n.l+4+s),o.push(c),n.l+=4+s,u=MA[l=Au(n,n.l)];var f=Od(o);hs(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function cl(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=gn[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||wp[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rv(e.v):e.w=Zh(e.v):e.w=oc(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&G0(gn[r]||String(r))){var i=yh(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function X1(e,t,n){return{v:e,ixfe:t,t:n}}function _Re(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},o={},c=null,l=[],u="",d={},f,h="",p,y,m,g,v={},x=[],b,w,T=[],C=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},k=function(Oe){return Oe<8?Ih[Oe]:Oe<64&&C[Oe-8]||Ih[Oe]},j=function(Oe,Le,Ze){var it=Le.XF.data;if(!(!it||!it.patternType||!Ze||!Ze.cellStyles)){Le.s={},Le.s.patternType=it.patternType;var Dt;(Dt=Uv(k(it.icvFore)))&&(Le.s.fgColor={rgb:Dt}),(Dt=Uv(k(it.icvBack)))&&(Le.s.bgColor={rgb:Dt})}},D=function(Oe,Le,Ze){if(!(F>1)&&!(Ze.sheetRows&&Oe.r>=Ze.sheetRows)){if(Ze.cellStyles&&Le.XF&&Le.XF.data&&j(Oe,Le,Ze),delete Le.ixfe,delete Le.XF,f=Oe,h=un(Oe),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Oe.r<o.s.r&&(o.s.r=Oe.r),Oe.c<o.s.c&&(o.s.c=Oe.c),Oe.r+1>o.e.r&&(o.e.r=Oe.r+1),Oe.c+1>o.e.c&&(o.e.c=Oe.c+1),Ze.cellFormula&&Le.f){for(var it=0;it<x.length;++it)if(!(x[it][0].s.c>Oe.c||x[it][0].s.r>Oe.r)&&!(x[it][0].e.c<Oe.c||x[it][0].e.r<Oe.r)){Le.F=Qn(x[it][0]),(x[it][0].s.c!=Oe.c||x[it][0].s.r!=Oe.r)&&delete Le.f,Le.f&&(Le.f=""+Os(x[it][1],o,Oe,P,E));break}}Ze.dense?(i[Oe.r]||(i[Oe.r]=[]),i[Oe.r][Oe.c]=Le):i[h]=Le}},E={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var I,R=[],V=[],M=[],H=[],G=!1,P=[];P.SheetNames=E.snames,P.sharedf=E.sharedf,P.arrayf=E.arrayf,P.names=[],P.XTI=[];var W=0,F=0,O=0,L=[],K=[],Q;E.codepage=1200,Rc(1200);for(var U=!1;e.l<e.length-1;){var Z=e.l,pe=e.read_shift(2);if(pe===0&&W===10)break;var me=e.l===e.length?0:e.read_shift(2),ye=MA[pe];if(ye&&ye.f){if(t.bookSheets&&W===133&&pe!==133)break;if(W=pe,ye.r===2||ye.r==12){var Fe=e.read_shift(2);if(me-=2,!E.enc&&Fe!==pe&&((Fe&255)<<8|Fe>>8)!==pe)throw new Error("rt mismatch: "+Fe+"!="+pe);ye.r==12&&(e.l+=10,me-=10)}var Y={};if(pe===10?Y=ye.f(e,me,E):Y=wRe(pe,ye,e,me,E),F==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(pe){case 34:n.opts.Date1904=_.WBProps.date1904=Y;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=Y;break;case 66:var ve=Number(Y);switch(ve){case 21010:ve=1200;break;case 32768:ve=1e4;break;case 32769:ve=1252;break}Rc(E.codepage=ve),U=!0;break;case 317:E.rrtabid=Y;break;case 25:E.winlocked=Y;break;case 439:n.opts.RefreshAll=Y;break;case 12:n.opts.CalcCount=Y;break;case 16:n.opts.CalcDelta=Y;break;case 17:n.opts.CalcIter=Y;break;case 13:n.opts.CalcMode=Y;break;case 14:n.opts.CalcPrecision=Y;break;case 95:n.opts.CalcSaveRecalc=Y;break;case 15:E.CalcRefMode=Y;break;case 2211:n.opts.FullCalc=Y;break;case 129:Y.fDialog&&(i["!type"]="dialog"),Y.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Y.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:T.push(Y);break;case 430:P.push([Y]),P[P.length-1].XTI=[];break;case 35:case 547:P[P.length-1].push(Y);break;case 24:case 536:Q={Name:Y.Name,Ref:Os(Y.rgce,o,null,P,E)},Y.itab>0&&(Q.Sheet=Y.itab-1),P.names.push(Q),P[0]||(P[0]=[],P[0].XTI=[]),P[P.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(K[Y.itab-1]={ref:Qn(Y.rgce[0][0][1][2])});break;case 22:E.ExternCount=Y;break;case 23:P.length==0&&(P[0]=[],P[0].XTI=[]),P[P.length-1].XTI=P[P.length-1].XTI.concat(Y),P.XTI=P.XTI.concat(Y);break;case 2196:if(E.biff<8)break;Q!=null&&(Q.Comment=Y[1]);break;case 18:i["!protect"]=Y;break;case 19:Y!==0&&E.WTF&&console.error("Password verifier: "+Y);break;case 133:s[Y.pos]=Y,E.snames.push(Y.name);break;case 10:{if(--F)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Qn(o),t.sheetRows&&t.sheetRows<=o.e.r){var B=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Qn(o),o.e.r=B}o.e.r++,o.e.c++}R.length>0&&(i["!merges"]=R),V.length>0&&(i["!objects"]=V),M.length>0&&(i["!cols"]=M),H.length>0&&(i["!rows"]=H),_.Sheets.push(N)}u===""?d=i:r[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),E.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(E.biff=5,U=!0,Rc(E.codepage=28591)),E.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(E.biff=2),F++)break;if(i=t.dense?[]:{},E.biff<8&&!U&&(U=!0,Rc(E.codepage=t.codepage||1252)),E.biff<5||Y.BIFFVer==0&&Y.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-me,name:u};s[_e.pos]=_e,E.snames.push(u)}else u=(s[Z]||{name:""}).name;Y.dt==32&&(i["!type"]="chart"),Y.dt==64&&(i["!type"]="macro"),R=[],V=[],E.arrayf=x=[],M=[],H=[],G=!1,N={Hidden:(s[Z]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Y.r]||[])[Y.c]:i[un({c:Y.c,r:Y.r})])&&++Y.c,b={ixfe:Y.ixfe,XF:T[Y.ixfe]||{},v:Y.val,t:"n"},O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Y.c,r:Y.r},b,t);break;case 5:case 517:b={ixfe:Y.ixfe,XF:T[Y.ixfe],v:Y.val,t:Y.t},O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Y.c,r:Y.r},b,t);break;case 638:b={ixfe:Y.ixfe,XF:T[Y.ixfe],v:Y.rknum,t:"n"},O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Y.c,r:Y.r},b,t);break;case 189:for(var Ee=Y.c;Ee<=Y.C;++Ee){var se=Y.rkrec[Ee-Y.c][0];b={ixfe:se,XF:T[se],v:Y.rkrec[Ee-Y.c][1],t:"n"},O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Ee,r:Y.r},b,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){c=Y;break}if(b=X1(Y.val,Y.cell.ixfe,Y.tt),b.XF=T[b.ixfe],t.cellFormula){var J=Y.formula;if(J&&J[0]&&J[0][0]&&J[0][0][0]=="PtgExp"){var de=J[0][0][1][0],X=J[0][0][1][1],ue=un({r:de,c:X});v[ue]?b.f=""+Os(Y.formula,o,Y.cell,P,E):b.F=((t.dense?(i[de]||[])[X]:i[ue])||{}).F}else b.f=""+Os(Y.formula,o,Y.cell,P,E)}O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D(Y.cell,b,t),c=Y}break;case 7:case 519:if(c)c.val=Y,b=X1(Y,c.cell.ixfe,"s"),b.XF=T[b.ixfe],t.cellFormula&&(b.f=""+Os(c.formula,o,c.cell,P,E)),O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D(c.cell,b,t),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(Y);var te=un(Y[0].s);if(p=t.dense?(i[Y[0].s.r]||[])[Y[0].s.c]:i[te],t.cellFormula&&p){if(!c||!te||!p)break;p.f=""+Os(Y[1],o,Y[0],P,E),p.F=Qn(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!c)break;v[un(c.cell)]=Y[0],p=t.dense?(i[c.cell.r]||[])[c.cell.c]:i[un(c.cell)],(p||{}).f=""+Os(Y[0],o,f,P,E)}}break;case 253:b=X1(l[Y.isst].t,Y.ixfe,"s"),l[Y.isst].h&&(b.h=l[Y.isst].h),b.XF=T[b.ixfe],O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Y.c,r:Y.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:Y.ixfe,XF:T[Y.ixfe],t:"z"},O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Y.c,r:Y.r},b,t));break;case 190:if(t.sheetStubs)for(var oe=Y.c;oe<=Y.C;++oe){var le=Y.ixfe[oe-Y.c];b={ixfe:le,XF:T[le],t:"z"},O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:oe,r:Y.r},b,t)}break;case 214:case 516:case 4:b=X1(Y.val,Y.ixfe,"s"),b.XF=T[b.ixfe],O>0&&(b.z=L[b.ixfe>>8&63]),cl(b,t,n.opts.Date1904),D({c:Y.c,r:Y.r},b,t);break;case 0:case 512:F===1&&(o=Y);break;case 252:l=Y;break;case 1054:if(E.biff==4){L[O++]=Y[1];for(var ae=0;ae<O+163&&gn[ae]!=Y[1];++ae);ae>=163&&jh(Y[1],O+163)}else jh(Y[1],Y[0]);break;case 30:{L[O++]=Y;for(var Te=0;Te<O+163&&gn[Te]!=Y;++Te);Te>=163&&jh(Y,O+163)}break;case 229:R=R.concat(Y);break;case 93:V[Y.cmo[0]]=E.lastobj=Y;break;case 438:E.lastobj.TxO=Y;break;case 127:E.lastobj.ImData=Y;break;case 440:for(g=Y[0].s.r;g<=Y[0].e.r;++g)for(m=Y[0].s.c;m<=Y[0].e.c;++m)p=t.dense?(i[g]||[])[m]:i[un({c:m,r:g})],p&&(p.l=Y[1]);break;case 2048:for(g=Y[0].s.r;g<=Y[0].e.r;++g)for(m=Y[0].s.c;m<=Y[0].e.c;++m)p=t.dense?(i[g]||[])[m]:i[un({c:m,r:g})],p&&p.l&&(p.l.Tooltip=Y[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(i[Y[0].r]||[])[Y[0].c]:i[un(Y[0])];var Ue=V[Y[2]];p||(t.dense?(i[Y[0].r]||(i[Y[0].r]=[]),p=i[Y[0].r][Y[0].c]={t:"z"}):p=i[un(Y[0])]={t:"z"},o.e.r=Math.max(o.e.r,Y[0].r),o.s.r=Math.min(o.s.r,Y[0].r),o.e.c=Math.max(o.e.c,Y[0].c),o.s.c=Math.min(o.s.c,Y[0].c)),p.c||(p.c=[]),y={a:Y[1],t:Ue.TxO.t},p.c.push(y)}break;case 2173:z4e(T[Y.ixfe],Y.ext);break;case 125:{if(!E.cellStyles)break;for(;Y.e>=Y.s;)M[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},G||(G=!0,C3(Y.w/256)),b0(M[Y.e+1])}break;case 520:{var qe={};Y.level!=null&&(H[Y.r]=qe,qe.level=Y.level),Y.hidden&&(H[Y.r]=qe,qe.hidden=!0),Y.hpt&&(H[Y.r]=qe,qe.hpt=Y.hpt,qe.hpx=Lv(Y.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Ux(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=Y;break;case 161:i["!margins"]||Ux(i["!margins"]={}),i["!margins"].header=Y.header,i["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(_.Views[0].RTL=!0);break;case 146:C=Y;break;case 2198:I=Y;break;case 140:w=Y;break;case 442:u?N.CodeName=Y||N.name:_.WBProps.CodeName=Y||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),e.l+=me}return n.SheetNames=Ql(s).sort(function(nt,Oe){return Number(nt)-Number(Oe)}).map(function(nt){return s[nt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&K.forEach(function(nt,Oe){n.Sheets[n.SheetNames[Oe]]["!autofilter"]=nt}),n.Strings=l,n.SSF=vs(gn),E.enc&&(n.Encryption=E.enc),I&&(n.Themes=I),n.Metadata={},w!==void 0&&(n.Metadata.Country=w),P.names.length>0&&(_.Names=P.names),n.Workbook=_,n}var hU={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function TRe(e,t,n){var r=Gn.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=X8(r,BAe,hU.DSI);for(var s in i)t[s]=i[s]}catch(u){if(n.WTF)throw u}var o=Gn.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var c=X8(o,VAe,hU.SI);for(var l in c)t[l]==null&&(t[l]=c[l])}catch(u){if(n.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(GQ(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function DK(e,t){t||(t={}),I3(t),sQ(),t.codepage&&u3(t.codepage);var n,r;if(e.FullPaths){if(Gn.find(e,"/encryption"))throw new Error("File is password-protected");n=Gn.find(e,"!CompObj"),r=Gn.find(e,"/Workbook")||Gn.find(e,"/Book")}else{switch(t.type){case"base64":e=jc(ko(e));break;case"binary":e=jc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}hs(e,0),r={content:e}}var i,s;if(n&&yRe(n),t.bookProps&&!t.bookSheets)i={};else{var o=Wn?"buffer":"array";if(r&&r.content)i=_Re(r.content,t);else if((s=Gn.find(e,"PerfectOffice_MAIN"))&&s.content)i=Fx.to_workbook(s.content,(t.type=o,t));else if((s=Gn.find(e,"NativeContent_MAIN"))&&s.content)i=Fx.to_workbook(s.content,(t.type=o,t));else throw(s=Gn.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Gn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=c3e(e))}var c={};return e.FullPaths&&TRe(e,c,t),i.Props=i.Custprops=c,t.bookFiles&&(i.cfb=e),i}var gw={0:{f:i5e},1:{f:c5e},2:{f:x5e},3:{f:f5e},4:{f:u5e},5:{f:g5e},6:{f:b5e},7:{f:p5e},8:{f:N5e},9:{f:E5e},10:{f:_5e},11:{f:T5e},12:{f:l5e},13:{f:v5e},14:{f:h5e},15:{f:d5e},16:{f:NK},17:{f:w5e},18:{f:m5e},19:{f:w3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Z5e},40:{},42:{},43:{f:_4e},44:{f:w4e},45:{f:T4e},46:{f:N4e},47:{f:E4e},48:{},49:{f:SAe},50:{},51:{f:H4e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:sK},62:{f:y5e},63:{f:Y4e},64:{f:O5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:R5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:o5e},148:{f:s5e,p:16},151:{f:k5e},152:{},153:{f:X5e},154:{},155:{},156:{f:K5e},157:{},158:{},159:{T:1,f:Vje},160:{T:-1},161:{T:1,f:bp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:S5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$4e},336:{T:-1},337:{f:G4e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:OA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:iK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:A5e},427:{f:D5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:I5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:a5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:C5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:OA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:s3e},633:{T:1},634:{T:-1},635:{T:1,f:i3e},636:{T:-1},637:{f:kAe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:B5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:F5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},MA={6:{f:JN},10:{f:gd},12:{f:ji},13:{f:ji},14:{f:xi},15:{f:xi},16:{f:Bs},17:{f:xi},18:{f:xi},19:{f:ji},20:{f:eU},21:{f:eU},23:{f:iK},24:{f:nU},25:{f:xi},26:{},27:{},28:{f:nje},29:{},34:{f:xi},35:{f:tU},38:{f:Bs},39:{f:Bs},40:{f:Bs},41:{f:Bs},42:{f:xi},43:{f:xi},47:{f:a4e},49:{f:UDe},51:{f:ji},60:{},61:{f:ODe},64:{f:xi},65:{f:PDe},66:{f:ji},77:{},80:{},81:{},82:{},85:{f:ji},89:{},90:{},91:{},92:{f:SDe},93:{f:ije},94:{},95:{f:xi},96:{},97:{},99:{f:xi},125:{f:sK},128:{f:GDe},129:{f:CDe},130:{f:ji},131:{f:xi},132:{f:xi},133:{f:kDe},134:{},140:{f:uje},141:{f:ji},144:{},146:{f:fje},151:{},152:{},153:{},154:{},155:{},156:{f:ji},157:{},158:{},160:{f:xje},161:{f:pje},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:qDe},190:{f:zDe},193:{f:gd},197:{},198:{},199:{},200:{},201:{},202:{f:xi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ji},220:{},221:{f:xi},222:{},224:{f:HDe},225:{f:NDe},226:{f:gd},227:{},229:{f:rje},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ADe},253:{f:LDe},255:{f:DDe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:ZQ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:xi},353:{f:gd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:KDe},431:{f:xi},432:{},433:{},434:{},437:{},438:{f:oje},439:{f:xi},440:{f:cje},441:{},442:{f:Ly},443:{},444:{f:ji},445:{},446:{},448:{f:gd},449:{f:RDe,r:2},450:{f:gd},512:{f:Z8},513:{f:gje},515:{f:QDe},516:{f:MDe},517:{f:J8},519:{f:vje},520:{f:jDe},523:{},545:{f:rU},549:{f:Y8},566:{},574:{f:FDe},638:{f:WDe},659:{},1048:{},1054:{f:BDe},1084:{},1212:{f:JDe},2048:{f:lje},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:G1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:gd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:hje,r:12},2173:{f:q4e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:xi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:ZDe,r:12},2197:{},2198:{f:U4e,r:12},2199:{},2200:{},2201:{},2202:{f:eje,r:12},2203:{f:gd},2204:{},2205:{},2206:{},2207:{},2211:{f:IDe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ji},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:mje},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:dje},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Z8},1:{},2:{f:_je},3:{f:wje},4:{f:bje},5:{f:J8},7:{f:Tje},8:{},9:{f:G1},11:{},22:{f:ji},30:{f:VDe},31:{},32:{},33:{f:rU},36:{},37:{f:Y8},50:{f:Eje},62:{},52:{},67:{},68:{f:ji},69:{},86:{},126:{},127:{f:yje},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Nje},223:{},234:{},354:{},421:{},518:{f:JN},521:{f:G1},536:{f:nU},547:{f:tU},561:{},579:{},1030:{f:JN},1033:{f:G1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function vc(e,t,n,r){var i=t;if(!isNaN(i)){var s=(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&MQ(n)&&e.push(n)}}function pU(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,c=s&&s.index||e.length,l=Qke(e.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<l.length;++o){var m=l[o].trim(),g=m.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var v=m.split(/<\/t[dh]>/i);for(c=0;c<v.length;++c){var x=v[c].trim();if(x.match(/<t[dh]/i)){for(var b=x,w=0;b.charAt(0)=="<"&&(w=b.indexOf(">"))>-1;)b=b.slice(w+1);for(var T=0;T<y.length;++T){var C=y[T];C.s.c==d&&C.s.r<u&&u<=C.e.r&&(d=C.e.c+1,T=-1)}var _=tn(x.slice(0,x.indexOf(">")));h=_.colspan?+_.colspan:1,((f=+_.rowspan)>1||h>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var N=_.t||_["data-t"]||"";if(!b.length){d+=h;continue}if(b=SQ(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var k={t:"s",v:b};n.raw||!b.trim().length||N=="s"||(b==="TRUE"?k={t:"b",v:!0}:b==="FALSE"?k={t:"b",v:!1}:isNaN(Wc(b))?isNaN(y0(b).getDate())||(k={t:"d",v:ss(b)},n.cellDates||(k={t:"n",v:Ea(k.v)}),k.z=n.dateNF||gn[14]):k={t:"n",v:Wc(b)}),n.dense?(r[u]||(r[u]=[]),r[u][d]=k):r[un({r:u,c:d})]=k,d+=h}}}}return r["!ref"]=Qn(p),y.length&&(r["!merges"]=y),r}function ERe(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>o)&&!(i[u].e.r<n||i[u].e.c<o)){if(i[u].s.r<n||i[u].s.c<o){c=-1;break}c=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(c<0)){var d=un({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||g3(f.w||(Xu(f),f.w)||""))||"",p={};c>1&&(p.rowspan=c),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+d,s.push(uAe("td",h,p))}}var y="<tr>";return y+s.join("")+"</tr>"}var NRe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',SRe="</body></html>";function CRe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Wf(pU(n[0],t),t);var r=O3();return n.forEach(function(i,s){F3(r,pU(i,t),"Sheet"+(s+1))}),r}function kRe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function ARe(e,t){var n=t||{},r=n.header!=null?n.header:NRe,i=n.footer!=null?n.footer:SRe,s=[r],o=Q0(e["!ref"]);n.dense=Array.isArray(e),s.push(kRe(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)s.push(ERe(e,o,c,n));return s.push("</table>"+i),s.join("")}function jK(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?va(r.origin):r.origin;i=o.r,s=o.c}var c=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,c.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=Q0(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),y=0,m=0,g=0,v=0,x=0,b=0;for(e["!cols"]||(e["!cols"]=[]);y<c.length&&m<l;++y){var w=c[y];if(mU(w)){if(r.display)continue;p[m]={hidden:!0}}var T=w.children;for(g=v=0;g<T.length;++g){var C=T[g];if(!(r.display&&mU(C))){var _=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):SQ(C.innerHTML),N=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==v+s&&k.s.r<m+i&&m+i<=k.e.r&&(v=k.e.c+1-s,h=-1)}b=+C.getAttribute("colspan")||1,((x=+C.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+i,c:v+s},e:{r:m+i+(x||1)-1,c:v+s+(b||1)-1}});var j={t:"s",v:_},D=C.getAttribute("data-t")||C.getAttribute("t")||"";_!=null&&(_.length==0?j.t=D||"z":r.raw||_.trim().length==0||D=="s"||(_==="TRUE"?j={t:"b",v:!0}:_==="FALSE"?j={t:"b",v:!1}:isNaN(Wc(_))?isNaN(y0(_).getDate())||(j={t:"d",v:ss(_)},r.cellDates||(j={t:"n",v:Ea(j.v)}),j.z=r.dateNF||gn[14]):j={t:"n",v:Wc(_)})),j.z===void 0&&N!=null&&(j.z=N);var E="",I=C.getElementsByTagName("A");if(I&&I.length)for(var R=0;R<I.length&&!(I[R].hasAttribute("href")&&(E=I[R].getAttribute("href"),E.charAt(0)!="#"));++R);E&&E.charAt(0)!="#"&&(j.l={Target:E}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+s]=j):e[un({c:v+s,r:m+i})]=j,u.e.c<v+s&&(u.e.c=v+s),v+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+i),e["!ref"]=Qn(u),m>=l&&(e["!fullref"]=Qn((u.e.r=c.length-y+m-1+i,u))),e}function IK(e,t){var n=t||{},r=n.dense?[]:{};return jK(r,e,t)}function DRe(e,t){return Wf(IK(e,t),t)}function mU(e){var t="",n=jRe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function jRe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function IRe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Yn(t.replace(/<[^>]*>/g,""));return[n]}var gU={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function RK(e,t){var n=t||{},r=x3(e),i=[],s,o,c={name:""},l="",u=0,d,f,h={},p=[],y=n.dense?[]:{},m,g,v={value:""},x="",b=0,w=[],T=-1,C=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,k={},j=[],D={},E=0,I=0,R=[],V=1,M=1,H=[],G={Names:[]},P={},W=["",""],F=[],O={},L="",K=0,Q=!1,U=!1,Z=0;for(Fv.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Fv.exec(r);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(_.e.c>=_.s.c&&_.e.r>=_.s.r?y["!ref"]=Qn(_):y["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=_.e.r&&(y["!fullref"]=y["!ref"],_.e.r=n.sheetRows-1,y["!ref"]=Qn(_)),j.length&&(y["!merges"]=j),R.length&&(y["!rows"]=R),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=y,U=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=tn(m[0],!1),T=C=-1,_.s.r=_.s.c=1e7,_.e.r=_.e.c=0,y=n.dense?[]:{},j=[],R=[],U=!0);break;case"table-row-group":m[1]==="/"?--N:++N;break;case"table-row":case"":if(m[1]==="/"){T+=V,V=1;break}if(f=tn(m[0],!1),f.?T=f.-1:T==-1&&(T=0),V=+f["number-rows-repeated"]||1,V<10)for(Z=0;Z<V;++Z)N>0&&(R[T+Z]={level:N});C=-1;break;case"covered-table-cell":m[1]!=="/"&&++C,n.sheetStubs&&(n.dense?(y[T]||(y[T]=[]),y[T][C]={t:"z"}):y[un({r:T,c:C})]={t:"z"}),x="",w=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++C,v=tn(m[0],!1),M=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&n.cellFormula!=!1&&(g.f=uU(Yn(v.formula))),(v.||v["value-type"])=="string"&&(g.t="s",g.v=Yn(v["string-value"]||""),n.dense?(y[T]||(y[T]=[]),y[T][C]=g):y[un({r:T,c:C})]=g),C+=M-1;else if(m[1]!=="/"){++C,x="",b=0,w=[],M=1;var pe=V?T+V-1:T;if(C>_.e.c&&(_.e.c=C),C<_.s.c&&(_.s.c=C),T<_.s.r&&(_.s.r=T),pe>_.e.r&&(_.e.r=pe),v=tn(m[0],!1),F=[],O={},g={t:v.||v["value-type"],v:null},n.cellFormula)if(v.formula&&(v.formula=Yn(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(E=parseInt(v["number-matrix-rows-spanned"],10)||0,I=parseInt(v["number-matrix-columns-spanned"],10)||0,D={s:{r:T,c:C},e:{r:T+E-1,c:C+I-1}},g.F=Qn(D),H.push([D,g.F])),v.formula)g.f=uU(v.formula);else for(Z=0;Z<H.length;++Z)T>=H[Z][0].s.r&&T<=H[Z][0].e.r&&C>=H[Z][0].s.c&&C<=H[Z][0].e.c&&(g.F=H[Z][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(E=parseInt(v["number-rows-spanned"],10)||0,I=parseInt(v["number-columns-spanned"],10)||0,D={s:{r:T,c:C},e:{r:T+E-1,c:C+I-1}},j.push(D)),v["number-columns-repeated"]&&(M=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Yr(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=ss(v["date-value"]),n.cellDates||(g.t="n",g.v=Ea(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=$ke(v["time-value"])/86400,n.cellDates&&(g.t="d",g.v=cT(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(x=Yn(v["string-value"]),w=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(Q=!1,g.t==="s"&&(g.v=x||"",w.length&&(g.R=w),Q=b==0),P.Target&&(g.l=P),F.length>0&&(g.c=F,F=[]),x&&n.cellText!==!1&&(g.w=x),Q&&(g.t="z",delete g.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=T))for(var me=0;me<V;++me){if(M=parseInt(v["number-columns-repeated"]||"1",10),n.dense)for(y[T+me]||(y[T+me]=[]),y[T+me][C]=me==0?g:vs(g);--M>0;)y[T+me][C+M]=vs(g);else for(y[un({r:T+me,c:C})]=g;--M>0;)y[un({r:T+me,c:C+M})]=vs(g);_.e.c<=C&&(_.e.c=C)}M=parseInt(v["number-columns-repeated"]||"1",10),C+=M-1,M=0,g={},x="",w=[]}P={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s;O.t=x,w.length&&(O.R=w),O.a=L,F.push(O)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);L="",K=0,x="",b=0,w=[];break;case"creator":m[1]==="/"?L=r.slice(K,m.index):K=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);x="",b=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(k[c.name]=l,(s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&(l="",c=tn(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=tn(m[0],!1),l+=gU[m[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=tn(m[0],!1),l+=gU[m[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":o=tn(m[0],!1),W=eS(o["cell-range-address"]);var ye={Name:o.name,Ref:W[0]+"!"+W[1]};U&&(ye.Sheet=p.length),G.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!v||!v["string-value"])){var Fe=IRe(r.slice(b,m.index));x=(x.length>0?x+`
`:"")+Fe[0]}else tn(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{W=eS(tn(m[0])["target-range-address"]),h[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(P=tn(m[0],!1),!P.href)break;P.Target=Yn(P.href),delete P.href,P.Target.charAt(0)=="#"&&P.Target.indexOf(".")>-1?(W=eS(P.Target.slice(1)),P.Target="#"+W[0]+"!"+W[1]):P.Target.match(/^\.\.[\\\/]/)&&(P.Target=P.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(m)}}var Y={Sheets:h,SheetNames:p,Workbook:G};return n.bookSheets&&delete Y.Sheets,Y}function xU(e,t){t=t||{},zo(e,"META-INF/manifest.xml")&&QAe(Di(e,"META-INF/manifest.xml"),t);var n=vo(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=RK(Fr(n),t);return zo(e,"meta.xml")&&(r.Props=HQ(Di(e,"meta.xml"))),r}function vU(e,t){return RK(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function D3(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Fr(vp(e))}function VA(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function yU(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function RRe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Mv(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Hi(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Vs(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Mv(e,n),s=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);c=e.slice(l,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Mv(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:c,type:s};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function j3(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function ORe(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Mv(e,r),s=Vs(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:Hi(s[1][0].data),messages:[]};s[2].forEach(function(c){var l=Vs(c.data),u=Hi(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Hi(s[3][0].data)>>>0>0),n.push(o)}return n}function FRe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Mv(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[n[0]],c>1&&(o|=t[n[0]+1]<<8),c>2&&(o|=t[n[0]+2]<<16),c>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,u=0;if(s==1?(u=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[VA(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var d=VA(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function PRe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(FRe(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return VA(t)}function URe(e,t,n,r){var i=D3(e),s=i.getUint32(4,!0),o=(r>1?12:8)+yU(s&(r>1?3470:398))*4,c=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(c=i.getUint32(o,!0),o+=4),o+=yU(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(o,!0),o+=4),s&32&&(u=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(c>-1)f={t:"s",v:n[c]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function LRe(e,t,n){var r=D3(e),i=r.getUint32(8,!0),s=12,o=-1,c=-1,l=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(l=RRe(e,s),s+=16),i&2&&(u=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function MRe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return URe(e,t,n,e[0]);case 5:return LRe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function uf(e){var t=Vs(e);return Mv(t[1][0].data)}function bU(e,t){var n=Vs(t.data),r=Hi(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var c=Vs(o.data),l=Hi(c[1][0].data)>>>0;switch(r){case 1:s[l]=BA(c[3][0].data);break;case 8:{var u=e[uf(c[9][0].data)][0],d=Vs(u.data),f=e[uf(d[1][0].data)][0],h=Hi(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Vs(f.data);s[l]=p[3].map(function(y){return BA(y.data)}).join("")}break}}),s}function BRe(e,t){var n,r,i,s,o,c,l,u,d,f,h,p,y,m,g=Vs(e),v=Hi(g[1][0].data)>>>0,x=Hi(g[2][0].data)>>>0,b=((r=(n=g[8])==null?void 0:n[0])==null?void 0:r.data)&&Hi(g[8][0].data)>0||!1,w,T;if((s=(i=g[7])==null?void 0:i[0])!=null&&s.data&&t!=0)w=(c=(o=g[7])==null?void 0:o[0])==null?void 0:c.data,T=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)w=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,T=(m=(y=g[3])==null?void 0:y[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=b?4:1,_=D3(w),N=[],k=0;k<w.length/2;++k){var j=_.getUint16(k*2,!0);j<65535&&N.push([k,j])}if(N.length!=x)throw"Expected ".concat(x," cells, found ").concat(N.length);var D=[];for(k=0;k<N.length-1;++k)D[N[k][0]]=T.subarray(N[k][1]*C,N[k+1][1]*C);return N.length>=1&&(D[N[N.length-1][0]]=T.subarray(N[N.length-1][1]*C)),{R:v,cells:D}}function VRe(e,t){var n,r=Vs(t.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Hi(r[7][0].data)>>>0>0?1:0:-1,s=j3(r[5],function(o){return BRe(o,i)});return{nrows:Hi(r[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(l,u){if(o[c.R][u])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(u));o[c.R][u]=l}),o},[])}}function WRe(e,t,n){var r,i=Vs(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Hi(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Hi(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Qn(s);var o=Vs(i[4][0].data),c=bU(e,e[uf(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?bU(e,e[uf(o[17][0].data)][0]):[],u=Vs(o[3][0].data),d=0;u[1].forEach(function(f){var h=Vs(f.data),p=e[uf(h[2][0].data)][0],y=Hi(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var m=VRe(e,p);m.data.forEach(function(g,v){g.forEach(function(x,b){var w=un({r:d+v,c:b}),T=MRe(x,c,l);T&&(n[w]=T)})}),d+=m.nrows})}function qRe(e,t){var n=Vs(t.data),r={"!ref":"A1"},i=e[uf(n[2][0].data)],s=Hi(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return WRe(e,i[0],r),r}function zRe(e,t){var n,r=Vs(t.data),i={name:(n=r[1])!=null&&n[0]?BA(r[1][0].data):"",sheets:[]},s=j3(r[2],uf);return s.forEach(function(o){e[o].forEach(function(c){var l=Hi(c.meta[1][0].data);l==6e3&&i.sheets.push(qRe(e,c))})}),i}function $Re(e,t){var n=O3(),r=Vs(t.data),i=j3(r[1],uf);if(i.forEach(function(s){e[s].forEach(function(o){var c=Hi(o.meta[1][0].data);if(c==2){var l=zRe(e,o);l.sheets.forEach(function(u,d){F3(n,u,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function nS(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=PRe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=ORe(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var c=((i=(r=(n=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Hi(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(l){s[l].forEach(function(u){var d=Hi(u.meta[1][0].data)>>>0;if(d==1)if(!c)c=u;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return $Re(s,c)}function HRe(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function I3(e){HRe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function GRe(e){return mm.WS.indexOf(e)>-1?"sheet":e==mm.CS?"chart":e==mm.DS?"dialog":e==mm.MS?"macro":e&&e.length?e:"sheet"}function QRe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,GRe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function KRe(e,t,n,r,i,s,o,c,l,u,d,f){try{s[r]=Rx(vo(e,n,!0),t);var h=Di(e,t),p;switch(c){case"sheet":p=tRe(h,t,i,l,s[r],u,d,f);break;case"chart":if(p=nRe(h,t,i,l,s[r],u,d,f),!p||!p["!drawel"])break;var y=sx(p["!drawel"].Target,t),m=FA(y),g=e3e(vo(e,y,!0),Rx(vo(e,m,!0),y)),v=sx(g,y),x=FA(v);p=L5e(vo(e,v,!0),v,l,Rx(vo(e,x,!0),v),u,p);break;case"macro":p=rRe(h,t,i,l,s[r],u,d,f);break;case"dialog":p=iRe(h,t,i,l,s[r],u,d,f);break;default:throw new Error("Unrecognized sheet type "+c)}o[r]=p;var b=[];s&&s[r]&&Ql(s[r]).forEach(function(w){var T="";if(s[r][w].Type==mm.CMNT){T=sx(s[r][w].Target,t);var C=cRe(Di(e,T,!0),T,l);if(!C||!C.length)return;sU(p,C,!1)}s[r][w].Type==mm.TCMNT&&(T=sx(s[r][w].Target,t),b=b.concat(n3e(Di(e,T,!0),l)))}),b&&b.length&&sU(p,b,!0,l.people||[])}catch(w){if(l.WTF)throw w}}function Bo(e){return e.charAt(0)=="/"?e.slice(1):e}function XRe(e,t){if(xQ(),t=t||{},I3(t),zo(e,"META-INF/manifest.xml")||zo(e,"objectdata.xml"))return xU(e,t);if(zo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof nS<"u"){if(e.FileIndex)return nS(e);var n=Gn.utils.cfb_new();return I8(e).forEach(function(R){Yke(n,R,Xke(e,R))}),nS(n)}throw new Error("Unsupported NUMBERS file")}if(!zo(e,"[Content_Types].xml"))throw zo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=I8(e),i=HAe(vo(e,"[Content_Types].xml")),s=!1,o,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",Di(e,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!Di(e,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(Px=[],i.sst)try{Px=oRe(Di(e,Bo(i.sst)),i.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&i.themes.length&&(l=aRe(vo(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=sRe(Di(e,Bo(i.style)),i.style,l,t))}i.links.map(function(R){try{var V=Rx(vo(e,FA(Bo(R))),R);return uRe(Di(e,Bo(R)),V,R,t)}catch{}});var d=eRe(Di(e,Bo(i.workbooks[0])),i.workbooks[0],t),f={},h="";i.coreprops.length&&(h=Di(e,Bo(i.coreprops[0]),!0),h&&(f=HQ(h)),i.extprops.length!==0&&(h=Di(e,Bo(i.extprops[0]),!0),h&&YAe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(h=vo(e,Bo(i.custprops[0]),!0),h&&(p=JAe(h,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(V){return V.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var m={};t.bookDeps&&i.calcchain&&(m=lRe(Di(e,Bo(i.calcchain)),i.calcchain));var g=0,v={},x,b;{var w=d.Sheets;f.Worksheets=w.length,f.SheetNames=[];for(var T=0;T!=w.length;++T)f.SheetNames[T]=w[T].name}var C=s?"bin":"xml",_=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,_+1)+"_rels/"+i.workbooks[0].slice(_+1)+".rels").replace(/^\//,"");zo(e,N)||(N="xl/_rels/workbook."+C+".rels");var k=Rx(vo(e,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=dRe(Di(e,Bo(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=r3e(Di(e,Bo(i.people[0])),t)),k&&(k=QRe(k,d.Sheets));var j=Di(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var D="sheet";if(k&&k[g]?(x="xl/"+k[g][1].replace(/[\/]?xl\//,""),zo(e,x)||(x=k[g][1]),zo(e,x)||(x=N.replace(/_rels\/.*$/,"")+k[g][1]),D=k[g][2]):(x="xl/worksheets/sheet"+(g+1-j)+"."+C,x=x.replace(/sheet0\./,"sheet.")),b=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==g&&(E=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==f.SheetNames[g].toLowerCase()&&(E=1);if(!E)continue e}}KRe(e,x,b,f.SheetNames[g],g,v,o,D,t,d,l,u)}return y={Directory:i,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:o,SheetNames:f.SheetNames,Strings:Px,Styles:u,Themes:l,SSF:vs(gn)},t&&t.bookFiles&&(e.files?(y.keys=r,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(R,V){R=R.replace(/^Root Entry[\/]/,""),y.keys.push(R),y.files[R]=e.FileIndex[V]}))),t&&t.bookVBA&&(i.vba.length>0?y.vbaraw=Di(e,Bo(i.vba[0]),!0):i.defaults&&i.defaults.bin===o3e&&(y.vbaraw=Di(e,"xl/vbaProject.bin",!0))),y}function YRe(e,t){var n=t||{},r="Workbook",i=Gn.find(e,r);try{if(r="/!DataSpaces/Version",i=Gn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(qje(i.content),r="/!DataSpaces/DataSpaceMap",i=Gn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=$je(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Gn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Hje(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Gn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);Qje(i.content)}catch{}if(r="/EncryptionInfo",i=Gn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=Kje(i.content);if(r="/EncryptedPackage",i=Gn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function R3(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ko(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function ZRe(e,t){return Gn.find(e,"EncryptedPackage")?YRe(e,t):DK(e,t)}function JRe(e,t){var n,r=e,i=t||{};return i.type||(i.type=Wn&&Buffer.isBuffer(e)?"buffer":"base64"),n=TQ(r,i),XRe(n,i)}function OK(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return LA(e.slice(n),t);default:break e}return Pv.to_workbook(e,t)}function eOe(e,t){var n="",r=R3(e,t);switch(t.type){case"base64":n=ko(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Jh(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Fr(n)),t.type="binary",OK(n,t)}function tOe(e,t){var n=e;return t.type=="base64"&&(n=ko(n)),n=Iv.utils.decode(1200,n.slice(2),"str"),t.type="binary",OK(n,t)}function nOe(e){return e.match(/[^\x00-\x7F]/)?ax(e):e}function rS(e,t,n,r){return r?(n.type="string",Pv.to_workbook(e,n)):Pv.to_workbook(t,n)}function xw(e,t){sQ();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return xw(new Uint8Array(e),(n=vs(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Om={},n.dateNF&&(Om.dateNF=n.dateNF),n.type||(n.type=Wn&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Wn?"buffer":"binary",r=qke(e),typeof Uint8Array<"u"&&!Wn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=nOe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=vs(n),n.type="array",xw(d3(r),n)}switch((i=R3(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return ZRe(Gn.read(r,n),n);break;case 9:if(i[1]<=8)return DK(r,n);break;case 60:return LA(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Dje(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return kje.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?JRe(r,n):rS(e,r,n,s);case 239:return i[3]===60?LA(r,n):rS(e,r,n,s);case 255:if(i[1]===254)return tOe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Fx.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Fx.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return iU.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return o4e.to_workbook(r,n);break;case 10:case 13:case 32:return eOe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Sje.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?iU.to_workbook(r,n):rS(e,r,n,s)}function rOe(e,t,n,r,i,s,o,c){var l=ys(n),u=c.defval,d=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!o||e[n])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[n][p]:e[r[p]+l];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var m=y.v;switch(y.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[p]!=null){if(m==null)if(y.t=="e"&&m===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&m===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(y.t!=="n"||y.t==="n"&&c.rawNumbers!==!1)?m:Xu(y,m,c);m!=null&&(f=!1)}}return{row:h,isempty:f}}function WA(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,c="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof d){case"string":l=di(d);break;case"number":l=di(e["!ref"]),l.s.r=d;break;default:l=d}r>0&&(i=0);var f=ys(l.s.r),h=[],p=[],y=0,m=0,g=Array.isArray(e),v=l.s.r,x=0,b={};g&&!e[v]&&(e[v]=[]);var w=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(w[x]||{}).hidden)switch(h[x]=zi(x),n=g?e[v][x]:e[h[x]+f],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=u.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=Xu(n,null,u),m=b[o]||0,!m)b[o]=1;else{do c=o+"_"+m++;while(b[c]);b[o]=m,b[c]=1}s[x]=c}for(v=l.s.r+i;v<=l.e.r;++v)if(!(T[v]||{}).hidden){var C=rOe(e,l,v,h,r,s,g,u);(C.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=C.row)}return p.length=y,p}var wU=/"/g;function iOe(e,t,n,r,i,s,o,c){for(var l=!0,u=[],d="",f=ys(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var p=c.dense?(e[n]||[])[h]:e[r[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(c.rawNumbers&&p.t=="n"?p.v:Xu(p,null,c));for(var y=0,m=0;y!==d.length;++y)if((m=d.charCodeAt(y))===i||m===s||m===34||c.forceQuotes){d='"'+d.replace(wU,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(wU,'""')+'"')):d="";u.push(d)}return c.blankrows===!1&&l?null:u.join(o)}function FK(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=di(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,l=c.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(h[y]||{}).hidden||(f[y]=zi(y));for(var m=0,g=i.s.r;g<=i.e.r;++g)(p[g]||{}).hidden||(d=iOe(e,i,g,f,o,l,s,r),d!=null&&(r.strip&&(d=d.replace(u,"")),(d||r.blankrows!==!1)&&n.push((m++?c:"")+d)));return delete r.dense,n.join("")}function sOe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=FK(e,t);return n}function aOe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=di(e["!ref"]),s="",o=[],c,l=[],u=Array.isArray(e);for(c=i.s.c;c<=i.e.c;++c)o[c]=zi(c);for(var d=i.s.r;d<=i.e.r;++d)for(s=ys(d),c=i.s.c;c<=i.e.c;++c)if(t=o[c]+s,n=u?(e[d]||[])[c]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function PK(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?va(r.origin):r.origin;o=l.r,c=l.c}var u,d={s:{c:0,r:0},e:{c,r:o+t.length-1+i}};if(s["!ref"]){var f=di(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+i)}else o==-1&&(o=0,d.e.r=t.length-1+i);var h=r.header||[],p=0;t.forEach(function(m,g){Ql(m).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var x=m[v],b="z",w="",T=un({c:c+p,r:o+g+i});u=Bv(s,T),x&&typeof x=="object"&&!(x instanceof Date)?s[T]=x:(typeof x=="number"?b="n":typeof x=="boolean"?b="b":typeof x=="string"?b="s":x instanceof Date?(b="d",r.cellDates||(b="n",x=Ea(x)),w=r.dateNF||gn[14]):x===null&&r.nullError&&(b="e",x=0),u?(u.t=b,u.v=x,delete u.w,delete u.R,w&&(u.z=w)):s[T]=u={t:b,v:x},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,c+h.length-1);var y=ys(o);if(i)for(p=0;p<h.length;++p)s[zi(p+c)+y]={t:"s",v:h[p]};return s["!ref"]=Qn(d),s}function oOe(e,t){return PK(null,e,t)}function Bv(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=va(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Bv(e,un(t)):Bv(e,un({r:t,c:n||0}))}function cOe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function O3(){return{SheetNames:[],Sheets:{}}}function F3(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(H5e(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function lOe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=cOe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function uOe(e,t){return e.z=t,e}function UK(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function dOe(e,t,n){return UK(e,"#"+t,n)}function fOe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function hOe(e,t,n,r){for(var i=typeof t!="string"?t:di(t),s=typeof t=="string"?t:Qn(t),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var l=Bv(e,o,c);l.t="n",l.F=s,delete l.v,o==i.s.r&&c==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var LK={encode_col:zi,encode_row:ys,encode_cell:un,encode_range:Qn,decode_col:b3,decode_row:y3,split_cell:NAe,decode_cell:va,decode_range:Q0,format_cell:Xu,sheet_add_aoa:VQ,sheet_add_json:PK,sheet_add_dom:jK,aoa_to_sheet:K0,json_to_sheet:oOe,table_to_sheet:IK,table_to_book:DRe,sheet_to_csv:FK,sheet_to_txt:sOe,sheet_to_json:WA,sheet_to_html:ARe,sheet_to_formulae:aOe,sheet_to_row_object_array:WA,sheet_get_cell:Bv,book_new:O3,book_append_sheet:F3,book_set_sheet_visibility:lOe,cell_set_number_format:uOe,cell_set_hyperlink:UK,cell_set_internal_link:dOe,cell_add_comment:fOe,sheet_set_array_formula:hOe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},dc={},P3="1.13.7",_U=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},fT=Array.prototype,U3=Object.prototype,TU=typeof Symbol<"u"?Symbol.prototype:null,pOe=fT.push,Wy=fT.slice,Vv=U3.toString,mOe=U3.hasOwnProperty,MK=typeof ArrayBuffer<"u",gOe=typeof DataView<"u",xOe=Array.isArray,EU=Object.keys,NU=Object.create,SU=MK&&ArrayBuffer.isView,vOe=isNaN,yOe=isFinite,BK=!{toString:null}.propertyIsEnumerable("toString"),CU=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],bOe=Math.pow(2,53)-1;function Na(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=r,e.apply(this,s)}}function qf(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function VK(e){return e===null}function L3(e){return e===void 0}function M3(e){return e===!0||e===!1||Vv.call(e)==="[object Boolean]"}function WK(e){return!!(e&&e.nodeType===1)}function Xs(e){var t="[object "+e+"]";return function(n){return Vv.call(n)===t}}const hT=Xs("String"),B3=Xs("Number"),qK=Xs("Date"),zK=Xs("RegExp"),$K=Xs("Error"),V3=Xs("Symbol"),W3=Xs("ArrayBuffer");var HK=Xs("Function"),wOe=_U.document&&_U.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof wOe!="function"&&(HK=function(e){return typeof e=="function"||!1});const Qs=HK,GK=Xs("Object");var QK=gOe&&(!/\[native code\]/.test(String(DataView))||GK(new DataView(new ArrayBuffer(8)))),q3=typeof Map<"u"&&GK(new Map),_Oe=Xs("DataView");function TOe(e){return e!=null&&Qs(e.getInt8)&&W3(e.buffer)}const Wv=QK?TOe:_Oe,zf=xOe||Xs("Array");function $f(e,t){return e!=null&&mOe.call(e,t)}var qA=Xs("Arguments");(function(){qA(arguments)||(qA=function(e){return $f(e,"callee")})})();const pT=qA;function KK(e){return!V3(e)&&yOe(e)&&!isNaN(parseFloat(e))}function z3(e){return B3(e)&&vOe(e)}function $3(e){return function(){return e}}function XK(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=bOe}}function YK(e){return function(t){return t==null?void 0:t[e]}}const vw=YK("byteLength"),EOe=XK(vw);var NOe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function SOe(e){return SU?SU(e)&&!Wv(e):EOe(e)&&NOe.test(Vv.call(e))}const H3=MK?SOe:$3(!1),Ya=YK("length");function COe(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function ZK(e,t){t=COe(t);var n=CU.length,r=e.constructor,i=Qs(r)&&r.prototype||U3,s="constructor";for($f(e,s)&&!t.contains(s)&&t.push(s);n--;)s=CU[n],s in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}function Qi(e){if(!qf(e))return[];if(EU)return EU(e);var t=[];for(var n in e)$f(e,n)&&t.push(n);return BK&&ZK(e,t),t}function JK(e){if(e==null)return!0;var t=Ya(e);return typeof t=="number"&&(zf(e)||hT(e)||pT(e))?t===0:Ya(Qi(e))===0}function G3(e,t){var n=Qi(t),r=n.length;if(e==null)return!r;for(var i=Object(e),s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}function fr(e){if(e instanceof fr)return e;if(!(this instanceof fr))return new fr(e);this._wrapped=e}fr.VERSION=P3;fr.prototype.value=function(){return this._wrapped};fr.prototype.valueOf=fr.prototype.toJSON=fr.prototype.value;fr.prototype.toString=function(){return String(this._wrapped)};function kU(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,vw(e))}var AU="[object DataView]";function zA(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:eX(e,t,n,r)}function eX(e,t,n,r){e instanceof fr&&(e=e._wrapped),t instanceof fr&&(t=t._wrapped);var i=Vv.call(e);if(i!==Vv.call(t))return!1;if(QK&&i=="[object Object]"&&Wv(e)){if(!Wv(t))return!1;i=AU}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return TU.valueOf.call(e)===TU.valueOf.call(t);case"[object ArrayBuffer]":case AU:return eX(kU(e),kU(t),n,r)}var s=i==="[object Array]";if(!s&&H3(e)){var o=vw(e);if(o!==vw(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(Qs(c)&&c instanceof c&&Qs(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),s){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!zA(e[u],t[u],n,r))return!1}else{var d=Qi(e),f;if(u=d.length,Qi(t).length!==u)return!1;for(;u--;)if(f=d[u],!($f(t,f)&&zA(e[f],t[f],n,r)))return!1}return n.pop(),r.pop(),!0}function tX(e,t){return zA(e,t)}function X0(e){if(!qf(e))return[];var t=[];for(var n in e)t.push(n);return BK&&ZK(e,t),t}function Q3(e){var t=Ya(e);return function(n){if(n==null)return!1;var r=X0(n);if(Ya(r))return!1;for(var i=0;i<t;i++)if(!Qs(n[e[i]]))return!1;return e!==iX||!Qs(n[K3])}}var K3="forEach",nX="has",X3=["clear","delete"],rX=["get",nX,"set"],kOe=X3.concat(K3,rX),iX=X3.concat(rX),AOe=["add"].concat(X3,K3,nX);const sX=q3?Q3(kOe):Xs("Map"),aX=q3?Q3(iX):Xs("WeakMap"),oX=q3?Q3(AOe):Xs("Set"),cX=Xs("WeakSet");function Tp(e){for(var t=Qi(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function lX(e){for(var t=Qi(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function Y3(e){for(var t={},n=Qi(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function qv(e){var t=[];for(var n in e)Qs(e[n])&&t.push(n);return t.sort()}function Z3(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=e(s),c=o.length,l=0;l<c;l++){var u=o[l];(!t||n[u]===void 0)&&(n[u]=s[u])}return n}}const J3=Z3(X0),w0=Z3(Qi),eI=Z3(X0,!0);function DOe(){return function(){}}function uX(e){if(!qf(e))return{};if(NU)return NU(e);var t=DOe();t.prototype=e;var n=new t;return t.prototype=null,n}function dX(e,t){var n=uX(e);return t&&w0(n,t),n}function fX(e){return qf(e)?zf(e)?e.slice():J3({},e):e}function hX(e,t){return t(e),e}function tI(e){return zf(e)?e:[e]}fr.toPath=tI;function qy(e){return fr.toPath(e)}function nI(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}function rI(e,t,n){var r=nI(e,qy(t));return L3(r)?n:r}function pX(e,t){t=qy(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!$f(e,i))return!1;e=e[i]}return!!n}function mT(e){return e}function tp(e){return e=w0({},e),function(t){return G3(t,e)}}function gT(e){return e=qy(e),function(t){return nI(t,e)}}function zy(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,s){return e.call(t,r,i,s)};case 4:return function(r,i,s,o){return e.call(t,r,i,s,o)}}return function(){return e.apply(t,arguments)}}function mX(e,t,n){return e==null?mT:Qs(e)?zy(e,t,n):qf(e)&&!zf(e)?tp(e):gT(e)}function xT(e,t){return mX(e,t,1/0)}fr.iteratee=xT;function Ja(e,t,n){return fr.iteratee!==xT?fr.iteratee(e,t):mX(e,t,n)}function gX(e,t,n){t=Ja(t,n);for(var r=Qi(e),i=r.length,s={},o=0;o<i;o++){var c=r[o];s[c]=t(e[c],c,e)}return s}function iI(){}function xX(e){return e==null?iI:function(t){return rI(e,t)}}function vX(e,t,n){var r=Array(Math.max(0,e));t=zy(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function yw(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const _0=Date.now||function(){return new Date().getTime()};function yX(e){var t=function(s){return e[s]},n="(?:"+Qi(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,t):s}}const bX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},wX=yX(bX),jOe=Y3(bX),_X=yX(jOe),TX=fr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var iS=/(.)^/,IOe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ROe=/\\|'|\r|\n|\u2028|\u2029/g;function OOe(e){return"\\"+IOe[e]}var FOe=/^\s*(\w|\$)+\s*$/;function EX(e,t,n){!t&&n&&(t=n),t=eI({},t,fr.templateSettings);var r=RegExp([(t.escape||iS).source,(t.interpolate||iS).source,(t.evaluate||iS).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(u,d,f,h,p){return s+=e.slice(i,p).replace(ROe,OOe),i=p+u.length,d?s+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),u}),s+=`';
`;var o=t.variable;if(o){if(!FOe.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var c;try{c=new Function(o,"_",s)}catch(u){throw u.source=s,u}var l=function(u){return c.call(this,u,fr)};return l.source="function("+o+`){
`+s+"}",l}function NX(e,t,n){t=qy(t);var r=t.length;if(!r)return Qs(n)?n.call(e):n;for(var i=0;i<r;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=n,i=r),e=Qs(s)?s.call(e):s}return e}var POe=0;function SX(e){var t=++POe+"";return e?e+t:t}function CX(e){var t=fr(e);return t._chain=!0,t}function kX(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var s=uX(e.prototype),o=e.apply(s,i);return qf(o)?o:s}var Ep=Na(function(e,t){var n=Ep.placeholder,r=function(){for(var i=0,s=t.length,o=Array(s),c=0;c<s;c++)o[c]=t[c]===n?arguments[i++]:t[c];for(;i<arguments.length;)o.push(arguments[i++]);return kX(e,r,this,this,o)};return r});Ep.placeholder=fr;const sI=Na(function(e,t,n){if(!Qs(e))throw new TypeError("Bind must be called on a function");var r=Na(function(i){return kX(e,r,t,this,n.concat(i))});return r}),jo=XK(Ya);function Np(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,s=0,o=Ya(e);s<o;s++){var c=e[s];if(jo(c)&&(zf(c)||pT(c)))if(t>1)Np(c,t-1,n,r),i=r.length;else for(var l=0,u=c.length;l<u;)r[i++]=c[l++];else n||(r[i++]=c)}return r}const AX=Na(function(e,t){t=Np(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=sI(e[r],e)}return e});function DX(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return $f(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n}const aI=Na(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),jX=Ep(aI,fr,1);function IX(e,t,n){var r,i,s,o,c=0;n||(n={});var l=function(){c=n.leading===!1?0:_0(),r=null,o=e.apply(i,s),r||(i=s=null)},u=function(){var d=_0();!c&&n.leading===!1&&(c=d);var f=t-(d-c);return i=this,s=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),c=d,o=e.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(r),c=0,r=i=s=null},u}function RX(e,t,n){var r,i,s,o,c,l=function(){var d=_0()-i;t>d?r=setTimeout(l,t-d):(r=null,n||(o=e.apply(c,s)),r||(s=c=null))},u=Na(function(d){return c=this,s=d,i=_0(),r||(r=setTimeout(l,t),n&&(o=e.apply(c,s))),o});return u.cancel=function(){clearTimeout(r),r=s=c=null},u}function OX(e,t){return Ep(t,e)}function vT(e){return function(){return!e.apply(this,arguments)}}function FX(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function PX(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function oI(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const UX=Ep(oI,2);function cI(e,t,n){t=Ja(t,n);for(var r=Qi(e),i,s=0,o=r.length;s<o;s++)if(i=r[s],t(e[i],i,e))return i}function LX(e){return function(t,n,r){n=Ja(n,r);for(var i=Ya(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}const yT=LX(1),lI=LX(-1);function uI(e,t,n,r){n=Ja(n,r,1);for(var i=n(t),s=0,o=Ya(e);s<o;){var c=Math.floor((s+o)/2);n(e[c])<i?s=c+1:o=c}return s}function MX(e,t,n){return function(r,i,s){var o=0,c=Ya(r);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+c,o):c=s>=0?Math.min(s+1,c):s+c+1;else if(n&&s&&c)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(Wy.call(r,o,c),z3),s>=0?s+o:-1;for(s=e>0?o:c-1;s>=0&&s<c;s+=e)if(r[s]===i)return s;return-1}}const dI=MX(1,yT,uI),BX=MX(-1,lI);function zv(e,t,n){var r=jo(e)?yT:cI,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}function VX(e,t){return zv(e,tp(t))}function Kc(e,t,n){t=zy(t,n);var r,i;if(jo(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=Qi(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e}function Yu(e,t,n){t=Ja(t,n);for(var r=!jo(e)&&Qi(e),i=(r||e).length,s=Array(i),o=0;o<i;o++){var c=r?r[o]:o;s[o]=t(e[c],c,e)}return s}function WX(e){var t=function(n,r,i,s){var o=!jo(n)&&Qi(n),c=(o||n).length,l=e>0?0:c-1;for(s||(i=n[o?o[l]:l],l+=e);l>=0&&l<c;l+=e){var u=o?o[l]:l;i=r(i,n[u],u,n)}return i};return function(n,r,i,s){var o=arguments.length>=3;return t(n,zy(r,s,4),i,o)}}const Fm=WX(1),bw=WX(-1);function kf(e,t,n){var r=[];return t=Ja(t,n),Kc(e,function(i,s,o){t(i,s,o)&&r.push(i)}),r}function qX(e,t,n){return kf(e,vT(Ja(t)),n)}function ww(e,t,n){t=Ja(t,n);for(var r=!jo(e)&&Qi(e),i=(r||e).length,s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0}function _w(e,t,n){t=Ja(t,n);for(var r=!jo(e)&&Qi(e),i=(r||e).length,s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1}function nc(e,t,n,r){return jo(e)||(e=Tp(e)),(typeof n!="number"||r)&&(n=0),dI(e,t,n)>=0}const zX=Na(function(e,t,n){var r,i;return Qs(t)?i=t:(t=qy(t),r=t.slice(0,-1),t=t[t.length-1]),Yu(e,function(s){var o=i;if(!o){if(r&&r.length&&(s=nI(s,r)),s==null)return;o=s[t]}return o==null?o:o.apply(s,n)})});function bT(e,t){return Yu(e,gT(t))}function $X(e,t){return kf(e,tp(t))}function fI(e,t,n){var r=-1/0,i=-1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=jo(e)?e:Tp(e);for(var c=0,l=e.length;c<l;c++)s=e[c],s!=null&&s>r&&(r=s)}else t=Ja(t,n),Kc(e,function(u,d,f){o=t(u,d,f),(o>i||o===-1/0&&r===-1/0)&&(r=u,i=o)});return r}function HX(e,t,n){var r=1/0,i=1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=jo(e)?e:Tp(e);for(var c=0,l=e.length;c<l;c++)s=e[c],s!=null&&s<r&&(r=s)}else t=Ja(t,n),Kc(e,function(u,d,f){o=t(u,d,f),(o<i||o===1/0&&r===1/0)&&(r=u,i=o)});return r}var UOe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function hI(e){return e?zf(e)?Wy.call(e):hT(e)?e.match(UOe):jo(e)?Yu(e,mT):Tp(e):[]}function pI(e,t,n){if(t==null||n)return jo(e)||(e=Tp(e)),e[yw(e.length-1)];var r=hI(e),i=Ya(r);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var c=yw(o,s),l=r[o];r[o]=r[c],r[c]=l}return r.slice(0,t)}function GX(e){return pI(e,1/0)}function QX(e,t,n){var r=0;return t=Ja(t,n),bT(Yu(e,function(i,s,o){return{value:i,index:r++,criteria:t(i,s,o)}}).sort(function(i,s){var o=i.criteria,c=s.criteria;if(o!==c){if(o>c||o===void 0)return 1;if(o<c||c===void 0)return-1}return i.index-s.index}),"value")}function wT(e,t){return function(n,r,i){var s=t?[[],[]]:{};return r=Ja(r,i),Kc(n,function(o,c){var l=r(o,c,n);e(s,o,l)}),s}}const KX=wT(function(e,t,n){$f(e,n)?e[n].push(t):e[n]=[t]}),XX=wT(function(e,t,n){e[n]=t}),YX=wT(function(e,t,n){$f(e,n)?e[n]++:e[n]=1}),ZX=wT(function(e,t,n){e[n?0:1].push(t)},!0);function JX(e){return e==null?0:jo(e)?e.length:Qi(e).length}function LOe(e,t,n){return t in n}const mI=Na(function(e,t){var n={},r=t[0];if(e==null)return n;Qs(r)?(t.length>1&&(r=zy(r,t[1])),t=X0(e)):(r=LOe,t=Np(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],c=e[o];r(c,o,e)&&(n[o]=c)}return n}),eY=Na(function(e,t){var n=t[0],r;return Qs(n)?(n=vT(n),t.length>1&&(r=t[1])):(t=Yu(Np(t,!1,!1),String),n=function(i,s){return!nc(t,s)}),mI(e,n,r)});function gI(e,t,n){return Wy.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}function Pm(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:gI(e,e.length-t)}function Rh(e,t,n){return Wy.call(e,t==null||n?1:t)}function tY(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:Rh(e,Math.max(0,e.length-t))}function nY(e){return kf(e,Boolean)}function rY(e,t){return Np(e,t,!1)}const xI=Na(function(e,t){return t=Np(t,!0,!0),kf(e,function(n){return!nc(t,n)})}),iY=Na(function(e,t){return xI(e,t)});function $v(e,t,n,r){M3(t)||(r=n,n=t,t=!1),n!=null&&(n=Ja(n,r));for(var i=[],s=[],o=0,c=Ya(e);o<c;o++){var l=e[o],u=n?n(l,o,e):l;t&&!n?((!o||s!==u)&&i.push(l),s=u):n?nc(s,u)||(s.push(u),i.push(l)):nc(i,l)||i.push(l)}return i}const sY=Na(function(e){return $v(Np(e,!0,!0))});function aY(e){for(var t=[],n=arguments.length,r=0,i=Ya(e);r<i;r++){var s=e[r];if(!nc(t,s)){var o;for(o=1;o<n&&nc(arguments[o],s);o++);o===n&&t.push(s)}}return t}function Hv(e){for(var t=e&&fI(e,Ya).length||0,n=Array(t),r=0;r<t;r++)n[r]=bT(e,r);return n}const oY=Na(Hv);function cY(e,t){for(var n={},r=0,i=Ya(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function lY(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),s=0;s<r;s++,e+=n)i[s]=e;return i}function uY(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(Wy.call(e,r,r+=t));return n}function vI(e,t){return e._chain?fr(t).chain():t}function yI(e){return Kc(qv(e),function(t){var n=fr[t]=e[t];fr.prototype[t]=function(){var r=[this._wrapped];return pOe.apply(r,arguments),vI(this,n.apply(fr,r))}}),fr}Kc(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=fT[e];fr.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),vI(this,n)}});Kc(["concat","join","slice"],function(e){var t=fT[e];fr.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),vI(this,n)}});const MOe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:P3,after:PX,all:ww,allKeys:X0,any:_w,assign:w0,before:oI,bind:sI,bindAll:AX,chain:CX,chunk:uY,clone:fX,collect:Yu,compact:nY,compose:FX,constant:$3,contains:nc,countBy:YX,create:dX,debounce:RX,default:fr,defaults:eI,defer:jX,delay:aI,detect:zv,difference:xI,drop:Rh,each:Kc,escape:wX,every:ww,extend:J3,extendOwn:w0,filter:kf,find:zv,findIndex:yT,findKey:cI,findLastIndex:lI,findWhere:VX,first:Pm,flatten:rY,foldl:Fm,foldr:bw,forEach:Kc,functions:qv,get:rI,groupBy:KX,has:pX,head:Pm,identity:mT,include:nc,includes:nc,indexBy:XX,indexOf:dI,initial:gI,inject:Fm,intersection:aY,invert:Y3,invoke:zX,isArguments:pT,isArray:zf,isArrayBuffer:W3,isBoolean:M3,isDataView:Wv,isDate:qK,isElement:WK,isEmpty:JK,isEqual:tX,isError:$K,isFinite:KK,isFunction:Qs,isMap:sX,isMatch:G3,isNaN:z3,isNull:VK,isNumber:B3,isObject:qf,isRegExp:zK,isSet:oX,isString:hT,isSymbol:V3,isTypedArray:H3,isUndefined:L3,isWeakMap:aX,isWeakSet:cX,iteratee:xT,keys:Qi,last:tY,lastIndexOf:BX,map:Yu,mapObject:gX,matcher:tp,matches:tp,max:fI,memoize:DX,methods:qv,min:HX,mixin:yI,negate:vT,noop:iI,now:_0,object:cY,omit:eY,once:UX,pairs:lX,partial:Ep,partition:ZX,pick:mI,pluck:bT,property:gT,propertyOf:xX,random:yw,range:lY,reduce:Fm,reduceRight:bw,reject:qX,rest:Rh,restArguments:Na,result:NX,sample:pI,select:kf,shuffle:GX,size:JX,some:_w,sortBy:QX,sortedIndex:uI,tail:Rh,take:Pm,tap:hX,template:EX,templateSettings:TX,throttle:IX,times:vX,toArray:hI,toPath:tI,transpose:Hv,unescape:_X,union:sY,uniq:$v,unique:$v,uniqueId:SX,unzip:Hv,values:Tp,where:$X,without:iY,wrap:OX,zip:oY},Symbol.toStringTag,{value:"Module"}));var $A=yI(MOe);$A._=$A;const BOe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:P3,after:PX,all:ww,allKeys:X0,any:_w,assign:w0,before:oI,bind:sI,bindAll:AX,chain:CX,chunk:uY,clone:fX,collect:Yu,compact:nY,compose:FX,constant:$3,contains:nc,countBy:YX,create:dX,debounce:RX,default:$A,defaults:eI,defer:jX,delay:aI,detect:zv,difference:xI,drop:Rh,each:Kc,escape:wX,every:ww,extend:J3,extendOwn:w0,filter:kf,find:zv,findIndex:yT,findKey:cI,findLastIndex:lI,findWhere:VX,first:Pm,flatten:rY,foldl:Fm,foldr:bw,forEach:Kc,functions:qv,get:rI,groupBy:KX,has:pX,head:Pm,identity:mT,include:nc,includes:nc,indexBy:XX,indexOf:dI,initial:gI,inject:Fm,intersection:aY,invert:Y3,invoke:zX,isArguments:pT,isArray:zf,isArrayBuffer:W3,isBoolean:M3,isDataView:Wv,isDate:qK,isElement:WK,isEmpty:JK,isEqual:tX,isError:$K,isFinite:KK,isFunction:Qs,isMap:sX,isMatch:G3,isNaN:z3,isNull:VK,isNumber:B3,isObject:qf,isRegExp:zK,isSet:oX,isString:hT,isSymbol:V3,isTypedArray:H3,isUndefined:L3,isWeakMap:aX,isWeakSet:cX,iteratee:xT,keys:Qi,last:tY,lastIndexOf:BX,map:Yu,mapObject:gX,matcher:tp,matches:tp,max:fI,memoize:DX,methods:qv,min:HX,mixin:yI,negate:vT,noop:iI,now:_0,object:cY,omit:eY,once:UX,pairs:lX,partial:Ep,partition:ZX,pick:mI,pluck:bT,property:gT,propertyOf:xX,random:yw,range:lY,reduce:Fm,reduceRight:bw,reject:qX,rest:Rh,restArguments:Na,result:NX,sample:pI,select:kf,shuffle:GX,size:JX,some:_w,sortBy:QX,sortedIndex:uI,tail:Rh,take:Pm,tap:hX,template:EX,templateSettings:TX,throttle:IX,times:vX,toArray:hI,toPath:tI,transpose:Hv,unescape:_X,union:sY,uniq:$v,unique:$v,uniqueId:SX,unzip:Hv,values:Tp,where:$X,without:iY,wrap:OX,zip:oY},Symbol.toStringTag,{value:"Module"})),Ni=See(BOe);var bI={},os={},dY={exports:{}},Y1={exports:{}},DU;function Y0(){if(DU)return Y1.exports;DU=1;var e=function(){return this===void 0}();if(e)Y1.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(d,f){var h=Object.getOwnPropertyDescriptor(d,f);return!!(!h||h.writable||h.set)}};else{var t={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(d){var f=[];for(var h in d)t.call(d,h)&&f.push(h);return f},s=function(d,f){return{value:d[f]}},o=function(d,f,h){return d[f]=h.value,d},c=function(d){return d},l=function(d){try{return Object(d).constructor.prototype}catch{return r}},u=function(d){try{return n.call(d)==="[object Array]"}catch{return!1}};Y1.exports={isArray:u,keys:i,names:i,defineProperty:o,getDescriptor:s,freeze:c,getPrototypeOf:l,isES5:e,propertyIsWritable:function(){return!0}}}return Y1.exports}var sS,jU;function Pr(){if(jU)return sS;jU=1;var e={},t=Y0(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof Kt<"u"||Kt!==void 0?Kt:null;function o(){try{var L=i;return i=null,L.apply(this,arguments)}catch(K){return r.e=K,r}}function c(L){return i=L,o}var l=function(L,K){var Q={}.hasOwnProperty;function U(){this.constructor=L,this.constructor$=K;for(var Z in K.prototype)Q.call(K.prototype,Z)&&Z.charAt(Z.length-1)!=="$"&&(this[Z+"$"]=K.prototype[Z])}return U.prototype=K.prototype,L.prototype=new U,L.prototype};function u(L){return L==null||L===!0||L===!1||typeof L=="string"||typeof L=="number"}function d(L){return typeof L=="function"||typeof L=="object"&&L!==null}function f(L){return u(L)?new Error(_(L)):L}function h(L,K){var Q=L.length,U=new Array(Q+1),Z;for(Z=0;Z<Q;++Z)U[Z]=L[Z];return U[Z]=K,U}function p(L,K,Q){if(t.isES5){var U=Object.getOwnPropertyDescriptor(L,K);if(U!=null)return U.get==null&&U.set==null?U.value:Q}else return{}.hasOwnProperty.call(L,K)?L[K]:void 0}function y(L,K,Q){if(u(L))return L;var U={value:Q,configurable:!0,enumerable:!1,writable:!0};return t.defineProperty(L,K,U),L}function m(L){throw L}var g=function(){var L=[Array.prototype,Object.prototype,Function.prototype],K=function(Z){for(var pe=0;pe<L.length;++pe)if(L[pe]===Z)return!0;return!1};if(t.isES5){var Q=Object.getOwnPropertyNames;return function(Z){for(var pe=[],me=Object.create(null);Z!=null&&!K(Z);){var ye;try{ye=Q(Z)}catch{return pe}for(var Fe=0;Fe<ye.length;++Fe){var Y=ye[Fe];if(!me[Y]){me[Y]=!0;var ve=Object.getOwnPropertyDescriptor(Z,Y);ve!=null&&ve.get==null&&ve.set==null&&pe.push(Y)}}Z=t.getPrototypeOf(Z)}return pe}}else{var U={}.hasOwnProperty;return function(Z){if(K(Z))return[];var pe=[];e:for(var me in Z)if(U.call(Z,me))pe.push(me);else{for(var ye=0;ye<L.length;++ye)if(U.call(L[ye],me))continue e;pe.push(me)}return pe}}}(),v=/this\s*\.\s*\S+\s*=/;function x(L){try{if(typeof L=="function"){var K=t.names(L.prototype),Q=t.isES5&&K.length>1,U=K.length>0&&!(K.length===1&&K[0]==="constructor"),Z=v.test(L+"")&&t.names(L).length>0;if(Q||U||Z)return!0}return!1}catch{return!1}}function b(L){return L}var w=/^[a-z$_][a-z$_0-9]*$/i;function T(L){return w.test(L)}function C(L,K,Q){for(var U=new Array(L),Z=0;Z<L;++Z)U[Z]=K+Z+Q;return U}function _(L){try{return L+""}catch{return"[no string representation]"}}function N(L){return L!==null&&typeof L=="object"&&typeof L.message=="string"&&typeof L.name=="string"}function k(L){try{y(L,"isOperational",!0)}catch{}}function j(L){return L==null?!1:L instanceof Error.__BluebirdErrorTypes__.OperationalError||L.isOperational===!0}function D(L){return N(L)&&t.propertyIsWritable(L,"stack")}var E=function(){return"stack"in new Error?function(L){return D(L)?L:new Error(_(L))}:function(L){if(D(L))return L;try{throw new Error(_(L))}catch(K){return K}}}();function I(L){return{}.toString.call(L)}function R(L,K,Q){for(var U=t.names(L),Z=0;Z<U.length;++Z){var pe=U[Z];if(Q(pe))try{t.defineProperty(K,pe,t.getDescriptor(L,pe))}catch{}}}var V=function(L){return t.isArray(L)?L:null};if(typeof Symbol<"u"&&Symbol.iterator){var M=typeof Array.from=="function"?function(L){return Array.from(L)}:function(L){for(var K=[],Q=L[Symbol.iterator](),U;!(U=Q.next()).done;)K.push(U.value);return K};V=function(L){return t.isArray(L)?L:L!=null&&typeof L[Symbol.iterator]=="function"?M(L):null}}var H=typeof process<"u"&&I(process).toLowerCase()==="[object process]",G=typeof process<"u"&&typeof e<"u";function P(L){return G?e[L]:void 0}function W(){if(typeof Promise=="function")try{var L=new Promise(function(){});if({}.toString.call(L)==="[object Promise]")return Promise}catch{}}function F(L,K){return L.bind(K)}var O={isClass:x,isIdentifier:T,inheritedDataKeys:g,getDataPropertyOrDefault:p,thrower:m,isArray:t.isArray,asArray:V,notEnumerableProp:y,isPrimitive:u,isObject:d,isError:N,canEvaluate:n,errorObj:r,tryCatch:c,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:b,filledRange:C,toString:_,canAttachTrace:D,ensureErrorObject:E,originatesFromRejection:j,markAsOriginatingFromRejection:k,classString:I,copyDescriptors:R,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:H,hasEnvVariables:G,env:P,global:s,getNativePromise:W,domainBind:F};O.isRecentNode=O.isNode&&function(){var L=process.versions.node.split(".").map(Number);return L[0]===0&&L[1]>10||L[0]>0}(),O.isNode&&O.toFastProperties(process);try{throw new Error}catch(L){O.lastLineError=L}return sS=O,sS}var Z1={exports:{}},aS,IU;function VOe(){if(IU)return aS;IU=1;var e=Pr(),t,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=e.getNativePromise();if(e.isNode&&typeof MutationObserver>"u"){var i=Kt.setImmediate,s=process.nextTick;t=e.isRecentNode?function(c){i.call(Kt,c)}:function(c){s.call(process,c)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var o=r.resolve();t=function(c){o.then(c)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?t=function(){var c=document.createElement("div"),l={attributes:!0},u=!1,d=document.createElement("div"),f=new MutationObserver(function(){c.classList.toggle("foo"),u=!1});f.observe(d,l);var h=function(){u||(u=!0,d.classList.toggle("foo"))};return function(y){var m=new MutationObserver(function(){m.disconnect(),y()});m.observe(c,l),h()}}():typeof setImmediate<"u"?t=function(c){setImmediate(c)}:typeof setTimeout<"u"?t=function(c){setTimeout(c,0)}:t=n;return aS=t,aS}var oS,RU;function WOe(){if(RU)return oS;RU=1;function e(n,r,i,s,o){for(var c=0;c<o;++c)i[c+s]=n[c+r],n[c+r]=void 0}function t(n){this._capacity=n,this._length=0,this._front=0}return t.prototype._willBeOverCapacity=function(n){return this._capacity<n},t.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},t.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var o=this._front+s-3;this._checkCapacity(s);var c=this._capacity-1;this[o+0&c]=n,this[o+1&c]=r,this[o+2&c]=i,this._length=s},t.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},t.prototype.length=function(){return this._length},t.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},t.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,o=i+s&r-1;e(this,0,this,r,o)},oS=t,oS}var OU;function qOe(){if(OU)return Z1.exports;OU=1;var e;try{throw new Error}catch(l){e=l}var t=VOe(),n=WOe(),r=Pr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=t}i.prototype.setScheduler=function(l){var u=this._schedule;return this._schedule=l,this._customScheduler=!0,u},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,u){u?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,u){if(arguments.length===1&&(u=l,l=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){l(u)},0);else try{this._schedule(function(){l(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,u,d){this._lateQueue.push(l,u,d),this._queueTick()}function o(l,u,d){this._normalQueue.push(l,u,d),this._queueTick()}function c(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,u,d){this._trampolineEnabled?s.call(this,l,u,d):this._schedule(function(){setTimeout(function(){l.call(u,d)},100)})},i.prototype.invoke=function(l,u,d){this._trampolineEnabled?o.call(this,l,u,d):this._schedule(function(){l.call(u,d)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?c.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=o,i.prototype.settlePromises=c),i.prototype._drainQueue=function(l){for(;l.length()>0;){var u=l.shift();if(typeof u!="function"){u._settlePromises();continue}var d=l.shift(),f=l.shift();u.call(d,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Z1.exports=i,Z1.exports.firstLineError=e,Z1.exports}var cS,FU;function Af(){if(FU)return cS;FU=1;var e=Y0(),t=e.freeze,n=Pr(),r=n.inherits,i=n.notEnumerableProp;function s(v,x){function b(w){if(!(this instanceof b))return new b(w);i(this,"message",typeof w=="string"?w:x),i(this,"name",v),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(b,Error),b}var o,c,l=s("Warning","warning"),u=s("CancellationError","cancellation error"),d=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{o=TypeError,c=RangeError}catch{o=s("TypeError","type error"),c=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);e.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var y=0;f.prototype.toString=function(){var v=Array(y*4+1).join(" "),x=`
`+v+`AggregateError of:
`;y++,v=Array(y*4+1).join(" ");for(var b=0;b<this.length;++b){for(var w=this[b]===this?"[Circular AggregateError]":this[b]+"",T=w.split(`
`),C=0;C<T.length;++C)T[C]=v+T[C];w=T.join(`
`),x+=w+`
`}return y--,x};function m(v){if(!(this instanceof m))return new m(v);i(this,"name","OperationalError"),i(this,"message",v),this.cause=v,this.isOperational=!0,v instanceof Error?(i(this,"message",v.message),i(this,"stack",v.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(m,Error);var g=Error.__BluebirdErrorTypes__;return g||(g=t({CancellationError:u,TimeoutError:d,OperationalError:m,RejectionError:m,AggregateError:f}),e.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),cS={Error,TypeError:o,RangeError:c,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:l},cS}var lS,PU;function zOe(){return PU||(PU=1,lS=function(e,t){var n=Pr(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof e)return f;var p=c(f);if(p===r){h&&h._pushContext();var y=e.reject(p.e);return h&&h._popContext(),y}else if(typeof p=="function"){if(u(f)){var y=new e(t);return f._then(y._fulfill,y._reject,void 0,y,null),y}return d(f,p,h)}}return f}function o(f){return f.then}function c(f){try{return o(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function u(f){try{return l.call(f,"_promise0")}catch{return!1}}function d(f,h,p){var y=new e(t),m=y;p&&p._pushContext(),y._captureStackTrace(),p&&p._popContext();var g=!0,v=n.tryCatch(h).call(f,x,b);g=!1,y&&v===r&&(y._rejectCallback(v.e,!0,!0),y=null);function x(w){y&&(y._resolveCallback(w),y=null)}function b(w){y&&(y._rejectCallback(w,g,!0),y=null)}return m}return s}),lS}var uS,UU;function $Oe(){return UU||(UU=1,uS=function(e,t,n,r,i){var s=Pr();s.isArray;function o(l){switch(l){case-2:return[];case-3:return{}}}function c(l){var u=this._promise=new e(t);l instanceof e&&u._propagateFrom(l,3),u._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(c,i),c.prototype.length=function(){return this._length},c.prototype.promise=function(){return this._promise},c.prototype._init=function l(u,d){var f=n(this._values,this._promise);if(f instanceof e){f=f._target();var h=f._bitField;if(this._values=f,h&50397184)if(h&33554432)f=f._value();else return h&16777216?this._reject(f._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,d)}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){d===-5?this._resolveEmptyArray():this._resolve(o(d));return}this._iterate(f)},c.prototype._iterate=function(l){var u=this.getActualLength(l.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var d=this._promise,f=!1,h=null,p=0;p<u;++p){var y=n(l[p],d);y instanceof e?(y=y._target(),h=y._bitField):h=null,f?h!==null&&y.suppressUnhandledRejections():h!==null?h&50397184?h&33554432?f=this._promiseFulfilled(y._value(),p):h&16777216?f=this._promiseRejected(y._reason(),p):f=this._promiseCancelled(p):(y._proxy(this,p),this._values[p]=y):f=this._promiseFulfilled(y,p)}f||d._setAsyncGuaranteed()},c.prototype._isResolved=function(){return this._values===null},c.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},c.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},c.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},c.prototype._promiseFulfilled=function(l,u){this._values[u]=l;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},c.prototype._promiseCancelled=function(){return this._cancel(),!0},c.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},c.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof e)l.cancel();else for(var u=0;u<l.length;++u)l[u]instanceof e&&l[u].cancel()}},c.prototype.shouldCopyValues=function(){return!0},c.prototype.getActualLength=function(l){return l},c}),uS}var dS,LU;function HOe(){return LU||(LU=1,dS=function(e){var t=!1,n=[];e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var o=n.pop(),c=o._promiseCreated;return o._promiseCreated=null,c}return null};function i(){if(t)return new r}function s(){var o=n.length-1;if(o>=0)return n[o]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var o=e.prototype._pushContext,c=e.prototype._popContext,l=e._peekContext,u=e.prototype._peekContext,d=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=o,e.prototype._popContext=c,e._peekContext=l,e.prototype._peekContext=u,e.prototype._promiseCreated=d,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=s,e.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),dS}var fS,MU;function GOe(){return MU||(MU=1,fS=function(e,t){var n=e._getDomain,r=e._async,i=Af().Warning,s=Pr(),o=s.canAttachTrace,c,l,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,y=!1,m,g=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),v=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(g||s.env("BLUEBIRD_WARNINGS"))),x=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(g||s.env("BLUEBIRD_LONG_STACK_TRACES"))),b=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(v||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var oe=this._target();oe._bitField=oe._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){Y("rejectionHandled",c,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var oe=this._settledValue();this._setUnhandledRejectionIsNotified(),Y("unhandledRejection",l,oe,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},e.prototype._warn=function(oe,le,ae){return K(oe,le,ae||this)},e.onPossiblyUnhandledRejection=function(oe){var le=n();l=typeof oe=="function"?le===null?oe:s.domainBind(le,oe):void 0},e.onUnhandledRejectionHandled=function(oe){var le=n();c=typeof oe=="function"?le===null?oe:s.domainBind(le,oe):void 0};var w=function(){};e.longStackTraces=function(){if(r.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!te.longStackTraces&&_e()){var oe=e.prototype._captureStackTrace,le=e.prototype._attachExtraTrace;te.longStackTraces=!0,w=function(){if(r.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);e.prototype._captureStackTrace=oe,e.prototype._attachExtraTrace=le,t.deactivateLongStackTraces(),r.enableTrampoline(),te.longStackTraces=!1},e.prototype._captureStackTrace=W,e.prototype._attachExtraTrace=F,t.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return te.longStackTraces&&_e()};var T=function(){try{if(typeof CustomEvent=="function"){var oe=new CustomEvent("CustomEvent");return s.global.dispatchEvent(oe),function(le,ae){var Te=new CustomEvent(le.toLowerCase(),{detail:ae,cancelable:!0});return!s.global.dispatchEvent(Te)}}else if(typeof Event=="function"){var oe=new Event("CustomEvent");return s.global.dispatchEvent(oe),function(ae,Te){var Ue=new Event(ae.toLowerCase(),{cancelable:!0});return Ue.detail=Te,!s.global.dispatchEvent(Ue)}}else{var oe=document.createEvent("CustomEvent");return oe.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(oe),function(ae,Te){var Ue=document.createEvent("CustomEvent");return Ue.initCustomEvent(ae.toLowerCase(),!1,!0,Te),!s.global.dispatchEvent(Ue)}}}catch{}return function(){return!1}}(),C=function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(oe){var le="on"+oe.toLowerCase(),ae=s.global[le];return ae?(ae.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function _(oe,le){return{promise:le}}var N={promiseCreated:_,promiseFulfilled:_,promiseRejected:_,promiseResolved:_,promiseCancelled:_,promiseChained:function(oe,le,ae){return{promise:le,child:ae}},warning:function(oe,le){return{warning:le}},unhandledRejection:function(oe,le,ae){return{reason:le,promise:ae}},rejectionHandled:_},k=function(oe){var le=!1;try{le=C.apply(null,arguments)}catch(Te){r.throwLater(Te),le=!0}var ae=!1;try{ae=T(oe,N[oe].apply(null,arguments))}catch(Te){r.throwLater(Te),ae=!0}return ae||le};e.config=function(oe){if(oe=Object(oe),"longStackTraces"in oe&&(oe.longStackTraces?e.longStackTraces():!oe.longStackTraces&&e.hasLongStackTraces()&&w()),"warnings"in oe){var le=oe.warnings;te.warnings=!!le,b=te.warnings,s.isObject(le)&&"wForgottenReturn"in le&&(b=!!le.wForgottenReturn)}if("cancellation"in oe&&oe.cancellation&&!te.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=V,e.prototype._propagateFrom=M,e.prototype._onCancel=I,e.prototype._setOnCancel=R,e.prototype._attachCancellationCallback=E,e.prototype._execute=D,G=M,te.cancellation=!0}return"monitoring"in oe&&(oe.monitoring&&!te.monitoring?(te.monitoring=!0,e.prototype._fireEvent=k):!oe.monitoring&&te.monitoring&&(te.monitoring=!1,e.prototype._fireEvent=j)),e};function j(){return!1}e.prototype._fireEvent=j,e.prototype._execute=function(oe,le,ae){try{oe(le,ae)}catch(Te){return Te}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(oe){},e.prototype._attachCancellationCallback=function(oe){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(oe,le){};function D(oe,le,ae){var Te=this;try{oe(le,ae,function(Ue){if(typeof Ue!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ue));Te._attachCancellationCallback(Ue)})}catch(Ue){return Ue}}function E(oe){if(!this._isCancellable())return this;var le=this._onCancel();le!==void 0?s.isArray(le)?le.push(oe):this._setOnCancel([le,oe]):this._setOnCancel(oe)}function I(){return this._onCancelField}function R(oe){this._onCancelField=oe}function V(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(oe,le){if(le&1){this._cancellationParent=oe;var ae=oe._branchesRemainingToCancel;ae===void 0&&(ae=0),oe._branchesRemainingToCancel=ae+1}le&2&&oe._isBound()&&this._setBoundTo(oe._boundTo)}function H(oe,le){le&2&&oe._isBound()&&this._setBoundTo(oe._boundTo)}var G=H;function P(){var oe=this._boundTo;return oe!==void 0&&oe instanceof e?oe.isFulfilled()?oe.value():void 0:oe}function W(){this._trace=new X(this._peekContext())}function F(oe,le){if(o(oe)){var ae=this._trace;if(ae!==void 0&&le&&(ae=ae._parent),ae!==void 0)ae.attachExtraTrace(oe);else if(!oe.__stackCleaned__){var Te=ye(oe);s.notEnumerableProp(oe,"stack",Te.message+`
`+Te.stack.join(`
`)),s.notEnumerableProp(oe,"__stackCleaned__",!0)}}}function O(oe,le,ae,Te,Ue){if(oe===void 0&&le!==null&&b){if(Ue!==void 0&&Ue._returnedNonUndefined()||!(Te._bitField&65535))return;ae&&(ae=ae+" ");var qe="",nt="";if(le._trace){for(var Oe=le._trace.stack.split(`
`),Le=pe(Oe),Ze=Le.length-1;Ze>=0;--Ze){var it=Le[Ze];if(!d.test(it)){var Dt=it.match(f);Dt&&(qe="at "+Dt[1]+":"+Dt[2]+":"+Dt[3]+" ");break}}if(Le.length>0){for(var $t=Le[0],Ze=0;Ze<Oe.length;++Ze)if(Oe[Ze]===$t){Ze>0&&(nt=`
`+Oe[Ze-1]);break}}}var Pt="a promise was created in a "+ae+"handler "+qe+"but was not returned from it, see http://goo.gl/rRqMUw"+nt;Te._warn(Pt,!0,le)}}function L(oe,le){var ae=oe+" is deprecated and will be removed in a future version.";return le&&(ae+=" Use "+le+" instead."),K(ae)}function K(oe,le,ae){if(te.warnings){var Te=new i(oe),Ue;if(le)ae._attachExtraTrace(Te);else if(te.longStackTraces&&(Ue=e._peekContext()))Ue.attachExtraTrace(Te);else{var qe=ye(Te);Te.stack=qe.message+`
`+qe.stack.join(`
`)}k("warning",Te)||Fe(Te,"",!0)}}function Q(oe,le){for(var ae=0;ae<le.length-1;++ae)le[ae].push("From previous event:"),le[ae]=le[ae].join(`
`);return ae<le.length&&(le[ae]=le[ae].join(`
`)),oe+`
`+le.join(`
`)}function U(oe){for(var le=0;le<oe.length;++le)(oe[le].length===0||le+1<oe.length&&oe[le][0]===oe[le+1][0])&&(oe.splice(le,1),le--)}function Z(oe){for(var le=oe[0],ae=1;ae<oe.length;++ae){for(var Te=oe[ae],Ue=le.length-1,qe=le[Ue],nt=-1,Oe=Te.length-1;Oe>=0;--Oe)if(Te[Oe]===qe){nt=Oe;break}for(var Oe=nt;Oe>=0;--Oe){var Le=Te[Oe];if(le[Ue]===Le)le.pop(),Ue--;else break}le=Te}}function pe(oe){for(var le=[],ae=0;ae<oe.length;++ae){var Te=oe[ae],Ue=Te==="    (No stack trace)"||h.test(Te),qe=Ue&&Ee(Te);Ue&&!qe&&(y&&Te.charAt(0)!==" "&&(Te="    "+Te),le.push(Te))}return le}function me(oe){for(var le=oe.stack.replace(/\s+$/g,"").split(`
`),ae=0;ae<le.length;++ae){var Te=le[ae];if(Te==="    (No stack trace)"||h.test(Te))break}return ae>0&&oe.name!="SyntaxError"&&(le=le.slice(ae)),le}function ye(oe){var le=oe.stack,ae=oe.toString();return le=typeof le=="string"&&le.length>0?me(oe):["    (No stack trace)"],{message:ae,stack:oe.name=="SyntaxError"?le:pe(le)}}function Fe(oe,le,ae){if(typeof console<"u"){var Te;if(s.isObject(oe)){var Ue=oe.stack;Te=le+p(Ue,oe)}else Te=le+String(oe);typeof m=="function"?m(Te,ae):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Te)}}function Y(oe,le,ae,Te){var Ue=!1;try{typeof le=="function"&&(Ue=!0,oe==="rejectionHandled"?le(Te):le(ae,Te))}catch(qe){r.throwLater(qe)}oe==="unhandledRejection"?!k(oe,ae,Te)&&!Ue&&Fe(ae,"Unhandled rejection "):k(oe,Te)}function ve(oe){var le;if(typeof oe=="function")le="[function "+(oe.name||"anonymous")+"]";else{le=oe&&typeof oe.toString=="function"?oe.toString():s.toString(oe);var ae=/\[object [a-zA-Z0-9$_]+\]/;if(ae.test(le))try{var Te=JSON.stringify(oe);le=Te}catch{}le.length===0&&(le="(empty array)")}return"(<"+B(le)+">, no stack trace)"}function B(oe){var le=41;return oe.length<le?oe:oe.substr(0,le-3)+"..."}function _e(){return typeof ue=="function"}var Ee=function(){return!1},se=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function J(oe){var le=oe.match(se);if(le)return{fileName:le[1],line:parseInt(le[2],10)}}function de(oe,le){if(_e()){for(var ae=oe.stack.split(`
`),Te=le.stack.split(`
`),Ue=-1,qe=-1,nt,Oe,Le=0;Le<ae.length;++Le){var Ze=J(ae[Le]);if(Ze){nt=Ze.fileName,Ue=Ze.line;break}}for(var Le=0;Le<Te.length;++Le){var Ze=J(Te[Le]);if(Ze){Oe=Ze.fileName,qe=Ze.line;break}}Ue<0||qe<0||!nt||!Oe||nt!==Oe||Ue>=qe||(Ee=function(it){if(u.test(it))return!0;var Dt=J(it);return!!(Dt&&Dt.fileName===nt&&Ue<=Dt.line&&Dt.line<=qe)})}}function X(oe){this._parent=oe,this._promisesCreated=0;var le=this._length=1+(oe===void 0?0:oe._length);ue(this,X),le>32&&this.uncycle()}s.inherits(X,Error),t.CapturedTrace=X,X.prototype.uncycle=function(){var oe=this._length;if(!(oe<2)){for(var le=[],ae={},Te=0,Ue=this;Ue!==void 0;++Te)le.push(Ue),Ue=Ue._parent;oe=this._length=Te;for(var Te=oe-1;Te>=0;--Te){var qe=le[Te].stack;ae[qe]===void 0&&(ae[qe]=Te)}for(var Te=0;Te<oe;++Te){var nt=le[Te].stack,Oe=ae[nt];if(Oe!==void 0&&Oe!==Te){Oe>0&&(le[Oe-1]._parent=void 0,le[Oe-1]._length=1),le[Te]._parent=void 0,le[Te]._length=1;var Le=Te>0?le[Te-1]:this;Oe<oe-1?(Le._parent=le[Oe+1],Le._parent.uncycle(),Le._length=Le._parent._length+1):(Le._parent=void 0,Le._length=1);for(var Ze=Le._length+1,it=Te-2;it>=0;--it)le[it]._length=Ze,Ze++;return}}}},X.prototype.attachExtraTrace=function(oe){if(!oe.__stackCleaned__){this.uncycle();for(var le=ye(oe),ae=le.message,Te=[le.stack],Ue=this;Ue!==void 0;)Te.push(pe(Ue.stack.split(`
`))),Ue=Ue._parent;Z(Te),U(Te),s.notEnumerableProp(oe,"stack",Q(ae,Te)),s.notEnumerableProp(oe,"__stackCleaned__",!0)}};var ue=function(){var le=/^\s*at\s*/,ae=function(nt,Oe){return typeof nt=="string"?nt:Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():ve(Oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=le,p=ae;var Te=Error.captureStackTrace;return Ee=function(nt){return u.test(nt)},function(nt,Oe){Error.stackTraceLimit+=6,Te(nt,Oe),Error.stackTraceLimit-=6}}var Ue=new Error;if(typeof Ue.stack=="string"&&Ue.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=ae,y=!0,function(Oe){Oe.stack=new Error().stack};var qe;try{throw new Error}catch(nt){qe="stack"in nt}return!("stack"in Ue)&&qe&&typeof Error.stackTraceLimit=="number"?(h=le,p=ae,function(Oe){Error.stackTraceLimit+=6;try{throw new Error}catch(Le){Oe.stack=Le.stack}Error.stackTraceLimit-=6}):(p=function(nt,Oe){return typeof nt=="string"?nt:(typeof Oe=="object"||typeof Oe=="function")&&Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():ve(Oe)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(m=function(oe){console.warn(oe)},s.isNode&&process.stderr.isTTY?m=function(oe,le){var ae=le?"\x1B[33m":"\x1B[31m";console.warn(ae+oe+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(m=function(oe,le){console.warn("%c"+oe,le?"color: darkorange":"color: red")}));var te={warnings:v,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&e.longStackTraces(),{longStackTraces:function(){return te.longStackTraces},warnings:function(){return te.warnings},cancellation:function(){return te.cancellation},monitoring:function(){return te.monitoring},propagateFromFunction:function(){return G},boundValueFunction:function(){return P},checkForgottenReturns:O,setBounds:de,warn:K,deprecated:L,CapturedTrace:X,fireDomEvent:T,fireGlobalEvent:C}}),fS}var hS,BU;function QOe(){return BU||(BU=1,hS=function(e,t){var n=Pr(),r=e.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(f){this.finallyHandler=f}o.prototype._resultCancelled=function(){c(this.finallyHandler)};function c(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return d.call(this,this.promise._target()._settledValue())}function u(f){if(!c(this,f))return i.e=f,i}function d(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var y=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(y!==void 0){h._setReturnedNonUndefined();var m=t(y,h);if(m instanceof e){if(this.cancelPromise!=null)if(m._isCancelled()){var g=new r("late cancellation observer");return h._attachExtraTrace(g),i.e=g,i}else m.isPending()&&m._attachCancellationCallback(new o(this));return m._then(l,u,void 0,this,void 0)}}}return h.isRejected()?(c(this),i.e=f,i):(c(this),f)}return e.prototype._passThrough=function(f,h,p,y){return typeof f!="function"?this.then():this._then(p,y,void 0,new s(this,h,f),void 0)},e.prototype.lastly=e.prototype.finally=function(f){return this._passThrough(f,0,d,d)},e.prototype.tap=function(f){return this._passThrough(f,1,d)},s}),hS}var pS,VU;function KOe(){return VU||(VU=1,pS=function(e){var t=Pr(),n=Y0().keys,r=t.tryCatch,i=t.errorObj;function s(o,c,l){return function(u){var d=l._boundValue();e:for(var f=0;f<o.length;++f){var h=o[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(u instanceof h)return r(c).call(d,u)}else if(typeof h=="function"){var p=r(h).call(d,u);if(p===i)return p;if(p)return r(c).call(d,u)}else if(t.isObject(u)){for(var y=n(h),m=0;m<y.length;++m){var g=y[m];if(h[g]!=u[g])continue e}return r(c).call(d,u)}}return e}}return s}),pS}var mS,WU;function fY(){if(WU)return mS;WU=1;var e=Pr(),t=e.maybeWrapAsError,n=Af(),r=n.OperationalError,i=Y0();function s(u){return u instanceof Error&&i.getPrototypeOf(u)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function c(u){var d;if(s(u)){d=new r(u),d.name=u.name,d.message=u.message,d.stack=u.stack;for(var f=i.keys(u),h=0;h<f.length;++h){var p=f[h];o.test(p)||(d[p]=u[p])}return d}return e.markAsOriginatingFromRejection(u),u}function l(u,d){return function(f,h){if(u!==null){if(f){var p=c(t(f));u._attachExtraTrace(p),u._reject(p)}else if(!d)u._fulfill(h);else{for(var y=arguments.length,m=new Array(Math.max(y-1,0)),g=1;g<y;++g)m[g-1]=arguments[g];u._fulfill(m)}u=null}}}return mS=l,mS}var gS,qU;function XOe(){return qU||(qU=1,gS=function(e,t,n,r,i){var s=Pr(),o=s.tryCatch;e.method=function(c){if(typeof c!="function")throw new e.TypeError("expecting a function but got "+s.classString(c));return function(){var l=new e(t);l._captureStackTrace(),l._pushContext();var u=o(c).apply(this,arguments),d=l._popContext();return i.checkForgottenReturns(u,d,"Promise.method",l),l._resolveFromSyncValue(u),l}},e.attempt=e.try=function(c){if(typeof c!="function")return r("expecting a function but got "+s.classString(c));var l=new e(t);l._captureStackTrace(),l._pushContext();var u;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],f=arguments[2];u=s.isArray(d)?o(c).apply(f,d):o(c).call(f,d)}else u=o(c)();var h=l._popContext();return i.checkForgottenReturns(u,h,"Promise.try",l),l._resolveFromSyncValue(u),l},e.prototype._resolveFromSyncValue=function(c){c===s.errorObj?this._rejectCallback(c.e,!1):this._resolveCallback(c,!0)}}),gS}var xS,zU;function YOe(){return zU||(zU=1,xS=function(e,t,n,r){var i=!1,s=function(u,d){this._reject(d)},o=function(u,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(s,s,null,this,u)},c=function(u,d){this._bitField&50397184||this._resolveCallback(d.target)},l=function(u,d){d.promiseRejectionQueued||this._reject(u)};e.prototype.bind=function(u){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var d=n(u),f=new e(t);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(d),d instanceof e){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:d};h._then(t,o,void 0,f,p),d._then(c,l,void 0,f,p),f._setOnCancel(d)}else f._resolveCallback(h);return f},e.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return(this._bitField&2097152)===2097152},e.bind=function(u,d){return e.resolve(d).bind(u)}}),xS}var vS,$U;function ZOe(){return $U||($U=1,vS=function(e,t,n,r){var i=Pr(),s=i.tryCatch,o=i.errorObj,c=e._async;e.prototype.break=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,u=l;l._isCancellable();){if(!l._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var d=l._cancellationParent;if(d==null||!d._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),u=l,l=d}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(l,u){if(i.isArray(l))for(var d=0;d<l.length;++d)this._doInvokeOnCancel(l[d],u);else if(l!==void 0)if(typeof l=="function"){if(!u){var f=s(l).call(this._boundValue());f===o&&(this._attachExtraTrace(f.e),c.throwLater(f.e))}}else l._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,l)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),vS}var yS,HU;function JOe(){return HU||(HU=1,yS=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},e.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),yS}var bS,GU;function eFe(){return GU||(GU=1,bS=function(e){function t(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=t.prototype.isPending=function(){return(this._bitField&50397184)===0},c=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return s.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return c.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}),bS}var wS,QU;function tFe(){return QU||(QU=1,wS=function(e,t,n,r,i,s){var o=Pr(),c=o.canEvaluate,l=o.tryCatch,u=o.errorObj,d;if(c){for(var f=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var b=new Array(x),w=0;w<b.length;++w)b[w]="this.p"+(w+1);var T=b.join(" = ")+" = null;",C=`var promise;
`+b.map(function(j){return`                                                         
	                promise = `+j+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),_=b.join(", "),N="Holder$"+x,k=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return k=k.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,_).replace(/\[TheProperties\]/g,T).replace(/\[CancellationCode\]/g,C),new Function("tryCatch","errorObj","Promise","async",k)(l,u,e,i)},y=[],m=[],g=[],v=0;v<8;++v)y.push(p(v+1)),m.push(f(v+1)),g.push(h(v+1));d=function(x){this._reject(x)}}e.join=function(){var x=arguments.length-1,b;if(x>0&&typeof arguments[x]=="function"&&(b=arguments[x],x<=8&&c)){var R=new e(r);R._captureStackTrace();for(var w=y[x-1],T=new w(b),C=m,_=0;_<x;++_){var N=n(arguments[_],R);if(N instanceof e){N=N._target();var k=N._bitField;k&50397184?k&33554432?C[_].call(R,N._value(),T):k&16777216?R._reject(N._reason()):R._cancel():(N._then(C[_],d,void 0,R,T),g[_](N,T),T.asyncNeeded=!1)}else C[_].call(R,N,T)}if(!R._isFateSealed()){if(T.asyncNeeded){var j=s();j!==null&&(T.fn=o.domainBind(j,T.fn))}R._setAsyncGuaranteed(),R._setOnCancel(T)}return R}for(var D=arguments.length,E=new Array(D),I=0;I<D;++I)E[I]=arguments[I];b&&E.pop();var R=new t(E).promise();return b!==void 0?R.spread(b):R}}),wS}var _S,KU;function nFe(){return KU||(KU=1,_S=function(e,t,n,r,i,s){var o=e._getDomain,c=Pr(),l=c.tryCatch,u=c.errorObj,d=e._async;function f(p,y,m,g){this.constructor$(p),this._promise._captureStackTrace();var v=o();this._callback=v===null?y:c.domainBind(v,y),this._preservedValues=g===i?new Array(this.length()):null,this._limit=m,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}c.inherits(f,t),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,y){var m=this._values,g=this.length(),v=this._preservedValues,x=this._limit;if(y<0){if(y=y*-1-1,m[y]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return m[y]=p,this._queue.push(y),!1;v!==null&&(v[y]=p);var b=this._promise,w=this._callback,T=b._boundValue();b._pushContext();var C=l(w).call(T,p,y,g),_=b._popContext();if(s.checkForgottenReturns(C,_,v!==null?"Promise.filter":"Promise.map",b),C===u)return this._reject(C.e),!0;var N=r(C,this._promise);if(N instanceof e){N=N._target();var k=N._bitField;if(k&50397184)if(k&33554432)C=N._value();else return k&16777216?(this._reject(N._reason()),!0):(this._cancel(),!0);else return x>=1&&this._inFlight++,m[y]=N,N._proxy(this,(y+1)*-1),!1}m[y]=C}var j=++this._totalResolved;return j>=g?(v!==null?this._filter(m,v):this._resolve(m),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,y=this._limit,m=this._values;p.length>0&&this._inFlight<y;){if(this._isResolved())return;var g=p.pop();this._promiseFulfilled(m[g],g)}},f.prototype._filter=function(p,y){for(var m=y.length,g=new Array(m),v=0,x=0;x<m;++x)p[x]&&(g[v++]=y[x]);g.length=v,this._resolve(g)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,y,m,g){if(typeof y!="function")return n("expecting a function but got "+c.classString(y));var v=0;if(m!==void 0)if(typeof m=="object"&&m!==null){if(typeof m.concurrency!="number")return e.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(m.concurrency)));v=m.concurrency}else return e.reject(new TypeError("options argument must be an object but it is "+c.classString(m)));return v=typeof v=="number"&&isFinite(v)&&v>=1?v:0,new f(p,y,v,g).promise()}e.prototype.map=function(p,y){return h(this,p,y,null)},e.map=function(p,y,m,g){return h(p,y,m,g)}}),_S}var TS,XU;function rFe(){if(XU)return TS;XU=1;var e=Object.create;if(e){var t=e(null),n=e(null);t[" size"]=n[" size"]=0}return TS=function(r){var i=Pr(),s=i.canEvaluate,o=i.isIdentifier,c,l;{var u=function(g){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,g))(h)},d=function(g){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",g))},f=function(g,v,x){var b=x[g];if(typeof b!="function"){if(!o(g))return null;if(b=v(g),x[g]=b,x[" size"]++,x[" size"]>512){for(var w=Object.keys(x),T=0;T<256;++T)delete x[w[T]];x[" size"]=w.length-256}}return b};c=function(g){return f(g,u,t)},l=function(g){return f(g,d,n)}}function h(g,v){var x;if(g!=null&&(x=g[v]),typeof x!="function"){var b="Object "+i.classString(g)+" has no method '"+i.toString(v)+"'";throw new r.TypeError(b)}return x}function p(g){var v=this.pop(),x=h(g,v);return x.apply(g,this)}r.prototype.call=function(g){for(var v=arguments.length,x=new Array(Math.max(v-1,0)),b=1;b<v;++b)x[b-1]=arguments[b];if(s){var w=c(g);if(w!==null)return this._then(w,void 0,void 0,x,void 0)}return x.push(g),this._then(p,void 0,void 0,x,void 0)};function y(g){return g[this]}function m(g){var v=+this;return v<0&&(v=Math.max(0,v+g.length)),g[v]}r.prototype.get=function(g){var v=typeof g=="number",x;if(v)x=m;else if(s){var b=l(g);x=b!==null?b:y}else x=y;return this._then(x,void 0,void 0,g,void 0)}},TS}var ES,YU;function iFe(){return YU||(YU=1,ES=function(e,t,n,r,i,s){var o=Pr(),c=Af().TypeError,l=Pr().inherits,u=o.errorObj,d=o.tryCatch,f={};function h(b){setTimeout(function(){throw b},0)}function p(b){var w=n(b);return w!==b&&typeof b._isDisposable=="function"&&typeof b._getDisposer=="function"&&b._isDisposable()&&w._setDisposable(b._getDisposer()),w}function y(b,w){var T=0,C=b.length,_=new e(i);function N(){if(T>=C)return _._fulfill();var k=p(b[T++]);if(k instanceof e&&k._isDisposable()){try{k=n(k._getDisposer().tryDispose(w),b.promise)}catch(j){return h(j)}if(k instanceof e)return k._then(N,h,null,null,null)}N()}return N(),_}function m(b,w,T){this._data=b,this._promise=w,this._context=T}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},m.prototype.tryDispose=function(b){var w=this.resource(),T=this._context;T!==void 0&&T._pushContext();var C=w!==f?this.doDispose(w,b):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,C},m.isDisposer=function(b){return b!=null&&typeof b.resource=="function"&&typeof b.tryDispose=="function"};function g(b,w,T){this.constructor$(b,w,T)}l(g,m),g.prototype.doDispose=function(b,w){var T=this.data();return T.call(b,b,w)};function v(b){return m.isDisposer(b)?(this.resources[this.index]._setDisposable(b),b.promise()):b}function x(b){this.length=b,this.promise=null,this[b-1]=null}x.prototype._resultCancelled=function(){for(var b=this.length,w=0;w<b;++w){var T=this[w];T instanceof e&&T.cancel()}},e.using=function(){var b=arguments.length;if(b<2)return t("you must pass at least 2 arguments to Promise.using");var w=arguments[b-1];if(typeof w!="function")return t("expecting a function but got "+o.classString(w));var T,C=!0;b===2&&Array.isArray(arguments[0])?(T=arguments[0],b=T.length,C=!1):(T=arguments,b--);for(var _=new x(b),N=0;N<b;++N){var k=T[N];if(m.isDisposer(k)){var j=k;k=k.promise(),k._setDisposable(j)}else{var D=n(k);D instanceof e&&(k=D._then(v,null,null,{resources:_,index:N},void 0))}_[N]=k}for(var E=new Array(_.length),N=0;N<E.length;++N)E[N]=e.resolve(_[N]).reflect();var I=e.all(E).then(function(V){for(var M=0;M<V.length;++M){var H=V[M];if(H.isRejected())return u.e=H.error(),u;if(!H.isFulfilled()){I.cancel();return}V[M]=H.value()}R._pushContext(),w=d(w);var G=C?w.apply(void 0,V):w(V),P=R._popContext();return s.checkForgottenReturns(G,P,"Promise.using",R),G}),R=I.lastly(function(){var V=new e.PromiseInspection(I);return y(_,V)});return _.promise=R,R._setOnCancel(_),R},e.prototype._setDisposable=function(b){this._bitField=this._bitField|131072,this._disposer=b},e.prototype._isDisposable=function(){return(this._bitField&131072)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(b){if(typeof b=="function")return new g(b,this,r());throw new c}}),ES}var NS,ZU;function sFe(){return ZU||(ZU=1,NS=function(e,t,n){var r=Pr(),i=e.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(f){return c(+this).thenReturn(f)},c=e.delay=function(f,h){var p,y;return h!==void 0?(p=e.resolve(h)._then(o,null,null,f,void 0),n.cancellation()&&h instanceof e&&p._setOnCancel(h)):(p=new e(t),y=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(y)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};e.prototype.delay=function(f){return c(f,this)};var l=function(f,h,p){var y;typeof h!="string"?h instanceof Error?y=h:y=new i("operation timed out"):y=new i(h),r.markAsOriginatingFromRejection(y),f._attachExtraTrace(y),f._reject(y),p!=null&&p.cancel()};function u(f){return clearTimeout(this.handle),f}function d(f){throw clearTimeout(this.handle),f}e.prototype.timeout=function(f,h){f=+f;var p,y,m=new s(setTimeout(function(){p.isPending()&&l(p,h,y)},f));return n.cancellation()?(y=this.then(),p=y._then(u,d,void 0,m,void 0),p._setOnCancel(m)):p=this._then(u,d,void 0,m,void 0),p}}),NS}var SS,JU;function aFe(){return JU||(JU=1,SS=function(e,t,n,r,i,s){var o=Af(),c=o.TypeError,l=Pr(),u=l.errorObj,d=l.tryCatch,f=[];function h(y,m,g){for(var v=0;v<m.length;++v){g._pushContext();var x=d(m[v])(y);if(g._popContext(),x===u){g._pushContext();var b=e.reject(u.e);return g._popContext(),b}var w=r(x,g);if(w instanceof e)return w}return null}function p(y,m,g,v){if(s.cancellation()){var x=new e(n),b=this._finallyPromise=new e(n);this._promise=x.lastly(function(){return b}),x._captureStackTrace(),x._setOnCancel(this)}else{var w=this._promise=new e(n);w._captureStackTrace()}this._stack=v,this._generatorFunction=y,this._receiver=m,this._generator=void 0,this._yieldHandlers=typeof g=="function"?[g].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var y=typeof this._generator.return<"u",m;if(y)this._promise._pushContext(),m=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var g=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=g,this._promise._attachExtraTrace(g),this._promise._pushContext(),m=d(this._generator.throw).call(this._generator,g),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(m)}},p.prototype._promiseFulfilled=function(y){this._yieldedPromise=null,this._promise._pushContext();var m=d(this._generator.next).call(this._generator,y);this._promise._popContext(),this._continue(m)},p.prototype._promiseRejected=function(y){this._yieldedPromise=null,this._promise._attachExtraTrace(y),this._promise._pushContext();var m=d(this._generator.throw).call(this._generator,y);this._promise._popContext(),this._continue(m)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var y=this._yieldedPromise;this._yieldedPromise=null,y.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(y){var m=this._promise;if(y===u)return this._cleanup(),this._cancellationPhase?m.cancel():m._rejectCallback(y.e,!1);var g=y.value;if(y.done===!0)return this._cleanup(),this._cancellationPhase?m.cancel():m._resolveCallback(g);var v=r(g,this._promise);if(!(v instanceof e)&&(v=h(v,this._yieldHandlers,this._promise),v===null)){this._promiseRejected(new c(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",g)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}v=v._target();var x=v._bitField;x&50397184?x&33554432?e._async.invoke(this._promiseFulfilled,this,v._value()):x&16777216?e._async.invoke(this._promiseRejected,this,v._reason()):this._promiseCancelled():(this._yieldedPromise=v,v._proxy(this,null))},e.coroutine=function(y,m){if(typeof y!="function")throw new c(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=Object(m).yieldHandler,v=p,x=new Error().stack;return function(){var b=y.apply(this,arguments),w=new v(void 0,void 0,g,x),T=w.promise();return w._generator=b,w._promiseFulfilled(void 0),T}},e.coroutine.addYieldHandler=function(y){if(typeof y!="function")throw new c("expecting a function but got "+l.classString(y));f.push(y)},e.spawn=function(y){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof y!="function")return t(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=new p(y,this),g=m.promise();return m._run(e.spawn),g}}),SS}var CS,eL;function oFe(){return eL||(eL=1,CS=function(e){var t=Pr(),n=e._async,r=t.tryCatch,i=t.errorObj;function s(l,u){var d=this;if(!t.isArray(l))return o.call(d,l,u);var f=r(u).apply(d._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function o(l,u){var d=this,f=d._boundValue(),h=l===void 0?r(u).call(f,null):r(u).call(f,null,l);h===i&&n.throwLater(h.e)}function c(l,u){var d=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(u).call(d._boundValue(),l);h===i&&n.throwLater(h.e)}e.prototype.asCallback=e.prototype.nodeify=function(l,u){if(typeof l=="function"){var d=o;u!==void 0&&Object(u).spread&&(d=s),this._then(d,c,void 0,this,l)}return this}}),CS}var kS,tL;function cFe(){return tL||(tL=1,kS=function(e,t){var n={},r=Pr(),i=fY(),s=r.withAppended,o=r.maybeWrapAsError,c=r.canEvaluate,l=Af().TypeError,u="Async",d={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(I){return r.isIdentifier(I)&&I.charAt(0)!=="_"&&I!=="constructor"};function y(I){return!h.test(I)}function m(I){try{return I.__isPromisified__===!0}catch{return!1}}function g(I,R,V){var M=r.getDataPropertyOrDefault(I,R+V,d);return M?m(M):!1}function v(I,R,V){for(var M=0;M<I.length;M+=2){var H=I[M];if(V.test(H)){for(var G=H.replace(V,""),P=0;P<I.length;P+=2)if(I[P]===G)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",R))}}}function x(I,R,V,M){for(var H=r.inheritedDataKeys(I),G=[],P=0;P<H.length;++P){var W=H[P],F=I[W],O=M===p?!0:p(W);typeof F=="function"&&!m(F)&&!g(I,W,R)&&M(W,F,I,O)&&G.push(W,F)}return v(G,R,V),G}var b=function(I){return I.replace(/([$])/,"\\$")},w;{var T=function(I){for(var R=[I],V=Math.max(0,I-1-3),M=I-1;M>=V;--M)R.push(M);for(var M=I+1;M<=3;++M)R.push(M);return R},C=function(I){return r.filledRange(I,"_arg","")},_=function(I){return r.filledRange(Math.max(I,3),"_arg","")},N=function(I){return typeof I.length=="number"?Math.max(Math.min(I.length,1024),0):0};w=function(I,R,V,M,H,G){var P=Math.max(0,N(M)-1),W=T(P),F=typeof I=="string"||R===n;function O(U){var Z=C(U).join(", "),pe=U>0?", ":"",me;return F?me=`ret = callback.call(this, {{args}}, nodeback); break;
`:me=R===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,me.replace("{{args}}",Z).replace(", ",pe)}function L(){for(var U="",Z=0;Z<W.length;++Z)U+="case "+W[Z]+":"+O(W[Z]);return U+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",F?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),U}var K=typeof I=="string"?"this != null ? this['"+I+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+G+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",L()).replace("[GetFunctionCode]",K);return Q=Q.replace("Parameters",_(P)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(e,M,R,s,o,i,r.tryCatch,r.errorObj,r.notEnumerableProp,t)}}function k(I,R,V,M,H,G){var P=function(){return this}(),W=I;typeof W=="string"&&(I=M);function F(){var O=R;R===n&&(O=this);var L=new e(t);L._captureStackTrace();var K=typeof W=="string"&&this!==P?this[W]:I,Q=i(L,G);try{K.apply(O,s(arguments,Q))}catch(U){L._rejectCallback(o(U),!0,!0)}return L._isFateSealed()||L._setAsyncGuaranteed(),L}return r.notEnumerableProp(F,"__isPromisified__",!0),F}var j=c?w:k;function D(I,R,V,M,H){for(var G=new RegExp(b(R)+"$"),P=x(I,R,G,V),W=0,F=P.length;W<F;W+=2){var O=P[W],L=P[W+1],K=O+R;if(M===j)I[K]=j(O,n,O,L,R,H);else{var Q=M(L,function(){return j(O,n,O,L,R,H)});r.notEnumerableProp(Q,"__isPromisified__",!0),I[K]=Q}}return r.toFastProperties(I),I}function E(I,R,V){return j(I,R,void 0,I,null,V)}e.promisify=function(I,R){if(typeof I!="function")throw new l("expecting a function but got "+r.classString(I));if(m(I))return I;R=Object(R);var V=R.context===void 0?n:R.context,M=!!R.multiArgs,H=E(I,V,M);return r.copyDescriptors(I,H,y),H},e.promisifyAll=function(I,R){if(typeof I!="function"&&typeof I!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);R=Object(R);var V=!!R.multiArgs,M=R.suffix;typeof M!="string"&&(M=u);var H=R.filter;typeof H!="function"&&(H=p);var G=R.promisifier;if(typeof G!="function"&&(G=j),!r.isIdentifier(M))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var P=r.inheritedDataKeys(I),W=0;W<P.length;++W){var F=I[P[W]];P[W]!=="constructor"&&r.isClass(F)&&(D(F.prototype,M,H,G,V),D(F,M,H,G,V))}return D(I,M,H,G,V)}}),kS}var AS,nL;function lFe(){return nL||(nL=1,AS=function(e,t,n,r){var i=Pr(),s=i.isObject,o=Y0(),c;typeof Map=="function"&&(c=Map);var l=function(){var h=0,p=0;function y(m,g){this[h]=m,this[h+p]=g,h++}return function(g){p=g.size,h=0;var v=new Array(g.size*2);return g.forEach(y,v),v}}(),u=function(h){for(var p=new c,y=h.length/2|0,m=0;m<y;++m){var g=h[y+m],v=h[m];p.set(g,v)}return p};function d(h){var p=!1,y;if(c!==void 0&&h instanceof c)y=l(h),p=!0;else{var m=o.keys(h),g=m.length;y=new Array(g*2);for(var v=0;v<g;++v){var x=m[v];y[v]=h[x],y[v+g]=x}}this.constructor$(y),this._isMap=p,this._init$(void 0,-3)}i.inherits(d,t),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var y=++this._totalResolved;if(y>=this._length){var m;if(this._isMap)m=u(this._values);else{m={};for(var g=this.length(),v=0,x=this.length();v<x;++v)m[this._values[v+g]]=this._values[v]}return this._resolve(m),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(h){return h>>1};function f(h){var p,y=n(h);if(s(y))y instanceof e?p=y._then(e.props,void 0,void 0,void 0,void 0):p=new d(y).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return y instanceof e&&p._propagateFrom(y,2),p}e.prototype.props=function(){return f(this)},e.props=function(h){return f(h)}}),AS}var DS,rL;function uFe(){return rL||(rL=1,DS=function(e,t,n,r){var i=Pr(),s=function(c){return c.then(function(l){return o(l,c)})};function o(c,l){var u=n(c);if(u instanceof e)return s(u);if(c=i.asArray(c),c===null)return r("expecting an array or an iterable object but got "+i.classString(c));var d=new e(t);l!==void 0&&d._propagateFrom(l,3);for(var f=d._fulfill,h=d._reject,p=0,y=c.length;p<y;++p){var m=c[p];m===void 0&&!(p in c)||e.cast(m)._then(f,h,void 0,d,null)}return d}e.race=function(c){return o(c,void 0)},e.prototype.race=function(){return o(this,void 0)}}),DS}var jS,iL;function dFe(){return iL||(iL=1,jS=function(e,t,n,r,i,s){var o=e._getDomain,c=Pr(),l=c.tryCatch;function u(y,m,g,v){this.constructor$(y);var x=o();this._fn=x===null?m:c.domainBind(x,m),g!==void 0&&(g=e.resolve(g),g._attachCancellationCallback(this)),this._initialValue=g,this._currentCancellable=null,v===i?this._eachValues=Array(this._length):v===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}c.inherits(u,t),u.prototype._gotAccum=function(y){this._eachValues!==void 0&&this._eachValues!==null&&y!==i&&this._eachValues.push(y)},u.prototype._eachComplete=function(y){return this._eachValues!==null&&this._eachValues.push(y),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(y){this._promise._resolveCallback(y),this._values=null},u.prototype._resultCancelled=function(y){if(y===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},u.prototype._iterate=function(y){this._values=y;var m,g,v=y.length;if(this._initialValue!==void 0?(m=this._initialValue,g=0):(m=e.resolve(y[0]),g=1),this._currentCancellable=m,!m.isRejected())for(;g<v;++g){var x={accum:null,value:y[g],index:g,length:v,array:this};m=m._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(m=m._then(this._eachComplete,void 0,void 0,this,void 0)),m._then(d,d,void 0,m,this)},e.prototype.reduce=function(y,m){return f(this,y,m,null)},e.reduce=function(y,m,g,v){return f(y,m,g,v)};function d(y,m){this.isFulfilled()?m._resolve(y):m._reject(y)}function f(y,m,g,v){if(typeof m!="function")return n("expecting a function but got "+c.classString(m));var x=new u(y,m,g,v);return x.promise()}function h(y){this.accum=y,this.array._gotAccum(y);var m=r(this.value,this.array._promise);return m instanceof e?(this.array._currentCancellable=m,m._then(p,void 0,void 0,this,void 0)):p.call(this,m)}function p(y){var m=this.array,g=m._promise,v=l(m._fn);g._pushContext();var x;m._eachValues!==void 0?x=v.call(g._boundValue(),y,this.index,this.length):x=v.call(g._boundValue(),this.accum,y,this.index,this.length),x instanceof e&&(m._currentCancellable=x);var b=g._popContext();return s.checkForgottenReturns(x,b,m._eachValues!==void 0?"Promise.each":"Promise.reduce",g),x}}),jS}var IS,sL;function fFe(){return sL||(sL=1,IS=function(e,t,n){var r=e.PromiseInspection,i=Pr();function s(o){this.constructor$(o)}i.inherits(s,t),s.prototype._promiseResolved=function(o,c){this._values[o]=c;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,c){var l=new r;return l._bitField=33554432,l._settledValueField=o,this._promiseResolved(c,l)},s.prototype._promiseRejected=function(o,c){var l=new r;return l._bitField=16777216,l._settledValueField=o,this._promiseResolved(c,l)},e.settle=function(o){return n.deprecated(".settle()",".reflect()"),new s(o).promise()},e.prototype.settle=function(){return e.settle(this)}}),IS}var RS,aL;function hFe(){return aL||(aL=1,RS=function(e,t,n){var r=Pr(),i=Af().RangeError,s=Af().AggregateError,o=r.isArray,c={};function l(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,t),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=o(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(d){this._howMany=d},l.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||this._values==null?this._cancel():(this._addRejected(c),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new s,f=this.length();f<this._values.length;++f)this._values[f]!==c&&d.push(this._values[f]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(d){this._values.push(d)},l.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(d){var f="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(d,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(d),p=h.promise();return h.setHowMany(f),h.init(),p}e.some=function(d,f){return u(d,f)},e.prototype.some=function(d){return u(this,d)},e._SomePromiseArray=l}),RS}var OS,oL;function pFe(){return oL||(oL=1,OS=function(e,t){var n=e.map;e.prototype.filter=function(r,i){return n(this,r,i,t)},e.filter=function(r,i,s){return n(r,i,s,t)}}),OS}var FS,cL;function mFe(){return cL||(cL=1,FS=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}function s(o,c){return n(o,c,t,t)}e.prototype.each=function(o){return n(this,o,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(o){return n(this,o,t,t)},e.each=function(o,c){return n(o,c,t,0)._then(i,void 0,void 0,o,void 0)},e.mapSeries=s}),FS}var PS,lL;function gFe(){return lL||(lL=1,PS=function(e){var t=e._SomePromiseArray;function n(r){var i=new t(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}e.any=function(r){return n(r)},e.prototype.any=function(){return n(this)}}),PS}(function(e){e.exports=function(){var t=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new E.PromiseInspection(this._target())},r=function(M){return E.reject(new h(M))};function i(){}var s={},o=Pr(),c;o.isNode?c=function(){var M=process.domain;return M===void 0&&(M=null),M}:c=function(){return null},o.notEnumerableProp(E,"_getDomain",c);var l=Y0(),u=qOe(),d=new u;l.defineProperty(E,"_async",{value:d});var f=Af(),h=E.TypeError=f.TypeError;E.RangeError=f.RangeError;var p=E.CancellationError=f.CancellationError;E.TimeoutError=f.TimeoutError,E.OperationalError=f.OperationalError,E.RejectionError=f.OperationalError,E.AggregateError=f.AggregateError;var y=function(){},m={},g={},v=zOe()(E,y),x=$Oe()(E,y,v,r,i),b=HOe()(E),w=b.create,T=GOe()(E,b);T.CapturedTrace;var C=QOe()(E,v),_=KOe()(g),N=fY(),k=o.errorObj,j=o.tryCatch;function D(M,H){if(typeof H!="function")throw new h("expecting a function but got "+o.classString(H));if(M.constructor!==E)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function E(M){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,M!==y&&(D(this,M),this._resolveFromExecutor(M)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}E.prototype.toString=function(){return"[object Promise]"},E.prototype.caught=E.prototype.catch=function(M){var H=arguments.length;if(H>1){var G=new Array(H-1),P=0,W;for(W=0;W<H-1;++W){var F=arguments[W];if(o.isObject(F))G[P++]=F;else return r("expecting an object but got A catch statement predicate "+o.classString(F))}return G.length=P,M=arguments[W],this.then(void 0,_(G,M,this))}return this.then(void 0,M)},E.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},E.prototype.then=function(M,H){if(T.warnings()&&arguments.length>0&&typeof M!="function"&&typeof H!="function"){var G=".then() only accepts functions but was passed: "+o.classString(M);arguments.length>1&&(G+=", "+o.classString(H)),this._warn(G)}return this._then(M,H,void 0,void 0,void 0)},E.prototype.done=function(M,H){var G=this._then(M,H,void 0,void 0,void 0);G._setIsFinal()},E.prototype.spread=function(M){return typeof M!="function"?r("expecting a function but got "+o.classString(M)):this.all()._then(M,void 0,void 0,m,void 0)},E.prototype.toJSON=function(){var M={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(M.fulfillmentValue=this.value(),M.isFulfilled=!0):this.isRejected()&&(M.rejectionReason=this.reason(),M.isRejected=!0),M},E.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},E.prototype.error=function(M){return this.caught(o.originatesFromRejection,M)},E.getNewLibraryCopy=e.exports,E.is=function(M){return M instanceof E},E.fromNode=E.fromCallback=function(M){var H=new E(y);H._captureStackTrace();var G=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,P=j(M)(N(H,G));return P===k&&H._rejectCallback(P.e,!0),H._isFateSealed()||H._setAsyncGuaranteed(),H},E.all=function(M){return new x(M).promise()},E.cast=function(M){var H=v(M);return H instanceof E||(H=new E(y),H._captureStackTrace(),H._setFulfilled(),H._rejectionHandler0=M),H},E.resolve=E.fulfilled=E.cast,E.reject=E.rejected=function(M){var H=new E(y);return H._captureStackTrace(),H._rejectCallback(M,!0),H},E.setScheduler=function(M){if(typeof M!="function")throw new h("expecting a function but got "+o.classString(M));return d.setScheduler(M)},E.prototype._then=function(M,H,G,P,W){var F=W!==void 0,O=F?W:new E(y),L=this._target(),K=L._bitField;F||(O._propagateFrom(this,3),O._captureStackTrace(),P===void 0&&this._bitField&2097152&&(K&50397184?P=this._boundValue():P=L===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,O));var Q=c();if(K&50397184){var U,Z,pe=L._settlePromiseCtx;K&33554432?(Z=L._rejectionHandler0,U=M):K&16777216?(Z=L._fulfillmentHandler0,U=H,L._unsetRejectionIsUnhandled()):(pe=L._settlePromiseLateCancellationObserver,Z=new p("late cancellation observer"),L._attachExtraTrace(Z),U=H),d.invoke(pe,L,{handler:Q===null?U:typeof U=="function"&&o.domainBind(Q,U),promise:O,receiver:P,value:Z})}else L._addCallbacks(M,H,O,P,Q);return O},E.prototype._length=function(){return this._bitField&65535},E.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},E.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},E.prototype._setLength=function(M){this._bitField=this._bitField&-65536|M&65535},E.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},E.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},E.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},E.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},E.prototype._isFinal=function(){return(this._bitField&4194304)>0},E.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},E.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},E.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},E.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},E.prototype._receiverAt=function(M){var H=M===0?this._receiver0:this[M*4-4+3];if(H!==s)return H===void 0&&this._isBound()?this._boundValue():H},E.prototype._promiseAt=function(M){return this[M*4-4+2]},E.prototype._fulfillmentHandlerAt=function(M){return this[M*4-4+0]},E.prototype._rejectionHandlerAt=function(M){return this[M*4-4+1]},E.prototype._boundValue=function(){},E.prototype._migrateCallback0=function(M){M._bitField;var H=M._fulfillmentHandler0,G=M._rejectionHandler0,P=M._promise0,W=M._receiverAt(0);W===void 0&&(W=s),this._addCallbacks(H,G,P,W,null)},E.prototype._migrateCallbackAt=function(M,H){var G=M._fulfillmentHandlerAt(H),P=M._rejectionHandlerAt(H),W=M._promiseAt(H),F=M._receiverAt(H);F===void 0&&(F=s),this._addCallbacks(G,P,W,F,null)},E.prototype._addCallbacks=function(M,H,G,P,W){var F=this._length();if(F>=65531&&(F=0,this._setLength(0)),F===0)this._promise0=G,this._receiver0=P,typeof M=="function"&&(this._fulfillmentHandler0=W===null?M:o.domainBind(W,M)),typeof H=="function"&&(this._rejectionHandler0=W===null?H:o.domainBind(W,H));else{var O=F*4-4;this[O+2]=G,this[O+3]=P,typeof M=="function"&&(this[O+0]=W===null?M:o.domainBind(W,M)),typeof H=="function"&&(this[O+1]=W===null?H:o.domainBind(W,H))}return this._setLength(F+1),F},E.prototype._proxy=function(M,H){this._addCallbacks(void 0,void 0,H,M,null)},E.prototype._resolveCallback=function(M,H){if(!(this._bitField&117506048)){if(M===this)return this._rejectCallback(t(),!1);var G=v(M,this);if(!(G instanceof E))return this._fulfill(M);H&&this._propagateFrom(G,2);var P=G._target();if(P===this){this._reject(t());return}var W=P._bitField;if(W&50397184)if(W&33554432)this._fulfill(P._value());else if(W&16777216)this._reject(P._reason());else{var L=new p("late cancellation observer");P._attachExtraTrace(L),this._reject(L)}else{var F=this._length();F>0&&P._migrateCallback0(this);for(var O=1;O<F;++O)P._migrateCallbackAt(this,O);this._setFollowing(),this._setLength(0),this._setFollowee(P)}}},E.prototype._rejectCallback=function(M,H,G){var P=o.ensureErrorObject(M),W=P===M;if(!W&&!G&&T.warnings()){var F="a promise was rejected with a non-error: "+o.classString(M);this._warn(F,!0)}this._attachExtraTrace(P,H?W:!1),this._reject(M)},E.prototype._resolveFromExecutor=function(M){var H=this;this._captureStackTrace(),this._pushContext();var G=!0,P=this._execute(M,function(W){H._resolveCallback(W)},function(W){H._rejectCallback(W,G)});G=!1,this._popContext(),P!==void 0&&H._rejectCallback(P,!0)},E.prototype._settlePromiseFromHandler=function(M,H,G,P){var W=P._bitField;if(!(W&65536)){P._pushContext();var F;H===m?!G||typeof G.length!="number"?(F=k,F.e=new h("cannot .spread() a non-array: "+o.classString(G))):F=j(M).apply(this._boundValue(),G):F=j(M).call(H,G);var O=P._popContext();W=P._bitField,!(W&65536)&&(F===g?P._reject(G):F===k?P._rejectCallback(F.e,!1):(T.checkForgottenReturns(F,O,"",P,this),P._resolveCallback(F)))}},E.prototype._target=function(){for(var M=this;M._isFollowing();)M=M._followee();return M},E.prototype._followee=function(){return this._rejectionHandler0},E.prototype._setFollowee=function(M){this._rejectionHandler0=M},E.prototype._settlePromise=function(M,H,G,P){var W=M instanceof E,F=this._bitField,O=(F&134217728)!==0;F&65536?(W&&M._invokeInternalOnCancel(),G instanceof C&&G.isFinallyHandler()?(G.cancelPromise=M,j(H).call(G,P)===k&&M._reject(k.e)):H===n?M._fulfill(n.call(G)):G instanceof i?G._promiseCancelled(M):W||M instanceof x?M._cancel():G.cancel()):typeof H=="function"?W?(O&&M._setAsyncGuaranteed(),this._settlePromiseFromHandler(H,G,P,M)):H.call(G,P,M):G instanceof i?G._isResolved()||(F&33554432?G._promiseFulfilled(P,M):G._promiseRejected(P,M)):W&&(O&&M._setAsyncGuaranteed(),F&33554432?M._fulfill(P):M._reject(P))},E.prototype._settlePromiseLateCancellationObserver=function(M){var H=M.handler,G=M.promise,P=M.receiver,W=M.value;typeof H=="function"?G instanceof E?this._settlePromiseFromHandler(H,P,W,G):H.call(P,W,G):G instanceof E&&G._reject(W)},E.prototype._settlePromiseCtx=function(M){this._settlePromise(M.promise,M.handler,M.receiver,M.value)},E.prototype._settlePromise0=function(M,H,G){var P=this._promise0,W=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(P,M,W,H)},E.prototype._clearCallbackDataAtIndex=function(M){var H=M*4-4;this[H+2]=this[H+3]=this[H+0]=this[H+1]=void 0},E.prototype._fulfill=function(M){var H=this._bitField;if(!((H&117506048)>>>16)){if(M===this){var G=t();return this._attachExtraTrace(G),this._reject(G)}this._setFulfilled(),this._rejectionHandler0=M,(H&65535)>0&&(H&134217728?this._settlePromises():d.settlePromises(this))}},E.prototype._reject=function(M){var H=this._bitField;if(!((H&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=M,this._isFinal())return d.fatalError(M,o.isNode);(H&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},E.prototype._fulfillPromises=function(M,H){for(var G=1;G<M;G++){var P=this._fulfillmentHandlerAt(G),W=this._promiseAt(G),F=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(W,P,F,H)}},E.prototype._rejectPromises=function(M,H){for(var G=1;G<M;G++){var P=this._rejectionHandlerAt(G),W=this._promiseAt(G),F=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(W,P,F,H)}},E.prototype._settlePromises=function(){var M=this._bitField,H=M&65535;if(H>0){if(M&16842752){var G=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,G,M),this._rejectPromises(H,G)}else{var P=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,P,M),this._fulfillPromises(H,P)}this._setLength(0)}this._clearCancellationData()},E.prototype._settledValue=function(){var M=this._bitField;if(M&33554432)return this._rejectionHandler0;if(M&16777216)return this._fulfillmentHandler0};function I(M){this.promise._resolveCallback(M)}function R(M){this.promise._rejectCallback(M,!1)}E.defer=E.pending=function(){T.deprecated("Promise.defer","new Promise");var M=new E(y);return{promise:M,resolve:I,reject:R}},o.notEnumerableProp(E,"_makeSelfResolutionError",t),XOe()(E,y,v,r,T),YOe()(E,y,v,T),ZOe()(E,x,r,T),JOe()(E),eFe()(E),tFe()(E,x,v,y,d,c),E.Promise=E,E.version="3.4.7",nFe()(E,x,r,v,y,T),rFe()(E),iFe()(E,r,v,w,y,T),sFe()(E,y,T),aFe()(E,r,y,v,i,T),oFe()(E),cFe()(E,y),lFe()(E,x,v,r),uFe()(E,y,v,r),dFe()(E,x,r,v,y,T),fFe()(E,x,T),hFe()(E,x,r),pFe()(E,y),mFe()(E,y),gFe()(E),o.toFastProperties(E),o.toFastProperties(E.prototype);function V(M){var H=new E(y);H._fulfillmentHandler0=M,H._rejectionHandler0=M,H._promise0=M,H._receiver0=M}return V({a:1}),V({b:2}),V({c:3}),V(1),V(function(){}),V(void 0),V(!1),V(new E(y)),T.setBounds(u.firstLineError,o.lastLineError),E}})(dY);var xFe=dY.exports,vFe=Ni,Za=xFe();os.defer=yFe;os.when=Za.resolve;os.resolve=Za.resolve;os.all=Za.all;os.props=Za.props;os.reject=Za.reject;os.promisify=Za.promisify;os.mapSeries=Za.mapSeries;os.attempt=Za.attempt;os.nfcall=function(e){var t=Array.prototype.slice.call(arguments,1),n=Za.promisify(e);return n.apply(null,t)};Za.prototype.fail=Za.prototype.caught;Za.prototype.also=function(e){return this.then(function(t){var n=vFe.extend({},t,e(t));return Za.props(n)})};function yFe(){var e,t,n=new Za.Promise(function(r,i){e=r,t=i});return{resolve:e,reject:t,promise:n}}var Rn={},bFe=Ni,Ts=Rn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function wFe(e,t){return t=t||{},{type:Ts.document,children:e,notes:t.notes||new _T({}),comments:t.comments||[]}}function _Fe(e,t){t=t||{};var n=t.indent||{};return{type:Ts.paragraph,children:e,styleId:t.styleId||null,styleName:t.styleName||null,numbering:t.numbering||null,alignment:t.alignment||null,indent:{start:n.start||null,end:n.end||null,firstLine:n.firstLine||null,hanging:n.hanging||null}}}function TFe(e,t){return t=t||{},{type:Ts.run,children:e,styleId:t.styleId||null,styleName:t.styleName||null,isBold:!!t.isBold,isUnderline:!!t.isUnderline,isItalic:!!t.isItalic,isStrikethrough:!!t.isStrikethrough,isAllCaps:!!t.isAllCaps,isSmallCaps:!!t.isSmallCaps,verticalAlignment:t.verticalAlignment||hY.baseline,font:t.font||null,fontSize:t.fontSize||null,highlight:t.highlight||null}}var hY={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function EFe(e){return{type:Ts.text,value:e}}function NFe(){return{type:Ts.tab}}function SFe(e){return{type:Ts.checkbox,checked:e.checked}}function CFe(e,t){return{type:Ts.hyperlink,children:e,href:t.href,anchor:t.anchor,targetFrame:t.targetFrame}}function kFe(e){return{type:Ts.noteReference,noteType:e.noteType,noteId:e.noteId}}function _T(e){this._notes=bFe.indexBy(e,function(t){return pY(t.noteType,t.noteId)})}_T.prototype.resolve=function(e){return this.findNoteByKey(pY(e.noteType,e.noteId))};_T.prototype.findNoteByKey=function(e){return this._notes[e]||null};function AFe(e){return{type:Ts.note,noteType:e.noteType,noteId:e.noteId,body:e.body}}function DFe(e){return{type:Ts.commentReference,commentId:e.commentId}}function jFe(e){return{type:Ts.comment,commentId:e.commentId,body:e.body,authorName:e.authorName,authorInitials:e.authorInitials}}function pY(e,t){return e+"-"+t}function IFe(e){return{type:Ts.image,read:function(t){return t?e.readImage(t):e.readImage().then(function(n){return Buffer.from(n)})},readAsArrayBuffer:function(){return e.readImage()},readAsBase64String:function(){return e.readImage("base64")},readAsBuffer:function(){return e.readImage().then(function(t){return Buffer.from(t)})},altText:e.altText,contentType:e.contentType}}function RFe(e,t){return t=t||{},{type:Ts.table,children:e,styleId:t.styleId||null,styleName:t.styleName||null}}function OFe(e,t){return t=t||{},{type:Ts.tableRow,children:e,isHeader:t.isHeader||!1}}function FFe(e,t){return t=t||{},{type:Ts.tableCell,children:e,colSpan:t.colSpan==null?1:t.colSpan,rowSpan:t.rowSpan==null?1:t.rowSpan}}function wI(e){return{type:Ts.break,breakType:e}}function PFe(e){return{type:Ts.bookmarkStart,name:e.name}}Rn.document=Rn.Document=wFe;Rn.paragraph=Rn.Paragraph=_Fe;Rn.run=Rn.Run=TFe;Rn.text=Rn.Text=EFe;Rn.tab=Rn.Tab=NFe;Rn.checkbox=Rn.Checkbox=SFe;Rn.Hyperlink=CFe;Rn.noteReference=Rn.NoteReference=kFe;Rn.Notes=_T;Rn.Note=AFe;Rn.commentReference=DFe;Rn.comment=jFe;Rn.Image=IFe;Rn.Table=RFe;Rn.TableRow=OFe;Rn.TableCell=FFe;Rn.lineBreak=wI("line");Rn.pageBreak=wI("page");Rn.columnBreak=wI("column");Rn.BookmarkStart=PFe;Rn.verticalAlignment=hY;var Io={},Gv=Ni;Io.Result=Kl;Io.success=UFe;Io.warning=LFe;Io.error=MFe;function Kl(e,t){this.value=e,this.messages=t||[]}Kl.prototype.map=function(e){return new Kl(e(this.value),this.messages)};Kl.prototype.flatMap=function(e){var t=e(this.value);return new Kl(t.value,_I([this,t]))};Kl.prototype.flatMapThen=function(e){var t=this;return e(this.value).then(function(n){return new Kl(n.value,_I([t,n]))})};Kl.combine=function(e){var t=Gv.flatten(Gv.pluck(e,"value")),n=_I(e);return new Kl(t,n)};function UFe(e){return new Kl(e,[])}function LFe(e){return{type:"warning",message:e}}function MFe(e){return{type:"error",message:e.message,error:e}}function _I(e){var t=[];return Gv.flatten(Gv.pluck(e,"messages"),!0).forEach(function(n){BFe(t,n)||t.push(n)}),t}function BFe(e,t){return Gv.find(e,VFe.bind(null,t))!==void 0}function VFe(e,t){return e.type===t.type&&e.message===t.message}var $y={},TT={};TT.byteLength=zFe;TT.toByteArray=HFe;TT.fromByteArray=KFe;var _l=[],$o=[],WFe=typeof Uint8Array<"u"?Uint8Array:Array,US="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Lp=0,qFe=US.length;Lp<qFe;++Lp)_l[Lp]=US[Lp],$o[US.charCodeAt(Lp)]=Lp;$o[45]=62;$o[95]=63;function mY(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function zFe(e){var t=mY(e),n=t[0],r=t[1];return(n+r)*3/4-r}function $Fe(e,t,n){return(t+n)*3/4-n}function HFe(e){var t,n=mY(e),r=n[0],i=n[1],s=new WFe($Fe(e,r,i)),o=0,c=i>0?r-4:r,l;for(l=0;l<c;l+=4)t=$o[e.charCodeAt(l)]<<18|$o[e.charCodeAt(l+1)]<<12|$o[e.charCodeAt(l+2)]<<6|$o[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=$o[e.charCodeAt(l)]<<2|$o[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=$o[e.charCodeAt(l)]<<10|$o[e.charCodeAt(l+1)]<<4|$o[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function GFe(e){return _l[e>>18&63]+_l[e>>12&63]+_l[e>>6&63]+_l[e&63]}function QFe(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(GFe(r));return i.join("")}function KFe(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,c=n-r;o<c;o+=s)i.push(QFe(e,o,o+s>c?c:o+s));return r===1?(t=e[n-1],i.push(_l[t>>2]+_l[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(_l[t>>10]+_l[t>>4&63]+_l[t<<2&63]+"=")),i.join("")}function J1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gY={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,d){if(!i[u]){if(!r[u]){var f=typeof J1=="function"&&J1;if(!d&&f)return f(u,!0);if(c)return c(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(y){var m=r[u][1][y];return o(m||y)},p,p.exports,n,r,i,s)}return i[u].exports}for(var c=typeof J1=="function"&&J1,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,d,f,h,p,y,m,g=[],v=0,x=l.length,b=x,w=s.getTypeOf(l)!=="string";v<l.length;)b=x-v,f=w?(u=l[v++],d=v<x?l[v++]:0,v<x?l[v++]:0):(u=l.charCodeAt(v++),d=v<x?l.charCodeAt(v++):0,v<x?l.charCodeAt(v++):0),h=u>>2,p=(3&u)<<4|d>>4,y=1<b?(15&d)<<2|f>>6:64,m=2<b?63&f:64,g.push(c.charAt(h)+c.charAt(p)+c.charAt(y)+c.charAt(m));return g.join("")},i.decode=function(l){var u,d,f,h,p,y,m=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var x,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===c.charAt(64)&&b--,l.charAt(l.length-2)===c.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|b):new Array(0|b);m<l.length;)u=c.indexOf(l.charAt(m++))<<2|(h=c.indexOf(l.charAt(m++)))>>4,d=(15&h)<<4|(p=c.indexOf(l.charAt(m++)))>>2,f=(3&p)<<6|(y=c.indexOf(l.charAt(m++))),x[g++]=u,p!==64&&(x[g++]=d),y!==64&&(x[g++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(d,f,h,p,y){this.compressedSize=d,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=y}u.prototype={getContentWorker:function(){var d=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,f,h){return d.pipe(new c).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var c,l=[],u=0;u<256;u++){c=u;for(var d=0;d<8;d++)c=1&c?3988292384^c>>>1:c>>>1;l[u]=c}return l}();r.exports=function(c,l){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?function(u,d,f,h){var p=o,y=h+f;u^=-1;for(var m=h;m<y;m++)u=u>>>8^p[255&(u^d[m])];return-1^u}(0|l,c,c.length,0):function(u,d,f,h){var p=o,y=h+f;u^=-1;for(var m=h;m<y;m++)u=u>>>8^p[255&(u^d.charCodeAt(m))];return-1^u}(0|l,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),c=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function d(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",c.inherits(d,l),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(u,f.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new d("Deflate",f)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,y){var m,g="";for(m=0;m<y;m++)g+=String.fromCharCode(255&p),p>>>=8;return g}function o(p,y,m,g,v,x){var b,w,T=p.file,C=p.compression,_=x!==u.utf8encode,N=c.transformTo("string",x(T.name)),k=c.transformTo("string",u.utf8encode(T.name)),j=T.comment,D=c.transformTo("string",x(j)),E=c.transformTo("string",u.utf8encode(j)),I=k.length!==T.name.length,R=E.length!==j.length,V="",M="",H="",G=T.dir,P=T.date,W={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(W.crc32=p.crc32,W.compressedSize=p.compressedSize,W.uncompressedSize=p.uncompressedSize);var F=0;y&&(F|=8),_||!I&&!R||(F|=2048);var O=0,L=0;G&&(O|=16),v==="UNIX"?(L=798,O|=function(Q,U){var Z=Q;return Q||(Z=U?16893:33204),(65535&Z)<<16}(T.unixPermissions,G)):(L=20,O|=function(Q){return 63&(Q||0)}(T.dosPermissions)),b=P.getUTCHours(),b<<=6,b|=P.getUTCMinutes(),b<<=5,b|=P.getUTCSeconds()/2,w=P.getUTCFullYear()-1980,w<<=4,w|=P.getUTCMonth()+1,w<<=5,w|=P.getUTCDate(),I&&(M=s(1,1)+s(d(N),4)+k,V+="up"+s(M.length,2)+M),R&&(H=s(1,1)+s(d(D),4)+E,V+="uc"+s(H.length,2)+H);var K="";return K+=`
\0`,K+=s(F,2),K+=C.magic,K+=s(b,2),K+=s(w,2),K+=s(W.crc32,4),K+=s(W.compressedSize,4),K+=s(W.uncompressedSize,4),K+=s(N.length,2),K+=s(V.length,2),{fileRecord:f.LOCAL_FILE_HEADER+K+N+V,dirRecord:f.CENTRAL_FILE_HEADER+s(L,2)+K+s(D.length,2)+"\0\0\0\0"+s(O,4)+s(g,4)+N+V+D}}var c=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),f=n("../signature");function h(p,y,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(h,l),h.prototype.push=function(p){var y=p.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-g-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var y=this.streamFiles&&!p.file.dir;if(y){var m=o(p,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var y=this.streamFiles&&!p.file.dir,m=o(p,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:function(g){return f.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-p,g=function(v,x,b,w,T){var C=c.transformTo("string",T(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(x,4)+s(b,4)+s(C.length,2)+C}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var y=this;return p.on("data",function(m){y.processChunk(m)}),p.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),p.on("error",function(m){y.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var y=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<y.length;m++)try{y[m].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,y=0;y<p.length;y++)p[y].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(c,l,u){var d=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{c.forEach(function(h,p){f++;var y=function(x,b){var w=x||b,T=s[w];if(!T)throw new Error(w+" is not a valid compression method !");return T}(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},g=p.dir,v=p.date;p._compressWorker(y,m).withStreamInfo("file",{name:h,dir:g,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,c){return new s().loadAsync(o,c)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),c=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function f(h){return new o.Promise(function(p,y){var m=h.decompressed.getContentWorker().pipe(new u);m.on("error",function(g){y(g)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var y=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),d.isNode&&d.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var g=new l(p);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],v=m.files;if(p.checkCRC32)for(var x=0;x<v.length;x++)g.push(f(v[x]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,x=0;x<v.length;x++){var b=v[x],w=b.fileNameStr,T=s.resolve(b.fileNameStr);y.file(T,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:p.createFolders}),b.dir||(y.file(T).unsafeOriginalName=w)}return g.zipComment.length&&(y.comment=g.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function c(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(c,o),c.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(c,l,u){s.call(this,l),this._helper=c;var d=this;c.on("data",function(f,h){d.push(f)||d._helper.pause(),u&&u(h)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(T,C,_){var N,k=c.getTypeOf(C),j=c.extend(_||{},d);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(T=v(T)),j.createFolders&&(N=g(T))&&x.call(this,N,!0);var D=k==="string"&&j.binary===!1&&j.base64===!1;_&&_.binary!==void 0||(j.binary=!D),(C instanceof f&&C.uncompressedSize===0||j.dir||!C||C.length===0)&&(j.base64=!1,j.binary=!0,C="",j.compression="STORE",k="string");var E=null;E=C instanceof f||C instanceof l?C:y.isNode&&y.isStream(C)?new m(T,C):c.prepareContent(T,C,j.binary,j.optimizedBinaryString,j.base64);var I=new h(T,E,j);this.files[T]=I}var o=n("./utf8"),c=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),y=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var C=T.lastIndexOf("/");return 0<C?T.substring(0,C):""},v=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},x=function(T,C){return C=C!==void 0?C:d.createFolders,T=v(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:C}),this.files[T]};function b(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var C,_,N;for(C in this.files)N=this.files[C],(_=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&T(_,N)},filter:function(T){var C=[];return this.forEach(function(_,N){T(_,N)&&C.push(N)}),C},file:function(T,C,_){if(arguments.length!==1)return T=this.root+T,s.call(this,T,C,_),this;if(b(T)){var N=T;return this.filter(function(j,D){return!D.dir&&N.test(j)})}var k=this.files[this.root+T];return k&&!k.dir?k:null},folder:function(T){if(!T)return this;if(b(T))return this.filter(function(k,j){return j.dir&&T.test(k)});var C=this.root+T,_=x.call(this,C),N=this.clone();return N.root=_.name,N},remove:function(T){T=this.root+T;var C=this.files[T];if(C||(T.slice(-1)!=="/"&&(T+="/"),C=this.files[T]),C&&!C.dir)delete this.files[T];else for(var _=this.filter(function(k,j){return j.name.slice(0,T.length)===T}),N=0;N<_.length;N++)delete this.files[_[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var C,_={};try{if((_=c.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");c.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var N=_.comment||this.comment||"";C=p.generateWorker(this,_,N)}catch(k){(C=new l("error")).error(k)}return new u(C,_.type||"string",_.mimeType)},generateAsync:function(T,C){return this.generateInternalStream(T).accumulate(C)},generateNodeStream:function(T,C){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(C)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(c){s.call(this,c);for(var l=0;l<this.data.length;l++)c[l]=255&c[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var l=c.charCodeAt(0),u=c.charCodeAt(1),d=c.charCodeAt(2),f=c.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var l=c.charCodeAt(0),u=c.charCodeAt(1),d=c.charCodeAt(2),f=c.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&d===h[2]&&f===h[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var l,u=0;for(this.checkOffset(c),l=this.index+c-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=c,u},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(c){s.call(this,c)}n("../utils").inherits(o,s),o.prototype.readData=function(c){this.checkOffset(c);var l=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(c){s.call(this,c)}n("../utils").inherits(o,s),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var l=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(c){s.call(this,c)}n("../utils").inherits(o,s),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),c=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(f):o.uint8array?new d(s.transformTo("uint8array",f)):new c(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function c(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(c,s),c.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,s),c.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function c(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(c,o),c.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function c(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=s.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}s.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(l){c.processChunk(l)}),o.on("end",function(){c.end()}),o.on("error",function(l){c.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),c=n("./GenericWorker"),l=n("../base64"),u=n("../support"),d=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,m){return new d.Promise(function(g,v){var x=[],b=y._internalType,w=y._outputType,T=y._mimeType;y.on("data",function(C,_){x.push(C),m&&m(_)}).on("error",function(C){x=[],v(C)}).on("end",function(){try{var C=function(_,N,k){switch(_){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),k);case"base64":return l.encode(N);default:return s.transformTo(_,N)}}(w,function(_,N){var k,j=0,D=null,E=0;for(k=0;k<N.length;k++)E+=N[k].length;switch(_){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(D=new Uint8Array(E),k=0;k<N.length;k++)D.set(N[k],j),j+=N[k].length;return D;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+_+"'")}}(b,x),T);g(C)}catch(_){v(_)}x=[]}).resume()})}function p(y,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,s.checkSupport(v),this._worker=y.pipe(new o(v)),y.lock()}catch(x){this._worker=new c("error"),this._worker.error(x)}}p.prototype={accumulate:function(y){return h(this,y)},on:function(y,m){var g=this;return y==="data"?this._worker.on(y,function(v){m.call(g,v.data,v.meta)}):this._worker.on(y,function(){s.delay(m,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),c=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?c.newBufferFrom(p,"utf-8"):function(y){var m,g,v,x,b,w=y.length,T=0;for(x=0;x<w;x++)(64512&(g=y.charCodeAt(x)))==55296&&x+1<w&&(64512&(v=y.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),x++),T+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(T):new Array(T),x=b=0;b<T;x++)(64512&(g=y.charCodeAt(x)))==55296&&x+1<w&&(64512&(v=y.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),x++),g<128?m[b++]=g:(g<2048?m[b++]=192|g>>>6:(g<65536?m[b++]=224|g>>>12:(m[b++]=240|g>>>18,m[b++]=128|g>>>12&63),m[b++]=128|g>>>6&63),m[b++]=128|63&g);return m}(p)},i.utf8decode=function(p){return o.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(y){var m,g,v,x,b=y.length,w=new Array(2*b);for(m=g=0;m<b;)if((v=y[m++])<128)w[g++]=v;else if(4<(x=u[v]))w[g++]=65533,m+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&m<b;)v=v<<6|63&y[m++],x--;1<x?w[g++]=65533:v<65536?w[g++]=v:(v-=65536,w[g++]=55296|v>>10&1023,w[g++]=56320|1023&v)}return w.length!==g&&(w.subarray?w=w.subarray(0,g):w.length=g),s.applyFromCharCode(w)}(p=s.transformTo(o.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var y=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var g=function(x,b){var w;for((b=b||x.length)>x.length&&(b=x.length),w=b-1;0<=w&&(192&x[w])==128;)w--;return w<0||w===0?b:w+u[x[w]]>b?w:b}(y),v=y;g!==y.length&&(o.uint8array?(v=y.subarray(0,g),this.leftOver=y.subarray(g,y.length)):(v=y.slice(0,g),this.leftOver=y.slice(g,y.length))),this.push({data:i.utf8decode(v),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),c=n("./nodejsUtils"),l=n("./external");function u(m){return m}function d(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,v){var x=[],b=0,w=m.length;if(w<=v)return String.fromCharCode.apply(null,m);for(;b<w;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,m.slice(b,Math.min(b+v,w)))):x.push(String.fromCharCode.apply(null,m.subarray(b,Math.min(b+v,w)))),b+=v;return x.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function h(m){var g=65536,v=i.getTypeOf(m),x=!0;if(v==="uint8array"?x=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<g;)try{return f.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function p(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}i.applyFromCharCode=h;var y={};y.string={string:u,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,c.allocBuffer(m.length))}},y.array={string:h,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return c.newBufferFrom(m)}},y.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return c.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return c.newBufferFrom(m)}},y.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var v=i.getTypeOf(g);return y[v][m](g)},i.resolve=function(m){for(var g=m.split("/"),v=[],x=0;x<g.length;x++){var b=g[x];b==="."||b===""&&x!==0&&x!==g.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,v,x="";for(v=0;v<(m||"").length;v++)x+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return x},i.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},i.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},i.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},i.prepareContent=function(m,g,v,x,b){return l.Promise.resolve(g).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,C){var _=new FileReader;_.onload=function(N){T(N.target.result)},_.onerror=function(N){C(N.target.error)},_.readAsArrayBuffer(w)}):w}).then(function(w){var T=i.getTypeOf(w);return T?(T==="arraybuffer"?w=i.transformTo("uint8array",w):T==="string"&&(b?w=o.decode(w):v&&x!==!0&&(w=function(C){return d(C,s.uint8array?new Uint8Array(C.length):new Array(C.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),c=n("./signature"),l=n("./zipEntry"),u=n("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===h;return this.reader.setIndex(p),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",p=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var y=h-p;if(0<y)this.isSignature(h,c.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),c=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),d=n("./compressions"),f=n("./support");function h(p,y){this.options=p,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var y,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(g){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===g)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,y,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var y=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(y),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var y,m,g,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)y=p.readInt(2),m=p.readInt(2),g=p.readData(m),this.extraFields[y]={id:y,length:m,value:g};p.setIndex(v)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var y=s(p.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var y=s(p.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(y,m,g){this.name=y,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(y){var m=null,g="string";try{if(!y)throw new Error("No output type specified.");var v=(g=y.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var x=!this._dataBinary;x&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!x&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(b){(m=new d("error")).error(b)}return new o(m,g,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,y,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new c(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,c,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,d=new l(y),f=s.document.createTextNode("");d.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var h=new s.MessageChannel;h.port1.onmessage=y,o=function(){h.port2.postMessage(0)}}var p=[];function y(){var m,g;c=!0;for(var v=p.length;v;){for(g=p,p=[],m=-1;++m<v;)g[m]();v=p.length}c=!1}r.exports=function(m){p.push(m)!==1||c||o()}}).call(this,typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var c={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==o&&m(this,v)}function h(v,x,b){this.promise=v,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function p(v,x,b){s(function(){var w;try{w=x(b)}catch(T){return c.reject(v,T)}w===v?c.reject(v,new TypeError("Cannot resolve promise with itself")):c.resolve(v,w)})}function y(v){var x=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof x=="function")return function(){x.apply(v,arguments)}}function m(v,x){var b=!1;function w(_){b||(b=!0,c.reject(v,_))}function T(_){b||(b=!0,c.resolve(v,_))}var C=g(function(){x(T,w)});C.status==="error"&&w(C.value)}function g(v,x){var b={};try{b.value=v(x),b.status="success"}catch(w){b.status="error",b.value=w}return b}(r.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var x=this.constructor;return this.then(function(b){return x.resolve(v()).then(function(){return b})},function(b){return x.resolve(v()).then(function(){throw b})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,x){if(typeof v!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==d?p(b,this.state===u?v:x,this.outcome):this.queue.push(new h(b,v,x)),b},h.prototype.callFulfilled=function(v){c.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){c.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},c.resolve=function(v,x){var b=g(y,x);if(b.status==="error")return c.reject(v,b.value);var w=b.value;if(w)m(v,w);else{v.state=u,v.outcome=x;for(var T=-1,C=v.queue.length;++T<C;)v.queue[T].callFulfilled(x)}return v},c.reject=function(v,x){v.state=l,v.outcome=x;for(var b=-1,w=v.queue.length;++b<w;)v.queue[b].callRejected(x);return v},f.resolve=function(v){return v instanceof this?v:c.resolve(new this(o),v)},f.reject=function(v){var x=new this(o);return c.reject(x,v)},f.all=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,w=!1;if(!b)return this.resolve([]);for(var T=new Array(b),C=0,_=-1,N=new this(o);++_<b;)k(v[_],_);return N;function k(j,D){x.resolve(j).then(function(E){T[D]=E,++C!==b||w||(w=!0,c.resolve(N,T))},function(E){w||(w=!0,c.reject(N,E))})}},f.race=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,w=!1;if(!b)return this.resolve([]);for(var T=-1,C=new this(o);++T<b;)_=v[T],x.resolve(_).then(function(N){w||(w=!0,c.resolve(C,N))},function(N){w||(w=!0,c.reject(C,N))});var _;return C}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),c=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,f=0,h=-1,p=0,y=8;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(b!==f)throw new Error(l[b]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var w;if(w=typeof x.dictionary=="string"?c.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(b=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(l[b]);this._dict_set=!0}}function g(v,x){var b=new m(x);if(b.push(v,!0),b.err)throw b.msg||l[b.err];return b.result}m.prototype.push=function(v,x){var b,w,T=this.strm,C=this.options.chunkSize;if(this.ended)return!1;w=x===~~x?x:x===!0?4:0,typeof v=="string"?T.input=c.string2buf(v):d.call(v)==="[object ArrayBuffer]"?T.input=new Uint8Array(v):T.input=v,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(C),T.next_out=0,T.avail_out=C),(b=s.deflate(T,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(T.output,T.next_out))):this.onData(o.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&b!==1);return w===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(T.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(v,x){return(x=x||{}).raw=!0,g(v,x)},i.gzip=function(v,x){return(x=x||{}).gzip=!0,g(v,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),c=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function y(m,g){var v=new p(g);if(v.push(m,!0),v.err)throw v.msg||u[v.err];return v.result}p.prototype.push=function(m,g){var v,x,b,w,T,C,_=this.strm,N=this.options.chunkSize,k=this.options.dictionary,j=!1;if(this.ended)return!1;x=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?_.input=c.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(N),_.next_out=0,_.avail_out=N),(v=s.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(C=typeof k=="string"?c.string2buf(k):h.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,v=s.inflateSetDictionary(this.strm,C)),v===l.Z_BUF_ERROR&&j===!0&&(v=l.Z_OK,j=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&v!==l.Z_STREAM_END&&(_.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=c.utf8border(_.output,_.next_out),w=_.next_out-b,T=c.buf2string(_.output,b),_.next_out=w,_.avail_out=N-w,w&&o.arraySet(_.output,_.output,b,w,0),this.onData(T)):this.onData(o.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(j=!0)}while((0<_.avail_in||_.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=y,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,y(m,g)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(l[f]=d[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,d,f,h){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+f),h);else for(var p=0;p<f;p++)l[h+p]=u[d+p]},flattenChunks:function(l){var u,d,f,h,p,y;for(u=f=0,d=l.length;u<d;u++)f+=l[u].length;for(y=new Uint8Array(f),u=h=0,d=l.length;u<d;u++)p=l[u],y.set(p,h),h+=p.length;return y}},c={arraySet:function(l,u,d,f,h){for(var p=0;p<f;p++)l[h+p]=u[d+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(f,h){if(h<65537&&(f.subarray&&c||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",y=0;y<h;y++)p+=String.fromCharCode(f[y]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,y,m,g,v=f.length,x=0;for(m=0;m<v;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),m++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(x),m=g=0;g<x;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),m++),p<128?h[g++]=p:(p<2048?h[g++]=192|p>>>6:(p<65536?h[g++]=224|p>>>12:(h[g++]=240|p>>>18,h[g++]=128|p>>>12&63),h[g++]=128|p>>>6&63),h[g++]=128|63&p);return h},i.buf2binstring=function(f){return d(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,y=h.length;p<y;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,y,m,g,v=h||f.length,x=new Array(2*v);for(p=y=0;p<v;)if((m=f[p++])<128)x[y++]=m;else if(4<(g=l[m]))x[y++]=65533,p+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&p<v;)m=m<<6|63&f[p++],g--;1<g?x[y++]=65533:m<65536?x[y++]=m:(m-=65536,x[y++]=55296|m>>10&1023,x[y++]=56320|1023&m)}return d(x,y)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,c,l){for(var u=65535&s|0,d=s>>>16&65535|0,f=0;c!==0;){for(c-=f=2e3<c?2e3:c;d=d+(u=u+o[l++]|0)|0,--f;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,c=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;c[l]=o}return c}();r.exports=function(o,c,l,u){var d=s,f=u+l;o^=-1;for(var h=u;h<f;h++)o=o>>>8^d[255&(o^c[h])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),c=n("./trees"),l=n("./adler32"),u=n("./crc32"),d=n("./messages"),f=0,h=4,p=0,y=-2,m=-1,g=4,v=2,x=8,b=9,w=286,T=30,C=19,_=2*w+1,N=15,k=3,j=258,D=j+k+1,E=42,I=113,R=1,V=2,M=3,H=4;function G(B,_e){return B.msg=d[_e],_e}function P(B){return(B<<1)-(4<B?9:0)}function W(B){for(var _e=B.length;0<=--_e;)B[_e]=0}function F(B){var _e=B.state,Ee=_e.pending;Ee>B.avail_out&&(Ee=B.avail_out),Ee!==0&&(o.arraySet(B.output,_e.pending_buf,_e.pending_out,Ee,B.next_out),B.next_out+=Ee,_e.pending_out+=Ee,B.total_out+=Ee,B.avail_out-=Ee,_e.pending-=Ee,_e.pending===0&&(_e.pending_out=0))}function O(B,_e){c._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,_e),B.block_start=B.strstart,F(B.strm)}function L(B,_e){B.pending_buf[B.pending++]=_e}function K(B,_e){B.pending_buf[B.pending++]=_e>>>8&255,B.pending_buf[B.pending++]=255&_e}function Q(B,_e){var Ee,se,J=B.max_chain_length,de=B.strstart,X=B.prev_length,ue=B.nice_match,te=B.strstart>B.w_size-D?B.strstart-(B.w_size-D):0,oe=B.window,le=B.w_mask,ae=B.prev,Te=B.strstart+j,Ue=oe[de+X-1],qe=oe[de+X];B.prev_length>=B.good_match&&(J>>=2),ue>B.lookahead&&(ue=B.lookahead);do if(oe[(Ee=_e)+X]===qe&&oe[Ee+X-1]===Ue&&oe[Ee]===oe[de]&&oe[++Ee]===oe[de+1]){de+=2,Ee++;do;while(oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&oe[++de]===oe[++Ee]&&de<Te);if(se=j-(Te-de),de=Te-j,X<se){if(B.match_start=_e,ue<=(X=se))break;Ue=oe[de+X-1],qe=oe[de+X]}}while((_e=ae[_e&le])>te&&--J!=0);return X<=B.lookahead?X:B.lookahead}function U(B){var _e,Ee,se,J,de,X,ue,te,oe,le,ae=B.w_size;do{if(J=B.window_size-B.lookahead-B.strstart,B.strstart>=ae+(ae-D)){for(o.arraySet(B.window,B.window,ae,ae,0),B.match_start-=ae,B.strstart-=ae,B.block_start-=ae,_e=Ee=B.hash_size;se=B.head[--_e],B.head[_e]=ae<=se?se-ae:0,--Ee;);for(_e=Ee=ae;se=B.prev[--_e],B.prev[_e]=ae<=se?se-ae:0,--Ee;);J+=ae}if(B.strm.avail_in===0)break;if(X=B.strm,ue=B.window,te=B.strstart+B.lookahead,oe=J,le=void 0,le=X.avail_in,oe<le&&(le=oe),Ee=le===0?0:(X.avail_in-=le,o.arraySet(ue,X.input,X.next_in,le,te),X.state.wrap===1?X.adler=l(X.adler,ue,le,te):X.state.wrap===2&&(X.adler=u(X.adler,ue,le,te)),X.next_in+=le,X.total_in+=le,le),B.lookahead+=Ee,B.lookahead+B.insert>=k)for(de=B.strstart-B.insert,B.ins_h=B.window[de],B.ins_h=(B.ins_h<<B.hash_shift^B.window[de+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[de+k-1])&B.hash_mask,B.prev[de&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=de,de++,B.insert--,!(B.lookahead+B.insert<k)););}while(B.lookahead<D&&B.strm.avail_in!==0)}function Z(B,_e){for(var Ee,se;;){if(B.lookahead<D){if(U(B),B.lookahead<D&&_e===f)return R;if(B.lookahead===0)break}if(Ee=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),Ee!==0&&B.strstart-Ee<=B.w_size-D&&(B.match_length=Q(B,Ee)),B.match_length>=k)if(se=c._tr_tally(B,B.strstart-B.match_start,B.match_length-k),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=k){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else se=c._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(se&&(O(B,!1),B.strm.avail_out===0))return R}return B.insert=B.strstart<k-1?B.strstart:k-1,_e===h?(O(B,!0),B.strm.avail_out===0?M:H):B.last_lit&&(O(B,!1),B.strm.avail_out===0)?R:V}function pe(B,_e){for(var Ee,se,J;;){if(B.lookahead<D){if(U(B),B.lookahead<D&&_e===f)return R;if(B.lookahead===0)break}if(Ee=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=k-1,Ee!==0&&B.prev_length<B.max_lazy_match&&B.strstart-Ee<=B.w_size-D&&(B.match_length=Q(B,Ee),B.match_length<=5&&(B.strategy===1||B.match_length===k&&4096<B.strstart-B.match_start)&&(B.match_length=k-1)),B.prev_length>=k&&B.match_length<=B.prev_length){for(J=B.strstart+B.lookahead-k,se=c._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-k),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=J&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Ee=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=k-1,B.strstart++,se&&(O(B,!1),B.strm.avail_out===0))return R}else if(B.match_available){if((se=c._tr_tally(B,0,B.window[B.strstart-1]))&&O(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return R}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(se=c._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<k-1?B.strstart:k-1,_e===h?(O(B,!0),B.strm.avail_out===0?M:H):B.last_lit&&(O(B,!1),B.strm.avail_out===0)?R:V}function me(B,_e,Ee,se,J){this.good_length=B,this.max_lazy=_e,this.nice_length=Ee,this.max_chain=se,this.func=J}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*T+1)),this.bl_tree=new o.Buf16(2*(2*C+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*w+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(B){var _e;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=v,(_e=B.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?E:I,B.adler=_e.wrap===2?0:1,_e.last_flush=f,c._tr_init(_e),p):G(B,y)}function Y(B){var _e=Fe(B);return _e===p&&function(Ee){Ee.window_size=2*Ee.w_size,W(Ee.head),Ee.max_lazy_match=s[Ee.level].max_lazy,Ee.good_match=s[Ee.level].good_length,Ee.nice_match=s[Ee.level].nice_length,Ee.max_chain_length=s[Ee.level].max_chain,Ee.strstart=0,Ee.block_start=0,Ee.lookahead=0,Ee.insert=0,Ee.match_length=Ee.prev_length=k-1,Ee.match_available=0,Ee.ins_h=0}(B.state),_e}function ve(B,_e,Ee,se,J,de){if(!B)return y;var X=1;if(_e===m&&(_e=6),se<0?(X=0,se=-se):15<se&&(X=2,se-=16),J<1||b<J||Ee!==x||se<8||15<se||_e<0||9<_e||de<0||g<de)return G(B,y);se===8&&(se=9);var ue=new ye;return(B.state=ue).strm=B,ue.wrap=X,ue.gzhead=null,ue.w_bits=se,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=J+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+k-1)/k),ue.window=new o.Buf8(2*ue.w_size),ue.head=new o.Buf16(ue.hash_size),ue.prev=new o.Buf16(ue.w_size),ue.lit_bufsize=1<<J+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new o.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=_e,ue.strategy=de,ue.method=Ee,Y(B)}s=[new me(0,0,0,0,function(B,_e){var Ee=65535;for(Ee>B.pending_buf_size-5&&(Ee=B.pending_buf_size-5);;){if(B.lookahead<=1){if(U(B),B.lookahead===0&&_e===f)return R;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var se=B.block_start+Ee;if((B.strstart===0||B.strstart>=se)&&(B.lookahead=B.strstart-se,B.strstart=se,O(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-D&&(O(B,!1),B.strm.avail_out===0))return R}return B.insert=0,_e===h?(O(B,!0),B.strm.avail_out===0?M:H):(B.strstart>B.block_start&&(O(B,!1),B.strm.avail_out),R)}),new me(4,4,8,4,Z),new me(4,5,16,8,Z),new me(4,6,32,32,Z),new me(4,4,16,16,pe),new me(8,16,32,32,pe),new me(8,16,128,128,pe),new me(8,32,128,256,pe),new me(32,128,258,1024,pe),new me(32,258,258,4096,pe)],i.deflateInit=function(B,_e){return ve(B,_e,x,15,8,0)},i.deflateInit2=ve,i.deflateReset=Y,i.deflateResetKeep=Fe,i.deflateSetHeader=function(B,_e){return B&&B.state?B.state.wrap!==2?y:(B.state.gzhead=_e,p):y},i.deflate=function(B,_e){var Ee,se,J,de;if(!B||!B.state||5<_e||_e<0)return B?G(B,y):y;if(se=B.state,!B.output||!B.input&&B.avail_in!==0||se.status===666&&_e!==h)return G(B,B.avail_out===0?-5:y);if(se.strm=B,Ee=se.last_flush,se.last_flush=_e,se.status===E)if(se.wrap===2)B.adler=0,L(se,31),L(se,139),L(se,8),se.gzhead?(L(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),L(se,255&se.gzhead.time),L(se,se.gzhead.time>>8&255),L(se,se.gzhead.time>>16&255),L(se,se.gzhead.time>>24&255),L(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),L(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(L(se,255&se.gzhead.extra.length),L(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(B.adler=u(B.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(L(se,0),L(se,0),L(se,0),L(se,0),L(se,0),L(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),L(se,3),se.status=I);else{var X=x+(se.w_bits-8<<4)<<8;X|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(X|=32),X+=31-X%31,se.status=I,K(se,X),se.strstart!==0&&(K(se,B.adler>>>16),K(se,65535&B.adler)),B.adler=1}if(se.status===69)if(se.gzhead.extra){for(J=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>J&&(B.adler=u(B.adler,se.pending_buf,se.pending-J,J)),F(B),J=se.pending,se.pending!==se.pending_buf_size));)L(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>J&&(B.adler=u(B.adler,se.pending_buf,se.pending-J,J)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){J=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>J&&(B.adler=u(B.adler,se.pending_buf,se.pending-J,J)),F(B),J=se.pending,se.pending===se.pending_buf_size)){de=1;break}de=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,L(se,de)}while(de!==0);se.gzhead.hcrc&&se.pending>J&&(B.adler=u(B.adler,se.pending_buf,se.pending-J,J)),de===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){J=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>J&&(B.adler=u(B.adler,se.pending_buf,se.pending-J,J)),F(B),J=se.pending,se.pending===se.pending_buf_size)){de=1;break}de=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,L(se,de)}while(de!==0);se.gzhead.hcrc&&se.pending>J&&(B.adler=u(B.adler,se.pending_buf,se.pending-J,J)),de===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&F(B),se.pending+2<=se.pending_buf_size&&(L(se,255&B.adler),L(se,B.adler>>8&255),B.adler=0,se.status=I)):se.status=I),se.pending!==0){if(F(B),B.avail_out===0)return se.last_flush=-1,p}else if(B.avail_in===0&&P(_e)<=P(Ee)&&_e!==h)return G(B,-5);if(se.status===666&&B.avail_in!==0)return G(B,-5);if(B.avail_in!==0||se.lookahead!==0||_e!==f&&se.status!==666){var ue=se.strategy===2?function(te,oe){for(var le;;){if(te.lookahead===0&&(U(te),te.lookahead===0)){if(oe===f)return R;break}if(te.match_length=0,le=c._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,le&&(O(te,!1),te.strm.avail_out===0))return R}return te.insert=0,oe===h?(O(te,!0),te.strm.avail_out===0?M:H):te.last_lit&&(O(te,!1),te.strm.avail_out===0)?R:V}(se,_e):se.strategy===3?function(te,oe){for(var le,ae,Te,Ue,qe=te.window;;){if(te.lookahead<=j){if(U(te),te.lookahead<=j&&oe===f)return R;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=k&&0<te.strstart&&(ae=qe[Te=te.strstart-1])===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]){Ue=te.strstart+j;do;while(ae===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]&&ae===qe[++Te]&&Te<Ue);te.match_length=j-(Ue-Te),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=k?(le=c._tr_tally(te,1,te.match_length-k),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(le=c._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),le&&(O(te,!1),te.strm.avail_out===0))return R}return te.insert=0,oe===h?(O(te,!0),te.strm.avail_out===0?M:H):te.last_lit&&(O(te,!1),te.strm.avail_out===0)?R:V}(se,_e):s[se.level].func(se,_e);if(ue!==M&&ue!==H||(se.status=666),ue===R||ue===M)return B.avail_out===0&&(se.last_flush=-1),p;if(ue===V&&(_e===1?c._tr_align(se):_e!==5&&(c._tr_stored_block(se,0,0,!1),_e===3&&(W(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),F(B),B.avail_out===0))return se.last_flush=-1,p}return _e!==h?p:se.wrap<=0?1:(se.wrap===2?(L(se,255&B.adler),L(se,B.adler>>8&255),L(se,B.adler>>16&255),L(se,B.adler>>24&255),L(se,255&B.total_in),L(se,B.total_in>>8&255),L(se,B.total_in>>16&255),L(se,B.total_in>>24&255)):(K(se,B.adler>>>16),K(se,65535&B.adler)),F(B),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?p:1)},i.deflateEnd=function(B){var _e;return B&&B.state?(_e=B.state.status)!==E&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==I&&_e!==666?G(B,y):(B.state=null,_e===I?G(B,-3):p):y},i.deflateSetDictionary=function(B,_e){var Ee,se,J,de,X,ue,te,oe,le=_e.length;if(!B||!B.state||(de=(Ee=B.state).wrap)===2||de===1&&Ee.status!==E||Ee.lookahead)return y;for(de===1&&(B.adler=l(B.adler,_e,le,0)),Ee.wrap=0,le>=Ee.w_size&&(de===0&&(W(Ee.head),Ee.strstart=0,Ee.block_start=0,Ee.insert=0),oe=new o.Buf8(Ee.w_size),o.arraySet(oe,_e,le-Ee.w_size,Ee.w_size,0),_e=oe,le=Ee.w_size),X=B.avail_in,ue=B.next_in,te=B.input,B.avail_in=le,B.next_in=0,B.input=_e,U(Ee);Ee.lookahead>=k;){for(se=Ee.strstart,J=Ee.lookahead-(k-1);Ee.ins_h=(Ee.ins_h<<Ee.hash_shift^Ee.window[se+k-1])&Ee.hash_mask,Ee.prev[se&Ee.w_mask]=Ee.head[Ee.ins_h],Ee.head[Ee.ins_h]=se,se++,--J;);Ee.strstart=se,Ee.lookahead=k-1,U(Ee)}return Ee.strstart+=Ee.lookahead,Ee.block_start=Ee.strstart,Ee.insert=Ee.lookahead,Ee.lookahead=0,Ee.match_length=Ee.prev_length=k-1,Ee.match_available=0,B.next_in=ue,B.input=te,B.avail_in=X,Ee.wrap=de,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var c,l,u,d,f,h,p,y,m,g,v,x,b,w,T,C,_,N,k,j,D,E,I,R,V;c=s.state,l=s.next_in,R=s.input,u=l+(s.avail_in-5),d=s.next_out,V=s.output,f=d-(o-s.avail_out),h=d+(s.avail_out-257),p=c.dmax,y=c.wsize,m=c.whave,g=c.wnext,v=c.window,x=c.hold,b=c.bits,w=c.lencode,T=c.distcode,C=(1<<c.lenbits)-1,_=(1<<c.distbits)-1;e:do{b<15&&(x+=R[l++]<<b,b+=8,x+=R[l++]<<b,b+=8),N=w[x&C];t:for(;;){if(x>>>=k=N>>>24,b-=k,(k=N>>>16&255)===0)V[d++]=65535&N;else{if(!(16&k)){if(!(64&k)){N=w[(65535&N)+(x&(1<<k)-1)];continue t}if(32&k){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}j=65535&N,(k&=15)&&(b<k&&(x+=R[l++]<<b,b+=8),j+=x&(1<<k)-1,x>>>=k,b-=k),b<15&&(x+=R[l++]<<b,b+=8,x+=R[l++]<<b,b+=8),N=T[x&_];n:for(;;){if(x>>>=k=N>>>24,b-=k,!(16&(k=N>>>16&255))){if(!(64&k)){N=T[(65535&N)+(x&(1<<k)-1)];continue n}s.msg="invalid distance code",c.mode=30;break e}if(D=65535&N,b<(k&=15)&&(x+=R[l++]<<b,(b+=8)<k&&(x+=R[l++]<<b,b+=8)),p<(D+=x&(1<<k)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(x>>>=k,b-=k,(k=d-f)<D){if(m<(k=D-k)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(I=v,(E=0)===g){if(E+=y-k,k<j){for(j-=k;V[d++]=v[E++],--k;);E=d-D,I=V}}else if(g<k){if(E+=y+g-k,(k-=g)<j){for(j-=k;V[d++]=v[E++],--k;);if(E=0,g<j){for(j-=k=g;V[d++]=v[E++],--k;);E=d-D,I=V}}}else if(E+=g-k,k<j){for(j-=k;V[d++]=v[E++],--k;);E=d-D,I=V}for(;2<j;)V[d++]=I[E++],V[d++]=I[E++],V[d++]=I[E++],j-=3;j&&(V[d++]=I[E++],1<j&&(V[d++]=I[E++]))}else{for(E=d-D;V[d++]=V[E++],V[d++]=V[E++],V[d++]=V[E++],2<(j-=3););j&&(V[d++]=V[E++],1<j&&(V[d++]=V[E++]))}break}}break}}while(l<u&&d<h);l-=j=b>>3,x&=(1<<(b-=j<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=d<h?h-d+257:257-(d-h),c.hold=x,c.bits=b}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),c=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),d=1,f=2,h=0,p=-2,y=1,m=852,g=592;function v(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(E){var I;return E&&E.state?(I=E.state,E.total_in=E.total_out=I.total=0,E.msg="",I.wrap&&(E.adler=1&I.wrap),I.mode=y,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new s.Buf32(m),I.distcode=I.distdyn=new s.Buf32(g),I.sane=1,I.back=-1,h):p}function w(E){var I;return E&&E.state?((I=E.state).wsize=0,I.whave=0,I.wnext=0,b(E)):p}function T(E,I){var R,V;return E&&E.state?(V=E.state,I<0?(R=0,I=-I):(R=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?p:(V.window!==null&&V.wbits!==I&&(V.window=null),V.wrap=R,V.wbits=I,w(E))):p}function C(E,I){var R,V;return E?(V=new x,(E.state=V).window=null,(R=T(E,I))!==h&&(E.state=null),R):p}var _,N,k=!0;function j(E){if(k){var I;for(_=new s.Buf32(512),N=new s.Buf32(32),I=0;I<144;)E.lens[I++]=8;for(;I<256;)E.lens[I++]=9;for(;I<280;)E.lens[I++]=7;for(;I<288;)E.lens[I++]=8;for(u(d,E.lens,0,288,_,0,E.work,{bits:9}),I=0;I<32;)E.lens[I++]=5;u(f,E.lens,0,32,N,0,E.work,{bits:5}),k=!1}E.lencode=_,E.lenbits=9,E.distcode=N,E.distbits=5}function D(E,I,R,V){var M,H=E.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new s.Buf8(H.wsize)),V>=H.wsize?(s.arraySet(H.window,I,R-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(V<(M=H.wsize-H.wnext)&&(M=V),s.arraySet(H.window,I,R-V,M,H.wnext),(V-=M)?(s.arraySet(H.window,I,R-V,V,0),H.wnext=V,H.whave=H.wsize):(H.wnext+=M,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=M))),0}i.inflateReset=w,i.inflateReset2=T,i.inflateResetKeep=b,i.inflateInit=function(E){return C(E,15)},i.inflateInit2=C,i.inflate=function(E,I){var R,V,M,H,G,P,W,F,O,L,K,Q,U,Z,pe,me,ye,Fe,Y,ve,B,_e,Ee,se,J=0,de=new s.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return p;(R=E.state).mode===12&&(R.mode=13),G=E.next_out,M=E.output,W=E.avail_out,H=E.next_in,V=E.input,P=E.avail_in,F=R.hold,O=R.bits,L=P,K=W,_e=h;e:for(;;)switch(R.mode){case y:if(R.wrap===0){R.mode=13;break}for(;O<16;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(2&R.wrap&&F===35615){de[R.check=0]=255&F,de[1]=F>>>8&255,R.check=c(R.check,de,2,0),O=F=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&F)<<8)+(F>>8))%31){E.msg="incorrect header check",R.mode=30;break}if((15&F)!=8){E.msg="unknown compression method",R.mode=30;break}if(O-=4,B=8+(15&(F>>>=4)),R.wbits===0)R.wbits=B;else if(B>R.wbits){E.msg="invalid window size",R.mode=30;break}R.dmax=1<<B,E.adler=R.check=1,R.mode=512&F?10:12,O=F=0;break;case 2:for(;O<16;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(R.flags=F,(255&R.flags)!=8){E.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){E.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=F>>8&1),512&R.flags&&(de[0]=255&F,de[1]=F>>>8&255,R.check=c(R.check,de,2,0)),O=F=0,R.mode=3;case 3:for(;O<32;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}R.head&&(R.head.time=F),512&R.flags&&(de[0]=255&F,de[1]=F>>>8&255,de[2]=F>>>16&255,de[3]=F>>>24&255,R.check=c(R.check,de,4,0)),O=F=0,R.mode=4;case 4:for(;O<16;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}R.head&&(R.head.xflags=255&F,R.head.os=F>>8),512&R.flags&&(de[0]=255&F,de[1]=F>>>8&255,R.check=c(R.check,de,2,0)),O=F=0,R.mode=5;case 5:if(1024&R.flags){for(;O<16;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}R.length=F,R.head&&(R.head.extra_len=F),512&R.flags&&(de[0]=255&F,de[1]=F>>>8&255,R.check=c(R.check,de,2,0)),O=F=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(P<(Q=R.length)&&(Q=P),Q&&(R.head&&(B=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,V,H,Q,B)),512&R.flags&&(R.check=c(R.check,V,Q,H)),P-=Q,H+=Q,R.length-=Q),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(P===0)break e;for(Q=0;B=V[H+Q++],R.head&&B&&R.length<65536&&(R.head.name+=String.fromCharCode(B)),B&&Q<P;);if(512&R.flags&&(R.check=c(R.check,V,Q,H)),P-=Q,H+=Q,B)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(P===0)break e;for(Q=0;B=V[H+Q++],R.head&&B&&R.length<65536&&(R.head.comment+=String.fromCharCode(B)),B&&Q<P;);if(512&R.flags&&(R.check=c(R.check,V,Q,H)),P-=Q,H+=Q,B)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;O<16;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(F!==(65535&R.check)){E.msg="header crc mismatch",R.mode=30;break}O=F=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),E.adler=R.check=0,R.mode=12;break;case 10:for(;O<32;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}E.adler=R.check=v(F),O=F=0,R.mode=11;case 11:if(R.havedict===0)return E.next_out=G,E.avail_out=W,E.next_in=H,E.avail_in=P,R.hold=F,R.bits=O,2;E.adler=R.check=1,R.mode=12;case 12:if(I===5||I===6)break e;case 13:if(R.last){F>>>=7&O,O-=7&O,R.mode=27;break}for(;O<3;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}switch(R.last=1&F,O-=1,3&(F>>>=1)){case 0:R.mode=14;break;case 1:if(j(R),R.mode=20,I!==6)break;F>>>=2,O-=2;break e;case 2:R.mode=17;break;case 3:E.msg="invalid block type",R.mode=30}F>>>=2,O-=2;break;case 14:for(F>>>=7&O,O-=7&O;O<32;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if((65535&F)!=(F>>>16^65535)){E.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&F,O=F=0,R.mode=15,I===6)break e;case 15:R.mode=16;case 16:if(Q=R.length){if(P<Q&&(Q=P),W<Q&&(Q=W),Q===0)break e;s.arraySet(M,V,H,Q,G),P-=Q,H+=Q,W-=Q,G+=Q,R.length-=Q;break}R.mode=12;break;case 17:for(;O<14;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(R.nlen=257+(31&F),F>>>=5,O-=5,R.ndist=1+(31&F),F>>>=5,O-=5,R.ncode=4+(15&F),F>>>=4,O-=4,286<R.nlen||30<R.ndist){E.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;O<3;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}R.lens[X[R.have++]]=7&F,F>>>=3,O-=3}for(;R.have<19;)R.lens[X[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,Ee={bits:R.lenbits},_e=u(0,R.lens,0,19,R.lencode,0,R.work,Ee),R.lenbits=Ee.bits,_e){E.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;me=(J=R.lencode[F&(1<<R.lenbits)-1])>>>16&255,ye=65535&J,!((pe=J>>>24)<=O);){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(ye<16)F>>>=pe,O-=pe,R.lens[R.have++]=ye;else{if(ye===16){for(se=pe+2;O<se;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(F>>>=pe,O-=pe,R.have===0){E.msg="invalid bit length repeat",R.mode=30;break}B=R.lens[R.have-1],Q=3+(3&F),F>>>=2,O-=2}else if(ye===17){for(se=pe+3;O<se;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}O-=pe,B=0,Q=3+(7&(F>>>=pe)),F>>>=3,O-=3}else{for(se=pe+7;O<se;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}O-=pe,B=0,Q=11+(127&(F>>>=pe)),F>>>=7,O-=7}if(R.have+Q>R.nlen+R.ndist){E.msg="invalid bit length repeat",R.mode=30;break}for(;Q--;)R.lens[R.have++]=B}}if(R.mode===30)break;if(R.lens[256]===0){E.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,Ee={bits:R.lenbits},_e=u(d,R.lens,0,R.nlen,R.lencode,0,R.work,Ee),R.lenbits=Ee.bits,_e){E.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,Ee={bits:R.distbits},_e=u(f,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,Ee),R.distbits=Ee.bits,_e){E.msg="invalid distances set",R.mode=30;break}if(R.mode=20,I===6)break e;case 20:R.mode=21;case 21:if(6<=P&&258<=W){E.next_out=G,E.avail_out=W,E.next_in=H,E.avail_in=P,R.hold=F,R.bits=O,l(E,K),G=E.next_out,M=E.output,W=E.avail_out,H=E.next_in,V=E.input,P=E.avail_in,F=R.hold,O=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;me=(J=R.lencode[F&(1<<R.lenbits)-1])>>>16&255,ye=65535&J,!((pe=J>>>24)<=O);){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(me&&!(240&me)){for(Fe=pe,Y=me,ve=ye;me=(J=R.lencode[ve+((F&(1<<Fe+Y)-1)>>Fe)])>>>16&255,ye=65535&J,!(Fe+(pe=J>>>24)<=O);){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}F>>>=Fe,O-=Fe,R.back+=Fe}if(F>>>=pe,O-=pe,R.back+=pe,R.length=ye,me===0){R.mode=26;break}if(32&me){R.back=-1,R.mode=12;break}if(64&me){E.msg="invalid literal/length code",R.mode=30;break}R.extra=15&me,R.mode=22;case 22:if(R.extra){for(se=R.extra;O<se;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}R.length+=F&(1<<R.extra)-1,F>>>=R.extra,O-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;me=(J=R.distcode[F&(1<<R.distbits)-1])>>>16&255,ye=65535&J,!((pe=J>>>24)<=O);){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(!(240&me)){for(Fe=pe,Y=me,ve=ye;me=(J=R.distcode[ve+((F&(1<<Fe+Y)-1)>>Fe)])>>>16&255,ye=65535&J,!(Fe+(pe=J>>>24)<=O);){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}F>>>=Fe,O-=Fe,R.back+=Fe}if(F>>>=pe,O-=pe,R.back+=pe,64&me){E.msg="invalid distance code",R.mode=30;break}R.offset=ye,R.extra=15&me,R.mode=24;case 24:if(R.extra){for(se=R.extra;O<se;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}R.offset+=F&(1<<R.extra)-1,F>>>=R.extra,O-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){E.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(W===0)break e;if(Q=K-W,R.offset>Q){if((Q=R.offset-Q)>R.whave&&R.sane){E.msg="invalid distance too far back",R.mode=30;break}U=Q>R.wnext?(Q-=R.wnext,R.wsize-Q):R.wnext-Q,Q>R.length&&(Q=R.length),Z=R.window}else Z=M,U=G-R.offset,Q=R.length;for(W<Q&&(Q=W),W-=Q,R.length-=Q;M[G++]=Z[U++],--Q;);R.length===0&&(R.mode=21);break;case 26:if(W===0)break e;M[G++]=R.length,W--,R.mode=21;break;case 27:if(R.wrap){for(;O<32;){if(P===0)break e;P--,F|=V[H++]<<O,O+=8}if(K-=W,E.total_out+=K,R.total+=K,K&&(E.adler=R.check=R.flags?c(R.check,M,K,G-K):o(R.check,M,K,G-K)),K=W,(R.flags?F:v(F))!==R.check){E.msg="incorrect data check",R.mode=30;break}O=F=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;O<32;){if(P===0)break e;P--,F+=V[H++]<<O,O+=8}if(F!==(4294967295&R.total)){E.msg="incorrect length check",R.mode=30;break}O=F=0}R.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return p}return E.next_out=G,E.avail_out=W,E.next_in=H,E.avail_in=P,R.hold=F,R.bits=O,(R.wsize||K!==E.avail_out&&R.mode<30&&(R.mode<27||I!==4))&&D(E,E.output,E.next_out,K-E.avail_out)?(R.mode=31,-4):(L-=E.avail_in,K-=E.avail_out,E.total_in+=L,E.total_out+=K,R.total+=K,R.wrap&&K&&(E.adler=R.check=R.flags?c(R.check,M,K,E.next_out-K):o(R.check,M,K,E.next_out-K)),E.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(L==0&&K===0||I===4)&&_e===h&&(_e=-5),_e)},i.inflateEnd=function(E){if(!E||!E.state)return p;var I=E.state;return I.window&&(I.window=null),E.state=null,h},i.inflateGetHeader=function(E,I){var R;return E&&E.state&&2&(R=E.state).wrap?((R.head=I).done=!1,h):p},i.inflateSetDictionary=function(E,I){var R,V=I.length;return E&&E.state?(R=E.state).wrap!==0&&R.mode!==11?p:R.mode===11&&o(1,I,V,0)!==R.check?-3:D(E,I,V,V)?(R.mode=31,-4):(R.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,f,h,p,y,m,g,v){var x,b,w,T,C,_,N,k,j,D=v.bits,E=0,I=0,R=0,V=0,M=0,H=0,G=0,P=0,W=0,F=0,O=null,L=0,K=new s.Buf16(16),Q=new s.Buf16(16),U=null,Z=0;for(E=0;E<=15;E++)K[E]=0;for(I=0;I<p;I++)K[f[h+I]]++;for(M=D,V=15;1<=V&&K[V]===0;V--);if(V<M&&(M=V),V===0)return y[m++]=20971520,y[m++]=20971520,v.bits=1,0;for(R=1;R<V&&K[R]===0;R++);for(M<R&&(M=R),E=P=1;E<=15;E++)if(P<<=1,(P-=K[E])<0)return-1;if(0<P&&(d===0||V!==1))return-1;for(Q[1]=0,E=1;E<15;E++)Q[E+1]=Q[E]+K[E];for(I=0;I<p;I++)f[h+I]!==0&&(g[Q[f[h+I]]++]=I);if(_=d===0?(O=U=g,19):d===1?(O=o,L-=257,U=c,Z-=257,256):(O=l,U=u,-1),E=R,C=m,G=I=F=0,w=-1,T=(W=1<<(H=M))-1,d===1&&852<W||d===2&&592<W)return 1;for(;;){for(N=E-G,j=g[I]<_?(k=0,g[I]):g[I]>_?(k=U[Z+g[I]],O[L+g[I]]):(k=96,0),x=1<<E-G,R=b=1<<H;y[C+(F>>G)+(b-=x)]=N<<24|k<<16|j|0,b!==0;);for(x=1<<E-1;F&x;)x>>=1;if(x!==0?(F&=x-1,F+=x):F=0,I++,--K[E]==0){if(E===V)break;E=f[h+g[I]]}if(M<E&&(F&T)!==w){for(G===0&&(G=M),C+=R,P=1<<(H=E-G);H+G<V&&!((P-=K[H+G])<=0);)H++,P<<=1;if(W+=1<<H,d===1&&852<W||d===2&&592<W)return 1;y[w=F&T]=M<<24|H<<16|C-m|0}}return F!==0&&(y[C+F]=E-G<<24|64<<16|0),v.bits=M,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,c=1;function l(J){for(var de=J.length;0<=--de;)J[de]=0}var u=0,d=29,f=256,h=f+1+d,p=30,y=19,m=2*h+1,g=15,v=16,x=7,b=256,w=16,T=17,C=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(h+2));l(D);var E=new Array(2*p);l(E);var I=new Array(512);l(I);var R=new Array(256);l(R);var V=new Array(d);l(V);var M,H,G,P=new Array(p);function W(J,de,X,ue,te){this.static_tree=J,this.extra_bits=de,this.extra_base=X,this.elems=ue,this.max_length=te,this.has_stree=J&&J.length}function F(J,de){this.dyn_tree=J,this.max_code=0,this.stat_desc=de}function O(J){return J<256?I[J]:I[256+(J>>>7)]}function L(J,de){J.pending_buf[J.pending++]=255&de,J.pending_buf[J.pending++]=de>>>8&255}function K(J,de,X){J.bi_valid>v-X?(J.bi_buf|=de<<J.bi_valid&65535,L(J,J.bi_buf),J.bi_buf=de>>v-J.bi_valid,J.bi_valid+=X-v):(J.bi_buf|=de<<J.bi_valid&65535,J.bi_valid+=X)}function Q(J,de,X){K(J,X[2*de],X[2*de+1])}function U(J,de){for(var X=0;X|=1&J,J>>>=1,X<<=1,0<--de;);return X>>>1}function Z(J,de,X){var ue,te,oe=new Array(g+1),le=0;for(ue=1;ue<=g;ue++)oe[ue]=le=le+X[ue-1]<<1;for(te=0;te<=de;te++){var ae=J[2*te+1];ae!==0&&(J[2*te]=U(oe[ae]++,ae))}}function pe(J){var de;for(de=0;de<h;de++)J.dyn_ltree[2*de]=0;for(de=0;de<p;de++)J.dyn_dtree[2*de]=0;for(de=0;de<y;de++)J.bl_tree[2*de]=0;J.dyn_ltree[2*b]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function me(J){8<J.bi_valid?L(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function ye(J,de,X,ue){var te=2*de,oe=2*X;return J[te]<J[oe]||J[te]===J[oe]&&ue[de]<=ue[X]}function Fe(J,de,X){for(var ue=J.heap[X],te=X<<1;te<=J.heap_len&&(te<J.heap_len&&ye(de,J.heap[te+1],J.heap[te],J.depth)&&te++,!ye(de,ue,J.heap[te],J.depth));)J.heap[X]=J.heap[te],X=te,te<<=1;J.heap[X]=ue}function Y(J,de,X){var ue,te,oe,le,ae=0;if(J.last_lit!==0)for(;ue=J.pending_buf[J.d_buf+2*ae]<<8|J.pending_buf[J.d_buf+2*ae+1],te=J.pending_buf[J.l_buf+ae],ae++,ue===0?Q(J,te,de):(Q(J,(oe=R[te])+f+1,de),(le=_[oe])!==0&&K(J,te-=V[oe],le),Q(J,oe=O(--ue),X),(le=N[oe])!==0&&K(J,ue-=P[oe],le)),ae<J.last_lit;);Q(J,b,de)}function ve(J,de){var X,ue,te,oe=de.dyn_tree,le=de.stat_desc.static_tree,ae=de.stat_desc.has_stree,Te=de.stat_desc.elems,Ue=-1;for(J.heap_len=0,J.heap_max=m,X=0;X<Te;X++)oe[2*X]!==0?(J.heap[++J.heap_len]=Ue=X,J.depth[X]=0):oe[2*X+1]=0;for(;J.heap_len<2;)oe[2*(te=J.heap[++J.heap_len]=Ue<2?++Ue:0)]=1,J.depth[te]=0,J.opt_len--,ae&&(J.static_len-=le[2*te+1]);for(de.max_code=Ue,X=J.heap_len>>1;1<=X;X--)Fe(J,oe,X);for(te=Te;X=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Fe(J,oe,1),ue=J.heap[1],J.heap[--J.heap_max]=X,J.heap[--J.heap_max]=ue,oe[2*te]=oe[2*X]+oe[2*ue],J.depth[te]=(J.depth[X]>=J.depth[ue]?J.depth[X]:J.depth[ue])+1,oe[2*X+1]=oe[2*ue+1]=te,J.heap[1]=te++,Fe(J,oe,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(qe,nt){var Oe,Le,Ze,it,Dt,$t,Pt=nt.dyn_tree,xn=nt.max_code,rn=nt.stat_desc.static_tree,qn=nt.stat_desc.has_stree,sr=nt.stat_desc.extra_bits,Kn=nt.stat_desc.extra_base,Jn=nt.stat_desc.max_length,_n=0;for(it=0;it<=g;it++)qe.bl_count[it]=0;for(Pt[2*qe.heap[qe.heap_max]+1]=0,Oe=qe.heap_max+1;Oe<m;Oe++)Jn<(it=Pt[2*Pt[2*(Le=qe.heap[Oe])+1]+1]+1)&&(it=Jn,_n++),Pt[2*Le+1]=it,xn<Le||(qe.bl_count[it]++,Dt=0,Kn<=Le&&(Dt=sr[Le-Kn]),$t=Pt[2*Le],qe.opt_len+=$t*(it+Dt),qn&&(qe.static_len+=$t*(rn[2*Le+1]+Dt)));if(_n!==0){do{for(it=Jn-1;qe.bl_count[it]===0;)it--;qe.bl_count[it]--,qe.bl_count[it+1]+=2,qe.bl_count[Jn]--,_n-=2}while(0<_n);for(it=Jn;it!==0;it--)for(Le=qe.bl_count[it];Le!==0;)xn<(Ze=qe.heap[--Oe])||(Pt[2*Ze+1]!==it&&(qe.opt_len+=(it-Pt[2*Ze+1])*Pt[2*Ze],Pt[2*Ze+1]=it),Le--)}}(J,de),Z(oe,Ue,J.bl_count)}function B(J,de,X){var ue,te,oe=-1,le=de[1],ae=0,Te=7,Ue=4;for(le===0&&(Te=138,Ue=3),de[2*(X+1)+1]=65535,ue=0;ue<=X;ue++)te=le,le=de[2*(ue+1)+1],++ae<Te&&te===le||(ae<Ue?J.bl_tree[2*te]+=ae:te!==0?(te!==oe&&J.bl_tree[2*te]++,J.bl_tree[2*w]++):ae<=10?J.bl_tree[2*T]++:J.bl_tree[2*C]++,oe=te,Ue=(ae=0)===le?(Te=138,3):te===le?(Te=6,3):(Te=7,4))}function _e(J,de,X){var ue,te,oe=-1,le=de[1],ae=0,Te=7,Ue=4;for(le===0&&(Te=138,Ue=3),ue=0;ue<=X;ue++)if(te=le,le=de[2*(ue+1)+1],!(++ae<Te&&te===le)){if(ae<Ue)for(;Q(J,te,J.bl_tree),--ae!=0;);else te!==0?(te!==oe&&(Q(J,te,J.bl_tree),ae--),Q(J,w,J.bl_tree),K(J,ae-3,2)):ae<=10?(Q(J,T,J.bl_tree),K(J,ae-3,3)):(Q(J,C,J.bl_tree),K(J,ae-11,7));oe=te,Ue=(ae=0)===le?(Te=138,3):te===le?(Te=6,3):(Te=7,4)}}l(P);var Ee=!1;function se(J,de,X,ue){K(J,(u<<1)+(ue?1:0),3),function(te,oe,le,ae){me(te),L(te,le),L(te,~le),s.arraySet(te.pending_buf,te.window,oe,le,te.pending),te.pending+=le}(J,de,X)}i._tr_init=function(J){Ee||(function(){var de,X,ue,te,oe,le=new Array(g+1);for(te=ue=0;te<d-1;te++)for(V[te]=ue,de=0;de<1<<_[te];de++)R[ue++]=te;for(R[ue-1]=te,te=oe=0;te<16;te++)for(P[te]=oe,de=0;de<1<<N[te];de++)I[oe++]=te;for(oe>>=7;te<p;te++)for(P[te]=oe<<7,de=0;de<1<<N[te]-7;de++)I[256+oe++]=te;for(X=0;X<=g;X++)le[X]=0;for(de=0;de<=143;)D[2*de+1]=8,de++,le[8]++;for(;de<=255;)D[2*de+1]=9,de++,le[9]++;for(;de<=279;)D[2*de+1]=7,de++,le[7]++;for(;de<=287;)D[2*de+1]=8,de++,le[8]++;for(Z(D,h+1,le),de=0;de<p;de++)E[2*de+1]=5,E[2*de]=U(de,5);M=new W(D,_,f+1,h,g),H=new W(E,N,0,p,g),G=new W(new Array(0),k,0,y,x)}(),Ee=!0),J.l_desc=new F(J.dyn_ltree,M),J.d_desc=new F(J.dyn_dtree,H),J.bl_desc=new F(J.bl_tree,G),J.bi_buf=0,J.bi_valid=0,pe(J)},i._tr_stored_block=se,i._tr_flush_block=function(J,de,X,ue){var te,oe,le=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(ae){var Te,Ue=4093624447;for(Te=0;Te<=31;Te++,Ue>>>=1)if(1&Ue&&ae.dyn_ltree[2*Te]!==0)return o;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return c;for(Te=32;Te<f;Te++)if(ae.dyn_ltree[2*Te]!==0)return c;return o}(J)),ve(J,J.l_desc),ve(J,J.d_desc),le=function(ae){var Te;for(B(ae,ae.dyn_ltree,ae.l_desc.max_code),B(ae,ae.dyn_dtree,ae.d_desc.max_code),ve(ae,ae.bl_desc),Te=y-1;3<=Te&&ae.bl_tree[2*j[Te]+1]===0;Te--);return ae.opt_len+=3*(Te+1)+5+5+4,Te}(J),te=J.opt_len+3+7>>>3,(oe=J.static_len+3+7>>>3)<=te&&(te=oe)):te=oe=X+5,X+4<=te&&de!==-1?se(J,de,X,ue):J.strategy===4||oe===te?(K(J,2+(ue?1:0),3),Y(J,D,E)):(K(J,4+(ue?1:0),3),function(ae,Te,Ue,qe){var nt;for(K(ae,Te-257,5),K(ae,Ue-1,5),K(ae,qe-4,4),nt=0;nt<qe;nt++)K(ae,ae.bl_tree[2*j[nt]+1],3);_e(ae,ae.dyn_ltree,Te-1),_e(ae,ae.dyn_dtree,Ue-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,le+1),Y(J,J.dyn_ltree,J.dyn_dtree)),pe(J),ue&&me(J)},i._tr_tally=function(J,de,X){return J.pending_buf[J.d_buf+2*J.last_lit]=de>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&de,J.pending_buf[J.l_buf+J.last_lit]=255&X,J.last_lit++,de===0?J.dyn_ltree[2*X]++:(J.matches++,de--,J.dyn_ltree[2*(R[X]+f+1)]++,J.dyn_dtree[2*O(de)]++),J.last_lit===J.lit_bufsize-1},i._tr_align=function(J){K(J,2,3),Q(J,b,D),function(de){de.bi_valid===16?(L(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,c){if(!o.setImmediate){var l,u,d,f,h=1,p={},y=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(w){process.nextTick(function(){x(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,T=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=T,w}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(w){o.postMessage(f+w,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(w){x(w.data)},function(w){d.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(w){var T=m.createElement("script");T.onreadystatechange=function(){x(w),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):function(w){setTimeout(x,0,w)},g.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var T=new Array(arguments.length-1),C=0;C<T.length;C++)T[C]=arguments[C+1];var _={callback:w,args:T};return p[h]=_,l(h),h++},g.clearImmediate=v}function v(w){delete p[w]}function x(w){if(y)setTimeout(x,0,w);else{var T=p[w];if(T){y=!0;try{(function(C){var _=C.callback,N=C.args;switch(N.length){case 0:_();break;case 1:_(N[0]);break;case 2:_(N[0],N[1]);break;case 3:_(N[0],N[1],N[2]);break;default:_.apply(c,N)}})(T)}finally{v(w),y=!1}}}}function b(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(f)===0&&x(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(gY);var XFe=gY.exports,YFe=TT,ZFe=XFe;$y.openArrayBuffer=JFe;$y.splitPath=ePe;$y.joinPath=tPe;function JFe(e){return ZFe.loadAsync(e).then(function(t){function n(o){return t.file(o)!==null}function r(o,c){return t.file(o).async("uint8array").then(function(l){if(c==="base64")return YFe.fromByteArray(l);if(c){var u=new TextDecoder(c);return u.decode(l)}else return l})}function i(o,c){t.file(o,c)}function s(){return t.generateAsync({type:"arraybuffer"})}return{exists:n,read:r,write:i,toArrayBuffer:s}})}function ePe(e){var t=e.lastIndexOf("/");return t===-1?{dirname:"",basename:e}:{dirname:e.substring(0,t),basename:e.substring(t+1)}}function tPe(){var e=Array.prototype.filter.call(arguments,function(n){return n}),t=[];return e.forEach(function(n){/^\//.test(n)?t=[n]:t.push(n)}),t.join("/")}var TI={},od={},Z0={},ET=Ni;Z0.Element=J0;Z0.element=function(e,t,n){return new J0(e,t,n)};Z0.text=function(e){return{type:"text",value:e}};var xY=Z0.emptyElement={first:function(){return null},firstOrEmpty:function(){return xY},attributes:{},children:[]};function J0(e,t,n){this.type="element",this.name=e,this.attributes=t||{},this.children=n||[]}J0.prototype.first=function(e){return ET.find(this.children,function(t){return t.name===e})};J0.prototype.firstOrEmpty=function(e){return this.first(e)||xY};J0.prototype.getElementsByTagName=function(e){var t=ET.filter(this.children,function(n){return n.name===e});return vY(t)};J0.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var nPe={getElementsByTagName:function(e){return vY(ET.flatten(this.map(function(t){return t.getElementsByTagName(e)},!0)))}};function vY(e){return ET.extend(e,nPe)}var yY={},EI={},NT={},eu={},cd={};function rPe(e,t,n){if(n===void 0&&(n=Array.prototype),e&&typeof n.find=="function")return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}}function NI(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function iPe(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var bY=NI({HTML:"text/html",isHTML:function(e){return e===bY.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),wY=NI({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===wY.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});cd.assign=iPe;cd.find=rPe;cd.freeze=NI;cd.MIME_TYPE=bY;cd.NAMESPACE=wY;var _Y=cd,Vl=_Y.find,Qv=_Y.NAMESPACE;function sPe(e){return e!==""}function aPe(e){return e?e.split(/[\t\n\f\r ]+/).filter(sPe):[]}function oPe(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function uL(e){if(!e)return[];var t=aPe(e);return Object.keys(t.reduce(oPe,{}))}function cPe(e){return function(t){return e&&e.indexOf(t)!==-1}}function Hy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function eo(e,t){var n=e.prototype;if(!(n instanceof t)){let i=function(){};var r=i;i.prototype=t.prototype,i=new i,Hy(n,i),e.prototype=n=i}n.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),n.constructor=e)}var to={},rc=to.ELEMENT_NODE=1,T0=to.ATTRIBUTE_NODE=2,Tw=to.TEXT_NODE=3,TY=to.CDATA_SECTION_NODE=4,EY=to.ENTITY_REFERENCE_NODE=5,lPe=to.ENTITY_NODE=6,NY=to.PROCESSING_INSTRUCTION_NODE=7,SY=to.COMMENT_NODE=8,CY=to.DOCUMENT_NODE=9,kY=to.DOCUMENT_TYPE_NODE=10,Zu=to.DOCUMENT_FRAGMENT_NODE=11,uPe=to.NOTATION_NODE=12,Ys={},as={};Ys.INDEX_SIZE_ERR=(as[1]="Index size error",1);Ys.DOMSTRING_SIZE_ERR=(as[2]="DOMString size error",2);var Wa=Ys.HIERARCHY_REQUEST_ERR=(as[3]="Hierarchy request error",3);Ys.WRONG_DOCUMENT_ERR=(as[4]="Wrong document",4);Ys.INVALID_CHARACTER_ERR=(as[5]="Invalid character",5);Ys.NO_DATA_ALLOWED_ERR=(as[6]="No data allowed",6);Ys.NO_MODIFICATION_ALLOWED_ERR=(as[7]="No modification allowed",7);var AY=Ys.NOT_FOUND_ERR=(as[8]="Not found",8);Ys.NOT_SUPPORTED_ERR=(as[9]="Not supported",9);var dL=Ys.INUSE_ATTRIBUTE_ERR=(as[10]="Attribute in use",10);Ys.INVALID_STATE_ERR=(as[11]="Invalid state",11);Ys.SYNTAX_ERR=(as[12]="Syntax error",12);Ys.INVALID_MODIFICATION_ERR=(as[13]="Invalid modification",13);Ys.NAMESPACE_ERR=(as[14]="Invalid namespace",14);Ys.INVALID_ACCESS_ERR=(as[15]="Invalid access",15);function Ti(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,as[e]),this.message=as[e],Error.captureStackTrace&&Error.captureStackTrace(this,Ti);return n.code=e,t&&(this.message=this.message+": "+t),n}Ti.prototype=Error.prototype;Hy(Ys,Ti);function Uu(){}Uu.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)gm(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function E0(e,t){this._node=e,this._refresh=t,SI(this)}function SI(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(VY(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];Hy(n,e),e._inc=t}}E0.prototype.item=function(e){return SI(this),this[e]||null};eo(E0,Uu);function Ew(){}function DY(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function fL(e,t,n,r){if(r?t[DY(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&RY(i,e,r),dPe(i,e,n))}}function hL(e,t,n){var r=DY(t,n);if(r>=0){for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var s=e.ownerDocument;s&&(RY(s,e,n),n.ownerElement=null)}}else throw new Ti(AY,new Error(e.tagName+"@"+n))}Ew.prototype={length:0,item:Uu.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Ti(dL);var n=this.getNamedItem(e.nodeName);return fL(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t=e.ownerElement,n;if(t&&t!=this._ownerElement)throw new Ti(dL);return n=this.getNamedItemNS(e.namespaceURI,e.localName),fL(this._ownerElement,this,e,n),n},removeNamedItem:function(e){var t=this.getNamedItem(e);return hL(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return hL(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}};function jY(){}jY.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new Gy;if(r.implementation=this,r.childNodes=new Uu,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new ST;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}};function vr(){}vr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Nw(this,e,t)},replaceChild:function(e,t){Nw(this,e,t,FY),t&&this.removeChild(t)},removeChild:function(e){return OY(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return HA(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Tw&&e.nodeType==Tw?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r}t=t.nodeType==T0?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==T0?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function IY(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Hy(to,vr);Hy(to,vr.prototype);function Kv(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Kv(e,t))return!0;while(e=e.nextSibling)}function Gy(){this.ownerDocument=this}function dPe(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===Qv.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function RY(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;i===Qv.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function CI(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function OY(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,CI(e.ownerDocument,e),t}function fPe(e){return e&&(e.nodeType===vr.DOCUMENT_NODE||e.nodeType===vr.DOCUMENT_FRAGMENT_NODE||e.nodeType===vr.ELEMENT_NODE)}function hPe(e){return e&&(Wl(e)||kI(e)||Ju(e)||e.nodeType===vr.DOCUMENT_FRAGMENT_NODE||e.nodeType===vr.COMMENT_NODE||e.nodeType===vr.PROCESSING_INSTRUCTION_NODE)}function Ju(e){return e&&e.nodeType===vr.DOCUMENT_TYPE_NODE}function Wl(e){return e&&e.nodeType===vr.ELEMENT_NODE}function kI(e){return e&&e.nodeType===vr.TEXT_NODE}function pL(e,t){var n=e.childNodes||[];if(Vl(n,Wl)||Ju(t))return!1;var r=Vl(n,Ju);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function mL(e,t){var n=e.childNodes||[];function r(s){return Wl(s)&&s!==t}if(Vl(n,r))return!1;var i=Vl(n,Ju);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function pPe(e,t,n){if(!fPe(e))throw new Ti(Wa,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new Ti(AY,"child not in parent");if(!hPe(t)||Ju(t)&&e.nodeType!==vr.DOCUMENT_NODE)throw new Ti(Wa,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function mPe(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===vr.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Wl);if(s.length>1||Vl(i,kI))throw new Ti(Wa,"More than one element or text in fragment");if(s.length===1&&!pL(e,n))throw new Ti(Wa,"Element in fragment can not be inserted before doctype")}if(Wl(t)&&!pL(e,n))throw new Ti(Wa,"Only one element can be added and only after doctype");if(Ju(t)){if(Vl(r,Ju))throw new Ti(Wa,"Only one doctype is allowed");var o=Vl(r,Wl);if(n&&r.indexOf(o)<r.indexOf(n))throw new Ti(Wa,"Doctype can only be inserted before an element");if(!n&&o)throw new Ti(Wa,"Doctype can not be appended since element is present")}}function FY(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===vr.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Wl);if(s.length>1||Vl(i,kI))throw new Ti(Wa,"More than one element or text in fragment");if(s.length===1&&!mL(e,n))throw new Ti(Wa,"Element in fragment can not be inserted before doctype")}if(Wl(t)&&!mL(e,n))throw new Ti(Wa,"Only one element can be added and only after doctype");if(Ju(t)){let l=function(u){return Ju(u)&&u!==n};var c=l;if(Vl(r,l))throw new Ti(Wa,"Only one doctype is allowed");var o=Vl(r,Wl);if(n&&r.indexOf(o)<r.indexOf(n))throw new Ti(Wa,"Doctype can only be inserted before an element")}}function Nw(e,t,n,r){pPe(e,t,n),e.nodeType===vr.DOCUMENT_NODE&&(r||mPe)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Zu){var s=t.firstChild;if(s==null)return t;var o=t.lastChild}else s=o=t;var c=n?n.previousSibling:e.lastChild;s.previousSibling=c,o.nextSibling=n,c?c.nextSibling=s:e.firstChild=s,n==null?e.lastChild=o:n.previousSibling=o;do{s.parentNode=e;var l=e.ownerDocument||e;Xv(s,l)}while(s!==o&&(s=s.nextSibling));return CI(e.ownerDocument||e,e),t.nodeType==Zu&&(t.firstChild=t.lastChild=null),t}function Xv(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===rc&&e.attributes)for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);r&&(r.ownerDocument=t)}for(var i=e.firstChild;i;)Xv(i,t),i=i.nextSibling}}function gPe(e,t){t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,CI(e.ownerDocument,e,t);var n=e.ownerDocument||e;return Xv(t,n),t}Gy.prototype={nodeName:"#document",nodeType:CY,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Zu){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return Nw(this,e,t),Xv(e,this),this.documentElement===null&&e.nodeType===rc&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),OY(this,e)},replaceChild:function(e,t){Nw(this,e,t,FY),Xv(e,this),t&&this.removeChild(t),Wl(e)&&(this.documentElement=e)},importNode:function(e,t){return BY(this,e,t)},getElementById:function(e){var t=null;return Kv(this.documentElement,function(n){if(n.nodeType==rc&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=uL(e);return new E0(this,function(n){var r=[];return t.length>0&&Kv(n.documentElement,function(i){if(i!==n&&i.nodeType===rc){var s=i.getAttribute("class");if(s){var o=e===s;if(!o){var c=uL(s);o=t.every(cPe(c))}o&&r.push(i)}}}),r})},createElement:function(e){var t=new np;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Uu;var n=t.attributes=new Ew;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new CT;return e.ownerDocument=this,e.childNodes=new Uu,e},createTextNode:function(e){var t=new AI;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new DI;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new jI;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new RI;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Sw;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new II;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new np,r=t.split(":"),i=n.attributes=new Ew;return n.childNodes=new Uu,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new Sw,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}};eo(Gy,vr);function np(){this._nsMap={}}np.prototype={nodeType:rc,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Zu?this.insertBefore(e,null):gPe(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new E0(this,function(t){var n=[];return Kv(t,function(r){r!==t&&r.nodeType==rc&&(e==="*"||r.tagName==e)&&n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new E0(this,function(n){var r=[];return Kv(n,function(i){i!==n&&i.nodeType===rc&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&r.push(i)}),r})}};Gy.prototype.getElementsByTagName=np.prototype.getElementsByTagName;Gy.prototype.getElementsByTagNameNS=np.prototype.getElementsByTagNameNS;eo(np,vr);function Sw(){}Sw.prototype.nodeType=T0;eo(Sw,vr);function Qy(){}Qy.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(as[Wa])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};eo(Qy,vr);function AI(){}AI.prototype={nodeName:"#text",nodeType:Tw,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};eo(AI,Qy);function DI(){}DI.prototype={nodeName:"#comment",nodeType:SY};eo(DI,Qy);function jI(){}jI.prototype={nodeName:"#cdata-section",nodeType:TY};eo(jI,Qy);function ST(){}ST.prototype.nodeType=kY;eo(ST,vr);function PY(){}PY.prototype.nodeType=uPe;eo(PY,vr);function UY(){}UY.prototype.nodeType=lPe;eo(UY,vr);function II(){}II.prototype.nodeType=EY;eo(II,vr);function CT(){}CT.prototype.nodeName="#document-fragment";CT.prototype.nodeType=Zu;eo(CT,vr);function RI(){}RI.prototype.nodeType=NY;eo(RI,vr);function LY(){}LY.prototype.serializeToString=function(e,t,n){return MY.call(e,t,n)};vr.prototype.toString=MY;function MY(e,t){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return gm(this,n,e,t,o),n.join("")}function gL(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i||r==="xml"&&i===Qv.XML||i===Qv.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===r)return o.namespace!==i}return!0}function LS(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,IY),'"')}function gm(e,t,n,r,i){if(i||(i=[]),r)if(e=r(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case rc:var s=e.attributes,o=s.length,v=e.firstChild,c=e.tagName;n=Qv.isHTML(e.namespaceURI)||n;var l=c;if(!n&&!e.prefix&&e.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.prefix===""&&h.namespace===e.namespaceURI){u=h.namespace;break}}if(u!==e.namespaceURI)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.namespace===e.namespaceURI){h.prefix&&(l=h.prefix+":"+c);break}}}t.push("<",l);for(var p=0;p<o;p++){var y=s.item(p);y.prefix=="xmlns"?i.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&i.push({prefix:"",namespace:y.value})}for(var p=0;p<o;p++){var y=s.item(p);if(gL(y,n,i)){var m=y.prefix||"",g=y.namespaceURI;LS(t,m?"xmlns:"+m:"xmlns",g),i.push({prefix:m,namespace:g})}gm(y,t,n,r,i)}if(c===l&&gL(e,n,i)){var m=e.prefix||"",g=e.namespaceURI;LS(t,m?"xmlns:"+m:"xmlns",g),i.push({prefix:m,namespace:g})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;v;)v.data?t.push(v.data):gm(v,t,n,r,i.slice()),v=v.nextSibling;else for(;v;)gm(v,t,n,r,i.slice()),v=v.nextSibling;t.push("</",l,">")}else t.push("/>");return;case CY:case Zu:for(var v=e.firstChild;v;)gm(v,t,n,r,i.slice()),v=v.nextSibling;return;case T0:return LS(t,e.name,e.value);case Tw:return t.push(e.data.replace(/[<&>]/g,IY));case TY:return t.push("<![CDATA[",e.data,"]]>");case SY:return t.push("<!--",e.data,"-->");case kY:var x=e.publicId,b=e.systemId;if(t.push("<!DOCTYPE ",e.name),x)t.push(" PUBLIC ",x),b&&b!="."&&t.push(" ",b),t.push(">");else if(b&&b!=".")t.push(" SYSTEM ",b,">");else{var w=e.internalSubset;w&&t.push(" [",w,"]"),t.push(">")}return;case NY:return t.push("<?",e.target," ",e.data,"?>");case EY:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function BY(e,t,n){var r;switch(t.nodeType){case rc:r=t.cloneNode(!1),r.ownerDocument=e;case Zu:break;case T0:n=!0;break}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(BY(e,i,n)),i=i.nextSibling;return r}function HA(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(t.childNodes&&(r.childNodes=new Uu),r.ownerDocument=e,r.nodeType){case rc:var o=t.attributes,c=r.attributes=new Ew,l=o.length;c._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(HA(e,o.item(u),!0));break;case T0:n=!0}if(n)for(var d=t.firstChild;d;)r.appendChild(HA(e,d,n)),d=d.nextSibling;return r}function VY(e,t,n){e[t]=n}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case rc:case Zu:var n=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};var GMe=e;Object.defineProperty(E0.prototype,"length",{get:function(){return SI(this),this.$$length}}),Object.defineProperty(vr.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case rc:case Zu:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),VY=function(t,n,r){t["$$"+n]=r}}}catch{}eu.DocumentType=ST;eu.DOMException=Ti;eu.DOMImplementation=jY;eu.Element=np;eu.Node=vr;eu.NodeList=Uu;eu.XMLSerializer=LY;var kT={},WY={};(function(e){var t=cd.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(WY);var OI={},Yv=cd.NAMESPACE,GA=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,xL=new RegExp("[\\-\\.0-9"+GA.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),vL=new RegExp("^"+GA.source+xL.source+"*(?::"+GA.source+xL.source+"*)?$"),jg=0,xd=1,Mp=2,Ig=3,Bp=4,Vp=5,Rg=6,eb=7;function N0(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,N0)}N0.prototype=new Error;N0.prototype.name=N0.name;function qY(){}qY.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),zY(t,t={}),xPe(e,t,n,r,this.errorHandler),r.endDocument()}};function xPe(e,t,n,r,i){function s(M){if(M>65535){M-=65536;var H=55296+(M>>10),G=56320+(M&1023);return String.fromCharCode(H,G)}else return String.fromCharCode(M)}function o(M){var H=M.slice(1,-1);return Object.hasOwnProperty.call(n,H)?n[H]:H.charAt(0)==="#"?s(parseInt(H.substr(1).replace("x","0x"))):(i.error("entity not found:"+M),M)}function c(M){if(M>m){var H=e.substring(m,M).replace(/&#?\w+;/g,o);h&&l(m),r.characters(H,0,M-m),m=M}}function l(M,H){for(;M>=d&&(H=f.exec(e));)u=H.index,d=u+H[0].length,h.lineNumber++;h.columnNumber=M-u+1}for(var u=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,p=[{currentNSMap:t}],y={},m=0;;){try{var g=e.indexOf("<",m);if(g<0){if(!e.substr(m).match(/^\s*$/)){var v=r.doc,x=v.createTextNode(e.substr(m));v.appendChild(x),r.currentElement=x}return}switch(g>m&&c(g),e.charAt(g+1)){case"/":var D=e.indexOf(">",g+3),b=e.substring(g+2,D).replace(/[ \t\n\r]+$/g,""),w=p.pop();D<0?(b=e.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+w.tagName),D=g+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),D=g+1+b.length);var T=w.localNSMap,C=w.tagName==b,_=C||w.tagName&&w.tagName.toLowerCase()==b.toLowerCase();if(_){if(r.endElement(w.uri,w.localName,b),T)for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&r.endPrefixMapping(N);C||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+w.tagName)}else p.push(w);D++;break;case"?":h&&l(g),D=_Pe(e,g,r);break;case"!":h&&l(g),D=wPe(e,g,r,i);break;default:h&&l(g);var k=new $Y,j=p[p.length-1].currentNSMap,D=vPe(e,g,k,j,o,i),E=k.length;if(!k.closed&&bPe(e,D,k.tagName,y)&&(k.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),h&&E){for(var I=yL(h,{}),R=0;R<E;R++){var V=k[R];l(V.offset),V.locator=yL(h,{})}r.locator=I,bL(k,r,j)&&p.push(k),r.locator=h}else bL(k,r,j)&&p.push(k);Yv.isHTML(k.uri)&&!k.closed?D=yPe(e,D,k.tagName,o,r):D++}}catch(M){if(M instanceof N0)throw M;i.error("element parse error: "+M),D=-1}D>m?m=D:c(Math.max(g,m)+1)}}function yL(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function vPe(e,t,n,r,i,s){function o(h,p,y){n.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),n.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),y)}for(var c,l,u=++t,d=jg;;){var f=e.charAt(u);switch(f){case"=":if(d===xd)c=e.slice(t,u),d=Ig;else if(d===Mp)d=Ig;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===Ig||d===xd)if(d===xd&&(s.warning('attribute value must after "="'),c=e.slice(t,u)),t=u+1,u=e.indexOf(f,t),u>0)l=e.slice(t,u),o(c,l,t-1),d=Vp;else throw new Error("attribute value no end '"+f+"' match");else if(d==Bp)l=e.slice(t,u),o(c,l,t),s.warning('attribute "'+c+'" missed start quot('+f+")!!"),t=u+1,d=Vp;else throw new Error('attribute value must after "="');break;case"/":switch(d){case jg:n.setTagName(e.slice(t,u));case Vp:case Rg:case eb:d=eb,n.closed=!0;case Bp:case xd:break;case Mp:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==jg&&n.setTagName(e.slice(t,u)),u;case">":switch(d){case jg:n.setTagName(e.slice(t,u));case Vp:case Rg:case eb:break;case Bp:case xd:l=e.slice(t,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case Mp:d===Mp&&(l=c),d==Bp?(s.warning('attribute "'+l+'" missed quot(")!'),o(c,l,t)):((!Yv.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,t));break;case Ig:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(d){case jg:n.setTagName(e.slice(t,u)),d=Rg;break;case xd:c=e.slice(t,u),d=Mp;break;case Bp:var l=e.slice(t,u);s.warning('attribute "'+l+'" missed quot(")!!'),o(c,l,t);case Vp:d=Rg;break}else switch(d){case Mp:n.tagName,(!Yv.isHTML(r[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),o(c,c,t),t=u,d=xd;break;case Vp:s.warning('attribute space is required"'+c+'"!!');case Rg:d=xd,t=u;break;case Ig:d=Bp,t=u;break;case eb:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function bL(e,t,n){for(var r=e.tagName,i=null,f=e.length;f--;){var s=e[f],o=s.qName,c=s.value,h=o.indexOf(":");if(h>0)var l=s.prefix=o.slice(0,h),u=o.slice(h+1),d=l==="xmlns"&&u;else u=o,l=null,d=o==="xmlns"&&"";s.localName=u,d!==!1&&(i==null&&(i={},zY(n,n={})),n[d]=i[d]=c,s.uri=Yv.XMLNS,t.startPrefixMapping(d,c))}for(var f=e.length;f--;){s=e[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=Yv.XML),l!=="xmlns"&&(s.uri=n[l||""]))}var h=r.indexOf(":");h>0?(l=e.prefix=r.slice(0,h),u=e.localName=r.slice(h+1)):(l=null,u=e.localName=r);var p=e.uri=n[l||""];if(t.startElement(p,u,r,e),e.closed){if(t.endElement(p,u,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&t.endPrefixMapping(l)}else return e.currentNSMap=n,e.localNSMap=i,!0}function yPe(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=e.indexOf("</"+n+">",t),o=e.substring(t+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),s)}return t+1}function bPe(e,t,n,r){var i=r[n];return i==null&&(i=e.lastIndexOf("</"+n+">"),i<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function zY(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function wPe(e,t,n,r){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var s=e.indexOf("-->",t+4);return s>t?(n.comment(e,t+4,s-t-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var s=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,s-t-9),n.endCDATA(),s+3}var o=TPe(e,t),c=o.length;if(c>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,d=!1;c>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],d=c>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var f=o[c-1];return n.startDTD(l,u,d),n.endDTD(),f.index+f[0].length}}return-1}function _Pe(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function $Y(){this.attributeNames={}}$Y.prototype={setTagName:function(e){if(!vL.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!vL.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function TPe(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}OI.XMLReader=qY;OI.ParseError=N0;var EPe=cd,NPe=eu,wL=WY,HY=OI,SPe=NPe.DOMImplementation,_L=EPe.NAMESPACE,CPe=HY.ParseError,kPe=HY.XMLReader;function GY(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function QY(e){this.options=e||{locator:{}}}QY.prototype.parseFromString=function(e,t){var n=this.options,r=new kPe,i=n.domBuilder||new Ky,s=n.errorHandler,o=n.locator,c=n.xmlns||{},l=/\/x?html?$/.test(t),u=l?wL.HTML_ENTITIES:wL.XML_ENTITIES;o&&i.setDocumentLocator(o),r.errorHandler=APe(s,i,o),r.domBuilder=n.domBuilder||i,l&&(c[""]=_L.HTML),c.xml=c.xml||_L.XML;var d=n.normalizeLineEndings||GY;return e&&typeof e=="string"?r.parse(d(e),c,u):r.errorHandler.error("invalid doc source"),i.doc};function APe(e,t,n){if(!e){if(t instanceof Ky)return t;e=t}var r={},i=e instanceof Function;n=n||{};function s(o){var c=e[o];!c&&i&&(c=e.length==2?function(l){e(o,l)}:e),r[o]=c&&function(l){c("[xmldom "+o+"]	"+l+QA(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Ky(){this.cdata=!1}function Wp(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Ky.prototype={startDocument:function(){this.doc=new SPe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),o=r.length;tb(this,s),this.currentElement=s,this.locator&&Wp(this.locator,s);for(var c=0;c<o;c++){var e=r.getURI(c),l=r.getValue(c),n=r.getQName(c),u=i.createAttributeNS(e,n);this.locator&&Wp(r.getLocator(c),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&Wp(this.locator,n),tb(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=TL.apply(this,arguments),e){if(this.cdata)var r=this.doc.createCDATASection(e);else var r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&Wp(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=TL.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&Wp(this.locator,r),tb(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&Wp(this.locator,i),tb(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,QA(this.locator))},error:function(e){console.error("[xmldom error]	"+e,QA(this.locator))},fatalError:function(e){throw new CPe(e,this.locator)}};function QA(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function TL(e,t,n){return typeof e=="string"?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Ky.prototype[e]=function(){return null}});function tb(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}kT.__DOMHandler=Ky;kT.normalizeLineEndings=GY;kT.DOMParser=QY;var KY=eu;NT.DOMImplementation=KY.DOMImplementation;NT.XMLSerializer=KY.XMLSerializer;NT.DOMParser=kT.DOMParser;var DPe=NT,jPe=eu;function IPe(e){var t=null,n=new DPe.DOMParser({errorHandler:function(i,s){t={level:i,message:s}}}),r=n.parseFromString(e);if(t===null)return r;throw new Error(t.level+": "+t.message)}EI.parseFromString=IPe;EI.Node=jPe.Node;var MS=os,EL=Ni,XY=EI,YY=Z0,RPe=YY.Element;yY.readString=OPe;var NL=XY.Node;function OPe(e,t){t=t||{};try{var n=XY.parseFromString(e,"text/xml")}catch(o){return MS.reject(o)}if(n.documentElement.tagName==="parsererror")return MS.resolve(new Error(n.documentElement.textContent));function r(o){switch(o.nodeType){case NL.ELEMENT_NODE:return i(o);case NL.TEXT_NODE:return YY.text(o.nodeValue)}}function i(o){var c=s(o),l=[];EL.forEach(o.childNodes,function(d){var f=r(d);f&&l.push(f)});var u={};return EL.forEach(o.attributes,function(d){u[s(d)]=d.value}),new RPe(c,u,l)}function s(o){if(o.namespaceURI){var c=t[o.namespaceURI],l;return c?l=c+":":l="{"+o.namespaceURI+"}",l+o.localName}else return o.localName}return MS.resolve(r(n.documentElement))}var ZY={},ox={},gu={},SL;function Hf(){return SL||(SL=1,(function(){var e,t,n,r,i,s,o,c=[].slice,l={}.hasOwnProperty;e=function(){var u,d,f,h,p,y;if(y=arguments[0],p=2<=arguments.length?c.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(u=0,f=p.length;u<f;u++)if(h=p[u],h!=null)for(d in h)l.call(h,d)&&(y[d]=h[d]);return y},i=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},s=function(u){var d;return!!u&&((d=typeof u)=="function"||d==="object")},n=function(u){return i(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var d;if(n(u))return!u.length;for(d in u)if(l.call(u,d))return!1;return!0},o=function(u){var d,f;return s(u)&&(f=Object.getPrototypeOf(u))&&(d=f.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},t=function(u){return i(u.valueOf)?u.valueOf():u},gu.assign=e,gu.isFunction=i,gu.isObject=s,gu.isArray=n,gu.isEmpty=r,gu.isPlainObject=o,gu.getValue=t}).call(Kt)),gu}var BS={exports:{}},VS={exports:{}},WS={exports:{}},qS={exports:{}},CL;function JY(){return CL||(CL=1,(function(){qS.exports=function(){function e(t,n,r){if(this.options=t.options,this.stringify=t.stringify,this.parent=t,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},e.prototype.debugInfo=function(t){return t=t||this.name,t==null?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},e}()}).call(Kt)),qS.exports}var kL;function AT(){return kL||(kL=1,(function(){var e,t,n,r,i,s,o=function(l,u){for(var d in u)c.call(u,d)&&(l[d]=u[d]);function f(){this.constructor=l}return f.prototype=u.prototype,l.prototype=new f,l.__super__=u.prototype,l},c={}.hasOwnProperty;s=Hf(),i=s.isObject,r=s.isFunction,n=s.getValue,t=no(),e=JY(),WS.exports=function(l){o(u,l);function u(d,f,h){if(u.__super__.constructor.call(this,d),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return u.prototype.clone=function(){var d,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)c.call(p,f)&&(d=p[f],h.attributes[f]=d.clone());return h.children=[],this.children.forEach(function(y){var m;return m=y.clone(),m.parent=h,h.children.push(m)}),h},u.prototype.attribute=function(d,f){var h,p;if(d!=null&&(d=n(d)),i(d))for(h in d)c.call(d,h)&&(p=d[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[d]=new e(this,d,f));return this},u.prototype.removeAttribute=function(d){var f,h,p;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=n(d),Array.isArray(d))for(h=0,p=d.length;h<p;h++)f=d[h],delete this.attributes[f];else delete this.attributes[d];return this},u.prototype.toString=function(d){return this.options.writer.set(d).element(this)},u.prototype.att=function(d,f){return this.attribute(d,f)},u.prototype.a=function(d,f){return this.attribute(d,f)},u}(t)}).call(Kt)),WS.exports}var zS={exports:{}},AL;function DT(){return AL||(AL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),zS.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i}(e)}).call(Kt)),zS.exports}var $S={exports:{}},DL;function jT(){return DL||(DL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),$S.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i}(e)}).call(Kt)),$S.exports}var HS={exports:{}},jL;function IT(){return jL||(jL=1,(function(){var e,t,n=function(i,s){for(var o in s)r.call(s,o)&&(i[o]=s[o]);function c(){this.constructor=i}return c.prototype=s.prototype,i.prototype=new c,i.__super__=s.prototype,i},r={}.hasOwnProperty;t=Hf().isObject,e=no(),HS.exports=function(i){n(s,i);function s(o,c,l,u){var d;s.__super__.constructor.call(this,o),t(c)&&(d=c,c=d.version,l=d.encoding,u=d.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return s.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},s}(e)}).call(Kt)),HS.exports}var GS={exports:{}},QS={exports:{}},IL;function RT(){return IL||(IL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),QS.exports=function(r){t(i,r);function i(s,o,c,l,u,d){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(d&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(c),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=u}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i}(e)}).call(Kt)),QS.exports}var KS={exports:{}},RL;function OT(){return RL||(RL=1,(function(){var e,t,n=function(i,s){for(var o in s)r.call(s,o)&&(i[o]=s[o]);function c(){this.constructor=i}return c.prototype=s.prototype,i.prototype=new c,i.__super__=s.prototype,i},r={}.hasOwnProperty;t=Hf().isObject,e=no(),KS.exports=function(i){n(s,i);function s(o,c,l,u){if(s.__super__.constructor.call(this,o),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!c,this.name=this.stringify.eleName(l),!t(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},s}(e)}).call(Kt)),KS.exports}var XS={exports:{}},OL;function FT(){return OL||(OL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),XS.exports=function(r){t(i,r);function i(s,o,c){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(c)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i}(e)}).call(Kt)),XS.exports}var YS={exports:{}},FL;function PT(){return FL||(FL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),YS.exports=function(r){t(i,r);function i(s,o,c){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i}(e)}).call(Kt)),YS.exports}var PL;function UT(){return PL||(PL=1,(function(){var e,t,n,r,i,s,o=function(l,u){for(var d in u)c.call(u,d)&&(l[d]=u[d]);function f(){this.constructor=l}return f.prototype=u.prototype,l.prototype=new f,l.__super__=u.prototype,l},c={}.hasOwnProperty;s=Hf().isObject,i=no(),e=RT(),n=OT(),t=FT(),r=PT(),GS.exports=function(l){o(u,l);function u(d,f,h){var p,y;u.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(y=[f,h],h=y[0],f=y[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return u.prototype.element=function(d,f){var h;return h=new t(this,d,f),this.children.push(h),this},u.prototype.attList=function(d,f,h,p,y){var m;return m=new e(this,d,f,h,p,y),this.children.push(m),this},u.prototype.entity=function(d,f){var h;return h=new n(this,!1,d,f),this.children.push(h),this},u.prototype.pEntity=function(d,f){var h;return h=new n(this,!0,d,f),this.children.push(h),this},u.prototype.notation=function(d,f){var h;return h=new r(this,d,f),this.children.push(h),this},u.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},u.prototype.ele=function(d,f){return this.element(d,f)},u.prototype.att=function(d,f,h,p,y){return this.attList(d,f,h,p,y)},u.prototype.ent=function(d,f){return this.entity(d,f)},u.prototype.pent=function(d,f){return this.pEntity(d,f)},u.prototype.not=function(d,f){return this.notation(d,f)},u.prototype.up=function(){return this.root()||this.documentObject},u}(i)}).call(Kt)),GS.exports}var ZS={exports:{}},UL;function LT(){return UL||(UL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),ZS.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i}(e)}).call(Kt)),ZS.exports}var JS={exports:{}},LL;function MT(){return LL||(LL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),JS.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i}(e)}).call(Kt)),JS.exports}var eC={exports:{}},ML;function BT(){return ML||(ML=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),eC.exports=function(r){t(i,r);function i(s,o,c){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),c&&(this.value=this.stringify.insValue(c))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i}(e)}).call(Kt)),eC.exports}var tC={exports:{}},BL;function FI(){return BL||(BL=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=no(),tC.exports=function(r){t(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i}(e)}).call(Kt)),tC.exports}var VL;function no(){return VL||(VL=1,(function(){var e,t,n,r,i,s,o,c,l,u,d,f,h,p,y={}.hasOwnProperty;p=Hf(),h=p.isObject,f=p.isFunction,d=p.isEmpty,u=p.getValue,s=null,e=null,t=null,n=null,r=null,c=null,l=null,o=null,i=null,VS.exports=function(){function m(g){this.parent=g,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=AT(),e=DT(),t=jT(),n=IT(),r=UT(),c=LT(),l=MT(),o=BT(),i=FI())}return m.prototype.element=function(g,v,x){var b,w,T,C,_,N,k,j,D,E,I;if(N=null,v===null&&x==null&&(D=[{},null],v=D[0],x=D[1]),v==null&&(v={}),v=u(v),h(v)||(E=[v,x],x=E[0],v=E[1]),g!=null&&(g=u(g)),Array.isArray(g))for(T=0,k=g.length;T<k;T++)w=g[T],N=this.element(w);else if(f(g))N=this.element(g.apply());else if(h(g)){for(_ in g)if(y.call(g,_))if(I=g[_],f(I)&&(I=I.apply()),h(I)&&d(I)&&(I=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&_.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(_.substr(this.stringify.convertAttKey.length),I);else if(!this.options.separateArrayItems&&Array.isArray(I))for(C=0,j=I.length;C<j;C++)w=I[C],b={},b[_]=w,N=this.element(b);else h(I)?(N=this.element(_),N.element(I)):N=this.element(_,I)}else this.options.skipNullNodes&&x===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&g.indexOf(this.stringify.convertTextKey)===0?N=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&g.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&g.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&g.indexOf(this.stringify.convertRawKey)===0?N=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&g.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(g.substr(this.stringify.convertPIKey.length),x):N=this.node(g,v,x);if(N==null)throw new Error("Could not create any elements with: "+g+". "+this.debugInfo());return N},m.prototype.insertBefore=function(g,v,x){var b,w,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w),b=this.parent.element(g,v,x),Array.prototype.push.apply(this.parent.children,T),b},m.prototype.insertAfter=function(g,v,x){var b,w,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w+1),b=this.parent.element(g,v,x),Array.prototype.push.apply(this.parent.children,T),b},m.prototype.remove=function(){var g;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return g=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[g,g-g+1].concat([])),this.parent},m.prototype.node=function(g,v,x){var b,w;return g!=null&&(g=u(g)),v||(v={}),v=u(v),h(v)||(w=[v,x],x=w[0],v=w[1]),b=new s(this,g,v),x!=null&&b.text(x),this.children.push(b),b},m.prototype.text=function(g){var v;return v=new l(this,g),this.children.push(v),this},m.prototype.cdata=function(g){var v;return v=new e(this,g),this.children.push(v),this},m.prototype.comment=function(g){var v;return v=new t(this,g),this.children.push(v),this},m.prototype.commentBefore=function(g){var v,x;return v=this.parent.children.indexOf(this),x=this.parent.children.splice(v),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,x),this},m.prototype.commentAfter=function(g){var v,x;return v=this.parent.children.indexOf(this),x=this.parent.children.splice(v+1),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,x),this},m.prototype.raw=function(g){var v;return v=new c(this,g),this.children.push(v),this},m.prototype.dummy=function(){var g;return g=new i(this),this.children.push(g),g},m.prototype.instruction=function(g,v){var x,b,w,T,C;if(g!=null&&(g=u(g)),v!=null&&(v=u(v)),Array.isArray(g))for(T=0,C=g.length;T<C;T++)x=g[T],this.instruction(x);else if(h(g))for(x in g)y.call(g,x)&&(b=g[x],this.instruction(x,b));else f(v)&&(v=v.apply()),w=new o(this,g,v),this.children.push(w);return this},m.prototype.instructionBefore=function(g,v){var x,b;return x=this.parent.children.indexOf(this),b=this.parent.children.splice(x),this.parent.instruction(g,v),Array.prototype.push.apply(this.parent.children,b),this},m.prototype.instructionAfter=function(g,v){var x,b;return x=this.parent.children.indexOf(this),b=this.parent.children.splice(x+1),this.parent.instruction(g,v),Array.prototype.push.apply(this.parent.children,b),this},m.prototype.declaration=function(g,v,x){var b,w;return b=this.document(),w=new n(b,g,v,x),b.children[0]instanceof n?b.children[0]=w:b.children.unshift(w),b.root()||b},m.prototype.doctype=function(g,v){var x,b,w,T,C,_,N,k,j,D;for(b=this.document(),w=new r(b,g,v),j=b.children,T=C=0,N=j.length;C<N;T=++C)if(x=j[T],x instanceof r)return b.children[T]=w,w;for(D=b.children,T=_=0,k=D.length;_<k;T=++_)if(x=D[T],x.isRoot)return b.children.splice(T,0,w),w;return b.children.push(w),w},m.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},m.prototype.root=function(){var g;for(g=this;g;){if(g.isDocument)return g.rootObject;if(g.isRoot)return g;g=g.parent}},m.prototype.document=function(){var g;for(g=this;g;){if(g.isDocument)return g;g=g.parent}},m.prototype.end=function(g){return this.document().end(g)},m.prototype.prev=function(){var g;for(g=this.parent.children.indexOf(this);g>0&&this.parent.children[g-1].isDummy;)g=g-1;if(g<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[g-1]},m.prototype.next=function(){var g;for(g=this.parent.children.indexOf(this);g<this.parent.children.length-1&&this.parent.children[g+1].isDummy;)g=g+1;if(g===-1||g===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[g+1]},m.prototype.importDocument=function(g){var v;return v=g.root().clone(),v.parent=this,v.isRoot=!1,this.children.push(v),this},m.prototype.debugInfo=function(g){var v,x;return g=g||this.name,g==null&&!((v=this.parent)!=null&&v.name)?"":g==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+g+">, parent: <"+this.parent.name+">":"node: <"+g+">"},m.prototype.ele=function(g,v,x){return this.element(g,v,x)},m.prototype.nod=function(g,v,x){return this.node(g,v,x)},m.prototype.txt=function(g){return this.text(g)},m.prototype.dat=function(g){return this.cdata(g)},m.prototype.com=function(g){return this.comment(g)},m.prototype.ins=function(g,v){return this.instruction(g,v)},m.prototype.doc=function(){return this.document()},m.prototype.dec=function(g,v,x){return this.declaration(g,v,x)},m.prototype.dtd=function(g,v){return this.doctype(g,v)},m.prototype.e=function(g,v,x){return this.element(g,v,x)},m.prototype.n=function(g,v,x){return this.node(g,v,x)},m.prototype.t=function(g){return this.text(g)},m.prototype.d=function(g){return this.cdata(g)},m.prototype.c=function(g){return this.comment(g)},m.prototype.r=function(g){return this.raw(g)},m.prototype.i=function(g,v){return this.instruction(g,v)},m.prototype.u=function(){return this.up()},m.prototype.importXMLBuilder=function(g){return this.importDocument(g)},m}()}).call(Kt)),VS.exports}var nC={exports:{}},WL;function eZ(){return WL||(WL=1,(function(){var e=function(n,r){return function(){return n.apply(r,arguments)}},t={}.hasOwnProperty;nC.exports=function(){function n(r){this.assertLegalChar=e(this.assertLegalChar,this);var i,s,o;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)t.call(s,i)&&(o=s[i],this[i]=o)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(Kt)),nC.exports}var rC={exports:{}},iC={exports:{}},qL;function tZ(){return qL||(qL=1,(function(){var e={}.hasOwnProperty;iC.exports=function(){function t(n){var r,i,s,o,c,l,u,d,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(o=n.newline)!=null?o:`
`,this.offset=(c=n.offset)!=null?c:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=n.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=n.writer||{};for(r in d)e.call(d,r)&&(f=d[r],this[r]=f)}return t.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)e.call(i,r)&&(s=i[r],this[r]=s);return this},t.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},t}()}).call(Kt)),iC.exports}var zL;function PI(){return zL||(zL=1,(function(){var e,t,n,r,i,s,o,c,l,u,d,f,h,p,y=function(g,v){for(var x in v)m.call(v,x)&&(g[x]=v[x]);function b(){this.constructor=g}return b.prototype=v.prototype,g.prototype=new b,g.__super__=v.prototype,g},m={}.hasOwnProperty;o=IT(),c=UT(),e=DT(),t=jT(),u=AT(),f=LT(),h=MT(),d=BT(),l=FI(),n=RT(),r=FT(),i=OT(),s=PT(),p=tZ(),rC.exports=function(g){y(v,g);function v(x){v.__super__.constructor.call(this,x)}return v.prototype.document=function(x){var b,w,T,C,_;for(this.textispresent=!1,C="",_=x.children,w=0,T=_.length;w<T;w++)b=_[w],!(b instanceof l)&&(C+=(function(){switch(!1){case!(b instanceof o):return this.declaration(b);case!(b instanceof c):return this.docType(b);case!(b instanceof t):return this.comment(b);case!(b instanceof d):return this.processingInstruction(b);default:return this.element(b,0)}}).call(this));return this.pretty&&C.slice(-this.newline.length)===this.newline&&(C=C.slice(0,-this.newline.length)),C},v.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},v.prototype.cdata=function(x,b){return this.space(b)+"<![CDATA["+x.text+"]]>"+this.newline},v.prototype.comment=function(x,b){return this.space(b)+"<!-- "+x.text+" -->"+this.newline},v.prototype.declaration=function(x,b){var w;return w=this.space(b),w+='<?xml version="'+x.version+'"',x.encoding!=null&&(w+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(w+=' standalone="'+x.standalone+'"'),w+=this.spacebeforeslash+"?>",w+=this.newline,w},v.prototype.docType=function(x,b){var w,T,C,_,N;if(b||(b=0),_=this.space(b),_+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?_+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(_+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(_+=" [",_+=this.newline,N=x.children,T=0,C=N.length;T<C;T++)w=N[T],_+=(function(){switch(!1){case!(w instanceof n):return this.dtdAttList(w,b+1);case!(w instanceof r):return this.dtdElement(w,b+1);case!(w instanceof i):return this.dtdEntity(w,b+1);case!(w instanceof s):return this.dtdNotation(w,b+1);case!(w instanceof e):return this.cdata(w,b+1);case!(w instanceof t):return this.comment(w,b+1);case!(w instanceof d):return this.processingInstruction(w,b+1);default:throw new Error("Unknown DTD node type: "+w.constructor.name)}}).call(this);_+="]"}return _+=this.spacebeforeslash+">",_+=this.newline,_},v.prototype.element=function(x,b){var w,T,C,_,N,k,j,D,E,I,R,V,M;b||(b=0),M=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),V=this.space(b),D="",D+=V+"<"+x.name,E=x.attributes;for(j in E)m.call(E,j)&&(w=E[j],D+=this.attribute(w));if(x.children.length===0||x.children.every(function(H){return H.value===""}))this.allowEmpty?D+="></"+x.name+">"+this.newline:D+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)D+=">",D+=x.children[0].value,D+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(I=x.children,C=0,N=I.length;C<N;C++)if(T=I[C],T.value!=null){this.textispresent++,M=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,V=this.space(b)),D+=">"+this.newline,R=x.children,_=0,k=R.length;_<k;_++)T=R[_],D+=(function(){switch(!1){case!(T instanceof e):return this.cdata(T,b+1);case!(T instanceof t):return this.comment(T,b+1);case!(T instanceof u):return this.element(T,b+1);case!(T instanceof f):return this.raw(T,b+1);case!(T instanceof h):return this.text(T,b+1);case!(T instanceof d):return this.processingInstruction(T,b+1);case!(T instanceof l):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);M&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),D+=V+"</"+x.name+">"+this.newline}return D},v.prototype.processingInstruction=function(x,b){var w;return w=this.space(b)+"<?"+x.target,x.value&&(w+=" "+x.value),w+=this.spacebeforeslash+"?>"+this.newline,w},v.prototype.raw=function(x,b){return this.space(b)+x.value+this.newline},v.prototype.text=function(x,b){return this.space(b)+x.value+this.newline},v.prototype.dtdAttList=function(x,b){var w;return w=this.space(b)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(w+=" "+x.defaultValueType),x.defaultValue&&(w+=' "'+x.defaultValue+'"'),w+=this.spacebeforeslash+">"+this.newline,w},v.prototype.dtdElement=function(x,b){return this.space(b)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},v.prototype.dtdEntity=function(x,b){var w;return w=this.space(b)+"<!ENTITY",x.pe&&(w+=" %"),w+=" "+x.name,x.value?w+=' "'+x.value+'"':(x.pubID&&x.sysID?w+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(w+=' SYSTEM "'+x.sysID+'"'),x.nData&&(w+=" NDATA "+x.nData)),w+=this.spacebeforeslash+">"+this.newline,w},v.prototype.dtdNotation=function(x,b){var w;return w=this.space(b)+"<!NOTATION "+x.name,x.pubID&&x.sysID?w+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?w+=' PUBLIC "'+x.pubID+'"':x.sysID&&(w+=' SYSTEM "'+x.sysID+'"'),w+=this.spacebeforeslash+">"+this.newline,w},v.prototype.openNode=function(x,b){var w,T,C,_;if(b||(b=0),x instanceof u){C=this.space(b)+"<"+x.name,_=x.attributes;for(T in _)m.call(_,T)&&(w=_[T],C+=this.attribute(w));return C+=(x.children?">":"/>")+this.newline,C}else return C=this.space(b)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),C+=(x.children?" [":">")+this.newline,C},v.prototype.closeNode=function(x,b){switch(b||(b=0),!1){case!(x instanceof u):return this.space(b)+"</"+x.name+">"+this.newline;case!(x instanceof c):return this.space(b)+"]>"+this.newline}},v}(p)}).call(Kt)),rC.exports}var $L;function FPe(){return $L||($L=1,(function(){var e,t,n,r,i=function(o,c){for(var l in c)s.call(c,l)&&(o[l]=c[l]);function u(){this.constructor=o}return u.prototype=c.prototype,o.prototype=new u,o.__super__=c.prototype,o},s={}.hasOwnProperty;r=Hf().isPlainObject,e=no(),n=eZ(),t=PI(),BS.exports=function(o){i(c,o);function c(l){c.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new t),this.options=l,this.stringify=new n(l),this.isDocument=!0}return c.prototype.end=function(l){var u;return l?r(l)&&(u=l,l=this.options.writer.set(u)):l=this.options.writer,l.document(this)},c.prototype.toString=function(l){return this.options.writer.set(l).document(this)},c}(e)}).call(Kt)),BS.exports}var sC={exports:{}},HL;function PPe(){return HL||(HL=1,(function(){var e,t,n,r,i,s,o,c,l,u,d,f,h,p,y,m,g,v,x,b,w={}.hasOwnProperty;b=Hf(),v=b.isObject,g=b.isFunction,x=b.isPlainObject,m=b.getValue,u=AT(),t=DT(),n=jT(),f=LT(),y=MT(),d=BT(),c=IT(),l=UT(),r=RT(),s=OT(),i=FT(),o=PT(),e=JY(),p=eZ(),h=PI(),sC.exports=function(){function T(C,_,N){var k;this.name="?xml",C||(C={}),C.writer?x(C.writer)&&(k=C.writer,C.writer=new h(k)):C.writer=new h(C),this.options=C,this.writer=C.writer,this.stringify=new p(C),this.onDataCallback=_||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(C,_,N){var k,j;if(C==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(C));return this.openCurrent(),C=m(C),_===null&&N==null&&(k=[{},null],_=k[0],N=k[1]),_==null&&(_={}),_=m(_),v(_)||(j=[_,N],N=j[0],_=j[1]),this.currentNode=new u(this,C,_),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},T.prototype.element=function(C,_,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(C,_,N)},T.prototype.attribute=function(C,_){var N,k;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(C));if(C!=null&&(C=m(C)),v(C))for(N in C)w.call(C,N)&&(k=C[N],this.attribute(N,k));else g(_)&&(_=_.apply()),(!this.options.skipNullAttributes||_!=null)&&(this.currentNode.attributes[C]=new e(this,C,_));return this},T.prototype.text=function(C){var _;return this.openCurrent(),_=new y(this,C),this.onData(this.writer.text(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(C){var _;return this.openCurrent(),_=new t(this,C),this.onData(this.writer.cdata(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(C){var _;return this.openCurrent(),_=new n(this,C),this.onData(this.writer.comment(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(C){var _;return this.openCurrent(),_=new f(this,C),this.onData(this.writer.raw(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(C,_){var N,k,j,D,E;if(this.openCurrent(),C!=null&&(C=m(C)),_!=null&&(_=m(_)),Array.isArray(C))for(N=0,D=C.length;N<D;N++)k=C[N],this.instruction(k);else if(v(C))for(k in C)w.call(C,k)&&(j=C[k],this.instruction(k,j));else g(_)&&(_=_.apply()),E=new d(this,C,_),this.onData(this.writer.processingInstruction(E,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(C,_,N){var k;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return k=new c(this,C,_,N),this.onData(this.writer.declaration(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(C,_,N){if(this.openCurrent(),C==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,_,N),this.currentNode.rootNodeName=C,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(C,_){var N;return this.openCurrent(),N=new i(this,C,_),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(C,_,N,k,j){var D;return this.openCurrent(),D=new r(this,C,_,N,k,j),this.onData(this.writer.dtdAttList(D,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(C,_){var N;return this.openCurrent(),N=new s(this,!1,C,_),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(C,_){var N;return this.openCurrent(),N=new s(this,!0,C,_),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(C,_){var N;return this.openCurrent(),N=new o(this,C,_),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(C){if(!C.isOpen)return!this.root&&this.currentLevel===0&&C instanceof u&&(this.root=C),this.onData(this.writer.openNode(C,this.currentLevel),this.currentLevel),C.isOpen=!0},T.prototype.closeNode=function(C){if(!C.isClosed)return this.onData(this.writer.closeNode(C,this.currentLevel),this.currentLevel),C.isClosed=!0},T.prototype.onData=function(C,_){return this.documentStarted=!0,this.onDataCallback(C,_+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(C){return C==null?"":"node: <"+C+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(C,_,N){return this.node(C,_,N)},T.prototype.txt=function(C){return this.text(C)},T.prototype.dat=function(C){return this.cdata(C)},T.prototype.com=function(C){return this.comment(C)},T.prototype.ins=function(C,_){return this.instruction(C,_)},T.prototype.dec=function(C,_,N){return this.declaration(C,_,N)},T.prototype.dtd=function(C,_,N){return this.doctype(C,_,N)},T.prototype.e=function(C,_,N){return this.element(C,_,N)},T.prototype.n=function(C,_,N){return this.node(C,_,N)},T.prototype.t=function(C){return this.text(C)},T.prototype.d=function(C){return this.cdata(C)},T.prototype.c=function(C){return this.comment(C)},T.prototype.r=function(C){return this.raw(C)},T.prototype.i=function(C,_){return this.instruction(C,_)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(C,_){return this.entity(C,_)},T.prototype.pent=function(C,_){return this.pEntity(C,_)},T.prototype.not=function(C,_){return this.notation(C,_)},T}()}).call(Kt)),sC.exports}var aC={exports:{}},GL;function UPe(){return GL||(GL=1,(function(){var e,t,n,r,i,s,o,c,l,u,d,f,h,p,y=function(g,v){for(var x in v)m.call(v,x)&&(g[x]=v[x]);function b(){this.constructor=g}return b.prototype=v.prototype,g.prototype=new b,g.__super__=v.prototype,g},m={}.hasOwnProperty;o=IT(),c=UT(),e=DT(),t=jT(),u=AT(),f=LT(),h=MT(),d=BT(),l=FI(),n=RT(),r=FT(),i=OT(),s=PT(),p=tZ(),aC.exports=function(g){y(v,g);function v(x,b){v.__super__.constructor.call(this,b),this.stream=x}return v.prototype.document=function(x){var b,w,T,C,_,N,k,j;for(N=x.children,w=0,C=N.length;w<C;w++)b=N[w],b.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,k=x.children,j=[],T=0,_=k.length;T<_;T++)if(b=k[T],!(b instanceof l))switch(!1){case!(b instanceof o):j.push(this.declaration(b));break;case!(b instanceof c):j.push(this.docType(b));break;case!(b instanceof t):j.push(this.comment(b));break;case!(b instanceof d):j.push(this.processingInstruction(b));break;default:j.push(this.element(b))}return j},v.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},v.prototype.cdata=function(x,b){return this.stream.write(this.space(b)+"<![CDATA["+x.text+"]]>"+this.endline(x))},v.prototype.comment=function(x,b){return this.stream.write(this.space(b)+"<!-- "+x.text+" -->"+this.endline(x))},v.prototype.declaration=function(x,b){return this.stream.write(this.space(b)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},v.prototype.docType=function(x,b){var w,T,C,_;if(b||(b=0),this.stream.write(this.space(b)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),_=x.children,T=0,C=_.length;T<C;T++)switch(w=_[T],!1){case!(w instanceof n):this.dtdAttList(w,b+1);break;case!(w instanceof r):this.dtdElement(w,b+1);break;case!(w instanceof i):this.dtdEntity(w,b+1);break;case!(w instanceof s):this.dtdNotation(w,b+1);break;case!(w instanceof e):this.cdata(w,b+1);break;case!(w instanceof t):this.comment(w,b+1);break;case!(w instanceof d):this.processingInstruction(w,b+1);break;default:throw new Error("Unknown DTD node type: "+w.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},v.prototype.element=function(x,b){var w,T,C,_,N,k,j,D;b||(b=0),D=this.space(b),this.stream.write(D+"<"+x.name),k=x.attributes;for(N in k)m.call(k,N)&&(w=k[N],this.attribute(w));if(x.children.length===0||x.children.every(function(E){return E.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),j=x.children,C=0,_=j.length;C<_;C++)switch(T=j[C],!1){case!(T instanceof e):this.cdata(T,b+1);break;case!(T instanceof t):this.comment(T,b+1);break;case!(T instanceof u):this.element(T,b+1);break;case!(T instanceof f):this.raw(T,b+1);break;case!(T instanceof h):this.text(T,b+1);break;case!(T instanceof d):this.processingInstruction(T,b+1);break;case!(T instanceof l):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(D+"</"+x.name+">")}return this.stream.write(this.endline(x))},v.prototype.processingInstruction=function(x,b){return this.stream.write(this.space(b)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},v.prototype.raw=function(x,b){return this.stream.write(this.space(b)+x.value+this.endline(x))},v.prototype.text=function(x,b){return this.stream.write(this.space(b)+x.value+this.endline(x))},v.prototype.dtdAttList=function(x,b){return this.stream.write(this.space(b)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},v.prototype.dtdElement=function(x,b){return this.stream.write(this.space(b)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},v.prototype.dtdEntity=function(x,b){return this.stream.write(this.space(b)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},v.prototype.dtdNotation=function(x,b){return this.stream.write(this.space(b)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},v.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},v}(p)}).call(Kt)),aC.exports}(function(){var e,t,n,r,i,s,o;o=Hf(),i=o.assign,s=o.isFunction,e=FPe(),t=PPe(),r=PI(),n=UPe(),ox.create=function(c,l,u,d){var f,h;if(c==null)throw new Error("Root element needs a name.");return d=i({},l,u,d),f=new e(d),h=f.element(c),d.headless||(f.declaration(d),(d.pubID!=null||d.sysID!=null)&&f.doctype(d)),h},ox.begin=function(c,l,u){var d;return s(c)&&(d=[c,l],l=d[0],u=d[1],c={}),l?new t(c,l,u):new e(c)},ox.stringWriter=function(c){return new r(c)},ox.streamWriter=function(c,l){return new n(c,l)}}).call(Kt);var QL=Ni,LPe=ox;ZY.writeString=MPe;function MPe(e,t){var n=QL.invert(t),r={element:s,text:BPe};function i(l,u){return r[u.type](l,u)}function s(l,u){var d=l.element(o(u.name),u.attributes);u.children.forEach(function(f){i(d,f)})}function o(l){var u=/^\{(.*)\}(.*)$/.exec(l);if(u){var d=n[u[1]];return d+(d===""?"":":")+u[2]}else return l}function c(l){var u=LPe.create(o(l.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return QL.forEach(t,function(d,f){var h="xmlns"+(f===""?"":":"+f);u.attribute(h,d)}),l.children.forEach(function(d){i(u,d)}),u.end()}return c(e)}function BPe(e,t){e.text(t.value)}var VT=Z0;od.Element=VT.Element;od.element=VT.element;od.emptyElement=VT.emptyElement;od.text=VT.text;od.readString=yY.readString;od.writeString=ZY.writeString;var VPe=Ni,WPe=os,qPe=od;TI.read=nZ;TI.readXmlFromZipFile=$Pe;var zPe={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function nZ(e){return qPe.readString(e,zPe).then(function(t){return rZ(t)[0]})}function $Pe(e,t){return e.exists(t)?e.read(t,"utf-8").then(HPe).then(nZ):WPe.resolve(null)}function HPe(e){return e.replace(/^\uFEFF/g,"")}function rZ(e){return e.type==="element"?e.name==="mc:AlternateContent"?e.firstOrEmpty("mc:Fallback").children:(e.children=VPe.flatten(e.children.map(rZ,!0)),[e]):[e]}var UI={},df={},LI={};Object.defineProperty(LI,"__esModule",{value:!0});var GPe=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];LI.default=GPe;var QPe=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});df.hex=df.dec=df.codePoint=void 0;var KPe=QPe(LI),iZ={},XPe=String.fromCodePoint?String.fromCodePoint:e6e;for(var oC=0,KL=KPe.default;oC<KL.length;oC++){var cC=KL[oC],XL=parseInt(cC["Unicode dec"],10),YPe={codePoint:XL,string:XPe(XL)};iZ[cC["Typeface name"].toUpperCase()+"_"+cC["Dingbat dec"]]=YPe}function MI(e,t){return iZ[e.toUpperCase()+"_"+t]}df.codePoint=MI;function ZPe(e,t){return MI(e,parseInt(t,10))}df.dec=ZPe;function JPe(e,t){return MI(e,parseInt(t,16))}df.hex=JPe;function e6e(e){if(e<=65535)return String.fromCharCode(e);var t=Math.floor((e-65536)/1024)+55296,n=(e-65536)%1024+56320;return String.fromCharCode(t,n)}var Gf={},YL=Ni;Gf.paragraph=t6e;Gf.run=n6e;Gf._elements=sZ;Gf._elementsOfType=BI;Gf.getDescendantsOfType=r6e;Gf.getDescendants=aZ;function t6e(e){return BI("paragraph",e)}function n6e(e){return BI("run",e)}function BI(e,t){return sZ(function(n){return n.type===e?t(n):n})}function sZ(e){return function t(n){if(n.children){var r=YL.map(n.children,t);n=YL.extend(n,{children:r})}return e(n)}}function r6e(e,t){return aZ(e).filter(function(n){return n.type===t})}function aZ(e){var t=[];return oZ(e,function(n){t.push(n)}),t}function oZ(e,t){e.children&&e.children.forEach(function(n){oZ(n,t),t(n)})}var VI={};VI.uriToZipEntryName=i6e;VI.replaceFragment=s6e;function i6e(e,t){return t.charAt(0)==="/"?t.substr(1):e+"/"+t}function s6e(e,t){var n=e.indexOf("#");return n!==-1&&(e=e.substring(0,n)),e+"#"+t}UI.createBodyReader=o6e;UI._readNumberingProperties=lZ;var ZL=df,Ko=Ni,Br=Rn,cZ=Io.Result,xu=Io.warning,a6e=od,JL=Gf,eM=VI;function o6e(e){return{readXmlElement:function(t){return new tM(e).readXmlElement(t)},readXmlElements:function(t){return new tM(e).readXmlElements(t)}}}function tM(e){var t=[],n=[],r=[],i=e.relationships,s=e.contentTypes,o=e.docxFile,c=e.files,l=e.numbering,u=e.styles;function d(Y){var ve=Y.map(f);return nM(ve)}function f(Y){if(Y.type==="element"){var ve=M[Y.name];if(ve)return ve(Y);if(!Object.prototype.hasOwnProperty.call(l6e,Y.name)){var B=xu("An unrecognised element was ignored: "+Y.name);return Og([B])}}return qp()}function h(Y){return b(Y).map(function(ve){return{type:"paragraphProperties",styleId:ve.styleId,styleName:ve.name,alignment:Y.firstOrEmpty("w:jc").attributes["w:val"],numbering:lZ(ve.styleId,Y.firstOrEmpty("w:numPr"),l),indent:p(Y.firstOrEmpty("w:ind"))}})}function p(Y){return{start:Y.attributes["w:start"]||Y.attributes["w:left"],end:Y.attributes["w:end"]||Y.attributes["w:right"],firstLine:Y.attributes["w:firstLine"],hanging:Y.attributes["w:hanging"]}}function y(Y){return w(Y).map(function(ve){var B=Y.firstOrEmpty("w:sz").attributes["w:val"],_e=/^[0-9]+$/.test(B)?parseInt(B,10)/2:null;return{type:"runProperties",styleId:ve.styleId,styleName:ve.name,verticalAlignment:Y.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Y.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:_e,isBold:g(Y.first("w:b")),isUnderline:m(Y.first("w:u")),isItalic:g(Y.first("w:i")),isStrikethrough:g(Y.first("w:strike")),isAllCaps:g(Y.first("w:caps")),isSmallCaps:g(Y.first("w:smallCaps")),highlight:x(Y.firstOrEmpty("w:highlight").attributes["w:val"])}})}function m(Y){if(Y){var ve=Y.attributes["w:val"];return ve!==void 0&&ve!=="false"&&ve!=="0"&&ve!=="none"}else return!1}function g(Y){if(Y){var ve=Y.attributes["w:val"];return ve!=="false"&&ve!=="0"}else return!1}function v(Y){return Y!=="false"&&Y!=="0"}function x(Y){return!Y||Y==="none"?null:Y}function b(Y){return C(Y,"w:pStyle","Paragraph",u.findParagraphStyleById)}function w(Y){return C(Y,"w:rStyle","Run",u.findCharacterStyleById)}function T(Y){return C(Y,"w:tblStyle","Table",u.findTableStyleById)}function C(Y,ve,B,_e){var Ee=[],se=Y.first(ve),J=null,de=null;if(se&&(J=se.attributes["w:val"],J)){var X=_e(J);X?de=X.name:Ee.push(Fe(B,J))}return nb({styleId:J,name:de},Ee)}function _(Y){var ve=Y.attributes["w:fldCharType"];if(ve==="begin")t.push({type:"begin",fldChar:Y}),n=[];else if(ve==="end"){var B=t.pop();if(B.type==="begin"&&(B=k(B)),B.type==="checkbox")return fo(Br.checkbox({checked:B.checked}))}else if(ve==="separate"){var _e=t.pop(),Ee=k(_e);t.push(Ee)}return qp()}function N(){var Y=Ko.last(t.filter(function(ve){return ve.type==="hyperlink"}));return Y?Y.options:null}function k(Y){return j(n.join(""),Y.type==="begin"?Y.fldChar:a6e.emptyElement)}function j(Y,ve){var B=/\s*HYPERLINK "(.*)"/.exec(Y);if(B)return{type:"hyperlink",options:{href:B[1]}};var _e=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Y);if(_e)return{type:"hyperlink",options:{anchor:_e[1]}};var Ee=/\s*FORMCHECKBOX\s*/.exec(Y);if(Ee){var se=ve.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),J=se.first("w:checked"),de=J==null?g(se.first("w:default")):g(J);return{type:"checkbox",checked:de}}return{type:"unknown"}}function D(Y){return n.push(Y.text()),qp()}function E(Y){var ve=Y.attributes["w:font"],B=Y.attributes["w:char"],_e=ZL.hex(ve,B);return _e==null&&/^F0..$/.test(B)&&(_e=ZL.hex(ve,B.substring(2))),_e==null?Og([xu("A w:sym element with an unsupported character was ignored: char "+B+" in font "+ve)]):fo(new Br.Text(_e.string))}function I(Y){return function(ve){var B=ve.attributes["w:id"];return fo(new Br.NoteReference({noteType:Y,noteId:B}))}}function R(Y){return fo(Br.commentReference({commentId:Y.attributes["w:id"]}))}function V(Y){return d(Y.children)}var M={"w:p":function(Y){var ve=Y.firstOrEmpty("w:pPr"),B=!!ve.firstOrEmpty("w:rPr").first("w:del");if(B)return Y.children.forEach(function(Ee){r.push(Ee)}),qp();var _e=Y.children;return r.length>0&&(_e=r.concat(_e),r=[]),_s.map(h(ve),d(_e),function(Ee,se){return new Br.Paragraph(se,Ee)}).insertExtra()},"w:r":function(Y){return _s.map(y(Y.firstOrEmpty("w:rPr")),d(Y.children),function(ve,B){var _e=N();return _e!==null&&(B=[new Br.Hyperlink(B,_e)]),new Br.Run(B,ve)})},"w:fldChar":_,"w:instrText":D,"w:t":function(Y){return fo(new Br.Text(Y.text()))},"w:tab":function(Y){return fo(new Br.Tab)},"w:noBreakHyphen":function(){return fo(new Br.Text(""))},"w:softHyphen":function(Y){return fo(new Br.Text(""))},"w:sym":E,"w:hyperlink":function(Y){var ve=Y.attributes["r:id"],B=Y.attributes["w:anchor"];return d(Y.children).map(function(_e){function Ee(J){var de=Y.attributes["w:tgtFrame"]||null;return new Br.Hyperlink(_e,Ko.extend({targetFrame:de},J))}if(ve){var se=i.findTargetByRelationshipId(ve);return B&&(se=eM.replaceFragment(se,B)),Ee({href:se})}else return B?Ee({anchor:B}):_e})},"w:tbl":H,"w:tr":P,"w:tc":W,"w:footnoteReference":I("footnote"),"w:endnoteReference":I("endnote"),"w:commentReference":R,"w:br":function(Y){var ve=Y.attributes["w:type"];return ve==null||ve==="textWrapping"?fo(Br.lineBreak):ve==="page"?fo(Br.pageBreak):ve==="column"?fo(Br.columnBreak):Og([xu("Unsupported break type: "+ve)])},"w:bookmarkStart":function(Y){var ve=Y.attributes["w:name"];return ve==="_GoBack"?qp():fo(new Br.BookmarkStart({name:ve}))},"mc:AlternateContent":function(Y){return V(Y.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Y){var ve=d(Y.firstOrEmpty("w:sdtContent").children);return ve.map(function(B){var _e=Y.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(_e){var Ee=_e.first("wordml:checked"),se=!!Ee&&v(Ee.attributes["wordml:val"]),J=Br.checkbox({checked:se}),de=!1,X=B.map(JL._elementsOfType(Br.types.text,function(ue){return ue.value.length>0&&!de?(de=!0,J):ue}));return de?X:J}else return B})},"w:ins":V,"w:object":V,"w:smartTag":V,"w:drawing":V,"w:pict":function(Y){return V(Y).toExtra()},"v:roundrect":V,"v:shape":V,"v:textbox":V,"w:txbxContent":V,"wp:inline":K,"wp:anchor":K,"v:imagedata":pe,"v:group":V,"v:rect":V};return{readXmlElement:f,readXmlElements:d};function H(Y){var ve=G(Y.firstOrEmpty("w:tblPr"));return d(Y.children).flatMap(O).flatMap(function(B){return ve.map(function(_e){return Br.Table(B,_e)})})}function G(Y){return T(Y).map(function(ve){return{styleId:ve.styleId,styleName:ve.name}})}function P(Y){var ve=Y.firstOrEmpty("w:trPr"),B=!!ve.first("w:del");if(B)return qp();var _e=!!ve.first("w:tblHeader");return d(Y.children).map(function(Ee){return Br.TableRow(Ee,{isHeader:_e})})}function W(Y){return d(Y.children).map(function(ve){var B=Y.firstOrEmpty("w:tcPr"),_e=B.firstOrEmpty("w:gridSpan").attributes["w:val"],Ee=_e?parseInt(_e,10):1,se=Br.TableCell(ve,{colSpan:Ee});return se._vMerge=F(B),se})}function F(Y){var ve=Y.first("w:vMerge");if(ve){var B=ve.attributes["w:val"];return B==="continue"||!B}else return null}function O(Y){var ve=Ko.any(Y,function(Ee){return Ee.type!==Br.types.tableRow});if(ve)return L(Y),nb(Y,[xu("unexpected non-row element in table, cell merging may be incorrect")]);var B=Ko.any(Y,function(Ee){return Ko.any(Ee.children,function(se){return se.type!==Br.types.tableCell})});if(B)return L(Y),nb(Y,[xu("unexpected non-cell element in table row, cell merging may be incorrect")]);var _e={};return Y.forEach(function(Ee){var se=0;Ee.children.forEach(function(J){J._vMerge&&_e[se]?_e[se].rowSpan++:(_e[se]=J,J._vMerge=!1),se+=J.colSpan})}),Y.forEach(function(Ee){Ee.children=Ee.children.filter(function(se){return!se._vMerge}),Ee.children.forEach(function(se){delete se._vMerge})}),fo(Y)}function L(Y){Y.forEach(function(ve){var B=JL.getDescendantsOfType(ve,Br.types.tableCell);B.forEach(function(_e){delete _e._vMerge})})}function K(Y){var ve=Y.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return nM(ve.map(Q.bind(null,Y)))}function Q(Y,ve){var B=Y.first("wp:docPr").attributes,_e=U(B.descr)?B.title:B.descr,Ee=Z(ve);return Ee===null?Og([xu("Could not find image file for a:blip element")]):ye(Ee,_e)}function U(Y){return Y==null||/^\s*$/.test(Y)}function Z(Y){var ve=Y.attributes["r:embed"],B=Y.attributes["r:link"];if(ve)return me(ve);if(B){var _e=i.findTargetByRelationshipId(B);return{path:_e,read:c.read.bind(c,_e)}}else return null}function pe(Y){var ve=Y.attributes["r:id"];return ve?ye(me(ve),Y.attributes["o:title"]):Og([xu("A v:imagedata element without a relationship ID was ignored")])}function me(Y){var ve=eM.uriToZipEntryName("word",i.findTargetByRelationshipId(Y));return{path:ve,read:o.read.bind(o,ve)}}function ye(Y,ve){var B=s.findContentType(Y.path),_e=Br.Image({readImage:Y.read,altText:ve,contentType:B}),Ee=c6e[B]?[]:xu("Image of type "+B+" is unlikely to display in web browsers");return nb(_e,Ee)}function Fe(Y,ve){return xu(Y+" style with ID "+ve+" was referenced but not defined in the document")}}function lZ(e,t,n){var r=t.firstOrEmpty("w:ilvl").attributes["w:val"],i=t.firstOrEmpty("w:numId").attributes["w:val"];if(r!==void 0&&i!==void 0)return n.findLevel(i,r);if(e!=null){var s=n.findLevelByParagraphStyleId(e);if(s!=null)return s}return i!==void 0?n.findLevel(i,"0"):null}var c6e={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},l6e={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function Og(e){return new _s(null,null,e)}function qp(){return new _s(null)}function fo(e){return new _s(e)}function nb(e,t){return new _s(e,null,t)}function _s(e,t,n){this.value=e||[],this.extra=t||[],this._result=new cZ({element:this.value,extra:t},n),this.messages=this._result.messages}_s.prototype.toExtra=function(){return new _s(null,WT(this.extra,this.value),this.messages)};_s.prototype.insertExtra=function(){var e=this.extra;return e&&e.length?new _s(WT(this.value,e),null,this.messages):this};_s.prototype.map=function(e){var t=this._result.map(function(n){return e(n.element)});return new _s(t.value,this.extra,t.messages)};_s.prototype.flatMap=function(e){var t=this._result.flatMap(function(n){return e(n.element)._result});return new _s(t.value.element,WT(this.extra,t.value.extra),t.messages)};_s.map=function(e,t,n){return new _s(n(e.value,t.value),WT(e.extra,t.extra),e.messages.concat(t.messages))};function nM(e){var t=cZ.combine(Ko.pluck(e,"_result"));return new _s(Ko.flatten(Ko.pluck(t.value,"element")),Ko.filter(Ko.flatten(Ko.pluck(t.value,"extra")),u6e),t.messages)}function WT(e,t){return Ko.flatten([e,t])}function u6e(e){return e}var uZ={};uZ.DocumentXmlReader=h6e;var d6e=Rn,f6e=Io.Result;function h6e(e){var t=e.bodyReader;function n(r){var i=r.first("w:body");if(i==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var s=t.readXmlElements(i.children).map(function(o){return new d6e.Document(o,{notes:e.notes,comments:e.comments})});return new f6e(s.value,s.messages)}return{convertXmlToDocument:n}}var qT={};qT.readRelationships=p6e;qT.defaultValue=new WI([]);qT.Relationships=WI;function p6e(e){var t=[];return e.children.forEach(function(n){if(n.name==="relationships:Relationship"){var r={relationshipId:n.attributes.Id,target:n.attributes.Target,type:n.attributes.Type};t.push(r)}}),new WI(t)}function WI(e){var t={};e.forEach(function(r){t[r.relationshipId]=r.target});var n={};return e.forEach(function(r){n[r.type]||(n[r.type]=[]),n[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return t[r]},findTargetsByType:function(r){return n[r]||[]}}}var qI={};qI.readContentTypesFromXml=g6e;var m6e={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};qI.defaultContentTypes=dZ({},{});function g6e(e){var t={},n={};return e.children.forEach(function(r){if(r.name==="content-types:Default"&&(t[r.attributes.Extension]=r.attributes.ContentType),r.name==="content-types:Override"){var i=r.attributes.PartName;i.charAt(0)==="/"&&(i=i.substring(1)),n[i]=r.attributes.ContentType}}),dZ(n,t)}function dZ(e,t){return{findContentType:function(n){var r=e[n];if(r)return r;var i=n.split("."),s=i[i.length-1];if(t.hasOwnProperty(s))return t[s];var o=m6e[s.toLowerCase()];return o?"image/"+o:null}}}var zT={},rb=Ni;zT.readNumberingXml=x6e;zT.Numbering=zI;zT.defaultNumbering=new zI({},{});function zI(e,t,n){var r=rb.flatten(rb.values(t).map(function(c){return rb.values(c.levels)})),i=rb.indexBy(r.filter(function(c){return c.paragraphStyleId!=null}),"paragraphStyleId");function s(c,l){var u=e[c];if(u){var d=t[u.abstractNumId];if(d){if(d.numStyleLink==null)return t[u.abstractNumId].levels[l];var f=n.findNumberingStyleById(d.numStyleLink);return s(f.numId,l)}else return null}else return null}function o(c){return i[c]||null}return{findLevel:s,findLevelByParagraphStyleId:o}}function x6e(e,t){if(!t||!t.styles)throw new Error("styles is missing");var n=v6e(e),r=b6e(e);return new zI(r,n,t.styles)}function v6e(e){var t={};return e.getElementsByTagName("w:abstractNum").forEach(function(n){var r=n.attributes["w:abstractNumId"];t[r]=y6e(n)}),t}function y6e(e){var t={},n=null;e.getElementsByTagName("w:lvl").forEach(function(i){var s=i.attributes["w:ilvl"],o=i.firstOrEmpty("w:numFmt").attributes["w:val"],c=o!=="bullet",l=i.firstOrEmpty("w:pStyle").attributes["w:val"];s===void 0?n={isOrdered:c,level:"0",paragraphStyleId:l}:t[s]={isOrdered:c,level:s,paragraphStyleId:l}}),n!==null&&t[n.level]===void 0&&(t[n.level]=n);var r=e.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:t,numStyleLink:r}}function b6e(e){var t={};return e.getElementsByTagName("w:num").forEach(function(n){var r=n.attributes["w:numId"],i=n.first("w:abstractNumId").attributes["w:val"];t[r]={abstractNumId:i}}),t}var $T={};$T.readStylesXml=w6e;$T.Styles=Zv;$T.defaultStyles=new Zv({},{});function Zv(e,t,n,r){return{findParagraphStyleById:function(i){return e[i]},findCharacterStyleById:function(i){return t[i]},findTableStyleById:function(i){return n[i]},findNumberingStyleById:function(i){return r[i]}}}Zv.EMPTY=new Zv({},{},{},{});function w6e(e){var t={},n={},r={},i={},s={paragraph:t,character:n,table:r,numbering:i};return e.getElementsByTagName("w:style").forEach(function(o){var c=_6e(o),l=s[c.type];l&&l[c.styleId]===void 0&&(l[c.styleId]=c)}),new Zv(t,n,r,i)}function _6e(e){var t=e.attributes["w:type"];if(t==="numbering")return E6e(t,e);var n=fZ(e),r=T6e(e);return{type:t,styleId:n,name:r}}function T6e(e){var t=e.first("w:name");return t?t.attributes["w:val"]:null}function E6e(e,t){var n=fZ(t),r=t.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:e,numId:r,styleId:n}}function fZ(e){return e.attributes["w:styleId"]}var $I={},N6e=Rn,S6e=Io.Result;$I.createFootnotesReader=hZ.bind(Kt,"footnote");$I.createEndnotesReader=hZ.bind(Kt,"endnote");function hZ(e,t){function n(s){return S6e.combine(s.getElementsByTagName("w:"+e).filter(r).map(i))}function r(s){var o=s.attributes["w:type"];return o!=="continuationSeparator"&&o!=="separator"}function i(s){var o=s.attributes["w:id"];return t.readXmlElements(s.children).map(function(c){return N6e.Note({noteType:e,noteId:o,body:c})})}return n}var pZ={},C6e=Rn,k6e=Io.Result;function A6e(e){function t(r){return k6e.combine(r.getElementsByTagName("w:comment").map(n))}function n(r){var i=r.attributes["w:id"];function s(o){return(r.attributes[o]||"").trim()||null}return e.readXmlElements(r.children).map(function(o){return C6e.comment({commentId:i,body:o,authorName:s("w:author"),authorInitials:s("w:initials")})})}return t}pZ.createCommentsReader=A6e;var mZ={},D6e=os;mZ.Files=j6e;function j6e(){function e(t){return D6e.reject(new Error("could not open external image: '"+t+`'
cannot open linked files from a web browser`))}return{read:e}}bI.read=L6e;bI._findPartPaths=xZ;var I6e=os,R6e=Rn,lC=Io.Result,Cw=$y,gZ=TI.readXmlFromZipFile,O6e=UI.createBodyReader,F6e=uZ.DocumentXmlReader,S0=qT,rM=qI,iM=zT,sM=$T,aM=$I,P6e=pZ,U6e=mZ.Files;function L6e(e,t,n){t=t||{},n=n||{};var r=new U6e({externalFileAccess:n.externalFileAccess,relativeToFile:t.path});return I6e.props({contentTypes:B6e(e),partPaths:xZ(e),docxFile:e,files:r}).also(function(i){return{styles:W6e(e,i.partPaths.styles)}}).also(function(i){return{numbering:V6e(e,i.partPaths.numbering,i.styles)}}).also(function(i){return{footnotes:ib(i.partPaths.footnotes,i,function(s,o){return o?aM.createFootnotesReader(s)(o):new lC([])}),endnotes:ib(i.partPaths.endnotes,i,function(s,o){return o?aM.createEndnotesReader(s)(o):new lC([])}),comments:ib(i.partPaths.comments,i,function(s,o){return o?P6e.createCommentsReader(s)(o):new lC([])})}}).also(function(i){return{notes:i.footnotes.flatMap(function(s){return i.endnotes.map(function(o){return new R6e.Notes(s.concat(o))})})}}).then(function(i){return ib(i.partPaths.mainDocument,i,function(s,o){return i.notes.flatMap(function(c){return i.comments.flatMap(function(l){var u=new F6e({bodyReader:s,notes:c,comments:l});return u.convertXmlToDocument(o)})})})})}function xZ(e){return q6e(e).then(function(t){var n=oM({docxFile:e,relationships:t,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!e.exists(n))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return eg({filename:vZ(n),readElement:S0.readRelationships,defaultValue:S0.defaultValue})(e).then(function(r){function i(s){return oM({docxFile:e,relationships:r,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+s,basePath:Cw.splitPath(n).dirname,fallbackPath:"word/"+s+".xml"})}return{mainDocument:n,comments:i("comments"),endnotes:i("endnotes"),footnotes:i("footnotes"),numbering:i("numbering"),styles:i("styles")}})})}function oM(e){var t=e.docxFile,n=e.relationships,r=e.relationshipType,i=e.basePath,s=e.fallbackPath,o=n.findTargetsByType(r),c=o.map(function(u){return M6e(Cw.joinPath(i,u),"/")}),l=c.filter(function(u){return t.exists(u)});return l.length===0?s:l[0]}function M6e(e,t){return e.substring(0,t.length)===t?e.substring(t.length):e}function eg(e){return function(t){return gZ(t,e.filename).then(function(n){return n?e.readElement(n):e.defaultValue})}}function ib(e,t,n){var r=eg({filename:vZ(e),readElement:S0.readRelationships,defaultValue:S0.defaultValue});return r(t.docxFile).then(function(i){var s=new O6e({relationships:i,contentTypes:t.contentTypes,docxFile:t.docxFile,numbering:t.numbering,styles:t.styles,files:t.files});return gZ(t.docxFile,e).then(function(o){return n(s,o)})})}function vZ(e){var t=Cw.splitPath(e);return Cw.joinPath(t.dirname,"_rels",t.basename+".rels")}var B6e=eg({filename:"[Content_Types].xml",readElement:rM.readContentTypesFromXml,defaultValue:rM.defaultContentTypes});function V6e(e,t,n){return eg({filename:t,readElement:function(r){return iM.readNumberingXml(r,{styles:n})},defaultValue:iM.defaultNumbering})(e)}function W6e(e,t){return eg({filename:t,readElement:sM.readStylesXml,defaultValue:sM.defaultStyles})(e)}var q6e=eg({filename:"_rels/.rels",readElement:S0.readRelationships,defaultValue:S0.defaultValue}),HI={},z6e=Ni,$6e=os,Jv=od;HI.writeStyleMap=G6e;HI.readStyleMap=X6e;var H6e="http://schemas.zwobble.org/mammoth/style-map",kw="mammoth/style-map",yZ="/"+kw;function G6e(e,t){return e.write(kw,t),Q6e(e).then(function(){return K6e(e)})}function Q6e(e){var t="word/_rels/document.xml.rels",n="http://schemas.openxmlformats.org/package/2006/relationships",r="{"+n+"}Relationship";return e.read(t,"utf8").then(Jv.readString).then(function(i){var s=i.children;bZ(s,r,"Id",{Id:"rMammothStyleMap",Type:H6e,Target:yZ});var o={"":n};return e.write(t,Jv.writeString(i,o))})}function K6e(e){var t="[Content_Types].xml",n="http://schemas.openxmlformats.org/package/2006/content-types",r="{"+n+"}Override";return e.read(t,"utf8").then(Jv.readString).then(function(i){var s=i.children;bZ(s,r,"PartName",{PartName:yZ,ContentType:"text/prs.mammoth.style-map"});var o={"":n};return e.write(t,Jv.writeString(i,o))})}function bZ(e,t,n,r){var i=z6e.find(e,function(s){return s.name===t&&s.attributes[n]===r[n]});i?i.attributes=r:e.push(Jv.element(t,r))}function X6e(e){return e.exists(kw)?e.read(kw,"utf8"):$6e.resolve(null)}var GI={},eh={},vu={},vd={},cM;function wZ(){if(cM)return vd;cM=1;var e=GT();function t(l,u,d){return r(e.element(l,u,{fresh:!1}),d)}function n(l,u,d){var f=e.element(l,u,{fresh:!0});return r(f,d)}function r(l,u){return{type:"element",tag:l,children:u||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};vd.freshElement=n,vd.nonFreshElement=t,vd.elementWithTag=r,vd.text=i,vd.forceWrite=s;var o={br:!0,hr:!0,img:!0,input:!0};function c(l){return l.children.length===0&&o[l.tag.tagName]}return vd.isVoidElement=c,vd}var uC,lM;function Y6e(){if(lM)return uC;lM=1;var e=Ni,t=wZ();function n(m){return r(u(m))}function r(m){var g=[];return m.map(i).forEach(function(v){l(g,v)}),g}function i(m){return s[m.type](m)}var s={element:o,text:c,forceWrite:c};function o(m){return t.elementWithTag(m.tag,r(m.children))}function c(m){return m}function l(m,g){var v=m[m.length-1];g.type==="element"&&!g.tag.fresh&&v&&v.type==="element"&&g.tag.matchesElement(v.tag)?(g.tag.separator&&l(v.children,t.text(g.tag.separator)),g.children.forEach(function(x){l(v.children,x)})):m.push(g)}function u(m){return d(m,function(g){return f[g.type](g)})}function d(m,g){return e.flatten(e.map(m,g),!0)}var f={element:p,text:y,forceWrite:h};function h(m){return[m]}function p(m){var g=u(m.children);return g.length===0&&!t.isVoidElement(m)?[]:[t.elementWithTag(m.tag,g)]}function y(m){return m.value.length===0?[]:[m]}return uC=n,uC}var uM;function HT(){if(uM)return vu;uM=1;var e=wZ();vu.freshElement=e.freshElement,vu.nonFreshElement=e.nonFreshElement,vu.elementWithTag=e.elementWithTag,vu.text=e.text,vu.forceWrite=e.forceWrite,vu.simplify=Y6e();function t(o,c){c.forEach(function(l){n(o,l)})}function n(o,c){r[c.type](o,c)}var r={element:i,text:s,forceWrite:function(){}};function i(o,c){e.isVoidElement(c)?o.selfClosing(c.tag.tagName,c.tag.attributes):(o.open(c.tag.tagName,c.tag.attributes),t(o,c.children),o.close(c.tag.tagName))}function s(o,c){o.text(c.value)}return vu.write=t,vu}var dM;function GT(){if(dM)return eh;dM=1;var e=Ni,t=HT();eh.topLevelElement=n,eh.elements=r,eh.element=s;function n(c,l){return r([s(c,l,{fresh:!0})])}function r(c){return new i(c.map(function(l){return e.isString(l)?s(l):l}))}function i(c){this._elements=c}i.prototype.wrap=function(l){for(var u=l(),d=this._elements.length-1;d>=0;d--)u=this._elements[d].wrapNodes(u);return u};function s(c,l,u){return u=u||{},new o(c,l,u)}function o(c,l,u){var d={};e.isArray(c)?(c.forEach(function(f){d[f]=!0}),c=c[0]):d[c]=!0,this.tagName=c,this.tagNames=d,this.attributes=l||{},this.fresh=u.fresh,this.separator=u.separator}return o.prototype.matchesElement=function(c){return this.tagNames[c.tagName]&&e.isEqual(this.attributes||{},c.attributes||{})},o.prototype.wrap=function(l){return this.wrapNodes(l())},o.prototype.wrapNodes=function(l){return[t.elementWithTag(this,l)]},eh.empty=r([]),eh.ignore={wrap:function(){return[]}},eh}var QI={};(function(e){var t=Ni,n=os,r=HT();e.imgElement=i;function i(s){return function(o,c){return n.when(s(o)).then(function(l){var u={};return o.altText&&(u.alt=o.altText),t.extend(u,l),[r.freshElement("img",u)]})}}e.inline=e.imgElement,e.dataUri=i(function(s){return s.readAsBase64String().then(function(o){return{src:"data:"+s.contentType+";base64,"+o}})})})(QI);var _Z={},TZ={},EZ=Ni;TZ.writer=Z6e;function Z6e(e){return e=e||{},e.prettyPrint?J6e():NZ()}var sb={div:!0,p:!0,ul:!0,li:!0};function J6e(){var e=0,t="  ",n=[],r=!0,i=!1,s=NZ();function o(y,m){sb[y]&&h(),n.push(y),s.open(y,m),sb[y]&&e++,r=!1}function c(y){sb[y]&&(e--,h()),n.pop(),s.close(y)}function l(y){f();var m=p()?y:y.replace(`
`,`
`+t);s.text(m)}function u(y,m){h(),s.selfClosing(y,m)}function d(){return n.length===0||sb[n[n.length-1]]}function f(){i||(h(),i=!0)}function h(){if(i=!1,!r&&d()&&!p()){s._append(`
`);for(var y=0;y<e;y++)s._append(t)}}function p(){return EZ.some(n,function(y){return y==="pre"})}return{asString:s.asString,open:o,close:c,text:l,selfClosing:u}}function NZ(){var e=[];function t(l,u){var d=i(u);e.push("<"+l+d+">")}function n(l){e.push("</"+l+">")}function r(l,u){var d=i(u);e.push("<"+l+d+" />")}function i(l){return EZ.map(l,function(u,d){return" "+d+'="'+t8e(u)+'"'}).join("")}function s(l){e.push(e8e(l))}function o(l){e.push(l)}function c(){return e.join("")}return{asString:c,open:t,close:n,text:s,selfClosing:r,_append:o}}function e8e(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t8e(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var SZ={},n8e=Ni;function fM(e){return Aw(e,e)}function Aw(e,t){return function(){return{start:e,end:t}}}function r8e(e){var t=e.href||"";return t?{start:"[",end:"]("+t+")",anchorPosition:"before"}:{}}function i8e(e){var t=e.src||"",n=e.alt||"";return t||n?{start:"!["+n+"]("+t+")"}:{}}function hM(e){return function(t,n){return{start:n?`
`:"",end:n?"":`
`,list:{isOrdered:e.isOrdered,indent:n?n.indent+1:0,count:0}}}}function s8e(e,t,n){t=t||{indent:0,isOrdered:!1,count:0},t.count++,n.hasClosed=!1;var r=t.isOrdered?t.count+".":"-",i=kZ("	",t.indent)+r+" ";return{start:i,end:function(){if(!n.hasClosed)return n.hasClosed=!0,`
`}}}var CZ={p:Aw("",`

`),br:Aw("",`  
`),ul:hM({isOrdered:!1}),ol:hM({isOrdered:!0}),li:s8e,strong:fM("__"),em:fM("*"),a:r8e,img:i8e};(function(){for(var e=1;e<=6;e++)CZ["h"+e]=Aw(kZ("#",e)+" ",`

`)})();function kZ(e,t){return new Array(t+1).join(e)}function a8e(){var e=[],t=[],n=null,r={};function i(d,f){f=f||{};var h=CZ[d]||function(){return{}},p=h(f,n,r);t.push({end:p.end,list:n}),p.list&&(n=p.list);var y=p.anchorPosition==="before";y&&s(f),e.push(p.start||""),y||s(f)}function s(d){d.id&&e.push('<a id="'+d.id+'"></a>')}function o(d){var f=t.pop();n=f.list;var h=n8e.isFunction(f.end)?f.end():f.end;e.push(h||"")}function c(d,f){i(d,f),o()}function l(d){e.push(o8e(d))}function u(){return e.join("")}return{asString:u,open:i,close:o,text:l,selfClosing:c}}SZ.writer=a8e;function o8e(e){return e.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var c8e=TZ,l8e=SZ;_Z.writer=u8e;function u8e(e){return e=e||{},e.outputFormat==="markdown"?l8e.writer():c8e.writer(e)}var Sd=Ni,pM=os,Lb=Rn,Vo=GT(),KA=Io,d8e=QI,Ln=HT(),f8e=_Z;GI.DocumentConverter=h8e;function h8e(e){return{convertToHtml:function(t){var n=Sd.indexBy(t.type===Lb.types.document?t.comments:[],"commentId"),r=new p8e(e,n);return r.convertToHtml(t)}}}function p8e(e,t){var n=1,r=[],i=[];e=Sd.extend({ignoreEmptyParagraphs:!0},e);var s=e.idPrefix===void 0?"":e.idPrefix,o=e.ignoreEmptyParagraphs,c=Vo.topLevelElement("p"),l=e.styleMap||[];function u(G){var P=[],W=f(G,P,{}),F=[];AZ(W,function(L){L.type==="deferred"&&F.push(L)});var O={};return pM.mapSeries(F,function(L){return L.value().then(function(K){O[L.id]=K})}).then(function(){function L(Q){return dC(Q,function(U){return U.type==="deferred"?O[U.id]:U.children?[Sd.extend({},U,{children:L(U.children)})]:[U]})}var K=f8e.writer({prettyPrint:e.prettyPrint,outputFormat:e.outputFormat});return Ln.write(K,Ln.simplify(L(W))),new KA.Result(K.asString(),P)})}function d(G,P,W){return dC(G,function(F){return f(F,P,W)})}function f(G,P,W){if(!W)throw new Error("options not set");var F=H[G.type];return F?F(G,P,W):[]}function h(G,P,W){return p(G,P).wrap(function(){var F=d(G.children,P,W);return o?F:[Ln.forceWrite].concat(F)})}function p(G,P){var W=v(G);return W?W.to:(G.styleId&&P.push(mM("paragraph",G)),c)}function y(G,P,W){var F=function(){return d(G.children,P,W)},O=[];if(G.highlight!==null){var L=g({type:"highlight",color:G.highlight});L&&O.push(L)}G.isSmallCaps&&O.push(m("smallCaps")),G.isAllCaps&&O.push(m("allCaps")),G.isStrikethrough&&O.push(m("strikethrough","s")),G.isUnderline&&O.push(m("underline")),G.verticalAlignment===Lb.verticalAlignment.subscript&&O.push(Vo.element("sub",{},{fresh:!1})),G.verticalAlignment===Lb.verticalAlignment.superscript&&O.push(Vo.element("sup",{},{fresh:!1})),G.isItalic&&O.push(m("italic","em")),G.isBold&&O.push(m("bold","strong"));var K=Vo.empty,Q=v(G);return Q?K=Q.to:G.styleId&&P.push(mM("run",G)),O.push(K),O.forEach(function(U){F=U.wrap.bind(U,F)}),F()}function m(G,P){var W=g({type:G});return W||(P?Vo.element(P,{},{fresh:!1}):Vo.empty)}function g(G,P){var W=v(G);return W?W.to:P}function v(G){for(var P=0;P<l.length;P++)if(l[P].from.matches(G))return l[P]}function x(G){return function(P,W){return pM.attempt(function(){return G(P,W)}).caught(function(F){return W.push(KA.error(F)),[]})}}function b(G){return T(G.noteType,G.noteId)}function w(G){return C(G.noteType,G.noteId)}function T(G,P){return _(G+"-"+P)}function C(G,P){return _(G+"-ref-"+P)}function _(G){return s+G}var N=Vo.elements([Vo.element("table",{},{fresh:!0})]);function k(G,P,W){return g(G,N).wrap(function(){return j(G,P,W)})}function j(G,P,W){var F=Sd.findIndex(G.children,function(Q){return!Q.type===Lb.types.tableRow||!Q.isHeader});F===-1&&(F=G.children.length);var O;if(F===0)O=d(G.children,P,Sd.extend({},W,{isTableHeader:!1}));else{var L=d(G.children.slice(0,F),P,Sd.extend({},W,{isTableHeader:!0})),K=d(G.children.slice(F),P,Sd.extend({},W,{isTableHeader:!1}));O=[Ln.freshElement("thead",{},L),Ln.freshElement("tbody",{},K)]}return[Ln.forceWrite].concat(O)}function D(G,P,W){var F=d(G.children,P,W);return[Ln.freshElement("tr",{},[Ln.forceWrite].concat(F))]}function E(G,P,W){var F=W.isTableHeader?"th":"td",O=d(G.children,P,W),L={};return G.colSpan!==1&&(L.colspan=G.colSpan.toString()),G.rowSpan!==1&&(L.rowspan=G.rowSpan.toString()),[Ln.freshElement(F,L,[Ln.forceWrite].concat(O))]}function I(G,P,W){return g(G,Vo.ignore).wrap(function(){var F=t[G.commentId],O=i.length+1,L="["+x8e(F)+O+"]";return i.push({label:L,comment:F}),[Ln.freshElement("a",{href:"#"+T("comment",G.commentId),id:C("comment",G.commentId)},[Ln.text(L)])]})}function R(G,P,W){var F=G.label,O=G.comment,L=d(O.body,P,W).concat([Ln.nonFreshElement("p",{},[Ln.text(" "),Ln.freshElement("a",{href:"#"+C("comment",O.commentId)},[Ln.text("")])])]);return[Ln.freshElement("dt",{id:T("comment",O.commentId)},[Ln.text("Comment "+F)]),Ln.freshElement("dd",{},L)]}function V(G,P,W){return M(G).wrap(function(){return[]})}function M(G){var P=v(G);return P?P.to:G.breakType==="line"?Vo.topLevelElement("br"):Vo.empty}var H={document:function(G,P,W){var F=d(G.children,P,W),O=r.map(function(K){return G.notes.resolve(K)}),L=d(O,P,W);return F.concat([Ln.freshElement("ol",{},L),Ln.freshElement("dl",{},dC(i,function(K){return R(K,P,W)}))])},paragraph:h,run:y,text:function(G,P,W){return[Ln.text(G.value)]},tab:function(G,P,W){return[Ln.text("	")]},hyperlink:function(G,P,W){var F=G.anchor?"#"+_(G.anchor):G.href,O={href:F};G.targetFrame!=null&&(O.target=G.targetFrame);var L=d(G.children,P,W);return[Ln.nonFreshElement("a",O,L)]},checkbox:function(G){var P={type:"checkbox"};return G.checked&&(P.checked="checked"),[Ln.freshElement("input",P)]},bookmarkStart:function(G,P,W){var F=Ln.freshElement("a",{id:_(G.name)},[Ln.forceWrite]);return[F]},noteReference:function(G,P,W){r.push(G);var F=Ln.freshElement("a",{href:"#"+b(G),id:w(G)},[Ln.text("["+n+++"]")]);return[Ln.freshElement("sup",{},[F])]},note:function(G,P,W){var F=d(G.body,P,W),O=Ln.elementWithTag(Vo.element("p",{},{fresh:!1}),[Ln.text(" "),Ln.freshElement("a",{href:"#"+w(G)},[Ln.text("")])]),L=F.concat([O]);return Ln.freshElement("li",{id:b(G)},L)},commentReference:I,comment:R,image:g8e(x(e.convertImage||d8e.dataUri)),table:k,tableRow:D,tableCell:E,break:V};return{convertToHtml:u}}var m8e=1;function g8e(e){return function(t,n,r){return[{type:"deferred",id:m8e++,value:function(){return e(t,n,r)}}]}}function mM(e,t){return KA.warning("Unrecognised "+e+" style: '"+t.styleName+"' (Style ID: "+t.styleId+")")}function dC(e,t){return Sd.flatten(e.map(t),!0)}function AZ(e,t){e.forEach(function(n){t(n),n.children&&AZ(n.children,t)})}var x8e=GI.commentAuthorLabel=function(t){return t.authorInitials||""},DZ={},v8e=Rn;function jZ(e){if(e.type==="text")return e.value;if(e.type===v8e.types.tab)return"	";var t=e.type==="paragraph"?`

`:"";return(e.children||[]).map(jZ).join("")+t}DZ.convertElementToRawText=jZ;var QT={},Yc={},IZ={},RZ={exports:{}},C0=RZ.exports=function(e,t){this._tokens=e,this._startIndex=t||0};C0.prototype.head=function(){return this._tokens[this._startIndex]};C0.prototype.tail=function(e){return new C0(this._tokens,this._startIndex+1)};C0.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};C0.prototype.end=function(){return this._tokens[this._tokens.length-1]};C0.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)};var y8e=RZ.exports,b8e=y8e;IZ.Parser=function(e){var t=function(n,r){return n(new b8e(r))};return{parseTokens:t}};var KI={},OZ={};(function(e){e.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return e.none},flatMap:function(){return e.none},filter:function(){return e.none},toArray:function(){return[]},orElse:t,valueOrElse:t});function t(r){return typeof r=="function"?r():r}e.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:e.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},e.isOption=function(r){return r===e.none||r instanceof n},e.fromNullable=function(r){return r==null?e.none:new n(r)}})(OZ);var XI={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new Ws({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new Ws({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new Ws({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new Ws({status:"cut",remaining:e,errors:[]})}},Ws=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};Ws.prototype.map=function(e){return this._hasValue?new Ws({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};Ws.prototype.changeRemaining=function(e){return new Ws({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})};Ws.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};Ws.prototype.isFailure=function(){return this._status==="failure"};Ws.prototype.isError=function(){return this._status==="error"};Ws.prototype.isCut=function(){return this._status==="cut"};Ws.prototype.value=function(){return this._value};Ws.prototype.remaining=function(){return this._remaining};Ws.prototype.source=function(){return this._source};Ws.prototype.errors=function(){return this._errors};var YI={};YI.error=function(e){return new KT(e)};var KT=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};KT.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual};KT.prototype.lineNumber=function(){return this._location.lineNumber()};KT.prototype.characterNumber=function(){return this._location.characterNumber()};var FZ={};FZ.fromArray=function(e){var t=0,n=function(){return t<e.length};return new rp({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var rp=function(e){this._iterator=e};rp.prototype.map=function(e){var t=this._iterator;return new rp({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})};rp.prototype.filter=function(e){var t=this._iterator,n=!1,r=!1,i,s=function(){if(!n)for(n=!0,r=!1;t.hasNext()&&!r;)i=t.next(),r=e(i)};return new rp({hasNext:function(){return s(),r},next:function(){s();var o=i;return n=!1,o}})};rp.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null};rp.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e};(function(e){var t=Ni,n=OZ,r=XI,i=YI,s=FZ;e.token=function(h,p){var y=p!==void 0;return function(m){var g=m.head();if(g&&g.name===h&&(!y||g.value===p))return r.success(g.value,m.tail(),g.source);var v=d({name:h,value:p});return f(m,v)}},e.tokenOfType=function(h){return e.token(h)},e.firstOf=function(h,p){return t.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(y){return s.fromArray(p).map(function(m){return m(y)}).filter(function(m){return m.isSuccess()||m.isError()}).first()||f(y,h)}},e.then=function(h,p){return function(y){var m=h(y);return m.map||console.log(m),m.map(p)}},e.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(m){var g=t.foldl(h,function(x,b){var w=x.result,T=x.hasCut;if(!w.isSuccess())return{result:w,hasCut:T};var C=b(w.remaining());if(C.isCut())return{result:w,hasCut:!0};if(C.isSuccess()){var _;b.isCaptured?_=w.value().withValue(b,C.value()):_=w.value();var N=C.remaining(),k=m.to(N);return{result:r.success(_,N,k),hasCut:T}}else return T?{result:r.error(C.errors(),C.remaining()),hasCut:T}:{result:C,hasCut:T}},{result:r.success(new o,m),hasCut:!1}).result,v=m.to(g.remaining());return g.map(function(x){return x.withValue(e.sequence.source,v)})};p.head=function(){var m=t.find(h,y);return e.then(p,e.sequence.extract(m))},p.map=function(m){return e.then(p,function(g){return m.apply(this,g.toArray())})};function y(m){return m.isCaptured}return p};var o=function(h,p){this._values=h||{},this._valuesArray=p||[]};o.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var y=t.clone(this._values);y[h.captureName]=p;var m=this._valuesArray.concat([p]);return new o(y,m)},o.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},e.sequence.capture=function(h,p){var y=function(){return h.apply(this,arguments)};return y.captureName=p,y.isCaptured=!0,y},e.sequence.extract=function(h){return function(p){return p.get(h)}},e.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(y){var m=p.map(function(g){return y.get(g)});return h.apply(this,m)}},e.sequence.source={captureName:"source"},e.sequence.cut=function(){return function(h){return r.cut(h)}},e.optional=function(h){return function(p){var y=h(p);return y.isSuccess()?y.map(n.some):y.isFailure()?r.success(n.none,p):y}},e.zeroOrMoreWithSeparator=function(h,p){return u(h,p,!1)},e.oneOrMoreWithSeparator=function(h,p){return u(h,p,!0)};var c=e.zeroOrMore=function(h){return function(p){for(var y=[],m;(m=h(p))&&m.isSuccess();)p=m.remaining(),y.push(m.value());return m.isError()?m:r.success(y,p)}};e.oneOrMore=function(h){return e.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var u=function(h,p,y){return function(m){var g=h(m);if(g.isSuccess()){var v=e.sequence.capture(h,"main"),x=c(e.then(e.sequence(p,v),e.sequence.extract(v))),b=x(g.remaining());return r.success([g.value()].concat(b.value()),b.remaining())}else return y||g.isError()?g:r.success([],m)}};e.leftAssociative=function(h,p,y){var m;y?m=[{func:y,rule:p}]:m=p,m=m.map(function(v){return e.then(v.rule,function(x){return function(b,w){return v.func(b,x,w)}})});var g=e.firstOf.apply(null,["rules"].concat(m));return function(v){var x=v,b=h(v);if(!b.isSuccess())return b;for(var w=g(b.remaining());w.isSuccess();){var T=w.remaining(),C=x.to(w.remaining()),_=w.value();b=r.success(_(b.value(),C),T,C),w=g(b.remaining())}return w.isError()?w:b}},e.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},e.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var d=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var y,m=h.head();return m?y=i.error({expected:p,actual:d(m),location:m.source}):y=i.error({expected:p,actual:"end of tokens"}),r.failure([y],h)}})(KI);var PZ={exports:{}};PZ.exports=function(e,t){var n={asString:function(){return e},range:function(r,i){return new ip(e,t,r,i)}};return n};var ip=function(e,t,n,r){this._string=e,this._description=t,this._startIndex=n,this._endIndex=r};ip.prototype.to=function(e){return new ip(this._string,this._description,this._startIndex,e._endIndex)};ip.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber};ip.prototype.lineNumber=function(){return this._position().lineNumber};ip.prototype.characterNumber=function(){return this._position().characterNumber};ip.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},r=1;n()!==-1&&n()<this._startIndex;)t=n()+1,r+=1;var i=this._startIndex-t+1;return{lineNumber:r,characterNumber:i}};var UZ=PZ.exports,LZ=function(e,t,n){this.name=e,this.value=t,n&&(this.source=n)},MZ={};(function(e){var t=KI,n=XI;e.parser=function(s,o,c){var l={rule:h,leftAssociative:p,rightAssociative:y},u=new r(c.map(f)),d=t.firstOf(s,o);function f(v){return{name:v.name,rule:i(v.ruleBuilder.bind(null,l))}}function h(){return m(u)}function p(v){return m(u.untilExclusive(v))}function y(v){return m(u.untilInclusive(v))}function m(v){return g.bind(null,v)}function g(v,x){var b=d(x);return b.isSuccess()?v.apply(b):b}return l};function r(s){function o(f){return new r(s.slice(0,l().indexOf(f)))}function c(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function u(f){for(var h,p;;)if(h=d(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function d(f){return t.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:u,untilExclusive:o,untilInclusive:c}}e.infix=function(s,o){function c(l){return e.infix(s,function(u){var d=o(u);return function(f){var h=d(f);return h.map(function(p){return function(y,m){return l(y,p,m)}})}})}return{name:s,ruleBuilder:o,map:c}};var i=function(s){var o;return function(c){return o||(o=s()),o(c)}}})(MZ);var BZ={},fC=LZ,w8e=UZ;BZ.RegexTokeniser=_8e;function _8e(e){e=e.map(function(i){return{name:i.name,regex:new RegExp(i.regex.source,"g")}});function t(i,s){for(var o=new w8e(i,s),c=0,l=[];c<i.length;){var u=n(i,c,o);c=u.endIndex,l.push(u.token)}return l.push(r(i,o)),l}function n(i,s,o){for(var c=0;c<e.length;c++){var l=e[c].regex;l.lastIndex=s;var u=l.exec(i);if(u){var f=s+u[0].length;if(u.index===s&&f>s){var d=u[1],h=new fC(e[c].name,d,o.range(s,f));return{token:h,endIndex:f}}}}var f=s+1,h=new fC("unrecognisedCharacter",i.substring(s,f),o.range(s,f));return{token:h,endIndex:f}}function r(i,s){return new fC("end",null,s.range(i.length,i.length))}return{tokenise:t}}Yc.Parser=IZ.Parser;Yc.rules=KI;Yc.errors=YI;Yc.results=XI;Yc.StringSource=UZ;Yc.Token=LZ;Yc.bottomUp=MZ;Yc.RegexTokeniser=BZ.RegexTokeniser;Yc.rule=function(e){var t;return function(n){return t||(t=e()),t(n)}};var Es={};Es.paragraph=T8e;Es.run=E8e;Es.table=N8e;Es.bold=new Zc("bold");Es.italic=new Zc("italic");Es.underline=new Zc("underline");Es.strikethrough=new Zc("strikethrough");Es.allCaps=new Zc("allCaps");Es.smallCaps=new Zc("smallCaps");Es.highlight=S8e;Es.commentReference=new Zc("commentReference");Es.lineBreak=new XT({breakType:"line"});Es.pageBreak=new XT({breakType:"page"});Es.columnBreak=new XT({breakType:"column"});Es.equalTo=k8e;Es.startsWith=A8e;function T8e(e){return new Zc("paragraph",e)}function E8e(e){return new Zc("run",e)}function N8e(e){return new Zc("table",e)}function S8e(e){return new VZ(e)}function Zc(e,t){t=t||{},this._elementType=e,this._styleId=t.styleId,this._styleName=t.styleName,t.list&&(this._listIndex=t.list.levelIndex,this._listIsOrdered=t.list.isOrdered)}Zc.prototype.matches=function(e){return e.type===this._elementType&&(this._styleId===void 0||e.styleId===this._styleId)&&(this._styleName===void 0||e.styleName&&this._styleName.operator(this._styleName.operand,e.styleName))&&(this._listIndex===void 0||C8e(e,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===e.breakType)};function VZ(e){e=e||{},this._color=e.color}VZ.prototype.matches=function(e){return e.type==="highlight"&&(this._color===void 0||e.color===this._color)};function XT(e){e=e||{},this._breakType=e.breakType}XT.prototype.matches=function(e){return e.type==="break"&&(this._breakType===void 0||e.breakType===this._breakType)};function C8e(e,t,n){return e.numbering&&e.numbering.level==t&&e.numbering.isOrdered==n}function k8e(e){return{operator:D8e,operand:e}}function A8e(e){return{operator:j8e,operand:e}}function D8e(e,t){return e.toUpperCase()===t.toUpperCase()}function j8e(e,t){return t.toUpperCase().indexOf(e.toUpperCase())===0}var WZ={},I8e=Yc,R8e=I8e.RegexTokeniser;WZ.tokenise=O8e;var gM="'((?:\\\\.|[^'])*)";function O8e(e){var t="(?:[a-zA-Z\\-_]|\\\\.)",n=new R8e([{name:"identifier",regex:new RegExp("("+t+"(?:"+t+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(gM+"'")},{name:"unterminated-string",regex:new RegExp(gM)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return n.tokenise(e)}var F8e=Ni,st=Yc,js=Es,Mb=GT(),P8e=WZ.tokenise,hC=Io;QT.readHtmlPath=B8e;QT.readDocumentMatcher=M8e;QT.readStyle=U8e;function U8e(e){return ZI(Q8e,e)}function L8e(){return st.rules.sequence(st.rules.sequence.capture(qZ()),st.rules.tokenOfType("whitespace"),st.rules.tokenOfType("arrow"),st.rules.sequence.capture(st.rules.optional(st.rules.sequence(st.rules.tokenOfType("whitespace"),st.rules.sequence.capture(zZ())).head())),st.rules.tokenOfType("end")).map(function(e,t){return{from:e,to:t.valueOrElse(Mb.empty)}})}function M8e(e){return ZI(qZ(),e)}function qZ(){var e=st.rules.sequence,t=function(C,_){return st.rules.then(st.rules.token("identifier",C),function(){return _})},n=t("p",js.paragraph),r=t("r",js.run),i=st.rules.firstOf("p or r or table",n,r),s=st.rules.sequence(st.rules.tokenOfType("dot"),st.rules.sequence.cut(),st.rules.sequence.capture(YT)).map(function(C){return{styleId:C}}),o=st.rules.firstOf("style name matcher",st.rules.then(st.rules.sequence(st.rules.tokenOfType("equals"),st.rules.sequence.cut(),st.rules.sequence.capture(xm)).head(),function(C){return{styleName:js.equalTo(C)}}),st.rules.then(st.rules.sequence(st.rules.tokenOfType("startsWith"),st.rules.sequence.cut(),st.rules.sequence.capture(xm)).head(),function(C){return{styleName:js.startsWith(C)}})),c=st.rules.sequence(st.rules.tokenOfType("open-square-bracket"),st.rules.sequence.cut(),st.rules.token("identifier","style-name"),st.rules.sequence.capture(o),st.rules.tokenOfType("close-square-bracket")).head(),l=st.rules.firstOf("list type",t("ordered-list",{isOrdered:!0}),t("unordered-list",{isOrdered:!1})),u=e(st.rules.tokenOfType("colon"),e.capture(l),e.cut(),st.rules.tokenOfType("open-paren"),e.capture(V8e),st.rules.tokenOfType("close-paren")).map(function(C,_){return{list:{isOrdered:C.isOrdered,levelIndex:_-1}}});function d(C){var _=st.rules.firstOf.apply(st.rules.firstOf,["matcher suffix"].concat(C)),N=st.rules.zeroOrMore(_);return st.rules.then(N,function(k){var j={};return k.forEach(function(D){F8e.extend(j,D)}),j})}var f=e(e.capture(i),e.capture(d([s,c,u]))).map(function(C,_){return C(_)}),h=e(st.rules.token("identifier","table"),e.capture(d([s,c]))).map(function(C){return js.table(C)}),p=t("b",js.bold),y=t("i",js.italic),m=t("u",js.underline),g=t("strike",js.strikethrough),v=t("all-caps",js.allCaps),x=t("small-caps",js.smallCaps),b=e(st.rules.token("identifier","highlight"),st.rules.sequence.capture(st.rules.optional(st.rules.sequence(st.rules.tokenOfType("open-square-bracket"),st.rules.sequence.cut(),st.rules.token("identifier","color"),st.rules.tokenOfType("equals"),st.rules.sequence.capture(xm),st.rules.tokenOfType("close-square-bracket")).head()))).map(function(C){return js.highlight({color:C.valueOrElse(void 0)})}),w=t("comment-reference",js.commentReference),T=e(st.rules.token("identifier","br"),e.cut(),st.rules.tokenOfType("open-square-bracket"),st.rules.token("identifier","type"),st.rules.tokenOfType("equals"),e.capture(xm),st.rules.tokenOfType("close-square-bracket")).map(function(C){switch(C){case"line":return js.lineBreak;case"page":return js.pageBreak;case"column":return js.columnBreak}});return st.rules.firstOf("element type",f,h,p,y,m,g,v,x,b,w,T)}function B8e(e){return ZI(zZ(),e)}function zZ(){var e=st.rules.sequence.capture,t=st.rules.tokenOfType("whitespace"),n=st.rules.then(st.rules.optional(st.rules.sequence(st.rules.tokenOfType("colon"),st.rules.token("identifier","fresh"))),function(o){return o.map(function(){return!0}).valueOrElse(!1)}),r=st.rules.then(st.rules.optional(st.rules.sequence(st.rules.tokenOfType("colon"),st.rules.token("identifier","separator"),st.rules.tokenOfType("open-paren"),e(xm),st.rules.tokenOfType("close-paren")).head()),function(o){return o.valueOrElse("")}),i=st.rules.oneOrMoreWithSeparator(YT,st.rules.tokenOfType("choice")),s=st.rules.sequence(e(i),e(st.rules.zeroOrMore($8e)),e(n),e(r)).map(function(o,c,l,u){var d={},f={};return c.forEach(function(h){h.append&&d[h.name]?d[h.name]+=" "+h.value:d[h.name]=h.value}),l&&(f.fresh=!0),u&&(f.separator=u),Mb.element(o,d,f)});return st.rules.firstOf("html path",st.rules.then(st.rules.tokenOfType("bang"),function(){return Mb.ignore}),st.rules.then(st.rules.zeroOrMoreWithSeparator(s,st.rules.sequence(t,st.rules.tokenOfType("gt"),t)),Mb.elements))}var YT=st.rules.then(st.rules.tokenOfType("identifier"),$Z),V8e=st.rules.tokenOfType("integer"),xm=st.rules.then(st.rules.tokenOfType("string"),$Z),W8e={n:`
`,r:"\r",t:"	"};function $Z(e){return e.replace(/\\(.)/g,function(t,n){return W8e[n]||n})}var q8e=st.rules.sequence(st.rules.tokenOfType("open-square-bracket"),st.rules.sequence.cut(),st.rules.sequence.capture(YT),st.rules.tokenOfType("equals"),st.rules.sequence.capture(xm),st.rules.tokenOfType("close-square-bracket")).map(function(e,t){return{name:e,value:t,append:!1}}),z8e=st.rules.sequence(st.rules.tokenOfType("dot"),st.rules.sequence.cut(),st.rules.sequence.capture(YT)).map(function(e){return{name:"class",value:e,append:!0}}),$8e=st.rules.firstOf("attribute or class",q8e,z8e);function ZI(e,t){var n=P8e(t),r=st.Parser(),i=r.parseTokens(e,n);return i.isSuccess()?hC.success(i.value()):new hC.Result(null,[hC.warning(H8e(t,i))])}function H8e(e,t){return"Did not understand this style mapping, so ignored it: "+e+`
`+t.errors().map(G8e).join(`
`)}function G8e(e){return"Error was at character number "+e.characterNumber()+": Expected "+e.expected+" but got "+e.actual}var Q8e=L8e(),ZT={};ZT.readOptions=Y8e;var HZ=Ni,K8e=ZT._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],X8e=ZT._standardOptions={externalFileAccess:!1,transformDocument:Z8e,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function Y8e(e){return e=e||{},HZ.extend({},X8e,e,{customStyleMap:xM(e.styleMap),readStyleMap:function(){var t=this.customStyleMap;return this.includeEmbeddedStyleMap&&(t=t.concat(xM(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(t=t.concat(K8e)),t}})}function xM(e){return e?HZ.isString(e)?e.split(`
`).map(function(t){return t.trim()}).filter(function(t){return t!==""&&t.charAt(0)!=="#"}):e:[]}function Z8e(e){return e}var GZ={},vM=os,J8e=$y;GZ.openZip=eUe;function eUe(e){return e.arrayBuffer?vM.resolve(J8e.openArrayBuffer(e.arrayBuffer)):vM.reject(new Error("Could not find file in options"))}var QZ={},tUe=GT(),nUe=HT();QZ.element=rUe;function rUe(e){return function(t){return nUe.elementWithTag(tUe.element(e),[t])}}var iUe=Ni,KZ=bI,JI=HI,sUe=GI.DocumentConverter,aUe=DZ.convertElementToRawText,oUe=QT.readStyle,cUe=ZT.readOptions,JT=GZ,lUe=Io.Result;dc.convertToHtml=uUe;dc.convertToMarkdown=dUe;dc.convert=e5;dc.extractRawText=mUe;dc.images=QI;dc.transforms=Gf;dc.underline=QZ;dc.embedStyleMap=gUe;dc.readEmbeddedStyleMap=fUe;function uUe(e,t){return e5(e,t)}function dUe(e,t){var n=Object.create(t||{});return n.outputFormat="markdown",e5(e,n)}function e5(e,t){return t=cUe(t),JT.openZip(e).tap(function(n){return JI.readStyleMap(n).then(function(r){t.embeddedStyleMap=r})}).then(function(n){return KZ.read(n,e,t).then(function(r){return r.map(t.transformDocument)}).then(function(r){return hUe(r,t)})})}function fUe(e){return JT.openZip(e).then(JI.readStyleMap)}function hUe(e,t){var n=pUe(t.readStyleMap()),r=iUe.extend({},t,{styleMap:n.value}),i=new sUe(r);return e.flatMapThen(function(s){return n.flatMapThen(function(o){return i.convertToHtml(s)})})}function pUe(e){return lUe.combine((e||[]).map(oUe)).map(function(t){return t.filter(function(n){return!!n})})}function mUe(e){return JT.openZip(e).then(KZ.read).then(function(t){return t.map(aUe)})}function gUe(e,t){return JT.openZip(e).tap(function(n){return JI.writeStyleMap(n,t)}).then(function(n){return n.toArrayBuffer()}).then(function(n){return{toArrayBuffer:function(){return n},toBuffer:function(){return Buffer.from(n)}}})}dc.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:XZ,setPrototypeOf:yM,isFrozen:xUe,getPrototypeOf:vUe,getOwnPropertyDescriptor:yUe}=Object;let{freeze:Sa,seal:cc,create:XA}=Object,{apply:YA,construct:ZA}=typeof Reflect<"u"&&Reflect;Sa||(Sa=function(t){return t});cc||(cc=function(t){return t});YA||(YA=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return t.apply(n,i)});ZA||(ZA=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const ab=Ca(Array.prototype.forEach),bUe=Ca(Array.prototype.lastIndexOf),bM=Ca(Array.prototype.pop),Fg=Ca(Array.prototype.push),wUe=Ca(Array.prototype.splice),Bb=Ca(String.prototype.toLowerCase),pC=Ca(String.prototype.toString),mC=Ca(String.prototype.match),Pg=Ca(String.prototype.replace),_Ue=Ca(String.prototype.indexOf),TUe=Ca(String.prototype.trim),bc=Ca(Object.prototype.hasOwnProperty),ra=Ca(RegExp.prototype.test),Ug=EUe(TypeError);function Ca(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return YA(e,t,r)}}function EUe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ZA(e,n)}}function Sn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bb;yM&&yM(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(xUe(t)||(t[r]=s),i=s)}e[i]=!0}return e}function NUe(e){for(let t=0;t<e.length;t++)bc(e,t)||(e[t]=null);return e}function ul(e){const t=XA(null);for(const[n,r]of XZ(e))bc(e,n)&&(Array.isArray(r)?t[n]=NUe(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=ul(r):t[n]=r);return t}function Lg(e,t){for(;e!==null;){const r=yUe(e,t);if(r){if(r.get)return Ca(r.get);if(typeof r.value=="function")return Ca(r.value)}e=vUe(e)}function n(){return null}return n}const wM=Sa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gC=Sa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xC=Sa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SUe=Sa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),vC=Sa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),CUe=Sa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_M=Sa(["#text"]),TM=Sa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),yC=Sa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),EM=Sa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ob=Sa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kUe=cc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AUe=cc(/<%[\w\W]*|[\w\W]*%>/gm),DUe=cc(/\$\{[\w\W]*/gm),jUe=cc(/^data-[\-\w.\u00B7-\uFFFF]+$/),IUe=cc(/^aria-[\-\w]+$/),YZ=cc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),RUe=cc(/^(?:\w+script|data):/i),OUe=cc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ZZ=cc(/^html$/i),FUe=cc(/^[a-z][.\w]*(-[.\w]+)+$/i);var NM=Object.freeze({__proto__:null,ARIA_ATTR:IUe,ATTR_WHITESPACE:OUe,CUSTOM_ELEMENT:FUe,DATA_ATTR:jUe,DOCTYPE_NAME:ZZ,ERB_EXPR:AUe,IS_ALLOWED_URI:YZ,IS_SCRIPT_OR_DATA:RUe,MUSTACHE_EXPR:kUe,TMPLIT_EXPR:DUe});const Mg={element:1,text:3,progressingInstruction:7,comment:8,document:9},PUe=function(){return typeof window>"u"?null:window},UUe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},SM=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function JZ(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PUe();const t=Ne=>JZ(Ne);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Mg.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:c,Element:l,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=e,y=l.prototype,m=Lg(y,"cloneNode"),g=Lg(y,"remove"),v=Lg(y,"nextSibling"),x=Lg(y,"childNodes"),b=Lg(y,"parentNode");if(typeof o=="function"){const Ne=n.createElement("template");Ne.content&&Ne.content.ownerDocument&&(n=Ne.content.ownerDocument)}let w,T="";const{implementation:C,createNodeIterator:_,createDocumentFragment:N,getElementsByTagName:k}=n,{importNode:j}=r;let D=SM();t.isSupported=typeof XZ=="function"&&typeof b=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:E,ERB_EXPR:I,TMPLIT_EXPR:R,DATA_ATTR:V,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:P}=NM;let{IS_ALLOWED_URI:W}=NM,F=null;const O=Sn({},[...wM,...gC,...xC,...vC,..._M]);let L=null;const K=Sn({},[...TM,...yC,...EM,...ob]);let Q=Object.seal(XA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,Z=null;const pe=Object.seal(XA(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let me=!0,ye=!0,Fe=!1,Y=!0,ve=!1,B=!0,_e=!1,Ee=!1,se=!1,J=!1,de=!1,X=!1,ue=!0,te=!1;const oe="user-content-";let le=!0,ae=!1,Te={},Ue=null;const qe=Sn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let nt=null;const Oe=Sn({},["audio","video","img","source","image","track"]);let Le=null;const Ze=Sn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",Dt="http://www.w3.org/2000/svg",$t="http://www.w3.org/1999/xhtml";let Pt=$t,xn=!1,rn=null;const qn=Sn({},[it,Dt,$t],pC);let sr=Sn({},["mi","mo","mn","ms","mtext"]),Kn=Sn({},["annotation-xml"]);const Jn=Sn({},["title","style","font","a","script"]);let _n=null;const Ft=["application/xhtml+xml","text/html"],_r="text/html";let Jt=null,ar=null;const Kr=n.createElement("form"),Cr=function(he){return he instanceof RegExp||he instanceof Function},Dn=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ar&&ar===he)){if((!he||typeof he!="object")&&(he={}),he=ul(he),_n=Ft.indexOf(he.PARSER_MEDIA_TYPE)===-1?_r:he.PARSER_MEDIA_TYPE,Jt=_n==="application/xhtml+xml"?pC:Bb,F=bc(he,"ALLOWED_TAGS")?Sn({},he.ALLOWED_TAGS,Jt):O,L=bc(he,"ALLOWED_ATTR")?Sn({},he.ALLOWED_ATTR,Jt):K,rn=bc(he,"ALLOWED_NAMESPACES")?Sn({},he.ALLOWED_NAMESPACES,pC):qn,Le=bc(he,"ADD_URI_SAFE_ATTR")?Sn(ul(Ze),he.ADD_URI_SAFE_ATTR,Jt):Ze,nt=bc(he,"ADD_DATA_URI_TAGS")?Sn(ul(Oe),he.ADD_DATA_URI_TAGS,Jt):Oe,Ue=bc(he,"FORBID_CONTENTS")?Sn({},he.FORBID_CONTENTS,Jt):qe,U=bc(he,"FORBID_TAGS")?Sn({},he.FORBID_TAGS,Jt):ul({}),Z=bc(he,"FORBID_ATTR")?Sn({},he.FORBID_ATTR,Jt):ul({}),Te=bc(he,"USE_PROFILES")?he.USE_PROFILES:!1,me=he.ALLOW_ARIA_ATTR!==!1,ye=he.ALLOW_DATA_ATTR!==!1,Fe=he.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ve=he.SAFE_FOR_TEMPLATES||!1,B=he.SAFE_FOR_XML!==!1,_e=he.WHOLE_DOCUMENT||!1,J=he.RETURN_DOM||!1,de=he.RETURN_DOM_FRAGMENT||!1,X=he.RETURN_TRUSTED_TYPE||!1,se=he.FORCE_BODY||!1,ue=he.SANITIZE_DOM!==!1,te=he.SANITIZE_NAMED_PROPS||!1,le=he.KEEP_CONTENT!==!1,ae=he.IN_PLACE||!1,W=he.ALLOWED_URI_REGEXP||YZ,Pt=he.NAMESPACE||$t,sr=he.MATHML_TEXT_INTEGRATION_POINTS||sr,Kn=he.HTML_INTEGRATION_POINTS||Kn,Q=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&Cr(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&Cr(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ve&&(ye=!1),de&&(J=!0),Te&&(F=Sn({},_M),L=[],Te.html===!0&&(Sn(F,wM),Sn(L,TM)),Te.svg===!0&&(Sn(F,gC),Sn(L,yC),Sn(L,ob)),Te.svgFilters===!0&&(Sn(F,xC),Sn(L,yC),Sn(L,ob)),Te.mathMl===!0&&(Sn(F,vC),Sn(L,EM),Sn(L,ob))),he.ADD_TAGS&&(typeof he.ADD_TAGS=="function"?pe.tagCheck=he.ADD_TAGS:(F===O&&(F=ul(F)),Sn(F,he.ADD_TAGS,Jt))),he.ADD_ATTR&&(typeof he.ADD_ATTR=="function"?pe.attributeCheck=he.ADD_ATTR:(L===K&&(L=ul(L)),Sn(L,he.ADD_ATTR,Jt))),he.ADD_URI_SAFE_ATTR&&Sn(Le,he.ADD_URI_SAFE_ATTR,Jt),he.FORBID_CONTENTS&&(Ue===qe&&(Ue=ul(Ue)),Sn(Ue,he.FORBID_CONTENTS,Jt)),he.ADD_FORBID_CONTENTS&&(Ue===qe&&(Ue=ul(Ue)),Sn(Ue,he.ADD_FORBID_CONTENTS,Jt)),le&&(F["#text"]=!0),_e&&Sn(F,["html","head","body"]),F.table&&(Sn(F,["tbody"]),delete U.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ug('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ug('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=he.TRUSTED_TYPES_POLICY,T=w.createHTML("")}else w===void 0&&(w=UUe(p,i)),w!==null&&typeof T=="string"&&(T=w.createHTML(""));Sa&&Sa(he),ar=he}},hr=Sn({},[...gC,...xC,...SUe]),er=Sn({},[...vC,...CUe]),or=function(he){let Re=b(he);(!Re||!Re.tagName)&&(Re={namespaceURI:Pt,tagName:"template"});const We=Bb(he.tagName),ze=Bb(Re.tagName);return rn[he.namespaceURI]?he.namespaceURI===Dt?Re.namespaceURI===$t?We==="svg":Re.namespaceURI===it?We==="svg"&&(ze==="annotation-xml"||sr[ze]):!!hr[We]:he.namespaceURI===it?Re.namespaceURI===$t?We==="math":Re.namespaceURI===Dt?We==="math"&&Kn[ze]:!!er[We]:he.namespaceURI===$t?Re.namespaceURI===Dt&&!Kn[ze]||Re.namespaceURI===it&&!sr[ze]?!1:!er[We]&&(Jn[We]||!hr[We]):!!(_n==="application/xhtml+xml"&&rn[he.namespaceURI]):!1},cr=function(he){Fg(t.removed,{element:he});try{b(he).removeChild(he)}catch{g(he)}},Tr=function(he,Re){try{Fg(t.removed,{attribute:Re.getAttributeNode(he),from:Re})}catch{Fg(t.removed,{attribute:null,from:Re})}if(Re.removeAttribute(he),he==="is")if(J||de)try{cr(Re)}catch{}else try{Re.setAttribute(he,"")}catch{}},ce=function(he){let Re=null,We=null;if(se)he="<remove></remove>"+he;else{const ot=mC(he,/^[\r\n\t ]+/);We=ot&&ot[0]}_n==="application/xhtml+xml"&&Pt===$t&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const ze=w?w.createHTML(he):he;if(Pt===$t)try{Re=new h().parseFromString(ze,_n)}catch{}if(!Re||!Re.documentElement){Re=C.createDocument(Pt,"template",null);try{Re.documentElement.innerHTML=xn?T:ze}catch{}}const Xe=Re.body||Re.documentElement;return he&&We&&Xe.insertBefore(n.createTextNode(We),Xe.childNodes[0]||null),Pt===$t?k.call(Re,_e?"html":"body")[0]:_e?Re.documentElement:Xe},Se=function(he){return _.call(he.ownerDocument||he,he,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},xe=function(he){return he instanceof f&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof d)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},we=function(he){return typeof c=="function"&&he instanceof c};function ne(Ne,he,Re){ab(Ne,We=>{We.call(t,he,Re,ar)})}const fe=function(he){let Re=null;if(ne(D.beforeSanitizeElements,he,null),xe(he))return cr(he),!0;const We=Jt(he.nodeName);if(ne(D.uponSanitizeElement,he,{tagName:We,allowedTags:F}),B&&he.hasChildNodes()&&!we(he.firstElementChild)&&ra(/<[/\w!]/g,he.innerHTML)&&ra(/<[/\w!]/g,he.textContent)||he.nodeType===Mg.progressingInstruction||B&&he.nodeType===Mg.comment&&ra(/<[/\w]/g,he.data))return cr(he),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(We))&&(!F[We]||U[We])){if(!U[We]&&re(We)&&(Q.tagNameCheck instanceof RegExp&&ra(Q.tagNameCheck,We)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(We)))return!1;if(le&&!Ue[We]){const ze=b(he)||he.parentNode,Xe=x(he)||he.childNodes;if(Xe&&ze){const ot=Xe.length;for(let jt=ot-1;jt>=0;--jt){const gt=m(Xe[jt],!0);gt.__removalCount=(he.__removalCount||0)+1,ze.insertBefore(gt,v(he))}}}return cr(he),!0}return he instanceof l&&!or(he)||(We==="noscript"||We==="noembed"||We==="noframes")&&ra(/<\/no(script|embed|frames)/i,he.innerHTML)?(cr(he),!0):(ve&&he.nodeType===Mg.text&&(Re=he.textContent,ab([E,I,R],ze=>{Re=Pg(Re,ze," ")}),he.textContent!==Re&&(Fg(t.removed,{element:he.cloneNode()}),he.textContent=Re)),ne(D.afterSanitizeElements,he,null),!1)},Ae=function(he,Re,We){if(ue&&(Re==="id"||Re==="name")&&(We in n||We in Kr))return!1;if(!(ye&&!Z[Re]&&ra(V,Re))){if(!(me&&ra(M,Re))){if(!(pe.attributeCheck instanceof Function&&pe.attributeCheck(Re,he))){if(!L[Re]||Z[Re]){if(!(re(he)&&(Q.tagNameCheck instanceof RegExp&&ra(Q.tagNameCheck,he)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(he))&&(Q.attributeNameCheck instanceof RegExp&&ra(Q.attributeNameCheck,Re)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(Re,he))||Re==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&ra(Q.tagNameCheck,We)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(We))))return!1}else if(!Le[Re]){if(!ra(W,Pg(We,G,""))){if(!((Re==="src"||Re==="xlink:href"||Re==="href")&&he!=="script"&&_Ue(We,"data:")===0&&nt[he])){if(!(Fe&&!ra(H,Pg(We,G,"")))){if(We)return!1}}}}}}}return!0},re=function(he){return he!=="annotation-xml"&&mC(he,P)},Ce=function(he){ne(D.beforeSanitizeAttributes,he,null);const{attributes:Re}=he;if(!Re||xe(he))return;const We={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L,forceKeepAttr:void 0};let ze=Re.length;for(;ze--;){const Xe=Re[ze],{name:ot,namespaceURI:jt,value:gt}=Xe,Nt=Jt(ot),On=gt;let cn=ot==="value"?On:TUe(On);if(We.attrName=Nt,We.attrValue=cn,We.keepAttr=!0,We.forceKeepAttr=void 0,ne(D.uponSanitizeAttribute,he,We),cn=We.attrValue,te&&(Nt==="id"||Nt==="name")&&(Tr(ot,he),cn=oe+cn),B&&ra(/((--!?|])>)|<\/(style|title|textarea)/i,cn)){Tr(ot,he);continue}if(Nt==="attributename"&&mC(cn,"href")){Tr(ot,he);continue}if(We.forceKeepAttr)continue;if(!We.keepAttr){Tr(ot,he);continue}if(!Y&&ra(/\/>/i,cn)){Tr(ot,he);continue}ve&&ab([E,I,R],lr=>{cn=Pg(cn,lr," ")});const br=Jt(he.nodeName);if(!Ae(br,Nt,cn)){Tr(ot,he);continue}if(w&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!jt)switch(p.getAttributeType(br,Nt)){case"TrustedHTML":{cn=w.createHTML(cn);break}case"TrustedScriptURL":{cn=w.createScriptURL(cn);break}}if(cn!==On)try{jt?he.setAttributeNS(jt,ot,cn):he.setAttribute(ot,cn),xe(he)?cr(he):bM(t.removed)}catch{Tr(ot,he)}}ne(D.afterSanitizeAttributes,he,null)},ke=function Ne(he){let Re=null;const We=Se(he);for(ne(D.beforeSanitizeShadowDOM,he,null);Re=We.nextNode();)ne(D.uponSanitizeShadowNode,Re,null),fe(Re),Ce(Re),Re.content instanceof s&&Ne(Re.content);ne(D.afterSanitizeShadowDOM,he,null)};return t.sanitize=function(Ne){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=null,We=null,ze=null,Xe=null;if(xn=!Ne,xn&&(Ne="<!-->"),typeof Ne!="string"&&!we(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw Ug("dirty is not a string, aborting")}else throw Ug("toString is not a function");if(!t.isSupported)return Ne;if(Ee||Dn(he),t.removed=[],typeof Ne=="string"&&(ae=!1),ae){if(Ne.nodeName){const gt=Jt(Ne.nodeName);if(!F[gt]||U[gt])throw Ug("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof c)Re=ce("<!---->"),We=Re.ownerDocument.importNode(Ne,!0),We.nodeType===Mg.element&&We.nodeName==="BODY"||We.nodeName==="HTML"?Re=We:Re.appendChild(We);else{if(!J&&!ve&&!_e&&Ne.indexOf("<")===-1)return w&&X?w.createHTML(Ne):Ne;if(Re=ce(Ne),!Re)return J?null:X?T:""}Re&&se&&cr(Re.firstChild);const ot=Se(ae?Ne:Re);for(;ze=ot.nextNode();)fe(ze),Ce(ze),ze.content instanceof s&&ke(ze.content);if(ae)return Ne;if(J){if(de)for(Xe=N.call(Re.ownerDocument);Re.firstChild;)Xe.appendChild(Re.firstChild);else Xe=Re;return(L.shadowroot||L.shadowrootmode)&&(Xe=j.call(r,Xe,!0)),Xe}let jt=_e?Re.outerHTML:Re.innerHTML;return _e&&F["!doctype"]&&Re.ownerDocument&&Re.ownerDocument.doctype&&Re.ownerDocument.doctype.name&&ra(ZZ,Re.ownerDocument.doctype.name)&&(jt="<!DOCTYPE "+Re.ownerDocument.doctype.name+`>
`+jt),ve&&ab([E,I,R],gt=>{jt=Pg(jt,gt," ")}),w&&X?w.createHTML(jt):jt},t.setConfig=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Dn(Ne),Ee=!0},t.clearConfig=function(){ar=null,Ee=!1},t.isValidAttribute=function(Ne,he,Re){ar||Dn({});const We=Jt(Ne),ze=Jt(he);return Ae(We,ze,Re)},t.addHook=function(Ne,he){typeof he=="function"&&Fg(D[Ne],he)},t.removeHook=function(Ne,he){if(he!==void 0){const Re=bUe(D[Ne],he);return Re===-1?void 0:wUe(D[Ne],Re,1)[0]}return bM(D[Ne])},t.removeHooks=function(Ne){D[Ne]=[]},t.removeAllHooks=function(){D=SM()},t}var eJ=JZ();const LUe={ALLOWED_TAGS:["p","br","span","div","strong","b","em","i","u","s","strike","del","ins","sub","sup","mark","h1","h2","h3","h4","h5","h6","ul","ol","li","table","thead","tbody","tfoot","tr","th","td","caption","colgroup","col","a","img","embed","object","iframe","blockquote","pre","code","article","section","header","footer","aside","nav","main","figure","figcaption","hr","abbr","address","cite","q"],ALLOWED_ATTR:["class","id","style","title","lang","dir","href","target","rel","src","alt","width","height","loading","type","allowfullscreen","frameborder","allow","sandbox","colspan","rowspan","scope","headers","data-*"],ALLOWED_URI_REGEXP:/^(?:(?:https?|mailto|tel|blob|data):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i,FORBID_TAGS:["script","style","form","input","button","textarea","select"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur","onchange","onsubmit"],ADD_TAGS:[],ADD_ATTR:[],SANITIZE_DOM:!0,KEEP_CONTENT:!0},MUe={ADD_TAGS:["iframe","style","script","canvas","meta"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling","charset","type","async","defer"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur"],FORCE_BODY:!0};function BUe(e){return e?eJ.sanitize(e,LUe):""}function VUe(e){return e?/<script|<canvas|<style/.test(e)?e.replace(/\s+on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,""):eJ.sanitize(e,MUe):""}function WUe(e,t){return e?t!=null&&t.isAdmin||(t==null?void 0:t.source)==="admin"||(t==null?void 0:t.source)==="library"?VUe(e):BUe(e):""}const eE="library-subjects",tE="library-topics",t5="library-subtopics",tg="library-packs",Xy="library-mcqs",nE="library-notes",tJ="library-downloads";async function qUe(e){await xt(Ke(Pe,eE,e.id),e)}async function zUe(e){await No(Ke(Pe,eE,e))}function $Ue(e){return ir(Et(Pe,eE),t=>{const n=t.docs.map(r=>r.data());e(n.sort((r,i)=>(r.order||0)-(i.order||0)))})}async function HUe(e){await xt(Ke(Pe,tE,e.id),e)}async function GUe(e){await No(Ke(Pe,tE,e))}function QUe(e){return ir(Et(Pe,tE),t=>{const n=t.docs.map(r=>r.data());e(n.sort((r,i)=>(r.order||0)-(i.order||0)))})}async function KUe(e){await xt(Ke(Pe,t5,e.id),e)}async function XUe(e){await No(Ke(Pe,t5,e))}function YUe(e){return ir(Et(Pe,t5),t=>{const n=t.docs.map(r=>r.data());e(n.sort((r,i)=>(r.order||0)-(i.order||0)))})}async function ZUe(e){await xt(Ke(Pe,tg,e.id),e)}async function Bg(e,t){const n=Ke(Pe,tg,e),r=await Uf(n);r.exists()&&await xt(n,{...r.data(),...t,updatedAt:Date.now()})}async function JUe(){const e=Ut(Et(Pe,tg));return(await Bn(e)).docs.map(n=>n.data())}async function eLe(e){await No(Ke(Pe,tg,e))}function tLe(e){return ir(Et(Pe,tg),t=>{const n=t.docs.map(r=>r.data());e(n)})}async function nLe(e){await xt(Ke(Pe,Xy,e.id),e)}async function rLe(e){const t=Ha(Pe);e.forEach(n=>{t.set(Ke(Pe,Xy,n.id),n)}),await t.commit()}async function CM(e){await No(Ke(Pe,Xy,e))}function iLe(e){return ir(Et(Pe,Xy),t=>{const n=t.docs.map(r=>r.data());e(n)})}async function sLe(e){await xt(Ke(Pe,nE,e.id),e)}async function kM(e){await No(Ke(Pe,nE,e))}function aLe(e){return ir(Et(Pe,nE),t=>{const n=t.docs.map(r=>r.data());e(n)})}async function oLe(e){await xt(Ke(Pe,tJ,e.id),e)}function cLe(e,t){return ir(Et(Pe,tJ),n=>{const r=n.docs.map(i=>i.data());t(r.filter(i=>i.userId===e))})}function lLe(e){const t=[];return t.push($Ue(e.onSubjects)),t.push(QUe(e.onTopics)),e.onSubtopics&&t.push(YUe(e.onSubtopics)),t.push(tLe(e.onPacks)),t.push(iLe(e.onMcqs)),t.push(aLe(e.onNotes)),()=>{t.forEach(n=>n())}}async function uLe(){if((await JUe()).length>0){console.log("Library data already exists in Firebase");return}console.log("Initializing library sample data to Firebase...");const t=Date.now(),n=[{id:"sub1",name:"",nameEn:"Bengali",icon:"",order:1,isActive:!0,createdAt:t},{id:"sub2",name:"English",nameEn:"English",icon:"",order:2,isActive:!0,createdAt:t},{id:"sub3",name:"",nameEn:"Mathematics",icon:"",order:3,isActive:!0,createdAt:t},{id:"sub4",name:" ",nameEn:"General Knowledge",icon:"",order:4,isActive:!0,createdAt:t},{id:"sub5",name:"",nameEn:"Science",icon:"",order:5,isActive:!0,createdAt:t}],r=[{id:"top1",subjectId:"sub1",name:"",nameEn:"Grammar",order:1,isActive:!0,createdAt:t},{id:"top2",subjectId:"sub1",name:"",nameEn:"Literature",order:2,isActive:!0,createdAt:t},{id:"top3",subjectId:"sub1",name:"",nameEn:"Essay",order:3,isActive:!0,createdAt:t},{id:"top4",subjectId:"sub2",name:"Grammar",order:1,isActive:!0,createdAt:t},{id:"top5",subjectId:"sub2",name:"Vocabulary",order:2,isActive:!0,createdAt:t},{id:"top6",subjectId:"sub3",name:"",nameEn:"Arithmetic",order:1,isActive:!0,createdAt:t},{id:"top7",subjectId:"sub3",name:"",nameEn:"Algebra",order:2,isActive:!0,createdAt:t},{id:"top8",subjectId:"sub4",name:" ",nameEn:"Indian History",order:1,isActive:!0,createdAt:t},{id:"top9",subjectId:"sub4",name:"",nameEn:"Geography",order:2,isActive:!0,createdAt:t}],i=Ha(Pe);n.forEach(d=>i.set(Ke(Pe,eE,d.id),d)),r.forEach(d=>i.set(Ke(Pe,tE,d.id),d)),await i.commit(),console.log("Subjects and Topics uploaded");const s=[{id:"pack1",subjectId:"sub1",topicId:"top1",title:"  - ",description:", ,    + MCQ",tags:["","","SSC","WBCS"],contentType:"mcq",mcqCount:50,notesCount:0,pricing:"free",downloadCount:1250,rating:4.5,isActive:!0,isFeatured:!0,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack2",subjectId:"sub1",topicId:"top1",title:" - MCQ ",description:", , ,  ",tags:["",""],contentType:"mcq",mcqCount:40,notesCount:0,pricing:"free",downloadCount:890,isActive:!0,isFeatured:!1,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack3",subjectId:"sub1",topicId:"top2",title:"  - ",description:"     MCQ  ",tags:["","",""],contentType:"both",mcqCount:30,notesCount:5,pricing:"paid",price:49,downloadCount:450,rating:4.8,isActive:!0,isFeatured:!0,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack4",subjectId:"sub2",topicId:"top4",title:"Tense - Complete Guide",description:"All tenses with rules and 100+ MCQs",tags:["Tense","Grammar","SSC"],contentType:"both",mcqCount:60,notesCount:3,pricing:"free",downloadCount:2100,rating:4.7,isActive:!0,isFeatured:!0,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack5",subjectId:"sub4",topicId:"top8",title:" ",description:"    MCQ",tags:["","","WBCS"],contentType:"mcq",mcqCount:80,notesCount:0,pricing:"paid",price:29,downloadCount:670,isActive:!0,isFeatured:!1,createdBy:"admin",createdAt:t,updatedAt:t}],o=Ha(Pe);s.forEach(d=>o.set(Ke(Pe,tg,d.id),d)),await o.commit(),console.log("Content Packs uploaded");const c=Ha(Pe);[{id:"lmcq1",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:0,explanation:" +  =  ()",difficulty:"easy",createdAt:t},{id:"lmcq2",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:1,explanation:" +  =  (:  +  = )",difficulty:"easy",createdAt:t},{id:"lmcq3",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:2,explanation:" +  =  ()",difficulty:"medium",createdAt:t},{id:"lmcq4",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:2,explanation:" +  =  ( )",difficulty:"medium",createdAt:t},{id:"lmcq5",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:0,explanation:" +  =  (:  +  = )",difficulty:"medium",createdAt:t},{id:"lmcq6",packId:"pack4",subjectId:"sub2",topicId:"top4",question:'Which tense is used: "She has been working here since 2010"?',options:["Present Perfect","Present Perfect Continuous","Past Perfect","Past Continuous"],correctIndex:1,explanation:"Present Perfect Continuous is used for actions started in past and continuing.",difficulty:"medium",createdAt:t},{id:"lmcq7",packId:"pack4",subjectId:"sub2",topicId:"top4",question:'Choose the correct form: "By next year, I ___ here for 5 years."',options:["will work","will be working","will have been working","would work"],correctIndex:2,explanation:"Future Perfect Continuous for duration up to a point in future.",difficulty:"hard",createdAt:t}].forEach(d=>c.set(Ke(Pe,Xy,d.id),d)),[{id:"lnote1",packId:"pack4",subjectId:"sub2",topicId:"top4",title:"Introduction to Tenses",content:`<h2>What is Tense?</h2>
<p>Tense tells us about the <strong>time of an action</strong>. In English, there are three main tenses:</p>
<ul>
  <li><strong>Present Tense</strong> - Action happening now</li>
  <li><strong>Past Tense</strong> - Action that happened before</li>
  <li><strong>Future Tense</strong> - Action that will happen</li>
</ul>
<p>Each tense has 4 forms: Simple, Continuous, Perfect, and Perfect Continuous.</p>`,order:1,createdAt:t},{id:"lnote2",packId:"pack3",subjectId:"sub1",topicId:"top2",title:"  - ",content:`<h2>  (-)</h2>
<p>        <strong> </strong>       </p>
<h3> :</h3>
<ul>
  <li>:   , , </li>
  <li>:   </li>
  <li>: , </li>
</ul>`,order:1,createdAt:t}].forEach(d=>c.set(Ke(Pe,nE,d.id),d)),await c.commit(),console.log("Library sample data initialized to Firebase!")}const qr=Lf()(fp((e,t)=>({subjects:[],topics:[],subtopics:[],contentPacks:[],mcqs:[],notes:[],userDownloads:[],selectedSubjectId:null,selectedTopicId:null,selectedSubtopicId:null,searchQuery:"",filterPricing:"all",isLoading:!1,isInitialized:!1,setSubjects:n=>e({subjects:n}),setTopics:n=>e({topics:n}),setSubtopics:n=>e({subtopics:n}),setContentPacks:n=>e({contentPacks:n}),setMcqs:n=>e({mcqs:n}),setNotes:n=>e({notes:n}),setUserDownloads:n=>e({userDownloads:n}),setSelectedSubject:n=>e({selectedSubjectId:n,selectedTopicId:null,selectedSubtopicId:null}),setSelectedTopic:n=>e({selectedTopicId:n,selectedSubtopicId:null}),setSelectedSubtopic:n=>e({selectedSubtopicId:n}),setSearchQuery:n=>e({searchQuery:n}),setFilterPricing:n=>e({filterPricing:n}),setIsLoading:n=>e({isLoading:n}),setIsInitialized:n=>e({isInitialized:n}),getTopicsBySubject:n=>(t().topics||[]).filter(i=>i&&i.subjectId===n&&i.isActive),getSubtopicsByTopic:n=>(t().subtopics||[]).filter(i=>i&&i.topicId===n&&i.isActive),getPacksByTopic:n=>{const{contentPacks:r,filterPricing:i,searchQuery:s}=t();return(r||[]).filter(o=>!(!o||o.topicId!==n||!o.isActive||i!=="all"&&o.pricing!==i||s&&o.title&&!o.title.toLowerCase().includes(s.toLowerCase())))},getPacksBySubtopic:n=>{const{contentPacks:r,filterPricing:i,searchQuery:s}=t();return(r||[]).filter(o=>!(!o||o.subtopicId!==n||!o.isActive||i!=="all"&&o.pricing!==i||s&&o.title&&!o.title.toLowerCase().includes(s.toLowerCase())))},getPacksBySubject:n=>{const{contentPacks:r,filterPricing:i,searchQuery:s}=t();return(r||[]).filter(o=>!(!o||o.subjectId!==n||!o.isActive||i!=="all"&&o.pricing!==i||s&&o.title&&!o.title.toLowerCase().includes(s.toLowerCase())))},getMcqsByPack:n=>(t().mcqs||[]).filter(i=>i&&i.packId===n),getNotesByPack:n=>(t().notes||[]).filter(i=>i&&i.packId===n),addDownload:async n=>{await oLe(n),e(r=>({userDownloads:[...r.userDownloads,n]}))},hasDownloaded:(n,r)=>t().userDownloads.some(i=>i.packId===n&&i.userId===r),initSampleData:async()=>{const n=t();if(!(n.isInitialized&&n.subjects.length>0)){e({isLoading:!0});try{await uLe(),e({isInitialized:!0})}catch(r){console.error("Error initializing library data:",r)}finally{e({isLoading:!1})}}},subscribeToLibrary:()=>(e({isLoading:!0}),lLe({onSubjects:r=>e({subjects:r}),onTopics:r=>e({topics:r}),onSubtopics:r=>e({subtopics:r}),onPacks:r=>e({contentPacks:r}),onMcqs:r=>e({mcqs:r}),onNotes:r=>e({notes:r,isLoading:!1,isInitialized:!0})})),subscribeToDownloads:n=>cLe(n,r=>{e({userDownloads:r})})}),{name:"library-storage",partialize:e=>({selectedSubjectId:e.selectedSubjectId,selectedTopicId:e.selectedTopicId,filterPricing:e.filterPricing})}));function dLe(e){const t=fLe(e),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),l=c.find(pLe);if(l){const u=l.props.children,d=c.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function fLe(e){const t=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=gLe(i),c=mLe(s,i.props);return i.type!==A.Fragment&&(c.ref=r?nd(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hLe=Symbol("radix.slottable");function pLe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hLe}function mLe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function gLe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rE="Dialog",[nJ]=rd(rE),[xLe,Jc]=nJ(rE),rJ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,c=A.useRef(null),l=A.useRef(null),[u,d]=Gh({prop:r,defaultProp:i??!1,onChange:s,caller:rE});return a.jsx(xLe,{scope:t,triggerRef:c,contentRef:l,contentId:Ul(),titleId:Ul(),descriptionId:Ul(),open:u,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};rJ.displayName=rE;var iJ="DialogTrigger",sJ=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jc(iJ,n),s=yr(t,i.triggerRef);return a.jsx(wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":i5(i.open),...r,ref:s,onClick:Rt(e.onClick,i.onOpenToggle)})});sJ.displayName=iJ;var n5="DialogPortal",[vLe,aJ]=nJ(n5,{forceMount:void 0}),oJ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Jc(n5,t);return a.jsx(vLe,{scope:t,forceMount:n,children:A.Children.map(r,o=>a.jsx(id,{present:n||s.open,children:a.jsx(W_,{asChild:!0,container:i,children:o})}))})};oJ.displayName=n5;var Dw="DialogOverlay",cJ=A.forwardRef((e,t)=>{const n=aJ(Dw,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Jc(Dw,e.__scopeDialog);return s.modal?a.jsx(id,{present:r||s.open,children:a.jsx(bLe,{...i,ref:t})}):null});cJ.displayName=Dw;var yLe=dLe("DialogOverlay.RemoveScroll"),bLe=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jc(Dw,n);return a.jsx($_,{as:yLe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(wn.div,{"data-state":i5(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),sp="DialogContent",lJ=A.forwardRef((e,t)=>{const n=aJ(sp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Jc(sp,e.__scopeDialog);return a.jsx(id,{present:r||s.open,children:s.modal?a.jsx(wLe,{...i,ref:t}):a.jsx(_Le,{...i,ref:t})})});lJ.displayName=sp;var wLe=A.forwardRef((e,t)=>{const n=Jc(sp,e.__scopeDialog),r=A.useRef(null),i=yr(t,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return H4(s)},[]),a.jsx(uJ,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Rt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:Rt(e.onFocusOutside,s=>s.preventDefault())})}),_Le=A.forwardRef((e,t)=>{const n=Jc(sp,e.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return a.jsx(uJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),uJ=A.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,c=Jc(sp,n),l=A.useRef(null),u=yr(t,l);return U4(),a.jsxs(a.Fragment,{children:[a.jsx(P_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(F_,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":i5(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(TLe,{titleId:c.titleId}),a.jsx(NLe,{contentRef:l,descriptionId:c.descriptionId})]})]})}),r5="DialogTitle",dJ=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jc(r5,n);return a.jsx(wn.h2,{id:i.titleId,...r,ref:t})});dJ.displayName=r5;var fJ="DialogDescription",hJ=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jc(fJ,n);return a.jsx(wn.p,{id:i.descriptionId,...r,ref:t})});hJ.displayName=fJ;var pJ="DialogClose",mJ=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jc(pJ,n);return a.jsx(wn.button,{type:"button",...r,ref:t,onClick:Rt(e.onClick,()=>i.onOpenChange(!1))})});mJ.displayName=pJ;function i5(e){return e?"open":"closed"}var gJ="DialogTitleWarning",[HMe,xJ]=Jxe(gJ,{contentName:sp,titleName:r5,docsSlug:"dialog"}),TLe=({titleId:e})=>{const t=xJ(gJ),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ELe="DialogDescriptionWarning",NLe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xJ(ELe).contentName}}.`;return A.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},SLe=rJ,CLe=sJ,kLe=oJ,vJ=cJ,yJ=lJ,bJ=dJ,wJ=hJ,ALe=mJ;const ua=SLe,DLe=CLe,jLe=kLe,_J=A.forwardRef(({className:e,...t},n)=>a.jsx(vJ,{ref:n,className:Ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_J.displayName=vJ.displayName;const Fs=A.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(jLe,{children:[a.jsx(_J,{}),a.jsxs(yJ,{ref:r,className:Ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(ALe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(sn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fs.displayName=yJ.displayName;const Ps=({className:e,...t})=>a.jsx("div",{className:Ct("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ps.displayName="DialogHeader";const Us=A.forwardRef(({className:e,...t},n)=>a.jsx(bJ,{ref:n,className:Ct("text-lg font-semibold leading-none tracking-tight",e),...t}));Us.displayName=bJ.displayName;const jw=A.forwardRef(({className:e,...t},n)=>a.jsx(wJ,{ref:n,className:Ct("text-sm text-muted-foreground",e),...t}));jw.displayName=wJ.displayName;function TJ({groupId:e,contentId:t,contentType:n,contentTitle:r,creatorId:i,creatorName:s,questionId:o,questionText:c,trigger:l}){const u=Ki(b=>b.user),d=la(b=>b.addContentReport),[f,h]=A.useState(!1),[p,y]=A.useState(""),[m,g]=A.useState(!1),v=()=>{if(!u||!p.trim())return;const b={id:Zt(),groupId:e,contentId:t,contentType:n,contentTitle:r,reportedBy:u.id,reportedByName:u.displayName,creatorId:i,creatorName:s,message:p.trim(),questionId:o,status:"pending",createdAt:Date.now()};d(b),g(!0),setTimeout(()=>{h(!1),g(!1),y("")},2e3)},x={note:"Notes",quiz:"Quiz",mcq:"Question"};return a.jsxs(ua,{open:f,onOpenChange:h,children:[a.jsx(DLe,{asChild:!0,children:l||a.jsxs(ge,{variant:"ghost",size:"sm",className:"text-orange-500 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20",children:[a.jsx(A4,{className:"w-4 h-4 mr-1"}),"Report"]})}),a.jsxs(Fs,{className:"sm:max-w-md",children:[a.jsxs(Ps,{children:[a.jsxs(Us,{className:"flex items-center gap-2",children:[a.jsx(P0,{className:"w-5 h-5 text-orange-500"}),"Report for Correction"]}),a.jsxs(jw,{children:[x[n],": ",a.jsx("span",{className:"font-medium",children:r}),a.jsx("br",{}),a.jsxs("span",{className:"text-xs",children:["Created by: ",s]})]})]}),m?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:a.jsx(H2,{className:"w-8 h-8 text-green-600"})}),a.jsx("p",{className:"text-lg font-medium text-green-600",children:"Report Submitted!"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s," will be notified"]})]}):a.jsxs("div",{className:"space-y-4",children:[c&&a.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[a.jsx("span",{className:"font-medium",children:"Question:"})," ",c]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"What needs to be corrected?"}),a.jsx(Hn,{value:p,onChange:b=>y(b.target.value),placeholder:"Describe the issue... e.g., 'Wrong answer marked', 'Spelling error', 'Incorrect information'",rows:4,className:"resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),a.jsxs(ge,{onClick:v,disabled:!p.trim(),className:"bg-orange-500 hover:bg-orange-600",children:[a.jsx(H2,{className:"w-4 h-4 mr-2"}),"Submit Report"]})]})]})]})]})}function ILe({questions:e,quizItem:t,timeLimit:n,onBack:r}){const i=Ki(R=>R.user),s=la(R=>R.addQuizResult),o=la(R=>R.getLeaderboard),c=la(R=>R.getUserQuizHistory),l=la(R=>R.getQuizResultsByQuiz),[u,d]=A.useState(0),[f,h]=A.useState(new Array(e.length).fill(null)),[p,y]=A.useState(n?n*60:0),[m]=A.useState(Date.now()),[g,v]=A.useState(!1),[x,b]=A.useState(!1),[w,T]=A.useState(!1),[C,_]=A.useState(null),N=e[u];A.useEffect(()=>{if(g||!n)return;const R=setInterval(()=>{y(V=>V<=1?(clearInterval(R),E(),0):V-1)},1e3);return()=>clearInterval(R)},[g,n]);const k=R=>{if(g)return;const V=[...f];V[u]=R,h(V)},j=()=>{u<e.length-1&&d(u+1)},D=()=>{u>0&&d(u-1)},E=A.useCallback(()=>{if(!i)return;const R=Math.floor((Date.now()-m)/1e3);let V=0,M=0,H=0;const G=e.map((W,F)=>{const O=f[F];return O===null?H++:O===W.correctIndex?V++:M++,{questionId:W.id,selected:O,correct:W.correctIndex}}),P={id:Zt(),groupId:t.groupId,quizItemId:t.id,quizTitle:t.title,userId:i.id,userName:i.displayName,score:Math.round(V/e.length*100),correct:V,wrong:M,unanswered:H,total:e.length,timeTaken:R,answers:G,createdAt:Date.now()};s(P),_(P),v(!0)},[f,e,m,i,t,s]),I=R=>{const V=Math.floor(R/60),M=R%60;return`${V}:${M.toString().padStart(2,"0")}`};if(w){const R=o(t.id);return a.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(za,{className:"h-5 w-5 text-yellow-500"})," Leaderboard"]}),a.jsx(ge,{variant:"outline",onClick:()=>T(!1),children:"Back to Results"})]}),a.jsxs(dt,{children:[a.jsxs(jn,{children:[a.jsx(Mn,{children:t.title}),a.jsxs(wl,{children:[R.length," participants"]})]}),a.jsx(Lt,{children:R.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No results yet"}):a.jsx("div",{className:"space-y-2",children:R.map((V,M)=>a.jsxs("div",{className:Ct("flex items-center gap-3 p-3 rounded-lg",M===0&&"bg-yellow-500/10 border border-yellow-500",M===1&&"bg-gray-300/10 border border-gray-400",M===2&&"bg-orange-500/10 border border-orange-400",M>2&&"bg-muted",V.userId===(i==null?void 0:i.id)&&"ring-2 ring-primary"),children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-background font-bold",children:M===0?a.jsx(jN,{className:"h-5 w-5 text-yellow-500"}):M===1?a.jsx(jN,{className:"h-5 w-5 text-gray-400"}):M===2?a.jsx(jN,{className:"h-5 w-5 text-orange-400"}):M+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:V.userName}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.correct,"/",V.total," correct  ",I(V.timeTaken)]})]}),a.jsxs("div",{className:Ct("text-xl font-bold",V.score>=70?"text-green-500":V.score>=40?"text-yellow-500":"text-red-500"),children:[V.score,"%"]})]},V.id))})})]}),a.jsx(ge,{variant:"outline",className:"w-full",onClick:r,children:"Back to Course"})]})}if(g&&!x&&C){const{correct:R,wrong:V,unanswered:M,score:H}=C,G=c(t.groupId,(i==null?void 0:i.id)||"",10),P=l(t.id),W=P.length>0?Math.round(P.reduce((O,L)=>O+L.score,0)/P.length):0,F=G.length>0?Math.round(G.reduce((O,L)=>O+L.score,0)/G.length):H;return a.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:a.jsxs(dt,{children:[a.jsxs(jn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4",children:a.jsx(za,{className:Ct("h-16 w-16",H>=70?"text-yellow-500":H>=40?"text-blue-500":"text-muted-foreground")})}),a.jsx(Mn,{className:"text-2xl",children:"Quiz Complete!"}),a.jsx(wl,{children:t.title})]}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold text-primary",children:[H,"%"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Your Score"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[a.jsx(h0,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:R}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Correct"})]}),a.jsxs("div",{className:"p-4 bg-red-500/10 rounded-lg",children:[a.jsx(Ou,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:V}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Wrong"})]}),a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx(Ir,{className:"h-6 w-6 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:M}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-4",children:[a.jsx(R_,{className:"h-4 w-4"})," Progress Analytics"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-primary/10 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-primary",children:[F,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Average"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[W,"%"]}),a.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1",children:[a.jsx(Jo,{className:"h-3 w-3"})," Group Average"]})]})]}),G.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Your Last ",Math.min(G.length,10)," Attempts"]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute w-full border-t-2 border-dashed border-blue-500 z-10",style:{bottom:`${W}%`},title:`Group Avg: ${W}%`,children:a.jsxs("span",{className:"absolute right-0 -top-4 text-xs text-blue-500 bg-background px-1",children:["Group ",W,"%"]})}),a.jsx("div",{className:"flex items-end justify-between gap-1 h-32",children:[...G].reverse().map((O,L)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:Ct("w-full rounded-t transition-all",O.score>=W?"bg-green-500":"bg-orange-500"),style:{height:`${O.score}%`},title:`${O.score}%`}),a.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:L+1})]},O.id))})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[a.jsx("span",{children:"Oldest"}),a.jsx("span",{className:"text-green-500",children:" Above Avg"}),a.jsx("span",{className:"text-orange-500",children:" Below Avg"}),a.jsx("span",{children:"Latest"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(ge,{variant:"outline",onClick:r,children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"})," Back"]}),a.jsxs(ge,{variant:"outline",onClick:()=>T(!0),children:[a.jsx(za,{className:"h-4 w-4 mr-2"})," Leaderboard"]}),a.jsx(ge,{variant:"outline",className:"col-span-2",onClick:()=>b(!0),children:"View Solutions"})]})]})]})})}return x?a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"View Solutions"}),a.jsx(ge,{variant:"outline",onClick:()=>b(!1),children:"Back to Results"})]}),e.map((R,V)=>{const M=f[V],H=M===R.correctIndex,G=M!==null&&M!==R.correctIndex;return a.jsx(dt,{className:Ct(H&&"border-green-500",G&&"border-red-500"),children:a.jsxs(Lt,{className:"pt-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("p",{className:"font-medium flex-1",children:["Q",V+1,". ",R.question]}),a.jsx(TJ,{groupId:t.groupId,contentId:t.id,contentType:"mcq",contentTitle:t.title,creatorId:R.createdBy,creatorName:R.createdByName,questionId:R.id,questionText:R.question,trigger:a.jsx(ge,{variant:"ghost",size:"sm",className:"text-orange-500 hover:text-orange-600 h-8 px-2",children:a.jsx(A4,{className:"w-3 h-3"})})})]}),a.jsx("div",{className:"space-y-2",children:R.options.map((P,W)=>a.jsxs("div",{className:Ct("p-2 rounded border text-sm",W===R.correctIndex&&"bg-green-500/10 border-green-500",M===W&&W!==R.correctIndex&&"bg-red-500/10 border-red-500"),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+W),"."]}),P,W===R.correctIndex&&a.jsx(h0,{className:"h-4 w-4 text-green-500 inline ml-2"}),M===W&&W!==R.correctIndex&&a.jsx(Ou,{className:"h-4 w-4 text-red-500 inline ml-2"})]},W))}),M===null&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You did not answer this question."})]})},R.id)}),a.jsx(ge,{variant:"outline",className:"w-full",onClick:r,children:"Back to Course"})]}):a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:t.title}),a.jsxs("div",{className:"flex items-center gap-4",children:[n&&a.jsxs("div",{className:Ct("flex items-center gap-2 px-3 py-1 rounded-full",p<60?"bg-red-500/10 text-red-500":"bg-muted"),children:[a.jsx(Ir,{className:"h-4 w-4"}),a.jsx("span",{className:"font-mono font-bold",children:I(p)})]}),a.jsx(ge,{variant:"destructive",size:"sm",onClick:E,children:"Submit"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Question ",u+1," of ",e.length]}),a.jsxs("span",{children:[f.filter(R=>R!==null).length," answered"]})]}),a.jsx(Fy,{value:(u+1)/e.length*100})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((R,V)=>a.jsx("button",{onClick:()=>d(V),className:Ct("h-8 w-8 rounded-full text-sm font-medium transition-colors",V===u&&"bg-primary text-primary-foreground",V!==u&&f[V]!==null&&"bg-green-500 text-white",V!==u&&f[V]===null&&"bg-muted hover:bg-muted/80"),children:V+1},V))}),a.jsxs(dt,{children:[a.jsx(jn,{children:a.jsxs(Mn,{className:"text-lg",children:["Q",u+1,". ",N.question]})}),a.jsx(Lt,{className:"space-y-3",children:N.options.map((R,V)=>a.jsxs("button",{onClick:()=>k(V),className:Ct("w-full p-4 rounded-lg border text-left transition-all flex items-center gap-3",f[u]===V?"border-primary bg-primary/10":"hover:border-primary/50 hover:bg-muted/50"),children:[a.jsx("span",{className:Ct("h-8 w-8 rounded-full flex items-center justify-center font-medium",f[u]===V?"bg-primary text-primary-foreground":"bg-muted"),children:String.fromCharCode(65+V)}),a.jsx("span",{children:R})]},V))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ge,{variant:"outline",onClick:D,disabled:u===0,children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"})," Previous"]}),u===e.length-1?a.jsx(ge,{onClick:E,children:"Submit Quiz"}):a.jsxs(ge,{onClick:j,children:["Next ",a.jsx(Iz,{className:"h-4 w-4 ml-2"})]})]})]})}function RLe({activeSubTab:e,setActiveSubTab:t}){var O5,F5;const n=Ki(z=>z.user),{myGroups:r,setMyGroups:i,activeGroupId:s,setActiveGroup:o,addGroup:c,removeGroup:l,updateGroup:u,topics:d,subTopics:f,contentItems:h,groupMCQs:p,questionCategories:y,addTopic:m,removeTopic:g,updateTopic:v,addSubTopic:x,removeSubTopic:b,updateSubTopic:w,assignSubTopic:T,addContentItem:C,updateContentItem:_,removeContentItem:N,addGroupMCQ:k,updateGroupMCQ:j,removeGroupMCQ:D,addQuestionCategory:E,removeQuestionCategory:I,createDeleteRequest:R,voteOnDeleteRequest:V,resolveDeleteRequest:M,deleteRequests:H,getTopicsByGroup:G,getMCQsByCategory:P,getCategoriesByGroup:W,getSubTopicsByTopic:F,getContentBySubTopic:O,getMCQsByGroup:L,getLatestNotes:K,getReportsByCreator:Q,resolveContentReport:U,findGroupByCode:Z,getQuizResultsByUser:pe,getLeaderboard:me,getUserQuizHistory:ye,quizResults:Fe,liveTests:Y,liveTestResults:ve,addLiveTest:B,updateLiveTest:_e,removeLiveTest:Ee,getLiveTestsByGroup:se,getUpcomingLiveTests:J,getActiveLiveTest:de,getPastLiveTests:X,addLiveTestResult:ue,updateLiveTestResult:te,getLiveTestResultsByTest:oe,getUserLiveTestResult:le,getLiveTestLeaderboard:ae,setAutoLiveTestConfig:Te,getAutoLiveTestConfig:Ue,loadGroupFromFirebase:qe,subscribeToGroup:nt}=la(),[Oe,Le]=A.useState(!1),[Ze,it]=A.useState(!1),[Dt,$t]=A.useState([]),[Pt,xn]=A.useState(!1),[rn,qn]=A.useState(null),[sr,Kn]=A.useState(""),[Jn,_n]=A.useState(""),[Ft,_r]=A.useState(""),[Jt,ar]=A.useState(""),[Kr,Cr]=A.useState(null),[Dn,hr]=A.useState(!1),[er,or]=A.useState(null),[cr,Tr]=A.useState(""),[ce,Se]=A.useState("note"),[xe,we]=A.useState("choose"),[ne,fe]=A.useState(!1),[Ae,re]=A.useState(""),[Ce,ke]=A.useState(""),[Ne,he]=A.useState(""),[Re,We]=A.useState(""),[ze,Xe]=A.useState([]),[ot,jt]=A.useState(0),[gt,Nt]=A.useState(!1),[On,cn]=A.useState(null),[br,lr]=A.useState(""),[Zs,Ur]=A.useState(""),[fc,ro]=A.useState(["","","",""]),[io,Ro]=A.useState(0),[so,ao]=A.useState(null),[De,ht]=A.useState(null),[en,Ot]=A.useState(""),[Fn,Tn]=A.useState(["","","",""]),[cs,Pn]=A.useState(0),[ja,Ia]=A.useState(""),[kr,Xi]=A.useState("upcoming"),[oo,hc]=A.useState(null),[el,pr]=A.useState(null),[tu,zn]=A.useState(!1),[hi,Pi]=A.useState(null),[Ar,Ra]=A.useState([]),[pi,Oa]=A.useState(0),[si,Lr]=A.useState({}),[mr,Fa]=A.useState(0),[pn,Oo]=A.useState(!1),[Fo,nu]=A.useState(""),[Pa,Js]=A.useState(""),[Jr,tl]=A.useState(""),[ur,ru]=A.useState(""),[nl,iu]=A.useState(""),[su,au]=A.useState("30"),[ea,ou]=A.useState("auto"),[Xr,co]=A.useState([]),[rl,Ua]=A.useState("20"),[Ie,Je]=A.useState(!0),[ie,Me]=A.useState(!0),[vt,Gt]=A.useState(!0),[yt,Qt]=A.useState("schedule"),[bn,ai]=A.useState(!1),[Po,Qf]=A.useState("Daily Practice Test"),[ld,cu]=A.useState([]),[ng,Sp]=A.useState("10:00"),[il,Cp]=A.useState("22:00"),[rg,kp]=A.useState("30"),[ig,ud]=A.useState("20"),[Ui,Kf]=A.useState([0,1,2,3,4,5,6]),[sg,lu]=A.useState(!0),[S,q]=A.useState(!0),[ee,be]=A.useState(!0),[Ve,Ge]=A.useState("single"),[mt,rr]=A.useState(null),[Er,En]=A.useState([]),[mi,Li]=A.useState(""),[uu,Yi]=A.useState(!1),[Xf,La]=A.useState(""),[Nn,sE]=A.useState(null),[aE,s5]=A.useState(""),[ag,a5]=A.useState("new"),[oE,o5]=A.useState(""),[IJ,Yy]=A.useState(!1),[dd,Ap]=A.useState("all"),[sl,og]=A.useState([]),[Zy,Jy]=A.useState(null),{subjects:c5,topics:AMe,assets:cE,selectedSubjectId:cg,selectedTopicId:lE,setSelectedSubject:RJ,setSelectedTopic:OJ,getTopicsBySubject:FJ}=Gl(),{subjects:uE,topics:PJ,contentPacks:l5,mcqs:DMe,notes:jMe,selectedSubjectId:Dp,selectedTopicId:dE,filterPricing:fE,setSelectedSubject:UJ,setSelectedTopic:u5,setFilterPricing:LJ,getTopicsBySubject:MJ,getPacksBySubject:BJ,getPacksByTopic:VJ,getMcqsByPack:d5,getNotesByPack:f5,addDownload:WJ,hasDownloaded:hE,initSampleData:qJ}=qr(),[e1,h5]=A.useState(null),[t1,p5]=A.useState(!1),[pE,n1]=A.useState(!1),[zJ,mE]=A.useState(!1),[$J,gE]=A.useState(!1),[m5,xE]=A.useState(null),[g5,lg]=A.useState([]),[vE,x5]=A.useState(""),[yE,v5]=A.useState(""),[r1,y5]=A.useState(["","","",""]),[bE,b5]=A.useState(0),[wE,HJ]=A.useState(""),[_E,w5]=A.useState([]),[Yf,Zf]=A.useState([]),[IMe,RMe]=A.useState(!1),[i1,TE]=A.useState("manual"),[du,_5]=A.useState(""),[ug,EE]=A.useState(""),T5={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["link","image"],["clean"]]},GJ=async z=>{try{const je=Ke(Pe,"groups",z),Be=await Uf(je);if(Be.exists()){const gi=Be.data();u(gi)}const $e=la.getState().topics,He=la.getState().contentItems,pt=la.getState().groupMCQs,bt=la.getState().questionCategories,Ht=Ut(Et(Pe,"topics"),Vt("groupId","==",z));(await Bn(Ht)).forEach(gi=>{const Bi=gi.data();$e.find(mn=>mn.id===Bi.id)?v(Bi):m(Bi)});const vn=Ut(Et(Pe,"contentItems"),Vt("groupId","==",z));(await Bn(vn)).forEach(gi=>{const Bi=gi.data();He.find(mn=>mn.id===Bi.id)?_(Bi):C(Bi)});const ta=Ut(Et(Pe,"mcqs"),Vt("groupId","==",z));(await Bn(ta)).forEach(gi=>{const Bi=gi.data();pt.find(mn=>mn.id===Bi.id)||k(Bi)});const hu=Ut(Et(Pe,"categories"),Vt("groupId","==",z));(await Bn(hu)).forEach(gi=>{const Bi=gi.data();bt.find(mn=>mn.id===Bi.id)||E(Bi)})}catch(je){console.error("Error syncing from Firestore:",je)}};A.useEffect(()=>{if(s){qe(s);const z=nt(s);return()=>z()}},[s]),A.useEffect(()=>{if(s){const z=Ue(s);z?(ai(z.enabled),Qf(z.title),cu(z.categoryIds),Sp(z.startTime),Cp(z.endTime),kp(z.duration.toString()),ud(z.questionCount.toString()),Kf(z.activeDays),lu(z.autoReleaseResult),q(z.showSolution),be(z.showLeaderboard)):(ai(!1),Qf("Daily Practice Test"),cu([]),Sp("10:00"),Cp("22:00"),kp("30"),ud("20"),Kf([0,1,2,3,4,5,6]))}},[s]),A.useEffect(()=>{uE.length===0&&qJ()},[]),A.useEffect(()=>{(async()=>{if(n!=null&&n.id)try{const je=Ut(Et(Pe,"groups"),Vt("memberIds","array-contains",n.id)),Be=await Bn(je),$e=[];Be.forEach(He=>{$e.push({id:He.id,...He.data()})}),$e.length>0&&i($e)}catch(je){console.error("Error loading groups from Firebase:",je)}})()},[n==null?void 0:n.id]);const QJ=z=>{const je=z.match(/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)/);if(je)return`https://drive.google.com/file/d/${je[1]}/preview`;const Be=z.match(/drive\.google\.com\/open\?id=([a-zA-Z0-9_-]+)/);if(Be)return`https://drive.google.com/file/d/${Be[1]}/preview`;const $e=z.match(/docs\.google\.com\/document\/d\/([a-zA-Z0-9_-]+)/);if($e)return`https://docs.google.com/document/d/${$e[1]}/preview`;const He=z.match(/docs\.google\.com\/spreadsheets\/d\/([a-zA-Z0-9_-]+)/);if(He)return`https://docs.google.com/spreadsheets/d/${He[1]}/preview`;const pt=z.match(/docs\.google\.com\/presentation\/d\/([a-zA-Z0-9_-]+)/);return pt?`https://docs.google.com/presentation/d/${pt[1]}/embed`:z},ut=A.useMemo(()=>r.find(z=>z.id===s),[r,s]),lo=(ut==null?void 0:ut.adminId)===(n==null?void 0:n.id),pc=s?d.filter(z=>z.groupId===s).sort((z,je)=>z.order-je.order):[],Uo=A.useMemo(()=>s?L(s):[],[s,p]),Ns=A.useMemo(()=>s?W(s):[],[s,y]),E5=A.useMemo(()=>s?K(s,5):[],[s,h]),dg=A.useMemo(()=>s?H.filter(z=>z.groupId===s&&z.status==="pending"):[],[s,H]),NE=A.useMemo(()=>n?Q(n.id).filter(z=>z.groupId===s):[],[n,s]),KJ=()=>{if(!ut||!n)return"member";const z=ut.members.find(je=>je.userId===n.id);return(z==null?void 0:z.role)||"member"},XJ=z=>{var je;return n?lo?!0:((je=z.assignedMembers)==null?void 0:je.includes(n.id))||!1:!1},SE=(z,je,Be)=>{if(!ut||!n)return;const $e=KJ(),He={id:Zt(),groupId:ut.id,targetType:z,targetId:je,targetName:Be,requesterId:n.id,requesterName:n.displayName,requesterRole:$e,approvedBy:[],rejectedBy:[],status:"pending",createdAt:Date.now()};R(He),alert("Delete request created! It will be reviewed.")},YJ=z=>{if(!ut)return{canResolve:!1,approved:!1};const je=ut.members.length,Be=Math.ceil(je*.5);if(z.requesterRole==="member"||z.requesterRole==="moderator"){if(z.approvedBy.some(pt=>ut.members.find(bt=>bt.userId===pt&&bt.role==="admin")))return{canResolve:!0,approved:!0};if(z.rejectedBy.some(pt=>ut.members.find(bt=>bt.userId===pt&&bt.role==="admin")))return{canResolve:!0,approved:!1}}if(z.requesterRole==="admin"){if(z.approvedBy.length>=Be)return{canResolve:!0,approved:!0};if(z.rejectedBy.length>je-Be)return{canResolve:!0,approved:!1}}return{canResolve:!1,approved:!1}},ZJ=z=>{z.targetType==="group"?l(z.targetId):z.targetType==="topic"?g(z.targetId):N(z.targetId),M(z.id,!0)},N5=async()=>{if(!vE.trim()||!s)return;const z={id:Zt(),groupId:s,name:vE.trim(),createdAt:Date.now()};E(z),x5("");try{await xt(Ke(Pe,"categories",z.id),z)}catch(je){console.error("Error saving category to Firestore:",je)}},JJ=async()=>{if(!yE.trim()||!wE||!s||!n)return;if(r1.some(je=>!je.trim())){alert("Please fill all options");return}const z={id:Zt(),groupId:s,categoryId:wE,question:yE.trim(),options:r1.map(je=>je.trim()),correctIndex:bE,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now()};k(z),v5(""),y5(["","","",""]),b5(0);try{await xt(Ke(Pe,"mcqs",z.id),z)}catch(je){console.error("Error saving MCQ to Firestore:",je)}},eee=async z=>{Yi(!0),La("");try{const je=await z.arrayBuffer(),Be=xw(je),$e=Be.SheetNames[0],He=Be.Sheets[$e],pt=LK.sheet_to_json(He,{header:1});if(!pt.find(Dr=>Dr.some(vn=>vn))){La("Empty file or no header found");return}const Ht=[];for(let Dr=1;Dr<pt.length;Dr++){const vn=pt[Dr];if(!vn||!vn[0])continue;const Lo=String(vn[0]||"").trim(),ta=String(vn[1]||"").trim(),jp=String(vn[2]||"").trim(),hu=String(vn[3]||"").trim(),ls=String(vn[4]||"").trim(),gi=String(vn[5]||"").trim().toUpperCase(),Bi=vn[6]?String(vn[6]).trim():void 0,uo=vn[7]?String(vn[7]).trim().toLowerCase():void 0;if(!Lo||!ta||!jp||!hu||!ls)continue;let mn=0;gi==="A"||gi==="1"?mn=0:gi==="B"||gi==="2"?mn=1:gi==="C"||gi==="3"?mn=2:(gi==="D"||gi==="4")&&(mn=3);let mc;uo==="easy"||uo===""?mc="easy":uo==="medium"||uo===""?mc="medium":(uo==="hard"||uo==="")&&(mc="hard"),Ht.push({question:Lo,options:[ta,jp,hu,ls],correctIndex:mn,explanation:Bi,difficulty:mc})}Ht.length===0?La("No valid questions found. Format: Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4) | Explanation | Difficulty"):En(Ht)}catch(je){console.error("Excel parse error:",je),La("Error parsing Excel file")}finally{Yi(!1)}},tee=async z=>{Yi(!0),La("");try{const je=await z.arrayBuffer(),$e=(await dc.extractRawText({arrayBuffer:je})).value,He=[],pt=$e.split(/(?=\n\s*(?:\d+|[]+)[\.\)]\s*)/g);for(const bt of pt){if(!bt.trim())continue;const Ht=bt.split(`
`).map(ls=>ls.trim()).filter(ls=>ls);if(Ht.length<5)continue;const Dr=Ht[0].replace(/^(?:\d+|[]+)[\.\)]\s*/,"").trim();if(!Dr)continue;const vn=[/^[1AaA][\.\)\s]/,/^[2BbB][\.\)\s]/,/^[3CcC][\.\)\s]/,/^[4DdD][\.\)\s]/],Lo=["","","",""];let ta=0,jp,hu;for(const ls of Ht.slice(1)){const gi=ls.match(/(?:Ans|Answer|| |Correct)[:\s]*([1234AaBbCcDd])/i);if(gi){const mn=gi[1].toUpperCase();mn==="1"||mn===""||mn==="A"?ta=0:mn==="2"||mn===""||mn==="B"?ta=1:mn==="3"||mn===""||mn==="C"?ta=2:(mn==="4"||mn===""||mn==="D")&&(ta=3);continue}const Bi=ls.match(/(?:Exp|Explanation||Solution)[:\s]*(.*)/i);if(Bi&&Bi[1].trim()){jp=Bi[1].trim();continue}const uo=ls.match(/(?:Diff|Difficulty|Level|)[:\s]*(.*)/i);if(uo){const mn=uo[1].trim().toLowerCase();mn==="easy"||mn===""?hu="easy":mn==="medium"||mn===""?hu="medium":(mn==="hard"||mn==="")&&(hu="hard");continue}if(ls.startsWith("*")){const mn=ls.substring(1).trim();for(let mc=0;mc<vn.length;mc++)if(vn[mc].test(mn)){Lo[mc]=mn.replace(vn[mc],"").trim(),ta=mc;break}continue}for(let mn=0;mn<vn.length;mn++)if(vn[mn].test(ls)){Lo[mn]=ls.replace(vn[mn],"").trim();break}}Dr&&Lo.every(ls=>ls)&&He.push({question:Dr,options:Lo,correctIndex:ta,explanation:jp,difficulty:hu})}He.length===0?La("No valid questions found. Check the format."):En(He)}catch(je){console.error("Word parse error:",je),La("Error parsing Word file")}finally{Yi(!1)}},nee=z=>{var $e,He;const je=($e=z.target.files)==null?void 0:$e[0];if(!je)return;rr(je),En([]),La("");const Be=(He=je.name.split(".").pop())==null?void 0:He.toLowerCase();Be==="xlsx"||Be==="xls"?eee(je):Be==="docx"?tee(je):La("Unsupported file type. Use .xlsx, .xls, or .docx")},ree=async()=>{if(!(!mi||!s||!n||Er.length===0)){Yi(!0);try{for(const z of Er){const je={id:Zt(),groupId:s,categoryId:mi,question:z.question,options:z.options,correctIndex:z.correctIndex,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),explanation:z.explanation,difficulty:z.difficulty};k(je),await xt(Ke(Pe,"mcqs",je.id),je)}alert(` ${Er.length} questions uploaded successfully!`),rr(null),En([]),Li("")}catch(z){console.error("Error saving questions:",z),La("Error saving questions to database")}finally{Yi(!1)}}},iee=z=>{w5(je=>je.includes(z)?je.filter(Be=>Be!==z):[...je,z])},see=async()=>{if(!sr.trim()||!n)return;const z={id:Zt(),name:sr.trim(),description:Jn.trim(),groupCode:Math.random().toString(36).substring(2,8).toUpperCase(),adminId:n.id,adminName:n.displayName,memberIds:[n.id],members:[{userId:n.id,name:n.displayName,role:"admin",joinedAt:Date.now()}],createdAt:Date.now()};try{await xt(Ke(Pe,"groups",z.id),z)}catch(je){console.error("Error saving to Firestore:",je)}c(z),o(z.id),Kn(""),_n(""),Le(!1)},aee=async()=>{if(!Ft.trim()||!n)return;let z=await Z(Ft.trim());if(!z){alert("Invalid group code. Please check and try again.");return}if(z.memberIds.includes(n.id)){alert("You are already a member of this group!"),_r(""),it(!1),o(z.id);return}const je={...z,memberIds:[...z.memberIds,n.id],members:[...z.members,{userId:n.id,name:n.displayName,role:"member",joinedAt:Date.now()}]};try{await zk(Ke(Pe,"groups",je.id),{memberIds:je.memberIds,members:je.members})}catch(Be){console.error("Error updating Firestore:",Be)}u(je),r.some(Be=>Be.id===je.id)||c(je),o(je.id),_r(""),it(!1),alert(`Successfully joined "${z.name}"!`)},S5=async z=>{const je=z||Jt;if(!je.trim()||!s)return;const Be={id:Zt(),groupId:s,name:je.trim(),order:pc.length+1,createdAt:Date.now()};m(Be),ar("")},fg=z=>{Se(z),re(""),ke(""),he(""),We(""),p5(!1),Xe([]),fe(!0)},oee=z=>{const $e=Array.from(z.target.files||[]).filter(He=>{const pt=He.type==="application/pdf"||He.type.startsWith("image/"),bt=He.size<=10*1024*1024;return pt&&bt}).slice(0,10);Xe(He=>[...He,...$e].slice(0,10))},cee=z=>{Xe(je=>je.filter((Be,$e)=>$e!==z))},lee=async()=>{if(ze.length===0)return[];Nt(!0);const z=[];try{for(let je=0;je<ze.length;je++){const Be=ze[je],$e=Zt(),He=Cde(Rde,`group-files/${s}/${$e}_${Be.name}`);await Nde(He,Be);const pt=await Sde(He);z.push(pt),jt(Math.round((je+1)/ze.length*100))}}catch(je){console.error("Upload error:",je),alert("Error uploading files. Please try again.")}return Nt(!1),jt(0),z},uee=async()=>{if(!Ae.trim()||!s||!n||!er)return;let z="note";ce==="quiz"&&(z="quiz");let je=Ce;if(ce==="link"&&(je=`<iframe src="${QJ(Ne)}" width="100%" height="500" frameborder="0" allow="autoplay"></iframe>`),ce==="quiz"&&(i1==="auto"&&du&&ug?je=JSON.stringify({timeLimit:Re?parseInt(Re):null,mode:"auto",categoryId:du,questionCount:parseInt(ug)}):je=JSON.stringify({timeLimit:Re?parseInt(Re):null,mode:"manual",questionIds:Yf})),ce==="note"&&ze.length>0){const pt=await lee();pt.length>0&&(je=pt.map((Ht,Dr)=>{const vn=ze[Dr];return vn.type==="application/pdf"?`<div class="pdf-container mb-4"><embed src="${Ht}" type="application/pdf" width="100%" height="600px" /><p><a href="${Ht}" target="_blank" class="text-blue-500 underline"> ${vn.name}</a></p></div>`:`<div class="image-container mb-4"><img src="${Ht}" alt="${vn.name}" style="max-width:100%;height:auto;" /><p class="text-sm text-gray-500">${vn.name}</p></div>`}).join(`
`)+(je?`
<div class="notes-content mt-4">${je}</div>`:""))}const Be=h.filter(pt=>pt.topicId===er),$e=Be.length>0?Math.max(...Be.map(pt=>pt.order??0)):0,He={id:Zt(),subTopicId:"",topicId:er,groupId:s,type:z,title:Ae.trim(),content:je,source:"user",order:$e+1,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),updatedAt:Date.now()};C(He);try{await xt(Ke(Pe,"contentItems",He.id),He)}catch(pt){console.error("Error saving content to Firestore:",pt),alert(" Content save   !   ")}re(""),ke(""),he(""),We(""),Zf([]),TE("manual"),_5(""),EE(""),Xe([]),fe(!1),hr(!1),or(null)},{addSingleMCQ:OMe}=Gl(),dee=z=>{ht(z),Ot(z.question),Tn([...z.options]),Pn(z.correctIndex),Ia(z.explanation||"")},fee=async()=>{if(!De||!en.trim()||Fn.some(je=>!je.trim()))return;const z={...De,question:en.trim(),options:Fn.map(je=>je.trim()),correctIndex:cs,explanation:ja.trim()||void 0};j(z),z.assetRef&&uke(z.id),ht(null)},C5=()=>{ut&&(navigator.clipboard.writeText(ut.groupCode),alert("Group code copied!"))},hee=async()=>{if(ut)try{await xt(Ke(Pe,"groups",ut.id),ut),alert("Group synced to cloud! Now others can join with the code.")}catch(z){console.error("Error syncing to Firestore:",z),alert("Error syncing. Please try again.")}},pee=async()=>{if(!(!ut||!s))try{await xt(Ke(Pe,"groups",ut.id),ut);const z=d.filter(He=>He.groupId===s);for(const He of z)await xt(Ke(Pe,"topics",He.id),He);const je=h.filter(He=>He.groupId===s);for(const He of je)await xt(Ke(Pe,"contentItems",He.id),He);const Be=p.filter(He=>He.groupId===s);for(const He of Be)await xt(Ke(Pe,"mcqs",He.id),He);const $e=y.filter(He=>He.groupId===s);for(const He of $e)await xt(Ke(Pe,"categories",He.id),He);alert(`Synced to cloud!
- ${z.length} chapters
- ${je.length} content items
- ${Be.length} MCQs
- ${$e.length} categories`)}catch(z){console.error("Error syncing all to Firestore:",z),alert("Error syncing. Please try again.")}},mee=z=>{$t(je=>je.includes(z)?je.filter(Be=>Be!==z):[...je,z])},gee=z=>{const je=pc.findIndex(Be=>Be.id===z.id);if(je>0){const Be=pc[je-1];v({...z,order:Be.order}),v({...Be,order:z.order})}},xee=z=>{const je=pc.findIndex(Be=>Be.id===z.id);if(je<pc.length-1){const Be=pc[je+1];v({...z,order:Be.order}),v({...Be,order:z.order})}},k5=A.useMemo(()=>s?J(s):[],[s,Y]),fu=A.useMemo(()=>{if(s)return de(s)},[s,Y]),A5=A.useMemo(()=>s?X(s):[],[s,Y]),vee=()=>{if(!Fo.trim()||!Pa||!Jr||!ur||!nl){alert("Please fill all required fields");return}const z=new Date(`${Pa}T${Jr}`).getTime(),je=new Date(`${ur}T${nl}`).getTime();if(je<=z){alert("End time must be after start time");return}let Be=[];if(ea==="auto"){let He=Uo;Xr.length>0&&(He=Uo.filter(Ht=>Xr.includes(Ht.categoryId||"")));const pt=Math.min(parseInt(rl),He.length);Be=[...He].sort(()=>Math.random()-.5).slice(0,pt).map(Ht=>Ht.id)}const $e={id:Zt(),groupId:ut.id,title:Fo.trim(),startTime:z,endTime:je,duration:parseInt(su),questionMode:ea,categoryIds:ea==="auto"?Xr:void 0,questionCount:ea==="auto"?parseInt(rl):void 0,questionIds:Be,autoReleaseResult:Ie,showSolution:ie,showLeaderboard:vt,status:"scheduled",createdBy:n.id,createdByName:n.displayName||"Admin",createdAt:Date.now()};B($e),Oo(!1),nu(""),Js(""),tl(""),ru(""),iu(""),au("30"),ou("auto"),co([]),Ua("20"),Je(!0),Me(!0),Gt(!0),alert("Live Test scheduled successfully!")},yee=()=>{if(!s||!n)return;if(bn&&ld.length===0){alert("Please select at least one category for Auto Test");return}const z={id:`auto-${s}`,groupId:s,enabled:bn,title:Po,categoryIds:ld,startTime:ng,endTime:il,duration:parseInt(rg),questionCount:parseInt(ig),activeDays:Ui,autoReleaseResult:sg,showSolution:S,showLeaderboard:ee,createdBy:n.id,createdAt:Date.now(),updatedAt:Date.now()};Te(z),alert("Auto Daily Test settings saved!")},bee=A.useMemo(()=>{if(!s)return!1;const z=Ue(s);if(!z||!z.enabled)return!1;const je=new Date,Be=je.getDay();if(!z.activeDays.includes(Be))return!1;const $e=je.getHours()*60+je.getMinutes(),[He,pt]=z.startTime.split(":").map(Number),[bt,Ht]=z.endTime.split(":").map(Number),Dr=He*60+pt,vn=bt*60+Ht;return $e>=Dr&&$e<=vn},[s,bn]),Mi=A.useMemo(()=>s?Ue(s):null,[s,bn]),wee=z=>{const je=le(z.id,n.id);if(je&&je.status!=="in-progress"){alert("You have already submitted this test");return}const Be=p.filter(He=>z.questionIds.includes(He.id));if(Be.length===0){alert("No questions found for this test");return}const $e=[...Be].sort(()=>Math.random()-.5);if(Ra($e),Oa(0),Lr((je==null?void 0:je.answers.reduce((He,pt)=>(pt.selected!==null&&(He[pt.questionId]=pt.selected),He),{}))||{}),Fa((je==null?void 0:je.startedAt)||Date.now()),Pi(z),!je){const He={id:Zt(),liveTestId:z.id,groupId:z.groupId,userId:n.id,userName:n.displayName||"User",startedAt:Date.now(),score:0,correct:0,wrong:0,unanswered:z.questionIds.length,total:z.questionIds.length,timeTaken:0,answers:z.questionIds.map(pt=>{var bt;return{questionId:pt,selected:null,correct:((bt=p.find(Ht=>Ht.id===pt))==null?void 0:bt.correctIndex)||0}}),status:"in-progress"};ue(He)}},D5=()=>{if(!hi)return;const z=Math.round((Date.now()-mr)/1e3);let je=0,Be=0,$e=0;const He=Ar.map(Ht=>{const Dr=si[Ht.id]!==void 0?si[Ht.id]:null;return Dr===null?$e++:Dr===Ht.correctIndex?je++:Be++,{questionId:Ht.id,selected:Dr,correct:Ht.correctIndex}}),pt=Math.round(je/Ar.length*100),bt=le(hi.id,n.id);if(bt){const Ht={...bt,submittedAt:Date.now(),score:pt,correct:je,wrong:Be,unanswered:$e,timeTaken:z,answers:He,status:"submitted"};te(Ht),pr(Ht)}Pi(null),Ra([]),Xi("results")},j5=z=>!!(z.autoReleaseResult&&Date.now()>z.endTime||z.status==="result-released"),I5=z=>le(z,(n==null?void 0:n.id)||""),R5=z=>{const je=z-Date.now();if(je<=0)return"Started";const Be=Math.floor(je/(1e3*60*60*24)),$e=Math.floor(je%(1e3*60*60*24)/(1e3*60*60)),He=Math.floor(je%(1e3*60*60)/(1e3*60));return Be>0?`${Be}d ${$e}h`:$e>0?`${$e}h ${He}m`:`${He}m`},_ee=(z,je)=>{const $e=Math.min(z.endTime,je+z.duration*60*1e3)-Date.now();if($e<=0)return"0:00";const He=Math.floor($e/6e4),pt=Math.floor($e%6e4/1e3);return`${He}:${String(pt).padStart(2,"0")}`},Tee=z=>{try{const je=JSON.parse(z.content);let Be=[];if(je.mode==="auto"){const{categoryId:$e,questionCount:He}=je;let pt;if($e==="all"?pt=p.filter(Ht=>Ht.groupId===(ut==null?void 0:ut.id)):pt=p.filter(Ht=>Ht.groupId===(ut==null?void 0:ut.id)&&Ht.categoryId===$e),pt.length===0){alert("No questions available in this category.");return}const bt=[...pt].sort(()=>Math.random()-.5);Be=bt.slice(0,Math.min(He,bt.length))}else{const $e=je.questionIds||[];if($e.length===0){alert("No questions in this quiz. Edit the quiz to add questions.");return}Be=p.filter(He=>$e.includes(He.id)),Be=[...Be].sort(()=>Math.random()-.5)}if(Be.length===0){alert("Questions not found. They may have been deleted.");return}h5({item:z,questions:Be,timeLimit:je.timeLimit||null})}catch{alert("Invalid quiz data")}},Eee=z=>{var je,Be;try{const $e=JSON.parse(z.content);if($e.mode==="auto"){const He=$e.categoryId==="all"?"All Categories":((je=Ns.find(pt=>pt.id===$e.categoryId))==null?void 0:je.name)||"Unknown";return{timeLimit:$e.timeLimit,questionCount:$e.questionCount,mode:"auto",categoryName:He}}return{timeLimit:$e.timeLimit,questionCount:((Be=$e.questionIds)==null?void 0:Be.length)||0,mode:"manual"}}catch{return{timeLimit:null,questionCount:0}}};return e1?a.jsx("div",{className:"p-6",children:a.jsx(ILe,{questions:e1.questions,quizItem:e1.item,timeLimit:e1.timeLimit||void 0,onBack:()=>h5(null)})}):a.jsxs("div",{className:"p-4 sm:p-6 space-y-4 -mx-4 sm:mx-0",children:[a.jsxs("div",{className:"hidden sm:flex flex-row items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Group Study"}),a.jsxs(Wt,{value:s||"",onValueChange:z=>o(z||null),children:[a.jsx(Mt,{className:"w-[200px] h-9",children:a.jsx(qt,{placeholder:"Select Group"})}),a.jsx(Bt,{children:r.map(z=>a.jsx(Qe,{value:z.id,children:z.name},z.id))})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{onClick:()=>Le(!0),size:"sm",children:[a.jsx(Yt,{className:"h-4 w-4 mr-1"})," Create"]}),a.jsxs(ge,{variant:"outline",onClick:()=>it(!0),size:"sm",children:[a.jsx(pm,{className:"h-4 w-4 mr-1"})," Join"]})]})]}),a.jsxs("div",{className:"sm:hidden flex items-center gap-2",children:[a.jsxs(Wt,{value:s||"",onValueChange:z=>o(z||null),children:[a.jsx(Mt,{className:"flex-1 h-8 text-xs",children:a.jsx(qt,{placeholder:"Select Group"})}),a.jsx(Bt,{children:r.map(z=>a.jsx(Qe,{value:z.id,children:z.name},z.id))})]}),a.jsx(ge,{onClick:()=>Le(!0),size:"sm",className:"h-8 px-2",children:a.jsx(Yt,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"outline",onClick:()=>it(!0),size:"sm",className:"h-8 px-2",children:a.jsx(pm,{className:"h-4 w-4"})})]}),s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 p-2 sm:p-3 bg-muted/50 rounded-lg flex-wrap text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx("code",{className:"bg-background px-2 py-0.5 rounded font-mono text-xs",children:ut==null?void 0:ut.groupCode}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:C5,children:a.jsx(i6,{className:"h-3 w-3"})}),lo&&a.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-500",onClick:hee,title:"Sync to cloud",children:a.jsx(Ic,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Jo,{className:"h-3.5 w-3.5 text-muted-foreground"}),a.jsx("span",{className:"text-xs sm:text-sm",children:ut==null?void 0:ut.members.length})]}),lo&&a.jsxs("span",{className:"flex items-center gap-1 text-xs sm:text-sm text-primary",children:[a.jsx(Jg,{className:"h-3 w-3"})," Admin"]}),dg.length>0&&a.jsxs(ge,{variant:"outline",size:"sm",className:"ml-auto relative h-7 text-xs",onClick:()=>mE(!0),children:[a.jsx(z2,{className:"h-3.5 w-3.5 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Delete Requests"}),a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center text-[10px]",children:dg.length})]})]}),a.jsxs(v0,{value:e,onValueChange:z=>t(z),children:[a.jsxs(Kh,{className:"hidden lg:grid w-full grid-cols-4 h-auto p-1",children:[a.jsxs(bi,{value:"whats-new",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(I_,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"What's New"})]}),a.jsxs(bi,{value:"course",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(Hr,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Course"})]}),a.jsxs(bi,{value:"live-test",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(lf,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Live Test"})]}),a.jsxs(bi,{value:"settings",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(ms,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),a.jsxs(wi,{value:"whats-new",className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2",children:[a.jsxs(dt,{children:[a.jsx(jn,{className:"pb-2 sm:pb-4",children:a.jsxs(Mn,{className:"text-base sm:text-lg flex items-center gap-2",children:[a.jsx(Sr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500"})," Latest Notes"]})}),a.jsx(Lt,{children:E5.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No notes yet"}):a.jsx("div",{className:"space-y-2",children:E5.map(z=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:()=>qn(z),children:[a.jsx("h4",{className:"font-medium text-sm",children:z.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",z.createdByName]})]},z.id))})})]}),a.jsxs(dt,{children:[a.jsx(jn,{className:"pb-2 sm:pb-4",children:a.jsxs(Mn,{className:"text-base sm:text-lg flex items-center gap-2",children:[a.jsx(Dc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"})," Latest MCQs"]})}),a.jsx(Lt,{children:Uo.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No MCQs yet"}):a.jsx("div",{className:"space-y-2",children:Uo.slice(0,5).map(z=>a.jsxs("div",{className:"p-2 sm:p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:()=>{t("course")},children:[a.jsx("h4",{className:"font-medium text-xs sm:text-sm line-clamp-1",children:z.question}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["by ",z.createdByName]})]},z.id))})})]})]}),NE.length>0&&a.jsxs(dt,{className:"border-orange-500/50 bg-orange-50/50 dark:bg-orange-900/10",children:[a.jsx(jn,{className:"pb-2 sm:pb-4",children:a.jsxs(Mn,{className:"text-base sm:text-lg flex items-center gap-2 text-orange-600",children:[a.jsx(uh,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Correction ",a.jsx("span",{className:"hidden sm:inline",children:"Requests"})," (",NE.length,")"]})}),a.jsx(Lt,{className:"space-y-2 sm:space-y-3",children:NE.map(z=>a.jsxs("div",{className:"p-2 sm:p-3 bg-white dark:bg-background rounded-lg border space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-xs sm:text-sm truncate",children:z.contentTitle}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:["by ",z.reportedByName,"  ",new Date(z.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:"text-[10px] sm:text-xs bg-orange-500/20 text-orange-600 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded whitespace-nowrap",children:z.contentType==="note"?"Notes":z.contentType==="quiz"?"Quiz":"Q"})]}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2 rounded line-clamp-2",children:z.message}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50 h-7 text-xs px-2",onClick:()=>U(z.id,"resolved"),children:[a.jsx(fa,{className:"h-3 w-3 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Fixed"})]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50 h-7 text-xs px-2",onClick:()=>U(z.id,"dismissed"),children:[a.jsx(Ou,{className:"h-3 w-3 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Dismiss"})]})]})]},z.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[a.jsxs(dt,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-primary",children:pc.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Chapters"})]}),a.jsxs(dt,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-500",children:h.filter(z=>z.groupId===s&&z.type==="note").length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Notes"})]}),a.jsxs(dt,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-500",children:Uo.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"MCQs"})]}),a.jsxs(dt,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-500",children:ut==null?void 0:ut.members.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Members"})]})]})]}),a.jsxs(wi,{value:"course",className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Course Contents"}),a.jsxs(ge,{variant:Pt?"default":"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>xn(!Pt),children:[a.jsx(ha,{className:"h-3.5 w-3.5 sm:mr-1.5"}),a.jsx("span",{className:"hidden sm:inline",children:Pt?"Exit Edit":"Edit Mode"})]})]}),Pt&&lo&&a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 hover:bg-muted/50 rounded cursor-pointer border-b",onClick:()=>{const z=prompt("Enter chapter name:");z!=null&&z.trim()&&S5(z)},children:[a.jsx(Yt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden bg-card",children:pc.length===0?a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:["No chapters yet. ",lo&&Pt&&'Click "Add new chapter" above!']}):pc.map(z=>{var pt;const je=Dt.includes(z.id),Be=h.filter(bt=>bt.topicId===z.id).sort((bt,Ht)=>(bt.order??bt.createdAt)-(Ht.order??Ht.createdAt)),$e=XJ(z),He=(pt=z.assignedMembers)==null?void 0:pt.map(bt=>{var Ht;return((Ht=ut==null?void 0:ut.members.find(Dr=>Dr.userId===bt))==null?void 0:Ht.name)||"Unknown"}).join(", ");return a.jsxs("div",{className:"border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center hover:bg-muted/30",children:[a.jsxs("button",{className:"flex-1 flex items-center gap-2 p-3 text-left",onClick:()=>mee(z.id),children:[je?a.jsx(Mc,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(xa,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"font-semibold",children:z.name}),z.assignedMembers&&z.assignedMembers.length>0&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",He,")"]})]}),Pt&&(lo||$e)&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 mr-2",children:a.jsx(Pl,{className:"h-4 w-4"})})}),a.jsxs(Vc,{align:"end",children:[lo&&a.jsxs(Cn,{onClick:()=>{const bt=prompt("Enter new chapter name:",z.name);bt!=null&&bt.trim()&&v({...z,name:bt.trim()})},children:[a.jsx(ha,{className:"h-4 w-4 mr-2"})," Rename"]}),$e&&a.jsxs(Cn,{onClick:()=>{or(z.id),hr(!0)},children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Add content"]}),lo&&a.jsxs(a.Fragment,{children:[a.jsxs(Cn,{onClick:()=>{xE(z.id),lg(z.assignedMembers||[]),gE(!0)},children:[a.jsx(pm,{className:"h-4 w-4 mr-2"})," Assign members"]}),a.jsxs(Cn,{onClick:()=>gee(z),children:[a.jsx(Ev,{className:"h-4 w-4 mr-2"})," Move up"]}),a.jsxs(Cn,{onClick:()=>xee(z),children:[a.jsx(Tv,{className:"h-4 w-4 mr-2"})," Move down"]}),a.jsxs(Cn,{className:"text-orange-500",onClick:()=>SE("topic",z.id,z.name),children:[a.jsx(uh,{className:"h-4 w-4 mr-2"})," Request Delete"]})]})]})]})]}),je&&a.jsxs("div",{className:"bg-muted/20",children:[Pt&&$e&&a.jsx("div",{className:"flex items-center gap-4 py-2 px-8 border-b",children:a.jsxs("div",{className:"flex items-center gap-2 hover:bg-muted/30 cursor-pointer text-sm px-2 py-1 rounded",onClick:()=>{or(z.id),hr(!0)},children:[a.jsx(Yt,{className:"h-3 w-3 text-primary"}),a.jsx("span",{className:"text-primary",children:"Add content"})]})}),Be.length===0?a.jsxs("p",{className:"px-8 py-4 text-sm text-muted-foreground",children:["No content yet. ",Pt&&$e&&'Click "Add content" to start!']}):a.jsx(a.Fragment,{children:Be.map((bt,Ht)=>{const Dr=bt.type==="quiz"?Eee(bt):null;return a.jsxs("div",{className:"flex items-center hover:bg-muted/30 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex-1 flex items-center gap-2 py-2 px-8 cursor-pointer",onClick:()=>{bt.type==="quiz"?Tee(bt):bt.type==="note"&&qn(bt)},children:[bt.type==="note"&&bt.content?a.jsx(Sr,{className:"h-4 w-4 text-blue-500"}):bt.type==="quiz"?a.jsx(Dc,{className:"h-4 w-4 text-green-500"}):a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"text-sm",children:bt.title}),Dr&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",Dr.questionCount," Q",Dr.timeLimit?`, ${Dr.timeLimit}min`:"",Dr.mode==="auto"&&a.jsx(a6,{className:"h-3 w-3 inline ml-1"}),")"]})]}),Pt&&$e&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 mr-2",children:a.jsx(Pl,{className:"h-4 w-4"})})}),a.jsxs(Vc,{align:"end",children:[a.jsxs(Cn,{onClick:()=>{const vn=prompt("Enter new name:",bt.title);vn!=null&&vn.trim()&&_({...bt,title:vn.trim(),updatedAt:Date.now()})},children:[a.jsx(ha,{className:"h-4 w-4 mr-2"})," Rename"]}),a.jsxs(Cn,{onClick:()=>cn(bt),children:[a.jsx(Sr,{className:"h-4 w-4 mr-2"})," Edit content"]}),a.jsxs(Cn,{onClick:()=>{or(z.id),hr(!0)},children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Add content"]}),a.jsxs(Cn,{disabled:Ht===0,onClick:()=>{if(Ht>0){const vn=Be[Ht-1],Lo=bt.order??Ht,ta=vn.order??Ht-1;_({...bt,order:ta,updatedAt:Date.now()}),_({...vn,order:Lo,updatedAt:Date.now()})}},children:[a.jsx(Ev,{className:"h-4 w-4 mr-2"})," Move up"]}),a.jsxs(Cn,{disabled:Ht===Be.length-1,onClick:()=>{if(Ht<Be.length-1){const vn=Be[Ht+1],Lo=bt.order??Ht,ta=vn.order??Ht+1;_({...bt,order:ta,updatedAt:Date.now()}),_({...vn,order:Lo,updatedAt:Date.now()})}},children:[a.jsx(Tv,{className:"h-4 w-4 mr-2"})," Move down"]}),a.jsxs(Cn,{className:"text-orange-500",onClick:()=>SE("content",bt.id,bt.title),children:[a.jsx(uh,{className:"h-4 w-4 mr-2"})," Request Delete"]})]})]})]},bt.id)})})]})]},z.id)})}),Pt&&lo&&pc.length>0&&a.jsxs("div",{className:"flex items-center gap-2 py-3 px-3 hover:bg-primary/10 rounded cursor-pointer border border-dashed",onClick:()=>{const z=prompt("Enter chapter name:");z!=null&&z.trim()&&S5(z)},children:[a.jsx(Yt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]})]}),a.jsx(wi,{value:"live-test",className:"space-y-4",children:hi?a.jsxs(dt,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-sm",children:[a.jsxs("span",{className:"font-medium",children:["Q ",pi+1,"/",Ar.length]}),a.jsxs("span",{className:"text-red-500 font-medium",children:[a.jsx(Ir,{className:"h-3.5 w-3.5 inline mr-1"}),_ee(hi,mr)]})]}),a.jsxs(ge,{variant:"destructive",size:"sm",className:"h-8 text-xs",onClick:D5,children:[a.jsx(fa,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Submit"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4 p-2 sm:p-3 bg-muted/50 rounded overflow-x-auto",children:Ar.map((z,je)=>a.jsx("button",{onClick:()=>Oa(je),className:`min-w-[28px] w-7 h-7 sm:w-8 sm:h-8 rounded text-xs sm:text-sm font-medium transition-colors ${pi===je?"bg-primary text-primary-foreground":si[Ar[je].id]!==void 0?"bg-green-500 text-white":"bg-background border"}`,children:je+1},je))}),a.jsx("h3",{className:"text-base sm:text-lg font-medium mb-3 sm:mb-4",children:(O5=Ar[pi])==null?void 0:O5.question}),a.jsx("div",{className:"space-y-2",children:(F5=Ar[pi])==null?void 0:F5.options.map((z,je)=>a.jsxs("div",{className:`p-2.5 sm:p-3 border rounded cursor-pointer transition-colors text-sm ${si[Ar[pi].id]===je?"border-primary bg-primary/10":"hover:bg-muted"}`,onClick:()=>Lr(Be=>({...Be,[Ar[pi].id]:je})),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+je),"."]})," ",z]},je))}),a.jsxs("div",{className:"flex justify-between pt-3 sm:pt-4",children:[a.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 text-xs sm:text-sm",disabled:pi===0,onClick:()=>Oa(z=>z-1),children:[a.jsx(k4,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})]}),pi<Ar.length-1?a.jsxs(ge,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>Oa(z=>z+1),children:[a.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),a.jsx(xa,{className:"h-4 w-4"})]}):a.jsxs(ge,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:D5,children:[a.jsx(fa,{className:"h-3.5 w-3.5 mr-1"})," Submit"]})]})]}):tu&&el?a.jsxs(dt,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"View Solutions"}),a.jsxs(ge,{variant:"outline",size:"sm",className:"h-8",onClick:()=>zn(!1),children:[a.jsx(sn,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]}),a.jsx("div",{className:"space-y-4 sm:space-y-6",children:el.answers.map((z,je)=>{const Be=p.find(pt=>pt.id===z.questionId);if(!Be)return null;const $e=z.selected===z.correct,He=z.selected===null;return a.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${$e?"border-green-500 bg-green-50 dark:bg-green-950/20":He?"border-gray-400 bg-gray-50 dark:bg-gray-950/20":"border-red-500 bg-red-50 dark:bg-red-950/20"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[a.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:["Q",je+1,"."]}),$e?a.jsxs("span",{className:"text-green-600 text-xs sm:text-sm flex items-center",children:[a.jsx(ga,{className:"h-3.5 w-3.5 mr-1"})," Correct"]}):He?a.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm flex items-center",children:[a.jsx(Oz,{className:"h-3.5 w-3.5 mr-1"})," Skipped"]}):a.jsxs("span",{className:"text-red-600 text-xs sm:text-sm flex items-center",children:[a.jsx(Ou,{className:"h-3.5 w-3.5 mr-1"})," Wrong"]})]}),a.jsx("p",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:Be.question}),a.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:Be.options.map((pt,bt)=>a.jsxs("div",{className:`p-1.5 sm:p-2 rounded text-xs sm:text-sm ${bt===z.correct?"bg-green-200 dark:bg-green-900 font-medium":z.selected===bt&&!$e?"bg-red-200 dark:bg-red-900":""}`,children:[a.jsxs("span",{className:"font-medium mr-1.5 sm:mr-2",children:[String.fromCharCode(65+bt),"."]}),pt,bt===z.correct&&a.jsx(fa,{className:"h-3.5 w-3.5 inline ml-1.5 text-green-600"}),z.selected===bt&&!$e&&a.jsx(sn,{className:"h-3.5 w-3.5 inline ml-1.5 text-red-600"})]},bt))})]},z.questionId)})})]}):a.jsxs(a.Fragment,{children:[bee&&Mi&&a.jsx(dt,{className:"border-2 border-green-500 bg-green-50 dark:bg-green-900/20",children:a.jsxs(Lt,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base text-green-700 dark:text-green-400",children:Mi.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[Mi.questionCount," Q  ",Mi.duration," min"]})]})]}),a.jsxs(ge,{size:"sm",className:"h-8 text-xs sm:text-sm w-full sm:w-auto bg-green-600 hover:bg-green-700",onClick:()=>{let z=Uo.filter(He=>Mi.categoryIds.length===0||Mi.categoryIds.includes(He.categoryId||""));const je=Math.min(Mi.questionCount,z.length),$e=[...z].sort(()=>Math.random()-.5).slice(0,je);if($e.length===0){alert("No questions available");return}Ra($e),Pi({id:`auto-${Date.now()}`,groupId:s,title:Mi.title,startTime:Date.now(),endTime:Date.now()+Mi.duration*60*1e3,duration:Mi.duration,questionMode:"auto",categoryIds:Mi.categoryIds,questionCount:Mi.questionCount,questionIds:$e.map(He=>He.id),autoReleaseResult:Mi.autoReleaseResult,showSolution:Mi.showSolution,showLeaderboard:Mi.showLeaderboard,status:"active",createdBy:"auto",createdByName:"Auto Test",createdAt:Date.now()}),Fa(Date.now()),Oa(0),Lr({})},children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Start Daily Test"]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Available until ",Mi.endTime," today"]})]})}),a.jsxs("div",{className:"flex gap-2 border-b pb-2 mb-4",children:[a.jsxs(ge,{variant:kr==="upcoming"?"default":"ghost",size:"sm",onClick:()=>Xi("upcoming"),children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"})," Upcoming"]}),fu&&a.jsxs(ge,{variant:kr==="active"?"default":"ghost",size:"sm",onClick:()=>Xi("active"),className:"bg-green-500 hover:bg-green-600 text-white",children:[a.jsx(Zo,{className:"h-4 w-4 mr-1"})," Active Now!"]}),a.jsxs(ge,{variant:kr==="past"?"default":"ghost",size:"sm",onClick:()=>Xi("past"),children:[a.jsx(hm,{className:"h-4 w-4 mr-1"})," Past Tests"]}),a.jsxs(ge,{variant:kr==="results"?"default":"ghost",size:"sm",onClick:()=>Xi("results"),children:[a.jsx(za,{className:"h-4 w-4 mr-1"})," My Results"]})]}),kr==="upcoming"&&a.jsx("div",{className:"space-y-4",children:k5.length===0?a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(Ir,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for scheduled tests"})]}):k5.map(z=>a.jsx(dt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:z.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Ol,{className:"h-4 w-4 inline mr-1"})," ",new Date(z.startTime).toLocaleDateString()]}),a.jsxs("span",{children:[a.jsx(Ir,{className:"h-4 w-4 inline mr-1"})," ",new Date(z.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("span",{children:[a.jsx(m0,{className:"h-4 w-4 inline mr-1"})," ",z.questionIds.length," questions"]}),a.jsxs("span",{children:[a.jsx(Ir,{className:"h-4 w-4 inline mr-1"})," ",z.duration," min"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-primary",children:R5(z.startTime)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"until start"})]})]})},z.id))}),kr==="active"&&fu&&a.jsxs(dt,{className:"p-6 border-2 border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-semibold",children:"LIVE NOW"})]}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:fu.title}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:fu.questionIds.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Questions"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:fu.duration}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-red-500",children:R5(fu.endTime)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Remaining"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:oe(fu.id).filter(z=>z.status==="submitted").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Submitted"})]})]}),(()=>{const z=I5(fu.id);return(z==null?void 0:z.status)==="submitted"?a.jsxs("div",{className:"text-center p-4 bg-green-100 dark:bg-green-900/30 rounded",children:[a.jsx(ga,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),a.jsx("p",{className:"font-medium",children:"You have submitted this test"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Result will be available after test ends"})]}):a.jsxs(ge,{size:"lg",className:"w-full",onClick:()=>wee(fu),children:[a.jsx(Zo,{className:"h-5 w-5 mr-2"}),(z==null?void 0:z.status)==="in-progress"?"Continue Test":"Start Test"]})})()]}),kr==="past"&&a.jsx("div",{className:"space-y-4",children:A5.length===0?a.jsxs(dt,{className:"p-8 text-center",children:[a.jsx(hm,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Completed tests will appear here"})]}):A5.map(z=>{const je=I5(z.id),Be=ae(z.id),$e=j5(z);return a.jsxs(dt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:z.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(z.endTime).toLocaleDateString(),"  ",z.questionIds.length," questions"]})]}),a.jsx("div",{className:"text-right",children:je&&$e?a.jsxs("div",{className:`text-2xl font-bold ${je.score>=80?"text-green-500":je.score>=50?"text-yellow-500":"text-red-500"}`,children:[je.score,"%"]}):je?a.jsx("span",{className:"text-sm text-muted-foreground",children:"Result pending"}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Not attempted"})})]}),$e&&a.jsxs("div",{className:"flex gap-2 mt-3",children:[je&&z.showSolution&&a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>{pr(je),zn(!0)},children:[a.jsx(Bc,{className:"h-4 w-4 mr-1"})," View Solutions"]}),z.showLeaderboard&&Be.length>0&&a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>{hc(z),Xi("results")},children:[a.jsx(za,{className:"h-4 w-4 mr-1"})," Leaderboard"]})]})]},z.id)})}),kr==="results"&&a.jsx("div",{className:"space-y-4",children:oo?a.jsxs(dt,{children:[a.jsx(jn,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Mn,{className:"flex items-center gap-2",children:[a.jsx(za,{className:"h-5 w-5 text-yellow-500"}),oo.title," - Leaderboard"]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>hc(null),children:a.jsx(sn,{className:"h-4 w-4"})})]})}),a.jsx(Lt,{children:(()=>{const z=ae(oo.id);return z.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No results yet"}):a.jsx("div",{className:"space-y-2",children:z.map((je,Be)=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded ${Be===0?"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300":Be===1?"bg-gray-100 dark:bg-gray-800/50 border border-gray-300":Be===2?"bg-orange-100 dark:bg-orange-900/30 border border-orange-300":"bg-muted/30"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${Be===0?"bg-yellow-500 text-white":Be===1?"bg-gray-400 text-white":Be===2?"bg-orange-500 text-white":"bg-muted text-muted-foreground"}`,children:Be+1}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[je.userName,je.userId===(n==null?void 0:n.id)&&a.jsx("span",{className:"text-xs text-primary ml-1",children:"(You)"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.floor(je.timeTaken/60),":",String(je.timeTaken%60).padStart(2,"0"),"  ",je.correct,"/",je.total," correct"]})]})]}),a.jsxs("div",{className:"text-xl font-bold",children:[je.score,"%"]})]},je.id))})})()})]}):a.jsxs(dt,{children:[a.jsx(jn,{children:a.jsx(Mn,{children:"My Live Test Results"})}),a.jsx(Lt,{children:(()=>{const z=ve.filter(je=>je.userId===(n==null?void 0:n.id)&&je.status==="submitted");return z.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No results yet. Take a live test!"}):a.jsx("div",{className:"space-y-2",children:z.sort((je,Be)=>(Be.submittedAt||0)-(je.submittedAt||0)).map(je=>{const Be=Y.find(He=>He.id===je.liveTestId);if(!Be)return null;const $e=j5(Be);return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Be.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[je.submittedAt?new Date(je.submittedAt).toLocaleDateString():"","  ",je.correct,"/",je.total," correct"]})]}),a.jsx("div",{className:"flex items-center gap-3",children:$e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`text-xl font-bold ${je.score>=80?"text-green-500":je.score>=50?"text-yellow-500":"text-red-500"}`,children:[je.score,"%"]}),Be.showSolution&&a.jsx(ge,{size:"sm",variant:"outline",onClick:()=>{pr(je),zn(!0)},children:a.jsx(Bc,{className:"h-4 w-4"})})]}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Result pending"})})]},je.id)})})})()})]})})]})}),a.jsxs(wi,{value:"settings",className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ms,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),a.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Group Settings"})]}),a.jsxs(dt,{className:"border-2",children:[a.jsx(jn,{className:"pb-2 sm:pb-3 px-3 sm:px-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(Jo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500"}),"Members",a.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs px-2 py-0.5 rounded-full",children:ut==null?void 0:ut.members.length})]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:C5,className:"h-7 text-xs",children:[a.jsx(i6,{className:"h-3 w-3 sm:mr-1.5"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Invite Code"})]})]})}),a.jsx(Lt,{className:"pt-0 px-3 sm:px-6",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:ut==null?void 0:ut.members.map(z=>{const je=z.userId===(n==null?void 0:n.id),Be=ut.members.filter($e=>$e.role==="admin").length===1&&z.role==="admin";return a.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-2.5 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($d,{className:"h-7 w-7 sm:h-8 sm:w-8",children:a.jsx(Hd,{className:"text-xs sm:text-sm",children:z.name.charAt(0)})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-xs sm:text-sm leading-tight",children:[z.name," ",je&&a.jsx("span",{className:"text-muted-foreground",children:"(You)"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground capitalize",children:z.role})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[z.role==="admin"&&a.jsx(Jg,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-yellow-500"}),lo&&!je&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(Pl,{className:"h-3.5 w-3.5"})})}),a.jsxs(Vc,{align:"end",className:"w-40",children:[z.role!=="admin"&&a.jsxs(Cn,{onClick:()=>{const $e=ut.members.map(He=>He.userId===z.userId?{...He,role:"admin"}:He);u({...ut,members:$e})},children:[a.jsx(Jg,{className:"h-3.5 w-3.5 mr-2 text-yellow-500"}),"Make Admin"]}),z.role==="admin"&&!Be&&a.jsxs(Cn,{onClick:()=>{const $e=ut.members.map(He=>He.userId===z.userId?{...He,role:"member"}:He);u({...ut,members:$e})},children:[a.jsx(Jo,{className:"h-3.5 w-3.5 mr-2"}),"Make Member"]}),z.role!=="moderator"&&a.jsxs(Cn,{onClick:()=>{const $e=ut.members.map(He=>He.userId===z.userId?{...He,role:"moderator"}:He);u({...ut,members:$e})},children:[a.jsx(ms,{className:"h-3.5 w-3.5 mr-2 text-blue-500"}),"Make Moderator"]}),a.jsxs(Cn,{className:"text-red-600 focus:text-red-600",onClick:()=>{if(confirm(`Remove ${z.name} from this group?`)){const $e=ut.members.filter(pt=>pt.userId!==z.userId),He=ut.memberIds.filter(pt=>pt!==z.userId);u({...ut,members:$e,memberIds:He})}},children:[a.jsx(wr,{className:"h-3.5 w-3.5 mr-2"}),"Remove"]})]})]})]})]},z.userId)})})})]}),lo&&a.jsxs(a.Fragment,{children:[a.jsxs(dt,{className:"border-2 border-green-200 dark:border-green-800",children:[a.jsxs(jn,{className:"pb-2 sm:pb-3 px-3 sm:px-6",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(lf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"}),"Live Test Management"]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Schedule and manage live tests"})]}),a.jsxs(Lt,{className:"pt-0 px-3 sm:px-6 space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:yt==="schedule"?"default":"outline",size:"sm",className:"flex-1 sm:flex-none h-8 text-xs",onClick:()=>Qt("schedule"),children:[a.jsx(Ol,{className:"h-3.5 w-3.5 sm:mr-1.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),a.jsxs(ge,{variant:yt==="auto"?"default":"outline",size:"sm",className:"flex-1 sm:flex-none h-8 text-xs",onClick:()=>Qt("auto"),children:[a.jsx(jr,{className:"h-3.5 w-3.5 sm:mr-1.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Auto Daily"}),bn&&a.jsx("span",{className:"ml-1 sm:ml-1.5 w-2 h-2 bg-green-500 rounded-full"})]})]}),yt==="schedule"&&a.jsxs(a.Fragment,{children:[pn?a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold",children:"Schedule New Live Test"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Oo(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title *"}),a.jsx(et,{placeholder:"e.g., Weekly Quiz #1",value:Fo,onChange:z=>nu(z.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Date *"}),a.jsx(et,{type:"date",value:Pa,onChange:z=>Js(z.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time *"}),a.jsx(et,{type:"time",value:Jr,onChange:z=>tl(z.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Date *"}),a.jsx(et,{type:"date",value:ur,onChange:z=>ru(z.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time *"}),a.jsx(et,{type:"time",value:nl,onChange:z=>iu(z.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Duration (minutes)"}),a.jsxs(Wt,{value:su,onValueChange:au,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"15",children:"15 minutes"}),a.jsx(Qe,{value:"30",children:"30 minutes"}),a.jsx(Qe,{value:"45",children:"45 minutes"}),a.jsx(Qe,{value:"60",children:"60 minutes"}),a.jsx(Qe,{value:"90",children:"90 minutes"}),a.jsx(Qe,{value:"120",children:"120 minutes"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Time allowed after starting the test"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question Selection"}),a.jsxs(Wt,{value:ea,onValueChange:z=>ou(z),children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"auto",children:"Auto - Random from Question Bank"}),a.jsx(Qe,{value:"manual",children:"Manual - Select specific questions"})]})]})]}),ea==="auto"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Categories"}),a.jsxs("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Xr.length===0,onChange:z=>{z.target.checked&&co([])},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["All Categories (",Uo.length,")"]})]}),Ns.map(z=>{const je=Uo.filter($e=>$e.categoryId===z.id).length,Be=Xr.includes(z.id);return a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Be,onChange:$e=>{$e.target.checked?co([...Xr,z.id]):co(Xr.filter(He=>He!==z.id))},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[z.name," (",je,")"]})]},z.id)})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Xr.length===0?`All ${Uo.length} questions will be used`:`${Uo.filter(z=>Xr.includes(z.categoryId||"")).length} questions from ${Xr.length} selected categories`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Number of Questions"}),a.jsxs(Wt,{value:rl,onValueChange:Ua,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"10",children:"10 Questions"}),a.jsx(Qe,{value:"20",children:"20 Questions"}),a.jsx(Qe,{value:"30",children:"30 Questions"}),a.jsx(Qe,{value:"50",children:"50 Questions"}),a.jsx(Qe,{value:"100",children:"100 Questions"})]})]})]})]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[a.jsx("label",{className:"text-sm font-medium",children:"Result Settings"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Auto-release result after test ends"}),a.jsx("input",{type:"checkbox",checked:Ie,onChange:z=>Je(z.target.checked),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show solutions after result"}),a.jsx("input",{type:"checkbox",checked:ie,onChange:z=>Me(z.target.checked),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show leaderboard"}),a.jsx("input",{type:"checkbox",checked:vt,onChange:z=>Gt(z.target.checked),className:"h-4 w-4"})]})]}),a.jsxs(ge,{onClick:vee,className:"w-full",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create Live Test"]})]}):a.jsxs(ge,{onClick:()=>Oo(!0),className:"w-full",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Schedule New Live Test"]}),se(s||"").length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Scheduled Tests"}),se(s||"").map(z=>a.jsxs("div",{className:"p-3 border rounded flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:z.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(z.startTime).toLocaleString()," - ",new Date(z.endTime).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.questionIds.length," questions  ",z.duration," min"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded ${Date.now()<z.startTime?"bg-blue-100 text-blue-700":Date.now()<z.endTime?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:Date.now()<z.startTime?"Scheduled":Date.now()<z.endTime?"Active":"Ended"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this test?")&&Ee(z.id)},children:a.jsx(wr,{className:"h-4 w-4 text-red-500"})})]})]},z.id))]})]}),yt==="auto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Enable Auto Daily Test"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically run a test every day at the specified time"})]}),a.jsx("input",{type:"checkbox",checked:bn,onChange:z=>ai(z.target.checked),className:"h-5 w-5"})]}),a.jsxs("div",{className:`space-y-4 ${bn?"":"opacity-50 pointer-events-none"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title"}),a.jsx(et,{value:Po,onChange:z=>Qf(z.target.value),placeholder:"Daily Practice Test"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Categories"}),a.jsx("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:Ns.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories available. Add categories first."}):Ns.map(z=>{const je=Uo.filter($e=>$e.categoryId===z.id).length,Be=ld.includes(z.id);return a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Be,onChange:$e=>{$e.target.checked?cu([...ld,z.id]):cu(ld.filter(He=>He!==z.id))},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[z.name," (",je,")"]})]},z.id)})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Daily Start Time"}),a.jsx(et,{type:"time",value:ng,onChange:z=>Sp(z.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Daily End Time"}),a.jsx(et,{type:"time",value:il,onChange:z=>Cp(z.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Duration"}),a.jsxs(Wt,{value:rg,onValueChange:kp,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"15",children:"15 minutes"}),a.jsx(Qe,{value:"30",children:"30 minutes"}),a.jsx(Qe,{value:"45",children:"45 minutes"}),a.jsx(Qe,{value:"60",children:"60 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions Count"}),a.jsxs(Wt,{value:ig,onValueChange:ud,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"10",children:"10 Questions"}),a.jsx(Qe,{value:"20",children:"20 Questions"}),a.jsx(Qe,{value:"30",children:"30 Questions"}),a.jsx(Qe,{value:"50",children:"50 Questions"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Active Days"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((z,je)=>a.jsx("button",{onClick:()=>{Ui.includes(je)?Kf(Ui.filter(Be=>Be!==je)):Kf([...Ui,je])},className:`px-3 py-1 rounded text-sm ${Ui.includes(je)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:z},z))})]}),a.jsxs("div",{className:"space-y-2 pt-3 border-t",children:[a.jsx("label",{className:"text-sm font-medium",children:"Result Settings"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Auto-release result after test ends"}),a.jsx("input",{type:"checkbox",checked:sg,onChange:z=>lu(z.target.checked),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show solutions after result"}),a.jsx("input",{type:"checkbox",checked:S,onChange:z=>q(z.target.checked),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show leaderboard"}),a.jsx("input",{type:"checkbox",checked:ee,onChange:z=>be(z.target.checked),className:"h-4 w-4"})]})]})]}),a.jsxs(ge,{onClick:yee,className:"w-full",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Save Auto Test Settings"]}),bn&&Mi&&a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:" Auto Test Active"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Runs daily from ",Mi.startTime," to ",Mi.endTime]})]})]})]})]}),a.jsxs(dt,{className:"border-2 border-purple-200 dark:border-purple-800",children:[a.jsxs(jn,{className:"pb-3",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-base",children:[a.jsx(lf,{className:"h-5 w-5 text-purple-500"}),"Question Bank",a.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs px-2 py-0.5 rounded-full",children:[Uo.length," questions"]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ns.length," categories"]})]}),a.jsxs(Lt,{className:"pt-0 space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(et,{placeholder:"New category name...",value:vE,onChange:z=>x5(z.target.value),onKeyDown:z=>z.key==="Enter"&&N5(),className:"flex-1"}),a.jsxs(ge,{onClick:N5,size:"sm",children:[a.jsx(Yt,{className:"h-4 w-4 mr-1"})," Add"]})]}),a.jsxs("div",{className:"flex gap-1 p-1 bg-muted rounded-lg",children:[a.jsx("button",{onClick:()=>Ge("single"),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${Ve==="single"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Single"}),a.jsx("button",{onClick:()=>Ge("group"),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${Ve==="group"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Group"}),a.jsx("button",{onClick:()=>Ge("instant"),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${Ve==="instant"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Instant"})]}),Ve==="single"&&Ns.length>0&&a.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Add Single Question (MCQ)"}),a.jsx(Hn,{placeholder:"Enter your question here...",value:yE,onChange:z=>v5(z.target.value),rows:2,className:"text-sm"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[0,1,2,3].map(z=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("input",{type:"radio",name:"qbCorrect",checked:bE===z,onChange:()=>b5(z),className:"w-3.5 h-3.5"}),a.jsxs("span",{className:`font-medium text-sm w-5 ${bE===z?"text-green-600":""}`,children:[z+1,"."]}),a.jsx(et,{placeholder:`Option ${z+1}`,value:r1[z],onChange:je=>{const Be=[...r1];Be[z]=je.target.value,y5(Be)},className:"flex-1 h-8 text-sm"})]},z))}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Wt,{value:wE,onValueChange:HJ,children:[a.jsx(Mt,{className:"w-40 h-8 text-sm",children:a.jsx(qt,{placeholder:"Category"})}),a.jsx(Bt,{children:Ns.map(z=>a.jsx(Qe,{value:z.id,children:z.name},z.id))})]}),a.jsxs(ge,{onClick:JJ,size:"sm",children:[a.jsx(Yt,{className:"h-4 w-4 mr-1"})," Add Question"]})]})]}),Ve==="group"&&a.jsxs("div",{className:"p-3 border rounded-lg bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:" Bulk Upload Questions"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload Excel (.xlsx) or Word (.docx) file"})]}),a.jsxs("div",{className:"text-xs bg-white dark:bg-gray-900 p-3 rounded border space-y-2",children:[a.jsx("p",{className:"font-medium",children:" Excel Format (8 columns):"}),a.jsx("p",{className:"text-muted-foreground pl-2",children:"Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4) | Explanation | Difficulty (easy/medium/hard)"}),a.jsx("p",{className:"font-medium mt-2",children:" Word Format:"}),a.jsx("div",{className:"text-muted-foreground pl-2 whitespace-pre-line",children:`1. Question text here
1) Option 1
2) Option 2
3) Option 3
4) Option 4
Ans: 1
Exp:  (optional)
Diff: medium (optional)`})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls,.docx",onChange:nee,className:"text-xs file:mr-2 file:py-1.5 file:px-3 file:rounded file:border-0 file:text-xs file:bg-blue-500 file:text-white hover:file:bg-blue-600"}),mt&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",mt.name]})]}),uu&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(jr,{className:"h-5 w-5 animate-spin mx-auto text-blue-500"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Parsing file..."})]}),Xf&&a.jsxs("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-xs",children:[" ",Xf]}),Er.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:[" ",Er.length," questions parsed"]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{rr(null),En([])},className:"h-6 text-xs",children:"Clear"})]}),a.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-2 bg-white dark:bg-gray-900",children:[Er.slice(0,5).map((z,je)=>a.jsxs("div",{className:"text-xs border-b pb-2 last:border-0",children:[a.jsxs("p",{className:"font-medium truncate",children:[je+1,". ",z.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:z.options.map((Be,$e)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${$e===z.correctIndex?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[$e+1,". ",Be.slice(0,15),Be.length>15?"...":""]},$e))})]},je)),Er.length>5&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",Er.length-5," more questions..."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Wt,{value:mi,onValueChange:Li,children:[a.jsx(Mt,{className:"w-40 h-8 text-xs",children:a.jsx(qt,{placeholder:"Select Category"})}),a.jsx(Bt,{children:Ns.map(z=>a.jsx(Qe,{value:z.id,children:z.name},z.id))})]}),a.jsxs(ge,{onClick:ree,disabled:!mi||uu,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Ic,{className:"h-4 w-4 mr-1"}),"Save All (",Er.length,")"]})]})]}),Ns.length===0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 text-center",children:" Add a category first before uploading"})]}),Ve==="instant"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($c,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"font-medium",children:"Content Library"})]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[l5.length," acks available"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:Dp||"",onChange:z=>{UJ(z.target.value||null),u5(null)},children:[a.jsx("option",{value:"",children:"All Subjects"}),uE.map(z=>a.jsxs("option",{value:z.id,children:[z.icon," ",z.name]},z.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:dE||"",onChange:z=>u5(z.target.value||null),disabled:!Dp,children:[a.jsx("option",{value:"",children:"All Topics"}),Dp&&MJ(Dp).map(z=>a.jsx("option",{value:z.id,children:z.name},z.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:fE,onChange:z=>LJ(z.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"free",children:" Free Only"}),a.jsx("option",{value:"paid",children:" Paid Only"})]})]}),a.jsx("div",{className:"grid gap-2 max-h-[350px] overflow-y-auto",children:(()=>{let z=l5;return Dp&&(z=BJ(Dp)),dE&&(z=VJ(dE)),fE!=="all"&&(z=z.filter(je=>je.pricing===fE)),z.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(p0,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No content packs found"}),a.jsx("p",{className:"text-xs mt-1",children:"Try changing your filters"})]}):z.map(je=>{const Be=uE.find(pt=>pt.id===je.subjectId),$e=PJ.find(pt=>pt.id===je.topicId),He=n?hE(je.id,n.id):!1;return a.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all hover:shadow-md ${(Nn==null?void 0:Nn.id)===je.id?"border-primary bg-primary/5":"hover:border-primary/50"} ${He?"opacity-60":""}`,onClick:()=>sE(je),children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:je.contentType==="mcq"?"":je.contentType==="notes"?"":""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:je.title}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Be==null?void 0:Be.icon," ",Be==null?void 0:Be.name,"  ",$e==null?void 0:$e.name]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:je.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-[10px]",children:[je.mcqCount>0&&a.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded",children:[je.mcqCount," MCQs"]}),je.notesCount>0&&a.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded",children:[je.notesCount," Notes"]}),a.jsxs("span",{className:"text-muted-foreground",children:[" ",je.downloadCount]}),He&&a.jsx("span",{className:"text-green-600 font-medium",children:" Downloaded"})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:je.pricing==="free"?a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:"FREE"}):a.jsxs("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded",children:["",je.price]})})]})},je.id)})})()}),Nn&&a.jsxs("div",{className:"p-4 border-2 border-primary rounded-lg bg-primary/5 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:Nn.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Nn.mcqCount>0&&`${Nn.mcqCount} MCQs`,Nn.mcqCount>0&&Nn.notesCount>0&&"  ",Nn.notesCount>0&&`${Nn.notesCount} Notes`]})]}),a.jsx("button",{onClick:()=>sE(null),className:"text-muted-foreground hover:text-foreground",children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"bg-background rounded-md p-2 max-h-[120px] overflow-y-auto",children:[a.jsx("p",{className:"text-[10px] font-medium text-muted-foreground mb-1",children:"Preview:"}),Nn.mcqCount>0&&a.jsxs("div",{className:"space-y-1",children:[d5(Nn.id).slice(0,3).map((z,je)=>a.jsxs("p",{className:"text-xs truncate",children:[je+1,". ",z.question]},z.id)),Nn.mcqCount>3&&a.jsxs("p",{className:"text-[10px] text-muted-foreground italic",children:["+",Nn.mcqCount-3," more questions..."]})]}),Nn.notesCount>0&&a.jsx("div",{className:"space-y-1 mt-2",children:f5(Nn.id).slice(0,2).map(z=>a.jsxs("p",{className:"text-xs truncate",children:[" ",z.title]},z.id))})]}),Nn.mcqCount>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs font-medium flex-1",children:"MCQs Download to:"}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background flex-1",value:ag,onChange:z=>a5(z.target.value),children:[a.jsx("option",{value:"new",children:"New Category"}),a.jsx("option",{value:"merge",children:"Existing Category"})]})]}),ag==="new"?a.jsx(et,{placeholder:"New category name...",value:oE,onChange:z=>o5(z.target.value),className:"h-8 text-sm"}):a.jsxs("select",{className:"w-full text-xs px-2 py-1.5 border rounded bg-background",value:aE,onChange:z=>s5(z.target.value),children:[a.jsx("option",{value:"",children:"Select category..."}),Ns.map(z=>a.jsx("option",{value:z.id,children:z.name},z.id))]})]}),a.jsx(ge,{className:"w-full",disabled:(n?hE(Nn.id,n.id):!0)||Nn.mcqCount>0&&ag==="new"&&!oE.trim()||Nn.mcqCount>0&&ag==="merge"&&!aE,onClick:()=>{if(!s||!n)return;if(Nn.mcqCount>0){const $e=d5(Nn.id);let He=aE;if(ag==="new"){const pt=`cat_${Date.now()}`;E({id:pt,groupId:s,name:oE.trim(),createdAt:Date.now()}),He=pt}$e.forEach(pt=>{k({id:`mcq_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,groupId:s,categoryId:He,question:pt.question,options:pt.options,correctIndex:pt.correctIndex,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now()})})}if(Nn.notesCount>0){const $e=f5(Nn.id),He=`topic_${Date.now()}`;m({id:He,groupId:s,name:Nn.title,order:pc.length,createdAt:Date.now()}),$e.forEach((pt,bt)=>{C({id:`content_${Date.now()}_${bt}`,topicId:He,subTopicId:"",groupId:s,type:"note",title:pt.title,content:pt.content,source:"library",order:bt,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),updatedAt:Date.now()})})}WJ({id:`dl_${Date.now()}`,userId:n.id,packId:Nn.id,packTitle:Nn.title,subjectId:Nn.subjectId,topicId:Nn.topicId,pricing:Nn.pricing,downloadedAt:Date.now()});const z=Nn.mcqCount>0?`${Nn.mcqCount} MCQs`:"",je=Nn.notesCount>0?`${Nn.notesCount} Notes`:"";alert(` ${z}${z&&je?" and ":""}${je} downloaded successfully!`),sE(null),s5(""),o5(""),a5("new")},children:n&&hE(Nn.id,n.id)?a.jsx(a.Fragment,{children:" Already Downloaded"}):Nn.pricing==="paid"?a.jsxs(a.Fragment,{children:[" Buy for ",Nn.price]}):a.jsxs(a.Fragment,{children:[a.jsx($c,{className:"h-4 w-4 mr-2"}),"Download Free"]})})]})]}),Ve==="single"&&Ns.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add a category first to start adding questions."}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:Ns.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No categories yet. Add a category first."}):Ns.map(z=>{const je=P(z.id),Be=_E.includes(z.id);return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-muted/50 cursor-pointer hover:bg-muted",onClick:()=>iee(z.id),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[Be?a.jsx(Mc,{className:"h-4 w-4"}):a.jsx(xa,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium text-sm",children:z.name}),a.jsx("span",{className:"text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded-full",children:je.length})]}),a.jsx(ge,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 h-6 w-6 p-0",onClick:$e=>{$e.stopPropagation(),confirm(`Delete category "${z.name}" and all its questions?`)&&I(z.id)},children:a.jsx(wr,{className:"h-3.5 w-3.5"})})]}),Be&&a.jsx("div",{className:"divide-y max-h-[200px] overflow-y-auto",children:je.length===0?a.jsx("p",{className:"text-xs text-muted-foreground p-2.5",children:"No questions"}):je.map(($e,He)=>a.jsx("div",{className:"p-2.5 hover:bg-muted/30",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium truncate",children:[He+1,". ",$e.question,$e.assetRef&&a.jsx("span",{className:"ml-1 text-green-500",title:"Synced with Library",children:""})]}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-0.5 text-[10px] text-muted-foreground",children:$e.options.map((pt,bt)=>a.jsxs("span",{className:`truncate ${bt===$e.correctIndex?"text-green-600 font-medium":""}`,children:[bt+1,". ",pt," ",bt===$e.correctIndex&&""]},bt))})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>dee($e),className:"text-blue-500 hover:text-blue-700",title:"Edit MCQ",children:a.jsx(ha,{className:"h-3.5 w-3.5"})}),a.jsx("button",{onClick:()=>{confirm("Delete this question?")&&D($e.id)},className:"text-red-500 hover:text-red-700",title:"Delete MCQ",children:a.jsx(wr,{className:"h-3.5 w-3.5"})})]})]})},$e.id))})]},z.id)})})]})]}),a.jsxs(dt,{className:"border-2 border-orange-200 dark:border-orange-800",children:[a.jsx(jn,{className:"pb-3",children:a.jsxs(Mn,{className:"flex items-center gap-2 text-base",children:[a.jsx(ms,{className:"h-5 w-5 text-orange-500"}),"Group Configuration"]})}),a.jsxs(Lt,{className:"pt-0 space-y-4",children:[a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Group Name"}),a.jsx(et,{value:(ut==null?void 0:ut.name)||"",onChange:z=>ut&&u({...ut,name:z.target.value}),className:"h-9"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),a.jsx(et,{value:(ut==null?void 0:ut.description)||"",onChange:z=>ut&&u({...ut,description:z.target.value}),className:"h-9",placeholder:"Optional"})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ge,{onClick:pee,size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(Ic,{className:"h-4 w-4 mr-1.5"}),"Sync to Cloud"]}),a.jsxs(ge,{variant:"outline",size:"sm",className:"text-purple-600 border-purple-300 hover:bg-purple-50 dark:hover:bg-purple-950",onClick:()=>{if(confirm("This will clear all local data and re-download from cloud. Continue?")){const z=la.getState();la.setState({topics:z.topics.filter(je=>je.groupId!==s),contentItems:z.contentItems.filter(je=>je.groupId!==s),groupMCQs:z.groupMCQs.filter(je=>je.groupId!==s),questionCategories:z.questionCategories.filter(je=>je.groupId!==s)}),GJ(s),alert("Data cleared and re-syncing from cloud!")}},children:[a.jsx(jr,{className:"h-4 w-4 mr-1.5"}),"Resync Data"]})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Sync uploads content to cloud  Resync fixes duplicate content issues"})]}),a.jsxs("div",{className:"pt-3 border-t",children:[a.jsxs(ge,{variant:"outline",size:"sm",className:"text-red-500 border-red-300 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>SE("group",ut.id,ut.name),children:[a.jsx(uh,{className:"h-4 w-4 mr-1.5"}),"Delete Group"]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1.5",children:"Requires 50% member approval"})]})]})]})]})]})]})]}):a.jsxs(dt,{className:"p-8 sm:p-12 text-center",children:[a.jsx(Jo,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:r.length===0?"No Groups Yet":"Select a Group"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:r.length===0?"Create a new group or join an existing one!":"Choose a group from the dropdown above"})]}),Oe&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(dt,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl mx-0 sm:mx-4",children:[a.jsx(jn,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Mn,{className:"text-lg",children:"Create New Group"}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:hidden",onClick:()=>Le(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]})}),a.jsxs(Lt,{className:"space-y-3 pb-6",children:[a.jsx(et,{className:"h-10",placeholder:"Group Name",value:sr,onChange:z=>Kn(z.target.value)}),a.jsx(et,{className:"h-10",placeholder:"Description (optional)",value:Jn,onChange:z=>_n(z.target.value)}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ge,{variant:"outline",className:"flex-1 h-10",onClick:()=>Le(!1),children:"Cancel"}),a.jsx(ge,{className:"flex-1 h-10",onClick:see,children:"Create"})]})]})]})}),Ze&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(dt,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl mx-0 sm:mx-4",children:[a.jsx(jn,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Mn,{className:"text-lg",children:"Join Group"}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:hidden",onClick:()=>it(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]})}),a.jsxs(Lt,{className:"space-y-3 pb-6",children:[a.jsx(et,{className:"h-12 text-center text-xl tracking-widest font-mono uppercase",placeholder:"Enter Code",value:Ft,onChange:z=>_r(z.target.value.toUpperCase()),maxLength:6}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Enter the 6-character group code"}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ge,{variant:"outline",className:"flex-1 h-10",onClick:()=>it(!1),children:"Cancel"}),a.jsx(ge,{className:"flex-1 h-10",onClick:aee,children:"Join"})]})]})]})}),On&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(dt,{className:"w-full sm:max-w-2xl h-[95vh] sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col rounded-t-2xl sm:rounded-xl",children:[a.jsxs(jn,{className:"flex-row items-center justify-between py-3 px-4",children:[a.jsxs(Mn,{className:"text-base sm:text-lg truncate pr-2",children:["Edit: ",On.title]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ge,{variant:pE?"default":"outline",size:"sm",onClick:()=>n1(!pE),className:"h-8",children:[a.jsx(r6,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Source"})]}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:hidden",onClick:()=>{cn(null),n1(!1)},children:a.jsx(sn,{className:"h-4 w-4"})})]})]}),a.jsx(Lt,{className:"flex-1 overflow-y-auto space-y-4",children:pE?a.jsxs("div",{children:[a.jsx(Hn,{placeholder:"Enter HTML code here...",value:On.content,onChange:z=>cn({...On,content:z.target.value}),className:"font-mono text-sm min-h-[350px]"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" You can add HTML, iFrame, embed codes for games, videos etc."})]}):a.jsx("div",{className:"border rounded-md overflow-hidden",children:a.jsx(Nf,{theme:"snow",value:On.content,onChange:z=>cn({...On,content:z}),modules:T5,style:{height:"300px"}})})}),a.jsxs("div",{className:"p-4 border-t flex gap-2 justify-end mt-12",children:[a.jsx(ge,{variant:"outline",onClick:()=>{cn(null),n1(!1)},children:"Cancel"}),a.jsx(ge,{onClick:async()=>{const z={...On,updatedAt:Date.now()};_(z);try{await xt(Ke(Pe,"contentItems",z.id),z)}catch(je){console.error("Error updating content in Firestore:",je),alert(" Firestore  update   !")}cn(null),n1(!1)},children:"Save"})]})]})}),Dn&&er&&!ne&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(dt,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h3",{className:"font-semibold text-lg",children:xe==="choose"?"Add Content":xe==="manual"?"Create new item":"Import from Library"}),a.jsxs("div",{className:"flex items-center gap-1",children:[xe!=="choose"&&a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>we("choose"),children:a.jsx(Lc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{hr(!1),or(null),Tr(""),Se("note"),we("choose")},children:a.jsx(sn,{className:"h-4 w-4"})})]})]}),a.jsxs(Lt,{className:"p-4",children:[xe==="choose"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>we("manual"),children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:a.jsx(Yt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-lg",children:"Manually"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create new content from scratch"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>{hr(!1),we("choose"),Yy(!0),Jy(er)},children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:a.jsx(ma,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-lg",children:"Import from Library"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Import MCQs or Notes from your library"})]})]})]}),xe==="manual"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>fg("heading"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(Pz,{className:"h-4 w-4 text-purple-500"})," Heading"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define chapter section headings"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>fg("note"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(Sr,{className:"h-4 w-4 text-blue-500"})," PDF / Images"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload PDF or image files"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>fg("text"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(Wz,{className:"h-4 w-4 text-orange-500"})," Text"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add custom text or iFrame and HTML"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>fg("link"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(Lz,{className:"h-4 w-4 text-cyan-500"})," Link (Video, Website etc.)"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add link which will be embedded in iFrame"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>fg("quiz"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(Dc,{className:"h-4 w-4 text-green-500"})," Quiz"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Learners can attempt any time & get results"})]})]})]})]})]})}),ne&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:a.jsxs(dt,{className:"w-full max-w-lg",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:[ce==="heading"&&"New heading",ce==="text"&&"New text content",ce==="link"&&"New link",ce==="quiz"&&"New quiz",ce==="note"&&"New PDF / Notes"]}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>fe(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs(Lt,{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:[ce==="heading"?"Heading name":"Title"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(et,{placeholder:ce==="heading"?"New heading":"Title",value:Ae,onChange:z=>re(z.target.value),autoFocus:!0})]}),ce==="link"&&a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:["URL ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(et,{placeholder:"https://...",value:Ne,onChange:z=>he(z.target.value)})]}),ce==="text"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsxs(ge,{variant:t1?"default":"outline",size:"sm",onClick:()=>p5(!t1),className:"h-7 text-xs",children:[a.jsx(r6,{className:"h-3 w-3 mr-1"})," Source"]})]}),t1?a.jsx(Hn,{placeholder:"Enter HTML code here...",value:Ce,onChange:z=>ke(z.target.value),className:"font-mono text-sm min-h-[250px]"}):a.jsx("div",{className:"border rounded-md overflow-hidden",children:a.jsx(Nf,{theme:"snow",value:Ce,onChange:ke,modules:T5,style:{height:"200px"}})}),t1&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" You can add HTML, iFrame, embed codes for games, videos etc."})]}),ce==="note"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Upload PDF or Images ",a.jsx("span",{className:"text-muted-foreground text-xs",children:"(Max 10 files, 10MB each)"})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center hover:border-primary/50 transition-colors",children:[a.jsx("input",{type:"file",multiple:!0,accept:".pdf,image/*",onChange:oee,className:"hidden",id:"file-upload"}),a.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[a.jsx(Ic,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload PDF or Images"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, PNG, JPG, GIF up to 10MB"})]})]}),ze.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("p",{className:"text-sm font-medium",children:[ze.length," file(s) selected:"]}),ze.map((z,je)=>a.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded p-2 text-sm",children:[a.jsxs("span",{className:"truncate flex-1",children:[z.type==="application/pdf"?"":""," ",z.name]}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>cee(je),children:a.jsx(sn,{className:"h-4 w-4"})})]},je))]}),gt&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Uploading..."}),a.jsxs("span",{children:[ot,"%"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${ot}%`}})})]})]})}),ce==="quiz"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:["Time Limit (in minutes) ",a.jsx("span",{className:"text-muted-foreground text-xs",children:"Keep blank for no time limit"})]}),a.jsx(et,{type:"number",placeholder:"Time Limit (in minutes)",value:Re,onChange:z=>We(z.target.value)})]}),a.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Questions from Bank"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[Yf.length," selected"]})]}),Ns.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No questions in Question Bank. Add questions from Settings  Question Bank first."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(ge,{type:"button",size:"sm",variant:i1==="manual"?"default":"outline",onClick:()=>TE("manual"),children:"Manual Select"}),a.jsx(ge,{type:"button",size:"sm",variant:i1==="auto"?"default":"outline",onClick:()=>TE("auto"),children:"Auto Random"})]}),i1==="auto"?a.jsxs("div",{className:"space-y-3 p-3 bg-background rounded border",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Select Category"}),a.jsxs("select",{className:"w-full border rounded p-2 text-sm bg-background",value:du,onChange:z=>_5(z.target.value),children:[a.jsx("option",{value:"",children:"-- Select Category --"}),a.jsx("option",{value:"all",children:"All Categories"}),Ns.map(z=>{const je=p.filter(Be=>Be.groupId===(ut==null?void 0:ut.id)&&Be.categoryId===z.id).length;return a.jsxs("option",{value:z.id,children:[z.name," (",je," questions)"]},z.id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Number of Questions"}),a.jsx(et,{type:"number",placeholder:"Enter number of questions",value:ug,onChange:z=>EE(z.target.value),min:"1"}),du&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Available: ",du==="all"?p.filter(z=>z.groupId===(ut==null?void 0:ut.id)).length:p.filter(z=>z.groupId===(ut==null?void 0:ut.id)&&z.categoryId===du).length," questions"]})]}),a.jsxs(ge,{type:"button",size:"sm",className:"w-full",disabled:!du||!ug,onClick:()=>{const z=parseInt(ug);if(!z||z<1)return;let je;du==="all"?je=p.filter(He=>He.groupId===(ut==null?void 0:ut.id)):je=p.filter(He=>He.groupId===(ut==null?void 0:ut.id)&&He.categoryId===du);const Be=[...je].sort(()=>Math.random()-.5),$e=Be.slice(0,Math.min(z,Be.length));Zf($e.map(He=>He.id)),EE("")},children:[a.jsx(a6,{className:"h-4 w-4 mr-2"})," Generate Random Selection"]})]}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Ns.map(z=>{const je=p.filter(Be=>Be.groupId===(ut==null?void 0:ut.id)&&Be.categoryId===z.id);return je.length===0?null:a.jsxs("div",{className:"border rounded bg-background",children:[a.jsxs("button",{type:"button",className:"w-full flex items-center justify-between p-2 hover:bg-muted/50",onClick:()=>{w5(Be=>Be.includes(z.id)?Be.filter($e=>$e!==z.id):[...Be,z.id])},children:[a.jsx("span",{className:"font-medium text-sm",children:z.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[je.length," questions"]}),_E.includes(z.id)?a.jsx(Mc,{className:"h-4 w-4"}):a.jsx(xa,{className:"h-4 w-4"})]})]}),_E.includes(z.id)&&a.jsxs("div",{className:"border-t p-2 space-y-1",children:[a.jsx("button",{type:"button",className:"text-xs text-primary hover:underline mb-2",onClick:()=>{const Be=je.map(He=>He.id),$e=Be.every(He=>Yf.includes(He));Zf($e?He=>He.filter(pt=>!Be.includes(pt)):He=>[...new Set([...He,...Be])])},children:je.every(Be=>Yf.includes(Be.id))?"Deselect All":"Select All"}),je.map(Be=>a.jsxs("label",{className:"flex items-start gap-2 p-1 hover:bg-muted/30 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Yf.includes(Be.id),onChange:$e=>{$e.target.checked?Zf(He=>[...He,Be.id]):Zf(He=>He.filter(pt=>pt!==Be.id))},className:"mt-1"}),a.jsx("span",{className:"text-sm",children:Be.question})]},Be.id))]})]},z.id)})}),Yf.length>0&&a.jsxs("button",{type:"button",className:"text-xs text-red-500 hover:underline mt-2",onClick:()=>Zf([]),children:["Clear Selection (",Yf.length,")"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t mt-8",children:[a.jsx(ge,{variant:"outline",onClick:()=>fe(!1),disabled:gt,children:"Cancel"}),a.jsx(ge,{onClick:uee,disabled:gt,children:gt?"Uploading...":"Submit"})]})]})}),rn&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50",children:a.jsxs(dt,{className:"w-full sm:max-w-4xl h-[95vh] sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col rounded-t-2xl sm:rounded-xl sm:mx-4",children:[a.jsxs(jn,{className:"flex flex-row items-center justify-between border-b py-3 px-4",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-base sm:text-lg truncate",children:[a.jsx(Sr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500 shrink-0"}),a.jsx("span",{className:"truncate",children:rn.title})]}),a.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 shrink-0",onClick:()=>qn(null),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsx(Lt,{className:"overflow-y-auto p-4 sm:p-6 flex-1",children:rn.type==="note"&&rn.content?a.jsx("div",{className:`prose prose-sm dark:prose-invert max-w-none
                    prose-headings:text-foreground 
                    prose-p:text-foreground 
                    prose-strong:text-foreground 
                    prose-li:text-foreground
                    prose-a:text-primary
                    [&_h1]:text-2xl [&_h1]:font-bold [&_h1]:mb-4
                    [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:mb-3
                    [&_h3]:text-lg [&_h3]:font-medium [&_h3]:mb-2
                    [&_p]:mb-3 [&_p]:leading-relaxed
                    [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:mb-3
                    [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:mb-3
                    [&_li]:mb-1
                    [&_blockquote]:border-l-4 [&_blockquote]:border-primary [&_blockquote]:pl-4 [&_blockquote]:italic
                    [&_code]:bg-muted [&_code]:px-1 [&_code]:rounded
                    [&_pre]:bg-muted [&_pre]:p-4 [&_pre]:rounded-lg [&_pre]:overflow-x-auto
                    [&_table]:w-full [&_table]:border-collapse
                    [&_th]:border [&_th]:border-border [&_th]:p-2 [&_th]:bg-muted
                    [&_td]:border [&_td]:border-border [&_td]:p-2`,dangerouslySetInnerHTML:{__html:WUe(rn.content,{source:rn.source,isAdmin:rn.source==="library"})}}):a.jsx("p",{className:"text-muted-foreground",children:"No content available"})}),a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-between gap-2 p-3 sm:p-4 border-t",children:[a.jsx(TJ,{groupId:rn.groupId,contentId:rn.id,contentType:"note",contentTitle:rn.title,creatorId:rn.createdBy,creatorName:rn.createdByName}),a.jsxs("div",{className:"flex gap-2",children:[(lo||rn.createdBy===(n==null?void 0:n.id))&&a.jsxs(ge,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none h-9",onClick:()=>{cn(rn),lr(rn.content||""),qn(null)},children:[a.jsx(ha,{className:"h-4 w-4 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),a.jsx(ge,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none h-9",onClick:()=>qn(null),children:"Close"})]})]})]})}),zJ&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50",children:a.jsxs(dt,{className:"w-full sm:max-w-lg h-[85vh] sm:h-auto sm:max-h-[80vh] overflow-hidden flex flex-col rounded-t-2xl sm:rounded-xl",children:[a.jsxs(jn,{className:"flex flex-row items-center justify-between py-3 px-4",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(uh,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-500"}),"Delete Requests"]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>mE(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsx(Lt,{className:"overflow-y-auto",children:dg.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No pending delete requests"}):a.jsx("div",{className:"space-y-4",children:dg.map(z=>{const{canResolve:je,approved:Be}=YJ(z),$e=z.approvedBy.includes((n==null?void 0:n.id)||"")||z.rejectedBy.includes((n==null?void 0:n.id)||""),He=(ut==null?void 0:ut.members.length)||1,pt=Math.ceil(He*.5);return a.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${z.targetType==="group"?"border-red-300 bg-red-50/30":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:z.targetName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:z.targetType==="group"?" Entire Group":z.targetType==="topic"?"Chapter":"Content Item"})]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${z.requesterRole==="admin"?"bg-primary/20 text-primary":"bg-muted"}`,children:z.requesterRole})]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{children:["Requested by: ",a.jsx("span",{className:"font-medium",children:z.requesterName})]}),a.jsx("p",{className:"text-muted-foreground text-xs",children:new Date(z.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"bg-muted/50 rounded p-2 text-sm",children:z.requesterRole==="admin"?a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"Admin request: Needs 50% member approval"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Approved: ",z.approvedBy.length,"/",pt," required"]})]}):a.jsx("p",{children:"Member request: Needs Admin approval"})}),!$e&&n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{size:"sm",variant:"outline",className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",onClick:()=>V(z.id,n.id,!0),children:[a.jsx(fa,{className:"h-4 w-4 mr-1"})," Approve"]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-600 hover:bg-red-50",onClick:()=>V(z.id,n.id,!1),children:[a.jsx(Ou,{className:"h-4 w-4 mr-1"})," Reject"]})]}),$e&&a.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"You have voted on this request"}),je&&Be&&lo&&a.jsxs(ge,{size:"sm",variant:"destructive",className:"w-full",onClick:()=>{ZJ(z),dg.length<=1&&mE(!1)},children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Execute Delete"]}),je&&!Be&&a.jsx(ge,{size:"sm",variant:"outline",className:"w-full",onClick:()=>M(z.id,!1),children:"Mark as Rejected"})]},z.id)})})})]})}),$J&&m5&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50",children:a.jsxs(dt,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl",children:[a.jsx(jn,{className:"py-3 px-4",children:a.jsxs(Mn,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(pm,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Assign Members"]})}),a.jsxs(Lt,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select members who can edit this chapter:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:ut==null?void 0:ut.members.map(z=>a.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:g5.includes(z.userId),onChange:je=>{je.target.checked?lg(Be=>[...Be,z.userId]):lg(Be=>Be.filter($e=>$e!==z.userId))},className:"w-4 h-4 rounded"}),a.jsx($d,{className:"h-8 w-8",children:a.jsx(Hd,{className:"bg-primary/10 text-primary",children:z.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:z.name}),a.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:z.role})]}),z.role==="admin"&&a.jsx(Jg,{className:"h-4 w-4 text-yellow-500 ml-auto"})]},z.userId))}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>{gE(!1),xE(null),lg([])},children:"Cancel"}),a.jsx(ge,{onClick:()=>{const z=d.find(je=>je.id===m5);z&&v({...z,assignedMembers:g5}),gE(!1),xE(null),lg([])},children:"Save"})]})]})]})}),IJ&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(dt,{className:"w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsx(jn,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Mn,{className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-5 w-5 text-purple-600"}),"Import from Library"]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{Yy(!1),og([]),Jy(null)},children:a.jsx(sn,{className:"h-4 w-4"})})]})}),a.jsxs(Lt,{className:"flex-1 overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-1 p-1 bg-muted rounded",children:[a.jsx("button",{onClick:()=>Ap("all"),className:`px-2 py-1 rounded text-xs ${dd==="all"?"bg-background shadow":""}`,children:"All"}),a.jsx("button",{onClick:()=>Ap("mcq"),className:`px-2 py-1 rounded text-xs ${dd==="mcq"?"bg-background shadow":""}`,children:"MCQs"}),a.jsx("button",{onClick:()=>Ap("note"),className:`px-2 py-1 rounded text-xs ${dd==="note"?"bg-background shadow":""}`,children:"Notes"}),a.jsx("button",{onClick:()=>Ap("url"),className:`px-2 py-1 rounded text-xs ${dd==="url"?"bg-background shadow":""}`,children:"Links"}),a.jsx("button",{onClick:()=>Ap("pdf"),className:`px-2 py-1 rounded text-xs ${dd==="pdf"?"bg-background shadow":""}`,children:"PDFs"}),a.jsx("button",{onClick:()=>Ap("video"),className:`px-2 py-1 rounded text-xs ${dd==="video"?"bg-background shadow":""}`,children:"Videos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Wt,{value:cg||"all",onValueChange:z=>RJ(z==="all"?null:z),children:[a.jsx(Mt,{className:"flex-1 h-9",children:a.jsx(qt,{placeholder:"All Subjects"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Subjects"}),c5.map(z=>a.jsx(Qe,{value:z.id,children:z.name},z.id))]})]}),cg&&a.jsxs(Wt,{value:lE||"all",onValueChange:z=>OJ(z==="all"?null:z),children:[a.jsx(Mt,{className:"flex-1 h-9",children:a.jsx(qt,{placeholder:"All Topics"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Topics"}),FJ(cg).map(z=>a.jsx(Qe,{value:z.id,children:z.name},z.id))]})]})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:cE.length===0?a.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No assets in your library yet.",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Go to Library tab to add content!"})]}):cE.filter(z=>!(dd!=="all"&&z.type!==dd||cg&&z.subjectId!==cg||lE&&z.topicId!==lE)).map(z=>{var je,Be,$e;return a.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-muted/50 ${sl.includes(z.id)?"border-primary bg-primary/5":""}`,children:[a.jsx("input",{type:"checkbox",checked:sl.includes(z.id),onChange:He=>{He.target.checked?og([...sl,z.id]):og(sl.filter(pt=>pt!==z.id))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${z.type==="mcq"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":z.type==="note"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":z.type==="url"?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":z.type==="pdf"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":z.type==="video"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}`,children:z.type.toUpperCase()}),a.jsx("span",{className:"text-xs text-muted-foreground",children:(je=c5.find(He=>He.id===z.subjectId))==null?void 0:je.name})]}),a.jsx("p",{className:"text-sm mt-1 truncate",children:z.type==="mcq"?((Be=z.question)==null?void 0:Be.substring(0,80))+((($e=z.question)==null?void 0:$e.length)>80?"...":""):z.title})]})]},z.id)})}),sl.length>0&&a.jsxs("p",{className:"text-sm text-primary font-medium",children:[" ",sl.length," item(s) selected"]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[a.jsx(ge,{variant:"outline",onClick:()=>{Yy(!1),og([]),Jy(null)},children:"Cancel"}),a.jsxs(ge,{disabled:sl.length===0,onClick:async()=>{var z;if(!(!Zy||!s||!n)){for(const je of sl){const Be=cE.find($e=>$e.id===je);if(Be){if(Be.type==="mcq"){const $e={id:Zt(),groupId:s,categoryId:((z=y[0])==null?void 0:z.id)||"",subTopicId:Zy,question:Be.question,options:Be.options,correctIndex:Be.correctIndex,explanation:Be.explanation,difficulty:Be.difficulty,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now()};k($e),await xt(Ke(Pe,"mcqs",$e.id),$e)}else if(Be.type==="note"){const $e={id:Zt(),subTopicId:Zy,topicId:Zy,groupId:s,type:"note",title:Be.title,content:Be.content,source:"library",createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),updatedAt:Date.now()};C($e),await xt(Ke(Pe,"content-items",$e.id),$e)}}}alert(` ${sl.length} item(s) imported successfully!`),Yy(!1),og([]),Jy(null)}},children:[a.jsx(ma,{className:"h-4 w-4 mr-2"}),"Import (",sl.length,")"]})]})]})]})}),De&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>ht(null),children:a.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-background rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto p-4",onClick:z=>z.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Edit MCQ",De.assetRef&&a.jsx("span",{className:"text-xs text-green-500",children:"( Library Synced)"})]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>ht(null),children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Question"}),a.jsx(Hn,{value:en,onChange:z=>Ot(z.target.value),placeholder:"Enter question...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options"}),Fn.map((z,je)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"editCorrect",checked:cs===je,onChange:()=>Pn(je),className:"h-4 w-4"}),a.jsx(et,{value:z,onChange:Be=>{const $e=[...Fn];$e[je]=Be.target.value,Tn($e)},placeholder:`Option ${je+1}`})]},je))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Explanation (Optional)"}),a.jsx(Hn,{value:ja,onChange:z=>Ia(z.target.value),placeholder:"Explain the correct answer...",rows:2})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(ge,{variant:"outline",onClick:()=>ht(null),children:"Cancel"}),a.jsxs(ge,{onClick:fee,disabled:!en.trim()||Fn.some(z=>!z.trim()),children:[a.jsx(jr,{className:"h-4 w-4 mr-1"})," Save ",De.assetRef&&"& Sync"]})]})]})]})})]})}var iE="Switch",[OLe]=rd(iE),[FLe,PLe]=OLe(iE),EJ=A.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=A.useState(null),y=yr(t,b=>p(b)),m=A.useRef(!1),g=h?d||!!h.closest("form"):!0,[v,x]=Gh({prop:i,defaultProp:s??!1,onChange:u,caller:iE});return a.jsxs(FLe,{scope:n,checked:v,disabled:c,children:[a.jsx(wn.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":kJ(v),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:y,onClick:Rt(e.onClick,b=>{x(w=>!w),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&a.jsx(CJ,{control:h,bubbles:!m.current,name:r,value:l,checked:v,required:o,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});EJ.displayName=iE;var NJ="SwitchThumb",SJ=A.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=PLe(NJ,n);return a.jsx(wn.span,{"data-state":kJ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});SJ.displayName=NJ;var ULe="SwitchBubbleInput",CJ=A.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=A.useRef(null),c=yr(o,s),l=ZH(n),u=N$(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[l,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CJ.displayName=ULe;function kJ(e){return e?"checked":"unchecked"}var AJ=EJ,LLe=SJ;const rs=A.forwardRef(({className:e,...t},n)=>a.jsx(AJ,{className:Ct("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(LLe,{className:Ct("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rs.displayName=AJ.displayName;function MLe({onClose:e,existingProfile:t}){var te,oe,le,ae,Te,Ue,qe,nt;const{user:n}=Ki(),{addTeacher:r,updateTeacher:i}=Xc(),[s,o]=A.useState((t==null?void 0:t.displayName)||(n==null?void 0:n.displayName)||""),[c,l]=A.useState((t==null?void 0:t.bio)||""),[u,d]=A.useState((t==null?void 0:t.photoURL)||(n==null?void 0:n.photoURL)||""),[f,h]=A.useState((t==null?void 0:t.phone)||""),[p,y]=A.useState((t==null?void 0:t.website)||""),[m,g]=A.useState((t==null?void 0:t.offlineAddress)||""),[v,x]=A.useState((t==null?void 0:t.qualifications)||[]),[b,w]=A.useState(""),[T,C]=A.useState((t==null?void 0:t.certificates)||[]),[_,N]=A.useState({name:"",institution:"",year:"",documentURL:""}),[k,j]=A.useState((t==null?void 0:t.subjects)||[]),[D,E]=A.useState(""),[I,R]=A.useState(((te=t==null?void 0:t.experience)==null?void 0:te.toString())||""),V=(t==null?void 0:t.gsJoinedAt)||(t==null?void 0:t.createdAt)||new Date,M=A.useMemo(()=>{const Oe=new Date(V),Ze=new Date().getTime()-Oe.getTime();return Math.floor(Ze/(1e3*60*60*24*30))},[V]),[H,G]=A.useState({youtube:((oe=t==null?void 0:t.socialLinks)==null?void 0:oe.youtube)||"",facebook:((le=t==null?void 0:t.socialLinks)==null?void 0:le.facebook)||"",twitter:((ae=t==null?void 0:t.socialLinks)==null?void 0:ae.twitter)||"",linkedin:((Te=t==null?void 0:t.socialLinks)==null?void 0:Te.linkedin)||"",instagram:((Ue=t==null?void 0:t.socialLinks)==null?void 0:Ue.instagram)||""}),[P,W]=A.useState((t==null?void 0:t.consultationEnabled)||!1),[F,O]=A.useState(((qe=t==null?void 0:t.consultationRate)==null?void 0:qe.toString())||""),[L,K]=A.useState(((nt=t==null?void 0:t.consultationDuration)==null?void 0:nt.toString())||"30"),[Q,U]=A.useState(!1),[Z,pe]=A.useState(""),[me,ye]=A.useState("basic");A.useRef(null),A.useRef(null);const Fe=Oe=>{if(Oe<1)return"New";if(Oe<12)return`${Oe} month${Oe>1?"s":""}`;const Le=Math.floor(Oe/12),Ze=Oe%12;return Ze===0?`${Le} year${Le>1?"s":""}`:`${Le} year${Le>1?"s":""} ${Ze} month${Ze>1?"s":""}`},Y=()=>{b.trim()&&(x([...v,b.trim()]),w(""))},ve=Oe=>{x(v.filter((Le,Ze)=>Ze!==Oe))},B=()=>{if(_.name.trim()){const Oe={id:`cert_${Date.now()}`,name:_.name.trim(),institution:_.institution.trim()||void 0,year:_.year.trim()||void 0,documentURL:_.documentURL.trim()||void 0,isVerified:!1};C([...T,Oe]),N({name:"",institution:"",year:"",documentURL:""})}},_e=Oe=>{C(T.filter(Le=>Le.id!==Oe))},Ee=()=>{const Oe=prompt("Enter certificate document URL (image or PDF):");Oe&&N({..._,documentURL:Oe})},se=()=>{D.trim()&&!k.includes(D.trim())&&(j([...k,D.trim()]),E(""))},J=Oe=>{j(k.filter((Le,Ze)=>Ze!==Oe))},de=()=>{const Oe=prompt("Enter photo URL:");Oe&&d(Oe)},X=async()=>{if(n){if(!s.trim()){pe("Display name is required");return}if(!c.trim()){pe("Bio is required");return}if(k.length===0){pe("Add at least one subject");return}U(!0),pe("");try{const Oe={userId:n.id,email:n.email||"",displayName:s.trim(),bio:c.trim(),photoURL:u||void 0,phone:f.trim()||void 0,website:p.trim()||void 0,offlineAddress:m.trim()||void 0,qualifications:v,certificates:T,subjects:k,experience:I?parseInt(I):void 0,gsExperience:M,gsJoinedAt:(t==null?void 0:t.gsJoinedAt)||(t==null?void 0:t.createdAt)||new Date,rating:(t==null?void 0:t.rating)||0,totalRatings:(t==null?void 0:t.totalRatings)||0,totalStudents:(t==null?void 0:t.totalStudents)||0,totalCourses:(t==null?void 0:t.totalCourses)||0,totalEarnings:(t==null?void 0:t.totalEarnings)||0,isVerified:(t==null?void 0:t.isVerified)||!1,verificationStatus:(t==null?void 0:t.verificationStatus)||(T.length>0?"pending":void 0),isActive:!0,socialLinks:Object.fromEntries(Object.entries(H).filter(([Le,Ze])=>Ze.trim())),consultationEnabled:P,consultationRate:F?parseFloat(F):void 0,consultationDuration:L?parseInt(L):void 0};t?i(t.id,Oe):r({id:`teacher_${n.id}`,...Oe,createdAt:new Date,updatedAt:new Date}),e()}catch{pe("Failed to save profile. Please try again.")}finally{U(!1)}}},ue=[{id:"basic",label:"Basic Info",icon:Ax},{id:"qualifications",label:"Qualification Certificate",icon:$l},{id:"consultation",label:"Consultation",icon:$2}];return a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(sn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 overflow-hidden border-2 border-white/40",children:u?a.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Ax,{className:"w-10 h-10 text-white/60"})})}),a.jsx("button",{onClick:de,className:"absolute bottom-0 right-0 p-2 bg-white text-indigo-600 rounded-full shadow-lg hover:bg-gray-100 transition-colors",title:"Upload Photo",children:a.jsx(Dge,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Teacher Profile":"Create Teacher Profile"}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Set up your profile to start teaching"}),t&&a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-white/20 rounded-full text-xs font-medium",children:[a.jsx(km,{className:"w-3.5 h-3.5"}),"GS Experience: ",Fe(M)]}),t.isVerified&&a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-emerald-500/30 rounded-full text-xs font-medium",children:[a.jsx(Sv,{className:"w-3 h-3"}),"Verified"]})]})]})]}),a.jsx("div",{className:"flex gap-2 mt-6 -mb-6 relative z-10",children:ue.map(Oe=>a.jsxs("button",{onClick:()=>ye(Oe.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-xl font-medium text-sm transition-all ${me===Oe.id?"bg-white dark:bg-gray-900 text-indigo-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[a.jsx(Oe.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:Oe.label})]},Oe.id))})]}),a.jsx(dr,{children:Z&&a.jsxs(ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-50 dark:bg-red-900/30 px-6 py-3 flex items-center gap-2 text-red-600 dark:text-red-400",children:[a.jsx(P0,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:Z})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:a.jsxs(dr,{mode:"wait",children:[me==="basic"&&a.jsxs(ct.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-5",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Profile Photo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden border-2 border-dashed border-gray-300 dark:border-gray-600",children:u?a.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(D4,{className:"w-8 h-8 text-gray-400"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(ge,{type:"button",variant:"outline",size:"sm",onClick:de,className:"mb-2",children:[a.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x400px, JPG or PNG"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ax,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:s,onChange:Oe=>o(Oe.target.value),placeholder:"Your full name",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio *"}),a.jsx(Hn,{value:c,onChange:Oe=>l(Oe.target.value),placeholder:"Tell students about yourself, your teaching style, and experience...",rows:4,className:"resize-none"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/500 characters"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx($ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:f,onChange:Oe=>h(Oe.target.value),placeholder:"+91 XXXXX XXXXX",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(D_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:p,onChange:Oe=>y(Oe.target.value),placeholder:"https://yourwebsite.com",className:"pl-10"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Offline Teaching Address (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bge,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx(Hn,{value:m,onChange:Oe=>g(Oe.target.value),placeholder:"Enter your coaching center or offline teaching address...",rows:2,className:"pl-10 resize-none"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This helps students find you for offline classes"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Offline Teaching Experience (Years)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Age,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{type:"number",value:I,onChange:Oe=>R(Oe.target.value),placeholder:"e.g., 5",min:"0",max:"50",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GS Platform Experience"}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded-lg",children:[a.jsx(km,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),a.jsx("span",{className:"text-indigo-700 dark:text-indigo-300 font-medium",children:t?Fe(M):"New Teacher"})]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated based on your GS journey"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Social Links (Optional)"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(H).map(([Oe,Le])=>a.jsx(et,{value:Le,onChange:Ze=>G({...H,[Oe]:Ze.target.value}),placeholder:`${Oe.charAt(0).toUpperCase()+Oe.slice(1)} URL`,className:"text-sm"},Oe))})]})]},"basic"),me==="qualifications"&&a.jsxs(ct.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subjects You Teach *"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:D,onChange:Oe=>E(Oe.target.value),placeholder:"e.g., Mathematics, Physics",className:"pl-10",onKeyDown:Oe=>Oe.key==="Enter"&&se()})]}),a.jsx(ge,{onClick:se,size:"sm",className:"px-4",children:a.jsx(Yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.map((Oe,Le)=>a.jsxs(ct.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-full text-sm",children:[Oe,a.jsx("button",{onClick:()=>J(Le),className:"p-0.5 hover:bg-indigo-200 dark:hover:bg-indigo-800 rounded-full",children:a.jsx(sn,{className:"w-3 h-3"})})]},Le)),k.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No subjects added yet"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Qualifications"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(f0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:b,onChange:Oe=>w(Oe.target.value),placeholder:"e.g., M.Sc. in Physics, B.Ed.",className:"pl-10",onKeyDown:Oe=>Oe.key==="Enter"&&Y()})]}),a.jsx(ge,{onClick:Y,size:"sm",className:"px-4",children:a.jsx(Yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[v.map((Oe,Le)=>a.jsxs(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ga,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Oe})]}),a.jsx("button",{onClick:()=>ve(Le),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:a.jsx(wr,{className:"w-4 h-4"})})]},Le)),v.length===0&&a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx($l,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Add your qualifications to build trust"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Certificates for Verification"}),a.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Sv,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"Get Verified Badge"}),a.jsx("p",{className:"text-amber-600 dark:text-amber-400",children:"Upload your certificates to get verified by admin. Verified teachers get a badge that builds trust with students."})]})]})}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl mb-4 space-y-3",children:[a.jsx(et,{value:_.name,onChange:Oe=>N({..._,name:Oe.target.value}),placeholder:"Certificate name (e.g., B.Ed. Certificate)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(et,{value:_.institution,onChange:Oe=>N({..._,institution:Oe.target.value}),placeholder:"Institution (optional)"}),a.jsx(et,{value:_.year,onChange:Oe=>N({..._,year:Oe.target.value}),placeholder:"Year (optional)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(et,{value:_.documentURL,onChange:Oe=>N({..._,documentURL:Oe.target.value}),placeholder:"Document URL (link to certificate image/PDF)",className:"flex-1"}),a.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:Ee,className:"px-3",children:a.jsx(Ic,{className:"w-4 h-4"})})]}),a.jsxs(ge,{onClick:B,disabled:!_.name.trim(),className:"w-full",children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Certificate"]})]}),T.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:["Your Certificates (",T.length,")"]}),a.jsx("div",{className:"space-y-2",children:T.map(Oe=>a.jsxs(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(s6,{className:"w-5 h-5 text-indigo-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Oe.name}),(Oe.institution||Oe.year)&&a.jsxs("p",{className:"text-xs text-gray-500",children:[Oe.institution,Oe.institution&&Oe.year?"  ":"",Oe.year]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[Oe.isVerified?a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[a.jsx(km,{className:"w-3 h-3"}),"Verified"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-600 dark:text-amber-400",children:[a.jsx(Ir,{className:"w-3 h-3"}),"Pending Verification"]}),Oe.documentURL&&a.jsx("a",{href:Oe.documentURL,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:"View Document"})]})]})]}),a.jsx("button",{onClick:()=>_e(Oe.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:a.jsx(wr,{className:"w-4 h-4"})})]},Oe.id))})]}),T.length===0&&a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx(s6,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No certificates added yet"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add certificates above to get verified"})]})]})]},"qualifications"),me==="consultation"&&a.jsxs(ct.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/30 dark:to-indigo-900/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:a.jsx($2,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Enable 1-on-1 Consultation"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow students to book private sessions with you"})]})]}),a.jsx(rs,{checked:P,onCheckedChange:W})]}),a.jsx(dr,{children:P&&a.jsxs(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate per Session ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(et,{type:"number",value:F,onChange:Oe=>O(Oe.target.value),placeholder:"500",min:"0",className:"pl-8"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session Duration (minutes)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsxs("select",{value:L,onChange:Oe=>K(Oe.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"15",children:"15 minutes"}),a.jsx("option",{value:"30",children:"30 minutes"}),a.jsx("option",{value:"45",children:"45 minutes"}),a.jsx("option",{value:"60",children:"60 minutes"}),a.jsx("option",{value:"90",children:"90 minutes"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ol,{className:"w-5 h-5 text-indigo-500"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[L," min session"]})]}),a.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:["",F||"0"]})]})]})]})}),!P&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(I_,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsxs("p",{className:"text-sm",children:["Enable consultation to offer personal guidance",a.jsx("br",{}),"and earn extra income"]})]})]},"consultation")]})}),a.jsx("div",{className:"p-6 border-t dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:e,disabled:Q,children:"Cancel"}),a.jsx(ge,{onClick:X,disabled:Q,className:"min-w-[120px]",children:Q?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(po,{className:"w-4 h-4"}),"Save Profile"]})})]})})]})})}const BLe=["Science","Mathematics","Languages","Computer Science","Business","Arts","Music","Health & Fitness","Personal Development","Test Preparation","Competitive Exams","School Education","Other"],VLe=[{value:"beginner",label:"Beginner",description:"No prior knowledge needed"},{value:"intermediate",label:"Intermediate",description:"Some basics required"},{value:"advanced",label:"Advanced",description:"Strong foundation needed"},{value:"all",label:"All Levels",description:"Suitable for everyone"}];function WLe({onClose:e,existingCourse:t}){var qe,nt,Oe;const{user:n}=Ki(),{addCourse:r,updateCourse:i,teachers:s,teacherProfile:o}=Xc(),c=s.find(Le=>Le.userId===(n==null?void 0:n.id))??((o==null?void 0:o.userId)===(n==null?void 0:n.id)?o:void 0),[l,u]=A.useState("basic"),[d,f]=A.useState((t==null?void 0:t.title)||""),[h,p]=A.useState((t==null?void 0:t.subtitle)||""),[y,m]=A.useState((t==null?void 0:t.description)||""),[g,v]=A.useState((t==null?void 0:t.thumbnail)||""),[x,b]=A.useState((t==null?void 0:t.category)||""),[w,T]=A.useState((t==null?void 0:t.level)||"beginner"),[C,_]=A.useState((t==null?void 0:t.language)||"English"),[N,k]=A.useState((t==null?void 0:t.whatYouWillLearn)||[""]),[j,D]=A.useState((t==null?void 0:t.requirements)||[""]),[E,I]=A.useState((t==null?void 0:t.tags)||[]),[R,V]=A.useState(""),[M,H]=A.useState(((qe=t==null?void 0:t.price)==null?void 0:qe.toString())||""),[G,P]=A.useState(((nt=t==null?void 0:t.discountPrice)==null?void 0:nt.toString())||""),[W,F]=A.useState((t==null?void 0:t.currency)||"INR"),[O,L]=A.useState((t==null?void 0:t.isPublished)||!1),[K,Q]=A.useState((t==null?void 0:t.hasCertificate)||!1),[U,Z]=A.useState((t==null?void 0:t.hasPreview)!==!1),[pe,me]=A.useState(((Oe=t==null?void 0:t.estimatedDuration)==null?void 0:Oe.toString())||""),[ye,Fe]=A.useState(!1),[Y,ve]=A.useState(""),B=[{id:"basic",label:"Basic Info",icon:Hr},{id:"content",label:"Content",icon:Sr},{id:"pricing",label:"Pricing",icon:Ob},{id:"settings",label:"Settings",icon:o6}],_e=B.findIndex(Le=>Le.id===l),Ee=()=>{k([...N,""])},se=(Le,Ze)=>{const it=[...N];it[Le]=Ze,k(it)},J=Le=>{k(N.filter((Ze,it)=>it!==Le))},de=()=>{D([...j,""])},X=(Le,Ze)=>{const it=[...j];it[Le]=Ze,D(it)},ue=Le=>{D(j.filter((Ze,it)=>it!==Le))},te=()=>{R.trim()&&!E.includes(R.trim())&&(I([...E,R.trim()]),V(""))},oe=Le=>{I(E.filter((Ze,it)=>it!==Le))},le=Le=>{switch(Le){case"basic":if(!d.trim())return ve("Course title is required"),!1;if(!x)return ve("Please select a category"),!1;break;case"content":break;case"pricing":if(!M||parseFloat(M)<0)return ve("Please set a valid price"),!1;if(G&&parseFloat(G)>=parseFloat(M))return ve("Discount price must be less than original price"),!1;break}return ve(""),!0},ae=()=>{if(!le(l))return;const Le=_e+1;Le<B.length&&u(B[Le].id)},Te=()=>{const Le=_e-1;Le>=0&&(u(B[Le].id),ve(""))},Ue=async()=>{if(!n||!c){ve("Teacher profile not found");return}for(const Le of B)if(!le(Le.id)){u(Le.id);return}Fe(!0),ve("");try{const Le={teacherId:c.id,teacherName:c.displayName,teacherPhoto:c.photoURL,title:d.trim(),subtitle:h.trim()||void 0,description:y.trim(),thumbnail:g.trim()||void 0,category:x,level:w,language:C,price:parseFloat(M),discountPrice:G?parseFloat(G):void 0,currency:W,isPublished:O,hasCertificate:K,hasPreview:U,whatYouWillLearn:N.filter(Ze=>Ze.trim()),requirements:j.filter(Ze=>Ze.trim()),tags:E,totalSections:(t==null?void 0:t.totalSections)||0,totalLessons:(t==null?void 0:t.totalLessons)||0,totalDuration:(t==null?void 0:t.totalDuration)||0,estimatedDuration:pe?parseInt(pe):void 0,rating:(t==null?void 0:t.rating)||0,totalReviews:(t==null?void 0:t.totalReviews)||0,totalStudents:(t==null?void 0:t.totalStudents)||0};t?i({...t,...Le,updatedAt:new Date}):r({id:`course_${Date.now()}`,...Le,createdAt:new Date,updatedAt:new Date}),e()}catch{ve("Failed to save course. Please try again.")}finally{Fe(!1)}};return a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(sn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx($l,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Course":"Create New Course"}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Share your knowledge with students"})]})]}),a.jsx("div",{className:"flex items-center justify-between mt-6 -mb-6 relative z-10",children:B.map((Le,Ze)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{Ze<=_e&&u(Le.id)},className:`flex items-center gap-2 px-4 py-2 rounded-t-xl font-medium text-sm transition-all ${l===Le.id?"bg-white dark:bg-gray-900 text-emerald-600":Ze<_e?"bg-emerald-500 text-white":"bg-white/20 text-white/70"}`,children:[Ze<_e?a.jsx(ga,{className:"w-4 h-4"}):a.jsx(Le.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:Le.label})]}),Ze<B.length-1&&a.jsx("div",{className:`flex-1 h-0.5 mx-2 ${Ze<_e?"bg-emerald-400":"bg-white/30"}`})]},Le.id))})]}),a.jsx(dr,{children:Y&&a.jsxs(ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-50 dark:bg-red-900/30 px-6 py-3 flex items-center gap-2 text-red-600 dark:text-red-400",children:[a.jsx(P0,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:Y})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs(dr,{mode:"wait",children:[l==="basic"&&a.jsxs(ct.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course Title *"}),a.jsx(et,{value:d,onChange:Le=>f(Le.target.value),placeholder:"e.g., Complete Mathematics for Class 10",maxLength:100}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/100 characters"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle (Optional)"}),a.jsx(et,{value:h,onChange:Le=>p(Le.target.value),placeholder:"A brief tagline for your course",maxLength:150})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),a.jsx(Hn,{value:y,onChange:Le=>m(Le.target.value),placeholder:"Describe what students will learn, what's included, and who this course is for...",rows:5,className:"resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),a.jsxs("select",{value:x,onChange:Le=>b(Le.target.value),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Select category"}),BLe.map(Le=>a.jsx("option",{value:Le,children:Le},Le))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),a.jsxs("select",{value:C,onChange:Le=>_(Le.target.value),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"English",children:"English"}),a.jsx("option",{value:"Hindi",children:"Hindi"}),a.jsx("option",{value:"Bengali",children:"Bengali"}),a.jsx("option",{value:"Tamil",children:"Tamil"}),a.jsx("option",{value:"Telugu",children:"Telugu"}),a.jsx("option",{value:"Marathi",children:"Marathi"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Course Level *"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:VLe.map(Le=>a.jsxs("button",{onClick:()=>T(Le.value),className:`p-3 rounded-xl border-2 text-left transition-all ${w===Le.value?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30":"border-gray-200 dark:border-gray-700 hover:border-emerald-300"}`,children:[a.jsx("p",{className:`font-medium text-sm ${w===Le.value?"text-emerald-600":"text-gray-900 dark:text-white"}`,children:Le.label}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Le.description})]},Le.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Thumbnail URL (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(D4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:g,onChange:Le=>v(Le.target.value),placeholder:"https://example.com/course-image.jpg",className:"pl-10"})]}),g&&a.jsx("div",{className:"mt-3 rounded-xl overflow-hidden",children:a.jsx("img",{src:g,alt:"Thumbnail preview",className:"w-full h-40 object-cover"})})]})]},"basic"),l==="content"&&a.jsxs(ct.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What Students Will Learn (Optional)"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Add learning outcomes to describe what students will achieve"}),a.jsx("div",{className:"space-y-2",children:N.map((Le,Ze)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-10 flex items-center justify-center",children:a.jsx(ga,{className:"w-5 h-5 text-emerald-500"})}),a.jsx(et,{value:Le,onChange:it=>se(Ze,it.target.value),placeholder:`Learning outcome ${Ze+1}`}),N.length>1&&a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>J(Ze),className:"text-gray-400 hover:text-red-500",children:a.jsx(sn,{className:"w-4 h-4"})})]},Ze))}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:Ee,className:"mt-3",children:[a.jsx(I_,{className:"w-4 h-4 mr-2"}),"Add Learning Outcome"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Requirements (Optional)"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"What do students need before starting?"}),a.jsx("div",{className:"space-y-2",children:j.map((Le,Ze)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(et,{value:Le,onChange:it=>X(Ze,it.target.value),placeholder:`Requirement ${Ze+1}`}),j.length>1&&a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>ue(Ze),className:"text-gray-400 hover:text-red-500",children:a.jsx(sn,{className:"w-4 h-4"})})]},Ze))}),a.jsx(ge,{variant:"outline",size:"sm",onClick:de,className:"mt-3",children:"Add Requirement"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(o6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{value:R,onChange:Le=>V(Le.target.value),placeholder:"Add a tag",className:"pl-10",onKeyDown:Le=>Le.key==="Enter"&&te()})]}),a.jsx(ge,{onClick:te,size:"sm",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:E.map((Le,Ze)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 rounded-full text-sm",children:["#",Le,a.jsx("button",{onClick:()=>oe(Ze),className:"hover:text-red-500",children:a.jsx(sn,{className:"w-3 h-3"})})]},Ze))})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Content types you can add:"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{icon:bl,label:"Video Lessons"},{icon:Sr,label:"Notes"},{icon:Fl,label:"Mock Tests"},{icon:_f,label:"Resources"}].map(Le=>a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Le.icon,{className:"w-4 h-4 text-emerald-500"}),a.jsx("span",{children:Le.label})]},Le.label))})]})]},"content"),l==="pricing"&&a.jsxs(ct.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course Price *"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("select",{value:W,onChange:Le=>F(Le.target.value),className:"w-24 px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",children:[a.jsx("option",{value:"INR",children:" INR"}),a.jsx("option",{value:"USD",children:"$ USD"}),a.jsx("option",{value:"BDT",children:" BDT"})]}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ob,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{type:"number",value:M,onChange:Le=>H(Le.target.value),placeholder:"999",min:"0",className:"pl-10"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Discount Price (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ob,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{type:"number",value:G,onChange:Le=>P(Le.target.value),placeholder:"499",min:"0",className:"pl-10"})]}),G&&M&&a.jsx("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/30 rounded-lg",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Students save ",Math.round((1-parseFloat(G)/parseFloat(M))*100),"% (",W==="INR"?"":W==="BDT"?"":"$",parseFloat(M)-parseFloat(G),")"]})})]}),a.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-2xl border border-emerald-200 dark:border-emerald-800",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-3",children:"Price Preview"}),a.jsx("div",{className:"flex items-end gap-3",children:G?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-3xl font-bold text-emerald-600",children:[W==="INR"?"":W==="BDT"?"":"$",G]}),a.jsxs("span",{className:"text-xl text-gray-400 line-through",children:[W==="INR"?"":W==="BDT"?"":"$",M]})]}):a.jsxs("span",{className:"text-3xl font-bold text-emerald-600",children:[W==="INR"?"":W==="BDT"?"":"$",M||"0"]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Make it Free?"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Set price to 0 for free courses"})]}),a.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{H("0"),P("")},children:"Set Free"})]})]},"pricing"),l==="settings"&&a.jsxs(ct.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estimated Course Duration (hours)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{type:"number",value:pe,onChange:Le=>me(Le.target.value),placeholder:"e.g., 10",min:"1",className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center",children:U?a.jsx(Bc,{className:"w-5 h-5 text-blue-600"}):a.jsx(Fz,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Enable Preview"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Let students preview some content before buying"})]})]}),a.jsx(rs,{checked:U,onCheckedChange:Z})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/50 rounded-lg flex items-center justify-center",children:a.jsx($l,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Students get a certificate after completing"})]})]}),a.jsx(rs,{checked:K,onCheckedChange:Q})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-xl border-2 border-emerald-200 dark:border-emerald-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center",children:O?a.jsx(D_,{className:"w-5 h-5 text-white"}):a.jsx(j4,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Publish Course"}),a.jsx("p",{className:"text-sm text-gray-500",children:O?"Course is visible to students":"Course is hidden, only you can see it"})]})]}),a.jsx(rs,{checked:O,onCheckedChange:L})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Course Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Title"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:d||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Category"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:x||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Level"}),a.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:w})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Price"}),a.jsxs("span",{className:"text-emerald-600 font-bold",children:[W==="INR"?"":W==="BDT"?"":"$",G||M||"0"]})]})]})]})]},"settings")]})}),a.jsx("div",{className:"p-6 border-t dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ge,{variant:"outline",onClick:Te,disabled:_e===0||ye,children:[a.jsx(k4,{className:"w-4 h-4 mr-1"}),"Back"]}),_e<B.length-1?a.jsxs(ge,{onClick:ae,children:["Next",a.jsx(xa,{className:"w-4 h-4 ml-1"})]}):a.jsx(ge,{onClick:Ue,disabled:ye,className:"min-w-[140px]",children:ye?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(po,{className:"w-4 h-4"}),t?"Update Course":"Create Course"]})})]})})]})})}const bC={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},qLe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function zLe({courseId:e,onBack:t,onEnroll:n}){const{user:r}=Ki(),{courses:i,teachers:s,sections:o,lessons:c,enrollments:l,reviews:u,addEnrollment:d,addReview:f,updateCourse:h,updateReview:p,markLessonComplete:y,getSectionsByCourse:m,getLessonsBySection:g,isEnrolled:v,getEnrollmentsByStudent:x}=Xc(),b=i.find(X=>X.id===e),w=b?s.find(X=>X.id===b.teacherId):null,T=b?m(b.id):[],C=b?u.filter(X=>X.courseId===b.id):[],_=r?v(e,r.id):!1,N=r?x(r.id).find(X=>X.courseId===e):null,k=r?C.find(X=>X.studentId===r.id):null,[j,D]=A.useState([]),[E,I]=A.useState("overview"),[R,V]=A.useState(!1),[M,H]=A.useState(!1),[G,P]=A.useState(5),[W,F]=A.useState(""),[O,L]=A.useState(0),[K,Q]=A.useState(!1),[U,Z]=A.useState(null),[pe,me]=A.useState(null),[ye,Fe]=A.useState(""),Y=r&&b&&r.id===b.teacherId,ve=(N==null?void 0:N.completedLessonIds)||[],B=X=>{D(ue=>ue.includes(X)?ue.filter(te=>te!==X):[...ue,X])},_e=()=>{if(!r||!b||!W.trim())return;const X={id:`review_${Date.now()}`,courseId:b.id,studentId:r.id,studentName:r.displayName||"Anonymous",studentPhoto:r.photoURL,rating:G,review:W.trim(),isVerifiedPurchase:_,helpfulCount:0,reportCount:0,status:"published",createdAt:Date.now(),updatedAt:Date.now()};f(X);const ue=[...C,X],te=ue.reduce((oe,le)=>oe+le.rating,0)/ue.length;h({...b,rating:Math.round(te*10)/10,totalReviews:ue.length}),F(""),P(5),H(!1)},Ee=A.useMemo(()=>{const X=T.flatMap(ae=>g(ae.id)),ue=X.reduce((ae,Te)=>ae+(Te.duration||0),0),te=X.filter(ae=>ae.type==="video").length,oe=X.filter(ae=>ae.type==="quiz").length,le=X.filter(ae=>ae.isPreviewable).length;return{totalLessons:X.length,totalDuration:ue,videoLessons:te,quizLessons:oe,previewLessons:le}},[T,g]),se=X=>{if(X<60)return`${X}m`;const ue=Math.floor(X/60),te=X%60;return te>0?`${ue}h ${te}m`:`${ue}h`},J=()=>{if(!r||!b||!w)return;const X={id:`enrollment_${Date.now()}`,courseId:b.id,courseTitle:b.title,teacherId:w.id,teacherName:w.displayName,studentId:r.id,studentName:r.displayName||"Student",studentEmail:r.email||"",pricing:b.price===0?"free":"paid",pricePaid:b.discountPrice||b.price,progress:0,completedLessons:0,lastAccessedAt:Date.now(),status:"active",enrolledAt:Date.now()};d(X),h({...b,totalStudents:b.totalStudents+1}),V(!1),Q(!0),setTimeout(()=>Q(!1),3e3)},de=X=>{switch(X){case"video":return bl;case"note":return Sr;case"quiz":return Fl;case"link":return _f;case"live-class":return Ol;default:return Sr}};return b?a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[a.jsx("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-white/80 hover:text-white mb-6 transition-colors",children:[a.jsx(Lc,{className:"w-5 h-5"}),"Back to Courses"]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs(ct.div,{variants:bC,initial:"hidden",animate:"visible",className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm",children:b.category}),a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm capitalize",children:b.level}),b.hasCertificate&&a.jsxs("span",{className:"px-3 py-1 bg-amber-500/80 rounded-full text-sm flex items-center gap-1",children:[a.jsx(f0,{className:"w-3 h-3"}),"Certificate"]})]}),a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:b.title}),b.subtitle&&a.jsx("p",{className:"text-lg text-white/80",children:b.subtitle}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),a.jsx("span",{className:"font-semibold",children:b.rating.toFixed(1)}),a.jsxs("span",{className:"text-white/70",children:["(",b.totalReviews," reviews)"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-white/80",children:[a.jsx(Jo,{className:"w-4 h-4"}),a.jsxs("span",{children:[b.totalStudents," students"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-white/80",children:[a.jsx(Ir,{className:"w-4 h-4"}),a.jsx("span",{children:se(Ee.totalDuration)})]}),a.jsxs("div",{className:"flex items-center gap-1 text-white/80",children:[a.jsx(bl,{className:"w-4 h-4"}),a.jsxs("span",{children:[Ee.totalLessons," lessons"]})]})]}),w&&a.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 overflow-hidden",children:w.photoURL?a.jsx("img",{src:w.photoURL,alt:w.displayName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-lg font-medium",children:w.displayName[0]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[w.displayName,w.isVerified&&a.jsx(km,{className:"w-4 h-4 text-blue-400"})]}),a.jsx("p",{className:"text-sm text-white/70",children:w.subjects.slice(0,2).join(", ")})]})]})]}),a.jsx(ct.div,{variants:bC,initial:"hidden",animate:"visible",className:"lg:col-span-1",children:a.jsxs(dt,{className:"sticky top-6 overflow-hidden border-0 shadow-2xl",children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-gray-800",children:[b.thumbnail?a.jsx("img",{src:b.thumbnail,alt:b.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx($l,{className:"w-16 h-16 text-gray-400"})}),b.hasPreview&&Ee.previewLessons>0&&a.jsx("button",{className:"absolute inset-0 flex items-center justify-center bg-black/40 hover:bg-black/50 transition-colors",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-white flex items-center justify-center",children:a.jsx(Hge,{className:"w-10 h-10 text-indigo-600"})})})]}),a.jsxs(Lt,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-baseline gap-3",children:[a.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:b.price===0?"Free":a.jsxs(a.Fragment,{children:[b.currency==="INR"?"":b.currency==="BDT"?"":"$",b.discountPrice||b.price]})}),b.discountPrice&&b.price>0&&a.jsxs("span",{className:"text-lg text-gray-400 line-through",children:[b.currency==="INR"?"":b.currency==="BDT"?"":"$",b.price]}),b.discountPrice&&a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-sm font-medium rounded",children:[Math.round((1-b.discountPrice/b.price)*100),"% OFF"]})]}),_?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ge,{className:"w-full",size:"lg",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Continue Learning"]}),N&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Your progress"}),a.jsxs("span",{className:"font-medium",children:[Math.round(N.progress),"%"]})]}),a.jsx(Fy,{value:N.progress,className:"h-2"})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{className:"w-full",size:"lg",onClick:()=>V(!0),children:b.price===0?"Enroll for Free":"Enroll Now"}),a.jsxs(ge,{variant:"outline",className:"w-full",children:[a.jsx(Uge,{className:"w-4 h-4 mr-2"}),"Add to Wishlist"]})]}),a.jsxs("div",{className:"pt-4 space-y-3 border-t dark:border-gray-800",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"This course includes:"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(bl,{className:"w-4 h-4 text-indigo-500"}),Ee.videoLessons," video lessons"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Fl,{className:"w-4 h-4 text-indigo-500"}),Ee.quizLessons," quizzes"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"w-4 h-4 text-indigo-500"}),se(Ee.totalDuration)," total content"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(D_,{className:"w-4 h-4 text-indigo-500"}),"Full lifetime access"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($c,{className:"w-4 h-4 text-indigo-500"}),"Downloadable resources"]}),b.hasCertificate&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(f0,{className:"w-4 h-4 text-amber-500"}),"Certificate of completion"]})]})]}),a.jsx("div",{className:"pt-4 border-t dark:border-gray-800",children:a.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-indigo-600 transition-colors",onClick:async()=>{const X=window.location.href,ue=b.title,te=b.description.slice(0,100)+"...";if(navigator.share)try{await navigator.share({title:ue,text:te,url:X})}catch{}else try{await navigator.clipboard.writeText(X),alert("Link copied to clipboard!")}catch{const le=document.createElement("textarea");le.value=X,document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le),alert("Link copied to clipboard!")}},children:[a.jsx(Gge,{className:"w-4 h-4"}),"Share this course"]})})]})]})})]})]})}),a.jsx("div",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b dark:border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsx("div",{className:"flex gap-6 overflow-x-auto",children:["overview","curriculum","reviews"].map(X=>a.jsx("button",{onClick:()=>I(X),className:`py-4 px-2 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${E===X?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-white"}`,children:X.charAt(0).toUpperCase()+X.slice(1)},X))})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:a.jsx("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(dr,{mode:"wait",children:[E==="overview"&&a.jsxs(ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"About this course"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line",children:b.description})]}),b.whatYouWillLearn&&b.whatYouWillLearn.length>0&&a.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-2xl",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(m0,{className:"w-5 h-5 text-indigo-600"}),"What you'll learn"]}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:b.whatYouWillLearn.map((X,ue)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ga,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:X})]},ue))})]}),b.requirements&&b.requirements.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(qz,{className:"w-5 h-5 text-amber-500"}),"Requirements"]}),a.jsx("ul",{className:"space-y-2",children:b.requirements.map((X,ue)=>a.jsxs("li",{className:"flex items-start gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mt-2"}),X]},ue))})]}),w&&a.jsxs("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-2xl border dark:border-gray-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Your Instructor"}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden flex-shrink-0",children:w.photoURL?a.jsx("img",{src:w.photoURL,alt:w.displayName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-medium text-gray-500",children:w.displayName[0]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white flex items-center gap-2",children:[w.displayName,w.isVerified&&a.jsx(km,{className:"w-5 h-5 text-blue-500"})]}),a.jsx("p",{className:"text-gray-500 text-sm",children:w.subjects.join(", ")}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),w.rating.toFixed(1)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Jo,{className:"w-4 h-4"}),w.totalStudents," students"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"w-4 h-4"}),w.totalCourses," courses"]})]}),a.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400 text-sm line-clamp-3",children:w.bio})]})]})]})]},"overview"),E==="curriculum"&&a.jsxs(ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Course Content"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[T.length," sections  ",Ee.totalLessons," lessons "," ",se(Ee.totalDuration)]})]}),T.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[a.jsx(Hr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No content available yet"})]}):a.jsx(ct.div,{variants:qLe,initial:"hidden",animate:"visible",className:"space-y-3",children:T.sort((X,ue)=>X.order-ue.order).map((X,ue)=>{const te=g(X.id).sort((le,ae)=>le.order-ae.order),oe=j.includes(X.id);return a.jsxs(ct.div,{variants:bC,className:"border dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-gray-900",children:[a.jsxs("button",{onClick:()=>B(X.id),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 font-medium text-sm flex items-center justify-center",children:ue+1}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:X.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[te.length," lessons"]})]})]}),oe?a.jsx(Rz,{className:"w-5 h-5 text-gray-400"}):a.jsx(Mc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx(dr,{children:oe&&a.jsx(ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t dark:border-gray-800",children:te.map((le,ae)=>{const Te=de(le.type),Ue=!_&&!le.isPreviewable,qe=ve.includes(le.id);return a.jsxs("div",{onClick:()=>{Ue||Z(le)},className:`p-4 flex items-center justify-between border-b dark:border-gray-800 last:border-0 ${Ue?"opacity-60":"hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${qe?"bg-green-100 dark:bg-green-900/50 text-green-600":le.type==="video"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600":le.type==="quiz"?"bg-amber-100 dark:bg-amber-900/50 text-amber-600":"bg-gray-100 dark:bg-gray-800 text-gray-600"}`,children:qe?a.jsx(fa,{className:"w-4 h-4"}):a.jsx(Te,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium text-sm ${qe?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"}`,children:le.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{className:"capitalize",children:le.type}),le.duration&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:se(le.duration)})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[le.isPreviewable&&!_&&a.jsx("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 text-xs rounded-full",children:"Preview"}),Ue?a.jsx(j4,{className:"w-4 h-4 text-gray-400"}):a.jsx(Zo,{className:"w-4 h-4 text-indigo-600"})]})]},le.id)})})})]},X.id)})})]},"curriculum"),E==="reviews"&&a.jsxs(ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[a.jsx("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-2xl border dark:border-gray-800",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-5xl font-bold text-gray-900 dark:text-white",children:b.rating.toFixed(1)}),a.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[1,2,3,4,5].map(X=>a.jsx(Sc,{className:`w-5 h-5 ${X<=Math.round(b.rating)?"text-amber-400 fill-amber-400":"text-gray-300"}`},X))}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[b.totalReviews," reviews"]})]}),r&&!k&&a.jsxs(ge,{onClick:()=>H(!0),className:"ml-auto",children:[a.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Write a Review"]})]})}),M&&a.jsxs(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-6 bg-white dark:bg-gray-900 rounded-2xl border dark:border-gray-800",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Write Your Review"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Your Rating"}),a.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(X=>a.jsx("button",{type:"button",onClick:()=>P(X),onMouseEnter:()=>L(X),onMouseLeave:()=>L(0),className:"p-1 transition-transform hover:scale-110",children:a.jsx(Sc,{className:`w-8 h-8 ${X<=(O||G)?"text-amber-400 fill-amber-400":"text-gray-300"}`})},X)),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:G===5?"Excellent!":G===4?"Very Good":G===3?"Good":G===2?"Fair":"Poor"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Your Review"}),a.jsx("textarea",{value:W,onChange:X=>F(X.target.value),placeholder:"Share your experience with this course...",className:"w-full h-32 p-3 rounded-lg border dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ge,{variant:"outline",onClick:()=>{H(!1),F(""),P(5)},children:"Cancel"}),a.jsx(ge,{onClick:_e,disabled:!W.trim(),children:"Submit Review"})]})]}),C.length===0&&!M?a.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[a.jsx(IN,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No reviews yet"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Be the first to review this course!"}),r&&a.jsxs(ge,{onClick:()=>H(!0),className:"mt-4",children:[a.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Write a Review"]})]}):C.length>0&&a.jsx("div",{className:"space-y-4",children:C.map(X=>a.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-xl border dark:border-gray-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-sm font-medium",children:X.studentName[0]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:X.studentName}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(ue=>a.jsx(Sc,{className:`w-4 h-4 ${ue<=X.rating?"text-amber-400 fill-amber-400":"text-gray-300"}`},ue))})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:X.review}),X.teacherReply&&a.jsxs("div",{className:"mt-3 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border-l-4 border-indigo-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(km,{className:"w-4 h-4 text-indigo-600"}),a.jsx("span",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-400",children:"Teacher's Response"})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:X.teacherReply})]}),Y&&!X.teacherReply&&a.jsx(a.Fragment,{children:pe===X.id?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("textarea",{value:ye,onChange:ue=>Fe(ue.target.value),placeholder:"Write your response...",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700 text-sm resize-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{me(null),Fe("")},children:"Cancel"}),a.jsxs(ge,{size:"sm",disabled:!ye.trim(),onClick:()=>{p({...X,teacherReply:ye.trim(),teacherRepliedAt:Date.now(),updatedAt:Date.now()}),me(null),Fe("")},children:[a.jsx(IN,{className:"w-4 h-4 mr-1"}),"Reply"]})]})]}):a.jsxs(ge,{variant:"ghost",size:"sm",className:"mt-2 text-indigo-600",onClick:()=>me(X.id),children:[a.jsx(IN,{className:"w-4 h-4 mr-1"}),"Reply as Teacher"]})})]})]})},X.id))})]},"reviews")]})})})}),a.jsx(dr,{children:R&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>V(!1),children:a.jsx(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:X=>X.stopPropagation(),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center mx-auto mb-4",children:a.jsx($l,{className:"w-8 h-8 text-indigo-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:b.price===0?"Free Enrollment":"Enroll in Course"}),a.jsx("p",{className:"text-gray-500 mb-6",children:b.price===0?"Start learning today for free!":`Get full access for ${b.currency==="INR"?"":b.currency==="BDT"?"":"$"}${b.discountPrice||b.price}`}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{className:"w-full",size:"lg",onClick:J,children:b.price===0?"Enroll for Free":"Proceed to Payment"}),a.jsx(ge,{variant:"outline",className:"w-full",onClick:()=>V(!1),children:"Cancel"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-4 flex items-center justify-center gap-1",children:[a.jsx(Qge,{className:"w-4 h-4"}),"30-day money-back guarantee"]})]})})})}),a.jsx(dr,{children:K&&a.jsxs(ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg flex items-center gap-3",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Successfully enrolled! Start learning now."})]})}),a.jsx(dr,{children:U&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>Z(null),children:a.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:X=>X.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-800 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${U.type==="video"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600":U.type==="quiz"?"bg-amber-100 dark:bg-amber-900/50 text-amber-600":"bg-gray-100 dark:bg-gray-800 text-gray-600"}`,children:U.type==="video"?a.jsx(bl,{className:"w-5 h-5"}):U.type==="quiz"?a.jsx(Fl,{className:"w-5 h-5"}):a.jsx(Sr,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:U.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[U.type==="video"?"Video Lesson":U.type==="quiz"?"Quiz":"Reading Material",U.duration&&`  ${se(U.duration)}`]})]})]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>Z(null),children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:U.type==="video"&&U.content?a.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden",children:U.content.includes("youtube.com")||U.content.includes("youtu.be")?a.jsx("iframe",{src:U.content.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/"),className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):U.content.includes("vimeo.com")?a.jsx("iframe",{src:U.content.replace("vimeo.com","player.vimeo.com/video"),className:"w-full h-full",allowFullScreen:!0}):a.jsx("video",{src:U.content,className:"w-full h-full",controls:!0})}):U.type==="note"&&U.content?a.jsx("div",{className:"prose dark:prose-invert max-w-none",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:U.content}})}):U.type==="pdf"&&U.content?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sr,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"PDF Document"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Click below to open the PDF."}),a.jsx(ge,{onClick:()=>window.open(U.content,"_blank"),children:"Open PDF"})]}):U.type==="link"&&U.content?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(_f,{className:"w-16 h-16 text-indigo-500 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"External Resource"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"This lesson links to an external resource."}),a.jsx(ge,{onClick:()=>window.open(U.content,"_blank"),children:"Open Link"})]}):U.type==="live-class"?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(bl,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Live Class"}),U.liveClassStartTime&&a.jsxs("p",{className:"text-gray-500 mb-4",children:["Scheduled: ",new Date(U.liveClassStartTime).toLocaleString()]}),U.liveClassLink&&a.jsx(ge,{onClick:()=>window.open(U.liveClassLink,"_blank"),children:"Join Live Class"})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Content not available"})]})}),_&&N&&a.jsxs("div",{className:"p-4 border-t dark:border-gray-800 flex items-center justify-between bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("div",{className:"flex items-center gap-2",children:ve.includes(U.id)?a.jsxs(a.Fragment,{children:[a.jsx(ga,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Completed"})]}):a.jsx("span",{className:"text-gray-500",children:"Mark this lesson as complete"})}),a.jsx(ge,{onClick:async()=>{ve.includes(U.id)||await y(N.id,U.id),Z(null)},className:ve.includes(U.id)?"bg-green-600 hover:bg-green-700":"",children:ve.includes(U.id)?a.jsxs(a.Fragment,{children:[a.jsx(fa,{className:"w-4 h-4 mr-2"}),"Done"]}):a.jsxs(a.Fragment,{children:[a.jsx(ga,{className:"w-4 h-4 mr-2"}),"Mark as Complete"]})})]})]})})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Hr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Course not found"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"This course may have been removed"}),a.jsxs(ge,{onClick:t,className:"mt-4",children:[a.jsx(Lc,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})})}const AM=[{type:"note",label:"Notes",icon:Sr,color:"blue"},{type:"quiz",label:"Quiz",icon:Dc,color:"green"},{type:"live-test",label:"Live Test",icon:g0,color:"cyan"},{type:"video",label:"Video",icon:bl,color:"purple"},{type:"link",label:"External Link",icon:_f,color:"orange"},{type:"pdf",label:"PDF",icon:Nv,color:"red"},{type:"live-class",label:"Live Class",icon:Ol,color:"pink"}],DM={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]};function $Le({courseId:e,onBack:t}){var Ae;const{courses:n,updateCourse:r}=Xc(),{user:i}=Ki(),{subjects:s,topics:o}=qr(),c=n.find(re=>re.id===e),[l,u]=A.useState(!1),[d,f]=A.useState(new Set),[h,p]=A.useState(!1),[y,m]=A.useState(""),[g,v]=A.useState(null),[x,b]=A.useState(null),[w,T]=A.useState(""),[C,_]=A.useState(""),[N,k]=A.useState([]),[j,D]=A.useState(""),[E,I]=A.useState(["","","",""]),[R,V]=A.useState(0),[M,H]=A.useState(null),[G,P]=A.useState(""),[W,F]=A.useState(""),[O,L]=A.useState(null),[K,Q]=A.useState(null),[U,Z]=A.useState(""),[pe,me]=A.useState(null),[ye,Fe]=A.useState(""),[Y,ve]=A.useState(!1),[B,_e]=A.useState([]),[Ee,se]=A.useState(""),[J,de]=A.useState("all"),[X,ue]=A.useState(""),[te,oe]=A.useState(""),[le,ae]=A.useState(!1),[Te,Ue]=A.useState(null),[qe,nt]=A.useState(!1),[Oe,Le]=A.useState([]),[Ze,it]=A.useState("all"),{subjects:Dt,topics:$t,assets:Pt,selectedSubjectId:xn,selectedTopicId:rn,setSelectedSubject:qn,setSelectedTopic:sr,getTopicsBySubject:Kn}=Gl();A.useEffect(()=>{(async()=>{ae(!0);try{const ke=(await Bn(Et(Pe,"course-assets"))).docs.map(Ne=>Ne.data()).filter(Ne=>!Ne.courseId||Ne.courseId==="global"||Ne.courseId===e);_e(ke.sort((Ne,he)=>he.createdAt-Ne.createdAt))}catch(Ce){console.error("Error loading assets",Ce)}finally{ae(!1)}})()},[e]);const Jn=A.useMemo(()=>B.filter(re=>!(J!=="all"&&re.type!==J||X&&re.subjectId!==X||te&&re.topicId!==te||Ee&&!re.title.toLowerCase().includes(Ee.toLowerCase()))),[B,J,X,te,Ee]),_n=A.useMemo(()=>X?o.filter(re=>re.subjectId===X&&re.isActive):o.filter(re=>re.isActive),[X,o]);if(A.useEffect(()=>{c!=null&&c.sections&&f(new Set(c.sections.map(re=>re.id)))},[c==null?void 0:c.id,c==null?void 0:c.sections]),!c)return a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("p",{className:"text-gray-500",children:"Course not found"}),a.jsx(ge,{onClick:t,className:"mt-4",children:"Go Back"})]});const Ft=c.sections||[],_r=re=>{f(Ce=>{const ke=new Set(Ce);return ke.has(re)?ke.delete(re):ke.add(re),ke})},Jt=()=>{if(!y.trim())return;const re={id:`section-${Date.now()}`,title:y.trim(),lessons:[],order:Ft.length};r({...c,sections:[...Ft,re]}),m(""),p(!1),f(Ce=>new Set([...Ce,re.id]))},ar=()=>{var he;if(!g||!x||!w.trim())return;const re={id:`lesson-${Date.now()}`,title:w.trim(),type:x,content:x==="quiz"||x==="live-test"?"":C,quizQuestions:x==="quiz"||x==="live-test"?N:void 0,duration:0,order:((he=Ft.find(Re=>Re.id===g))==null?void 0:he.lessons.length)||0},Ce=Ft.map(Re=>Re.id===g?{...Re,lessons:[...Re.lessons,re]}:Re);r({...c,sections:Ce});const ke=Zt(),Ne={id:ke,title:w.trim(),type:x,content:x==="quiz"||x==="live-test"?"":C,quizQuestions:x==="quiz"||x==="live-test"?N:void 0,courseId:"global",createdAt:Date.now(),createdBy:i==null?void 0:i.id,createdByName:i==null?void 0:i.displayName};_e(Re=>[Ne,...Re]),xt(Ke(Pe,"course-assets",ke),Ne).catch(Re=>console.error("Error saving asset",Re)),v(null),b(null),T(""),_(""),k([])},Kr=()=>{if(!j.trim()||E.some(Ce=>!Ce.trim()))return;const re={id:`q-${Date.now()}`,question:j.trim(),options:E.map(Ce=>Ce.trim()),correctIndex:R};k([...N,re]),D(""),I(["","","",""]),V(0)},Cr=re=>{const Ce=Ft.filter(ke=>ke.id!==re);r({...c,sections:Ce})},Dn=re=>{if(re===0)return;const Ce=[...Ft];[Ce[re-1],Ce[re]]=[Ce[re],Ce[re-1]],Ce.forEach((ke,Ne)=>ke.order=Ne),r({...c,sections:Ce})},hr=re=>{if(re===Ft.length-1)return;const Ce=[...Ft];[Ce[re],Ce[re+1]]=[Ce[re+1],Ce[re]],Ce.forEach((ke,Ne)=>ke.order=Ne),r({...c,sections:Ce})},er=re=>{if(!U.trim())return;const Ce=Ft.map(ke=>ke.id===re?{...ke,title:U.trim()}:ke);r({...c,sections:Ce}),Q(null),Z("")},or=(re,Ce)=>{var he;const ke={id:`lesson-${Date.now()}`,title:re.title,type:re.type,content:re.content||"",quizQuestions:re.quizQuestions,duration:0,order:((he=Ft.find(Re=>Re.id===Ce))==null?void 0:he.lessons.length)||0},Ne=Ft.map(Re=>Re.id===Ce?{...Re,lessons:[...Re.lessons,ke]}:Re);r({...c,sections:Ne}),ve(!1),Ue(null)},cr=(re,Ce)=>{var ze;let ke="note",Ne="",he;re.type==="mcq"?(ke="quiz",he=re.quizQuestions||[]):re.type==="note"?(ke="note",Ne=re.content||""):re.type==="url"&&(ke="note",Ne=`<a href="${re.url}" target="_blank">${re.title}</a>

${re.description||""}`);const Re={id:`lesson-${Date.now()}`,title:re.title,type:ke,content:Ne,quizQuestions:he,duration:0,order:((ze=Ft.find(Xe=>Xe.id===Ce))==null?void 0:ze.lessons.length)||0},We=Ft.map(Xe=>Xe.id===Ce?{...Xe,lessons:[...Xe.lessons,Re]}:Xe);r({...c,sections:We}),Ue(null)},Tr=(re,Ce)=>{const ke=Ft.map(Ne=>Ne.id===re?{...Ne,lessons:Ne.lessons.filter(he=>he.id!==Ce)}:Ne);r({...c,sections:ke})},ce=(re,Ce)=>{if(!ye.trim())return;const ke=Ft.map(Ne=>Ne.id===re?{...Ne,lessons:Ne.lessons.map(he=>he.id===Ce?{...he,title:ye.trim()}:he)}:Ne);r({...c,sections:ke}),me(null),Fe("")},Se=(re,Ce)=>{if(Ce===0)return;const ke=Ft.map(Ne=>{if(Ne.id===re){const he=[...Ne.lessons];return[he[Ce-1],he[Ce]]=[he[Ce],he[Ce-1]],{...Ne,lessons:he}}return Ne});r({...c,sections:ke})},xe=(re,Ce,ke)=>{if(Ce>=ke-1)return;const Ne=Ft.map(he=>{if(he.id===re){const Re=[...he.lessons];return[Re[Ce],Re[Ce+1]]=[Re[Ce+1],Re[Ce]],{...he,lessons:Re}}return he});r({...c,sections:Ne})},we=re=>{if(!M)return;const Ce=Ft.map(ke=>ke.id===re?{...ke,lessons:ke.lessons.map(Ne=>Ne.id===M.id?{...Ne,title:G,content:W}:Ne)}:ke);r({...c,sections:Ce}),H(null)},ne=re=>{switch(re){case"note":return a.jsx(Sr,{className:"w-4 h-4"});case"quiz":return a.jsx(Dc,{className:"w-4 h-4"});case"live-test":return a.jsx(g0,{className:"w-4 h-4"});case"video":return a.jsx(bl,{className:"w-4 h-4"});case"link":return a.jsx(_f,{className:"w-4 h-4"});case"pdf":return a.jsx(Nv,{className:"w-4 h-4"});case"live-class":return a.jsx(Ol,{className:"w-4 h-4"});default:return a.jsx(Sr,{className:"w-4 h-4"})}},fe=re=>{switch(re){case"note":return"text-blue-500 bg-blue-100 dark:bg-blue-900/30";case"quiz":return"text-green-500 bg-green-100 dark:bg-green-900/30";case"live-test":return"text-cyan-500 bg-cyan-100 dark:bg-cyan-900/30";case"video":return"text-purple-500 bg-purple-100 dark:bg-purple-900/30";case"link":return"text-orange-500 bg-orange-100 dark:bg-orange-900/30";case"pdf":return"text-red-500 bg-red-100 dark:bg-red-900/30";case"live-class":return"text-pink-500 bg-pink-100 dark:bg-pink-900/30";default:return"text-gray-500 bg-gray-100 dark:bg-gray-900/30"}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b dark:border-gray-800",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(Lc,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.title}),a.jsx("p",{className:"text-sm text-gray-500",children:"Course Content Manager"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[l&&a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>ve(!0),className:"gap-2",children:[a.jsx(ma,{className:"w-4 h-4"}),"View Library"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-sm font-medium ${l?"text-gray-400":"text-blue-600"}`,children:"Display"}),a.jsx(rs,{checked:l,onCheckedChange:u}),a.jsx("span",{className:`text-sm font-medium ${l?"text-orange-600":"text-gray-400"}`,children:"Edit Mode"})]})]})]})})}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"space-y-4",children:[Ft.map((re,Ce)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${l?"bg-orange-50 dark:bg-orange-900/20":"bg-gray-50 dark:bg-gray-900/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("button",{onClick:()=>_r(re.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:d.has(re.id)?a.jsx(Mc,{className:"w-5 h-5"}):a.jsx(xa,{className:"w-5 h-5"})}),K===re.id?a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(et,{value:U,onChange:ke=>Z(ke.target.value),className:"h-8",autoFocus:!0,onKeyDown:ke=>{ke.key==="Enter"&&er(re.id),ke.key==="Escape"&&Q(null)}}),a.jsx(ge,{size:"sm",onClick:()=>er(re.id),children:a.jsx(po,{className:"w-4 h-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>Q(null),children:a.jsx(sn,{className:"w-4 h-4"})})]}):a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:re.title}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",re.lessons.length," items)"]})]}),l&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Pl,{className:"w-4 h-4"})})}),a.jsxs(Vc,{align:"end",children:[a.jsxs(Cn,{onClick:()=>{Q(re.id),Z(re.title)},children:[a.jsx(ha,{className:"w-4 h-4 mr-2"}),"Rename"]}),Ce>0&&a.jsxs(Cn,{onClick:()=>Dn(Ce),children:[a.jsx(Ev,{className:"w-4 h-4 mr-2"}),"Move Up"]}),Ce<Ft.length-1&&a.jsxs(Cn,{onClick:()=>hr(Ce),children:[a.jsx(Tv,{className:"w-4 h-4 mr-2"}),"Move Down"]}),a.jsxs(Cn,{onClick:()=>Cr(re.id),className:"text-red-600",children:[a.jsx(wr,{className:"w-4 h-4 mr-2"}),"Delete Topic"]})]})]})]}),a.jsx(dr,{children:d.has(re.id)&&a.jsx(ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsxs("div",{className:"p-4 space-y-2",children:[re.lessons.length===0&&!l&&a.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No content in this topic yet"}),re.lessons.map((ke,Ne)=>a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-all ${l?"bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800":"bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900"}`,children:[a.jsx("div",{className:`p-2 rounded-lg ${fe(ke.type)}`,children:ne(ke.type)}),pe===ke.id?a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(et,{value:ye,onChange:he=>Fe(he.target.value),className:"h-8",autoFocus:!0,onKeyDown:he=>{he.key==="Enter"&&ce(re.id,ke.id),he.key==="Escape"&&me(null)}}),a.jsx(ge,{size:"sm",onClick:()=>ce(re.id,ke.id),children:a.jsx(po,{className:"w-4 h-4"})})]}):a.jsxs("button",{onClick:()=>!l&&L(ke),className:"flex-1 text-left",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ke.title}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2 capitalize",children:["(",ke.type,")"]})]}),l&&a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Pl,{className:"w-4 h-4"})})}),a.jsxs(Vc,{align:"end",children:[a.jsxs(Cn,{onClick:()=>{me(ke.id),Fe(ke.title)},children:[a.jsx(ha,{className:"w-4 h-4 mr-2"}),"Rename"]}),a.jsxs(Cn,{onClick:()=>{H(ke),P(ke.title),F(ke.content||"")},children:[a.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Edit content"]}),a.jsxs(Cn,{onClick:()=>Se(re.id,Ne),disabled:Ne===0,children:[a.jsx(Ev,{className:"w-4 h-4 mr-2"}),"Move up"]}),a.jsxs(Cn,{onClick:()=>xe(re.id,Ne,re.lessons.length),disabled:Ne>=re.lessons.length-1,children:[a.jsx(Tv,{className:"w-4 h-4 mr-2"}),"Move down"]}),a.jsxs(Cn,{onClick:()=>Tr(re.id,ke.id),className:"text-red-600",children:[a.jsx(wr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),!l&&a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>L(ke),children:a.jsx(Bc,{className:"w-4 h-4"})})]},ke.id)),l&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>v(re.id),className:"flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 border-dashed border-orange-300 dark:border-orange-700 text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:[a.jsx(Yt,{className:"w-4 h-4"}),"Add content"]}),a.jsxs("button",{onClick:()=>{Ue(re.id),nt(!0)},className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg border-2 border-dashed border-purple-300 dark:border-purple-700 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),"Import from Library"]})]})]})})})]},re.id)),l&&a.jsx("div",{className:"mt-4",children:h?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Add New Topic"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(et,{placeholder:"Topic title...",value:y,onChange:re=>m(re.target.value),onKeyDown:re=>{re.key==="Enter"&&Jt(),re.key==="Escape"&&p(!1)},autoFocus:!0}),a.jsxs(ge,{onClick:Jt,children:[a.jsx(po,{className:"w-4 h-4 mr-2"}),"Add"]}),a.jsx(ge,{variant:"ghost",onClick:()=>p(!1),children:a.jsx(sn,{className:"w-4 h-4"})})]})]}):a.jsxs(ge,{onClick:()=>p(!0),className:"w-full bg-orange-500 hover:bg-orange-600",children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Topic"]})})]}),Ft.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-600 dark:text-gray-400",children:"No content yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Enable Edit Mode to start adding topics and content"}),!l&&a.jsx(ge,{onClick:()=>u(!0),children:"Enable Edit Mode"})]})]}),a.jsx(dr,{children:g&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>v(null),children:a.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:re=>re.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Add Content"}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>{v(null),b(null)},children:a.jsx(sn,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"p-6",children:x?a.jsxs("div",{className:"space-y-4",children:[a.jsx(et,{placeholder:"Content title...",value:w,onChange:re=>T(re.target.value)}),x==="note"&&a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border",children:a.jsx(Nf,{theme:"snow",value:C,onChange:_,modules:DM,className:"min-h-[200px]"})}),x==="video"&&a.jsx(et,{placeholder:"Video URL (YouTube, Vimeo, etc.)",value:C,onChange:re=>_(re.target.value)}),x==="link"&&a.jsx(et,{placeholder:"External URL",value:C,onChange:re=>_(re.target.value)}),x==="pdf"&&a.jsx(et,{placeholder:"PDF URL",value:C,onChange:re=>_(re.target.value)}),x==="live-class"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(et,{placeholder:"Live class URL (Zoom, Meet, etc.)",value:C,onChange:re=>_(re.target.value)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Add the meeting link for your live class"})]}),x==="quiz"&&a.jsxs("div",{className:"space-y-4",children:[N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium",children:["Questions (",N.length,")"]}),N.map((re,Ce)=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm",children:[Ce+1,". ",re.question]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>k(N.filter(ke=>ke.id!==re.id)),children:a.jsx(wr,{className:"w-4 h-4 text-red-500"})})]},re.id))]}),a.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-xl space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Add Question"}),a.jsx(Hn,{placeholder:"Enter question...",value:j,onChange:re=>D(re.target.value)}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map((re,Ce)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>V(Ce),className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${R===Ce?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:String.fromCharCode(65+Ce)}),a.jsx(et,{placeholder:`Option ${String.fromCharCode(65+Ce)}`,value:re,onChange:ke=>{const Ne=[...E];Ne[Ce]=ke.target.value,I(Ne)},className:"flex-1"})]},Ce))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click the letter to mark correct answer (green = correct)"}),a.jsxs(ge,{onClick:Kr,className:"w-full",children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),x==="live-test"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:a.jsxs("div",{className:"flex items-center gap-2 text-cyan-700 dark:text-cyan-300",children:[a.jsx(g0,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Live Test - Students will be timed"})]})}),N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium",children:["Questions (",N.length,")"]}),N.map((re,Ce)=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm",children:[Ce+1,". ",re.question]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>k(N.filter(ke=>ke.id!==re.id)),children:a.jsx(wr,{className:"w-4 h-4 text-red-500"})})]},re.id))]}),a.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-xl space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Add Question"}),a.jsx(Hn,{placeholder:"Enter question...",value:j,onChange:re=>D(re.target.value)}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map((re,Ce)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>V(Ce),className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${R===Ce?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:String.fromCharCode(65+Ce)}),a.jsx(et,{placeholder:`Option ${String.fromCharCode(65+Ce)}`,value:re,onChange:ke=>{const Ne=[...E];Ne[Ce]=ke.target.value,I(Ne)},className:"flex-1"})]},Ce))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click the letter to mark correct answer (green = correct)"}),a.jsxs(ge,{onClick:Kr,className:"w-full",children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>b(null),className:"flex-1",children:"Back"}),a.jsxs(ge,{onClick:ar,disabled:!w.trim()||(x==="quiz"||x==="live-test")&&N.length===0,className:"flex-1",children:[a.jsx(po,{className:"w-4 h-4 mr-2"}),"Save Content"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Select content type:"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:AM.map(re=>a.jsxs("button",{onClick:()=>b(re.type),className:"p-4 rounded-xl border-2 hover:border-blue-400 transition-all flex flex-col items-center gap-2",children:[a.jsx("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-gray-700",children:a.jsx(re.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-medium",children:re.label})]},re.type))})]})})]})})}),a.jsx(dr,{children:M&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>H(null),children:a.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:re=>re.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Edit Content"}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>H(null),children:a.jsx(sn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx(et,{placeholder:"Title",value:G,onChange:re=>P(re.target.value)}),M.type==="note"&&a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border",children:a.jsx(Nf,{theme:"snow",value:W,onChange:F,modules:DM,className:"min-h-[200px]"})}),(M.type==="video"||M.type==="link"||M.type==="pdf"||M.type==="live-class")&&a.jsx(et,{placeholder:"URL",value:W,onChange:re=>F(re.target.value)}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>H(null),className:"flex-1",children:"Cancel"}),a.jsxs(ge,{onClick:()=>{const re=Ft.find(Ce=>Ce.lessons.some(ke=>ke.id===M.id));re&&we(re.id)},className:"flex-1",children:[a.jsx(po,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})})}),a.jsx(dr,{children:O&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>L(null),children:a.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:re=>re.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${fe(O.type)}`,children:ne(O.type)}),a.jsx("h2",{className:"text-xl font-bold",children:O.title})]}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>L(null),children:a.jsx(sn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6",children:[O.type==="note"&&a.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:O.content||""}}),O.type==="video"&&O.content&&a.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-black",children:O.content.includes("youtube")||O.content.includes("youtu.be")?a.jsx("iframe",{src:O.content.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/"),className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[a.jsx(Zo,{className:"w-16 h-16 mb-4"}),a.jsxs("a",{href:O.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-2",children:["Open Video ",a.jsx(DN,{className:"w-4 h-4"})]})]})}),O.type==="link"&&O.content&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(_f,{className:"w-16 h-16 text-orange-400 mx-auto mb-4"}),a.jsxs("a",{href:O.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-lg flex items-center justify-center gap-2",children:["Open Link ",a.jsx(DN,{className:"w-5 h-5"})]})]}),O.type==="pdf"&&O.content&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Nv,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),a.jsxs("a",{href:O.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-lg flex items-center justify-center gap-2",children:["Open PDF ",a.jsx(DN,{className:"w-5 h-5"})]})]}),O.type==="live-class"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ol,{className:"w-16 h-16 text-pink-400 mx-auto mb-4"}),O.content?a.jsxs("a",{href:O.content,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600",children:[a.jsx(Zo,{className:"w-5 h-5"}),"Join Live Class"]}):a.jsx("p",{className:"text-gray-500",children:"No meeting link available"})]}),O.type==="quiz"&&O.quizQuestions&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold",children:["Quiz: ",O.quizQuestions.length," Questions"]})}),O.quizQuestions.map((re,Ce)=>a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[a.jsxs("p",{className:"font-medium mb-3",children:[Ce+1,". ",re.question]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:re.options.map((ke,Ne)=>a.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm ${Ne===re.correctIndex?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200 border border-green-300 dark:border-green-700":"bg-white dark:bg-gray-800 border dark:border-gray-700"}`,children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+Ne),"."]}),ke,Ne===re.correctIndex&&a.jsx(ga,{className:"w-4 h-4 inline ml-2 text-green-600"})]},Ne))})]},re.id))]})]})]})})}),a.jsx(dr,{children:Y&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>{ve(!1),Ue(null)},children:a.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:re=>re.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ma,{className:"w-6 h-6 text-indigo-500"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Asset Library"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Browse and load saved content into your course"})]})]}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>{ve(!1),Ue(null)},children:a.jsx(sn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-4 border-b dark:border-gray-700 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(j_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(et,{value:Ee,onChange:re=>se(re.target.value),placeholder:"Search assets...",className:"pl-9"})]}),a.jsxs(Wt,{value:J,onValueChange:re=>de(re),children:[a.jsx(Mt,{className:"w-[140px]",children:a.jsx(qt,{placeholder:"Type"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Types"}),AM.map(re=>a.jsx(Qe,{value:re.type,children:re.label},re.type))]})]}),a.jsxs(Wt,{value:X||"__all__",onValueChange:re=>{ue(re==="__all__"?"":re),oe("")},children:[a.jsx(Mt,{className:"w-[140px]",children:a.jsx(qt,{placeholder:"Subject"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"__all__",children:"All Subjects"}),s.map(re=>a.jsxs(Qe,{value:re.id,children:[re.icon," ",re.name]},re.id))]})]}),a.jsxs(Wt,{value:te||"__all__",onValueChange:re=>oe(re==="__all__"?"":re),disabled:!X,children:[a.jsx(Mt,{className:"w-[140px]",children:a.jsx(qt,{placeholder:"Topic"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"__all__",children:"All Topics"}),_n.map(re=>a.jsx(Qe,{value:re.id,children:re.name},re.id))]})]})]}),!Te&&Ft.length>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Load to:"}),a.jsxs(Wt,{value:Te||"__none__",onValueChange:re=>Ue(re==="__none__"?null:re),children:[a.jsx(Mt,{className:"w-[200px]",children:a.jsx(qt,{placeholder:"Select section"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"__none__",children:"Select a section..."}),Ft.map(re=>a.jsx(Qe,{value:re.id,children:re.title},re.id))]})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:le?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading assets..."}):Jn.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No assets found"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Content you add to courses will appear here"})]}):a.jsx("div",{className:"grid gap-3",children:Jn.map(re=>{const Ce=s.find(Ne=>Ne.id===re.subjectId),ke=o.find(Ne=>Ne.id===re.topicId);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl border dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700 transition-colors",children:[a.jsx("div",{className:`p-2 rounded-lg ${fe(re.type)}`,children:ne(re.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:re.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[a.jsx("span",{className:"capitalize",children:re.type}),Ce&&a.jsxs("span",{children:[" ",Ce.name]}),ke&&a.jsxs("span",{children:[" ",ke.name]}),re.quizQuestions&&a.jsxs("span",{children:[" ",re.quizQuestions.length," questions"]})]})]}),a.jsxs(ge,{size:"sm",disabled:!Te,onClick:()=>Te&&or(re,Te),className:"gap-1",children:[a.jsx($c,{className:"w-4 h-4"}),"Load"]})]},re.id)})})}),a.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[B.length," total assets  Content added to courses is auto-saved here"]})})]})})}),a.jsx(dr,{children:qe&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>nt(!1),children:a.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[85vh] overflow-hidden shadow-2xl",onClick:re=>re.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center justify-between bg-gradient-to-r from-purple-500 to-pink-500",children:[a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(ma,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold",children:"Personal Asset Library"})]}),a.jsx("button",{onClick:()=>nt(!1),className:"text-white/80 hover:text-white",children:a.jsx(sn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-3 border-b dark:border-gray-700 flex flex-wrap gap-2",children:[{type:"all",label:"All",icon:""},{type:"mcq",label:"MCQ",icon:""},{type:"note",label:"Notes",icon:""}].map(({type:re,label:Ce,icon:ke})=>a.jsxs("button",{onClick:()=>it(re),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${Ze===re?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[ke," ",Ce]},re))}),a.jsx("div",{className:"p-4 overflow-y-auto",style:{maxHeight:"calc(85vh - 160px)"},children:Pt.filter(re=>Ze==="all"||re.type===Ze).length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(ma,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"font-medium",children:"No assets available"}),a.jsx("p",{className:"text-sm",children:"Add content to your Personal Library first"})]}):a.jsx("div",{className:"space-y-2",children:Pt.filter(re=>Ze==="all"||re.type===Ze).map(re=>{const Ce=Dt.find(Ne=>Ne.id===re.subjectId),ke=$t.find(Ne=>Ne.id===re.topicId);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${re.type==="mcq"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":re.type==="note"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:re.type==="mcq"?"":re.type==="note"?"":""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:re.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[a.jsx("span",{className:"capitalize",children:re.type}),Ce&&a.jsxs("span",{children:[" ",Ce.name]}),ke&&a.jsxs("span",{children:[" ",ke.name]}),re.type==="mcq"&&re.quizQuestions&&a.jsxs("span",{children:[" ",re.quizQuestions.length," questions"]})]})]}),a.jsxs(ge,{size:"sm",disabled:!Te,onClick:()=>{Te&&(cr(re,Te),nt(!1))},className:"gap-1",children:[a.jsx($c,{className:"w-4 h-4"}),"Import"]})]},re.id)})})}),Te&&a.jsx("div",{className:"p-3 border-t dark:border-gray-700 bg-purple-50 dark:bg-purple-900/20",children:a.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300 text-center",children:[" Importing to: ",((Ae=Ft.find(re=>re.id===Te))==null?void 0:Ae.title)||"Selected Section"]})})]})})})]})}function HLe({courseId:e}){const{user:t}=Ki(),{liveTests:n,mcqs:r,addLiveTest:i,updateLiveTest:s,removeLiveTest:o,getLiveTestsByCourse:c,getMCQsByLesson:l}=Xc(),[u,d]=A.useState("schedule"),[f,h]=A.useState(!1),[p,y]=A.useState(""),[m,g]=A.useState(""),[v,x]=A.useState(""),[b,w]=A.useState(""),[T,C]=A.useState(""),[_,N]=A.useState("30"),[k,j]=A.useState("20"),[D,E]=A.useState(!0),[I,R]=A.useState(!0),[V,M]=A.useState(!0),[H,G]=A.useState(!0),[P,W]=A.useState(!1),[F,O]=A.useState(!1),[L,K]=A.useState("Daily Practice Test"),[Q,U]=A.useState("10:00"),[Z,pe]=A.useState("22:00"),[me,ye]=A.useState("30"),[Fe,Y]=A.useState("20"),[ve,B]=A.useState([0,1,2,3,4,5,6]),_e=A.useMemo(()=>e?n.filter(ae=>ae.courseId===e):n,[n,e]),Ee=A.useMemo(()=>{const ae=Date.now();return _e.filter(Te=>Te.startTime>ae).sort((Te,Ue)=>Te.startTime-Ue.startTime)},[_e]),se=A.useMemo(()=>{const ae=Date.now();return _e.filter(Te=>Te.startTime<=ae&&Te.endTime>ae&&Te.status==="active").sort((Te,Ue)=>Te.startTime-Ue.startTime)},[_e]),J=A.useMemo(()=>{const ae=Date.now();return _e.filter(Te=>Te.endTime<=ae).sort((Te,Ue)=>Ue.endTime-Te.endTime)},[_e]),de=A.useMemo(()=>r.filter(ae=>{var Te;return!e||((Te=ae.lessonId)==null?void 0:Te.startsWith(e))}),[r,e]),X=()=>{y(""),g(""),x(""),w(""),C(""),N("30"),j("20"),E(!0),R(!0),M(!0),G(!0),W(!1),h(!1)},ue=()=>{if(!p.trim()||!m||!v||!b||!T){alert("Please fill in all required fields");return}const ae=new Date(`${m}T${v}`).getTime(),Te=new Date(`${b}T${T}`).getTime();if(ae>=Te){alert("End time must be after start time");return}const Ue=Math.min(parseInt(k),de.length);[...de].sort(()=>Math.random()-.5).slice(0,Ue).map(Oe=>Oe.id);const nt={id:`live-test-${Date.now()}`,courseId:e||"",title:p.trim(),description:"",startTime:ae,endTime:Te,duration:parseInt(_),totalQuestions:Ue,totalMarks:Ue,passingMarks:Math.ceil(Ue*.4),negativeMarking:P,negativeMarksPerQuestion:P?.25:0,shuffleQuestions:H,autoReleaseResult:D,showSolutions:I,showLeaderboard:V,status:"scheduled",isPublished:!0,order:_e.length,createdAt:Date.now()};i(nt),X()},te=ae=>new Date(ae).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),oe=ae=>{const Te=Date.now(),Ue=ae-Te;if(Ue<=0)return"Started";const qe=Math.floor(Ue/(1e3*60*60*24)),nt=Math.floor(Ue%(1e3*60*60*24)/(1e3*60*60)),Oe=Math.floor(Ue%(1e3*60*60)/(1e3*60));return qe>0?`${qe}d ${nt}h`:nt>0?`${nt}h ${Oe}m`:`${Oe}m`},le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:u==="schedule"?"default":"outline",size:"sm",onClick:()=>d("schedule"),className:"flex-1 sm:flex-none",children:[a.jsx(Ol,{className:"h-4 w-4 mr-1.5"}),"Schedule Tests"]}),a.jsxs(ge,{variant:u==="auto"?"default":"outline",size:"sm",onClick:()=>d("auto"),className:"flex-1 sm:flex-none",children:[a.jsx(jr,{className:"h-4 w-4 mr-1.5"}),"Auto Daily",F&&a.jsx("span",{className:"ml-1.5 w-2 h-2 bg-green-500 rounded-full"})]})]}),u==="schedule"&&a.jsxs("div",{className:"space-y-4",children:[f?a.jsxs(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold",children:"Schedule New Live Test"}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:X,children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title *"}),a.jsx(et,{placeholder:"e.g., Weekly Quiz #1",value:p,onChange:ae=>y(ae.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Date *"}),a.jsx(et,{type:"date",value:m,onChange:ae=>g(ae.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time *"}),a.jsx(et,{type:"time",value:v,onChange:ae=>x(ae.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Date *"}),a.jsx(et,{type:"date",value:b,onChange:ae=>w(ae.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time *"}),a.jsx(et,{type:"time",value:T,onChange:ae=>C(ae.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Duration"}),a.jsxs(Wt,{value:_,onValueChange:N,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"15",children:"15 minutes"}),a.jsx(Qe,{value:"30",children:"30 minutes"}),a.jsx(Qe,{value:"45",children:"45 minutes"}),a.jsx(Qe,{value:"60",children:"60 minutes"}),a.jsx(Qe,{value:"90",children:"90 minutes"}),a.jsx(Qe,{value:"120",children:"120 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question Count"}),a.jsxs(Wt,{value:k,onValueChange:j,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"10",children:"10 Questions"}),a.jsx(Qe,{value:"20",children:"20 Questions"}),a.jsx(Qe,{value:"30",children:"30 Questions"}),a.jsx(Qe,{value:"50",children:"50 Questions"}),a.jsx(Qe,{value:"100",children:"100 Questions"})]})]})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[de.length," questions available in your question bank"]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Settings"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Auto-release result after test ends"}),a.jsx(rs,{checked:D,onCheckedChange:E})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show solutions after submission"}),a.jsx(rs,{checked:I,onCheckedChange:R})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show leaderboard"}),a.jsx(rs,{checked:V,onCheckedChange:M})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Shuffle questions"}),a.jsx(rs,{checked:H,onCheckedChange:G})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Negative marking"}),a.jsx(rs,{checked:P,onCheckedChange:W})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ge,{variant:"outline",onClick:X,className:"flex-1",children:"Cancel"}),a.jsxs(ge,{onClick:ue,className:"flex-1",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Create Test"]})]})]}):a.jsxs(ge,{onClick:()=>h(!0),className:"w-full",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Schedule New Live Test"]}),Ee.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-sm text-muted-foreground",children:["Upcoming Tests (",Ee.length,")"]}),Ee.map(ae=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:ae.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Ol,{className:"h-3 w-3 inline mr-1"}),te(ae.startTime)]}),a.jsxs("span",{children:[a.jsx(g0,{className:"h-3 w-3 inline mr-1"}),ae.duration," min"]}),a.jsxs("span",{children:[a.jsx(m0,{className:"h-3 w-3 inline mr-1"}),ae.totalQuestions," Qs"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:oe(ae.startTime)}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>o(ae.id),children:a.jsx(wr,{className:"h-4 w-4 text-red-500"})})]})]})},ae.id))]}),se.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-sm text-green-600",children:["Active Now (",se.length,")"]}),se.map(ae=>a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"LIVE"})]}),a.jsx("h5",{className:"font-medium",children:ae.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Ir,{className:"h-3 w-3 inline mr-1"}),"Ends ",te(ae.endTime)]}),a.jsxs("span",{children:[a.jsx(m0,{className:"h-3 w-3 inline mr-1"}),ae.totalQuestions," Qs"]})]})]},ae.id))]}),J.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-sm text-muted-foreground",children:["Past Tests (",J.length,")"]}),J.slice(0,5).map(ae=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border opacity-70",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:ae.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Ol,{className:"h-3 w-3 inline mr-1"}),te(ae.endTime)]}),a.jsxs("span",{className:"text-green-600",children:[a.jsx(ga,{className:"h-3 w-3 inline mr-1"}),"Completed"]})]})]}),a.jsxs(ge,{variant:"ghost",size:"sm",children:[a.jsx(Bc,{className:"h-4 w-4 mr-1"})," Results"]})]})},ae.id))]}),_e.length===0&&!f&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(g0,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"No live tests scheduled yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Create your first live test to engage students"})]})]}),u==="auto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Auto Daily Test"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate daily practice tests"})]}),a.jsx(rs,{checked:F,onCheckedChange:O})]}),F&&a.jsxs(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title"}),a.jsx(et,{placeholder:"Daily Practice Test",value:L,onChange:ae=>K(ae.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),a.jsx(et,{type:"time",value:Q,onChange:ae=>U(ae.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time"}),a.jsx(et,{type:"time",value:Z,onChange:ae=>pe(ae.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Duration"}),a.jsxs(Wt,{value:me,onValueChange:ye,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"15",children:"15 minutes"}),a.jsx(Qe,{value:"30",children:"30 minutes"}),a.jsx(Qe,{value:"45",children:"45 minutes"}),a.jsx(Qe,{value:"60",children:"60 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions"}),a.jsxs(Wt,{value:Fe,onValueChange:Y,children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"10",children:"10 Questions"}),a.jsx(Qe,{value:"20",children:"20 Questions"}),a.jsx(Qe,{value:"30",children:"30 Questions"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Active Days"}),a.jsx("div",{className:"flex gap-2",children:le.map((ae,Te)=>a.jsx("button",{onClick:()=>{ve.includes(Te)?B(ve.filter(Ue=>Ue!==Te)):B([...ve,Te])},className:`w-10 h-10 rounded-lg text-xs font-medium transition-colors ${ve.includes(Te)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:ae},ae))})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-700 dark:text-green-400",children:[a.jsx(ga,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:["Auto test will run daily from ",Q," to ",Z]})]})]}),!F&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(jr,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Auto daily test is disabled"}),a.jsx("p",{className:"text-xs mt-1",children:"Enable to automatically create practice tests"})]})]})]})}function GLe({courseId:e}){const{user:t}=Ki(),{mcqs:n,addMCQ:r,updateMCQ:i,removeMCQ:s}=Xc(),{subjects:o,topics:c,contentPacks:l,selectedSubjectId:u,selectedTopicId:d,filterPricing:f,setSelectedSubject:h,setSelectedTopic:p,setFilterPricing:y,getTopicsBySubject:m,getPacksBySubject:g,getPacksByTopic:v,getMcqsByPack:x,addDownload:b,hasDownloaded:w}=qr(),[T,C]=A.useState("single"),[_,N]=A.useState(""),[k,j]=A.useState(""),[D,E]=A.useState(""),[I,R]=A.useState(""),[V,M]=A.useState([]),[H,G]=A.useState([]),[P,W]=A.useState(""),[F,O]=A.useState(["","","",""]),[L,K]=A.useState(0),[Q,U]=A.useState(""),[Z,pe]=A.useState(null),[me,ye]=A.useState([]),[Fe,Y]=A.useState(""),[ve,B]=A.useState(!1),[_e,Ee]=A.useState(""),[se,J]=A.useState(""),[de,X]=A.useState([]),[ue,te]=A.useState(""),[oe,le]=A.useState("file"),[ae,Te]=A.useState(null),[Ue,qe]=A.useState(""),[nt,Oe]=A.useState("new"),[Le,Ze]=A.useState(""),[it,Dt]=A.useState(null),[$t,Pt]=A.useState(""),[xn,rn]=A.useState(["","","",""]),[qn,sr]=A.useState(0),[Kn,Jn]=A.useState("");A.useEffect(()=>{(async()=>{try{const fe=Ut(Et(Pe,"coaching-categories"),Vt("courseId","==",e||"global")),re=(await Bn(fe)).docs.map(Ce=>Ce.data());re.length&&M(re.sort((Ce,ke)=>ke.createdAt-Ce.createdAt))}catch(fe){console.error("Error loading categories",fe)}})()},[e]);const _n=A.useMemo(()=>_?c.filter(ne=>ne.subjectId===_&&ne.isActive):[],[_,c]),Ft=ne=>{const fe=o.find(Ce=>Ce.id===ne.subjectId),Ae=c.find(Ce=>Ce.id===ne.topicId),re=ne.subtopic?`  ${ne.subtopic}`:"";return`${(fe==null?void 0:fe.name)||"Subject"} > ${(Ae==null?void 0:Ae.name)||"Topic"}${re}  ${ne.name}`},_r=ne=>n.filter(fe=>fe.categoryId===ne),Jt=ne=>{G(fe=>fe.includes(ne)?fe.filter(Ae=>Ae!==ne):[...fe,ne])},ar=async()=>{if(!_||!k){alert("Select Subject and Topic first");return}if(!I.trim()){alert("Enter category name");return}const ne={id:Zt(),name:I.trim(),subjectId:_,topicId:k,subtopic:D.trim()||void 0,createdAt:Date.now()};M(fe=>[...fe,ne]),R(""),E("");try{await xt(Ke(Pe,"coaching-categories",ne.id),{...ne,courseId:e||"global",userId:t==null?void 0:t.id})}catch(fe){console.error("Error saving category:",fe)}},{addSingleMCQ:Kr}=Gl(),Cr=async()=>{if(!P.trim()||!Q||!t)return;if(F.some(re=>!re.trim())){alert("Please fill all options");return}const{assetId:ne,questionId:fe}=Kr(P.trim(),F.map(re=>re.trim()),L,t.id,"coaching-subject","coaching-topic",void 0,"medium",void 0),Ae={id:Zt(),courseId:e||"",lessonId:"",question:P.trim(),options:F.map(re=>re.trim()),correctIndex:L,marks:1,negativeMarks:0,difficulty:"medium",order:n.length};Ae.categoryId=Q,Ae.createdBy=t.id,Ae.createdByName=t.displayName,Ae.createdAt=Date.now(),Ae.assetRef=`${ne}:${fe}`,r(Ae),W(""),O(["","","",""]),K(0);try{await xt(Ke(Pe,"coaching-mcqs",Ae.id),Ae)}catch(re){console.error("Error saving MCQ:",re)}},Dn=async ne=>{B(!0),Ee("");try{const fe=await ne.arrayBuffer(),Ae=xw(fe),re=Ae.SheetNames[0],Ce=Ae.Sheets[re],ke=LK.sheet_to_json(Ce,{header:1});if(!ke.find(Re=>Re.some(We=>We))){Ee("Empty file or no header found");return}const he=[];for(let Re=1;Re<ke.length;Re++){const We=ke[Re];if(!We||!We[0])continue;const ze=String(We[0]||"").trim(),Xe=String(We[1]||"").trim(),ot=String(We[2]||"").trim(),jt=String(We[3]||"").trim(),gt=String(We[4]||"").trim(),Nt=String(We[5]||"").trim().toUpperCase();if(!ze||!Xe||!ot||!jt||!gt)continue;let On=0;Nt==="A"||Nt==="1"?On=0:Nt==="B"||Nt==="2"?On=1:Nt==="C"||Nt==="3"?On=2:(Nt==="D"||Nt==="4")&&(On=3),he.push({question:ze,options:[Xe,ot,jt,gt],correctIndex:On})}he.length===0?Ee("No valid questions found. Format: Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4)"):ye(he)}catch(fe){console.error("Excel parse error:",fe),Ee("Error parsing Excel file")}finally{B(!1)}},hr=async ne=>{B(!0),Ee("");try{const fe=await ne.arrayBuffer(),re=(await dc.extractRawText({arrayBuffer:fe})).value,Ce=[],ke=re.split(/(?=\n\s*(?:\d+|[]+)[\.\)]\s*)/g);for(const Ne of ke){if(!Ne.trim())continue;const he=Ne.split(`
`).map(ot=>ot.trim()).filter(ot=>ot);if(he.length<5)continue;const Re=he[0].replace(/^(?:\d+|[]+)[\.\)]\s*/,"").trim();if(!Re)continue;const We=[/^[1AaA][\.\)\s]/,/^[2BbB][\.\)\s]/,/^[3CcC][\.\)\s]/,/^[4DdD][\.\)\s]/],ze=["","","",""];let Xe=0;for(const ot of he.slice(1)){const jt=ot.match(/(?:Ans|Answer|| |Correct)[:\s]*([1234AaBbCcDd])/i);if(jt){const gt=jt[1].toUpperCase();gt==="1"||gt===""||gt==="A"?Xe=0:gt==="2"||gt===""||gt==="B"?Xe=1:gt==="3"||gt===""||gt==="C"?Xe=2:(gt==="4"||gt===""||gt==="D")&&(Xe=3);continue}if(ot.startsWith("*")){const gt=ot.substring(1).trim();for(let Nt=0;Nt<We.length;Nt++)if(We[Nt].test(gt)){ze[Nt]=gt.replace(We[Nt],"").trim(),Xe=Nt;break}continue}for(let gt=0;gt<We.length;gt++)if(We[gt].test(ot)){ze[gt]=ot.replace(We[gt],"").trim();break}}Re&&ze.every(ot=>ot)&&Ce.push({question:Re,options:ze,correctIndex:Xe})}Ce.length===0?Ee("No valid questions found. Check the format."):ye(Ce)}catch(fe){console.error("Word parse error:",fe),Ee("Error parsing Word file")}finally{B(!1)}},er=()=>{if(!se.trim()){te("Please enter JSON data");return}te("");try{const ne=JSON.parse(se);if(!Array.isArray(ne)){te("JSON must be an array of questions");return}const fe=[];for(const Ae of ne){const re=Ae.question||Ae.q||Ae.text||"",Ce=Ae.options||Ae.opts||Ae.choices||[];let ke=0;if(typeof Ae.correctIndex=="number")ke=Ae.correctIndex;else if(typeof Ae.correct=="number")ke=Ae.correct;else if(typeof Ae.answer=="number")ke=Ae.answer-1;else if(typeof Ae.ans=="number")ke=Ae.ans-1;else if(typeof Ae.correct=="string"){const Re=Ae.correct.toUpperCase();Re==="A"||Re==="1"?ke=0:Re==="B"||Re==="2"?ke=1:Re==="C"||Re==="3"?ke=2:(Re==="D"||Re==="4")&&(ke=3)}const Ne=Ae.explanation||Ae.exp||Ae.explain||Ae.solution||"";let he;if(Ae.difficulty||Ae.diff||Ae.level){const Re=(Ae.difficulty||Ae.diff||Ae.level||"").toLowerCase();Re==="easy"||Re==="e"||Re==="1"?he="easy":Re==="medium"||Re==="m"||Re==="2"||Re==="moderate"?he="medium":(Re==="hard"||Re==="h"||Re==="3"||Re==="difficult")&&(he="hard")}re&&Ce.length>=4&&fe.push({question:re,options:Ce.slice(0,4),correctIndex:ke,explanation:Ne||void 0,difficulty:he})}if(fe.length===0){te("No valid questions found in JSON");return}X(fe)}catch{te("Invalid JSON format")}},or=ne=>{var re,Ce;const fe=(re=ne.target.files)==null?void 0:re[0];if(!fe)return;pe(fe),ye([]),Ee("");const Ae=(Ce=fe.name.split(".").pop())==null?void 0:Ce.toLowerCase();if(Ae==="xlsx"||Ae==="xls")Dn(fe);else if(Ae==="docx")hr(fe);else if(Ae==="json"){const ke=new FileReader;ke.onload=Ne=>{var he;J(((he=Ne.target)==null?void 0:he.result)||""),le("text")},ke.readAsText(fe)}else Ee("Unsupported file type. Use .xlsx, .xls, .docx, or .json")},cr=async ne=>{if(!(!Fe||!t||ne.length===0)){B(!0);try{for(const fe of ne){const Ae={id:Zt(),courseId:e||"",lessonId:"",question:fe.question,options:fe.options,correctIndex:fe.correctIndex,marks:1,negativeMarks:0,difficulty:fe.difficulty||"medium",order:n.length};Ae.categoryId=Fe,Ae.createdBy=t.id,Ae.createdByName=t.displayName,Ae.createdAt=Date.now(),fe.explanation&&(Ae.explanation=fe.explanation),r(Ae),await xt(Ke(Pe,"coaching-mcqs",Ae.id),Ae)}alert(` ${ne.length} questions uploaded successfully!`),pe(null),ye([]),X([]),Y("")}catch(fe){console.error("Error saving questions:",fe),Ee("Error saving questions to database")}finally{B(!1)}}},Tr=async()=>{if(!ae||!t)return;let ne="";if(nt==="new"){if(!Le.trim()){alert("Please enter a category name");return}if(!_||!k){alert("Select Subject and Topic above for new category");return}const Ae={id:Zt(),name:Le.trim(),subjectId:_,topicId:k,subtopic:D.trim()||void 0,createdAt:Date.now()};M(re=>[...re,Ae]),ne=Ae.id,await xt(Ke(Pe,"coaching-categories",Ae.id),{...Ae,courseId:e||"global",userId:t.id})}else{if(!Ue){alert("Please select a category");return}ne=Ue}const fe=x(ae.id);for(const Ae of fe){const re={id:Zt(),courseId:e||"",lessonId:"",question:Ae.question,options:Ae.options,correctIndex:Ae.correctIndex,explanation:Ae.explanation,marks:1,negativeMarks:0,difficulty:"medium",order:n.length};re.categoryId=ne,re.createdBy=t.id,re.createdByName=t.displayName,re.createdAt=Date.now(),re.sourcePackId=ae.id,r(re),await xt(Ke(Pe,"coaching-mcqs",re.id),re)}b({id:Zt(),userId:t.id,packId:ae.id,packTitle:ae.title,subjectId:ae.subjectId,topicId:ae.topicId,pricing:ae.pricing,pricePaid:ae.pricing==="paid"?ae.price:0,downloadedAt:Date.now()}),alert(` ${fe.length} questions downloaded to your Question Bank!`),Te(null),Ze(""),qe("")},ce=ne=>{Dt(ne),Pt(ne.question),rn([...ne.options]),sr(ne.correctIndex),Jn(ne.categoryId||"")},Se=async()=>{if(!it||!$t.trim()||xn.some(fe=>!fe.trim()))return;const ne={...it,question:$t.trim(),options:xn.map(fe=>fe.trim()),correctIndex:qn};ne.categoryId=Kn,i(ne);try{await xt(Ke(Pe,"coaching-mcqs",ne.id),ne),ne.assetRef&&dke(ne.id)}catch(fe){console.error("Error updating MCQ:",fe)}Dt(null)},xe=async ne=>{confirm("Delete this question?")&&s(ne)},we=(ne,fe,Ae="Select Category")=>a.jsxs(Wt,{value:ne,onValueChange:fe,children:[a.jsx(Mt,{className:"w-60 h-8 text-sm",children:a.jsx(qt,{placeholder:Ae})}),a.jsx(Bt,{children:V.map(re=>a.jsx(Qe,{value:re.id,children:Ft(re)},re.id))})]});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 border rounded-lg bg-muted/40 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Add category by Subject > Topic > Subtopic (optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-center",children:[a.jsxs(Wt,{value:_,onValueChange:ne=>{N(ne),j("")},children:[a.jsx(Mt,{className:"h-9 text-sm",children:a.jsx(qt,{placeholder:"Select Subject"})}),a.jsx(Bt,{children:o.map(ne=>a.jsxs(Qe,{value:ne.id,children:[ne.icon?`${ne.icon} `:"",ne.name]},ne.id))})]}),a.jsxs(Wt,{value:k,onValueChange:j,disabled:!_,children:[a.jsx(Mt,{className:"h-9 text-sm",children:a.jsx(qt,{placeholder:"Select Topic"})}),a.jsx(Bt,{children:_n.map(ne=>a.jsx(Qe,{value:ne.id,children:ne.name},ne.id))})]}),a.jsx(et,{placeholder:"Subtopic (optional)",value:D,onChange:ne=>E(ne.target.value),className:"h-9 text-sm"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(et,{placeholder:"Category name",value:I,onChange:ne=>R(ne.target.value),className:"h-9 text-sm"}),a.jsxs(ge,{size:"sm",onClick:ar,className:"h-9",children:[a.jsx(Yt,{className:"h-4 w-4 mr-1"})," Add"]})]})]})]}),a.jsx("div",{className:"flex gap-1 p-1 bg-muted rounded-lg",children:["single","group","instant"].map(ne=>a.jsxs("button",{onClick:()=>C(ne),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${T===ne?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[ne==="single"&&" Single",ne==="group"&&" Group",ne==="instant"&&" Instant"]},ne))}),T==="single"&&(V.length===0?a.jsx("p",{className:"text-xs text-amber-600 text-center py-3",children:"Add a category first (Subject > Topic > Subtopic)"}):a.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Add Single Question (MCQ)"}),a.jsx(Hn,{value:P,onChange:ne=>W(ne.target.value),rows:2,className:"text-sm",placeholder:"Question"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[0,1,2,3].map(ne=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("input",{type:"radio",checked:L===ne,onChange:()=>K(ne),className:"w-3.5 h-3.5"}),a.jsxs("span",{className:`font-medium text-sm w-5 ${L===ne?"text-green-600":""}`,children:[ne+1,"."]}),a.jsx(et,{value:F[ne],onChange:fe=>{const Ae=[...F];Ae[ne]=fe.target.value,O(Ae)},className:"flex-1 h-8 text-sm",placeholder:`Option ${ne+1}`})]},ne))}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[we(Q,U),a.jsxs(ge,{size:"sm",onClick:Cr,children:[a.jsx(Yt,{className:"h-4 w-4 mr-1"})," Add Question"]})]})]})),T==="group"&&a.jsxs("div",{className:"p-3 border rounded-lg bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:" Bulk Upload Questions"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select Subject > Topic > Subtopic, then upload Excel (.xlsx), Word (.docx), or JSON"})]}),a.jsxs("div",{className:"text-xs bg-white dark:bg-gray-900 p-3 rounded border space-y-2",children:[a.jsx("p",{className:"font-medium",children:" Excel Format (8 columns):"}),a.jsx("p",{className:"text-muted-foreground pl-2",children:"Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4) | Explanation | Difficulty (easy/medium/hard)"}),a.jsx("p",{className:"font-medium mt-2",children:" Word Format:"}),a.jsx("div",{className:"text-muted-foreground pl-2 whitespace-pre-line",children:`1. Question
1) Option 1
2) Option 2
3) Option 3
4) Option 4
Ans: 1
Exp: Explanation here
Diff: medium`}),a.jsx("p",{className:"font-medium mt-2",children:" JSON Array Format:"}),a.jsxs("div",{className:"text-muted-foreground pl-2 text-[10px] font-mono",children:["[",'{"question":"Q1","options":["A","B","C","D"],"correctIndex":0,"explanation":"","difficulty":"medium"}',"]"]})]}),a.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded",children:[a.jsxs("button",{onClick:()=>le("file"),className:`flex-1 px-2 py-1 rounded text-xs ${oe==="file"?"bg-background shadow":""}`,children:[a.jsx(Oge,{className:"h-3 w-3 inline mr-1"}),"File Upload"]}),a.jsxs("button",{onClick:()=>le("text"),className:`flex-1 px-2 py-1 rounded text-xs ${oe==="text"?"bg-background shadow":""}`,children:[a.jsx(Sr,{className:"h-3 w-3 inline mr-1"}),"JSON Text"]})]}),oe==="file"&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls,.docx,.json",onChange:or,className:"text-xs file:mr-2 file:py-1.5 file:px-3 file:rounded file:border-0 file:text-xs file:bg-blue-500 file:text-white hover:file:bg-blue-600"}),Z&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",Z.name]})]}),oe==="text"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hn,{value:se,onChange:ne=>J(ne.target.value),rows:4,className:"text-xs font-mono",placeholder:"Paste JSON array..."}),a.jsxs(ge,{onClick:er,size:"sm",variant:"outline",className:"w-full",children:[a.jsx(jr,{className:"h-3 w-3 mr-1"})," Parse JSON"]}),ue&&a.jsxs("p",{className:"text-xs text-red-500",children:[" ",ue]})]}),ve&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(jr,{className:"h-5 w-5 animate-spin mx-auto text-blue-500"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Processing..."})]}),_e&&a.jsxs("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-xs",children:[" ",_e]}),me.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:[" ",me.length," questions parsed"]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{pe(null),ye([])},className:"h-6 text-xs",children:"Clear"})]}),a.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-2 bg-white dark:bg-gray-900",children:[me.slice(0,5).map((ne,fe)=>a.jsxs("div",{className:"text-xs border-b pb-2 last:border-0",children:[a.jsxs("p",{className:"font-medium truncate",children:[fe+1,". ",ne.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ne.options.map((Ae,re)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${re===ne.correctIndex?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[re+1,". ",Ae.slice(0,15),Ae.length>15?"...":""]},re))})]},fe)),me.length>5&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",me.length-5," more..."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[we(Fe,Y,"Save to Category"),a.jsxs(ge,{onClick:()=>cr(me),disabled:!Fe||ve,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Ic,{className:"h-4 w-4 mr-1"}),"Save All (",me.length,")"]})]})]}),de.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:[" ",de.length," questions parsed from JSON"]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{J(""),X([])},className:"h-6 text-xs",children:"Clear"})]}),a.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-2 bg-white dark:bg-gray-900",children:[de.slice(0,5).map((ne,fe)=>a.jsxs("div",{className:"text-xs border-b pb-2 last:border-0",children:[a.jsxs("p",{className:"font-medium truncate",children:[fe+1,". ",ne.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ne.options.map((Ae,re)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${re===ne.correctIndex?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[re+1,". ",Ae.slice(0,15),Ae.length>15?"...":""]},re))})]},fe)),de.length>5&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",de.length-5," more..."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[we(Fe,Y,"Save to Category"),a.jsxs(ge,{onClick:()=>cr(de),disabled:!Fe||ve,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Ic,{className:"h-4 w-4 mr-1"}),"Save All (",de.length,")"]})]})]}),V.length===0&&a.jsx("p",{className:"text-xs text-amber-600 text-center",children:" Add category with Subject & Topic first"})]}),T==="instant"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($c,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"font-medium",children:"Content Library"})]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.length," packs available"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:u||"",onChange:ne=>{h(ne.target.value||null),p(null)},children:[a.jsx("option",{value:"",children:"All Subjects"}),o.map(ne=>a.jsxs("option",{value:ne.id,children:[ne.icon," ",ne.name]},ne.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:d||"",onChange:ne=>p(ne.target.value||null),disabled:!u,children:[a.jsx("option",{value:"",children:"All Topics"}),u&&m(u).map(ne=>a.jsx("option",{value:ne.id,children:ne.name},ne.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:f,onChange:ne=>y(ne.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"free",children:" Free"}),a.jsx("option",{value:"paid",children:" Paid"})]})]}),a.jsx("div",{className:"grid gap-2 max-h-[350px] overflow-y-auto",children:(()=>{let ne=l;return u&&(ne=g(u)),d&&(ne=v(d)),f!=="all"&&(ne=ne.filter(fe=>fe.pricing===f)),ne.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(p0,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No content packs found"}),a.jsx("p",{className:"text-xs mt-1",children:"Try changing filters"})]}):ne.map(fe=>{const Ae=o.find(ke=>ke.id===fe.subjectId),re=c.find(ke=>ke.id===fe.topicId),Ce=t?w(fe.id,t.id):!1;return a.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all hover:shadow-md ${(ae==null?void 0:ae.id)===fe.id?"border-primary bg-primary/5":"hover:border-primary/50"} ${Ce?"opacity-60":""}`,onClick:()=>Te(fe),children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:fe.title}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ae==null?void 0:Ae.icon," ",Ae==null?void 0:Ae.name,"  ",re==null?void 0:re.name]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:fe.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-[10px]",children:[fe.mcqCount>0&&a.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded",children:[fe.mcqCount," MCQs"]}),a.jsxs("span",{className:"text-muted-foreground",children:[" ",fe.downloadCount]}),Ce&&a.jsx("span",{className:"text-green-600 font-medium",children:" Downloaded"})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:fe.pricing==="free"?a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:"FREE"}):a.jsxs("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded",children:["",fe.price]})})]})},fe.id)})})()}),ae&&a.jsxs("div",{className:"p-4 border-2 border-primary rounded-lg bg-primary/5 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:ae.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ae.mcqCount," MCQs"]})]}),a.jsx("button",{onClick:()=>Te(null),className:"text-muted-foreground hover:text-foreground",children:a.jsx(sn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"bg-background rounded-md p-2 max-h-[120px] overflow-y-auto",children:[a.jsx("p",{className:"text-[10px] font-medium text-muted-foreground mb-1",children:"Preview:"}),a.jsxs("div",{className:"space-y-1",children:[x(ae.id).slice(0,3).map((ne,fe)=>a.jsxs("p",{className:"text-xs truncate",children:[fe+1,". ",ne.question]},ne.id)),ae.mcqCount>3&&a.jsxs("p",{className:"text-[10px] text-muted-foreground italic",children:["+",ae.mcqCount-3," more..."]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs font-medium flex-1",children:"Download to:"}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background flex-1",value:nt,onChange:ne=>Oe(ne.target.value),children:[a.jsx("option",{value:"new",children:"New Category"}),a.jsx("option",{value:"merge",children:"Existing Category"})]})]}),nt==="new"?a.jsx(et,{placeholder:"New category name...",value:Le,onChange:ne=>Ze(ne.target.value),className:"h-8 text-sm"}):a.jsxs("select",{className:"w-full text-xs px-2 py-1.5 border rounded bg-background",value:Ue,onChange:ne=>qe(ne.target.value),children:[a.jsx("option",{value:"",children:"Select category..."}),V.map(ne=>a.jsx("option",{value:ne.id,children:Ft(ne)},ne.id))]})]}),a.jsxs(ge,{className:"w-full",onClick:Tr,disabled:nt==="new"?!Le:!Ue,children:[a.jsx($c,{className:"h-4 w-4 mr-2"})," Download ",ae.mcqCount," MCQs"]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Bc,{className:"h-4 w-4"}),"All Questions (",n.length,")"]})}),V.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No categories yet. Add a category to start."}):a.jsx("div",{className:"space-y-2",children:V.map(ne=>{const fe=_r(ne.id),Ae=H.includes(ne.id),re=o.find(ke=>ke.id===ne.subjectId),Ce=c.find(ke=>ke.id===ne.topicId);return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>Jt(ne.id),className:"w-full flex items-center justify-between p-3 bg-muted/30 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[Ae?a.jsx(Mc,{className:"h-4 w-4"}):a.jsx(xa,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium text-sm",children:Ft(ne)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:re==null?void 0:re.name}),a.jsxs("span",{children:[" ",Ce==null?void 0:Ce.name]}),ne.subtopic&&a.jsxs("span",{children:[" ",ne.subtopic]}),a.jsx("span",{className:"bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:fe.length})]})]}),a.jsx(dr,{children:Ae&&a.jsx(ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsx("div",{className:"p-2 space-y-2 max-h-[300px] overflow-y-auto",children:fe.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No questions in this category"}):fe.map((ke,Ne)=>a.jsx("div",{className:"p-2 bg-background rounded border text-xs",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium",children:[Ne+1,". ",ke.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ke.options.map((he,Re)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${Re===ke.correctIndex?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:[Re+1,". ",he.slice(0,20),he.length>20?"...":""]},Re))})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>ce(ke),className:"h-6 w-6 p-0",children:a.jsx(gl,{className:"h-3 w-3"})}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>xe(ke.id),className:"h-6 w-6 p-0 text-red-500",children:a.jsx(wr,{className:"h-3 w-3"})})]})]})},ke.id))})})})]},ne.id)})})]}),a.jsx(dr,{children:it&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>Dt(null),children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-lg p-4 w-full max-w-md shadow-xl",onClick:ne=>ne.stopPropagation(),children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(gl,{className:"h-4 w-4"}),"Edit Question"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Hn,{value:$t,onChange:ne=>Pt(ne.target.value),rows:2,className:"text-sm",placeholder:"Question"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[0,1,2,3].map(ne=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"radio",checked:qn===ne,onChange:()=>sr(ne),className:"w-3 h-3"}),a.jsx(et,{value:xn[ne],onChange:fe=>{const Ae=[...xn];Ae[ne]=fe.target.value,rn(Ae)},className:"h-8 text-xs",placeholder:`Option ${ne+1}`})]},ne))}),we(Kn,Jn)]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(ge,{variant:"outline",size:"sm",onClick:()=>Dt(null),className:"flex-1",children:"Cancel"}),a.jsxs(ge,{size:"sm",onClick:Se,className:"flex-1",children:[a.jsx(jr,{className:"h-4 w-4 mr-1"}),"Save"]})]})]})})})]})}function QLe({courseId:e}){const{user:t}=Ki(),{enrollments:n,myCourses:r,courses:i}=Xc(),[s,o]=A.useState("overview"),[c,l]=A.useState(""),[u,d]=A.useState("all"),[f,h]=A.useState("all"),[p,y]=A.useState("recent"),[m,g]=A.useState(null),[v,x]=A.useState(!1),[b,w]=A.useState(!1),[T,C]=A.useState(""),[_,N]=A.useState(""),[k,j]=A.useState(""),[D,E]=A.useState(""),[I,R]=A.useState("full"),[V,M]=A.useState([{id:"1",name:"Rahim Ahmed",email:"rahim@example.com",phone:"+880 1712-345678",enrolledAt:Date.now()-30*24*60*60*1e3,lastActiveAt:Date.now()-2*60*60*1e3,totalProgress:75,coursesEnrolled:2,testsCompleted:8,avgScore:82,status:"active"},{id:"2",name:"Fatima Begum",email:"fatima@example.com",enrolledAt:Date.now()-45*24*60*60*1e3,lastActiveAt:Date.now()-24*60*60*1e3,totalProgress:45,coursesEnrolled:1,testsCompleted:4,avgScore:68,status:"active"},{id:"3",name:"Karim Hossain",email:"karim@example.com",phone:"+880 1823-456789",enrolledAt:Date.now()-60*24*60*60*1e3,lastActiveAt:Date.now()-7*24*60*60*1e3,totalProgress:90,coursesEnrolled:3,testsCompleted:15,avgScore:91,status:"active"},{id:"4",name:"Nusrat Jahan",email:"nusrat@example.com",enrolledAt:Date.now()-90*24*60*60*1e3,lastActiveAt:Date.now()-30*24*60*60*1e3,totalProgress:20,coursesEnrolled:1,testsCompleted:2,avgScore:55,status:"inactive"}]),H=A.useMemo(()=>{let U=[...V];if(c.trim()){const Z=c.toLowerCase();U=U.filter(pe=>pe.name.toLowerCase().includes(Z)||pe.email.toLowerCase().includes(Z))}switch(u!=="all"&&(U=U.filter(Z=>Z.status===u)),p){case"name":U.sort((Z,pe)=>Z.name.localeCompare(pe.name));break;case"progress":U.sort((Z,pe)=>pe.totalProgress-Z.totalProgress);break;case"recent":U.sort((Z,pe)=>(pe.lastActiveAt||0)-(Z.lastActiveAt||0));break;case"score":U.sort((Z,pe)=>pe.avgScore-Z.avgScore);break}return U},[V,c,u,p]),G=A.useMemo(()=>({totalStudents:V.length,activeStudents:V.filter(U=>U.status==="active").length,avgProgress:Math.round(V.reduce((U,Z)=>U+Z.totalProgress,0)/V.length),avgScore:Math.round(V.reduce((U,Z)=>U+Z.avgScore,0)/V.length),topPerformer:V.reduce((U,Z)=>U.avgScore>Z.avgScore?U:Z)}),[V]),P=U=>new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),W=U=>{const pe=Date.now()-U,me=Math.floor(pe/(1e3*60)),ye=Math.floor(pe/(1e3*60*60)),Fe=Math.floor(pe/(1e3*60*60*24));return me<60?`${me}m ago`:ye<24?`${ye}h ago`:Fe<7?`${Fe}d ago`:P(U)},F=()=>{if(!T.trim()||!_.trim()){alert("Please fill in name and email");return}const U={id:`student-${Date.now()}`,name:_.trim(),email:T.trim(),phone:k.trim()||void 0,enrolledAt:Date.now(),lastActiveAt:Date.now(),totalProgress:0,coursesEnrolled:1,testsCompleted:0,avgScore:0,status:"active"};M([U,...V]),N(""),C(""),j(""),E(""),o("students")},O=U=>{confirm("Are you sure you want to remove this student?")&&M(V.filter(Z=>Z.id!==U))},L=U=>{M(V.map(Z=>Z.id===U?{...Z,status:Z.status==="active"?"inactive":"active"}:Z))},K=U=>{switch(U){case"active":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"inactive":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300";case"blocked":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}},Q=U=>U>=75?"bg-green-500":U>=50?"bg-blue-500":U>=25?"bg-yellow-500":"bg-red-500";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-1 p-1 bg-muted rounded-lg",children:[a.jsx("button",{onClick:()=>o("overview"),className:`flex-1 px-3 py-2 rounded text-sm font-medium transition-colors ${s==="overview"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Overview"}),a.jsx("button",{onClick:()=>o("students"),className:`flex-1 px-3 py-2 rounded text-sm font-medium transition-colors ${s==="students"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Students"}),a.jsx("button",{onClick:()=>o("add"),className:`flex-1 px-3 py-2 rounded text-sm font-medium transition-colors ${s==="add"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Add New"}),a.jsx("button",{onClick:()=>o("analytics"),className:`flex-1 px-3 py-2 rounded text-sm font-medium transition-colors ${s==="analytics"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Analytics"})]}),s==="overview"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Jo,{className:"h-5 w-5 text-blue-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Total Students"})]}),a.jsx("p",{className:"text-2xl font-bold",children:G.totalStudents}),a.jsxs("p",{className:"text-xs text-green-600",children:[G.activeStudents," active"]})]}),a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(R_,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Avg Progress"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[G.avgProgress,"%"]}),a.jsx(Fy,{value:G.avgProgress,className:"h-1.5 mt-2"})]}),a.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(za,{className:"h-5 w-5 text-purple-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Avg Score"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[G.avgScore,"%"]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Jg,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Top Performer"})]}),a.jsx("p",{className:"text-sm font-bold truncate",children:G.topPerformer.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[G.topPerformer.avgScore,"% avg"]})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(f0,{className:"h-4 w-4 text-amber-500"}),"Top Performers"]}),a.jsx("div",{className:"space-y-2",children:V.sort((U,Z)=>Z.avgScore-U.avgScore).slice(0,3).map((U,Z)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${Z===0?"bg-amber-500 text-white":Z===1?"bg-gray-400 text-white":"bg-amber-700 text-white"}`,children:Z+1}),a.jsx($d,{className:"h-8 w-8",children:a.jsx(Hd,{children:U.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:U.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[U.avgScore,"% avg score"]})]}),a.jsx(Sc,{className:`h-4 w-4 ${Z===0?"text-amber-500 fill-amber-500":"text-muted-foreground"}`})]},U.id))})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-blue-500"}),"Recent Activity"]}),a.jsx("div",{className:"space-y-2",children:V.sort((U,Z)=>(Z.lastActiveAt||0)-(U.lastActiveAt||0)).slice(0,5).map(U=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($d,{className:"h-6 w-6",children:a.jsx(Hd,{className:"text-xs",children:U.name.charAt(0)})}),a.jsx("span",{children:U.name})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:U.lastActiveAt?W(U.lastActiveAt):"Never"})]},U.id))})]})]}),s==="students"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(j_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(et,{placeholder:"Search students...",value:c,onChange:U=>l(U.target.value),className:"pl-9"})]}),a.jsxs(Wt,{value:u,onValueChange:U=>d(U),children:[a.jsx(Mt,{className:"w-32",children:a.jsx(qt,{placeholder:"Status"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All"}),a.jsx(Qe,{value:"active",children:"Active"}),a.jsx(Qe,{value:"inactive",children:"Inactive"})]})]}),a.jsxs(Wt,{value:p,onValueChange:U=>y(U),children:[a.jsx(Mt,{className:"w-32",children:a.jsx(qt,{placeholder:"Sort"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"recent",children:"Recent"}),a.jsx(Qe,{value:"name",children:"Name"}),a.jsx(Qe,{value:"progress",children:"Progress"}),a.jsx(Qe,{value:"score",children:"Score"})]})]})]}),a.jsx("div",{className:"space-y-2 max-h-[450px] overflow-y-auto",children:H.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Jo,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"No students found"})]}):H.map(U=>a.jsx("div",{className:"p-4 border rounded-lg bg-background hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($d,{className:"h-10 w-10",children:a.jsx(Hd,{children:U.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium truncate",children:U.name}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K(U.status)}`,children:U.status})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:U.email}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"h-3 w-3"})," ",U.coursesEnrolled," courses"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(za,{className:"h-3 w-3"})," ",U.avgScore,"%"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ir,{className:"h-3 w-3"})," ",U.lastActiveAt?W(U.lastActiveAt):"Never"]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[U.totalProgress,"%"]})]}),a.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${Q(U.totalProgress)} transition-all`,style:{width:`${U.totalProgress}%`}})})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{g(U),x(!0)},children:a.jsx(Bc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>L(U.id),children:U.status==="active"?a.jsx(P0,{className:"h-4 w-4 text-yellow-500"}):a.jsx(ga,{className:"h-4 w-4 text-green-500"})}),a.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500",onClick:()=>O(U.id),children:a.jsx(Zge,{className:"h-4 w-4"})})]})]})},U.id))}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Showing ",H.length," of ",V.length," students"]})]}),s==="add"&&a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(pm,{className:"h-5 w-5 text-blue-500"}),a.jsx("h4",{className:"font-medium",children:"Add New Student"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Full Name *"}),a.jsx(et,{placeholder:"Enter student's full name",value:_,onChange:U=>N(U.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Email Address *"}),a.jsx(et,{type:"email",placeholder:"student@example.com",value:T,onChange:U=>C(U.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),a.jsx(et,{type:"tel",placeholder:"+880 1XXX-XXXXXX",value:k,onChange:U=>j(U.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Enroll to Course"}),a.jsxs(Wt,{value:D,onValueChange:E,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Select a course"})}),a.jsx(Bt,{children:r.length>0?r.map(U=>a.jsx(Qe,{value:U.id,children:U.title},U.id)):a.jsx(Qe,{value:"demo",children:"Demo Course"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Access Type"}),a.jsxs(Wt,{value:I,onValueChange:U=>R(U),children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"full",children:"Full Access - All content"}),a.jsx(Qe,{value:"limited",children:"Limited Access - Selected content only"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Send Welcome Email"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Student will receive login instructions"})]}),a.jsx(rs,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>o("students"),className:"flex-1",children:"Cancel"}),a.jsxs(ge,{onClick:F,className:"flex-1",children:[a.jsx(pm,{className:"h-4 w-4 mr-2"})," Add Student"]})]})]}),s==="analytics"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(q2,{className:"h-4 w-4 text-blue-500"}),"Completion Rate Distribution"]}),a.jsx("div",{className:"space-y-3",children:[{label:"0-25%",count:V.filter(U=>U.totalProgress<25).length,color:"bg-red-500"},{label:"25-50%",count:V.filter(U=>U.totalProgress>=25&&U.totalProgress<50).length,color:"bg-yellow-500"},{label:"50-75%",count:V.filter(U=>U.totalProgress>=50&&U.totalProgress<75).length,color:"bg-blue-500"},{label:"75-100%",count:V.filter(U=>U.totalProgress>=75).length,color:"bg-green-500"}].map(U=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs w-16",children:U.label}),a.jsx("div",{className:"flex-1 h-4 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${U.color} transition-all`,style:{width:`${U.count/V.length*100}%`}})}),a.jsx("span",{className:"text-xs w-8 text-right",children:U.count})]},U.label))})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(m0,{className:"h-4 w-4 text-purple-500"}),"Score Distribution"]}),a.jsx("div",{className:"space-y-3",children:[{label:"Excellent (80+)",count:V.filter(U=>U.avgScore>=80).length,color:"bg-green-500"},{label:"Good (60-79)",count:V.filter(U=>U.avgScore>=60&&U.avgScore<80).length,color:"bg-blue-500"},{label:"Average (40-59)",count:V.filter(U=>U.avgScore>=40&&U.avgScore<60).length,color:"bg-yellow-500"},{label:"Needs Help (<40)",count:V.filter(U=>U.avgScore<40).length,color:"bg-red-500"}].map(U=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs w-28",children:U.label}),a.jsx("div",{className:"flex-1 h-4 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${U.color} transition-all`,style:{width:`${U.count/V.length*100}%`}})}),a.jsx("span",{className:"text-xs w-8 text-right",children:U.count})]},U.label))})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-amber-500"}),"Activity Status"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:V.filter(U=>U.lastActiveAt&&U.lastActiveAt>Date.now()-24*60*60*1e3).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Today"})]}),a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:V.filter(U=>U.lastActiveAt&&U.lastActiveAt>Date.now()-7*24*60*60*1e3).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This Week"})]}),a.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:V.filter(U=>!U.lastActiveAt||U.lastActiveAt<Date.now()-7*24*60*60*1e3).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive"})]})]})]}),a.jsxs(ge,{variant:"outline",className:"w-full",children:[a.jsx($c,{className:"h-4 w-4 mr-2"})," Export Student Data (CSV)"]})]}),a.jsx(dr,{children:v&&m&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>x(!1),children:a.jsxs(ct.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Student Details"}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>x(!1),children:a.jsx(sn,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($d,{className:"h-16 w-16",children:a.jsx(Hd,{className:"text-xl",children:m.name.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-lg",children:m.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m.email}),m.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:m.phone})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[m.totalProgress,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Progress"})]}),a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[m.avgScore,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Score"})]}),a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:m.coursesEnrolled}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Courses"})]}),a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:m.testsCompleted}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tests Done"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium mb-2",children:"Timeline"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),a.jsx("span",{children:P(m.enrolledAt)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Last Active"}),a.jsx("span",{children:m.lastActiveAt?W(m.lastActiveAt):"Never"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ge,{variant:"outline",className:"w-full",onClick:()=>w(!0),children:[a.jsx(ms,{className:"h-4 w-4 mr-2"})," Customize Course Plan"]}),a.jsxs(ge,{variant:"outline",className:"w-full",children:[a.jsx(Vz,{className:"h-4 w-4 mr-2"})," Send Message"]})]})]})]})})})]})}const DJ=A.createContext(void 0);function KLe(){const e=A.useContext(DJ);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const XLe={success:ga,error:Ou,warning:P0,info:Uz},YLe={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-800 text-emerald-800 dark:text-emerald-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",warning:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"},ZLe={success:"text-emerald-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500"};function JLe({toast:e,onRemove:t}){const n=XLe[e.type];return A.useEffect(()=>{const r=setTimeout(()=>{t()},e.duration||4e3);return()=>clearTimeout(r)},[e.duration,t]),a.jsxs(ct.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:`flex items-start gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-sm ${YLe[e.type]}`,children:[a.jsx(n,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${ZLe[e.type]}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm",children:e.title}),e.message&&a.jsx("p",{className:"text-sm opacity-80 mt-0.5",children:e.message})]}),a.jsx("button",{onClick:t,className:"flex-shrink-0 p-1 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:a.jsx(sn,{className:"w-4 h-4"})})]})}function jM({children:e}){const[t,n]=A.useState([]),r=A.useCallback(u=>{const d=Math.random().toString(36).substring(2,9);n(f=>[...f,{...u,id:d}])},[]),i=A.useCallback(u=>{n(d=>d.filter(f=>f.id!==u))},[]),s=A.useCallback((u,d)=>{r({type:"success",title:u,message:d})},[r]),o=A.useCallback((u,d)=>{r({type:"error",title:u,message:d,duration:6e3})},[r]),c=A.useCallback((u,d)=>{r({type:"warning",title:u,message:d})},[r]),l=A.useCallback((u,d)=>{r({type:"info",title:u,message:d})},[r]);return a.jsxs(DJ.Provider,{value:{toasts:t,addToast:r,removeToast:i,success:s,error:o,warning:c,info:l},children:[e,a.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:a.jsx(dr,{mode:"sync",children:t.map(u=>a.jsx("div",{className:"pointer-events-auto",children:a.jsx(JLe,{toast:u,onRemove:()=>i(u.id)})},u.id))})})]})}const Mx={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},wC={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},eMe=[{id:"course_1",teacherId:"teacher_1",teacherName:"Dr. Rahman",title:"BCS Bengali Literature Complete",subtitle:"From Charyapada to Modern Literature",description:"Complete preparation for BCS exam",category:"BCS",level:"all",language:"Bengali",price:999,discountPrice:499,currency:"BDT",totalSections:12,totalLessons:85,totalDuration:1200,rating:4.8,totalReviews:234,totalStudents:1250,hasPreview:!0,hasCertificate:!0,isPublished:!0,tags:["BCS","Bengali","Literature"],whatYouWillLearn:["Ancient Literature","Medieval Literature","Modern Literature"],requirements:["Can read Bengali"],createdAt:new Date,updatedAt:new Date},{id:"course_2",teacherId:"teacher_1",teacherName:"Prof. Karim",title:"Bank Job Mathematics",subtitle:"All Math Topics - Easy Method",description:"Complete Mathematics course for Bank Jobs",category:"Bank Job",level:"intermediate",language:"Bengali",price:799,currency:"BDT",totalSections:8,totalLessons:64,totalDuration:900,rating:4.6,totalReviews:156,totalStudents:890,hasPreview:!0,hasCertificate:!0,isPublished:!0,tags:["Bank","Math"],whatYouWillLearn:["Percentage","Profit-Loss","Interest"],requirements:["Basic Math"],createdAt:new Date,updatedAt:new Date},{id:"course_3",teacherId:"teacher_2",teacherName:"Ms. Fatima",title:"English Grammar Mastery",subtitle:"From Basics to Advanced",description:"Complete English Grammar course",category:"English",level:"beginner",language:"English",price:0,currency:"BDT",totalSections:10,totalLessons:72,totalDuration:800,rating:4.9,totalReviews:312,totalStudents:2100,hasPreview:!0,hasCertificate:!1,isPublished:!0,tags:["English","Grammar","Free"],whatYouWillLearn:["Parts of Speech","Tenses","Voice"],requirements:["Basic English reading"],createdAt:new Date,updatedAt:new Date}];function IM({course:e,onView:t,onEdit:n,onManage:r,isTeacher:i=!1}){return a.jsxs(ct.div,{variants:Mx,whileHover:{y:-4},className:"group bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-indigo-500 to-purple-600 overflow-hidden",children:[e.thumbnail?a.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx($l,{className:"w-16 h-16 text-white/30"})}),a.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[e.price===0&&a.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white text-xs font-medium rounded-full",children:"Free"}),e.discountPrice&&e.price>0&&a.jsxs("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-medium rounded-full",children:[Math.round((1-e.discountPrice/e.price)*100),"% OFF"]})]}),e.hasPreview&&a.jsx("button",{onClick:t,className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/40 transition-colors",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all",children:a.jsx(Zo,{className:"w-5 h-5 text-indigo-600 ml-1"})})}),i&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("button",{onClick:s=>{s.stopPropagation(),n==null||n()},className:"p-2 bg-white/90 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Pl,{className:"w-4 h-4 text-gray-600"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 text-xs font-medium rounded",children:e.category}),a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:e.level})]}),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 mb-2 cursor-pointer hover:text-indigo-600 transition-colors",onClick:t,children:e.title}),e.teacherName&&a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:e.teacherName}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),e.rating.toFixed(1)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Jo,{className:"w-4 h-4"}),e.totalStudents]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ir,{className:"w-4 h-4"}),Math.floor(e.totalDuration/60),"h"]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t dark:border-gray-800",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.price===0?"Free":a.jsxs(a.Fragment,{children:[e.currency==="BDT"?"":"$",e.discountPrice||e.price]})}),e.discountPrice&&e.price>0&&a.jsxs("span",{className:"text-sm text-gray-400 line-through",children:[e.currency==="BDT"?"":"$",e.price]})]}),i?a.jsxs(ge,{size:"sm",onClick:r,children:[a.jsx(Hr,{className:"w-4 h-4 mr-1"}),"Manage"]}):a.jsxs(ge,{size:"sm",variant:"outline",onClick:t,children:["View ",a.jsx(xa,{className:"w-4 h-4 ml-1"})]})]})]})]})}function cb({icon:e,label:t,value:n,trend:r,color:i}){const s={indigo:"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600",emerald:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600",amber:"bg-amber-100 dark:bg-amber-900/50 text-amber-600",rose:"bg-rose-100 dark:bg-rose-900/50 text-rose-600"};return a.jsxs(ct.div,{variants:Mx,className:"bg-white dark:bg-gray-900 rounded-2xl p-4 sm:p-5 border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:justify-between sm:gap-0",children:[a.jsx("div",{className:`p-2.5 sm:p-3 rounded-xl ${s[i]}`,children:a.jsx(e,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),a.jsxs("div",{className:"flex-1 sm:hidden",children:[a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n}),a.jsx("p",{className:"text-xs text-gray-500",children:t})]}),r&&a.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-600 bg-emerald-100 dark:bg-emerald-900/50 px-2 py-1 rounded-full",children:[a.jsx(R_,{className:"w-3 h-3"}),r]})]}),a.jsxs("div",{className:"mt-3 hidden sm:block",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n}),a.jsx("p",{className:"text-sm text-gray-500",children:t})]})]})}function tMe({activeSubTab:e,setActiveSubTab:t}){const{user:n}=Ki(),{courses:r,teachers:i,myCourses:s,teacherProfile:o,loadFromFirestore:c}=Xc(),l=KLe(),[u,d]=A.useState(""),[f,h]=A.useState("all"),[p,y]=A.useState("grid"),[m,g]=A.useState(!1),[v,x]=A.useState(!1),[b,w]=A.useState(null),[T,C]=A.useState(null),[_,N]=A.useState(null),[k,j]=A.useState(!1),[D,E]=A.useState("all"),[I,R]=A.useState("all"),[V,M]=A.useState("all"),[H,G]=A.useState("popular"),[P,W]=A.useState("all"),[F,O]=A.useState(null);A.useEffect(()=>{n!=null&&n.id&&c(n.id)},[n==null?void 0:n.id,c]);const L=i.find(ve=>ve.userId===(n==null?void 0:n.id))??((o==null?void 0:o.userId)===(n==null?void 0:n.id)?o:void 0),K=!!L,Q=r.length>0?r:[...r,...eMe],U=A.useMemo(()=>{const ve=new Set;return Q.forEach(B=>B.teacherName&&ve.add(B.teacherName)),Array.from(ve).sort()},[Q]),Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),pe=A.useMemo(()=>{let ve=Q.filter(B=>{const _e=u.toLowerCase().trim(),Ee=!_e||B.title.toLowerCase().includes(_e)||B.category.toLowerCase().includes(_e)||B.teacherName&&B.teacherName.toLowerCase().includes(_e)||B.tags&&B.tags.some(oe=>oe.toLowerCase().includes(_e)),se=f==="all"||B.category===f,J=D==="all"||B.level===D,de=I==="all"||I==="free"&&B.price===0||I==="paid"&&B.price>0,X=V==="all"||B.rating>=parseFloat(V),ue=P==="all"||B.teacherName===P,te=!F||B.title.toUpperCase().startsWith(F)||B.teacherName&&B.teacherName.toUpperCase().startsWith(F);return Ee&&se&&J&&de&&X&&ue&&te&&B.isPublished});switch(H){case"popular":ve.sort((B,_e)=>_e.totalStudents-B.totalStudents);break;case"rating":ve.sort((B,_e)=>_e.rating-B.rating);break;case"newest":ve.sort((B,_e)=>new Date(_e.createdAt).getTime()-new Date(B.createdAt).getTime());break;case"price-low":ve.sort((B,_e)=>(B.discountPrice||B.price)-(_e.discountPrice||_e.price));break;case"price-high":ve.sort((B,_e)=>(_e.discountPrice||_e.price)-(B.discountPrice||B.price));break;case"title-az":ve.sort((B,_e)=>B.title.localeCompare(_e.title));break;case"title-za":ve.sort((B,_e)=>_e.title.localeCompare(B.title));break;case"teacher-az":ve.sort((B,_e)=>(B.teacherName||"").localeCompare(_e.teacherName||""));break}return ve},[Q,u,f,D,I,V,P,F,H]),me=["all",...new Set(Q.map(ve=>ve.category))],ye=[D,I,V,P].filter(ve=>ve!=="all").length+(F?1:0),Fe=()=>{E("all"),R("all"),M("all"),W("all"),O(null),G("popular")},Y={totalCourses:s.length,totalStudents:s.reduce((ve,B)=>ve+(B.totalStudents||0),0),totalRevenue:s.reduce((ve,B)=>ve+(B.discountPrice||B.price)*(B.totalStudents||0),0),avgRating:s.length>0?(s.reduce((ve,B)=>ve+(B.rating||0),0)/s.length).toFixed(1):0};return b?a.jsx(zLe,{courseId:b,onBack:()=>w(null)}):_?a.jsx($Le,{courseId:_,onBack:()=>N(null)}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 -mx-4 sm:mx-0",children:[a.jsx("div",{className:"hidden sm:block bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx($l,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Coaching Desk"}),a.jsx("p",{className:"text-white/80 text-sm",children:e==="browse"?"Learn from the best":"Manage your courses"})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-1 bg-white/10 rounded-xl p-1",children:[a.jsxs("button",{onClick:()=>t("browse"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="browse"?"bg-white text-indigo-600":"text-white hover:bg-white/10"}`,children:[a.jsx(Hr,{className:"w-4 h-4 inline mr-2"}),"Browse"]}),a.jsxs("button",{onClick:()=>t("my-courses"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="my-courses"||e==="settings"?"bg-white text-indigo-600":"text-white hover:bg-white/10"}`,children:[a.jsx(Yge,{className:"w-4 h-4 inline mr-2"}),"My Courses"]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[(e==="my-courses"||e==="settings")&&a.jsxs(ct.div,{variants:wC,initial:"hidden",animate:"visible",className:"space-y-6",children:[K&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 lg:grid-cols-4",children:[a.jsx(cb,{icon:Hr,label:"My Courses",value:Y.totalCourses,color:"indigo"}),a.jsx(cb,{icon:Jo,label:"Students",value:Y.totalStudents.toLocaleString(),trend:"+12%",color:"emerald"}),a.jsx(cb,{icon:Ob,label:"Revenue",value:`${Y.totalRevenue.toLocaleString()}`,trend:"+8%",color:"amber"}),a.jsx(cb,{icon:Sc,label:"Rating",value:Y.avgRating,color:"rose"})]})}),a.jsxs(v0,{value:e==="settings"?"settings":"courses",onValueChange:ve=>t(ve==="settings"?"settings":"my-courses"),className:"w-full",children:[a.jsxs(Kh,{className:"hidden lg:grid w-full grid-cols-2 mb-6",children:[a.jsxs(bi,{value:"courses",children:[a.jsx(Hr,{className:"h-4 w-4 mr-2"})," My Courses"]}),a.jsxs(bi,{value:"settings",children:[a.jsx(ms,{className:"h-4 w-4 mr-2"})," Settings"]})]}),a.jsx(wi,{value:"courses",className:"space-y-4 sm:space-y-6",children:K?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 sm:flex-wrap sm:overflow-visible scrollbar-hide",children:[a.jsxs(ge,{size:"sm",className:"shrink-0",onClick:()=>x(!0),children:[a.jsx(Yt,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Create Course"})]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"shrink-0",onClick:()=>g(!0),children:[a.jsx(ms,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"})]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"shrink-0",onClick:async()=>{try{await ske(o,s),l.success("Cloud Sync !","  data cloud  save ")}catch(ve){console.error("Sync failed:",ve),l.error("Sync !",ve.message)}},children:[a.jsx(Rge,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Sync"})]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"shrink-0",children:[a.jsx(q2,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"shrink-0",children:[a.jsx($2,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Messages"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"My Courses"}),s.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(ve=>a.jsx(IM,{course:ve,isTeacher:!0,onView:()=>w(ve.id),onEdit:()=>{C(ve),x(!0)},onManage:()=>N(ve.id)},ve.id))}):a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-900 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700",children:[a.jsx(Hr,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No courses yet"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first course and start teaching!"}),a.jsxs(ge,{onClick:()=>x(!0),children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Create Course"]})]})]})]}):a.jsx(ct.div,{variants:Mx,className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:a.jsx(f0,{className:"w-8 h-8 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Complete Your Teacher Profile"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Set up your teacher profile to start creating courses."}),a.jsxs(ge,{onClick:()=>g(!0),children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Complete Profile"]})]})]})})}),a.jsx(wi,{value:"settings",className:"space-y-6",children:K?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ms,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold",children:"Teacher Settings"})]}),a.jsx(QLe,{}),a.jsxs(dt,{className:"border-2 border-cyan-200 dark:border-cyan-800",children:[a.jsxs(jn,{className:"pb-3",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-base",children:[a.jsx(g0,{className:"h-5 w-5 text-cyan-500"}),"Live Test Management"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Schedule and manage live tests for your students"})]}),a.jsx(Lt,{className:"pt-0",children:a.jsx(HLe,{})})]}),a.jsxs(dt,{className:"border-2 border-green-200 dark:border-green-800",children:[a.jsxs(jn,{className:"pb-3",children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-base",children:[a.jsx(Dc,{className:"h-5 w-5 text-green-500"}),"Question Bank"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Create and manage your question bank for quizzes and tests"})]}),a.jsx(Lt,{className:"pt-0",children:a.jsx(GLe,{})})]})]}):a.jsx(ct.div,{variants:Mx,className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:a.jsx(f0,{className:"w-8 h-8 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Complete Your Teacher Profile"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Set up your teacher profile to access settings and manage your courses."}),a.jsxs(ge,{onClick:()=>g(!0),children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Complete Profile"]})]})]})})})]})]}),e==="browse"&&a.jsxs(ct.div,{variants:wC,initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsxs(ct.div,{variants:Mx,className:"bg-white dark:bg-gray-900 rounded-2xl p-4 border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(j_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(et,{placeholder:"Search courses, teachers, subjects...",value:u,onChange:ve=>d(ve.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>j(!k),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${k?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[a.jsx(Kge,{className:"w-4 h-4"}),"Filters",ye>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-white text-indigo-600 rounded-full",children:ye})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded ${p==="grid"?"bg-white dark:bg-gray-700 shadow-sm":""}`,children:a.jsx(Pge,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded ${p==="list"?"bg-white dark:bg-gray-700 shadow-sm":""}`,children:a.jsx(Mge,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mt-4 scrollbar-thin",children:me.map(ve=>a.jsx("button",{onClick:()=>h(ve),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${f===ve?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:ve==="all"?"All":ve},ve))})]}),a.jsx(dr,{children:k&&a.jsx(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fge,{className:"w-5 h-5 text-indigo-600"}),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"})]}),ye>0&&a.jsxs("button",{onClick:Fe,className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[a.jsx(sn,{className:"w-4 h-4"})," Clear all"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Teacher"}),a.jsxs("select",{value:P,onChange:ve=>W(ve.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Teachers"}),U.map(ve=>a.jsx("option",{value:ve,children:ve},ve))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Level"}),a.jsxs("select",{value:D,onChange:ve=>E(ve.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Levels"}),a.jsx("option",{value:"beginner",children:"Beginner"}),a.jsx("option",{value:"intermediate",children:"Intermediate"}),a.jsx("option",{value:"advanced",children:"Advanced"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Price"}),a.jsxs("select",{value:I,onChange:ve=>R(ve.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Prices"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"paid",children:"Paid"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Rating"}),a.jsxs("select",{value:V,onChange:ve=>M(ve.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Ratings"}),a.jsx("option",{value:"4.5",children:"4.5+ "}),a.jsx("option",{value:"4",children:"4+ "}),a.jsx("option",{value:"3.5",children:"3.5+ "})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Sort By"}),a.jsxs("select",{value:H,onChange:ve=>G(ve.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"title-az",children:"Title: A-Z"}),a.jsx("option",{value:"title-za",children:"Title: Z-A"}),a.jsx("option",{value:"teacher-az",children:"Teacher: A-Z"})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-2 block",children:"Browse by Letter (Course/Teacher)"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx("button",{onClick:()=>O(null),className:`w-8 h-8 text-xs font-medium rounded-lg transition-all ${F?"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":"bg-indigo-600 text-white"}`,children:"All"}),Z.map(ve=>a.jsx("button",{onClick:()=>O(F===ve?null:ve),className:`w-8 h-8 text-xs font-medium rounded-lg transition-all ${F===ve?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/30"}`,children:ve},ve))]})]})]})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:f==="all"?"All Courses":f}),F&&a.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 rounded-lg",children:['Starting with "',F,'"']})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[pe.length," courses found"]})]}),pe.length===0?a.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[a.jsx(Hr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No courses found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filters"}),ye>0&&a.jsx("button",{onClick:Fe,className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Clear all filters"})]}):a.jsx(ct.div,{variants:wC,initial:"hidden",animate:"visible",className:p==="grid"?"grid sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:pe.map(ve=>a.jsx(IM,{course:ve,onView:()=>w(ve.id)},ve.id))})]})]})]}),a.jsxs(dr,{children:[m&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",onClick:()=>g(!1),children:a.jsx(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:ve=>ve.stopPropagation(),children:a.jsx(MLe,{onClose:()=>g(!1),existingProfile:L||void 0})})}),v&&a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",onClick:()=>{x(!1),C(null)},children:a.jsx(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:ve=>ve.stopPropagation(),children:a.jsx(WLe,{onClose:()=>{x(!1),C(null)},existingCourse:T||void 0})})})]})]})}const nMe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},th={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function rMe(){var l,u;const{theme:e,setTheme:t,hapticEnabled:n,setHapticEnabled:r,triggerHaptic:i}=YW(),{user:s,logout:o}=Ki(),c=[{value:"light",label:"Light",icon:Xge},{value:"dark",label:"Dark",icon:qge},{value:"system",label:"System",icon:Wge}];return a.jsxs(ct.div,{variants:nMe,initial:"hidden",animate:"visible",className:"space-y-6 max-w-3xl",children:[a.jsxs(ct.div,{variants:th,children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(ms,{className:"h-8 w-8"}),"Settings"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your preferences"})]}),a.jsx(ct.div,{variants:th,children:a.jsxs(dt,{children:[a.jsxs(jn,{children:[a.jsxs(Mn,{className:"flex items-center gap-2",children:[a.jsx(Ax,{className:"h-5 w-5"}),"Profile"]}),a.jsx(wl,{children:"Manage your account"})]}),a.jsx(Lt,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-2xl font-bold",children:((l=s==null?void 0:s.displayName)==null?void 0:l[0])||((u=s==null?void 0:s.email)==null?void 0:u[0])||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:(s==null?void 0:s.displayName)||"User"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.email)||"guest@local"}),(s==null?void 0:s.isGuest)&&a.jsx("span",{className:"text-xs bg-yellow-500/10 text-yellow-600 px-2 py-0.5 rounded mt-1 inline-block",children:"Guest Account"})]}),!(s!=null&&s.isGuest)&&a.jsx(ge,{variant:"outline",onClick:()=>alert(" Coming Soon!"),children:"Edit Profile"})]})})]})}),a.jsx(ct.div,{variants:th,children:a.jsxs(dt,{children:[a.jsxs(jn,{children:[a.jsxs(Mn,{className:"flex items-center gap-2",children:[a.jsx(zge,{className:"h-5 w-5"}),"Appearance"]}),a.jsx(wl,{children:"Customize the look"})]}),a.jsx(Lt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-3",children:"Theme"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map(d=>{const f=d.icon;return a.jsxs("button",{onClick:()=>{t(d.value),i("light")},className:Ct("p-4 rounded-lg border-2 transition-all flex flex-col items-center gap-2",e===d.value?"border-primary bg-primary/5":"border-transparent bg-muted/50 hover:bg-muted"),children:[a.jsx(f,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm font-medium",children:d.label})]},d.value)})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jge,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Haptic Feedback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vibration on button press"})]})]}),a.jsx(rs,{checked:n,onCheckedChange:d=>{r(d),d&&i("medium")}})]})]})})]})}),a.jsx(ct.div,{variants:th,children:a.jsxs(dt,{children:[a.jsxs(jn,{children:[a.jsxs(Mn,{className:"flex items-center gap-2",children:[a.jsx(z2,{className:"h-5 w-5"}),"Notifications"]}),a.jsx(wl,{children:"Notification preferences"})]}),a.jsxs(Lt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications"})]}),a.jsx(rs,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),a.jsx(rs,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Study Reminders"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get study session reminders"})]}),a.jsx(rs,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Group Activity"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for group activities"})]}),a.jsx(rs,{})]})]})]})}),a.jsx(ct.div,{variants:th,children:a.jsxs(dt,{children:[a.jsxs(jn,{children:[a.jsxs(Mn,{className:"flex items-center gap-2",children:[a.jsx(Sv,{className:"h-5 w-5"}),"Privacy & Security"]}),a.jsx(wl,{children:"Account security settings"})]}),a.jsxs(Lt,{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>alert(" Coming Soon!"),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(D_,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Profile Visibility"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Friends only"})]})]}),a.jsx(xa,{className:"h-5 w-5 text-muted-foreground"})]}),!(s!=null&&s.isGuest)&&a.jsxs("button",{onClick:()=>alert(" Coming Soon!"),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sv,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Not enabled"})]})]}),a.jsx(xa,{className:"h-5 w-5 text-muted-foreground"})]}),a.jsxs("button",{onClick:()=>alert(" Coming Soon!"),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($c,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Export Data"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Download your data"})]})]}),a.jsx(xa,{className:"h-5 w-5 text-muted-foreground"})]})]})]})}),a.jsx(ct.div,{variants:th,children:a.jsxs(dt,{className:"border-destructive/50",children:[a.jsxs(jn,{children:[a.jsxs(Mn,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(wr,{className:"h-5 w-5"}),"Danger Zone"]}),a.jsx(wl,{children:"Irreversible actions"})]}),a.jsx(Lt,{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-destructive/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account"})]}),a.jsx(ge,{variant:"destructive",size:"sm",onClick:()=>alert(" This feature requires email confirmation. Coming Soon!"),children:"Delete"})]})})]})}),a.jsx(ct.div,{variants:th,children:a.jsxs(ge,{variant:"outline",className:"w-full",onClick:o,children:[a.jsx(Bz,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})}const Ta={SUBJECTS:"asset-subjects",TOPICS:"asset-topics",SUBTOPICS:"asset-subtopics",ASSETS:"assets"};async function RM(e){await xt(Ke(Pe,Ta.SUBJECTS,e.id),e)}async function iMe(e,t){const n=Ke(Pe,Ta.SUBJECTS,e),r=await Uf(n);r.exists()&&await xt(n,{...r.data(),...t},{merge:!0})}async function sMe(e){await No(Ke(Pe,Ta.SUBJECTS,e));const t=Ut(Et(Pe,Ta.TOPICS),Vt("subjectId","==",e)),n=await Bn(t),r=Ha(Pe);for(const i of n.docs){r.delete(i.ref);const s=Ut(Et(Pe,Ta.SUBTOPICS),Vt("topicId","==",i.id));(await Bn(s)).docs.forEach(c=>r.delete(c.ref))}await r.commit()}function aMe(e,t){const n=Ut(Et(Pe,Ta.SUBJECTS),Vt("userId","==",e));return ir(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(s.order||0)-(o.order||0)))})}async function oMe(e){await xt(Ke(Pe,Ta.TOPICS,e.id),e)}function cMe(e,t){const n=Ut(Et(Pe,Ta.TOPICS),Vt("userId","==",e));return ir(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(s.order||0)-(o.order||0)))})}function lMe(e,t){const n=Ut(Et(Pe,Ta.SUBTOPICS),Vt("userId","==",e));return ir(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(s.order||0)-(o.order||0)))})}async function lb(e){await xt(Ke(Pe,Ta.ASSETS,e.id),e)}async function uMe(e,t){const n=Ke(Pe,Ta.ASSETS,e),r=await Uf(n);r.exists()&&await xt(n,{...r.data(),...t,updatedAt:Date.now()},{merge:!0})}async function dMe(e){await No(Ke(Pe,Ta.ASSETS,e))}function fMe(e,t){const n=Ut(Et(Pe,Ta.ASSETS),Vt("userId","==",e));return ir(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(o.createdAt||0)-(s.createdAt||0)))})}async function hMe(e,t){const n=Ke(Pe,Ta.ASSETS,e),r=await Uf(n);if(r.exists()){const i=r.data(),s=i.usedIn||[];s.some(c=>c.deskType===t.deskType&&c.deskId===t.deskId)||await xt(n,{...i,usedIn:[...s,t],updatedAt:Date.now()})}}async function pMe(e){const t=Ha(Pe);e.forEach(n=>{t.set(Ke(Pe,Ta.ASSETS,n.id),n)}),await t.commit()}function mMe(e,t){const n=[];return n.push(aMe(e,t.onSubjects)),n.push(cMe(e,t.onTopics)),n.push(lMe(e,t.onSubtopics)),n.push(fMe(e,t.onAssets)),()=>{n.forEach(r=>r())}}const gMe={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},xMe=[{type:"all",label:"All",icon:Hr},{type:"mcq",label:"MCQ",icon:Fl},{type:"note",label:"Notes",icon:Sr},{type:"url",label:"URLs",icon:_f},{type:"pdf",label:"PDF",icon:Nv},{type:"video",label:"Video",icon:bl}];function OM(){var Ua;const{user:e}=Ki(),{subjects:t,topics:n,subtopics:r,assets:i,selectedSubjectId:s,selectedTopicId:o,selectedSubtopicId:c,selectedType:l,searchQuery:u,setSubjects:d,setTopics:f,setSubtopics:h,setAssets:p,addSubject:y,addTopic:m,addSubtopic:g,addAsset:v,updateAsset:x,removeAsset:b,setSelectedSubject:w,setSelectedTopic:T,setSelectedSubtopic:C,setSelectedType:_,setSearchQuery:N,getFilteredAssets:k,getTopicsBySubject:j,getSubtopicsByTopic:D,getAssetUsageCount:E,setInitialized:I,isInitialized:R,updateSingleMCQ:V,getMCQQuestionById:M,updateSubject:H,removeSubject:G}=Gl(),P=la(Ie=>Ie.myGroups),W=Xc(Ie=>Ie.courses),[F,O]=A.useState("all"),[L,K]=A.useState(!1),[Q,U]=A.useState(!1),[Z,pe]=A.useState(!1),[me,ye]=A.useState(null),[Fe,Y]=A.useState(!1),[ve,B]=A.useState(!1),[_e,Ee]=A.useState(!1),[se,J]=A.useState(!1),[de,X]=A.useState(""),[ue,te]=A.useState(""),[oe,le]=A.useState(""),[ae,Te]=A.useState([]),[Ue,qe]=A.useState([]),[nt,Oe]=A.useState(null),[Le,Ze]=A.useState(""),[it,Dt]=A.useState(!1),[$t,Pt]=A.useState(null),[xn,rn]=A.useState(""),[qn,sr]=A.useState(["","","",""]),[Kn,Jn]=A.useState(0),[_n,Ft]=A.useState(""),[_r,Jt]=A.useState("medium"),[ar,Kr]=A.useState(""),[Cr,Dn]=A.useState(""),[hr,er]=A.useState(""),[or,cr]=A.useState(""),[Tr,ce]=A.useState(""),[Se,xe]=A.useState(""),[we,ne]=A.useState("single"),[fe,Ae]=A.useState(""),[re,Ce]=A.useState([]),[ke,Ne]=A.useState(""),[he,Re]=A.useState("personal"),[We,ze]=A.useState(""),[Xe,ot]=A.useState(""),[jt,gt]=A.useState(!1),[Nt,On]=A.useState(null),[cn,br]=A.useState(""),[lr,Zs]=A.useState(["","","",""]),[Ur,fc]=A.useState(0),[ro,io]=A.useState(""),[Ro,so]=A.useState("medium"),[ao,De]=A.useState(!1),[ht,en]=A.useState(null),[Ot,Fn]=A.useState([]),[Tn,cs]=A.useState([]),[Pn,ja]=A.useState(!1),Ia=qr(Ie=>Ie.subjects);qr(Ie=>Ie.topics);const kr=qr(Ie=>Ie.contentPacks);qr(Ie=>Ie.mcqs),qr(Ie=>Ie.notes),qr(Ie=>Ie.getTopicsBySubject);const Xi=qr(Ie=>Ie.getMcqsByPack),oo=qr(Ie=>Ie.getNotesByPack),hc=qr(Ie=>Ie.initSampleData),el=qr(Ie=>Ie.subscribeToLibrary);qr(Ie=>Ie.isInitialized);const[pr,tu]=A.useState(""),[zn,hi]=A.useState(""),[Pi,Ar]=A.useState("");A.useEffect(()=>{if(!(e!=null&&e.id))return;const Ie=mMe(e.id,{onSubjects:d,onTopics:f,onSubtopics:h,onAssets:p});return I(!0),()=>Ie()},[e==null?void 0:e.id]),A.useEffect(()=>{hc();const Ie=el();return()=>Ie()},[hc,el]);const Ra=A.useMemo(()=>k(),[i,s,o,c,l,u]),pi=s?j(s):[];o&&D(o);const Oa=pr?j(pr):[],si=zn?D(zn):[],Lr=Ie=>{Te(Je=>Je.includes(Ie)?Je.filter(ie=>ie!==Ie):[...Je,Ie])},mr=async()=>{if(!de.trim()||!(e!=null&&e.id))return;const Ie={id:Zt(),userId:e.id,name:de.trim(),order:t.length,createdAt:Date.now()};try{await RM(Ie),X(""),B(!1)}catch(Je){console.error("Error creating subject:",Je)}},Fa=async()=>{if(!(!nt||!Le.trim()))try{await iMe(nt.id,{name:Le.trim()}),H(nt.id,{name:Le.trim()}),Oe(null),Ze("")}catch(Ie){console.error("Error updating subject:",Ie),alert("Subject update   ")}},pn=async()=>{if(!$t)return;const Ie=i.filter(Je=>Je.subjectId===$t.id);if(Ie.length>0){alert(` Subject  ${Ie.length} asset      `),Dt(!1),Pt(null);return}try{await sMe($t.id),G($t.id),Dt(!1),Pt(null)}catch(Je){console.error("Error deleting subject:",Je),alert("Subject delete   ")}},Oo=async()=>{if(!ue.trim()||!s||!(e!=null&&e.id))return;const Ie={id:Zt(),userId:e.id,subjectId:s,name:ue.trim(),order:pi.length,createdAt:Date.now()};try{await oMe(Ie),te(""),Ee(!1)}catch(Je){console.error("Error creating topic:",Je)}},Fo=async()=>{if(!xn.trim()||!pr||!zn||!(e!=null&&e.id)||qn.some(Je=>!Je.trim()))return;const Ie={id:Zt(),userId:e.id,type:"mcq",subjectId:pr,topicId:zn,subtopicId:Pi||void 0,tags:ar.split(",").map(Je=>Je.trim()).filter(Boolean),title:xn.substring(0,50)+(xn.length>50?"...":""),quizQuestions:[{id:Zt(),question:xn,options:qn,correctIndex:Kn,explanation:_n||void 0,difficulty:_r}],createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Y(!0),await lb(Ie),v(Ie),Xr(),K(!1)}catch(Je){console.error("Error creating MCQ:",Je)}finally{Y(!1)}},nu=async()=>{if(!Cr.trim()||!hr.trim()||!pr||!zn||!(e!=null&&e.id))return;const Ie={id:Zt(),userId:e.id,type:"note",subjectId:pr,topicId:zn,subtopicId:Pi||void 0,tags:[],title:Cr,content:hr,createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Y(!0),await lb(Ie),v(Ie),Dn(""),er(""),K(!1)}catch(Je){console.error("Error creating note:",Je)}finally{Y(!1)}},Pa=async()=>{if(!or.trim()||!Tr.trim()||!pr||!zn||!(e!=null&&e.id))return;const Ie={id:Zt(),userId:e.id,type:"url",subjectId:pr,topicId:zn,subtopicId:Pi||void 0,tags:[],title:or,url:Tr,description:Se||void 0,createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Y(!0),await lb(Ie),v(Ie),cr(""),ce(""),xe(""),K(!1)}catch(Je){console.error("Error creating URL:",Je)}finally{Y(!1)}},Js=()=>{Ne("");try{const Ie=JSON.parse(fe);if(!Array.isArray(Ie)){Ne("JSON must be an array");return}const Je=Ie.map(ie=>({question:ie.question||ie.q||"",options:ie.options||ie.opts||[ie.a,ie.b,ie.c,ie.d].filter(Boolean),correctIndex:ie.correctIndex??ie.correct??ie.ans??0,explanation:ie.explanation||ie.exp||void 0,difficulty:["easy","medium","hard"].includes(ie.difficulty)?ie.difficulty:"medium"})).filter(ie=>ie.question&&ie.options.length>=2);if(Je.length===0){Ne("No valid questions found");return}Ce(Je)}catch{Ne("Invalid JSON format")}},Jr=async()=>{if(re.length===0||!pr||!zn||!(e!=null&&e.id))return;const Ie={id:Zt(),userId:e.id,type:"mcq",subjectId:pr,topicId:zn,subtopicId:Pi||void 0,tags:[],title:`${re.length} MCQs - ${new Date().toLocaleDateString()}`,quizQuestions:re.map(Je=>({id:Zt(),question:Je.question,options:Je.options,correctIndex:Je.correctIndex,explanation:Je.explanation,difficulty:Je.difficulty})),createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Y(!0),await lb(Ie),v(Ie),Ce([]),Ae(""),K(!1),alert(` ${re.length} MCQs uploaded successfully!`)}catch(Je){console.error("Error bulk uploading:",Je)}finally{Y(!1)}},tl=async()=>{if(me)try{Y(!0),await dMe(me.id),b(me.id),U(!1),ye(null)}catch(Ie){console.error("Error deleting asset:",Ie)}finally{Y(!1)}},ur=Ie=>{var Me;if(Ie.type!=="mcq")return;const ie=(Me=Ie.quizQuestions)==null?void 0:Me[0];ie&&(On({assetId:Ie.id,questionId:ie.id}),br(ie.question),Zs([...ie.options]),fc(ie.correctIndex),io(ie.explanation||""),so(ie.difficulty||"medium"),gt(!0))},ru=async()=>{if(!(!Nt||!cn.trim()||lr.some(Ie=>!Ie.trim())))try{Y(!0),V(Nt.assetId,Nt.questionId,{question:cn.trim(),options:lr.map(ie=>ie.trim()),correctIndex:Ur,explanation:ro.trim()||void 0,difficulty:Ro});const Ie=i.find(ie=>ie.id===Nt.assetId);Ie&&await uMe(Nt.assetId,{updatedAt:Date.now(),quizQuestions:Ie.quizQuestions.map(ie=>ie.id===Nt.questionId?{...ie,question:cn.trim(),options:lr.map(Me=>Me.trim()),correctIndex:Ur,explanation:ro.trim()||void 0,difficulty:Ro}:ie)});const Je=fke(Nt.assetId,Nt.questionId);gt(!1),On(null)}catch(Ie){console.error("Error updating MCQ:",Ie)}finally{Y(!1)}},nl=async()=>{if(!me)return;let Ie="",Je="";if(he==="personal")Ie="personal",Je="Personal Practice";else if(he==="group"){if(!We)return;const Me=P.find(vt=>vt.id===We);Ie=We,Je=(Me==null?void 0:Me.name)||"Group"}else if(he==="teacher"){if(!Xe)return;const Me=W.find(vt=>vt.id===Xe);Ie=Xe,Je=(Me==null?void 0:Me.title)||"Course"}const ie={deskType:he,deskId:Ie,deskName:Je,addedAt:Date.now()};try{Y(!0),await hMe(me.id,ie);const Me=[...me.usedIn||[],ie];x(me.id,{usedIn:Me}),pe(!1),ye(null),alert(" Added to desk successfully!")}catch(Me){console.error("Error adding to desk:",Me)}finally{Y(!1)}},iu=async()=>{if(!(!(e!=null&&e.id)||!ht)){if(Ot.length===0&&Tn.length===0){alert(" select !");return}ja(!0);try{let Ie=pr;if(!Ie)if(t.length>0){alert(" Subject select !"),ja(!1);return}else{const Qt={id:Zt(),userId:e.id,name:"Imported Content",order:0,createdAt:Date.now()};await RM(Qt),y(Qt),Ie=Qt.id}const Je=[],ie=Date.now(),Me=kr.find(Qt=>Qt.id===ht),vt=(Me==null?void 0:Me.title)||"Imported",Gt=Xi(ht);for(const Qt of Ot){const bn=Gt.find(ai=>ai.id===Qt);if(bn){const ai={id:Zt(),userId:e.id,type:"mcq",subjectId:Ie,topicId:zn||"",subtopicId:Pi||"",title:bn.question.replace(/<[^>]*>/g,"").substring(0,50)+"...",quizQuestions:[{id:Zt(),question:bn.question,options:bn.options,correctIndex:bn.correctIndex,explanation:bn.explanation,difficulty:bn.difficulty||"medium"}],tags:bn.tags||[vt],usedIn:[],createdAt:ie,updatedAt:ie};Je.push(ai)}}const yt=oo(ht);for(const Qt of Tn){const bn=yt.find(ai=>ai.id===Qt);if(bn){const ai={id:Zt(),userId:e.id,type:"note",subjectId:Ie,topicId:zn||"",subtopicId:Pi||"",title:bn.title,content:bn.content,tags:[vt],usedIn:[],createdAt:ie,updatedAt:ie};Je.push(ai)}}Je.length>0?(await pMe(Je),alert(` ${Je.length}   Import !`),De(!1),en(null),Fn([]),cs([])):alert("   Import   MCQ/Note   ")}catch(Ie){console.error("Error importing from library:",Ie),alert(` Import   : ${(Ie==null?void 0:Ie.message)||"Unknown error"}`)}finally{ja(!1)}}},su=Ie=>{Fn(Je=>Je.includes(Ie)?Je.filter(ie=>ie!==Ie):[...Je,Ie])},au=Ie=>{cs(Je=>Je.includes(Ie)?Je.filter(ie=>ie!==Ie):[...Je,Ie])},ea=Ie=>{const Je=Xi(Ie);Fn(Je.map(ie=>ie.id))},ou=Ie=>{const Je=oo(Ie);cs(Je.map(ie=>ie.id))},Xr=()=>{rn(""),sr(["","","",""]),Jn(0),Ft(""),Jt("medium"),Kr("")},co=Ie=>{var Je;return((Je=t.find(ie=>ie.id===Ie))==null?void 0:Je.name)||""},rl=Ie=>{var Je;return((Je=n.find(ie=>ie.id===Ie))==null?void 0:Je.name)||""};return e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:" Asset Library"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," assets  ",t.length," subjects"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",onClick:()=>De(!0),className:"gap-2",children:[a.jsx(ma,{className:"h-4 w-4"})," Import from Library"]}),a.jsxs(ge,{onClick:()=>K(!0),className:"gap-2",children:[a.jsx(Yt,{className:"h-4 w-4"})," Add Asset"]})]})]}),a.jsx(dt,{children:a.jsxs(Lt,{className:"p-3 space-y-3",children:[a.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:xMe.map(({type:Ie,label:Je,icon:ie})=>a.jsxs("button",{onClick:()=>{_(Ie),O(Ie)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${F===Ie?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:[a.jsx(ie,{className:"h-3.5 w-3.5"}),Je]},Ie))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(j_,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(et,{value:u,onChange:Ie=>N(Ie.target.value),placeholder:"Search assets...",className:"pl-8 h-9"})]}),a.jsxs(Wt,{value:s||"all",onValueChange:Ie=>w(Ie==="all"?null:Ie),children:[a.jsx(Mt,{className:"w-full sm:w-40 h-9",children:a.jsx(qt,{placeholder:"Subject"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Subjects"}),t.map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.name},Ie.id))]})]}),s&&a.jsxs(Wt,{value:o||"all",onValueChange:Ie=>T(Ie==="all"?null:Ie),children:[a.jsx(Mt,{className:"w-full sm:w-40 h-9",children:a.jsx(qt,{placeholder:"Topic"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"all",children:"All Topics"}),pi.map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.name},Ie.id))]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsxs(dt,{className:"lg:col-span-1",children:[a.jsx(jn,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Mn,{className:"text-sm",children:"Categories"}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>B(!0),children:a.jsx(hA,{className:"h-4 w-4"})})]})}),a.jsxs(Lt,{className:"p-2 max-h-[400px] overflow-y-auto",children:[ve&&a.jsxs("div",{className:"flex gap-1 mb-2 p-2 bg-muted rounded",children:[a.jsx(et,{value:de,onChange:Ie=>X(Ie.target.value),placeholder:"Subject name",className:"h-8 text-xs"}),a.jsx(ge,{size:"sm",className:"h-8 px-2",onClick:mr,children:a.jsx(Yt,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"h-8 px-2",onClick:()=>B(!1),children:a.jsx(sn,{className:"h-3 w-3"})})]}),t.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No subjects yet. Add one to get started!"}):a.jsx("div",{className:"space-y-1",children:t.map(Ie=>a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("button",{onClick:()=>{Lr(Ie.id),w(Ie.id)},className:`flex-1 flex items-center gap-2 px-2 py-1.5 rounded text-xs text-left hover:bg-muted ${s===Ie.id?"bg-primary/10 text-primary":""}`,children:[ae.includes(Ie.id)?a.jsx(Mc,{className:"h-3 w-3"}):a.jsx(xa,{className:"h-3 w-3"}),a.jsx("span",{className:"flex-1 truncate",children:Ie.name}),a.jsx("span",{className:"text-muted-foreground",children:i.filter(Je=>Je.subjectId===Ie.id).length})]}),a.jsxs(Ml,{children:[a.jsx(Bl,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:a.jsx(Pl,{className:"h-3 w-3"})})}),a.jsxs(Vc,{align:"end",children:[a.jsxs(Cn,{onClick:()=>{Oe(Ie),Ze(Ie.name)},children:[a.jsx(ha,{className:"h-3 w-3 mr-2"})," Rename"]}),a.jsxs(Cn,{className:"text-destructive",onClick:()=>{Pt(Ie),Dt(!0)},children:[a.jsx(wr,{className:"h-3 w-3 mr-2"})," Delete"]})]})]})]}),ae.includes(Ie.id)&&a.jsxs("div",{className:"ml-4 mt-1 space-y-0.5",children:[j(Ie.id).map(Je=>a.jsxs("button",{onClick:()=>T(Je.id),className:`w-full flex items-center gap-2 px-2 py-1 rounded text-xs text-left hover:bg-muted ${o===Je.id?"bg-primary/10 text-primary":""}`,children:[a.jsxs("span",{className:"flex-1 truncate",children:[" ",Je.name]}),a.jsx("span",{className:"text-muted-foreground",children:i.filter(ie=>ie.topicId===Je.id).length})]},Je.id)),s===Ie.id&&a.jsxs(ge,{size:"sm",variant:"ghost",className:"w-full h-6 text-xs justify-start",onClick:()=>Ee(!0),children:[a.jsx(Yt,{className:"h-3 w-3 mr-1"})," Add Topic"]})]})]},Ie.id))}),_e&&s&&a.jsxs("div",{className:"flex gap-1 mt-2 p-2 bg-muted rounded",children:[a.jsx(et,{value:ue,onChange:Ie=>te(Ie.target.value),placeholder:"Topic name",className:"h-8 text-xs"}),a.jsx(ge,{size:"sm",className:"h-8 px-2",onClick:Oo,children:a.jsx(Yt,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"h-8 px-2",onClick:()=>Ee(!1),children:a.jsx(sn,{className:"h-3 w-3"})})]})]})]}),a.jsx("div",{className:"lg:col-span-3 space-y-3",children:Ra.length===0?a.jsx(dt,{children:a.jsxs(Lt,{className:"py-12 text-center",children:[a.jsx(Hr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),a.jsx("h3",{className:"font-medium mb-1",children:"No assets found"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.length===0?"Start building your library by adding some assets!":"Try adjusting your filters or search query"}),a.jsxs(ge,{onClick:()=>K(!0),children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"})," Add Your First Asset"]})]})}):a.jsx("div",{className:"space-y-2",children:Ra.map(Ie=>a.jsx(dt,{className:"hover:shadow-md transition-shadow",children:a.jsx(Lt,{className:"p-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:`p-2 rounded-lg ${Ie.type==="mcq"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":Ie.type==="note"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":Ie.type==="url"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"}`,children:[Ie.type==="mcq"&&a.jsx(Fl,{className:"h-5 w-5"}),Ie.type==="note"&&a.jsx(Sr,{className:"h-5 w-5"}),Ie.type==="url"&&a.jsx(_f,{className:"h-5 w-5"}),Ie.type==="pdf"&&a.jsx(Nv,{className:"h-5 w-5"}),Ie.type==="video"&&a.jsx(bl,{className:"h-5 w-5"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:Ie.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[a.jsx("span",{children:co(Ie.subjectId)}),a.jsx("span",{children:""}),a.jsx("span",{children:rl(Ie.topicId)}),Ie.type==="mcq"&&Ie.quizQuestions&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"text-blue-600",children:[Ie.quizQuestions.length," questions"]})]}),Ie.usedIn&&Ie.usedIn.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"text-primary",children:["Used in ",Ie.usedIn.length," places"]})]})]}),Ie.type==="mcq"&&Ie.quizQuestions&&Ie.quizQuestions.length>0&&a.jsxs("div",{className:"mt-2 text-xs space-y-0.5",children:[a.jsxs("div",{className:"text-muted-foreground",children:["Q1: ",Ie.quizQuestions[0].question.substring(0,60),Ie.quizQuestions[0].question.length>60?"...":""]}),Ie.quizQuestions.length>1&&a.jsxs("div",{className:"text-blue-600",children:["+",Ie.quizQuestions.length-1," more questions"]})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-primary",onClick:()=>{ye(Ie),pe(!0)},children:a.jsx(H2,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>ur(Ie),disabled:Ie.type!=="mcq",children:a.jsx(gl,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive",onClick:()=>{ye(Ie),U(!0)},children:a.jsx(wr,{className:"h-4 w-4"})})]})]})})},Ie.id))})})]}),a.jsx(ua,{open:L,onOpenChange:K,children:a.jsxs(Fs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ps,{children:a.jsx(Us,{children:"Add New Asset"})}),a.jsxs(v0,{defaultValue:"mcq",className:"mt-4",children:[a.jsxs(Kh,{className:"w-full grid grid-cols-3",children:[a.jsx(bi,{value:"mcq",children:"MCQ"}),a.jsx(bi,{value:"note",children:"Note"}),a.jsx(bi,{value:"url",children:"URL"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[a.jsxs(Wt,{value:pr,onValueChange:Ie=>{tu(Ie),hi(""),Ar("")},children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Subject *"})}),a.jsx(Bt,{children:t.map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.name},Ie.id))})]}),a.jsxs(Wt,{value:zn,onValueChange:Ie=>{hi(Ie),Ar("")},disabled:!pr,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Topic *"})}),a.jsx(Bt,{children:Oa.map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.name},Ie.id))})]}),a.jsxs(Wt,{value:Pi||"none",onValueChange:Ie=>Ar(Ie==="none"?"":Ie),disabled:!zn,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Subtopic"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"None"}),si.map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.name},Ie.id))]})]})]}),a.jsxs(wi,{value:"mcq",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded",children:[a.jsx("button",{onClick:()=>ne("single"),className:`flex-1 px-3 py-1.5 rounded text-sm ${we==="single"?"bg-background shadow":""}`,children:"Single MCQ"}),a.jsx("button",{onClick:()=>ne("bulk"),className:`flex-1 px-3 py-1.5 rounded text-sm ${we==="bulk"?"bg-background shadow":""}`,children:"Bulk Upload"})]}),we==="single"?a.jsxs(a.Fragment,{children:[a.jsx(Hn,{value:xn,onChange:Ie=>rn(Ie.target.value),placeholder:"Enter question...",rows:3}),a.jsx("div",{className:"space-y-2",children:qn.map((Ie,Je)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"correct",checked:Kn===Je,onChange:()=>Jn(Je),className:"h-4 w-4"}),a.jsx(et,{value:Ie,onChange:ie=>{const Me=[...qn];Me[Je]=ie.target.value,sr(Me)},placeholder:`Option ${String.fromCharCode(65+Je)}`})]},Je))}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Wt,{value:_r,onValueChange:Ie=>Jt(Ie),children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Difficulty"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"easy",children:"Easy"}),a.jsx(Qe,{value:"medium",children:"Medium"}),a.jsx(Qe,{value:"hard",children:"Hard"})]})]}),a.jsx(et,{value:ar,onChange:Ie=>Kr(Ie.target.value),placeholder:"Tags (comma separated)"})]}),a.jsx(Hn,{value:_n,onChange:Ie=>Ft(Ie.target.value),placeholder:"Explanation (optional)",rows:2}),a.jsxs(ge,{onClick:Fo,disabled:Fe||!pr||!zn,className:"w-full",children:[Fe?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add MCQ"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs bg-muted p-3 rounded space-y-1",children:[a.jsx("p",{className:"font-medium",children:"JSON Format:"}),a.jsx("code",{className:"text-[10px]",children:'[{"question":"Q1","options":["A","B","C","D"],"correctIndex":0,"explanation":"...","difficulty":"medium"}]'})]}),a.jsx(Hn,{value:fe,onChange:Ie=>Ae(Ie.target.value),placeholder:"Paste JSON array here...",rows:6,className:"font-mono text-xs"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",onClick:Js,className:"flex-1",children:[a.jsx(jr,{className:"h-4 w-4 mr-2"})," Parse JSON"]}),a.jsxs(ge,{onClick:Jr,disabled:Fe||re.length===0||!pr||!zn,className:"flex-1",children:[a.jsx(Ic,{className:"h-4 w-4 mr-2"})," Upload ",re.length," MCQs"]})]}),ke&&a.jsxs("p",{className:"text-xs text-red-500",children:[" ",ke]}),re.length>0&&a.jsxs("p",{className:"text-xs text-green-600",children:[" ",re.length," questions parsed successfully"]})]})]}),a.jsxs(wi,{value:"note",className:"space-y-4 mt-4",children:[a.jsx(et,{value:Cr,onChange:Ie=>Dn(Ie.target.value),placeholder:"Note title"}),a.jsx(Nf,{theme:"snow",value:hr,onChange:er,modules:gMe,className:"bg-background"}),a.jsxs(ge,{onClick:nu,disabled:Fe||!pr||!zn,className:"w-full",children:[Fe?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Note"]})]}),a.jsxs(wi,{value:"url",className:"space-y-4 mt-4",children:[a.jsx(et,{value:or,onChange:Ie=>cr(Ie.target.value),placeholder:"Title"}),a.jsx(et,{value:Tr,onChange:Ie=>ce(Ie.target.value),placeholder:"https://..."}),a.jsx(Hn,{value:Se,onChange:Ie=>xe(Ie.target.value),placeholder:"Description (optional)",rows:2}),a.jsxs(ge,{onClick:Pa,disabled:Fe||!pr||!zn,className:"w-full",children:[Fe?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add URL"]})]})]})]})}),a.jsx(ua,{open:Q,onOpenChange:U,children:a.jsxs(Fs,{children:[a.jsx(Ps,{children:a.jsxs(Us,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(uh,{className:"h-5 w-5"})," Delete Asset"]})}),me&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm",children:"Are you sure you want to delete this asset?"}),a.jsxs("div",{className:"p-3 bg-muted rounded text-sm",children:[a.jsx("p",{className:"font-medium",children:me.title}),a.jsxs("p",{className:"text-muted-foreground text-xs mt-1",children:[co(me.subjectId),"  ",rl(me.topicId)]})]}),me.usedIn&&me.usedIn.length>0&&a.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded",children:[a.jsxs("p",{className:"text-sm font-medium text-destructive flex items-center gap-2",children:[a.jsx(uh,{className:"h-4 w-4"}),"Used in ",me.usedIn.length," places:"]}),a.jsxs("ul",{className:"mt-2 text-xs space-y-1",children:[me.usedIn.slice(0,5).map((Ie,Je)=>a.jsxs("li",{children:[" ",Ie.deskName," (",Ie.deskType,")"]},Je)),me.usedIn.length>5&&a.jsxs("li",{children:["+",me.usedIn.length-5," more..."]})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),a.jsxs(ge,{variant:"destructive",onClick:tl,disabled:Fe,children:[Fe?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):null,"Delete ",(Ua=me.usedIn)!=null&&Ua.length?`(${me.usedIn.length} places)`:""]})]})]})]})}),a.jsx(ua,{open:Z,onOpenChange:pe,children:a.jsxs(Fs,{children:[a.jsx(Ps,{children:a.jsx(Us,{children:"Add to Desk"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Destination"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-muted",children:[a.jsx("input",{type:"radio",name:"desk",checked:he==="personal",onChange:()=>Re("personal")}),a.jsx("span",{children:"Personal Practice"})]}),a.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-muted",children:[a.jsx("input",{type:"radio",name:"desk",checked:he==="group",onChange:()=>Re("group")}),a.jsx("span",{children:"Group Desk"})]}),he==="group"&&a.jsxs(Wt,{value:We,onValueChange:ze,children:[a.jsx(Mt,{className:"ml-6",children:a.jsx(qt,{placeholder:"Select Group"})}),a.jsx(Bt,{children:P.map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.name},Ie.id))})]}),a.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-muted",children:[a.jsx("input",{type:"radio",name:"desk",checked:he==="teacher",onChange:()=>Re("teacher")}),a.jsx("span",{children:"Teacher Desk (Course)"})]}),he==="teacher"&&a.jsxs(Wt,{value:Xe,onValueChange:ot,children:[a.jsx(Mt,{className:"ml-6",children:a.jsx(qt,{placeholder:"Select Course"})}),a.jsx(Bt,{children:W.filter(Ie=>Ie.teacherId===(e==null?void 0:e.id)).map(Ie=>a.jsx(Qe,{value:Ie.id,children:Ie.title},Ie.id))})]})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>pe(!1),children:"Cancel"}),a.jsxs(ge,{onClick:nl,disabled:Fe||he==="group"&&!We||he==="teacher"&&!Xe,children:[Fe?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(H2,{className:"h-4 w-4 mr-2"}),"Add to Desk"]})]})]})]})}),a.jsx(ua,{open:ao,onOpenChange:De,children:a.jsxs(Fs,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx(Ps,{children:a.jsxs(Us,{className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-5 w-5"})," Import from Online Library"]})}),a.jsx("div",{className:"flex-1 overflow-auto space-y-4",children:ht?a.jsx("div",{className:"space-y-4",children:(()=>{const Ie=kr.find(Me=>Me.id===ht),Je=Xi(ht),ie=oo(ht);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>en(null),className:"mb-2",children:" Back to Packs"}),a.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[a.jsx(p0,{className:"h-4 w-4"})," ",Ie==null?void 0:Ie.title]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[Je.length," MCQs  ",ie.length," Notes"]})]}),a.jsx("div",{className:"text-right text-sm",children:a.jsxs("p",{className:"text-primary font-medium",children:[Ot.length+Tn.length," selected"]})})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" Import  ?"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsxs(Wt,{value:pr||"none",onValueChange:Me=>{tu(Me==="none"?"":Me),hi(""),Ar("")},children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Subject *"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Subject"}),t.map(Me=>a.jsx(Qe,{value:Me.id,children:Me.name},Me.id))]})]}),a.jsxs(Wt,{value:zn||"none",onValueChange:Me=>{hi(Me==="none"?"":Me),Ar("")},disabled:!pr,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Topic (optional)"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Topic"}),Oa.map(Me=>a.jsx(Qe,{value:Me.id,children:Me.name},Me.id))]})]}),a.jsxs(Wt,{value:Pi||"none",onValueChange:Me=>Ar(Me==="none"?"":Me),disabled:!zn,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Subtopic (optional)"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Subtopic"}),si.map(Me=>a.jsx(Qe,{value:Me.id,children:Me.name},Me.id))]})]})]})]}),Je.length>0&&a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-muted/50 p-2 flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsx(Fl,{className:"h-4 w-4"})," MCQs (",Je.length,")"]}),a.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ea(ht),children:"Select All"})]}),a.jsx("div",{className:"max-h-48 overflow-y-auto divide-y",children:Je.map((Me,vt)=>a.jsx("div",{className:`p-2 cursor-pointer hover:bg-muted/50 transition-colors ${Ot.includes(Me.id)?"bg-primary/10":""}`,onClick:()=>su(Me.id),children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center flex-shrink-0 ${Ot.includes(Me.id)?"bg-primary border-primary text-white":"border-muted-foreground"}`,children:Ot.includes(Me.id)&&a.jsx(h0,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm truncate",dangerouslySetInnerHTML:{__html:Me.question}}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Me.options.length," options  ",Me.difficulty||"medium"]})]})]})},Me.id))})]}),ie.length>0&&a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-muted/50 p-2 flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsx(Sr,{className:"h-4 w-4"})," Notes (",ie.length,")"]}),a.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ou(ht),children:"Select All"})]}),a.jsx("div",{className:"max-h-48 overflow-y-auto divide-y",children:ie.map((Me,vt)=>a.jsx("div",{className:`p-2 cursor-pointer hover:bg-muted/50 transition-colors ${Tn.includes(Me.id)?"bg-primary/10":""}`,onClick:()=>au(Me.id),children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center flex-shrink-0 ${Tn.includes(Me.id)?"bg-primary border-primary text-white":"border-muted-foreground"}`,children:Tn.includes(Me.id)&&a.jsx(h0,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:Me.title}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",dangerouslySetInnerHTML:{__html:Me.content.substring(0,100)+"..."}})]})]})},Me.id))})]})]})})()}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:" Content Pack select  import  :"}),Ia.map(Ie=>a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("h3",{className:"font-medium mb-2",children:Ie.name}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:kr.filter(Je=>Je.subjectId===Ie.id).map(Je=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:()=>{en(Je.id),Fn([]),cs([])},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(p0,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium text-sm",children:Je.title})]}),Je.description&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Je.description})]}),Je.pricing==="free"?a.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded",children:"Free"}):a.jsxs("span",{className:"text-xs bg-orange-500/10 text-orange-500 px-2 py-0.5 rounded",children:["",Je.price]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fl,{className:"h-3 w-3"})," ",Je.mcqCount," MCQs"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Sr,{className:"h-3 w-3"})," ",Je.notesCount," Notes"]}),Je.rating&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"h-3 w-3 text-yellow-500"})," ",Je.rating]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx($c,{className:"h-3 w-3"})," ",Je.downloadCount]})]})]},Je.id))})]},Ie.id)),kr.length===0&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ma,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:" Content Pack  "})]})]})}),ht&&a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t mt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>{De(!1),en(null),Fn([]),cs([])},children:"Cancel"}),a.jsxs(ge,{onClick:iu,disabled:Pn||Ot.length===0&&Tn.length===0,children:[Pn?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx($c,{className:"h-4 w-4 mr-2"}),"Import ",Ot.length+Tn.length," Items"]})]})]})}),a.jsx(ua,{open:jt,onOpenChange:gt,children:a.jsxs(Fs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ps,{children:a.jsxs(Us,{className:"flex items-center gap-2",children:[a.jsx(gl,{className:"h-5 w-5"}),"Edit MCQ"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Question"}),a.jsx(Hn,{value:cn,onChange:Ie=>br(Ie.target.value),placeholder:"Enter question...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options"}),lr.map((Ie,Je)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"editCorrect",checked:Ur===Je,onChange:()=>fc(Je),className:"h-4 w-4"}),a.jsx(et,{value:Ie,onChange:ie=>{const Me=[...lr];Me[Je]=ie.target.value,Zs(Me)},placeholder:`Option ${Je+1}`})]},Je))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Explanation (Optional)"}),a.jsx(Hn,{value:ro,onChange:Ie=>io(Ie.target.value),placeholder:"Explain the correct answer...",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Difficulty"}),a.jsxs(Wt,{value:Ro,onValueChange:Ie=>so(Ie),children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"easy",children:"Easy"}),a.jsx(Qe,{value:"medium",children:"Medium"}),a.jsx(Qe,{value:"hard",children:"Hard"})]})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(ge,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),a.jsxs(ge,{onClick:ru,disabled:Fe||!cn.trim()||lr.some(Ie=>!Ie.trim()),children:[Fe?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save & Sync"]})]})]})]})}),a.jsx(ua,{open:!!nt,onOpenChange:Ie=>!Ie&&Oe(null),children:a.jsxs(Fs,{className:"max-w-sm",children:[a.jsxs(Ps,{children:[a.jsx(Us,{children:"Rename Subject"}),a.jsx(jw,{children:"Subject    "})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(et,{value:Le,onChange:Ie=>Ze(Ie.target.value),placeholder:"Subject name",onKeyDown:Ie=>Ie.key==="Enter"&&Fa()}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>Oe(null),children:"Cancel"}),a.jsx(ge,{onClick:Fa,disabled:!Le.trim(),children:"Save"})]})]})]})}),a.jsx(ua,{open:it,onOpenChange:Dt,children:a.jsxs(Fs,{className:"max-w-sm",children:[a.jsxs(Ps,{children:[a.jsx(Us,{className:"text-destructive",children:"Delete Subject?"}),a.jsxs(jw,{children:['"',$t==null?void 0:$t.name,'" Subject    ?     ']})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>{Dt(!1),Pt(null)},children:"Cancel"}),a.jsxs(ge,{variant:"destructive",onClick:pn,children:[a.jsx(wr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]}):null}const vMe={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},yMe=["admin@sahityapath.com","info@banglasahityapath.com","saptarn90@gmail.com"];function bMe(){const{user:e}=Ki(),t=qr(De=>De.subjects),n=qr(De=>De.topics),r=qr(De=>De.subtopics),i=qr(De=>De.contentPacks);qr(De=>De.mcqs),qr(De=>De.notes);const s=qr(De=>De.subscribeToLibrary),o=qr(De=>De.getTopicsBySubject),c=qr(De=>De.getSubtopicsByTopic),l=qr(De=>De.getMcqsByPack),u=qr(De=>De.getNotesByPack),[d,f]=A.useState("subjects"),[h,p]=A.useState(!1),[y,m]=A.useState([]),[g,v]=A.useState(null),[x,b]=A.useState(!1),[w,T]=A.useState(!1),[C,_]=A.useState(!1),[N,k]=A.useState(!1),[j,D]=A.useState(!1),[E,I]=A.useState(!1),[R,V]=A.useState(!1),[M,H]=A.useState(null),[G,P]=A.useState(null),[W,F]=A.useState(null),[O,L]=A.useState(null),[K,Q]=A.useState(null),[U,Z]=A.useState(null),[pe,me]=A.useState(""),[ye,Fe]=A.useState(""),[Y,ve]=A.useState(""),[B,_e]=A.useState(""),[Ee,se]=A.useState(""),[J,de]=A.useState(""),[X,ue]=A.useState(""),[te,oe]=A.useState(""),[le,ae]=A.useState(""),[Te,Ue]=A.useState(""),[qe,nt]=A.useState(""),[Oe,Le]=A.useState(""),[Ze,it]=A.useState(""),[Dt,$t]=A.useState(""),[Pt,xn]=A.useState(""),[rn,qn]=A.useState("free"),[sr,Kn]=A.useState(""),[Jn,_n]=A.useState(""),[Ft,_r]=A.useState(""),[Jt,ar]=A.useState(["","","",""]),[Kr,Cr]=A.useState(0),[Dn,hr]=A.useState(""),[er,or]=A.useState("medium"),[cr,Tr]=A.useState(""),[ce,Se]=A.useState(""),[xe,we]=A.useState(!1),[ne,fe]=A.useState(""),[Ae,re]=A.useState("");A.useEffect(()=>{const De=s();return()=>De()},[s]);const Ce=(e==null?void 0:e.email)&&yMe.includes(e.email);if(!e)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please login to access admin panel"})});if(!Ce)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ms,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Admin access required"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Contact admin for access"})]})});const ke=De=>{De&&m(ht=>{const en=ht||[];return en.includes(De)?en.filter(Ot=>Ot!==De):[...en,De]})},Ne=async()=>{if(pe.trim()){p(!0);try{const De={id:(M==null?void 0:M.id)||Zt(),name:pe,nameEn:ye||void 0,icon:Y,order:(M==null?void 0:M.order)||t.length+1,isActive:!0,createdAt:(M==null?void 0:M.createdAt)||Date.now()};await qUe(De),Re(),b(!1)}catch(De){console.error("Error saving subject:",De)}finally{p(!1)}}},he=async De=>{if(confirm("Delete this subject and all its topics?")){p(!0);try{await zUe(De),alert(" Subject deleted!")}catch(ht){console.error("Error deleting subject:",ht),alert(" Delete failed: "+ht.message)}finally{p(!1)}}},Re=()=>{me(""),Fe(""),ve(""),H(null)},We=async()=>{if(!(!B.trim()||!J)){p(!0);try{const De={id:(G==null?void 0:G.id)||Zt(),subjectId:J,name:B,nameEn:Ee||void 0,order:(G==null?void 0:G.order)||n.filter(ht=>ht.subjectId===J).length+1,isActive:!0,createdAt:(G==null?void 0:G.createdAt)||Date.now()};await HUe(De),Xe(),T(!1)}catch(De){console.error("Error saving topic:",De)}finally{p(!1)}}},ze=async De=>{if(confirm("Delete this topic?")){p(!0);try{await GUe(De)}catch(ht){console.error("Error deleting topic:",ht)}finally{p(!1)}}},Xe=()=>{_e(""),se(""),de(""),P(null)},ot=async()=>{if(!(!X.trim()||!le||!Te)){p(!0);try{const De={id:(W==null?void 0:W.id)||Zt(),subjectId:le,topicId:Te,name:X,nameEn:te||void 0,order:(W==null?void 0:W.order)||(r||[]).filter(ht=>ht.topicId===Te).length+1,isActive:!0,createdAt:(W==null?void 0:W.createdAt)||Date.now()};await KUe(De),gt(),_(!1)}catch(De){console.error("Error saving subtopic:",De)}finally{p(!1)}}},jt=async De=>{if(confirm("Delete this subtopic?")){p(!0);try{await XUe(De)}catch(ht){console.error("Error deleting subtopic:",ht)}finally{p(!1)}}},gt=()=>{ue(""),oe(""),ae(""),Ue(""),F(null)},Nt=async()=>{if(!qe.trim()||!Ze||!Dt){alert("Please fill Title, Subject and Topic");return}p(!0);try{const De=O,ht=De?l(De.id):[],en=De?u(De.id):[],Ot={id:(De==null?void 0:De.id)||Zt(),subjectId:Ze,topicId:Dt,...Pt?{subtopicId:Pt}:{},title:qe,description:Oe||"",tags:Jn.split(",").map(Fn=>Fn.trim()).filter(Boolean),contentType:ht.length>0&&en.length>0?"both":ht.length>0?"mcq":"notes",mcqCount:ht.length,notesCount:en.length,pricing:rn,price:rn==="paid"&&parseInt(sr)||0,downloadCount:(De==null?void 0:De.downloadCount)||0,rating:(De==null?void 0:De.rating)||0,isActive:!0,isFeatured:(De==null?void 0:De.isFeatured)||!1,createdBy:(e==null?void 0:e.id)||"admin",createdAt:(De==null?void 0:De.createdAt)||Date.now(),updatedAt:Date.now()};await ZUe(Ot),cn(),k(!1)}catch(De){console.error("Error saving pack:",De),alert("Error saving pack: "+De.message)}finally{p(!1)}},On=async De=>{if(confirm("Delete this content pack and all its MCQs/Notes?")){p(!0);try{const ht=l(De);for(const Ot of ht)await CM(Ot.id);const en=u(De);for(const Ot of en)await kM(Ot.id);await eLe(De),v(null)}catch(ht){console.error("Error deleting pack:",ht)}finally{p(!1)}}},cn=()=>{nt(""),Le(""),it(""),$t(""),xn(""),qn("free"),Kn(""),_n(""),L(null)},br=async()=>{if(!(!Ft.trim()||!g)){if(Jt.some(De=>!De.trim())){alert(" option  ");return}p(!0);try{const De=i.find(Ot=>Ot.id===g);if(!De)return;const ht={id:(K==null?void 0:K.id)||Zt(),packId:g,subjectId:De.subjectId,topicId:De.topicId,question:Ft,options:Jt,correctIndex:Kr,explanation:Dn||void 0,difficulty:er,createdAt:(K==null?void 0:K.createdAt)||Date.now()};await nLe(ht);const en=l(g).length+(K?0:1);await Bg(g,{mcqCount:en}),Zs(),D(!1)}catch(De){console.error("Error saving MCQ:",De)}finally{p(!1)}}},lr=async De=>{if(confirm("Delete this MCQ?")){p(!0);try{if(await CM(De),g){const ht=l(g).length-1;await Bg(g,{mcqCount:Math.max(0,ht)})}}catch(ht){console.error("Error deleting MCQ:",ht)}finally{p(!1)}}},Zs=()=>{_r(""),ar(["","","",""]),Cr(0),hr(""),or("medium"),Q(null)},Ur=async()=>{if(!(!ne.trim()||!g)){re(""),p(!0);try{const De=JSON.parse(ne),ht=Array.isArray(De)?De:[De],en=i.find(Tn=>Tn.id===g);if(!en)throw new Error("Pack not found");const Ot=ht.map(Tn=>({id:Zt(),packId:g,subjectId:en.subjectId,topicId:en.topicId,question:Tn.question||Tn.q,options:Tn.options||Tn.opts||[Tn.a,Tn.b,Tn.c,Tn.d].filter(Boolean),correctIndex:Tn.correctIndex??Tn.correct??Tn.ans??0,explanation:Tn.explanation||Tn.exp,difficulty:Tn.difficulty||"medium",createdAt:Date.now()}));await rLe(Ot);const Fn=l(g).length+Ot.length;await Bg(g,{mcqCount:Fn}),alert(` ${Ot.length} MCQ  !`),fe(""),V(!1)}catch(De){re(De.message||"Invalid JSON format")}finally{p(!1)}}},fc=async()=>{if(!(!cr.trim()||!ce.trim()||!g)){p(!0);try{const De=i.find(Fn=>Fn.id===g);if(!De)return;const ht=u(g),en={id:(U==null?void 0:U.id)||Zt(),packId:g,subjectId:De.subjectId,topicId:De.topicId,title:cr,content:ce,order:(U==null?void 0:U.order)||ht.length+1,createdAt:(U==null?void 0:U.createdAt)||Date.now()};await sLe(en);const Ot=ht.length+(U?0:1);await Bg(g,{notesCount:Ot}),io(),I(!1)}catch(De){console.error("Error saving note:",De)}finally{p(!1)}}},ro=async De=>{if(confirm("Delete this note?")){p(!0);try{if(await kM(De),g){const ht=u(g).length-1;await Bg(g,{notesCount:Math.max(0,ht)})}}catch(ht){console.error("Error deleting note:",ht)}finally{p(!1)}}},io=()=>{Tr(""),Se(""),Z(null)},Ro=g?i.find(De=>De.id===g):null,so=g?l(g):[],ao=g?u(g):[];return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:" Library Admin Panel"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," subjects  ",n.length," topics  ",(r||[]).length," subtopics  ",i.length," packs"]})]})}),a.jsxs(v0,{value:d,onValueChange:f,children:[a.jsxs(Kh,{className:"grid grid-cols-3 w-full max-w-md",children:[a.jsx(bi,{value:"subjects",children:"Subjects/Topics"}),a.jsx(bi,{value:"packs",children:"Content Packs"}),a.jsx(bi,{value:"content",children:"MCQ/Notes"})]}),a.jsxs(wi,{value:"subjects",className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(ge,{onClick:()=>{Re(),b(!0)},className:"gap-2",children:[a.jsx(Yt,{className:"h-4 w-4"})," Add Subject"]}),a.jsxs(ge,{variant:"outline",onClick:()=>{Xe(),T(!0)},className:"gap-2",children:[a.jsx(hA,{className:"h-4 w-4"})," Add Topic"]}),a.jsxs(ge,{variant:"secondary",onClick:()=>{gt(),_(!0)},className:"gap-2",children:[a.jsx(hA,{className:"h-4 w-4"})," Add Subtopic"]})]}),a.jsx("div",{className:"space-y-2",children:(t||[]).filter(De=>De&&De.id).map(De=>a.jsxs(dt,{children:[a.jsx(jn,{className:"p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>ke(De.id),className:"flex items-center gap-2 text-left",children:[(y||[]).includes(De.id)?a.jsx(Mc,{className:"h-4 w-4"}):a.jsx(xa,{className:"h-4 w-4"}),a.jsx("span",{className:"text-lg",children:De.icon}),a.jsx("span",{className:"font-medium",children:De.name}),De.nameEn&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",De.nameEn,")"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>{H(De),me(De.name),Fe(De.nameEn||""),ve(De.icon||""),b(!0)},children:a.jsx(gl,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>he(De.id),children:a.jsx(wr,{className:"h-4 w-4"})})]})]})}),(y||[]).includes(De.id)&&a.jsx(Lt,{className:"pt-0 pb-3",children:a.jsxs("div",{className:"ml-6 space-y-1",children:[o(De.id).map(ht=>{const en=c(ht.id);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("span",{className:"text-sm",children:[" ",ht.name,ht.nameEn&&a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",ht.nameEn,")"]}),en.length>0&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["[",en.length," subtopics]"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>{P(ht),_e(ht.name),se(ht.nameEn||""),de(ht.subjectId),T(!0)},children:a.jsx(gl,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>ze(ht.id),children:a.jsx(wr,{className:"h-3 w-3"})})]})]}),en.length>0&&a.jsx("div",{className:"ml-4 space-y-1",children:en.map(Ot=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded text-xs",children:[a.jsxs("span",{children:["  ",Ot.name,Ot.nameEn&&a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",Ot.nameEn,")"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>{F(Ot),ue(Ot.name),oe(Ot.nameEn||""),ae(Ot.subjectId),Ue(Ot.topicId),_(!0)},children:a.jsx(gl,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>jt(Ot.id),children:a.jsx(wr,{className:"h-3 w-3"})})]})]},Ot.id))})]},ht.id)}),o(De.id).length===0&&a.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No topics yet"})]})})]},De.id))})]}),a.jsxs(wi,{value:"packs",className:"space-y-4",children:[a.jsxs(ge,{onClick:()=>{cn(),k(!0)},className:"gap-2",children:[a.jsx(Yt,{className:"h-4 w-4"})," Create Content Pack"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map(De=>{const ht=t.find(Fn=>Fn.id===De.subjectId),en=n.find(Fn=>Fn.id===De.topicId),Ot=De.subtopicId?(r||[]).find(Fn=>Fn.id===De.subtopicId):null;return a.jsx(dt,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>{v(De.id),f("content")},children:a.jsxs(Lt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(p0,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:De.title})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[ht==null?void 0:ht.name,"  ",en==null?void 0:en.name,Ot?`  ${Ot.name}`:"","  ",De.mcqCount," MCQs  ",De.notesCount," Notes"]})]}),a.jsx("div",{className:"flex gap-1",children:De.pricing==="free"?a.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded",children:"Free"}):a.jsxs("span",{className:"text-xs bg-orange-500/10 text-orange-500 px-2 py-0.5 rounded",children:["",De.price]})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(ge,{size:"sm",variant:"outline",onClick:Fn=>{var Tn;Fn.stopPropagation(),L(De),nt(De.title),Le(De.description||""),it(De.subjectId),$t(De.topicId),xn(De.subtopicId||""),qn(De.pricing),Kn(((Tn=De.price)==null?void 0:Tn.toString())||""),_n(De.tags.join(", ")),k(!0)},children:[a.jsx(gl,{className:"h-3 w-3 mr-1"})," Edit"]}),a.jsxs(ge,{size:"sm",variant:"outline",className:"text-destructive",onClick:Fn=>{Fn.stopPropagation(),On(De.id)},children:[a.jsx(wr,{className:"h-3 w-3 mr-1"})," Delete"]})]})]})},De.id)})})]}),a.jsxs(wi,{value:"content",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(Wt,{value:g||"none",onValueChange:De=>v(De==="none"?null:De),children:[a.jsx(Mt,{className:"w-full sm:w-64",children:a.jsx(qt,{placeholder:"Select Content Pack"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select a Pack"}),i.map(De=>a.jsx(Qe,{value:De.id,children:De.title},De.id))]})]}),g&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{onClick:()=>{Zs(),D(!0)},className:"gap-2",children:[a.jsx(Fl,{className:"h-4 w-4"})," Add MCQ"]}),a.jsxs(ge,{variant:"outline",onClick:()=>{fe(""),re(""),V(!0)},className:"gap-2",children:[a.jsx(Ic,{className:"h-4 w-4"})," Bulk MCQ"]}),a.jsxs(ge,{variant:"outline",onClick:()=>{io(),I(!0)},className:"gap-2",children:[a.jsx(Sr,{className:"h-4 w-4"})," Add Note"]})]})]}),Ro?a.jsxs("div",{className:"space-y-4",children:[a.jsx(dt,{children:a.jsxs(jn,{className:"pb-2",children:[a.jsxs(Mn,{className:"text-lg flex items-center gap-2",children:[a.jsx(p0,{className:"h-5 w-5"})," ",Ro.title]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[so.length," MCQs  ",ao.length," Notes"]})]})}),a.jsxs(dt,{children:[a.jsx(jn,{className:"pb-2",children:a.jsxs(Mn,{className:"text-base flex items-center gap-2",children:[a.jsx(Fl,{className:"h-4 w-4"})," MCQs (",so.length,")"]})}),a.jsxs(Lt,{className:"space-y-2 max-h-64 overflow-y-auto",children:[so.map((De,ht)=>a.jsxs("div",{className:"p-2 bg-muted/50 rounded flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Q",ht+1,": ",a.jsx("span",{dangerouslySetInnerHTML:{__html:De.question}})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Answer: ",De.options[De.correctIndex],"  ",De.difficulty]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>{Q(De),_r(De.question),ar(De.options),Cr(De.correctIndex),hr(De.explanation||""),or(De.difficulty||"medium"),D(!0)},children:a.jsx(gl,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>lr(De.id),children:a.jsx(wr,{className:"h-3 w-3"})})]})]},De.id)),so.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No MCQs yet"})]})]}),a.jsxs(dt,{children:[a.jsx(jn,{className:"pb-2",children:a.jsxs(Mn,{className:"text-base flex items-center gap-2",children:[a.jsx(Sr,{className:"h-4 w-4"})," Notes (",ao.length,")"]})}),a.jsxs(Lt,{className:"space-y-2 max-h-64 overflow-y-auto",children:[ao.map((De,ht)=>a.jsxs("div",{className:"p-2 bg-muted/50 rounded flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[ht+1,". ",De.title]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",dangerouslySetInnerHTML:{__html:De.content.substring(0,100)}})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>{Z(De),Tr(De.title),Se(De.content),I(!0)},children:a.jsx(gl,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>ro(De.id),children:a.jsx(wr,{className:"h-3 w-3"})})]})]},De.id)),ao.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet"})]})]})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Hr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Select a Content Pack to manage MCQs and Notes"})]})]})]}),a.jsx(ua,{open:x,onOpenChange:b,children:a.jsxs(Fs,{children:[a.jsx(Ps,{children:a.jsx(Us,{children:M?"Edit Subject":"Add Subject"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(et,{placeholder:"Subject Name ()",value:pe,onChange:De=>me(De.target.value)}),a.jsx(et,{placeholder:"English Name (optional)",value:ye,onChange:De=>Fe(De.target.value)}),a.jsx(et,{placeholder:"Icon (emoji)",value:Y,onChange:De=>ve(De.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),a.jsxs(ge,{onClick:Ne,disabled:h,children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(po,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(ua,{open:w,onOpenChange:T,children:a.jsxs(Fs,{children:[a.jsx(Ps,{children:a.jsx(Us,{children:G?"Edit Topic":"Add Topic"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Wt,{value:J||"none",onValueChange:De=>de(De==="none"?"":De),children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Select Subject"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Subject"}),(t||[]).filter(De=>De&&De.isActive).map(De=>a.jsx(Qe,{value:De.id,children:De.name},De.id))]})]}),a.jsx(et,{placeholder:"Topic Name ()",value:B,onChange:De=>_e(De.target.value)}),a.jsx(et,{placeholder:"English Name (optional)",value:Ee,onChange:De=>se(De.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsxs(ge,{onClick:We,disabled:h||!J,children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(po,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(ua,{open:C,onOpenChange:_,children:a.jsxs(Fs,{children:[a.jsx(Ps,{children:a.jsx(Us,{children:W?"Edit Subtopic":"Add Subtopic"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Wt,{value:le||"none",onValueChange:De=>{ae(De==="none"?"":De),Ue("")},children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Select Subject"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Subject"}),(t||[]).filter(De=>De&&De.isActive).map(De=>a.jsx(Qe,{value:De.id,children:De.name},De.id))]})]}),a.jsxs(Wt,{value:Te||"none",onValueChange:De=>Ue(De==="none"?"":De),disabled:!le,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Select Topic"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Topic"}),o(le).map(De=>a.jsx(Qe,{value:De.id,children:De.name},De.id))]})]})]}),a.jsx(et,{placeholder:"Subtopic Name ()",value:X,onChange:De=>ue(De.target.value)}),a.jsx(et,{placeholder:"English Name (optional)",value:te,onChange:De=>oe(De.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsxs(ge,{onClick:ot,disabled:h||!le||!Te,children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(po,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(ua,{open:N,onOpenChange:k,children:a.jsxs(Fs,{children:[a.jsx(Ps,{children:a.jsx(Us,{children:O?"Edit Content Pack":"Create Content Pack"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(et,{placeholder:"Pack Title",value:qe,onChange:De=>nt(De.target.value)}),a.jsx(Hn,{placeholder:"Description",value:Oe,onChange:De=>Le(De.target.value)}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Wt,{value:Ze||"none",onValueChange:De=>{it(De==="none"?"":De),$t(""),xn("")},children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Subject"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Subject"}),(t||[]).filter(De=>De&&De.isActive).map(De=>a.jsx(Qe,{value:De.id,children:De.name},De.id))]})]}),a.jsxs(Wt,{value:Dt||"none",onValueChange:De=>{$t(De==="none"?"":De),xn("")},disabled:!Ze,children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Topic"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"Select Topic"}),o(Ze).map(De=>a.jsx(Qe,{value:De.id,children:De.name},De.id))]})]})]}),Dt&&c(Dt).length>0&&a.jsxs(Wt,{value:Pt||"none",onValueChange:De=>xn(De==="none"?"":De),children:[a.jsx(Mt,{children:a.jsx(qt,{placeholder:"Subtopic (Optional)"})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"none",children:"No Subtopic"}),c(Dt).map(De=>a.jsx(Qe,{value:De.id,children:De.name},De.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Wt,{value:rn,onValueChange:De=>qn(De),children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"free",children:"Free"}),a.jsx(Qe,{value:"paid",children:"Paid"})]})]}),rn==="paid"&&a.jsx(et,{type:"number",placeholder:"Price ()",value:sr,onChange:De=>Kn(De.target.value)})]}),a.jsx(et,{placeholder:"Tags (comma separated)",value:Jn,onChange:De=>_n(De.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),a.jsxs(ge,{onClick:Nt,disabled:h||!Ze||!Dt,children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(po,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(ua,{open:j,onOpenChange:D,children:a.jsxs(Fs,{className:"max-w-2xl",children:[a.jsx(Ps,{children:a.jsx(Us,{children:K?"Edit MCQ":"Add MCQ"})}),a.jsxs("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:[a.jsx(Hn,{placeholder:"Question (HTML supported)",value:Ft,onChange:De=>_r(De.target.value),rows:3}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Options:"}),Jt.map((De,ht)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"correct",checked:Kr===ht,onChange:()=>Cr(ht)}),a.jsx(et,{placeholder:`Option ${ht+1}`,value:De,onChange:en=>{const Ot=[...Jt];Ot[ht]=en.target.value,ar(Ot)}})]},ht)),a.jsx(ge,{variant:"outline",size:"sm",onClick:()=>ar([...Jt,""]),children:"+ Add Option"})]}),a.jsx(Hn,{placeholder:"Explanation (optional)",value:Dn,onChange:De=>hr(De.target.value),rows:2}),a.jsxs(Wt,{value:er,onValueChange:De=>or(De),children:[a.jsx(Mt,{children:a.jsx(qt,{})}),a.jsxs(Bt,{children:[a.jsx(Qe,{value:"easy",children:"Easy"}),a.jsx(Qe,{value:"medium",children:"Medium"}),a.jsx(Qe,{value:"hard",children:"Hard"})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),a.jsxs(ge,{onClick:br,disabled:h,children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(po,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(ua,{open:R,onOpenChange:V,children:a.jsxs(Fs,{className:"max-w-2xl",children:[a.jsx(Ps,{children:a.jsx(Us,{children:"Bulk MCQ Upload (JSON)"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["JSON format: [",'{ "question": "...", "options": ["a","b","c","d"], "correctIndex": 0, "explanation": "...", "difficulty": "medium" }',"]"]}),a.jsx(Hn,{placeholder:"Paste JSON array here...",value:ne,onChange:De=>fe(De.target.value),rows:10,className:"font-mono text-xs"}),Ae&&a.jsx("p",{className:"text-sm text-destructive",children:Ae}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),a.jsxs(ge,{onClick:Ur,disabled:h||!ne.trim(),children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})]})}),a.jsx(ua,{open:E,onOpenChange:I,children:a.jsxs(Fs,{className:"max-w-3xl max-h-[90vh] flex flex-col",children:[a.jsx(Ps,{children:a.jsx(Us,{children:U?"Edit Note":"Add Note"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:[a.jsx(et,{placeholder:"Note Title",value:cr,onChange:De=>Tr(De.target.value)}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:xe?" Source Code Mode (HTML)":" Rich Text Editor"}),a.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>we(!xe),children:xe?"Switch to Editor":"Switch to Source Code"})]}),a.jsx("div",{className:"min-h-[250px]",children:xe?a.jsx(Hn,{className:"min-h-[250px] font-mono text-sm",placeholder:"Paste HTML source code here...",value:ce,onChange:De=>Se(De.target.value)}):a.jsx(Nf,{theme:"snow",value:ce,onChange:Se,modules:vMe,placeholder:"Write note content..."})}),xe&&ce&&a.jsxs("details",{className:"border rounded-lg",children:[a.jsx("summary",{className:"p-2 cursor-pointer text-sm text-muted-foreground hover:bg-muted/50",children:" Click to Preview"}),a.jsx("div",{className:"p-4 border-t bg-muted/30",children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:ce}})})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t mt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),a.jsxs(ge,{onClick:fc,disabled:h,children:[h?a.jsx(jr,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(po,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})})]})}const wMe=["admin@sahityapath.com","info@banglasahityapath.com","saptarn90@gmail.com"],FM="lastMainTab",PM="lastPersonalTab",UM="lastGroupTab",LM="lastCoachingTab",jJ=[{id:"personal",label:"Personal",icon:Lge},{id:"group",label:"Group Study",icon:Jo},{id:"coaching",label:"Coaching",icon:$l},{id:"library",label:"Library",icon:ma},{id:"settings",label:"Settings",icon:ms}],ub={id:"library-admin",label:"Library Admin",icon:Sv},_Me=[{id:"dashboard",label:"Dashboard",icon:qz},{id:"course",label:"Course",icon:Hr},{id:"live-test",label:"Live Test",icon:lf},{id:"settings",label:"Settings",icon:ms}],TMe=[{id:"whats-new",label:"What's New",icon:I_},{id:"course",label:"Course",icon:Hr},{id:"live-test",label:"Live Test",icon:lf},{id:"settings",label:"Settings",icon:ms}],EMe=[{id:"browse",label:"Browse",icon:Hr},{id:"my-courses",label:"My Courses",icon:$l},{id:"settings",label:"Settings",icon:ms}];function NMe(){const[e,t]=A.useState(()=>localStorage.getItem(FM)||"personal"),[n,r]=A.useState(()=>localStorage.getItem(PM)||"dashboard"),[i,s]=A.useState(()=>localStorage.getItem(UM)||"whats-new"),[o,c]=A.useState(()=>localStorage.getItem(LM)||"browse"),[l,u]=A.useState(!1),{user:d,setUser:f}=Ki();A.useEffect(()=>{const v=x=>{if(x.preventDefault(),l){u(!1),window.history.pushState(null,"",window.location.href);return}if(e==="personal"&&n!=="dashboard"){r("dashboard"),window.history.pushState(null,"",window.location.href);return}if(e==="group"&&i!=="whats-new"){s("whats-new"),window.history.pushState(null,"",window.location.href);return}if(e==="coaching"&&o!=="browse"){c("browse"),window.history.pushState(null,"",window.location.href);return}if(e!=="personal"){t("personal"),window.history.pushState(null,"",window.location.href);return}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",v),()=>window.removeEventListener("popstate",v)},[l,e,n,i,o]),A.useEffect(()=>{localStorage.setItem(FM,e)},[e]),A.useEffect(()=>{localStorage.setItem(PM,n)},[n]),A.useEffect(()=>{localStorage.setItem(UM,i)},[i]),A.useEffect(()=>{localStorage.setItem(LM,o)},[o]);const p=(()=>{switch(e){case"personal":return{tabs:_Me,active:n,setActive:r};case"group":return{tabs:TMe,active:i,setActive:s};case"coaching":return{tabs:EMe,active:o,setActive:c};default:return null}})(),y=async()=>{try{if(d!=null&&d.isGuest){f(null);return}await sae(lh),f(null)}catch(v){console.error("Logout error:",v)}},m=!!(d!=null&&d.email&&wMe.includes(d.email)),g=()=>{switch(e){case"personal":return a.jsx(v8,{activeSubTab:n,setActiveSubTab:r});case"group":return a.jsx(RLe,{activeSubTab:i,setActiveSubTab:s});case"library":return a.jsx(OM,{});case"library-admin":return m?a.jsx(bMe,{}):a.jsx(OM,{});case"coaching":return a.jsx(tMe,{activeSubTab:o,setActiveSubTab:c});case"settings":return a.jsx(rMe,{});default:return a.jsx(v8,{activeSubTab:n,setActiveSubTab:r})}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 h-14 bg-card border-b border-border z-50 px-3 flex items-center justify-between",children:[a.jsx(ge,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>u(!0),children:a.jsx(Vge,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-base font-semibold text-primary",children:" Group Study 2.0"}),a.jsx(LH,{})]}),a.jsx(dr,{children:l&&a.jsxs(a.Fragment,{children:[a.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-40"}),a.jsxs(ct.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed left-0 top-0 bottom-0 w-72 bg-card border-r border-border z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-primary",children:" Group Study"}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>u(!1),children:a.jsx(sn,{className:"h-5 w-5"})})]}),a.jsx(MM,{user:d,activeTab:e,setActiveTab:v=>{t(v),u(!1)},onLogout:y,isAdmin:m})]})]})}),a.jsxs("aside",{className:"hidden lg:flex fixed left-0 top-0 bottom-0 w-72 bg-card border-r border-border flex-col p-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:" Group Study 2.0"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"World-class learning platform"})]}),a.jsx(MM,{user:d,activeTab:e,setActiveTab:t,onLogout:y,isAdmin:m})]}),a.jsx("main",{className:"lg:ml-72 pt-14 lg:pt-0 pb-16 lg:pb-0 min-h-screen",children:a.jsx("div",{className:"p-3 sm:p-4 lg:p-8",children:a.jsx(dr,{mode:"wait",children:a.jsx(ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:g()},e)})})}),a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-card border-t border-border z-[100] safe-area-inset-bottom",children:p?a.jsx("div",{className:"flex items-center justify-around py-1 px-1",children:p.tabs.map(v=>a.jsxs("button",{onClick:()=>p.setActive(v.id),className:Ct("flex flex-col items-center justify-center py-1.5 px-2 rounded-lg transition-all flex-1 min-w-0",p.active===v.id?"text-primary bg-primary/10":"text-muted-foreground"),children:[a.jsx(v.icon,{className:Ct("h-5 w-5 mb-0.5 transition-transform",p.active===v.id&&"scale-110")}),a.jsx("span",{className:Ct("text-[9px] font-medium truncate w-full text-center",p.active===v.id&&"font-semibold"),children:v.label})]},v.id))}):a.jsx("div",{className:"flex items-center justify-around py-1 px-1",children:jJ.slice(0,4).map(v=>a.jsxs("button",{onClick:()=>t(v.id),className:Ct("flex flex-col items-center justify-center py-1.5 px-2 rounded-lg transition-all flex-1 min-w-0",e===v.id?"text-primary bg-primary/10":"text-muted-foreground"),children:[a.jsx(v.icon,{className:Ct("h-5 w-5 mb-0.5 transition-transform",e===v.id&&"scale-110")}),a.jsx("span",{className:Ct("text-[9px] font-medium truncate w-full text-center",e===v.id&&"font-semibold"),children:v.label})]},v.id))})})]})}function MM({user:e,activeTab:t,setActiveTab:n,onLogout:r,isAdmin:i}){var s;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 mb-6",children:[a.jsxs($d,{className:"h-12 w-12",children:[a.jsx(c$,{src:e==null?void 0:e.photoURL}),a.jsx(Hd,{className:"bg-primary text-primary-foreground",children:((s=e==null?void 0:e.displayName)==null?void 0:s.charAt(0))||"U"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:e==null?void 0:e.displayName}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e!=null&&e.isGuest?"Guest User":(e==null?void 0:e.institution)||(e==null?void 0:e.email)})]})]}),a.jsxs("nav",{className:"flex-1 space-y-1",children:[jJ.map(o=>a.jsxs("button",{onClick:()=>n(o.id),className:Ct("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all",t===o.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:[a.jsx(o.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:o.label})]},o.id)),i&&a.jsxs("button",{onClick:()=>n(ub.id),className:Ct("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all",t===ub.id?"bg-orange-500 text-white shadow-md":"hover:bg-orange-500/10 text-orange-500 hover:text-orange-600"),children:[a.jsx(ub.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:ub.label})]})]}),a.jsxs("div",{className:"mt-auto pt-4 border-t border-border space-y-2",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(LH,{})}),a.jsxs(ge,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:r,children:[a.jsx(Bz,{className:"h-5 w-5 mr-3"}),"Logout"]})]})]})}function SMe({fullScreen:e=!1}){const t=e?"min-h-screen flex items-center justify-center bg-background":"flex items-center justify-center p-8";return a.jsx("div",{className:t,children:a.jsxs(ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[a.jsx(ct.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(Mz,{className:"h-8 w-8 text-primary"})}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}function CMe(){const{user:e,setUser:t,setLoading:n,isLoading:r}=Ki(),{theme:i}=YW();return A.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(o)}else s.classList.add(i)},[i]),A.useEffect(()=>{const s=iae(lh,async o=>{if(o)try{const c=await Uf(Ke(Pe,"users",o.uid));if(c.exists()){const l=c.data();t({id:o.uid,...l})}else t({id:o.uid,email:o.email||"",displayName:o.displayName||"",photoURL:o.photoURL||void 0,institution:"",groups:[],role:"student",createdAt:new Date,lastActive:new Date})}catch(c){console.error("Error fetching user data:",c),t(null)}else t(null);n(!1)});return()=>s()},[t,n]),r?a.jsx(SMe,{fullScreen:!0}):e?a.jsx(jM,{children:a.jsx(NMe,{})}):a.jsx(jM,{children:a.jsx(zxe,{})})}const kMe=new Ere({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1}}});_C.createRoot(document.getElementById("root")).render(a.jsx(zr.StrictMode,{children:a.jsx(Sre,{client:kMe,children:a.jsx(CMe,{})})}));
