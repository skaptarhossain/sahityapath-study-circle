var Fie=Object.defineProperty;var hO=e=>{throw TypeError(e)};var Lie=(e,t,n)=>t in e?Fie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ey=(e,t,n)=>Lie(e,typeof t!="symbol"?t+"":t,n),FS=(e,t,n)=>t.has(e)||hO("Cannot "+n);var tt=(e,t,n)=>(FS(e,t,"read from private field"),n?n.call(e):t.get(e)),Yn=(e,t,n)=>t.has(e)?hO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),hn=(e,t,n,r)=>(FS(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Zs=(e,t,n)=>(FS(e,t,"access private method"),n);var r2=(e,t,n,r)=>({set _(i){hn(e,t,i,n)},get _(){return tt(e,t,r)}});function Mie(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uie(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var lV={exports:{}},VT={},cV={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb=Symbol.for("react.element"),Bie=Symbol.for("react.portal"),Vie=Symbol.for("react.fragment"),qie=Symbol.for("react.strict_mode"),Wie=Symbol.for("react.profiler"),zie=Symbol.for("react.provider"),$ie=Symbol.for("react.context"),Hie=Symbol.for("react.forward_ref"),Gie=Symbol.for("react.suspense"),Qie=Symbol.for("react.memo"),Kie=Symbol.for("react.lazy"),pO=Symbol.iterator;function Xie(e){return e===null||typeof e!="object"?null:(e=pO&&e[pO]||e["@@iterator"],typeof e=="function"?e:null)}var uV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dV=Object.assign,fV={};function rx(e,t,n){this.props=e,this.context=t,this.refs=fV,this.updater=n||uV}rx.prototype.isReactComponent={};rx.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rx.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hV(){}hV.prototype=rx.prototype;function E4(e,t,n){this.props=e,this.context=t,this.refs=fV,this.updater=n||uV}var N4=E4.prototype=new hV;N4.constructor=E4;dV(N4,rx.prototype);N4.isPureReactComponent=!0;var mO=Array.isArray,pV=Object.prototype.hasOwnProperty,S4={current:null},mV={key:!0,ref:!0,__self:!0,__source:!0};function gV(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)pV.call(t,r)&&!mV.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:tb,type:e,key:s,ref:o,props:i,_owner:S4.current}}function Yie(e,t){return{$$typeof:tb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k4(e){return typeof e=="object"&&e!==null&&e.$$typeof===tb}function Zie(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gO=/\/+/g;function LS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zie(""+e.key):t.toString(36)}function dw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tb:case Bie:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+LS(o,0):r,mO(i)?(n="",e!=null&&(n=e.replace(gO,"$&/")+"/"),dw(i,t,n,"",function(u){return u})):i!=null&&(k4(i)&&(i=Yie(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",mO(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+LS(s,l);o+=dw(s,t,n,c,i)}else if(c=Xie(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+LS(s,l++),o+=dw(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function i2(e,t,n){if(e==null)return e;var r=[],i=0;return dw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Jie(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ja={current:null},fw={transition:null},ese={ReactCurrentDispatcher:Ja,ReactCurrentBatchConfig:fw,ReactCurrentOwner:S4};function xV(){throw Error("act(...) is not supported in production builds of React.")}Vn.Children={map:i2,forEach:function(e,t,n){i2(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return i2(e,function(){t++}),t},toArray:function(e){return i2(e,function(t){return t})||[]},only:function(e){if(!k4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vn.Component=rx;Vn.Fragment=Vie;Vn.Profiler=Wie;Vn.PureComponent=E4;Vn.StrictMode=qie;Vn.Suspense=Gie;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ese;Vn.act=xV;Vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dV({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=S4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)pV.call(t,c)&&!mV.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:tb,type:e.type,key:i,ref:s,props:r,_owner:o}};Vn.createContext=function(e){return e={$$typeof:$ie,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zie,_context:e},e.Consumer=e};Vn.createElement=gV;Vn.createFactory=function(e){var t=gV.bind(null,e);return t.type=e,t};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(e){return{$$typeof:Hie,render:e}};Vn.isValidElement=k4;Vn.lazy=function(e){return{$$typeof:Kie,_payload:{_status:-1,_result:e},_init:Jie}};Vn.memo=function(e,t){return{$$typeof:Qie,type:e,compare:t===void 0?null:t}};Vn.startTransition=function(e){var t=fw.transition;fw.transition={};try{e()}finally{fw.transition=t}};Vn.unstable_act=xV;Vn.useCallback=function(e,t){return Ja.current.useCallback(e,t)};Vn.useContext=function(e){return Ja.current.useContext(e)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(e){return Ja.current.useDeferredValue(e)};Vn.useEffect=function(e,t){return Ja.current.useEffect(e,t)};Vn.useId=function(){return Ja.current.useId()};Vn.useImperativeHandle=function(e,t,n){return Ja.current.useImperativeHandle(e,t,n)};Vn.useInsertionEffect=function(e,t){return Ja.current.useInsertionEffect(e,t)};Vn.useLayoutEffect=function(e,t){return Ja.current.useLayoutEffect(e,t)};Vn.useMemo=function(e,t){return Ja.current.useMemo(e,t)};Vn.useReducer=function(e,t,n){return Ja.current.useReducer(e,t,n)};Vn.useRef=function(e){return Ja.current.useRef(e)};Vn.useState=function(e){return Ja.current.useState(e)};Vn.useSyncExternalStore=function(e,t,n){return Ja.current.useSyncExternalStore(e,t,n)};Vn.useTransition=function(){return Ja.current.useTransition()};Vn.version="18.3.1";cV.exports=Vn;var S=cV.exports;const Yr=BT(S),A4=Mie({__proto__:null,default:Yr},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tse=S,nse=Symbol.for("react.element"),rse=Symbol.for("react.fragment"),ise=Object.prototype.hasOwnProperty,sse=tse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ase={key:!0,ref:!0,__self:!0,__source:!0};function yV(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ise.call(t,r)&&!ase.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nse,type:e,key:s,ref:o,props:i,_owner:sse.current}}VT.Fragment=rse;VT.jsx=yV;VT.jsxs=yV;lV.exports=VT;var a=lV.exports,UC={},vV={exports:{}},tl={},bV={exports:{}},wV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,F){var W=G.length;G.push(F);e:for(;0<W;){var O=W-1>>>1,P=G[O];if(0<i(P,F))G[O]=F,G[W]=P,W=O;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var F=G[0],W=G.pop();if(W!==F){G[0]=W;e:for(var O=0,P=G.length,B=P>>>1;O<B;){var K=2*(O+1)-1,Q=G[K],L=K+1,ee=G[L];if(0>i(Q,W))L<P&&0>i(ee,Q)?(G[O]=ee,G[L]=W,O=L):(G[O]=Q,G[K]=W,O=K);else if(L<P&&0>i(ee,W))G[O]=ee,G[L]=W,O=L;else break e}}return F}function i(G,F){var W=G.sortIndex-F.sortIndex;return W!==0?W:G.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=G)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function w(G){if(m=!1,b(G),!y)if(n(c)!==null)y=!0,U(T);else{var F=n(u);F!==null&&z(w,F.startTime-G)}}function T(G,F){y=!1,m&&(m=!1,v(N),N=-1),p=!0;var W=h;try{for(b(F),f=n(c);f!==null&&(!(f.expirationTime>F)||G&&!j());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var P=O(f.expirationTime<=F);F=e.unstable_now(),typeof P=="function"?f.callback=P:f===n(c)&&r(c),b(F)}else r(c);f=n(c)}if(f!==null)var B=!0;else{var K=n(u);K!==null&&z(w,K.startTime-F),B=!1}return B}finally{f=null,h=W,p=!1}}var k=!1,_=null,N=-1,C=5,I=-1;function j(){return!(e.unstable_now()-I<C)}function E(){if(_!==null){var G=e.unstable_now();I=G;var F=!0;try{F=_(!0,G)}finally{F?D():(k=!1,_=null)}}else k=!1}var D;if(typeof g=="function")D=function(){g(E)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,M=R.port2;R.port1.onmessage=E,D=function(){M.postMessage(null)}}else D=function(){x(E,0)};function U(G){_=G,k||(k=!0,D())}function z(G,F){N=x(function(){G(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(T))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var W=h;h=F;try{return G()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=h;h=G;try{return F()}finally{h=W}},e.unstable_scheduleCallback=function(G,F,W){var O=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?O+W:O):W=O,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=W+P,G={id:d++,callback:F,priorityLevel:G,startTime:W,expirationTime:P,sortIndex:-1},W>O?(G.sortIndex=W,t(u,G),n(c)===null&&G===n(u)&&(m?(v(N),N=-1):m=!0,z(w,W-O))):(G.sortIndex=P,t(c,G),y||p||(y=!0,U(T))),G},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(G){var F=h;return function(){var W=h;h=F;try{return G.apply(this,arguments)}finally{h=W}}}})(wV);bV.exports=wV;var ose=bV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lse=S,Xo=ose;function ht(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _V=new Set,Pv={};function gm(e,t){x0(e,t),x0(e+"Capture",t)}function x0(e,t){for(Pv[e]=t,e=0;e<t.length;e++)_V.add(t[e])}var hd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BC=Object.prototype.hasOwnProperty,cse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xO={},yO={};function use(e){return BC.call(yO,e)?!0:BC.call(xO,e)?!1:cse.test(e)?yO[e]=!0:(xO[e]=!0,!1)}function dse(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fse(e,t,n,r){if(t===null||typeof t>"u"||dse(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function eo(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vs[e]=new eo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vs[t]=new eo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vs[e]=new eo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vs[e]=new eo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vs[e]=new eo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vs[e]=new eo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vs[e]=new eo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vs[e]=new eo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vs[e]=new eo(e,5,!1,e.toLowerCase(),null,!1,!1)});var C4=/[\-:]([a-z])/g;function D4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C4,D4);Vs[t]=new eo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C4,D4);Vs[t]=new eo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C4,D4);Vs[t]=new eo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vs[e]=new eo(e,1,!1,e.toLowerCase(),null,!1,!1)});Vs.xlinkHref=new eo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vs[e]=new eo(e,1,!1,e.toLowerCase(),null,!0,!0)});function j4(e,t,n,r){var i=Vs.hasOwnProperty(t)?Vs[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fse(t,n,i,r)&&(n=null),r||i===null?use(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ad=lse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s2=Symbol.for("react.element"),_g=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),I4=Symbol.for("react.strict_mode"),VC=Symbol.for("react.profiler"),TV=Symbol.for("react.provider"),EV=Symbol.for("react.context"),R4=Symbol.for("react.forward_ref"),qC=Symbol.for("react.suspense"),WC=Symbol.for("react.suspense_list"),P4=Symbol.for("react.memo"),ff=Symbol.for("react.lazy"),NV=Symbol.for("react.offscreen"),vO=Symbol.iterator;function ty(e){return e===null||typeof e!="object"?null:(e=vO&&e[vO]||e["@@iterator"],typeof e=="function"?e:null)}var fi=Object.assign,MS;function Ry(e){if(MS===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);MS=t&&t[1]||""}return`
`+MS+e}var US=!1;function BS(e,t){if(!e||US)return"";US=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{US=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ry(e):""}function hse(e){switch(e.tag){case 5:return Ry(e.type);case 16:return Ry("Lazy");case 13:return Ry("Suspense");case 19:return Ry("SuspenseList");case 0:case 2:case 15:return e=BS(e.type,!1),e;case 11:return e=BS(e.type.render,!1),e;case 1:return e=BS(e.type,!0),e;default:return""}}function zC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tg:return"Fragment";case _g:return"Portal";case VC:return"Profiler";case I4:return"StrictMode";case qC:return"Suspense";case WC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EV:return(e.displayName||"Context")+".Consumer";case TV:return(e._context.displayName||"Context")+".Provider";case R4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P4:return t=e.displayName||null,t!==null?t:zC(e.type)||"Memo";case ff:t=e._payload,e=e._init;try{return zC(e(t))}catch{}}return null}function pse(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zC(t);case 8:return t===I4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mse(e){var t=SV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function a2(e){e._valueTracker||(e._valueTracker=mse(e))}function kV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=SV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $w(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $C(e,t){var n=t.checked;return fi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AV(e,t){t=t.checked,t!=null&&j4(e,"checked",t,!1)}function HC(e,t){AV(e,t);var n=rh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?GC(e,t.type,n):t.hasOwnProperty("defaultValue")&&GC(e,t.type,rh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function GC(e,t,n){(t!=="number"||$w(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Py=Array.isArray;function zg(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rh(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function QC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ht(91));return fi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _O(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ht(92));if(Py(n)){if(1<n.length)throw Error(ht(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rh(n)}}function CV(e,t){var n=rh(t.value),r=rh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function TO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function KC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var o2,jV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(o2=o2||document.createElement("div"),o2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=o2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ov(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gse=["Webkit","ms","Moz","O"];Object.keys(tv).forEach(function(e){gse.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tv[t]=tv[e]})});function IV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tv.hasOwnProperty(e)&&tv[e]?(""+t).trim():t+"px"}function RV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=IV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xse=fi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XC(e,t){if(t){if(xse[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ht(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ht(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ht(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ht(62))}}function YC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZC=null;function O4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var JC=null,$g=null,Hg=null;function EO(e){if(e=ib(e)){if(typeof JC!="function")throw Error(ht(280));var t=e.stateNode;t&&(t=HT(t),JC(e.stateNode,e.type,t))}}function PV(e){$g?Hg?Hg.push(e):Hg=[e]:$g=e}function OV(){if($g){var e=$g,t=Hg;if(Hg=$g=null,EO(e),t)for(e=0;e<t.length;e++)EO(t[e])}}function FV(e,t){return e(t)}function LV(){}var VS=!1;function MV(e,t,n){if(VS)return e(t,n);VS=!0;try{return FV(e,t,n)}finally{VS=!1,($g!==null||Hg!==null)&&(LV(),OV())}}function Fv(e,t){var n=e.stateNode;if(n===null)return null;var r=HT(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ht(231,t,typeof n));return n}var eD=!1;if(hd)try{var ny={};Object.defineProperty(ny,"passive",{get:function(){eD=!0}}),window.addEventListener("test",ny,ny),window.removeEventListener("test",ny,ny)}catch{eD=!1}function yse(e,t,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var nv=!1,Hw=null,Gw=!1,tD=null,vse={onError:function(e){nv=!0,Hw=e}};function bse(e,t,n,r,i,s,o,l,c){nv=!1,Hw=null,yse.apply(vse,arguments)}function wse(e,t,n,r,i,s,o,l,c){if(bse.apply(this,arguments),nv){if(nv){var u=Hw;nv=!1,Hw=null}else throw Error(ht(198));Gw||(Gw=!0,tD=u)}}function xm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function UV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NO(e){if(xm(e)!==e)throw Error(ht(188))}function _se(e){var t=e.alternate;if(!t){if(t=xm(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return NO(i),e;if(s===r)return NO(i),t;s=s.sibling}throw Error(ht(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?e:t}function BV(e){return e=_se(e),e!==null?VV(e):null}function VV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VV(e);if(t!==null)return t;e=e.sibling}return null}var qV=Xo.unstable_scheduleCallback,SO=Xo.unstable_cancelCallback,Tse=Xo.unstable_shouldYield,Ese=Xo.unstable_requestPaint,Di=Xo.unstable_now,Nse=Xo.unstable_getCurrentPriorityLevel,F4=Xo.unstable_ImmediatePriority,WV=Xo.unstable_UserBlockingPriority,Qw=Xo.unstable_NormalPriority,Sse=Xo.unstable_LowPriority,zV=Xo.unstable_IdlePriority,qT=null,su=null;function kse(e){if(su&&typeof su.onCommitFiberRoot=="function")try{su.onCommitFiberRoot(qT,e,void 0,(e.current.flags&128)===128)}catch{}}var dc=Math.clz32?Math.clz32:Dse,Ase=Math.log,Cse=Math.LN2;function Dse(e){return e>>>=0,e===0?32:31-(Ase(e)/Cse|0)|0}var l2=64,c2=4194304;function Oy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Oy(l):(s&=o,s!==0&&(r=Oy(s)))}else o=n&~i,o!==0?r=Oy(o):s!==0&&(r=Oy(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dc(t),i=1<<n,r|=e[n],t&=~i;return r}function jse(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ise(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-dc(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=jse(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function nD(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $V(){var e=l2;return l2<<=1,!(l2&4194240)&&(l2=64),e}function qS(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dc(t),e[t]=n}function Rse(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dc(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function L4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dc(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Cr=0;function HV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GV,M4,QV,KV,XV,rD=!1,u2=[],qf=null,Wf=null,zf=null,Lv=new Map,Mv=new Map,xf=[],Pse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kO(e,t){switch(e){case"focusin":case"focusout":qf=null;break;case"dragenter":case"dragleave":Wf=null;break;case"mouseover":case"mouseout":zf=null;break;case"pointerover":case"pointerout":Lv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mv.delete(t.pointerId)}}function ry(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ib(t),t!==null&&M4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ose(e,t,n,r,i){switch(t){case"focusin":return qf=ry(qf,e,t,n,r,i),!0;case"dragenter":return Wf=ry(Wf,e,t,n,r,i),!0;case"mouseover":return zf=ry(zf,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lv.set(s,ry(Lv.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mv.set(s,ry(Mv.get(s)||null,e,t,n,r,i)),!0}return!1}function YV(e){var t=up(e.target);if(t!==null){var n=xm(t);if(n!==null){if(t=n.tag,t===13){if(t=UV(n),t!==null){e.blockedOn=t,XV(e.priority,function(){QV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iD(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ZC=r,n.target.dispatchEvent(r),ZC=null}else return t=ib(n),t!==null&&M4(t),e.blockedOn=n,!1;t.shift()}return!0}function AO(e,t,n){hw(e)&&n.delete(t)}function Fse(){rD=!1,qf!==null&&hw(qf)&&(qf=null),Wf!==null&&hw(Wf)&&(Wf=null),zf!==null&&hw(zf)&&(zf=null),Lv.forEach(AO),Mv.forEach(AO)}function iy(e,t){e.blockedOn===t&&(e.blockedOn=null,rD||(rD=!0,Xo.unstable_scheduleCallback(Xo.unstable_NormalPriority,Fse)))}function Uv(e){function t(i){return iy(i,e)}if(0<u2.length){iy(u2[0],e);for(var n=1;n<u2.length;n++){var r=u2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qf!==null&&iy(qf,e),Wf!==null&&iy(Wf,e),zf!==null&&iy(zf,e),Lv.forEach(t),Mv.forEach(t),n=0;n<xf.length;n++)r=xf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xf.length&&(n=xf[0],n.blockedOn===null);)YV(n),n.blockedOn===null&&xf.shift()}var Gg=Ad.ReactCurrentBatchConfig,Xw=!0;function Lse(e,t,n,r){var i=Cr,s=Gg.transition;Gg.transition=null;try{Cr=1,U4(e,t,n,r)}finally{Cr=i,Gg.transition=s}}function Mse(e,t,n,r){var i=Cr,s=Gg.transition;Gg.transition=null;try{Cr=4,U4(e,t,n,r)}finally{Cr=i,Gg.transition=s}}function U4(e,t,n,r){if(Xw){var i=iD(e,t,n,r);if(i===null)ZS(e,t,r,Yw,n),kO(e,r);else if(Ose(i,e,t,n,r))r.stopPropagation();else if(kO(e,r),t&4&&-1<Pse.indexOf(e)){for(;i!==null;){var s=ib(i);if(s!==null&&GV(s),s=iD(e,t,n,r),s===null&&ZS(e,t,r,Yw,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ZS(e,t,r,null,n)}}var Yw=null;function iD(e,t,n,r){if(Yw=null,e=O4(r),e=up(e),e!==null)if(t=xm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=UV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yw=e,null}function ZV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nse()){case F4:return 1;case WV:return 4;case Qw:case Sse:return 16;case zV:return 536870912;default:return 16}default:return 16}}var If=null,B4=null,pw=null;function JV(){if(pw)return pw;var e,t=B4,n=t.length,r,i="value"in If?If.value:If.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return pw=i.slice(e,1<r?1-r:void 0)}function mw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function d2(){return!0}function CO(){return!1}function nl(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?d2:CO,this.isPropagationStopped=CO,this}return fi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=d2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=d2)},persist:function(){},isPersistent:d2}),t}var ix={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V4=nl(ix),rb=fi({},ix,{view:0,detail:0}),Use=nl(rb),WS,zS,sy,WT=fi({},rb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sy&&(sy&&e.type==="mousemove"?(WS=e.screenX-sy.screenX,zS=e.screenY-sy.screenY):zS=WS=0,sy=e),WS)},movementY:function(e){return"movementY"in e?e.movementY:zS}}),DO=nl(WT),Bse=fi({},WT,{dataTransfer:0}),Vse=nl(Bse),qse=fi({},rb,{relatedTarget:0}),$S=nl(qse),Wse=fi({},ix,{animationName:0,elapsedTime:0,pseudoElement:0}),zse=nl(Wse),$se=fi({},ix,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hse=nl($se),Gse=fi({},ix,{data:0}),jO=nl(Gse),Qse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yse(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xse[e])?!!t[e]:!1}function q4(){return Yse}var Zse=fi({},rb,{key:function(e){if(e.key){var t=Qse[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kse[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q4,charCode:function(e){return e.type==="keypress"?mw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jse=nl(Zse),eae=fi({},WT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IO=nl(eae),tae=fi({},rb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q4}),nae=nl(tae),rae=fi({},ix,{propertyName:0,elapsedTime:0,pseudoElement:0}),iae=nl(rae),sae=fi({},WT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aae=nl(sae),oae=[9,13,27,32],W4=hd&&"CompositionEvent"in window,rv=null;hd&&"documentMode"in document&&(rv=document.documentMode);var lae=hd&&"TextEvent"in window&&!rv,eq=hd&&(!W4||rv&&8<rv&&11>=rv),RO=" ",PO=!1;function tq(e,t){switch(e){case"keyup":return oae.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eg=!1;function cae(e,t){switch(e){case"compositionend":return nq(t);case"keypress":return t.which!==32?null:(PO=!0,RO);case"textInput":return e=t.data,e===RO&&PO?null:e;default:return null}}function uae(e,t){if(Eg)return e==="compositionend"||!W4&&tq(e,t)?(e=JV(),pw=B4=If=null,Eg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eq&&t.locale!=="ko"?null:t.data;default:return null}}var dae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dae[e.type]:t==="textarea"}function rq(e,t,n,r){PV(r),t=Zw(t,"onChange"),0<t.length&&(n=new V4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var iv=null,Bv=null;function fae(e){pq(e,0)}function zT(e){var t=kg(e);if(kV(t))return e}function hae(e,t){if(e==="change")return t}var iq=!1;if(hd){var HS;if(hd){var GS="oninput"in document;if(!GS){var FO=document.createElement("div");FO.setAttribute("oninput","return;"),GS=typeof FO.oninput=="function"}HS=GS}else HS=!1;iq=HS&&(!document.documentMode||9<document.documentMode)}function LO(){iv&&(iv.detachEvent("onpropertychange",sq),Bv=iv=null)}function sq(e){if(e.propertyName==="value"&&zT(Bv)){var t=[];rq(t,Bv,e,O4(e)),MV(fae,t)}}function pae(e,t,n){e==="focusin"?(LO(),iv=t,Bv=n,iv.attachEvent("onpropertychange",sq)):e==="focusout"&&LO()}function mae(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zT(Bv)}function gae(e,t){if(e==="click")return zT(t)}function xae(e,t){if(e==="input"||e==="change")return zT(t)}function yae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pc=typeof Object.is=="function"?Object.is:yae;function Vv(e,t){if(pc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!BC.call(t,i)||!pc(e[i],t[i]))return!1}return!0}function MO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UO(e,t){var n=MO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MO(n)}}function aq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oq(){for(var e=window,t=$w();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$w(e.document)}return t}function z4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vae(e){var t=oq(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aq(n.ownerDocument.documentElement,n)){if(r!==null&&z4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=UO(n,s);var o=UO(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bae=hd&&"documentMode"in document&&11>=document.documentMode,Ng=null,sD=null,sv=null,aD=!1;function BO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;aD||Ng==null||Ng!==$w(r)||(r=Ng,"selectionStart"in r&&z4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sv&&Vv(sv,r)||(sv=r,r=Zw(sD,"onSelect"),0<r.length&&(t=new V4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ng)))}function f2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sg={animationend:f2("Animation","AnimationEnd"),animationiteration:f2("Animation","AnimationIteration"),animationstart:f2("Animation","AnimationStart"),transitionend:f2("Transition","TransitionEnd")},QS={},lq={};hd&&(lq=document.createElement("div").style,"AnimationEvent"in window||(delete Sg.animationend.animation,delete Sg.animationiteration.animation,delete Sg.animationstart.animation),"TransitionEvent"in window||delete Sg.transitionend.transition);function $T(e){if(QS[e])return QS[e];if(!Sg[e])return e;var t=Sg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lq)return QS[e]=t[n];return e}var cq=$T("animationend"),uq=$T("animationiteration"),dq=$T("animationstart"),fq=$T("transitionend"),hq=new Map,VO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wh(e,t){hq.set(e,t),gm(t,[e])}for(var KS=0;KS<VO.length;KS++){var XS=VO[KS],wae=XS.toLowerCase(),_ae=XS[0].toUpperCase()+XS.slice(1);wh(wae,"on"+_ae)}wh(cq,"onAnimationEnd");wh(uq,"onAnimationIteration");wh(dq,"onAnimationStart");wh("dblclick","onDoubleClick");wh("focusin","onFocus");wh("focusout","onBlur");wh(fq,"onTransitionEnd");x0("onMouseEnter",["mouseout","mouseover"]);x0("onMouseLeave",["mouseout","mouseover"]);x0("onPointerEnter",["pointerout","pointerover"]);x0("onPointerLeave",["pointerout","pointerover"]);gm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gm("onBeforeInput",["compositionend","keypress","textInput","paste"]);gm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fy));function qO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wse(r,t,void 0,e),e.currentTarget=null}function pq(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;qO(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;qO(i,l,u),s=c}}}if(Gw)throw e=tD,Gw=!1,tD=null,e}function Qr(e,t){var n=t[dD];n===void 0&&(n=t[dD]=new Set);var r=e+"__bubble";n.has(r)||(mq(t,e,2,!1),n.add(r))}function YS(e,t,n){var r=0;t&&(r|=4),mq(n,e,r,t)}var h2="_reactListening"+Math.random().toString(36).slice(2);function qv(e){if(!e[h2]){e[h2]=!0,_V.forEach(function(n){n!=="selectionchange"&&(Tae.has(n)||YS(n,!1,e),YS(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[h2]||(t[h2]=!0,YS("selectionchange",!1,t))}}function mq(e,t,n,r){switch(ZV(t)){case 1:var i=Lse;break;case 4:i=Mse;break;default:i=U4}n=i.bind(null,t,n,e),i=void 0,!eD||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ZS(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=up(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}MV(function(){var u=s,d=O4(n),f=[];e:{var h=hq.get(e);if(h!==void 0){var p=V4,y=e;switch(e){case"keypress":if(mw(n)===0)break e;case"keydown":case"keyup":p=Jse;break;case"focusin":y="focus",p=$S;break;case"focusout":y="blur",p=$S;break;case"beforeblur":case"afterblur":p=$S;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nae;break;case cq:case uq:case dq:p=zse;break;case fq:p=iae;break;case"scroll":p=Use;break;case"wheel":p=aae;break;case"copy":case"cut":case"paste":p=Hse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=IO}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,b;g!==null;){b=g;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=Fv(g,v),w!=null&&m.push(Wv(g,w,b)))),x)break;g=g.return}0<m.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==ZC&&(y=n.relatedTarget||n.fromElement)&&(up(y)||y[pd]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?up(y):null,y!==null&&(x=xm(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=DO,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=IO,w="onPointerLeave",v="onPointerEnter",g="pointer"),x=p==null?h:kg(p),b=y==null?h:kg(y),h=new m(w,g+"leave",p,n,d),h.target=x,h.relatedTarget=b,w=null,up(d)===u&&(m=new m(v,g+"enter",y,n,d),m.target=b,m.relatedTarget=x,w=m),x=w,p&&y)t:{for(m=p,v=y,g=0,b=m;b;b=Zm(b))g++;for(b=0,w=v;w;w=Zm(w))b++;for(;0<g-b;)m=Zm(m),g--;for(;0<b-g;)v=Zm(v),b--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Zm(m),v=Zm(v)}m=null}else m=null;p!==null&&WO(f,h,p,m,!1),y!==null&&x!==null&&WO(f,x,y,m,!0)}}e:{if(h=u?kg(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=hae;else if(OO(h))if(iq)T=xae;else{T=mae;var k=pae}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=gae);if(T&&(T=T(e,u))){rq(f,T,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&GC(h,"number",h.value)}switch(k=u?kg(u):window,e){case"focusin":(OO(k)||k.contentEditable==="true")&&(Ng=k,sD=u,sv=null);break;case"focusout":sv=sD=Ng=null;break;case"mousedown":aD=!0;break;case"contextmenu":case"mouseup":case"dragend":aD=!1,BO(f,n,d);break;case"selectionchange":if(bae)break;case"keydown":case"keyup":BO(f,n,d)}var _;if(W4)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Eg?tq(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(eq&&n.locale!=="ko"&&(Eg||N!=="onCompositionStart"?N==="onCompositionEnd"&&Eg&&(_=JV()):(If=d,B4="value"in If?If.value:If.textContent,Eg=!0)),k=Zw(u,N),0<k.length&&(N=new jO(N,e,null,n,d),f.push({event:N,listeners:k}),_?N.data=_:(_=nq(n),_!==null&&(N.data=_)))),(_=lae?cae(e,n):uae(e,n))&&(u=Zw(u,"onBeforeInput"),0<u.length&&(d=new jO("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}pq(f,t)})}function Wv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fv(e,n),s!=null&&r.unshift(Wv(e,s,i)),s=Fv(e,t),s!=null&&r.push(Wv(e,s,i))),e=e.return}return r}function Zm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WO(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Fv(n,s),c!=null&&o.unshift(Wv(n,c,l))):i||(c=Fv(n,s),c!=null&&o.push(Wv(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Eae=/\r\n?/g,Nae=/\u0000|\uFFFD/g;function zO(e){return(typeof e=="string"?e:""+e).replace(Eae,`
`).replace(Nae,"")}function p2(e,t,n){if(t=zO(t),zO(e)!==t&&n)throw Error(ht(425))}function Jw(){}var oD=null,lD=null;function cD(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uD=typeof setTimeout=="function"?setTimeout:void 0,Sae=typeof clearTimeout=="function"?clearTimeout:void 0,$O=typeof Promise=="function"?Promise:void 0,kae=typeof queueMicrotask=="function"?queueMicrotask:typeof $O<"u"?function(e){return $O.resolve(null).then(e).catch(Aae)}:uD;function Aae(e){setTimeout(function(){throw e})}function JS(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Uv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uv(t)}function $f(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sx=Math.random().toString(36).slice(2),Xc="__reactFiber$"+sx,zv="__reactProps$"+sx,pd="__reactContainer$"+sx,dD="__reactEvents$"+sx,Cae="__reactListeners$"+sx,Dae="__reactHandles$"+sx;function up(e){var t=e[Xc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pd]||n[Xc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=HO(e);e!==null;){if(n=e[Xc])return n;e=HO(e)}return t}e=n,n=e.parentNode}return null}function ib(e){return e=e[Xc]||e[pd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ht(33))}function HT(e){return e[zv]||null}var fD=[],Ag=-1;function _h(e){return{current:e}}function Zr(e){0>Ag||(e.current=fD[Ag],fD[Ag]=null,Ag--)}function Ur(e,t){Ag++,fD[Ag]=e.current,e.current=t}var ih={},xa=_h(ih),yo=_h(!1),Rp=ih;function y0(e,t){var n=e.type.contextTypes;if(!n)return ih;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vo(e){return e=e.childContextTypes,e!=null}function e_(){Zr(yo),Zr(xa)}function GO(e,t,n){if(xa.current!==ih)throw Error(ht(168));Ur(xa,t),Ur(yo,n)}function gq(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ht(108,pse(e)||"Unknown",i));return fi({},n,r)}function t_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ih,Rp=xa.current,Ur(xa,e),Ur(yo,yo.current),!0}function QO(e,t,n){var r=e.stateNode;if(!r)throw Error(ht(169));n?(e=gq(e,t,Rp),r.__reactInternalMemoizedMergedChildContext=e,Zr(yo),Zr(xa),Ur(xa,e)):Zr(yo),Ur(yo,n)}var Wu=null,GT=!1,ek=!1;function xq(e){Wu===null?Wu=[e]:Wu.push(e)}function jae(e){GT=!0,xq(e)}function Th(){if(!ek&&Wu!==null){ek=!0;var e=0,t=Cr;try{var n=Wu;for(Cr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wu=null,GT=!1}catch(i){throw Wu!==null&&(Wu=Wu.slice(e+1)),qV(F4,Th),i}finally{Cr=t,ek=!1}}return null}var Cg=[],Dg=0,n_=null,r_=0,xl=[],yl=0,Pp=null,Hu=1,Gu="";function Yh(e,t){Cg[Dg++]=r_,Cg[Dg++]=n_,n_=e,r_=t}function yq(e,t,n){xl[yl++]=Hu,xl[yl++]=Gu,xl[yl++]=Pp,Pp=e;var r=Hu;e=Gu;var i=32-dc(r)-1;r&=~(1<<i),n+=1;var s=32-dc(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hu=1<<32-dc(t)+i|n<<i|r,Gu=s+e}else Hu=1<<s|n<<i|r,Gu=e}function $4(e){e.return!==null&&(Yh(e,1),yq(e,1,0))}function H4(e){for(;e===n_;)n_=Cg[--Dg],Cg[Dg]=null,r_=Cg[--Dg],Cg[Dg]=null;for(;e===Pp;)Pp=xl[--yl],xl[yl]=null,Gu=xl[--yl],xl[yl]=null,Hu=xl[--yl],xl[yl]=null}var Qo=null,zo=null,ri=!1,nc=null;function vq(e,t){var n=bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function KO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qo=e,zo=$f(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qo=e,zo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pp!==null?{id:Hu,overflow:Gu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qo=e,zo=null,!0):!1;default:return!1}}function hD(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pD(e){if(ri){var t=zo;if(t){var n=t;if(!KO(e,t)){if(hD(e))throw Error(ht(418));t=$f(n.nextSibling);var r=Qo;t&&KO(e,t)?vq(r,n):(e.flags=e.flags&-4097|2,ri=!1,Qo=e)}}else{if(hD(e))throw Error(ht(418));e.flags=e.flags&-4097|2,ri=!1,Qo=e}}}function XO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qo=e}function m2(e){if(e!==Qo)return!1;if(!ri)return XO(e),ri=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cD(e.type,e.memoizedProps)),t&&(t=zo)){if(hD(e))throw bq(),Error(ht(418));for(;t;)vq(e,t),t=$f(t.nextSibling)}if(XO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zo=$f(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zo=null}}else zo=Qo?$f(e.stateNode.nextSibling):null;return!0}function bq(){for(var e=zo;e;)e=$f(e.nextSibling)}function v0(){zo=Qo=null,ri=!1}function G4(e){nc===null?nc=[e]:nc.push(e)}var Iae=Ad.ReactCurrentBatchConfig;function ay(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ht(309));var r=n.stateNode}if(!r)throw Error(ht(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ht(284));if(!n._owner)throw Error(ht(290,e))}return e}function g2(e,t){throw e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function YO(e){var t=e._init;return t(e._payload)}function wq(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=Kf(v,g),v.index=0,v.sibling=null,v}function s(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,b,w){return g===null||g.tag!==6?(g=ok(b,v.mode,w),g.return=v,g):(g=i(g,b),g.return=v,g)}function c(v,g,b,w){var T=b.type;return T===Tg?d(v,g,b.props.children,w,b.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ff&&YO(T)===g.type)?(w=i(g,b.props),w.ref=ay(v,g,b),w.return=v,w):(w=_w(b.type,b.key,b.props,null,v.mode,w),w.ref=ay(v,g,b),w.return=v,w)}function u(v,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=lk(b,v.mode,w),g.return=v,g):(g=i(g,b.children||[]),g.return=v,g)}function d(v,g,b,w,T){return g===null||g.tag!==7?(g=Ep(b,v.mode,w,T),g.return=v,g):(g=i(g,b),g.return=v,g)}function f(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ok(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case s2:return b=_w(g.type,g.key,g.props,null,v.mode,b),b.ref=ay(v,null,g),b.return=v,b;case _g:return g=lk(g,v.mode,b),g.return=v,g;case ff:var w=g._init;return f(v,w(g._payload),b)}if(Py(g)||ty(g))return g=Ep(g,v.mode,b,null),g.return=v,g;g2(v,g)}return null}function h(v,g,b,w){var T=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:l(v,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case s2:return b.key===T?c(v,g,b,w):null;case _g:return b.key===T?u(v,g,b,w):null;case ff:return T=b._init,h(v,g,T(b._payload),w)}if(Py(b)||ty(b))return T!==null?null:d(v,g,b,w,null);g2(v,b)}return null}function p(v,g,b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,l(g,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case s2:return v=v.get(w.key===null?b:w.key)||null,c(g,v,w,T);case _g:return v=v.get(w.key===null?b:w.key)||null,u(g,v,w,T);case ff:var k=w._init;return p(v,g,b,k(w._payload),T)}if(Py(w)||ty(w))return v=v.get(b)||null,d(g,v,w,T,null);g2(g,w)}return null}function y(v,g,b,w){for(var T=null,k=null,_=g,N=g=0,C=null;_!==null&&N<b.length;N++){_.index>N?(C=_,_=null):C=_.sibling;var I=h(v,_,b[N],w);if(I===null){_===null&&(_=C);break}e&&_&&I.alternate===null&&t(v,_),g=s(I,g,N),k===null?T=I:k.sibling=I,k=I,_=C}if(N===b.length)return n(v,_),ri&&Yh(v,N),T;if(_===null){for(;N<b.length;N++)_=f(v,b[N],w),_!==null&&(g=s(_,g,N),k===null?T=_:k.sibling=_,k=_);return ri&&Yh(v,N),T}for(_=r(v,_);N<b.length;N++)C=p(_,v,N,b[N],w),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?N:C.key),g=s(C,g,N),k===null?T=C:k.sibling=C,k=C);return e&&_.forEach(function(j){return t(v,j)}),ri&&Yh(v,N),T}function m(v,g,b,w){var T=ty(b);if(typeof T!="function")throw Error(ht(150));if(b=T.call(b),b==null)throw Error(ht(151));for(var k=T=null,_=g,N=g=0,C=null,I=b.next();_!==null&&!I.done;N++,I=b.next()){_.index>N?(C=_,_=null):C=_.sibling;var j=h(v,_,I.value,w);if(j===null){_===null&&(_=C);break}e&&_&&j.alternate===null&&t(v,_),g=s(j,g,N),k===null?T=j:k.sibling=j,k=j,_=C}if(I.done)return n(v,_),ri&&Yh(v,N),T;if(_===null){for(;!I.done;N++,I=b.next())I=f(v,I.value,w),I!==null&&(g=s(I,g,N),k===null?T=I:k.sibling=I,k=I);return ri&&Yh(v,N),T}for(_=r(v,_);!I.done;N++,I=b.next())I=p(_,v,N,I.value,w),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?N:I.key),g=s(I,g,N),k===null?T=I:k.sibling=I,k=I);return e&&_.forEach(function(E){return t(v,E)}),ri&&Yh(v,N),T}function x(v,g,b,w){if(typeof b=="object"&&b!==null&&b.type===Tg&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case s2:e:{for(var T=b.key,k=g;k!==null;){if(k.key===T){if(T=b.type,T===Tg){if(k.tag===7){n(v,k.sibling),g=i(k,b.props.children),g.return=v,v=g;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ff&&YO(T)===k.type){n(v,k.sibling),g=i(k,b.props),g.ref=ay(v,k,b),g.return=v,v=g;break e}n(v,k);break}else t(v,k);k=k.sibling}b.type===Tg?(g=Ep(b.props.children,v.mode,w,b.key),g.return=v,v=g):(w=_w(b.type,b.key,b.props,null,v.mode,w),w.ref=ay(v,g,b),w.return=v,v=w)}return o(v);case _g:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(v,g.sibling),g=i(g,b.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=lk(b,v.mode,w),g.return=v,v=g}return o(v);case ff:return k=b._init,x(v,g,k(b._payload),w)}if(Py(b))return y(v,g,b,w);if(ty(b))return m(v,g,b,w);g2(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,b),g.return=v,v=g):(n(v,g),g=ok(b,v.mode,w),g.return=v,v=g),o(v)):n(v,g)}return x}var b0=wq(!0),_q=wq(!1),i_=_h(null),s_=null,jg=null,Q4=null;function K4(){Q4=jg=s_=null}function X4(e){var t=i_.current;Zr(i_),e._currentValue=t}function mD(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qg(e,t){s_=e,Q4=jg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(go=!0),e.firstContext=null)}function jl(e){var t=e._currentValue;if(Q4!==e)if(e={context:e,memoizedValue:t,next:null},jg===null){if(s_===null)throw Error(ht(308));jg=e,s_.dependencies={lanes:0,firstContext:e}}else jg=jg.next=e;return t}var dp=null;function Y4(e){dp===null?dp=[e]:dp.push(e)}function Tq(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Y4(t)):(n.next=i.next,i.next=n),t.interleaved=n,md(e,r)}function md(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hf=!1;function Z4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eq(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ed(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,hr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,md(e,n)}return i=r.interleaved,i===null?(t.next=t,Y4(r)):(t.next=i.next,i.next=t),r.interleaved=t,md(e,n)}function gw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,L4(e,n)}}function ZO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function a_(e,t,n,r){var i=e.updateQueue;hf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=fi({},f,h);break e;case 2:hf=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fp|=o,e.lanes=o,e.memoizedState=f}}function JO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ht(191,i));i.call(r)}}}var sb={},au=_h(sb),$v=_h(sb),Hv=_h(sb);function fp(e){if(e===sb)throw Error(ht(174));return e}function J4(e,t){switch(Ur(Hv,t),Ur($v,e),Ur(au,sb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:KC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=KC(t,e)}Zr(au),Ur(au,t)}function w0(){Zr(au),Zr($v),Zr(Hv)}function Nq(e){fp(Hv.current);var t=fp(au.current),n=KC(t,e.type);t!==n&&(Ur($v,e),Ur(au,n))}function eI(e){$v.current===e&&(Zr(au),Zr($v))}var oi=_h(0);function o_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tk=[];function tI(){for(var e=0;e<tk.length;e++)tk[e]._workInProgressVersionPrimary=null;tk.length=0}var xw=Ad.ReactCurrentDispatcher,nk=Ad.ReactCurrentBatchConfig,Op=0,ui=null,rs=null,Ts=null,l_=!1,av=!1,Gv=0,Rae=0;function Js(){throw Error(ht(321))}function nI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pc(e[n],t[n]))return!1;return!0}function rI(e,t,n,r,i,s){if(Op=s,ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xw.current=e===null||e.memoizedState===null?Lae:Mae,e=n(r,i),av){s=0;do{if(av=!1,Gv=0,25<=s)throw Error(ht(301));s+=1,Ts=rs=null,t.updateQueue=null,xw.current=Uae,e=n(r,i)}while(av)}if(xw.current=c_,t=rs!==null&&rs.next!==null,Op=0,Ts=rs=ui=null,l_=!1,t)throw Error(ht(300));return e}function iI(){var e=Gv!==0;return Gv=0,e}function Wc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ts===null?ui.memoizedState=Ts=e:Ts=Ts.next=e,Ts}function Il(){if(rs===null){var e=ui.alternate;e=e!==null?e.memoizedState:null}else e=rs.next;var t=Ts===null?ui.memoizedState:Ts.next;if(t!==null)Ts=t,rs=e;else{if(e===null)throw Error(ht(310));rs=e,e={memoizedState:rs.memoizedState,baseState:rs.baseState,baseQueue:rs.baseQueue,queue:rs.queue,next:null},Ts===null?ui.memoizedState=Ts=e:Ts=Ts.next=e}return Ts}function Qv(e,t){return typeof t=="function"?t(e):t}function rk(e){var t=Il(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=rs,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Op&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ui.lanes|=d,Fp|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,pc(r,t.memoizedState)||(go=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ui.lanes|=s,Fp|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ik(e){var t=Il(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);pc(s,t.memoizedState)||(go=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Sq(){}function kq(e,t){var n=ui,r=Il(),i=t(),s=!pc(r.memoizedState,i);if(s&&(r.memoizedState=i,go=!0),r=r.queue,sI(Dq.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ts!==null&&Ts.memoizedState.tag&1){if(n.flags|=2048,Kv(9,Cq.bind(null,n,r,i,t),void 0,null),Es===null)throw Error(ht(349));Op&30||Aq(n,t,i)}return i}function Aq(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cq(e,t,n,r){t.value=n,t.getSnapshot=r,jq(t)&&Iq(e)}function Dq(e,t,n){return n(function(){jq(t)&&Iq(e)})}function jq(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pc(e,n)}catch{return!0}}function Iq(e){var t=md(e,1);t!==null&&fc(t,e,1,-1)}function eF(e){var t=Wc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qv,lastRenderedState:e},t.queue=e,e=e.dispatch=Fae.bind(null,ui,e),[t.memoizedState,e]}function Kv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rq(){return Il().memoizedState}function yw(e,t,n,r){var i=Wc();ui.flags|=e,i.memoizedState=Kv(1|t,n,void 0,r===void 0?null:r)}function QT(e,t,n,r){var i=Il();r=r===void 0?null:r;var s=void 0;if(rs!==null){var o=rs.memoizedState;if(s=o.destroy,r!==null&&nI(r,o.deps)){i.memoizedState=Kv(t,n,s,r);return}}ui.flags|=e,i.memoizedState=Kv(1|t,n,s,r)}function tF(e,t){return yw(8390656,8,e,t)}function sI(e,t){return QT(2048,8,e,t)}function Pq(e,t){return QT(4,2,e,t)}function Oq(e,t){return QT(4,4,e,t)}function Fq(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lq(e,t,n){return n=n!=null?n.concat([e]):null,QT(4,4,Fq.bind(null,t,e),n)}function aI(){}function Mq(e,t){var n=Il();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uq(e,t){var n=Il();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bq(e,t,n){return Op&21?(pc(n,t)||(n=$V(),ui.lanes|=n,Fp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,go=!0),e.memoizedState=n)}function Pae(e,t){var n=Cr;Cr=n!==0&&4>n?n:4,e(!0);var r=nk.transition;nk.transition={};try{e(!1),t()}finally{Cr=n,nk.transition=r}}function Vq(){return Il().memoizedState}function Oae(e,t,n){var r=Qf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qq(e))Wq(t,n);else if(n=Tq(e,t,n,r),n!==null){var i=za();fc(n,e,r,i),zq(n,t,r)}}function Fae(e,t,n){var r=Qf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qq(e))Wq(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,pc(l,o)){var c=t.interleaved;c===null?(i.next=i,Y4(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Tq(e,t,i,r),n!==null&&(i=za(),fc(n,e,r,i),zq(n,t,r))}}function qq(e){var t=e.alternate;return e===ui||t!==null&&t===ui}function Wq(e,t){av=l_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zq(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,L4(e,n)}}var c_={readContext:jl,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useInsertionEffect:Js,useLayoutEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useMutableSource:Js,useSyncExternalStore:Js,useId:Js,unstable_isNewReconciler:!1},Lae={readContext:jl,useCallback:function(e,t){return Wc().memoizedState=[e,t===void 0?null:t],e},useContext:jl,useEffect:tF,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yw(4194308,4,Fq.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yw(4194308,4,e,t)},useInsertionEffect:function(e,t){return yw(4,2,e,t)},useMemo:function(e,t){var n=Wc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oae.bind(null,ui,e),[r.memoizedState,e]},useRef:function(e){var t=Wc();return e={current:e},t.memoizedState=e},useState:eF,useDebugValue:aI,useDeferredValue:function(e){return Wc().memoizedState=e},useTransition:function(){var e=eF(!1),t=e[0];return e=Pae.bind(null,e[1]),Wc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ui,i=Wc();if(ri){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=t(),Es===null)throw Error(ht(349));Op&30||Aq(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,tF(Dq.bind(null,r,s,e),[e]),r.flags|=2048,Kv(9,Cq.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Wc(),t=Es.identifierPrefix;if(ri){var n=Gu,r=Hu;n=(r&~(1<<32-dc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rae++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mae={readContext:jl,useCallback:Mq,useContext:jl,useEffect:sI,useImperativeHandle:Lq,useInsertionEffect:Pq,useLayoutEffect:Oq,useMemo:Uq,useReducer:rk,useRef:Rq,useState:function(){return rk(Qv)},useDebugValue:aI,useDeferredValue:function(e){var t=Il();return Bq(t,rs.memoizedState,e)},useTransition:function(){var e=rk(Qv)[0],t=Il().memoizedState;return[e,t]},useMutableSource:Sq,useSyncExternalStore:kq,useId:Vq,unstable_isNewReconciler:!1},Uae={readContext:jl,useCallback:Mq,useContext:jl,useEffect:sI,useImperativeHandle:Lq,useInsertionEffect:Pq,useLayoutEffect:Oq,useMemo:Uq,useReducer:ik,useRef:Rq,useState:function(){return ik(Qv)},useDebugValue:aI,useDeferredValue:function(e){var t=Il();return rs===null?t.memoizedState=e:Bq(t,rs.memoizedState,e)},useTransition:function(){var e=ik(Qv)[0],t=Il().memoizedState;return[e,t]},useMutableSource:Sq,useSyncExternalStore:kq,useId:Vq,unstable_isNewReconciler:!1};function Yl(e,t){if(e&&e.defaultProps){t=fi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gD(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var KT={isMounted:function(e){return(e=e._reactInternals)?xm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=za(),i=Qf(e),s=ed(r,i);s.payload=t,n!=null&&(s.callback=n),t=Hf(e,s,i),t!==null&&(fc(t,e,i,r),gw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=za(),i=Qf(e),s=ed(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hf(e,s,i),t!==null&&(fc(t,e,i,r),gw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=za(),r=Qf(e),i=ed(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hf(e,i,r),t!==null&&(fc(t,e,r,n),gw(t,e,r))}};function nF(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Vv(n,r)||!Vv(i,s):!0}function $q(e,t,n){var r=!1,i=ih,s=t.contextType;return typeof s=="object"&&s!==null?s=jl(s):(i=vo(t)?Rp:xa.current,r=t.contextTypes,s=(r=r!=null)?y0(e,i):ih),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=KT,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function rF(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&KT.enqueueReplaceState(t,t.state,null)}function xD(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Z4(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=jl(s):(s=vo(t)?Rp:xa.current,i.context=y0(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(gD(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&KT.enqueueReplaceState(i,i.state,null),a_(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _0(e,t){try{var n="",r=t;do n+=hse(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function sk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yD(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bae=typeof WeakMap=="function"?WeakMap:Map;function Hq(e,t,n){n=ed(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){d_||(d_=!0,AD=r),yD(e,t)},n}function Gq(e,t,n){n=ed(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yD(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yD(e,t),typeof r!="function"&&(Gf===null?Gf=new Set([this]):Gf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function iF(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bae;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=eoe.bind(null,e,t,n),t.then(e,e))}function sF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aF(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ed(-1,1),t.tag=2,Hf(n,t,1))),n.lanes|=1),e)}var Vae=Ad.ReactCurrentOwner,go=!1;function Ia(e,t,n,r){t.child=e===null?_q(t,null,n,r):b0(t,e.child,n,r)}function oF(e,t,n,r,i){n=n.render;var s=t.ref;return Qg(t,i),r=rI(e,t,n,r,s,i),n=iI(),e!==null&&!go?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gd(e,t,i)):(ri&&n&&$4(t),t.flags|=1,Ia(e,t,r,i),t.child)}function lF(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!pI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Qq(e,t,s,r,i)):(e=_w(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vv,n(o,r)&&e.ref===t.ref)return gd(e,t,i)}return t.flags|=1,e=Kf(s,r),e.ref=t.ref,e.return=t,t.child=e}function Qq(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Vv(s,r)&&e.ref===t.ref)if(go=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(go=!0);else return t.lanes=e.lanes,gd(e,t,i)}return vD(e,t,n,r,i)}function Kq(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(Rg,Uo),Uo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ur(Rg,Uo),Uo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ur(Rg,Uo),Uo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ur(Rg,Uo),Uo|=r;return Ia(e,t,i,n),t.child}function Xq(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vD(e,t,n,r,i){var s=vo(n)?Rp:xa.current;return s=y0(t,s),Qg(t,i),n=rI(e,t,n,r,s,i),r=iI(),e!==null&&!go?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gd(e,t,i)):(ri&&r&&$4(t),t.flags|=1,Ia(e,t,n,i),t.child)}function cF(e,t,n,r,i){if(vo(n)){var s=!0;t_(t)}else s=!1;if(Qg(t,i),t.stateNode===null)vw(e,t),$q(t,n,r),xD(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jl(u):(u=vo(n)?Rp:xa.current,u=y0(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&rF(t,o,r,u),hf=!1;var h=t.memoizedState;o.state=h,a_(t,r,o,i),c=t.memoizedState,l!==r||h!==c||yo.current||hf?(typeof d=="function"&&(gD(t,n,d,r),c=t.memoizedState),(l=hf||nF(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Eq(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Yl(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=jl(c):(c=vo(n)?Rp:xa.current,c=y0(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&rF(t,o,r,c),hf=!1,h=t.memoizedState,o.state=h,a_(t,r,o,i);var y=t.memoizedState;l!==f||h!==y||yo.current||hf?(typeof p=="function"&&(gD(t,n,p,r),y=t.memoizedState),(u=hf||nF(t,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bD(e,t,n,r,s,i)}function bD(e,t,n,r,i,s){Xq(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&QO(t,n,!1),gd(e,t,s);r=t.stateNode,Vae.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=b0(t,e.child,null,s),t.child=b0(t,null,l,s)):Ia(e,t,l,s),t.memoizedState=r.state,i&&QO(t,n,!0),t.child}function Yq(e){var t=e.stateNode;t.pendingContext?GO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&GO(e,t.context,!1),J4(e,t.containerInfo)}function uF(e,t,n,r,i){return v0(),G4(i),t.flags|=256,Ia(e,t,n,r),t.child}var wD={dehydrated:null,treeContext:null,retryLane:0};function _D(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zq(e,t,n){var r=t.pendingProps,i=oi.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ur(oi,i&1),e===null)return pD(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ZT(o,r,0,null),e=Ep(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_D(n),t.memoizedState=wD,e):oI(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qae(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kf(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Kf(l,s):(s=Ep(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?_D(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=wD,r}return s=e.child,e=s.sibling,r=Kf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oI(e,t){return t=ZT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function x2(e,t,n,r){return r!==null&&G4(r),b0(t,e.child,null,n),e=oI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qae(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=sk(Error(ht(422))),x2(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ZT({mode:"visible",children:r.children},i,0,null),s=Ep(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&b0(t,e.child,null,o),t.child.memoizedState=_D(o),t.memoizedState=wD,s);if(!(t.mode&1))return x2(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ht(419)),r=sk(s,r,void 0),x2(e,t,o,r)}if(l=(o&e.childLanes)!==0,go||l){if(r=Es,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,md(e,i),fc(r,e,i,-1))}return hI(),r=sk(Error(ht(421))),x2(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=toe.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,zo=$f(i.nextSibling),Qo=t,ri=!0,nc=null,e!==null&&(xl[yl++]=Hu,xl[yl++]=Gu,xl[yl++]=Pp,Hu=e.id,Gu=e.overflow,Pp=t),t=oI(t,r.children),t.flags|=4096,t)}function dF(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mD(e.return,t,n)}function ak(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jq(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ia(e,t,r.children,n),r=oi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dF(e,n,t);else if(e.tag===19)dF(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ur(oi,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&o_(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ak(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&o_(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ak(t,!0,n,null,s);break;case"together":ak(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,n=Kf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wae(e,t,n){switch(t.tag){case 3:Yq(t),v0();break;case 5:Nq(t);break;case 1:vo(t.type)&&t_(t);break;case 4:J4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ur(i_,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ur(oi,oi.current&1),t.flags|=128,null):n&t.child.childLanes?Zq(e,t,n):(Ur(oi,oi.current&1),e=gd(e,t,n),e!==null?e.sibling:null);Ur(oi,oi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jq(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ur(oi,oi.current),r)break;return null;case 22:case 23:return t.lanes=0,Kq(e,t,n)}return gd(e,t,n)}var eW,TD,tW,nW;eW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};TD=function(){};tW=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fp(au.current);var s=null;switch(n){case"input":i=$C(e,i),r=$C(e,r),s=[];break;case"select":i=fi({},i,{value:void 0}),r=fi({},r,{value:void 0}),s=[];break;case"textarea":i=QC(e,i),r=QC(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jw)}XC(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pv.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};nW=function(e,t,n,r){n!==r&&(t.flags|=4)};function oy(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ea(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zae(e,t,n){var r=t.pendingProps;switch(H4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ea(t),null;case 1:return vo(t.type)&&e_(),ea(t),null;case 3:return r=t.stateNode,w0(),Zr(yo),Zr(xa),tI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(m2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nc!==null&&(jD(nc),nc=null))),TD(e,t),ea(t),null;case 5:eI(t);var i=fp(Hv.current);if(n=t.type,e!==null&&t.stateNode!=null)tW(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ht(166));return ea(t),null}if(e=fp(au.current),m2(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xc]=t,r[zv]=s,e=(t.mode&1)!==0,n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Fy.length;i++)Qr(Fy[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":bO(r,s),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",r);break;case"textarea":_O(r,s),Qr("invalid",r)}XC(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&p2(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&p2(r.textContent,l,e),i=["children",""+l]):Pv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qr("scroll",r)}switch(n){case"input":a2(r),wO(r,s,!0);break;case"textarea":a2(r),TO(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Xc]=t,e[zv]=r,eW(e,t,!1,!1),t.stateNode=e;e:{switch(o=YC(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fy.length;i++)Qr(Fy[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":bO(e,r),i=$C(e,r),Qr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fi({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":_O(e,r),i=QC(e,r),Qr("invalid",e);break;default:i=r}XC(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?RV(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jV(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ov(e,c):typeof c=="number"&&Ov(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pv.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Qr("scroll",e):c!=null&&j4(e,s,c,o))}switch(n){case"input":a2(e),wO(e,r,!1);break;case"textarea":a2(e),TO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rh(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?zg(e,!!r.multiple,s,!1):r.defaultValue!=null&&zg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ea(t),null;case 6:if(e&&t.stateNode!=null)nW(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ht(166));if(n=fp(Hv.current),fp(au.current),m2(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xc]=t,(s=r.nodeValue!==n)&&(e=Qo,e!==null))switch(e.tag){case 3:p2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&p2(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xc]=t,t.stateNode=r}return ea(t),null;case 13:if(Zr(oi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ri&&zo!==null&&t.mode&1&&!(t.flags&128))bq(),v0(),t.flags|=98560,s=!1;else if(s=m2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ht(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ht(317));s[Xc]=t}else v0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ea(t),s=!1}else nc!==null&&(jD(nc),nc=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oi.current&1?as===0&&(as=3):hI())),t.updateQueue!==null&&(t.flags|=4),ea(t),null);case 4:return w0(),TD(e,t),e===null&&qv(t.stateNode.containerInfo),ea(t),null;case 10:return X4(t.type._context),ea(t),null;case 17:return vo(t.type)&&e_(),ea(t),null;case 19:if(Zr(oi),s=t.memoizedState,s===null)return ea(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)oy(s,!1);else{if(as!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=o_(e),o!==null){for(t.flags|=128,oy(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ur(oi,oi.current&1|2),t.child}e=e.sibling}s.tail!==null&&Di()>T0&&(t.flags|=128,r=!0,oy(s,!1),t.lanes=4194304)}else{if(!r)if(e=o_(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ri)return ea(t),null}else 2*Di()-s.renderingStartTime>T0&&n!==1073741824&&(t.flags|=128,r=!0,oy(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Di(),t.sibling=null,n=oi.current,Ur(oi,r?n&1|2:n&1),t):(ea(t),null);case 22:case 23:return fI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Uo&1073741824&&(ea(t),t.subtreeFlags&6&&(t.flags|=8192)):ea(t),null;case 24:return null;case 25:return null}throw Error(ht(156,t.tag))}function $ae(e,t){switch(H4(t),t.tag){case 1:return vo(t.type)&&e_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return w0(),Zr(yo),Zr(xa),tI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eI(t),null;case 13:if(Zr(oi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));v0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zr(oi),null;case 4:return w0(),null;case 10:return X4(t.type._context),null;case 22:case 23:return fI(),null;case 24:return null;default:return null}}var y2=!1,oa=!1,Hae=typeof WeakSet=="function"?WeakSet:Set,It=null;function Ig(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gi(e,t,r)}else n.current=null}function ED(e,t,n){try{n()}catch(r){gi(e,t,r)}}var fF=!1;function Gae(e,t){if(oD=Xw,e=oq(),z4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(lD={focusedElem:e,selectionRange:n},Xw=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Yl(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(w){gi(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return y=fF,fF=!1,y}function ov(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ED(t,n,s)}i=i.next}while(i!==r)}}function XT(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ND(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rW(e){var t=e.alternate;t!==null&&(e.alternate=null,rW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xc],delete t[zv],delete t[dD],delete t[Cae],delete t[Dae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iW(e){return e.tag===5||e.tag===3||e.tag===4}function hF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function SD(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jw));else if(r!==4&&(e=e.child,e!==null))for(SD(e,t,n),e=e.sibling;e!==null;)SD(e,t,n),e=e.sibling}function kD(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kD(e,t,n),e=e.sibling;e!==null;)kD(e,t,n),e=e.sibling}var Rs=null,tc=!1;function Jd(e,t,n){for(n=n.child;n!==null;)sW(e,t,n),n=n.sibling}function sW(e,t,n){if(su&&typeof su.onCommitFiberUnmount=="function")try{su.onCommitFiberUnmount(qT,n)}catch{}switch(n.tag){case 5:oa||Ig(n,t);case 6:var r=Rs,i=tc;Rs=null,Jd(e,t,n),Rs=r,tc=i,Rs!==null&&(tc?(e=Rs,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Rs.removeChild(n.stateNode));break;case 18:Rs!==null&&(tc?(e=Rs,n=n.stateNode,e.nodeType===8?JS(e.parentNode,n):e.nodeType===1&&JS(e,n),Uv(e)):JS(Rs,n.stateNode));break;case 4:r=Rs,i=tc,Rs=n.stateNode.containerInfo,tc=!0,Jd(e,t,n),Rs=r,tc=i;break;case 0:case 11:case 14:case 15:if(!oa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ED(n,t,o),i=i.next}while(i!==r)}Jd(e,t,n);break;case 1:if(!oa&&(Ig(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gi(n,t,l)}Jd(e,t,n);break;case 21:Jd(e,t,n);break;case 22:n.mode&1?(oa=(r=oa)||n.memoizedState!==null,Jd(e,t,n),oa=r):Jd(e,t,n);break;default:Jd(e,t,n)}}function pF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hae),t.forEach(function(r){var i=noe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Rs=l.stateNode,tc=!1;break e;case 3:Rs=l.stateNode.containerInfo,tc=!0;break e;case 4:Rs=l.stateNode.containerInfo,tc=!0;break e}l=l.return}if(Rs===null)throw Error(ht(160));sW(s,o,i),Rs=null,tc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){gi(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aW(t,e),t=t.sibling}function aW(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hl(t,e),Mc(e),r&4){try{ov(3,e,e.return),XT(3,e)}catch(m){gi(e,e.return,m)}try{ov(5,e,e.return)}catch(m){gi(e,e.return,m)}}break;case 1:Hl(t,e),Mc(e),r&512&&n!==null&&Ig(n,n.return);break;case 5:if(Hl(t,e),Mc(e),r&512&&n!==null&&Ig(n,n.return),e.flags&32){var i=e.stateNode;try{Ov(i,"")}catch(m){gi(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&AV(i,s),YC(l,o);var u=YC(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?RV(i,f):d==="dangerouslySetInnerHTML"?jV(i,f):d==="children"?Ov(i,f):j4(i,d,f,u)}switch(l){case"input":HC(i,s);break;case"textarea":CV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zg(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?zg(i,!!s.multiple,s.defaultValue,!0):zg(i,!!s.multiple,s.multiple?[]:"",!1))}i[zv]=s}catch(m){gi(e,e.return,m)}}break;case 6:if(Hl(t,e),Mc(e),r&4){if(e.stateNode===null)throw Error(ht(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){gi(e,e.return,m)}}break;case 3:if(Hl(t,e),Mc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uv(t.containerInfo)}catch(m){gi(e,e.return,m)}break;case 4:Hl(t,e),Mc(e);break;case 13:Hl(t,e),Mc(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uI=Di())),r&4&&pF(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(oa=(u=oa)||d,Hl(t,e),oa=u):Hl(t,e),Mc(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(It=e,d=e.child;d!==null;){for(f=It=d;It!==null;){switch(h=It,p=h.child,h.tag){case 0:case 11:case 14:case 15:ov(4,h,h.return);break;case 1:Ig(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){gi(r,n,m)}}break;case 5:Ig(h,h.return);break;case 22:if(h.memoizedState!==null){gF(f);continue}}p!==null?(p.return=h,It=p):gF(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=IV("display",o))}catch(m){gi(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){gi(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hl(t,e),Mc(e),r&4&&pF(e);break;case 21:break;default:Hl(t,e),Mc(e)}}function Mc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iW(n)){var r=n;break e}n=n.return}throw Error(ht(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ov(i,""),r.flags&=-33);var s=hF(e);kD(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=hF(e);SD(e,l,o);break;default:throw Error(ht(161))}}catch(c){gi(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qae(e,t,n){It=e,oW(e)}function oW(e,t,n){for(var r=(e.mode&1)!==0;It!==null;){var i=It,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||y2;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||oa;l=y2;var u=oa;if(y2=o,(oa=c)&&!u)for(It=i;It!==null;)o=It,c=o.child,o.tag===22&&o.memoizedState!==null?xF(i):c!==null?(c.return=o,It=c):xF(i);for(;s!==null;)It=s,oW(s),s=s.sibling;It=i,y2=l,oa=u}mF(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,It=s):mF(e)}}function mF(e){for(;It!==null;){var t=It;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oa||XT(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!oa)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&JO(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}JO(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Uv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}oa||t.flags&512&&ND(t)}catch(h){gi(t,t.return,h)}}if(t===e){It=null;break}if(n=t.sibling,n!==null){n.return=t.return,It=n;break}It=t.return}}function gF(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var n=t.sibling;if(n!==null){n.return=t.return,It=n;break}It=t.return}}function xF(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{XT(4,t)}catch(c){gi(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){gi(t,i,c)}}var s=t.return;try{ND(t)}catch(c){gi(t,s,c)}break;case 5:var o=t.return;try{ND(t)}catch(c){gi(t,o,c)}}}catch(c){gi(t,t.return,c)}if(t===e){It=null;break}var l=t.sibling;if(l!==null){l.return=t.return,It=l;break}It=t.return}}var Kae=Math.ceil,u_=Ad.ReactCurrentDispatcher,lI=Ad.ReactCurrentOwner,_l=Ad.ReactCurrentBatchConfig,hr=0,Es=null,Gi=null,Ms=0,Uo=0,Rg=_h(0),as=0,Xv=null,Fp=0,YT=0,cI=0,lv=null,uo=null,uI=0,T0=1/0,Vu=null,d_=!1,AD=null,Gf=null,v2=!1,Rf=null,f_=0,cv=0,CD=null,bw=-1,ww=0;function za(){return hr&6?Di():bw!==-1?bw:bw=Di()}function Qf(e){return e.mode&1?hr&2&&Ms!==0?Ms&-Ms:Iae.transition!==null?(ww===0&&(ww=$V()),ww):(e=Cr,e!==0||(e=window.event,e=e===void 0?16:ZV(e.type)),e):1}function fc(e,t,n,r){if(50<cv)throw cv=0,CD=null,Error(ht(185));nb(e,n,r),(!(hr&2)||e!==Es)&&(e===Es&&(!(hr&2)&&(YT|=n),as===4&&yf(e,Ms)),bo(e,r),n===1&&hr===0&&!(t.mode&1)&&(T0=Di()+500,GT&&Th()))}function bo(e,t){var n=e.callbackNode;Ise(e,t);var r=Kw(e,e===Es?Ms:0);if(r===0)n!==null&&SO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&SO(n),t===1)e.tag===0?jae(yF.bind(null,e)):xq(yF.bind(null,e)),kae(function(){!(hr&6)&&Th()}),n=null;else{switch(HV(r)){case 1:n=F4;break;case 4:n=WV;break;case 16:n=Qw;break;case 536870912:n=zV;break;default:n=Qw}n=mW(n,lW.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lW(e,t){if(bw=-1,ww=0,hr&6)throw Error(ht(327));var n=e.callbackNode;if(Kg()&&e.callbackNode!==n)return null;var r=Kw(e,e===Es?Ms:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=h_(e,r);else{t=r;var i=hr;hr|=2;var s=uW();(Es!==e||Ms!==t)&&(Vu=null,T0=Di()+500,Tp(e,t));do try{Zae();break}catch(l){cW(e,l)}while(!0);K4(),u_.current=s,hr=i,Gi!==null?t=0:(Es=null,Ms=0,t=as)}if(t!==0){if(t===2&&(i=nD(e),i!==0&&(r=i,t=DD(e,i))),t===1)throw n=Xv,Tp(e,0),yf(e,r),bo(e,Di()),n;if(t===6)yf(e,r);else{if(i=e.current.alternate,!(r&30)&&!Xae(i)&&(t=h_(e,r),t===2&&(s=nD(e),s!==0&&(r=s,t=DD(e,s))),t===1))throw n=Xv,Tp(e,0),yf(e,r),bo(e,Di()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ht(345));case 2:Zh(e,uo,Vu);break;case 3:if(yf(e,r),(r&130023424)===r&&(t=uI+500-Di(),10<t)){if(Kw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){za(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uD(Zh.bind(null,e,uo,Vu),t);break}Zh(e,uo,Vu);break;case 4:if(yf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dc(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Di()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kae(r/1960))-r,10<r){e.timeoutHandle=uD(Zh.bind(null,e,uo,Vu),r);break}Zh(e,uo,Vu);break;case 5:Zh(e,uo,Vu);break;default:throw Error(ht(329))}}}return bo(e,Di()),e.callbackNode===n?lW.bind(null,e):null}function DD(e,t){var n=lv;return e.current.memoizedState.isDehydrated&&(Tp(e,t).flags|=256),e=h_(e,t),e!==2&&(t=uo,uo=n,t!==null&&jD(t)),e}function jD(e){uo===null?uo=e:uo.push.apply(uo,e)}function Xae(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pc(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yf(e,t){for(t&=~cI,t&=~YT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dc(t),r=1<<n;e[n]=-1,t&=~r}}function yF(e){if(hr&6)throw Error(ht(327));Kg();var t=Kw(e,0);if(!(t&1))return bo(e,Di()),null;var n=h_(e,t);if(e.tag!==0&&n===2){var r=nD(e);r!==0&&(t=r,n=DD(e,r))}if(n===1)throw n=Xv,Tp(e,0),yf(e,t),bo(e,Di()),n;if(n===6)throw Error(ht(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zh(e,uo,Vu),bo(e,Di()),null}function dI(e,t){var n=hr;hr|=1;try{return e(t)}finally{hr=n,hr===0&&(T0=Di()+500,GT&&Th())}}function Lp(e){Rf!==null&&Rf.tag===0&&!(hr&6)&&Kg();var t=hr;hr|=1;var n=_l.transition,r=Cr;try{if(_l.transition=null,Cr=1,e)return e()}finally{Cr=r,_l.transition=n,hr=t,!(hr&6)&&Th()}}function fI(){Uo=Rg.current,Zr(Rg)}function Tp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sae(n)),Gi!==null)for(n=Gi.return;n!==null;){var r=n;switch(H4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&e_();break;case 3:w0(),Zr(yo),Zr(xa),tI();break;case 5:eI(r);break;case 4:w0();break;case 13:Zr(oi);break;case 19:Zr(oi);break;case 10:X4(r.type._context);break;case 22:case 23:fI()}n=n.return}if(Es=e,Gi=e=Kf(e.current,null),Ms=Uo=t,as=0,Xv=null,cI=YT=Fp=0,uo=lv=null,dp!==null){for(t=0;t<dp.length;t++)if(n=dp[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}dp=null}return e}function cW(e,t){do{var n=Gi;try{if(K4(),xw.current=c_,l_){for(var r=ui.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}l_=!1}if(Op=0,Ts=rs=ui=null,av=!1,Gv=0,lI.current=null,n===null||n.return===null){as=1,Xv=t,Gi=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ms,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sF(o);if(p!==null){p.flags&=-257,aF(p,o,l,s,t),p.mode&1&&iF(s,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){iF(s,u,t),hI();break e}c=Error(ht(426))}}else if(ri&&l.mode&1){var x=sF(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),aF(x,o,l,s,t),G4(_0(c,l));break e}}s=c=_0(c,l),as!==4&&(as=2),lv===null?lv=[s]:lv.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=Hq(s,c,t);ZO(s,v);break e;case 1:l=c;var g=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gf===null||!Gf.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Gq(s,l,t);ZO(s,w);break e}}s=s.return}while(s!==null)}fW(n)}catch(T){t=T,Gi===n&&n!==null&&(Gi=n=n.return);continue}break}while(!0)}function uW(){var e=u_.current;return u_.current=c_,e===null?c_:e}function hI(){(as===0||as===3||as===2)&&(as=4),Es===null||!(Fp&268435455)&&!(YT&268435455)||yf(Es,Ms)}function h_(e,t){var n=hr;hr|=2;var r=uW();(Es!==e||Ms!==t)&&(Vu=null,Tp(e,t));do try{Yae();break}catch(i){cW(e,i)}while(!0);if(K4(),hr=n,u_.current=r,Gi!==null)throw Error(ht(261));return Es=null,Ms=0,as}function Yae(){for(;Gi!==null;)dW(Gi)}function Zae(){for(;Gi!==null&&!Tse();)dW(Gi)}function dW(e){var t=pW(e.alternate,e,Uo);e.memoizedProps=e.pendingProps,t===null?fW(e):Gi=t,lI.current=null}function fW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$ae(n,t),n!==null){n.flags&=32767,Gi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{as=6,Gi=null;return}}else if(n=zae(n,t,Uo),n!==null){Gi=n;return}if(t=t.sibling,t!==null){Gi=t;return}Gi=t=e}while(t!==null);as===0&&(as=5)}function Zh(e,t,n){var r=Cr,i=_l.transition;try{_l.transition=null,Cr=1,Jae(e,t,n,r)}finally{_l.transition=i,Cr=r}return null}function Jae(e,t,n,r){do Kg();while(Rf!==null);if(hr&6)throw Error(ht(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ht(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rse(e,s),e===Es&&(Gi=Es=null,Ms=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||v2||(v2=!0,mW(Qw,function(){return Kg(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_l.transition,_l.transition=null;var o=Cr;Cr=1;var l=hr;hr|=4,lI.current=null,Gae(e,n),aW(n,e),vae(lD),Xw=!!oD,lD=oD=null,e.current=n,Qae(n),Ese(),hr=l,Cr=o,_l.transition=s}else e.current=n;if(v2&&(v2=!1,Rf=e,f_=i),s=e.pendingLanes,s===0&&(Gf=null),kse(n.stateNode),bo(e,Di()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(d_)throw d_=!1,e=AD,AD=null,e;return f_&1&&e.tag!==0&&Kg(),s=e.pendingLanes,s&1?e===CD?cv++:(cv=0,CD=e):cv=0,Th(),null}function Kg(){if(Rf!==null){var e=HV(f_),t=_l.transition,n=Cr;try{if(_l.transition=null,Cr=16>e?16:e,Rf===null)var r=!1;else{if(e=Rf,Rf=null,f_=0,hr&6)throw Error(ht(331));var i=hr;for(hr|=4,It=e.current;It!==null;){var s=It,o=s.child;if(It.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(It=u;It!==null;){var d=It;switch(d.tag){case 0:case 11:case 15:ov(8,d,s)}var f=d.child;if(f!==null)f.return=d,It=f;else for(;It!==null;){d=It;var h=d.sibling,p=d.return;if(rW(d),d===u){It=null;break}if(h!==null){h.return=p,It=h;break}It=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}It=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,It=o;else e:for(;It!==null;){if(s=It,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ov(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,It=v;break e}It=s.return}}var g=e.current;for(It=g;It!==null;){o=It;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,It=b;else e:for(o=g;It!==null;){if(l=It,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:XT(9,l)}}catch(T){gi(l,l.return,T)}if(l===o){It=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,It=w;break e}It=l.return}}if(hr=i,Th(),su&&typeof su.onPostCommitFiberRoot=="function")try{su.onPostCommitFiberRoot(qT,e)}catch{}r=!0}return r}finally{Cr=n,_l.transition=t}}return!1}function vF(e,t,n){t=_0(n,t),t=Hq(e,t,1),e=Hf(e,t,1),t=za(),e!==null&&(nb(e,1,t),bo(e,t))}function gi(e,t,n){if(e.tag===3)vF(e,e,n);else for(;t!==null;){if(t.tag===3){vF(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gf===null||!Gf.has(r))){e=_0(n,e),e=Gq(t,e,1),t=Hf(t,e,1),e=za(),t!==null&&(nb(t,1,e),bo(t,e));break}}t=t.return}}function eoe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=za(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Ms&n)===n&&(as===4||as===3&&(Ms&130023424)===Ms&&500>Di()-uI?Tp(e,0):cI|=n),bo(e,t)}function hW(e,t){t===0&&(e.mode&1?(t=c2,c2<<=1,!(c2&130023424)&&(c2=4194304)):t=1);var n=za();e=md(e,t),e!==null&&(nb(e,t,n),bo(e,n))}function toe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hW(e,n)}function noe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ht(314))}r!==null&&r.delete(t),hW(e,n)}var pW;pW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yo.current)go=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return go=!1,Wae(e,t,n);go=!!(e.flags&131072)}else go=!1,ri&&t.flags&1048576&&yq(t,r_,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vw(e,t),e=t.pendingProps;var i=y0(t,xa.current);Qg(t,n),i=rI(null,t,r,e,i,n);var s=iI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vo(r)?(s=!0,t_(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z4(t),i.updater=KT,t.stateNode=i,i._reactInternals=t,xD(t,r,e,n),t=bD(null,t,r,!0,s,n)):(t.tag=0,ri&&s&&$4(t),Ia(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ioe(r),e=Yl(r,e),i){case 0:t=vD(null,t,r,e,n);break e;case 1:t=cF(null,t,r,e,n);break e;case 11:t=oF(null,t,r,e,n);break e;case 14:t=lF(null,t,r,Yl(r.type,e),n);break e}throw Error(ht(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),vD(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),cF(e,t,r,i,n);case 3:e:{if(Yq(t),e===null)throw Error(ht(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Eq(e,t),a_(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=_0(Error(ht(423)),t),t=uF(e,t,r,n,i);break e}else if(r!==i){i=_0(Error(ht(424)),t),t=uF(e,t,r,n,i);break e}else for(zo=$f(t.stateNode.containerInfo.firstChild),Qo=t,ri=!0,nc=null,n=_q(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(v0(),r===i){t=gd(e,t,n);break e}Ia(e,t,r,n)}t=t.child}return t;case 5:return Nq(t),e===null&&pD(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,cD(r,i)?o=null:s!==null&&cD(r,s)&&(t.flags|=32),Xq(e,t),Ia(e,t,o,n),t.child;case 6:return e===null&&pD(t),null;case 13:return Zq(e,t,n);case 4:return J4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=b0(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),oF(e,t,r,i,n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:return Ia(e,t,t.pendingProps.children,n),t.child;case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ur(i_,r._currentValue),r._currentValue=o,s!==null)if(pc(s.value,o)){if(s.children===i.children&&!yo.current){t=gd(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ed(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),mD(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ht(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mD(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ia(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qg(t,n),i=jl(i),r=r(i),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return r=t.type,i=Yl(r,t.pendingProps),i=Yl(r.type,i),lF(e,t,r,i,n);case 15:return Qq(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),vw(e,t),t.tag=1,vo(r)?(e=!0,t_(t)):e=!1,Qg(t,n),$q(t,r,i),xD(t,r,i,n),bD(null,t,r,!0,e,n);case 19:return Jq(e,t,n);case 22:return Kq(e,t,n)}throw Error(ht(156,t.tag))};function mW(e,t){return qV(e,t)}function roe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bl(e,t,n,r){return new roe(e,t,n,r)}function pI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ioe(e){if(typeof e=="function")return pI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R4)return 11;if(e===P4)return 14}return 2}function Kf(e,t){var n=e.alternate;return n===null?(n=bl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _w(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")pI(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tg:return Ep(n.children,i,s,t);case I4:o=8,i|=8;break;case VC:return e=bl(12,n,t,i|2),e.elementType=VC,e.lanes=s,e;case qC:return e=bl(13,n,t,i),e.elementType=qC,e.lanes=s,e;case WC:return e=bl(19,n,t,i),e.elementType=WC,e.lanes=s,e;case NV:return ZT(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case TV:o=10;break e;case EV:o=9;break e;case R4:o=11;break e;case P4:o=14;break e;case ff:o=16,r=null;break e}throw Error(ht(130,e==null?e:typeof e,""))}return t=bl(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ep(e,t,n,r){return e=bl(7,e,r,t),e.lanes=n,e}function ZT(e,t,n,r){return e=bl(22,e,r,t),e.elementType=NV,e.lanes=n,e.stateNode={isHidden:!1},e}function ok(e,t,n){return e=bl(6,e,null,t),e.lanes=n,e}function lk(e,t,n){return t=bl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function soe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qS(0),this.expirationTimes=qS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mI(e,t,n,r,i,s,o,l,c){return e=new soe(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z4(s),e}function aoe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_g,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gW(e){if(!e)return ih;e=e._reactInternals;e:{if(xm(e)!==e||e.tag!==1)throw Error(ht(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ht(171))}if(e.tag===1){var n=e.type;if(vo(n))return gq(e,n,t)}return t}function xW(e,t,n,r,i,s,o,l,c){return e=mI(n,r,!0,e,i,s,o,l,c),e.context=gW(null),n=e.current,r=za(),i=Qf(n),s=ed(r,i),s.callback=t??null,Hf(n,s,i),e.current.lanes=i,nb(e,i,r),bo(e,r),e}function JT(e,t,n,r){var i=t.current,s=za(),o=Qf(i);return n=gW(n),t.context===null?t.context=n:t.pendingContext=n,t=ed(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hf(i,t,o),e!==null&&(fc(e,i,o,s),gw(e,i,o)),o}function p_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gI(e,t){bF(e,t),(e=e.alternate)&&bF(e,t)}function ooe(){return null}var yW=typeof reportError=="function"?reportError:function(e){console.error(e)};function xI(e){this._internalRoot=e}eE.prototype.render=xI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));JT(e,t,null,null)};eE.prototype.unmount=xI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lp(function(){JT(null,e,null,null)}),t[pd]=null}};function eE(e){this._internalRoot=e}eE.prototype.unstable_scheduleHydration=function(e){if(e){var t=KV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xf.length&&t!==0&&t<xf[n].priority;n++);xf.splice(n,0,e),n===0&&YV(e)}};function yI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wF(){}function loe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=p_(o);s.call(u)}}var o=xW(t,r,e,0,null,!1,!1,"",wF);return e._reactRootContainer=o,e[pd]=o.current,qv(e.nodeType===8?e.parentNode:e),Lp(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=p_(c);l.call(u)}}var c=mI(e,0,!1,null,null,!1,!1,"",wF);return e._reactRootContainer=c,e[pd]=c.current,qv(e.nodeType===8?e.parentNode:e),Lp(function(){JT(t,c,n,r)}),c}function nE(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=p_(o);l.call(c)}}JT(t,o,e,i)}else o=loe(n,t,e,i,r);return p_(o)}GV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oy(t.pendingLanes);n!==0&&(L4(t,n|1),bo(t,Di()),!(hr&6)&&(T0=Di()+500,Th()))}break;case 13:Lp(function(){var r=md(e,1);if(r!==null){var i=za();fc(r,e,1,i)}}),gI(e,1)}};M4=function(e){if(e.tag===13){var t=md(e,134217728);if(t!==null){var n=za();fc(t,e,134217728,n)}gI(e,134217728)}};QV=function(e){if(e.tag===13){var t=Qf(e),n=md(e,t);if(n!==null){var r=za();fc(n,e,t,r)}gI(e,t)}};KV=function(){return Cr};XV=function(e,t){var n=Cr;try{return Cr=e,t()}finally{Cr=n}};JC=function(e,t,n){switch(t){case"input":if(HC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=HT(r);if(!i)throw Error(ht(90));kV(r),HC(r,i)}}}break;case"textarea":CV(e,n);break;case"select":t=n.value,t!=null&&zg(e,!!n.multiple,t,!1)}};FV=dI;LV=Lp;var coe={usingClientEntryPoint:!1,Events:[ib,kg,HT,PV,OV,dI]},ly={findFiberByHostInstance:up,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uoe={bundleType:ly.bundleType,version:ly.version,rendererPackageName:ly.rendererPackageName,rendererConfig:ly.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ad.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BV(e),e===null?null:e.stateNode},findFiberByHostInstance:ly.findFiberByHostInstance||ooe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var b2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b2.isDisabled&&b2.supportsFiber)try{qT=b2.inject(uoe),su=b2}catch{}}tl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=coe;tl.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yI(t))throw Error(ht(200));return aoe(e,t,null,n)};tl.createRoot=function(e,t){if(!yI(e))throw Error(ht(299));var n=!1,r="",i=yW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mI(e,1,!1,null,null,n,!1,r,i),e[pd]=t.current,qv(e.nodeType===8?e.parentNode:e),new xI(t)};tl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=BV(t),e=e===null?null:e.stateNode,e};tl.flushSync=function(e){return Lp(e)};tl.hydrate=function(e,t,n){if(!tE(t))throw Error(ht(200));return nE(null,e,t,!0,n)};tl.hydrateRoot=function(e,t,n){if(!yI(e))throw Error(ht(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=xW(t,null,e,1,n??null,i,!1,s,o),e[pd]=t.current,qv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eE(t)};tl.render=function(e,t,n){if(!tE(t))throw Error(ht(200));return nE(null,e,t,!1,n)};tl.unmountComponentAtNode=function(e){if(!tE(e))throw Error(ht(40));return e._reactRootContainer?(Lp(function(){nE(null,null,e,!1,function(){e._reactRootContainer=null,e[pd]=null})}),!0):!1};tl.unstable_batchedUpdates=dI;tl.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tE(n))throw Error(ht(200));if(e==null||e._reactInternals===void 0)throw Error(ht(38));return nE(e,t,n,!1,r)};tl.version="18.3.1-next-f1338f8080-20240426";function vW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vW)}catch(e){console.error(e)}}vW(),vV.exports=tl;var ym=vV.exports;const doe=BT(ym);var _F=ym;UC.createRoot=_F.createRoot,UC.hydrateRoot=_F.hydrateRoot;var rE=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},foe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Sf,T4,J7,hoe=(J7=class{constructor(){Yn(this,Sf,foe);Yn(this,T4,!1)}setTimeoutProvider(e){hn(this,Sf,e)}setTimeout(e,t){return tt(this,Sf).setTimeout(e,t)}clearTimeout(e){tt(this,Sf).clearTimeout(e)}setInterval(e,t){return tt(this,Sf).setInterval(e,t)}clearInterval(e){tt(this,Sf).clearInterval(e)}},Sf=new WeakMap,T4=new WeakMap,J7),ID=new hoe;function poe(e){setTimeout(e,0)}var iE=typeof window>"u"||"Deno"in globalThis;function Zl(){}function moe(e,t){return typeof e=="function"?e(t):e}function goe(e){return typeof e=="number"&&e>=0&&e!==1/0}function xoe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function RD(e,t){return typeof e=="function"?e(t):e}function yoe(e,t){return typeof e=="function"?e(t):e}function TF(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==vI(o,t.options))return!1}else if(!Zv(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function EF(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Yv(t.options.mutationKey)!==Yv(s))return!1}else if(!Zv(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function vI(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yv)(e)}function Yv(e){return JSON.stringify(e,(t,n)=>PD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Zv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Zv(e[n],t[n])):!1}var voe=Object.prototype.hasOwnProperty;function bW(e,t){if(e===t)return e;const n=NF(e)&&NF(t);if(!n&&!(PD(e)&&PD(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u],f=e[d],h=t[d];if(f===h){l[d]=f,(n?u<i:voe.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=bW(f,h);l[d]=p,p===f&&c++}return i===o&&c===i?e:l}function NF(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function PD(e){if(!SF(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!SF(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SF(e){return Object.prototype.toString.call(e)==="[object Object]"}function boe(e){return new Promise(t=>{ID.setTimeout(t,e)})}function woe(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bW(e,t):t}function _oe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Toe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var bI=Symbol();function wW(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bI?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xp,kf,c0,eV,Eoe=(eV=class extends rE{constructor(){super();Yn(this,xp);Yn(this,kf);Yn(this,c0);hn(this,c0,t=>{if(!iE&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){tt(this,kf)||this.setEventListener(tt(this,c0))}onUnsubscribe(){var t;this.hasListeners()||((t=tt(this,kf))==null||t.call(this),hn(this,kf,void 0))}setEventListener(t){var n;hn(this,c0,t),(n=tt(this,kf))==null||n.call(this),hn(this,kf,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){tt(this,xp)!==t&&(hn(this,xp,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof tt(this,xp)=="boolean"?tt(this,xp):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xp=new WeakMap,kf=new WeakMap,c0=new WeakMap,eV),_W=new Eoe;function Noe(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var Soe=poe;function koe(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=Soe;const s=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Pa=koe(),u0,Af,d0,tV,Aoe=(tV=class extends rE{constructor(){super();Yn(this,u0,!0);Yn(this,Af);Yn(this,d0);hn(this,d0,t=>{if(!iE&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){tt(this,Af)||this.setEventListener(tt(this,d0))}onUnsubscribe(){var t;this.hasListeners()||((t=tt(this,Af))==null||t.call(this),hn(this,Af,void 0))}setEventListener(t){var n;hn(this,d0,t),(n=tt(this,Af))==null||n.call(this),hn(this,Af,t(this.setOnline.bind(this)))}setOnline(t){tt(this,u0)!==t&&(hn(this,u0,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return tt(this,u0)}},u0=new WeakMap,Af=new WeakMap,d0=new WeakMap,tV),m_=new Aoe;function Coe(e){return Math.min(1e3*2**e,3e4)}function TW(e){return(e??"online")==="online"?m_.isOnline():!0}var OD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function EW(e){let t=!1,n=0,r;const i=Noe(),s=()=>i.status!=="pending",o=m=>{var x;if(!s()){const v=new OD(m);h(v),(x=e.onCancel)==null||x.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>_W.isFocused()&&(e.networkMode==="always"||m_.isOnline())&&e.canRun(),d=()=>TW(e.networkMode)&&e.canRun(),f=m=>{s()||(r==null||r(),i.resolve(m))},h=m=>{s()||(r==null||r(),i.reject(m))},p=()=>new Promise(m=>{var x;r=v=>{(s()||u())&&m(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;r=void 0,s()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(s())return;let m;const x=n===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var k;if(s())return;const g=e.retry??(iE?0:3),b=e.retryDelay??Coe,w=typeof b=="function"?b(n,v):b,T=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,v);if(t||!T){h(v);return}n++,(k=e.onFail)==null||k.call(e,n,v),boe(w).then(()=>u()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var yp,nV,NW=(nV=class{constructor(){Yn(this,yp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),goe(this.gcTime)&&hn(this,yp,ID.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(iE?1/0:5*60*1e3))}clearGcTimeout(){tt(this,yp)&&(ID.clearTimeout(tt(this,yp)),hn(this,yp,void 0))}},yp=new WeakMap,nV),vp,f0,gl,bp,bs,Z1,wp,Jl,Bu,rV,Doe=(rV=class extends NW{constructor(n){super();Yn(this,Jl);Yn(this,vp);Yn(this,f0);Yn(this,gl);Yn(this,bp);Yn(this,bs);Yn(this,Z1);Yn(this,wp);hn(this,wp,!1),hn(this,Z1,n.defaultOptions),this.setOptions(n.options),this.observers=[],hn(this,bp,n.client),hn(this,gl,tt(this,bp).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,hn(this,vp,AF(this.options)),this.state=n.state??tt(this,vp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=tt(this,bs))==null?void 0:n.promise}setOptions(n){if(this.options={...tt(this,Z1),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=AF(this.options);r.data!==void 0&&(this.setState(kF(r.data,r.dataUpdatedAt)),hn(this,vp,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&tt(this,gl).remove(this)}setData(n,r){const i=woe(this.state.data,n,this.options);return Zs(this,Jl,Bu).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Zs(this,Jl,Bu).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=tt(this,bs))==null?void 0:i.promise;return(s=tt(this,bs))==null||s.cancel(n),r?r.then(Zl).catch(Zl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(tt(this,vp))}isActive(){return this.observers.some(n=>yoe(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>RD(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!xoe(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=tt(this,bs))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=tt(this,bs))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),tt(this,gl).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(tt(this,bs)&&(tt(this,wp)?tt(this,bs).cancel({revert:!0}):tt(this,bs).cancelRetry()),this.scheduleGc()),tt(this,gl).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zs(this,Jl,Bu).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,f,h,p,y,m,x,v,g,b,w;if(this.state.fetchStatus!=="idle"&&((u=tt(this,bs))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(tt(this,bs))return tt(this,bs).continueRetry(),tt(this,bs).promise}if(n&&this.setOptions(n),!this.options.queryFn){const T=this.observers.find(k=>k.options.queryFn);T&&this.setOptions(T.options)}const i=new AbortController,s=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(hn(this,wp,!0),i.signal)})},o=()=>{const T=wW(this.options,r),_=(()=>{const N={client:tt(this,bp),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return hn(this,wp,!1),this.options.persister?this.options.persister(T,_,this):T(_)},c=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:tt(this,bp),state:this.state,fetchFn:o};return s(T),T})();(d=this.options.behavior)==null||d.onFetch(c,this),hn(this,f0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Zs(this,Jl,Bu).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta}),hn(this,bs,EW({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:T=>{T instanceof OD&&T.revert&&this.setState({...tt(this,f0),fetchStatus:"idle"}),i.abort()},onFail:(T,k)=>{Zs(this,Jl,Bu).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{Zs(this,Jl,Bu).call(this,{type:"pause"})},onContinue:()=>{Zs(this,Jl,Bu).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const T=await tt(this,bs).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(y=(p=tt(this,gl).config).onSuccess)==null||y.call(p,T,this),(x=(m=tt(this,gl).config).onSettled)==null||x.call(m,T,this.state.error,this),T}catch(T){if(T instanceof OD){if(T.silent)return tt(this,bs).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Zs(this,Jl,Bu).call(this,{type:"error",error:T}),(g=(v=tt(this,gl).config).onError)==null||g.call(v,T,this),(w=(b=tt(this,gl).config).onSettled)==null||w.call(b,this.state.data,T,this),T}finally{this.scheduleGc()}}},vp=new WeakMap,f0=new WeakMap,gl=new WeakMap,bp=new WeakMap,bs=new WeakMap,Z1=new WeakMap,wp=new WeakMap,Jl=new WeakSet,Bu=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...joe(i.data,this.options),fetchMeta:n.meta??null};case"success":const s={...i,...kF(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return hn(this,f0,n.manual?s:void 0),s;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Pa.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),tt(this,gl).notify({query:this,type:"updated",action:n})})},rV);function joe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TW(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kF(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function AF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function CF(e){return{onFetch:(t,n)=>{var d,f,h,p,y;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=wW(t.options,t.fetchOptions),g=async(b,w,T)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:w,direction:T?"backward":"forward",meta:t.options.meta};return x(j),j})(),N=await v(_),{maxPages:C}=t.options,I=T?Toe:_oe;return{pages:I(b.pages,N,C),pageParams:I(b.pageParams,w,C)}};if(i&&s.length){const b=i==="backward",w=b?Ioe:DF,T={pages:s,pageParams:o},k=w(r,T);l=await g(T,k,b)}else{const b=e??s.length;do{const w=c===0?o[0]??r.initialPageParam:DF(r,l);if(c>0&&w==null)break;l=await g(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function DF(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ioe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var J1,Hc,Ca,_p,Gc,cf,iV,Roe=(iV=class extends NW{constructor(n){super();Yn(this,Gc);Yn(this,J1);Yn(this,Hc);Yn(this,Ca);Yn(this,_p);hn(this,J1,n.client),this.mutationId=n.mutationId,hn(this,Ca,n.mutationCache),hn(this,Hc,[]),this.state=n.state||Poe(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){tt(this,Hc).includes(n)||(tt(this,Hc).push(n),this.clearGcTimeout(),tt(this,Ca).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){hn(this,Hc,tt(this,Hc).filter(r=>r!==n)),this.scheduleGc(),tt(this,Ca).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){tt(this,Hc).length||(this.state.status==="pending"?this.scheduleGc():tt(this,Ca).remove(this))}continue(){var n;return((n=tt(this,_p))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,u,d,f,h,p,y,m,x,v,g,b,w,T,k,_,N,C,I;const r=()=>{Zs(this,Gc,cf).call(this,{type:"continue"})},i={client:tt(this,J1),meta:this.options.meta,mutationKey:this.options.mutationKey};hn(this,_p,EW({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(j,E)=>{Zs(this,Gc,cf).call(this,{type:"failed",failureCount:j,error:E})},onPause:()=>{Zs(this,Gc,cf).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>tt(this,Ca).canRun(this)}));const s=this.state.status==="pending",o=!tt(this,_p).canStart();try{if(s)r();else{Zs(this,Gc,cf).call(this,{type:"pending",variables:n,isPaused:o}),await((c=(l=tt(this,Ca).config).onMutate)==null?void 0:c.call(l,n,this,i));const E=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,i));E!==this.state.context&&Zs(this,Gc,cf).call(this,{type:"pending",context:E,variables:n,isPaused:o})}const j=await tt(this,_p).start();return await((h=(f=tt(this,Ca).config).onSuccess)==null?void 0:h.call(f,j,n,this.state.context,this,i)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,j,n,this.state.context,i)),await((x=(m=tt(this,Ca).config).onSettled)==null?void 0:x.call(m,j,null,this.state.variables,this.state.context,this,i)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,j,null,n,this.state.context,i)),Zs(this,Gc,cf).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(b=tt(this,Ca).config).onError)==null?void 0:w.call(b,j,n,this.state.context,this,i)),await((k=(T=this.options).onError)==null?void 0:k.call(T,j,n,this.state.context,i)),await((N=(_=tt(this,Ca).config).onSettled)==null?void 0:N.call(_,void 0,j,this.state.variables,this.state.context,this,i)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,j,n,this.state.context,i)),j}finally{Zs(this,Gc,cf).call(this,{type:"error",error:j})}}finally{tt(this,Ca).runNext(this)}}},J1=new WeakMap,Hc=new WeakMap,Ca=new WeakMap,_p=new WeakMap,Gc=new WeakSet,cf=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Pa.batch(()=>{tt(this,Hc).forEach(i=>{i.onMutationUpdate(n)}),tt(this,Ca).notify({mutation:this,type:"updated",action:n})})},iV);function Poe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zu,ec,eb,sV,Ooe=(sV=class extends rE{constructor(t={}){super();Yn(this,zu);Yn(this,ec);Yn(this,eb);this.config=t,hn(this,zu,new Set),hn(this,ec,new Map),hn(this,eb,0)}build(t,n,r){const i=new Roe({client:t,mutationCache:this,mutationId:++r2(this,eb)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){tt(this,zu).add(t);const n=w2(t);if(typeof n=="string"){const r=tt(this,ec).get(n);r?r.push(t):tt(this,ec).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(tt(this,zu).delete(t)){const n=w2(t);if(typeof n=="string"){const r=tt(this,ec).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&tt(this,ec).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=w2(t);if(typeof n=="string"){const r=tt(this,ec).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=w2(t);if(typeof n=="string"){const i=(r=tt(this,ec).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pa.batch(()=>{tt(this,zu).forEach(t=>{this.notify({type:"removed",mutation:t})}),tt(this,zu).clear(),tt(this,ec).clear()})}getAll(){return Array.from(tt(this,zu))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>EF(n,r))}findAll(t={}){return this.getAll().filter(n=>EF(t,n))}notify(t){Pa.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Pa.batch(()=>Promise.all(t.map(n=>n.continue().catch(Zl))))}},zu=new WeakMap,ec=new WeakMap,eb=new WeakMap,sV);function w2(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Qc,aV,Foe=(aV=class extends rE{constructor(t={}){super();Yn(this,Qc);this.config=t,hn(this,Qc,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??vI(i,n);let o=this.get(s);return o||(o=new Doe({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){tt(this,Qc).has(t.queryHash)||(tt(this,Qc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=tt(this,Qc).get(t.queryHash);n&&(t.destroy(),n===t&&tt(this,Qc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return tt(this,Qc).get(t)}getAll(){return[...tt(this,Qc).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>TF(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>TF(t,r)):n}notify(t){Pa.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Pa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qc=new WeakMap,aV),mi,Cf,Df,h0,p0,jf,m0,g0,oV,Loe=(oV=class{constructor(e={}){Yn(this,mi);Yn(this,Cf);Yn(this,Df);Yn(this,h0);Yn(this,p0);Yn(this,jf);Yn(this,m0);Yn(this,g0);hn(this,mi,e.queryCache||new Foe),hn(this,Cf,e.mutationCache||new Ooe),hn(this,Df,e.defaultOptions||{}),hn(this,h0,new Map),hn(this,p0,new Map),hn(this,jf,0)}mount(){r2(this,jf)._++,tt(this,jf)===1&&(hn(this,m0,_W.subscribe(async e=>{e&&(await this.resumePausedMutations(),tt(this,mi).onFocus())})),hn(this,g0,m_.subscribe(async e=>{e&&(await this.resumePausedMutations(),tt(this,mi).onOnline())})))}unmount(){var e,t;r2(this,jf)._--,tt(this,jf)===0&&((e=tt(this,m0))==null||e.call(this),hn(this,m0,void 0),(t=tt(this,g0))==null||t.call(this),hn(this,g0,void 0))}isFetching(e){return tt(this,mi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return tt(this,Cf).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=tt(this,mi).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=tt(this,mi).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(RD(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return tt(this,mi).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=tt(this,mi).get(r.queryHash),s=i==null?void 0:i.state.data,o=moe(t,s);if(o!==void 0)return tt(this,mi).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Pa.batch(()=>tt(this,mi).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=tt(this,mi).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=tt(this,mi);Pa.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=tt(this,mi);return Pa.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Pa.batch(()=>tt(this,mi).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Zl).catch(Zl)}invalidateQueries(e,t={}){return Pa.batch(()=>(tt(this,mi).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Pa.batch(()=>tt(this,mi).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Zl)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Zl)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=tt(this,mi).build(this,t);return n.isStaleByTime(RD(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zl).catch(Zl)}fetchInfiniteQuery(e){return e.behavior=CF(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zl).catch(Zl)}ensureInfiniteQueryData(e){return e.behavior=CF(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return m_.isOnline()?tt(this,Cf).resumePausedMutations():Promise.resolve()}getQueryCache(){return tt(this,mi)}getMutationCache(){return tt(this,Cf)}getDefaultOptions(){return tt(this,Df)}setDefaultOptions(e){hn(this,Df,e)}setQueryDefaults(e,t){tt(this,h0).set(Yv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...tt(this,h0).values()],n={};return t.forEach(r=>{Zv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){tt(this,p0).set(Yv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...tt(this,p0).values()],n={};return t.forEach(r=>{Zv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...tt(this,Df).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vI(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bI&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...tt(this,Df).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){tt(this,mi).clear(),tt(this,Cf).clear()}},mi=new WeakMap,Cf=new WeakMap,Df=new WeakMap,h0=new WeakMap,p0=new WeakMap,jf=new WeakMap,m0=new WeakMap,g0=new WeakMap,oV),Moe=S.createContext(void 0),Uoe=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Moe.Provider,{value:e,children:t})),jF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Boe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},kW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(SW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Boe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new Voe;const h=s<<2|l>>4;if(r.push(h),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Voe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qoe=function(e){const t=SW(e);return kW.encodeByteArray(t,!0)},g_=function(e){return qoe(e).replace(/\./g,"")},AW=function(e){try{return kW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Woe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zoe=()=>Woe().__FIREBASE_DEFAULTS__,$oe=()=>{if(typeof process>"u"||typeof jF>"u")return;const e=jF.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Hoe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&AW(e[1]);return t&&JSON.parse(t)},sE=()=>{try{return zoe()||$oe()||Hoe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},CW=e=>{var t,n;return(n=(t=sE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},DW=e=>{const t=CW(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},jW=()=>{var e;return(e=sE())===null||e===void 0?void 0:e.config},IW=e=>{var t;return(t=sE())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[g_(JSON.stringify(n)),g_(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qoe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(us())}function Koe(){var e;const t=(e=sE())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xoe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yoe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Zoe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Joe(){const e=us();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function PW(){return!Koe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wI(){try{return typeof indexedDB=="object"}catch{return!1}}function OW(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function ele(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle="FirebaseError";class Ec extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=tle,Object.setPrototypeOf(this,Ec.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vm.prototype.create)}}class vm{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?nle(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ec(i,l,r)}}function nle(e,t){return e.replace(rle,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const rle=/\{\$([^}]+)}/g;function ile(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function E0(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(IF(s)&&IF(o)){if(!E0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IF(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ly(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function My(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function sle(e,t){const n=new ale(e,t);return n.subscribe.bind(n)}class ale{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ole(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=ck),i.error===void 0&&(i.error=ck),i.complete===void 0&&(i.complete=ck);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ole(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ck(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(e){return e&&e._delegate?e._delegate:e}class Rl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Goe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ule(t))try{this.getOrInitializeService({instanceIdentifier:Jh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Jh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jh){return this.instances.has(t)}getOptions(t=Jh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cle(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jh){return this.component?this.component.multipleInstances?t:Jh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cle(e){return e===Jh?void 0:e}function ule(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lle(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(zn||(zn={}));const fle={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},hle=zn.INFO,ple={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},mle=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=ple[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _I{constructor(t){this.name=t,this._logLevel=hle,this._logHandler=mle,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fle[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...t),this._logHandler(this,zn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...t),this._logHandler(this,zn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...t),this._logHandler(this,zn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...t),this._logHandler(this,zn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...t),this._logHandler(this,zn.ERROR,...t)}}const gle=(e,t)=>t.some(n=>e instanceof n);let RF,PF;function xle(){return RF||(RF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yle(){return PF||(PF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FW=new WeakMap,FD=new WeakMap,LW=new WeakMap,uk=new WeakMap,TI=new WeakMap;function vle(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(td(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&FW.set(n,e)}).catch(()=>{}),TI.set(t,e),t}function ble(e){if(FD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});FD.set(e,t)}let LD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return FD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||LW.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return td(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wle(e){LD=e(LD)}function _le(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(dk(this),t,...n);return LW.set(r,t.sort?t.sort():[t]),td(r)}:yle().includes(e)?function(...t){return e.apply(dk(this),t),td(FW.get(this))}:function(...t){return td(e.apply(dk(this),t))}}function Tle(e){return typeof e=="function"?_le(e):(e instanceof IDBTransaction&&ble(e),gle(e,xle())?new Proxy(e,LD):e)}function td(e){if(e instanceof IDBRequest)return vle(e);if(uk.has(e))return uk.get(e);const t=Tle(e);return t!==e&&(uk.set(e,t),TI.set(t,e)),t}const dk=e=>TI.get(e);function aE(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=td(o);return r&&o.addEventListener("upgradeneeded",c=>{r(td(o.result),c.oldVersion,c.newVersion,td(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function fk(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),td(n).then(()=>{})}const Ele=["get","getKey","getAll","getAllKeys","count"],Nle=["put","add","delete","clear"],hk=new Map;function OF(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hk.get(t))return hk.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Nle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ele.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return hk.set(t,s),s}wle(e=>({...e,get:(t,n,r)=>OF(t,n)||e.get(t,n,r),has:(t,n)=>!!OF(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sle{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kle(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kle(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const MD="@firebase/app",FF="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new _I("@firebase/app"),Ale="@firebase/app-compat",Cle="@firebase/analytics-compat",Dle="@firebase/analytics",jle="@firebase/app-check-compat",Ile="@firebase/app-check",Rle="@firebase/auth",Ple="@firebase/auth-compat",Ole="@firebase/database",Fle="@firebase/data-connect",Lle="@firebase/database-compat",Mle="@firebase/functions",Ule="@firebase/functions-compat",Ble="@firebase/installations",Vle="@firebase/installations-compat",qle="@firebase/messaging",Wle="@firebase/messaging-compat",zle="@firebase/performance",$le="@firebase/performance-compat",Hle="@firebase/remote-config",Gle="@firebase/remote-config-compat",Qle="@firebase/storage",Kle="@firebase/storage-compat",Xle="@firebase/firestore",Yle="@firebase/vertexai-preview",Zle="@firebase/firestore-compat",Jle="firebase",ece="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="[DEFAULT]",tce={[MD]:"fire-core",[Ale]:"fire-core-compat",[Dle]:"fire-analytics",[Cle]:"fire-analytics-compat",[Ile]:"fire-app-check",[jle]:"fire-app-check-compat",[Rle]:"fire-auth",[Ple]:"fire-auth-compat",[Ole]:"fire-rtdb",[Fle]:"fire-data-connect",[Lle]:"fire-rtdb-compat",[Mle]:"fire-fn",[Ule]:"fire-fn-compat",[Ble]:"fire-iid",[Vle]:"fire-iid-compat",[qle]:"fire-fcm",[Wle]:"fire-fcm-compat",[zle]:"fire-perf",[$le]:"fire-perf-compat",[Hle]:"fire-rc",[Gle]:"fire-rc-compat",[Qle]:"fire-gcs",[Kle]:"fire-gcs-compat",[Xle]:"fire-fst",[Zle]:"fire-fst-compat",[Yle]:"fire-vertex","fire-js":"fire-js",[Jle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map,nce=new Map,BD=new Map;function LF(e,t){try{e.container.addComponent(t)}catch(n){xd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mc(e){const t=e.name;if(BD.has(t))return xd.debug(`There were multiple attempts to register component ${t}.`),!1;BD.set(t,e);for(const n of x_.values())LF(n,e);for(const n of nce.values())LF(n,e);return!0}function bm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $o(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xf=new vm("app","Firebase",rce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=ece;function MW(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:UD,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Xf.create("bad-app-name",{appName:String(i)});if(n||(n=jW()),!n)throw Xf.create("no-options");const s=x_.get(i);if(s){if(E0(n,s.options)&&E0(r,s.config))return s;throw Xf.create("duplicate-app",{appName:i})}const o=new dle(i);for(const c of BD.values())o.addComponent(c);const l=new ice(n,r,o);return x_.set(i,l),l}function oE(e=UD){const t=x_.get(e);if(!t&&e===UD&&jW())return MW();if(!t)throw Xf.create("no-app",{appName:e});return t}function wo(e,t,n){var r;let i=(r=tce[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xd.warn(l.join(" "));return}mc(new Rl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sce="firebase-heartbeat-database",ace=1,Jv="firebase-heartbeat-store";let pk=null;function UW(){return pk||(pk=aE(sce,ace,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Jv)}catch(n){console.warn(n)}}}}).catch(e=>{throw Xf.create("idb-open",{originalErrorMessage:e.message})})),pk}async function oce(e){try{const n=(await UW()).transaction(Jv),r=await n.objectStore(Jv).get(BW(e));return await n.done,r}catch(t){if(t instanceof Ec)xd.warn(t.message);else{const n=Xf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xd.warn(n.message)}}}async function MF(e,t){try{const r=(await UW()).transaction(Jv,"readwrite");await r.objectStore(Jv).put(t,BW(e)),await r.done}catch(n){if(n instanceof Ec)xd.warn(n.message);else{const r=Xf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xd.warn(r.message)}}}function BW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce=1024,cce=30*24*60*60*1e3;class uce{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fce(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UF();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=cce}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xd.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UF(),{heartbeatsToSend:r,unsentEntries:i}=dce(this._heartbeatsCache.heartbeats),s=g_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xd.warn(n),""}}}function UF(){return new Date().toISOString().substring(0,10)}function dce(e,t=lce){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BF(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BF(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fce{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wI()?OW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oce(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MF(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MF(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function BF(e){return g_(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hce(e){mc(new Rl("platform-logger",t=>new Sle(t),"PRIVATE")),mc(new Rl("heartbeat",t=>new uce(t),"PRIVATE")),wo(MD,FF,e),wo(MD,FF,"esm2017"),wo("fire-js","")}hce("");var Yc=function(){return Yc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yc.apply(this,arguments)};function ob(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function pce(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function VW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mce=VW,qW=new vm("auth","Firebase",VW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new _I("@firebase/auth");function gce(e,...t){y_.logLevel<=zn.WARN&&y_.warn(`Auth (${wm}): ${e}`,...t)}function Tw(e,...t){y_.logLevel<=zn.ERROR&&y_.error(`Auth (${wm}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(e,...t){throw SI(e,...t)}function Tl(e,...t){return SI(e,...t)}function EI(e,t,n){const r=Object.assign(Object.assign({},mce()),{[t]:n});return new vm("auth","Firebase",r).create(t,{appName:e.name})}function ou(e){return EI(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NI(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Pl(e,"argument-error"),EI(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function SI(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return qW.create(e,...t)}function nn(e,t,...n){if(!e)throw SI(t,...n)}function Qu(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tw(t),new Error(t)}function yd(e,t){e||Qu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function xce(){return VF()==="http:"||VF()==="https:"}function VF(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xce()||Yoe()||"connection"in navigator)?navigator.onLine:!0}function vce(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n){this.shortDelay=t,this.longDelay=n,yd(n>t,"Short delay should be less than long delay!"),this.isMobile=Qoe()||Zoe()}get(){return yce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e,t){yd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=new lb(3e4,6e4);function Cd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _u(e,t,n,r,i={}){return zW(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const l=ab(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:c},s);return Xoe()||(u.referrerPolicy="no-referrer"),WW.fetch()($W(e,e.config.apiHost,n,l),u)})}async function zW(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bce),t);try{const i=new Tce(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _2(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _2(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw _2(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw _2(e,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EI(e,d,u);Pl(e,d)}}catch(i){if(i instanceof Ec)throw i;Pl(e,"network-request-failed",{message:String(i)})}}async function cb(e,t,n,r,i={}){const s=await _u(e,t,n,r,i);return"mfaPendingCredential"in s&&Pl(e,"multi-factor-auth-required",{_serverResponse:s}),s}function $W(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?kI(e.config,i):`${e.config.apiScheme}://${i}`}function _ce(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tce{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tl(this.auth,"network-request-failed")),wce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _2(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tl(e,t,r);return i.customData._tokenResponse=n,i}function qF(e){return e!==void 0&&e.enterprise!==void 0}class Ece{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return _ce(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Nce(e,t){return _u(e,"GET","/v2/recaptchaConfig",Cd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sce(e,t){return _u(e,"POST","/v1/accounts:delete",t)}async function HW(e,t){return _u(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kce(e,t=!1){const n=xr(e),r=await n.getIdToken(t),i=AI(r);nn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uv(mk(i.auth_time)),issuedAtTime:uv(mk(i.iat)),expirationTime:uv(mk(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mk(e){return Number(e)*1e3}function AI(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Tw("JWT malformed, contained fewer than 3 sections"),null;try{const i=AW(n);return i?JSON.parse(i):(Tw("Failed to decode base64 JWT payload"),null)}catch(i){return Tw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WF(e){const t=AI(e);return nn(t,"internal-error"),nn(typeof t.exp<"u","internal-error"),nn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ec&&Ace(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Ace({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uv(this.lastLoginAt),this.creationTime=uv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await N0(e,HW(n,{idToken:r}));nn(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?GW(s.providerUserInfo):[],l=jce(e.providerData,o),c=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new qD(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function Dce(e){const t=xr(e);await v_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jce(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function GW(e){return e.map(t=>{var{providerId:n}=t,r=ob(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ice(e,t){const n=await zW(e,{},async()=>{const r=ab({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=$W(e,i,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",WW.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rce(e,t){return _u(e,"POST","/v2/accounts:revokeToken",Cd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nn(t.idToken,"internal-error"),nn(typeof t.idToken<"u","internal-error"),nn(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):WF(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){nn(t.length!==0,"internal-error");const n=WF(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ice(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xg;return r&&(nn(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(nn(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(nn(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xg,this.toJSON())}_performRefresh(){return Qu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e,t){nn(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ku{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=ob(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qD(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await N0(this,this.stsTokenManager.getToken(this.auth,t));return nn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kce(this,t)}reload(){return Dce(this)}_assign(t){this!==t&&(nn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ku(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await v_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($o(this.auth.app))return Promise.reject(ou(this.auth));const t=await this.getIdToken();return await N0(this,Sce(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:w,isAnonymous:T,providerData:k,stsTokenManager:_}=n;nn(b&&_,t,"internal-error");const N=Xg.fromJSON(this.name,_);nn(typeof b=="string",t,"internal-error"),ef(f,t.name),ef(h,t.name),nn(typeof w=="boolean",t,"internal-error"),nn(typeof T=="boolean",t,"internal-error"),ef(p,t.name),ef(y,t.name),ef(m,t.name),ef(x,t.name),ef(v,t.name),ef(g,t.name);const C=new Ku({uid:b,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:p,tenantId:m,stsTokenManager:N,createdAt:v,lastLoginAt:g});return k&&Array.isArray(k)&&(C.providerData=k.map(I=>Object.assign({},I))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(t,n,r=!1){const i=new Xg;i.updateFromServerResponse(n);const s=new Ku({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await v_(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];nn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?GW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Xg;l.updateFromIdToken(r);const c=new Ku({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qD(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new Map;function Xu(e){yd(e instanceof Function,"Expected a class definition");let t=zF.get(e);return t?(yd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zF.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}QW.type="NONE";const $F=QW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(e,t,n){return`firebase:${e}:${t}:${n}`}class Yg{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ew(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ew("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ku._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Yg(Xu($F),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xu($F);const o=Ew(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Ku._fromJSON(t,d);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Yg(s,t,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Yg(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ez(t))return"Blackberry";if(tz(t))return"Webos";if(XW(t))return"Safari";if((t.includes("chrome/")||YW(t))&&!t.includes("edge/"))return"Chrome";if(JW(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KW(e=us()){return/firefox\//i.test(e)}function XW(e=us()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function YW(e=us()){return/crios\//i.test(e)}function ZW(e=us()){return/iemobile/i.test(e)}function JW(e=us()){return/android/i.test(e)}function ez(e=us()){return/blackberry/i.test(e)}function tz(e=us()){return/webos/i.test(e)}function CI(e=us()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pce(e=us()){var t;return CI(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Oce(){return Joe()&&document.documentMode===10}function nz(e=us()){return CI(e)||JW(e)||tz(e)||ez(e)||/windows phone/i.test(e)||ZW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(e,t=[]){let n;switch(e){case"Browser":n=HF(us());break;case"Worker":n=`${HF(us())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${wm}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,l)=>{try{const c=t(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lce(e,t={}){return _u(e,"GET","/v2/passwordPolicy",Cd(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mce=6;class Uce{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Mce,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GF(this),this.idTokenSubscription=new GF(this),this.beforeStateQueue=new Fce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xu(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yg.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await HW(this,{idToken:t}),r=await Ku._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if($o(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await v_(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vce()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($o(this.app))return Promise.reject(ou(this));const n=t?xr(t):null;return n&&nn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&nn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $o(this.app)?Promise.reject(ou(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $o(this.app)?Promise.reject(ou(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xu(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Lce(this),n=new Uce(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new vm("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rce(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xu(t)||this._popupRedirectResolver;nn(n,this,"argument-error"),this.redirectPersistenceManager=await Yg.create(this,[Xu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(nn(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&gce(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tu(e){return xr(e)}class GF{constructor(t){this.auth=t,this.observer=null,this.addObserver=sle(n=>this.observer=n)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vce(e){lE=e}function iz(e){return lE.loadJS(e)}function qce(){return lE.recaptchaEnterpriseScript}function Wce(){return lE.gapiScript}function zce(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const $ce="recaptcha-enterprise",Hce="NO_RECAPTCHA";class Gce{constructor(t){this.type=$ce,this.auth=Tu(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Nce(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Ece(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;qF(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(Hce)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&qF(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=qce();c.length!==0&&(c+=l),iz(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function QF(e,t,n,r=!1){const i=new Gce(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function b_(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await QF(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await QF(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qce(e,t){const n=bm(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(E0(s,t??{}))return i;Pl(i,"already-initialized")}return n.initialize({options:t})}function Kce(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xu);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Xce(e,t,n){const r=Tu(e);nn(r._canInitEmulator,r,"emulator-config-failed"),nn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=sz(t),{host:o,port:l}=Yce(t),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Zce()}function sz(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yce(e){const t=sz(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:KF(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:KF(o)}}}function KF(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Zce(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qu("not implemented")}_getIdTokenResponse(t){return Qu("not implemented")}_linkToIdToken(t,n){return Qu("not implemented")}_getReauthenticationResolver(t){return Qu("not implemented")}}async function Jce(e,t){return _u(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eue(e,t){return cb(e,"POST","/v1/accounts:signInWithPassword",Cd(e,t))}async function tue(e,t){return _u(e,"POST","/v1/accounts:sendOobCode",Cd(e,t))}async function nue(e,t){return tue(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rue(e,t){return cb(e,"POST","/v1/accounts:signInWithEmailLink",Cd(e,t))}async function iue(e,t){return cb(e,"POST","/v1/accounts:signInWithEmailLink",Cd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends DI{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e1(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e1(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(t,n,"signInWithPassword",eue);case"emailLink":return rue(t,{email:this._email,oobCode:this._password});default:Pl(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(t,r,"signUpPassword",Jce);case"emailLink":return iue(t,{idToken:n,email:this._email,oobCode:this._password});default:Pl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(e,t){return cb(e,"POST","/v1/accounts:signInWithIdp",Cd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sue="http://localhost";class Mp extends DI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Mp(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=ob(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mp(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Zg(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Zg(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Zg(t,n)}buildRequest(){const t={requestUri:sue,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ab(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aue(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oue(e){const t=Ly(My(e)).link,n=t?Ly(My(t)).deep_link_id:null,r=Ly(My(e)).deep_link_id;return(r?Ly(My(r)).link:null)||r||n||t||e}class jI{constructor(t){var n,r,i,s,o,l;const c=Ly(My(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=aue((i=c.mode)!==null&&i!==void 0?i:null);nn(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=oue(t);try{return new jI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.providerId=_m.PROVIDER_ID}static credential(t,n){return e1._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=jI.parseLink(n);return nn(r,"argument-error"),e1._fromEmailAndCode(t,r.code,r.tenantId)}}_m.PROVIDER_ID="password";_m.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_m.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends db{constructor(){super("facebook.com")}static credential(t){return Mp._fromParams({providerId:vf.PROVIDER_ID,signInMethod:vf.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vf.credentialFromTaggedObject(t)}static credentialFromError(t){return vf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vf.credential(t.oauthAccessToken)}catch{return null}}}vf.FACEBOOK_SIGN_IN_METHOD="facebook.com";vf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends db{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Mp._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return rc.credentialFromTaggedObject(t)}static credentialFromError(t){return rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rc.credential(n,r)}catch{return null}}}rc.GOOGLE_SIGN_IN_METHOD="google.com";rc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends db{constructor(){super("github.com")}static credential(t){return Mp._fromParams({providerId:bf.PROVIDER_ID,signInMethod:bf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bf.credentialFromTaggedObject(t)}static credentialFromError(t){return bf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bf.credential(t.oauthAccessToken)}catch{return null}}}bf.GITHUB_SIGN_IN_METHOD="github.com";bf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends db{constructor(){super("twitter.com")}static credential(t,n){return Mp._fromParams({providerId:wf.PROVIDER_ID,signInMethod:wf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return wf.credentialFromTaggedObject(t)}static credentialFromError(t){return wf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wf.credential(n,r)}catch{return null}}}wf.TWITTER_SIGN_IN_METHOD="twitter.com";wf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lue(e,t){return cb(e,"POST","/v1/accounts:signUp",Cd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ku._fromIdTokenResponse(t,r,i),o=XF(r);return new Up({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=XF(r);return new Up({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function XF(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends Ec{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,w_.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new w_(t,n,r,i)}}function az(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?w_._fromErrorAndOperation(e,s,t,r):s})}async function cue(e,t,n=!1){const r=await N0(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Up._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(e,t,n=!1){const{auth:r}=e;if($o(r.app))return Promise.reject(ou(r));const i="reauthenticate";try{const s=await N0(e,az(r,i,t,e),n);nn(s.idToken,r,"internal-error");const o=AI(s.idToken);nn(o,r,"internal-error");const{sub:l}=o;return nn(e.uid===l,r,"user-mismatch"),Up._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(e,t,n=!1){if($o(e.app))return Promise.reject(ou(e));const r="signIn",i=await az(e,r,t),s=await Up._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function uue(e,t){return lz(Tu(e),t)}async function due(e,t){return oz(xr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(e,t,n){var r;nn(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),nn(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(nn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(nn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(e){const t=Tu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hue(e,t,n){const r=Tu(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&fue(r,i,n),await b_(r,i,"getOobCode",nue)}async function pue(e,t,n){if($o(e.app))return Promise.reject(ou(e));const r=Tu(e),o=await b_(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lue).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cz(e),c}),l=await Up._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function mue(e,t,n){return $o(e.app)?Promise.reject(ou(e)):uue(xr(e),_m.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cz(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gue(e,t){return _u(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xue(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=xr(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await N0(r,gue(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function yue(e,t,n,r){return xr(e).onIdTokenChanged(t,n,r)}function vue(e,t,n){return xr(e).beforeAuthStateChanged(t,n)}function bue(e,t,n,r){return xr(e).onAuthStateChanged(t,n,r)}function wue(e){return xr(e).signOut()}async function _ue(e){return xr(e).delete()}const __="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(__,"1"),this.storage.removeItem(__),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tue=1e3,Eue=10;class dz extends uz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nz(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Oce()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Eue):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Tue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}dz.type="LOCAL";const Nue=dz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz extends uz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fz.type="SESSION";const hz=fz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sue(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new cE(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Sue(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=II("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(){return window}function Aue(e){lu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(){return typeof lu().WorkerGlobalScope<"u"&&typeof lu().importScripts=="function"}async function Cue(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Due(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function jue(){return pz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="firebaseLocalStorageDb",Iue=1,T_="firebaseLocalStorage",gz="fbase_key";class fb{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uE(e,t){return e.transaction([T_],t?"readwrite":"readonly").objectStore(T_)}function Rue(){const e=indexedDB.deleteDatabase(mz);return new fb(e).toPromise()}function WD(){const e=indexedDB.open(mz,Iue);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(T_,{keyPath:gz})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(T_)?t(r):(r.close(),await Rue(),t(await WD()))})})}async function YF(e,t,n){const r=uE(e,!0).put({[gz]:t,value:n});return new fb(r).toPromise()}async function Pue(e,t){const n=uE(e,!1).get(t),r=await new fb(n).toPromise();return r===void 0?null:r.value}function ZF(e,t){const n=uE(e,!0).delete(t);return new fb(n).toPromise()}const Oue=800,Fue=3;class xz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WD(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Fue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cE._getInstance(jue()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Cue(),!this.activeServiceWorker)return;this.sender=new kue(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Due()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await WD();return await YF(t,__,"1"),await ZF(t,__),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YF(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Pue(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZF(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=uE(i,!1).getAll();return new fb(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Oue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xz.type="LOCAL";const Lue=xz;new lb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(e,t){return t?Xu(t):(nn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends DI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zg(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zg(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zg(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Mue(e){return lz(e.auth,new RI(e),e.bypassAuthState)}function Uue(e){const{auth:t,user:n}=e;return nn(n,t,"internal-error"),oz(n,new RI(e),e.bypassAuthState)}async function Bue(e){const{auth:t,user:n}=e;return nn(n,t,"internal-error"),cue(n,new RI(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mue;case"linkViaPopup":case"linkViaRedirect":return Bue;case"reauthViaPopup":case"reauthViaRedirect":return Uue;default:Pl(this.auth,"internal-error")}}resolve(t){yd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue=new lb(2e3,1e4);async function que(e,t,n){if($o(e.app))return Promise.reject(Tl(e,"operation-not-supported-in-this-environment"));const r=Tu(e);NI(e,t,ub);const i=dE(r,n);return new Pf(r,"signInViaPopup",t,i).executeNotNull()}async function Wue(e,t,n){const r=xr(e);if($o(r.auth.app))return Promise.reject(Tl(r.auth,"operation-not-supported-in-this-environment"));NI(r.auth,t,ub);const i=dE(r.auth,n);return new Pf(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}class Pf extends yz{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pf.currentPopupAction&&Pf.currentPopupAction.cancel(),Pf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nn(t,this.auth,"internal-error"),t}async onExecution(){yd(this.filter.length===1,"Popup operations only handle one event");const t=II();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pf.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Vue.get())};t()}}Pf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue="pendingRedirect",Nw=new Map;class $ue extends yz{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Nw.get(this.auth._key());if(!t){try{const r=await Hue(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Nw.set(this.auth._key(),t)}return this.bypassAuthState||Nw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hue(e,t){const n=bz(t),r=vz(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Gue(e,t){return vz(e)._set(bz(t),"true")}function Que(e,t){Nw.set(e._key(),t)}function vz(e){return Xu(e._redirectPersistence)}function bz(e){return Ew(zue,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(e,t,n){return Kue(e,t,n)}async function Kue(e,t,n){if($o(e.app))return Promise.reject(ou(e));const r=Tu(e);NI(e,t,ub),await r._initializationPromise;const i=dE(r,n);return await Gue(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function Xue(e,t,n=!1){if($o(e.app))return Promise.reject(ou(e));const r=Tu(e),i=dE(r,t),o=await new $ue(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue=10*60*1e3;class Zue{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Jue(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!wz(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tl(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Yue&&this.cachedEventUids.clear(),this.cachedEventUids.has(e6(t))}saveEventToCache(t){this.cachedEventUids.add(e6(t)),this.lastProcessedEventTime=Date.now()}}function e6(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function wz({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Jue(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wz(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ede(e,t={}){return _u(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tde=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nde=/^https?/;async function rde(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ede(e);for(const n of t)try{if(ide(n))return}catch{}Pl(e,"unauthorized-domain")}function ide(e){const t=VD(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nde.test(n))return!1;if(tde.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sde=new lb(3e4,6e4);function t6(){const e=lu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ade(e){return new Promise((t,n)=>{var r,i,s;function o(){t6(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t6(),n(Tl(e,"network-request-failed"))},timeout:sde.get()})}if(!((i=(r=lu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=lu().gapi)===null||s===void 0)&&s.load)o();else{const l=zce("iframefcb");return lu()[l]=()=>{gapi.load?o():n(Tl(e,"network-request-failed"))},iz(`${Wce()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Sw=null,t})}let Sw=null;function ode(e){return Sw=Sw||ade(e),Sw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde=new lb(5e3,15e3),cde="__/auth/iframe",ude="emulator/auth/iframe",dde={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fde=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hde(e){const t=e.config;nn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kI(t,ude):`https://${e.config.authDomain}/${cde}`,r={apiKey:t.apiKey,appName:e.name,v:wm},i=fde.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ab(r).slice(1)}`}async function pde(e){const t=await ode(e),n=lu().gapi;return nn(n,e,"internal-error"),t.open({where:document.body,url:hde(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dde,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tl(e,"network-request-failed"),l=lu().setTimeout(()=>{s(o)},lde.get());function c(){lu().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mde={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gde=500,xde=600,yde="_blank",vde="http://localhost";class n6{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bde(e,t,n,r=gde,i=xde){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},mde),{width:r.toString(),height:i.toString(),top:s,left:o}),u=us().toLowerCase();n&&(l=YW(u)?yde:n),KW(u)&&(t=t||vde,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(Pce(u)&&l!=="_self")return wde(t||"",l),new n6(null);const f=window.open(t||"",l,d);nn(f,e,"popup-blocked");try{f.focus()}catch{}return new n6(f)}function wde(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _de="__/auth/handler",Tde="emulator/auth/handler",Ede=encodeURIComponent("fac");async function r6(e,t,n,r,i,s){nn(e.config.authDomain,e,"auth-domain-config-required"),nn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wm,eventId:i};if(t instanceof ub){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ile(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof db){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${Ede}=${encodeURIComponent(c)}`:"";return`${Nde(e)}?${ab(l).slice(1)}${u}`}function Nde({config:e}){return e.emulator?kI(e,Tde):`https://${e.authDomain}/${_de}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="webStorageSupport";class Sde{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hz,this._completeRedirectFn=Xue,this._overrideRedirectResult=Que}async _openPopup(t,n,r,i){var s;yd((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await r6(t,n,r,VD(),i);return bde(t,o,II())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await r6(t,n,r,VD(),i);return Aue(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await pde(t),r=new Zue(t);return n.register("authEvent",i=>(nn(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gk,{type:gk},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gk];o!==void 0&&n(!!o),Pl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rde(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nz()||XW()||CI()}}const kde=Sde;var i6="@firebase/auth",s6="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cde(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dde(e){mc(new Rl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;nn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rz(e)},u=new Bce(r,i,s,c);return Kce(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),mc(new Rl("auth-internal",t=>{const n=Tu(t.getProvider("auth").getImmediate());return(r=>new Ade(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(i6,s6,Cde(e)),wo(i6,s6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jde=5*60,Ide=IW("authIdTokenMaxAge")||jde;let a6=null;const Rde=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ide)return;const i=n==null?void 0:n.token;a6!==i&&(a6=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pde(e=oE()){const t=bm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Qce(e,{popupRedirectResolver:kde,persistence:[Lue,Nue,hz]}),r=IW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Rde(s.toString());vue(n,o,()=>o(n.currentUser)),yue(n,l=>o(l))}}const i=CW("auth");return i&&Xce(n,`http://${i}`),n}function Ode(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Vce({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Tl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ode().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dde("Browser");var o6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Np,_z;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,N){function C(){}C.prototype=N.prototype,_.D=N.prototype,_.prototype=new C,_.prototype.constructor=_,_.C=function(I,j,E){for(var D=Array(arguments.length-2),R=2;R<arguments.length;R++)D[R-2]=arguments[R];return N.prototype[j].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,N,C){C||(C=0);var I=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)I[j]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(j=0;16>j;++j)I[j]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=_.g[0],C=_.g[1],j=_.g[2];var E=_.g[3],D=N+(E^C&(j^E))+I[0]+3614090360&4294967295;N=C+(D<<7&4294967295|D>>>25),D=E+(j^N&(C^j))+I[1]+3905402710&4294967295,E=N+(D<<12&4294967295|D>>>20),D=j+(C^E&(N^C))+I[2]+606105819&4294967295,j=E+(D<<17&4294967295|D>>>15),D=C+(N^j&(E^N))+I[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(E^C&(j^E))+I[4]+4118548399&4294967295,N=C+(D<<7&4294967295|D>>>25),D=E+(j^N&(C^j))+I[5]+1200080426&4294967295,E=N+(D<<12&4294967295|D>>>20),D=j+(C^E&(N^C))+I[6]+2821735955&4294967295,j=E+(D<<17&4294967295|D>>>15),D=C+(N^j&(E^N))+I[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(E^C&(j^E))+I[8]+1770035416&4294967295,N=C+(D<<7&4294967295|D>>>25),D=E+(j^N&(C^j))+I[9]+2336552879&4294967295,E=N+(D<<12&4294967295|D>>>20),D=j+(C^E&(N^C))+I[10]+4294925233&4294967295,j=E+(D<<17&4294967295|D>>>15),D=C+(N^j&(E^N))+I[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(E^C&(j^E))+I[12]+1804603682&4294967295,N=C+(D<<7&4294967295|D>>>25),D=E+(j^N&(C^j))+I[13]+4254626195&4294967295,E=N+(D<<12&4294967295|D>>>20),D=j+(C^E&(N^C))+I[14]+2792965006&4294967295,j=E+(D<<17&4294967295|D>>>15),D=C+(N^j&(E^N))+I[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(j^E&(C^j))+I[1]+4129170786&4294967295,N=C+(D<<5&4294967295|D>>>27),D=E+(C^j&(N^C))+I[6]+3225465664&4294967295,E=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(E^N))+I[11]+643717713&4294967295,j=E+(D<<14&4294967295|D>>>18),D=C+(E^N&(j^E))+I[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^E&(C^j))+I[5]+3593408605&4294967295,N=C+(D<<5&4294967295|D>>>27),D=E+(C^j&(N^C))+I[10]+38016083&4294967295,E=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(E^N))+I[15]+3634488961&4294967295,j=E+(D<<14&4294967295|D>>>18),D=C+(E^N&(j^E))+I[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^E&(C^j))+I[9]+568446438&4294967295,N=C+(D<<5&4294967295|D>>>27),D=E+(C^j&(N^C))+I[14]+3275163606&4294967295,E=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(E^N))+I[3]+4107603335&4294967295,j=E+(D<<14&4294967295|D>>>18),D=C+(E^N&(j^E))+I[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^E&(C^j))+I[13]+2850285829&4294967295,N=C+(D<<5&4294967295|D>>>27),D=E+(C^j&(N^C))+I[2]+4243563512&4294967295,E=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(E^N))+I[7]+1735328473&4294967295,j=E+(D<<14&4294967295|D>>>18),D=C+(E^N&(j^E))+I[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(C^j^E)+I[5]+4294588738&4294967295,N=C+(D<<4&4294967295|D>>>28),D=E+(N^C^j)+I[8]+2272392833&4294967295,E=N+(D<<11&4294967295|D>>>21),D=j+(E^N^C)+I[11]+1839030562&4294967295,j=E+(D<<16&4294967295|D>>>16),D=C+(j^E^N)+I[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^E)+I[1]+2763975236&4294967295,N=C+(D<<4&4294967295|D>>>28),D=E+(N^C^j)+I[4]+1272893353&4294967295,E=N+(D<<11&4294967295|D>>>21),D=j+(E^N^C)+I[7]+4139469664&4294967295,j=E+(D<<16&4294967295|D>>>16),D=C+(j^E^N)+I[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^E)+I[13]+681279174&4294967295,N=C+(D<<4&4294967295|D>>>28),D=E+(N^C^j)+I[0]+3936430074&4294967295,E=N+(D<<11&4294967295|D>>>21),D=j+(E^N^C)+I[3]+3572445317&4294967295,j=E+(D<<16&4294967295|D>>>16),D=C+(j^E^N)+I[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^E)+I[9]+3654602809&4294967295,N=C+(D<<4&4294967295|D>>>28),D=E+(N^C^j)+I[12]+3873151461&4294967295,E=N+(D<<11&4294967295|D>>>21),D=j+(E^N^C)+I[15]+530742520&4294967295,j=E+(D<<16&4294967295|D>>>16),D=C+(j^E^N)+I[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(j^(C|~E))+I[0]+4096336452&4294967295,N=C+(D<<6&4294967295|D>>>26),D=E+(C^(N|~j))+I[7]+1126891415&4294967295,E=N+(D<<10&4294967295|D>>>22),D=j+(N^(E|~C))+I[14]+2878612391&4294967295,j=E+(D<<15&4294967295|D>>>17),D=C+(E^(j|~N))+I[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~E))+I[12]+1700485571&4294967295,N=C+(D<<6&4294967295|D>>>26),D=E+(C^(N|~j))+I[3]+2399980690&4294967295,E=N+(D<<10&4294967295|D>>>22),D=j+(N^(E|~C))+I[10]+4293915773&4294967295,j=E+(D<<15&4294967295|D>>>17),D=C+(E^(j|~N))+I[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~E))+I[8]+1873313359&4294967295,N=C+(D<<6&4294967295|D>>>26),D=E+(C^(N|~j))+I[15]+4264355552&4294967295,E=N+(D<<10&4294967295|D>>>22),D=j+(N^(E|~C))+I[6]+2734768916&4294967295,j=E+(D<<15&4294967295|D>>>17),D=C+(E^(j|~N))+I[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~E))+I[4]+4149444226&4294967295,N=C+(D<<6&4294967295|D>>>26),D=E+(C^(N|~j))+I[11]+3174756917&4294967295,E=N+(D<<10&4294967295|D>>>22),D=j+(N^(E|~C))+I[2]+718787259&4294967295,j=E+(D<<15&4294967295|D>>>17),D=C+(E^(j|~N))+I[9]+3951481745&4294967295,_.g[0]=_.g[0]+N&4294967295,_.g[1]=_.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+E&4294967295}r.prototype.u=function(_,N){N===void 0&&(N=_.length);for(var C=N-this.blockSize,I=this.B,j=this.h,E=0;E<N;){if(j==0)for(;E<=C;)i(this,_,E),E+=this.blockSize;if(typeof _=="string"){for(;E<N;)if(I[j++]=_.charCodeAt(E++),j==this.blockSize){i(this,I),j=0;break}}else for(;E<N;)if(I[j++]=_[E++],j==this.blockSize){i(this,I),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var N=1;N<_.length-8;++N)_[N]=0;var C=8*this.o;for(N=_.length-8;N<_.length;++N)_[N]=C&255,C/=256;for(this.u(_),_=Array(16),N=C=0;4>N;++N)for(var I=0;32>I;I+=8)_[C++]=this.g[N]>>>I&255;return _};function s(_,N){var C=l;return Object.prototype.hasOwnProperty.call(C,_)?C[_]:C[_]=N(_)}function o(_,N){this.h=N;for(var C=[],I=!0,j=_.length-1;0<=j;j--){var E=_[j]|0;I&&E==N||(C[j]=E,I=!1)}this.g=C}var l={};function c(_){return-128<=_&&128>_?s(_,function(N){return new o([N|0],0>N?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return x(u(-_));for(var N=[],C=1,I=0;_>=C;I++)N[I]=_/C|0,C*=4294967296;return new o(N,0)}function d(_,N){if(_.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(_.charAt(0)=="-")return x(d(_.substring(1),N));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(N,8)),I=f,j=0;j<_.length;j+=8){var E=Math.min(8,_.length-j),D=parseInt(_.substring(j,j+E),N);8>E?(E=u(Math.pow(N,E)),I=I.j(E).add(u(D))):(I=I.j(C),I=I.add(u(D)))}return I}var f=c(0),h=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(m(this))return-x(this).m();for(var _=0,N=1,C=0;C<this.g.length;C++){var I=this.i(C);_+=(0<=I?I:4294967296+I)*N,N*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(m(this))return"-"+x(this).toString(_);for(var N=u(Math.pow(_,6)),C=this,I="";;){var j=w(C,N).g;C=v(C,j.j(N));var E=((0<C.g.length?C.g[0]:C.h)>>>0).toString(_);if(C=j,y(C))return E+I;for(;6>E.length;)E="0"+E;I=E+I}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(var N=0;N<_.g.length;N++)if(_.g[N]!=0)return!1;return!0}function m(_){return _.h==-1}e.l=function(_){return _=v(this,_),m(_)?-1:y(_)?0:1};function x(_){for(var N=_.g.length,C=[],I=0;I<N;I++)C[I]=~_.g[I];return new o(C,~_.h).add(h)}e.abs=function(){return m(this)?x(this):this},e.add=function(_){for(var N=Math.max(this.g.length,_.g.length),C=[],I=0,j=0;j<=N;j++){var E=I+(this.i(j)&65535)+(_.i(j)&65535),D=(E>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);I=D>>>16,E&=65535,D&=65535,C[j]=D<<16|E}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(_,N){return _.add(x(N))}e.j=function(_){if(y(this)||y(_))return f;if(m(this))return m(_)?x(this).j(x(_)):x(x(this).j(_));if(m(_))return x(this.j(x(_)));if(0>this.l(p)&&0>_.l(p))return u(this.m()*_.m());for(var N=this.g.length+_.g.length,C=[],I=0;I<2*N;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<_.g.length;j++){var E=this.i(I)>>>16,D=this.i(I)&65535,R=_.i(j)>>>16,M=_.i(j)&65535;C[2*I+2*j]+=D*M,g(C,2*I+2*j),C[2*I+2*j+1]+=E*M,g(C,2*I+2*j+1),C[2*I+2*j+1]+=D*R,g(C,2*I+2*j+1),C[2*I+2*j+2]+=E*R,g(C,2*I+2*j+2)}for(I=0;I<N;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=N;I<2*N;I++)C[I]=0;return new o(C,0)};function g(_,N){for(;(_[N]&65535)!=_[N];)_[N+1]+=_[N]>>>16,_[N]&=65535,N++}function b(_,N){this.g=_,this.h=N}function w(_,N){if(y(N))throw Error("division by zero");if(y(_))return new b(f,f);if(m(_))return N=w(x(_),N),new b(x(N.g),x(N.h));if(m(N))return N=w(_,x(N)),new b(x(N.g),N.h);if(30<_.g.length){if(m(_)||m(N))throw Error("slowDivide_ only works with positive integers.");for(var C=h,I=N;0>=I.l(_);)C=T(C),I=T(I);var j=k(C,1),E=k(I,1);for(I=k(I,2),C=k(C,2);!y(I);){var D=E.add(I);0>=D.l(_)&&(j=j.add(C),E=D),I=k(I,1),C=k(C,1)}return N=v(_,j.j(N)),new b(j,N)}for(j=f;0<=_.l(N);){for(C=Math.max(1,Math.floor(_.m()/N.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),E=u(C),D=E.j(N);m(D)||0<D.l(_);)C-=I,E=u(C),D=E.j(N);y(E)&&(E=h),j=j.add(E),_=v(_,D)}return new b(j,_)}e.A=function(_){return w(this,_).h},e.and=function(_){for(var N=Math.max(this.g.length,_.g.length),C=[],I=0;I<N;I++)C[I]=this.i(I)&_.i(I);return new o(C,this.h&_.h)},e.or=function(_){for(var N=Math.max(this.g.length,_.g.length),C=[],I=0;I<N;I++)C[I]=this.i(I)|_.i(I);return new o(C,this.h|_.h)},e.xor=function(_){for(var N=Math.max(this.g.length,_.g.length),C=[],I=0;I<N;I++)C[I]=this.i(I)^_.i(I);return new o(C,this.h^_.h)};function T(_){for(var N=_.g.length+1,C=[],I=0;I<N;I++)C[I]=_.i(I)<<1|_.i(I-1)>>>31;return new o(C,_.h)}function k(_,N){var C=N>>5;N%=32;for(var I=_.g.length-C,j=[],E=0;E<I;E++)j[E]=0<N?_.i(E+C)>>>N|_.i(E+C+1)<<32-N:_.i(E+C);return new o(j,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_z=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Np=o}).apply(typeof o6<"u"?o6:typeof self<"u"?self:typeof window<"u"?window:{});var T2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tz,Uy,Ez,kw,zD,Nz,Sz,kz;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,H,ne){return A==Array.prototype||A==Object.prototype||(A[H]=ne.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof T2=="object"&&T2];for(var H=0;H<A.length;++H){var ne=A[H];if(ne&&ne.Math==Math)return ne}throw Error("Cannot find global object")}var r=n(this);function i(A,H){if(H)e:{var ne=r;A=A.split(".");for(var we=0;we<A.length-1;we++){var qe=A[we];if(!(qe in ne))break e;ne=ne[qe]}A=A[A.length-1],we=ne[A],H=H(we),H!=we&&H!=null&&t(ne,A,{configurable:!0,writable:!0,value:H})}}function s(A,H){A instanceof String&&(A+="");var ne=0,we=!1,qe={next:function(){if(!we&&ne<A.length){var Xe=ne++;return{value:H(Xe,A[Xe]),done:!1}}return we=!0,{done:!0,value:void 0}}};return qe[Symbol.iterator]=function(){return qe},qe}i("Array.prototype.values",function(A){return A||function(){return s(this,function(H,ne){return ne})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(A){var H=typeof A;return H=H!="object"?H:A?Array.isArray(A)?"array":H:"null",H=="array"||H=="object"&&typeof A.length=="number"}function u(A){var H=typeof A;return H=="object"&&A!=null||H=="function"}function d(A,H,ne){return A.call.apply(A.bind,arguments)}function f(A,H,ne){if(!A)throw Error();if(2<arguments.length){var we=Array.prototype.slice.call(arguments,2);return function(){var qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(qe,we),A.apply(H,qe)}}return function(){return A.apply(H,arguments)}}function h(A,H,ne){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(A,H){var ne=Array.prototype.slice.call(arguments,1);return function(){var we=ne.slice();return we.push.apply(we,arguments),A.apply(this,we)}}function y(A,H){function ne(){}ne.prototype=H.prototype,A.aa=H.prototype,A.prototype=new ne,A.prototype.constructor=A,A.Qb=function(we,qe,Xe){for(var yt=Array(arguments.length-2),Sr=2;Sr<arguments.length;Sr++)yt[Sr-2]=arguments[Sr];return H.prototype[qe].apply(we,yt)}}function m(A){const H=A.length;if(0<H){const ne=Array(H);for(let we=0;we<H;we++)ne[we]=A[we];return ne}return[]}function x(A,H){for(let ne=1;ne<arguments.length;ne++){const we=arguments[ne];if(c(we)){const qe=A.length||0,Xe=we.length||0;A.length=qe+Xe;for(let yt=0;yt<Xe;yt++)A[qe+yt]=we[yt]}else A.push(we)}}class v{constructor(H,ne){this.i=H,this.j=ne,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function g(A){return/^[\s\xa0]*$/.test(A)}function b(){var A=l.navigator;return A&&(A=A.userAgent)?A:""}function w(A){return w[" "](A),A}w[" "]=function(){};var T=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function k(A,H,ne){for(const we in A)H.call(ne,A[we],we,A)}function _(A,H){for(const ne in A)H.call(void 0,A[ne],ne,A)}function N(A){const H={};for(const ne in A)H[ne]=A[ne];return H}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(A,H){let ne,we;for(let qe=1;qe<arguments.length;qe++){we=arguments[qe];for(ne in we)A[ne]=we[ne];for(let Xe=0;Xe<C.length;Xe++)ne=C[Xe],Object.prototype.hasOwnProperty.call(we,ne)&&(A[ne]=we[ne])}}function j(A){var H=1;A=A.split(":");const ne=[];for(;0<H&&A.length;)ne.push(A.shift()),H--;return A.length&&ne.push(A.join(":")),ne}function E(A){l.setTimeout(()=>{throw A},0)}function D(){var A=F;let H=null;return A.g&&(H=A.g,A.g=A.g.next,A.g||(A.h=null),H.next=null),H}class R{constructor(){this.h=this.g=null}add(H,ne){const we=M.get();we.set(H,ne),this.h?this.h.next=we:this.g=we,this.h=we}}var M=new v(()=>new U,A=>A.reset());class U{constructor(){this.next=this.g=this.h=null}set(H,ne){this.h=H,this.g=ne,this.next=null}reset(){this.next=this.g=this.h=null}}let z,G=!1,F=new R,W=()=>{const A=l.Promise.resolve(void 0);z=()=>{A.then(O)}};var O=()=>{for(var A;A=D();){try{A.h.call(A.g)}catch(ne){E(ne)}var H=M;H.j(A),100>H.h&&(H.h++,A.next=H.g,H.g=A)}G=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(A,H){this.type=A,this.g=this.target=H,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var A=!1,H=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const ne=()=>{};l.addEventListener("test",ne,H),l.removeEventListener("test",ne,H)}catch{}return A}();function Q(A,H){if(B.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var ne=this.type=A.type,we=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=H,H=A.relatedTarget){if(T){e:{try{w(H.nodeName);var qe=!0;break e}catch{}qe=!1}qe||(H=null)}}else ne=="mouseover"?H=A.fromElement:ne=="mouseout"&&(H=A.toElement);this.relatedTarget=H,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:L[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&Q.aa.h.call(this)}}y(Q,B);var L={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),ge=0;function he(A,H,ne,we,qe){this.listener=A,this.proxy=null,this.src=H,this.type=ne,this.capture=!!we,this.ha=qe,this.key=++ge,this.da=this.fa=!1}function be(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function Oe(A){this.src=A,this.g={},this.h=0}Oe.prototype.add=function(A,H,ne,we,qe){var Xe=A.toString();A=this.g[Xe],A||(A=this.g[Xe]=[],this.h++);var yt=Ie(A,H,we,qe);return-1<yt?(H=A[yt],ne||(H.fa=!1)):(H=new he(H,this.src,Xe,!!we,qe),H.fa=ne,A.push(H)),H};function Z(A,H){var ne=H.type;if(ne in A.g){var we=A.g[ne],qe=Array.prototype.indexOf.call(we,H,void 0),Xe;(Xe=0<=qe)&&Array.prototype.splice.call(we,qe,1),Xe&&(be(H),A.g[ne].length==0&&(delete A.g[ne],A.h--))}}function Ie(A,H,ne,we){for(var qe=0;qe<A.length;++qe){var Xe=A[qe];if(!Xe.da&&Xe.listener==H&&Xe.capture==!!ne&&Xe.ha==we)return qe}return-1}var V="closure_lm_"+(1e6*Math.random()|0),ke={};function xe(A,H,ne,we,qe){if(Array.isArray(H)){for(var Xe=0;Xe<H.length;Xe++)xe(A,H[Xe],ne,we,qe);return null}return ne=fe(ne),A&&A[ee]?A.K(H,ne,u(we)?!!we.capture:!1,qe):re(A,H,ne,!1,we,qe)}function re(A,H,ne,we,qe,Xe){if(!H)throw Error("Invalid event type");var yt=u(qe)?!!qe.capture:!!qe,Sr=oe(A);if(Sr||(A[V]=Sr=new Oe(A)),ne=Sr.add(H,ne,we,yt,Xe),ne.proxy)return ne;if(we=J(),ne.proxy=we,we.src=A,we.listener=ne,A.addEventListener)K||(qe=yt),qe===void 0&&(qe=!1),A.addEventListener(H.toString(),we,qe);else if(A.attachEvent)A.attachEvent(le(H.toString()),we);else if(A.addListener&&A.removeListener)A.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return ne}function J(){function A(ne){return H.call(A.src,A.listener,ne)}const H=te;return A}function pe(A,H,ne,we,qe){if(Array.isArray(H))for(var Xe=0;Xe<H.length;Xe++)pe(A,H[Xe],ne,we,qe);else we=u(we)?!!we.capture:!!we,ne=fe(ne),A&&A[ee]?(A=A.i,H=String(H).toString(),H in A.g&&(Xe=A.g[H],ne=Ie(Xe,ne,we,qe),-1<ne&&(be(Xe[ne]),Array.prototype.splice.call(Xe,ne,1),Xe.length==0&&(delete A.g[H],A.h--)))):A&&(A=oe(A))&&(H=A.g[H.toString()],A=-1,H&&(A=Ie(H,ne,we,qe)),(ne=-1<A?H[A]:null)&&Y(ne))}function Y(A){if(typeof A!="number"&&A&&!A.da){var H=A.src;if(H&&H[ee])Z(H.i,A);else{var ne=A.type,we=A.proxy;H.removeEventListener?H.removeEventListener(ne,we,A.capture):H.detachEvent?H.detachEvent(le(ne),we):H.addListener&&H.removeListener&&H.removeListener(we),(ne=oe(H))?(Z(ne,A),ne.h==0&&(ne.src=null,H[V]=null)):be(A)}}}function le(A){return A in ke?ke[A]:ke[A]="on"+A}function te(A,H){if(A.da)A=!0;else{H=new Q(H,this);var ne=A.listener,we=A.ha||A.src;A.fa&&Y(A),A=ne.call(we,H)}return A}function oe(A){return A=A[V],A instanceof Oe?A:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(A){return typeof A=="function"?A:(A[ae]||(A[ae]=function(H){return A.handleEvent(H)}),A[ae])}function Ae(){P.call(this),this.i=new Oe(this),this.M=this,this.F=null}y(Ae,P),Ae.prototype[ee]=!0,Ae.prototype.removeEventListener=function(A,H,ne,we){pe(this,A,H,ne,we)};function Me(A,H){var ne,we=A.F;if(we)for(ne=[];we;we=we.F)ne.push(we);if(A=A.M,we=H.type||H,typeof H=="string")H=new B(H,A);else if(H instanceof B)H.target=H.target||A;else{var qe=H;H=new B(we,A),I(H,qe)}if(qe=!0,ne)for(var Xe=ne.length-1;0<=Xe;Xe--){var yt=H.g=ne[Xe];qe=Ve(yt,we,!0,H)&&qe}if(yt=H.g=A,qe=Ve(yt,we,!0,H)&&qe,qe=Ve(yt,we,!1,H)&&qe,ne)for(Xe=0;Xe<ne.length;Xe++)yt=H.g=ne[Xe],qe=Ve(yt,we,!1,H)&&qe}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var A=this.i,H;for(H in A.g){for(var ne=A.g[H],we=0;we<ne.length;we++)be(ne[we]);delete A.g[H],A.h--}}this.F=null},Ae.prototype.K=function(A,H,ne,we){return this.i.add(String(A),H,!1,ne,we)},Ae.prototype.L=function(A,H,ne,we){return this.i.add(String(A),H,!0,ne,we)};function Ve(A,H,ne,we){if(H=A.i.g[String(H)],!H)return!0;H=H.concat();for(var qe=!0,Xe=0;Xe<H.length;++Xe){var yt=H[Xe];if(yt&&!yt.da&&yt.capture==ne){var Sr=yt.listener,Oi=yt.ha||yt.src;yt.fa&&Z(A.i,yt),qe=Sr.call(Oi,we)!==!1&&qe}}return qe&&!we.defaultPrevented}function ot(A,H,ne){if(typeof A=="function")ne&&(A=h(A,ne));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:l.setTimeout(A,H||0)}function Fe(A){A.g=ot(()=>{A.g=null,A.i&&(A.i=!1,Fe(A))},A.l);const H=A.h;A.h=null,A.m.apply(null,H)}class je extends P{constructor(H,ne){super(),this.m=H,this.l=ne,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:Fe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(A){P.call(this),this.h=A,this.g={}}y(Ge,P);var Je=[];function kt(A){k(A.g,function(H,ne){this.g.hasOwnProperty(ne)&&Y(H)},A),A.g={}}Ge.prototype.N=function(){Ge.aa.N.call(this),kt(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=l.JSON.stringify,Mt=l.JSON.parse,Mn=class{stringify(A){return l.JSON.stringify(A,void 0)}parse(A){return l.JSON.parse(A,void 0)}};function sn(){}sn.prototype.h=null;function Qn(A){return A.h||(A.h=A.i())}function qn(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cn(){B.call(this,"d")}y(Cn,B);function Pn(){B.call(this,"c")}y(Pn,B);var Wt={},rr=null;function ln(){return rr=rr||new Ae}Wt.La="serverreachability";function Dn(A){B.call(this,Wt.La,A)}y(Dn,B);function Or(A){const H=ln();Me(H,new Dn(H))}Wt.STAT_EVENT="statevent";function dr(A,H){B.call(this,Wt.STAT_EVENT,A),this.stat=H}y(dr,B);function _n(A){const H=ln();Me(H,new dr(H,A))}Wt.Ma="timingevent";function ir(A,H){B.call(this,Wt.Ma,A),this.size=H}y(ir,B);function jn(A,H){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){A()},H)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function Xn(A,H,ne,we,qe,Xe){A.info(function(){if(A.g)if(Xe)for(var yt="",Sr=Xe.split("&"),Oi=0;Oi<Sr.length;Oi++){var ar=Sr[Oi].split("=");if(1<ar.length){var Mr=ar[0];ar=ar[1];var Ti=Mr.split("_");yt=2<=Ti.length&&Ti[1]=="type"?yt+(Mr+"="+ar+"&"):yt+(Mr+"=redacted&")}}else yt=null;else yt=Xe;return"XMLHTTP REQ ("+we+") [attempt "+qe+"]: "+H+`
`+ne+`
`+yt})}function br(A,H,ne,we,qe,Xe,yt){A.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+qe+"]: "+H+`
`+ne+`
`+Xe+" "+yt})}function ce(A,H,ne,we){A.info(function(){return"XMLHTTP TEXT ("+H+"): "+ve(A,ne)+(we?" "+we:"")})}function Ne(A,H){A.info(function(){return"TIMEOUT: "+H})}Kn.prototype.info=function(){};function ve(A,H){if(!A.g)return H;if(!H)return null;try{var ne=JSON.parse(H);if(ne){for(A=0;A<ne.length;A++)if(Array.isArray(ne[A])){var we=ne[A];if(!(2>we.length)){var qe=we[1];if(Array.isArray(qe)&&!(1>qe.length)){var Xe=qe[0];if(Xe!="noop"&&Xe!="stop"&&Xe!="close")for(var yt=1;yt<qe.length;yt++)qe[yt]=""}}}}return Qt(ne)}catch{return H}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},me;function De(){}y(De,sn),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},me=new De;function se(A,H,ne,we){this.j=A,this.i=H,this.l=ne,this.R=we||1,this.U=new Ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ee={},ue={};function de(A,H,ne){A.L=1,A.v=Io(zt(H)),A.m=ne,A.P=!0,Re(A,null)}function Re(A,H){A.F=Date.now(),Ze(A),A.A=zt(A.v);var ne=A.A,we=A.R;Array.isArray(we)||(we=[String(we)]),Vl(ne.i,"t",we),A.C=0,ne=A.j.J,A.h=new Te,A.g=Gm(A.j,ne?H:null,!A.m),0<A.O&&(A.M=new je(h(A.Y,A,A.g),A.O)),H=A.U,ne=A.g,we=A.ca;var qe="readystatechange";Array.isArray(qe)||(qe&&(Je[0]=qe.toString()),qe=Je);for(var Xe=0;Xe<qe.length;Xe++){var yt=xe(ne,qe[Xe],we||H.handleEvent,!1,H.h||H);if(!yt)break;H.g[yt.key]=yt}H=A.H?N(A.H):{},A.m?(A.u||(A.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,H)):(A.u="GET",A.g.ea(A.A,A.u,null,H)),Or(),Xn(A.i,A.u,A.A,A.l,A.R,A.m)}se.prototype.ca=function(A){A=A.target;const H=this.M;H&&Ea(A)==3?H.j():this.Y(A)},se.prototype.Y=function(A){try{if(A==this.g)e:{const Ti=Ea(this.g);var H=this.g.Ba();const Pc=this.g.Z();if(!(3>Ti)&&(Ti!=3||this.g&&(this.h.h||this.g.oa()||Uh(this.g)))){this.J||Ti!=4||H==7||(H==8||0>=Pc?Or(3):Or(2)),Kt(this);var ne=this.g.Z();this.X=ne;t:if(We(this)){var we=Uh(this.g);A="";var qe=we.length,Xe=Ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),Tt(this);var yt="";break t}this.h.i=new l.TextDecoder}for(H=0;H<qe;H++)this.h.h=!0,A+=this.h.i.decode(we[H],{stream:!(Xe&&H==qe-1)});we.length=0,this.h.g+=A,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=ne==200,br(this.i,this.u,this.A,this.l,this.R,Ti,ne),this.o){if(this.T&&!this.K){t:{if(this.g){var Sr,Oi=this.g;if((Sr=Oi.g?Oi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Sr)){var ar=Sr;break t}}ar=null}if(ne=ar)ce(this.i,this.l,ne,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kn(this,ne);else{this.o=!1,this.s=3,_n(12),Nt(this),Tt(this);break e}}if(this.P){ne=!0;let Xs;for(;!this.J&&this.C<yt.length;)if(Xs=Qe(this,yt),Xs==ue){Ti==4&&(this.s=4,_n(14),ne=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Xs==Ee){this.s=4,_n(15),ce(this.i,this.l,yt,"[Invalid Chunk]"),ne=!1;break}else ce(this.i,this.l,Xs,null),kn(this,Xs);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ti!=4||yt.length!=0||this.h.h||(this.s=1,_n(16),ne=!1),this.o=this.o&&ne,!ne)ce(this.i,this.l,yt,"[Invalid Chunked Response]"),Nt(this),Tt(this);else if(0<yt.length&&!this.W){this.W=!0;var Mr=this.j;Mr.g==this&&Mr.ba&&!Mr.M&&(Mr.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),Bh(Mr),Mr.M=!0,_n(11))}}else ce(this.i,this.l,yt,null),kn(this,yt);Ti==4&&Nt(this),this.o&&!this.J&&(Ti==4?Ox(this.j,this):(this.o=!1,Ze(this)))}else Vd(this.g),ne==400&&0<yt.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),Nt(this),Tt(this)}}}catch{}finally{}};function We(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Qe(A,H){var ne=A.C,we=H.indexOf(`
`,ne);return we==-1?ue:(ne=Number(H.substring(ne,we)),isNaN(ne)?Ee:(we+=1,we+ne>H.length?ue:(H=H.slice(we,we+ne),A.C=we+ne,H)))}se.prototype.cancel=function(){this.J=!0,Nt(this)};function Ze(A){A.S=Date.now()+A.I,pt(A,A.I)}function pt(A,H){if(A.B!=null)throw Error("WatchDog timer not null");A.B=jn(h(A.ba,A),H)}function Kt(A){A.B&&(l.clearTimeout(A.B),A.B=null)}se.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(Ne(this.i,this.A),this.L!=2&&(Or(),_n(17)),Nt(this),this.s=2,Tt(this)):pt(this,this.S-A)};function Tt(A){A.j.G==0||A.J||Ox(A.j,A)}function Nt(A){Kt(A);var H=A.M;H&&typeof H.ma=="function"&&H.ma(),A.M=null,kt(A.U),A.g&&(H=A.g,A.g=null,H.abort(),H.ma())}function kn(A,H){try{var ne=A.j;if(ne.G!=0&&(ne.g==A||Nr(ne.h,A))){if(!A.K&&Nr(ne.h,A)&&ne.G==3){try{var we=ne.Da.g.parse(H)}catch{we=null}if(Array.isArray(we)&&we.length==3){var qe=we;if(qe[0]==0){e:if(!ne.u){if(ne.g)if(ne.g.F+3e3<A.F)zd(ne),Et(ne);else break e;Wd(ne),_n(18)}}else ne.za=qe[1],0<ne.za-ne.T&&37500>qe[2]&&ne.F&&ne.v==0&&!ne.C&&(ne.C=jn(h(ne.Za,ne),6e3));if(1>=no(ne.h)&&ne.ca){try{ne.ca()}catch{}ne.ca=void 0}}else Ic(ne,11)}else if((A.K||ne.g==A)&&zd(ne),!g(H))for(qe=ne.Da.g.parse(H),H=0;H<qe.length;H++){let ar=qe[H];if(ne.T=ar[0],ar=ar[1],ne.G==2)if(ar[0]=="c"){ne.K=ar[1],ne.ia=ar[2];const Mr=ar[3];Mr!=null&&(ne.la=Mr,ne.j.info("VER="+ne.la));const Ti=ar[4];Ti!=null&&(ne.Aa=Ti,ne.j.info("SVER="+ne.Aa));const Pc=ar[5];Pc!=null&&typeof Pc=="number"&&0<Pc&&(we=1.5*Pc,ne.L=we,ne.j.info("backChannelRequestTimeoutMs_="+we)),we=ne;const Xs=A.g;if(Xs){const Na=Xs.g?Xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var Xe=we.h;Xe.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(Xe.j=Xe.l,Xe.g=new Set,Xe.h&&(Do(Xe,Xe.h),Xe.h=null))}if(we.D){const hi=Xs.g?Xs.g.getResponseHeader("X-HTTP-Session-Id"):null;hi&&(we.ya=hi,fr(we.I,we.D,hi))}}ne.G=3,ne.l&&ne.l.ua(),ne.ba&&(ne.R=Date.now()-A.F,ne.j.info("Handshake RTT: "+ne.R+"ms")),we=ne;var yt=A;if(we.qa=Fx(we,we.J?we.ia:null,we.W),yt.K){Jr(we.h,yt);var Sr=yt,Oi=we.L;Oi&&(Sr.I=Oi),Sr.B&&(Kt(Sr),Ze(Sr)),we.g=yt}else ol(we);0<ne.i.length&&Cs(ne)}else ar[0]!="stop"&&ar[0]!="close"||Ic(ne,7);else ne.G==3&&(ar[0]=="stop"||ar[0]=="close"?ar[0]=="stop"?Ic(ne,7):it(ne):ar[0]!="noop"&&ne.l&&ne.l.ta(ar),ne.v=0)}}Or(4)}catch{}}var bn=class{constructor(A,H){this.g=A,this.map=H}};function ps(A){this.l=A||10,l.PerformanceNavigationTiming?(A=l.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zr(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function no(A){return A.h?1:A.g?A.g.size:0}function Nr(A,H){return A.h?A.h==H:A.g?A.g.has(H):!1}function Do(A,H){A.g?A.g.add(H):A.h=H}function Jr(A,H){A.h&&A.h==H?A.h=null:A.g&&A.g.has(H)&&A.g.delete(H)}ps.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function jo(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let H=A.i;for(const ne of A.g.values())H=H.concat(ne.D);return H}return m(A.i)}function ms(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(c(A)){for(var H=[],ne=A.length,we=0;we<ne;we++)H.push(A[we]);return H}H=[],ne=0;for(we in A)H[ne++]=A[we];return H}function $s(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(c(A)||typeof A=="string"){var H=[];A=A.length;for(var ne=0;ne<A;ne++)H.push(ne);return H}H=[],ne=0;for(const we in A)H[ne++]=we;return H}}}function Hs(A,H){if(A.forEach&&typeof A.forEach=="function")A.forEach(H,void 0);else if(c(A)||typeof A=="string")Array.prototype.forEach.call(A,H,void 0);else for(var ne=$s(A),we=ms(A),qe=we.length,Xe=0;Xe<qe;Xe++)H.call(void 0,we[Xe],ne&&ne[Xe],A)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(A,H){if(A){A=A.split("&");for(var ne=0;ne<A.length;ne++){var we=A[ne].indexOf("="),qe=null;if(0<=we){var Xe=A[ne].substring(0,we);qe=A[ne].substring(we+1)}else Xe=A[ne];H(Xe,qe?decodeURIComponent(qe.replace(/\+/g," ")):"")}}}function un(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof un){this.h=A.h,In(this,A.j),this.o=A.o,this.g=A.g,On(this,A.s),this.l=A.l;var H=A.i,ne=new sr;ne.i=H.i,H.g&&(ne.g=new Map(H.g),ne.h=H.h),Gs(this,ne),this.m=A.m}else A&&(H=String(A).match(Ce))?(this.h=!1,In(this,H[1]||"",!0),this.o=Ro(H[2]||""),this.g=Ro(H[3]||"",!0),On(this,H[4]),this.l=Ro(H[5]||"",!0),Gs(this,H[6]||"",!0),this.m=Ro(H[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}un.prototype.toString=function(){var A=[],H=this.j;H&&A.push(si(H,io,!0),":");var ne=this.g;return(ne||H=="file")&&(A.push("//"),(H=this.o)&&A.push(si(H,io,!0),"@"),A.push(encodeURIComponent(String(ne)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ne=this.s,ne!=null&&A.push(":",String(ne))),(ne=this.l)&&(this.g&&ne.charAt(0)!="/"&&A.push("/"),A.push(si(ne,ne.charAt(0)=="/"?Cc:Bl,!0))),(ne=this.i.toString())&&A.push("?",ne),(ne=this.m)&&A.push("#",si(ne,Au)),A.join("")};function zt(A){return new un(A)}function In(A,H,ne){A.j=ne?Ro(H,!0):H,A.j&&(A.j=A.j.replace(/:$/,""))}function On(A,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);A.s=H}else A.s=null}function Gs(A,H,ne){H instanceof sr?(A.i=H,xs(A.i,A.h)):(ne||(H=si(H,Ir)),A.i=new sr(H,A.h))}function fr(A,H,ne){A.i.set(H,ne)}function Io(A){return fr(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Ro(A,H){return A?H?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function si(A,H,ne){return typeof A=="string"?(A=encodeURI(A).replace(H,ro),ne&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function ro(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var io=/[#\/\?@]/g,Bl=/[#\?:]/g,Cc=/[#\?]/g,Ir=/[#\?@]/g,Au=/#/g;function sr(A,H){this.h=this.g=null,this.i=A||null,this.j=!!H}function ai(A){A.g||(A.g=new Map,A.h=0,A.i&&vt(A.i,function(H,ne){A.add(decodeURIComponent(H.replace(/\+/g," ")),ne)}))}e=sr.prototype,e.add=function(A,H){ai(this),this.i=null,A=Pi(this,A);var ne=this.g.get(A);return ne||this.g.set(A,ne=[]),ne.push(H),this.h+=1,this};function gs(A,H){ai(A),H=Pi(A,H),A.g.has(H)&&(A.i=null,A.h-=A.g.get(H).length,A.g.delete(H))}function ei(A,H){return ai(A),H=Pi(A,H),A.g.has(H)}e.forEach=function(A,H){ai(this),this.g.forEach(function(ne,we){ne.forEach(function(qe){A.call(H,qe,we,this)},this)},this)},e.na=function(){ai(this);const A=Array.from(this.g.values()),H=Array.from(this.g.keys()),ne=[];for(let we=0;we<H.length;we++){const qe=A[we];for(let Xe=0;Xe<qe.length;Xe++)ne.push(H[we])}return ne},e.V=function(A){ai(this);let H=[];if(typeof A=="string")ei(this,A)&&(H=H.concat(this.g.get(Pi(this,A))));else{A=Array.from(this.g.values());for(let ne=0;ne<A.length;ne++)H=H.concat(A[ne])}return H},e.set=function(A,H){return ai(this),this.i=null,A=Pi(this,A),ei(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[H]),this.h+=1,this},e.get=function(A,H){return A?(A=this.V(A),0<A.length?String(A[0]):H):H};function Vl(A,H,ne){gs(A,H),0<ne.length&&(A.i=null,A.g.set(Pi(A,H),m(ne)),A.h+=ne.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],H=Array.from(this.g.keys());for(var ne=0;ne<H.length;ne++){var we=H[ne];const Xe=encodeURIComponent(String(we)),yt=this.V(we);for(we=0;we<yt.length;we++){var qe=Xe;yt[we]!==""&&(qe+="="+encodeURIComponent(String(yt[we]))),A.push(qe)}}return this.i=A.join("&")};function Pi(A,H){return H=String(H),A.j&&(H=H.toLowerCase()),H}function xs(A,H){H&&!A.j&&(ai(A),A.i=null,A.g.forEach(function(ne,we){var qe=we.toLowerCase();we!=qe&&(gs(this,we),Vl(this,qe,ne))},A)),A.j=H}function sl(A,H){const ne=new Kn;if(l.Image){const we=new Image;we.onload=p(Qs,ne,"TestLoadImage: loaded",!0,H,we),we.onerror=p(Qs,ne,"TestLoadImage: error",!1,H,we),we.onabort=p(Qs,ne,"TestLoadImage: abort",!1,H,we),we.ontimeout=p(Qs,ne,"TestLoadImage: timeout",!1,H,we),l.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=A}else H(!1)}function Yi(A,H){const ne=new Kn,we=new AbortController,qe=setTimeout(()=>{we.abort(),Qs(ne,"TestPingServer: timeout",!1,H)},1e4);fetch(A,{signal:we.signal}).then(Xe=>{clearTimeout(qe),Xe.ok?Qs(ne,"TestPingServer: ok",!0,H):Qs(ne,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(qe),Qs(ne,"TestPingServer: error",!1,H)})}function Qs(A,H,ne,we,qe){try{qe&&(qe.onload=null,qe.onerror=null,qe.onabort=null,qe.ontimeout=null),we(ne)}catch{}}function As(){this.g=new Mn}function ql(A,H,ne){const we=ne||"";try{Hs(A,function(qe,Xe){let yt=qe;u(qe)&&(yt=Qt(qe)),H.push(we+Xe+"="+encodeURIComponent(yt))})}catch(qe){throw H.push(we+"type="+encodeURIComponent("_badmap")),qe}}function Ta(A){this.l=A.Ub||null,this.j=A.eb||!1}y(Ta,sn),Ta.prototype.g=function(){return new al(this.l,this.j)},Ta.prototype.i=function(A){return function(){return A}}({});function al(A,H){Ae.call(this),this.D=A,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(al,Ae),e=al.prototype,e.open=function(A,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=H,this.readyState=1,Cu(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(H.body=A),(this.D||l).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vm(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vm(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var H=A.value?A.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!A.done}))&&(this.response=this.responseText+=H)}A.done?Wl(this):Cu(this),this.readyState==3&&Vm(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,Wl(this))},e.Qa=function(A){this.g&&(this.response=A,Wl(this))},e.ga=function(){this.g&&Wl(this)};function Wl(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Cu(A)}e.setRequestHeader=function(A,H){this.u.append(A,H)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],H=this.h.entries();for(var ne=H.next();!ne.done;)ne=ne.value,A.push(ne[0]+": "+ne[1]),ne=H.next();return A.join(`\r
`)};function Cu(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Ud(A){let H="";return k(A,function(ne,we){H+=we,H+=":",H+=ne,H+=`\r
`}),H}function Lh(A,H,ne){e:{for(we in ne){var we=!1;break e}we=!0}we||(ne=Ud(ne),typeof A=="string"?ne!=null&&encodeURIComponent(String(ne)):fr(A,H,ne))}function Rr(A){Ae.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Rr,Ae);var Ix=/^https?$/i,Mh=["POST","PUT"];e=Rr.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,H,ne,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);H=H?H.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():me.g(),this.v=this.o?Qn(this.o):Qn(me),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(H,String(A),!0),this.B=!1}catch(Xe){qm(this,Xe);return}if(A=ne||"",ne=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var qe in we)ne.set(qe,we[qe]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const Xe of we.keys())ne.set(Xe,we.get(Xe));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(ne.keys()).find(Xe=>Xe.toLowerCase()=="content-type"),qe=l.FormData&&A instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Mh,H,void 0))||we||qe||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Xe,yt]of ne)this.g.setRequestHeader(Xe,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zm(this),this.u=!0,this.g.send(A),this.u=!1}catch(Xe){qm(this,Xe)}};function qm(A,H){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=H,A.m=5,Bd(A),Dc(A)}function Bd(A){A.A||(A.A=!0,Me(A,"complete"),Me(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,Me(this,"complete"),Me(this,"abort"),Dc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dc(this,!0)),Rr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Wm(this):this.bb())},e.bb=function(){Wm(this)};function Wm(A){if(A.h&&typeof o<"u"&&(!A.v[1]||Ea(A)!=4||A.Z()!=2)){if(A.u&&Ea(A)==4)ot(A.Ea,0,A);else if(Me(A,"readystatechange"),Ea(A)==4){A.h=!1;try{const yt=A.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var ne;if(!(ne=H)){var we;if(we=yt===0){var qe=String(A.D).match(Ce)[1]||null;!qe&&l.self&&l.self.location&&(qe=l.self.location.protocol.slice(0,-1)),we=!Ix.test(qe?qe.toLowerCase():"")}ne=we}if(ne)Me(A,"complete"),Me(A,"success");else{A.m=6;try{var Xe=2<Ea(A)?A.g.statusText:""}catch{Xe=""}A.l=Xe+" ["+A.Z()+"]",Bd(A)}}finally{Dc(A)}}}}function Dc(A,H){if(A.g){zm(A);const ne=A.g,we=A.v[0]?()=>{}:null;A.g=null,A.v=null,H||Me(A,"ready");try{ne.onreadystatechange=we}catch{}}}function zm(A){A.I&&(l.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Ea(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var H=this.g.responseText;return A&&H.indexOf(A)==0&&(H=H.substring(A.length)),Mt(H)}};function Uh(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(A){const H={};A=(A.g&&2<=Ea(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<A.length;we++){if(g(A[we]))continue;var ne=j(A[we]);const qe=ne[0];if(ne=ne[1],typeof ne!="string")continue;ne=ne.trim();const Xe=H[qe]||[];H[qe]=Xe,Xe.push(ne)}_(H,function(we){return we.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jc(A,H,ne){return ne&&ne.internalChannelParams&&ne.internalChannelParams[A]||H}function Pe(A){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jc("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jc("baseRetryDelayMs",5e3,A),this.cb=jc("retryDelaySeedMs",1e4,A),this.Wa=jc("forwardChannelMaxRetries",2,A),this.wa=jc("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(A&&A.concurrentRequestLimit),this.Da=new As,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Pe.prototype,e.la=8,e.G=1,e.connect=function(A,H,ne,we){_n(0),this.W=A,this.H=H||{},ne&&we!==void 0&&(this.H.OSID=ne,this.H.OAID=we),this.F=this.X,this.I=Fx(this,null,this.W),Cs(this)};function it(A){if(At(A),A.G==3){var H=A.U++,ne=zt(A.I);if(fr(ne,"SID",A.K),fr(ne,"RID",H),fr(ne,"TYPE","terminate"),Ds(A,ne),H=new se(A,A.j,H),H.L=2,H.v=Io(zt(ne)),ne=!1,l.navigator&&l.navigator.sendBeacon)try{ne=l.navigator.sendBeacon(H.v.toString(),"")}catch{}!ne&&l.Image&&(new Image().src=H.v,ne=!0),ne||(H.g=Gm(H.j,null),H.g.ea(H.v)),H.F=Date.now(),Ze(H)}Hm(A)}function Et(A){A.g&&(Bh(A),A.g.cancel(),A.g=null)}function At(A){Et(A),A.u&&(l.clearTimeout(A.u),A.u=null),zd(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&l.clearTimeout(A.s),A.s=null)}function Cs(A){if(!zr(A.h)&&!A.s){A.s=!0;var H=A.Ga;z||W(),G||(z(),G=!0),F.add(H,A),A.B=0}}function Rx(A,H){return no(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=H.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=jn(h(A.Ga,A,H),$m(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const qe=new se(this,this.j,A);let Xe=this.o;if(this.S&&(Xe?(Xe=N(Xe),I(Xe,this.S)):Xe=this.S),this.m!==null||this.O||(qe.H=Xe,Xe=null),this.P)e:{for(var H=0,ne=0;ne<this.i.length;ne++){t:{var we=this.i[ne];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(H+=we,4096<H){H=ne;break e}if(H===4096||ne===this.i.length-1){H=ne+1;break e}}H=1e3}else H=1e3;H=Zi(this,qe,H),ne=zt(this.I),fr(ne,"RID",A),fr(ne,"CVER",22),this.D&&fr(ne,"X-HTTP-Session-Id",this.D),Ds(this,ne),Xe&&(this.O?H="headers="+encodeURIComponent(String(Ud(Xe)))+"&"+H:this.m&&Lh(ne,this.m,Xe)),Do(this.h,qe),this.Ua&&fr(ne,"TYPE","init"),this.P?(fr(ne,"$req",H),fr(ne,"SID","null"),qe.T=!0,de(qe,ne,null)):de(qe,ne,H),this.G=2}}else this.G==3&&(A?qd(this,A):this.i.length==0||zr(this.h)||qd(this))};function qd(A,H){var ne;H?ne=H.l:ne=A.U++;const we=zt(A.I);fr(we,"SID",A.K),fr(we,"RID",ne),fr(we,"AID",A.T),Ds(A,we),A.m&&A.o&&Lh(we,A.m,A.o),ne=new se(A,A.j,ne,A.B+1),A.m===null&&(ne.H=A.o),H&&(A.i=H.D.concat(A.i)),H=Zi(A,ne,1e3),ne.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Do(A.h,ne),de(ne,we,H)}function Ds(A,H){A.H&&k(A.H,function(ne,we){fr(H,we,ne)}),A.l&&Hs({},function(ne,we){fr(H,we,ne)})}function Zi(A,H,ne){ne=Math.min(A.i.length,ne);var we=A.l?h(A.l.Na,A.l,A):null;e:{var qe=A.i;let Xe=-1;for(;;){const yt=["count="+ne];Xe==-1?0<ne?(Xe=qe[0].g,yt.push("ofs="+Xe)):Xe=0:yt.push("ofs="+Xe);let Sr=!0;for(let Oi=0;Oi<ne;Oi++){let ar=qe[Oi].g;const Mr=qe[Oi].map;if(ar-=Xe,0>ar)Xe=Math.max(0,qe[Oi].g-100),Sr=!1;else try{ql(Mr,yt,"req"+ar+"_")}catch{we&&we(Mr)}}if(Sr){we=yt.join("&");break e}}}return A=A.i.splice(0,ne),H.D=A,we}function ol(A){if(!A.g&&!A.u){A.Y=1;var H=A.Fa;z||W(),G||(z(),G=!0),F.add(H,A),A.v=0}}function Wd(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=jn(h(A.Fa,A),$m(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Px(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=jn(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),Et(this),Px(this))};function Bh(A){A.A!=null&&(l.clearTimeout(A.A),A.A=null)}function Px(A){A.g=new se(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var H=zt(A.qa);fr(H,"RID","rpc"),fr(H,"SID",A.K),fr(H,"AID",A.T),fr(H,"CI",A.F?"0":"1"),!A.F&&A.ja&&fr(H,"TO",A.ja),fr(H,"TYPE","xmlhttp"),Ds(A,H),A.m&&A.o&&Lh(H,A.m,A.o),A.L&&(A.g.I=A.L);var ne=A.g;A=A.ia,ne.L=1,ne.v=Io(zt(H)),ne.m=null,ne.P=!0,Re(ne,A)}e.Za=function(){this.C!=null&&(this.C=null,Et(this),Wd(this),_n(19))};function zd(A){A.C!=null&&(l.clearTimeout(A.C),A.C=null)}function Ox(A,H){var ne=null;if(A.g==H){zd(A),Bh(A),A.g=null;var we=2}else if(Nr(A.h,H))ne=H.D,Jr(A.h,H),we=1;else return;if(A.G!=0){if(H.o)if(we==1){ne=H.m?H.m.length:0,H=Date.now()-H.F;var qe=A.B;we=ln(),Me(we,new ir(we,ne)),Cs(A)}else ol(A);else if(qe=H.s,qe==3||qe==0&&0<H.X||!(we==1&&Rx(A,H)||we==2&&Wd(A)))switch(ne&&0<ne.length&&(H=A.h,H.i=H.i.concat(ne)),qe){case 1:Ic(A,5);break;case 4:Ic(A,10);break;case 3:Ic(A,6);break;default:Ic(A,2)}}}function $m(A,H){let ne=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(ne*=2),ne*H}function Ic(A,H){if(A.j.info("Error code "+H),H==2){var ne=h(A.fb,A),we=A.Xa;const qe=!we;we=new un(we||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||In(we,"https"),Io(we),qe?sl(we.toString(),ne):Yi(we.toString(),ne)}else _n(2);A.G=0,A.l&&A.l.sa(H),Hm(A),At(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Hm(A){if(A.G=0,A.ka=[],A.l){const H=jo(A.h);(H.length!=0||A.i.length!=0)&&(x(A.ka,H),x(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function Fx(A,H,ne){var we=ne instanceof un?zt(ne):new un(ne);if(we.g!="")H&&(we.g=H+"."+we.g),On(we,we.s);else{var qe=l.location;we=qe.protocol,H=H?H+"."+qe.hostname:qe.hostname,qe=+qe.port;var Xe=new un(null);we&&In(Xe,we),H&&(Xe.g=H),qe&&On(Xe,qe),ne&&(Xe.l=ne),we=Xe}return ne=A.D,H=A.ya,ne&&H&&fr(we,ne,H),fr(we,"VER",A.la),Ds(A,we),we}function Gm(A,H,ne){if(H&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=A.Ca&&!A.pa?new Rr(new Ta({eb:ne})):new Rr(A.pa),H.Ha(A.J),H}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lx(){}e=Lx.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function $d(){}$d.prototype.g=function(A,H){return new Ks(A,H)};function Ks(A,H){Ae.call(this),this.g=new Pe(H),this.l=A,this.h=H&&H.messageUrlParams||null,A=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(A?A["X-WebChannel-Content-Type"]=H.messageContentType:A={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(A?A["X-WebChannel-Client-Profile"]=H.va:A={"X-WebChannel-Client-Profile":H.va}),this.g.S=A,(A=H&&H.Sb)&&!g(A)&&(this.g.m=A),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!g(H)&&(this.g.D=H,A=this.h,A!==null&&H in A&&(A=this.h,H in A&&delete A[H])),this.j=new Rc(this)}y(Ks,Ae),Ks.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ks.prototype.close=function(){it(this.g)},Ks.prototype.o=function(A){var H=this.g;if(typeof A=="string"){var ne={};ne.__data__=A,A=ne}else this.u&&(ne={},ne.__data__=Qt(A),A=ne);H.i.push(new bn(H.Ya++,A)),H.G==3&&Cs(H)},Ks.prototype.N=function(){this.g.l=null,delete this.j,it(this.g),delete this.g,Ks.aa.N.call(this)};function Qm(A){Cn.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var H=A.__sm__;if(H){e:{for(const ne in H){A=ne;break e}A=void 0}(this.i=A)&&(A=this.i,H=H!==null&&A in H?H[A]:void 0),this.data=H}else this.data=A}y(Qm,Cn);function Mx(){Pn.call(this),this.status=1}y(Mx,Pn);function Rc(A){this.g=A}y(Rc,Lx),Rc.prototype.ua=function(){Me(this.g,"a")},Rc.prototype.ta=function(A){Me(this.g,new Qm(A))},Rc.prototype.sa=function(A){Me(this.g,new Mx)},Rc.prototype.ra=function(){Me(this.g,"b")},$d.prototype.createWebChannel=$d.prototype.g,Ks.prototype.send=Ks.prototype.o,Ks.prototype.open=Ks.prototype.m,Ks.prototype.close=Ks.prototype.close,kz=function(){return new $d},Sz=function(){return ln()},Nz=Wt,zD={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,kw=_e,ie.COMPLETE="complete",Ez=ie,qn.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Uy=qn,Rr.prototype.listenOnce=Rr.prototype.L,Rr.prototype.getLastError=Rr.prototype.Ka,Rr.prototype.getLastErrorCode=Rr.prototype.Ba,Rr.prototype.getStatus=Rr.prototype.Z,Rr.prototype.getResponseJson=Rr.prototype.Oa,Rr.prototype.getResponseText=Rr.prototype.oa,Rr.prototype.send=Rr.prototype.ea,Rr.prototype.setWithCredentials=Rr.prototype.Ha,Tz=Rr}).apply(typeof T2<"u"?T2:typeof self<"u"?self:typeof window<"u"?window:{});const l6="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new _I("@firebase/firestore");function pg(){return Bp.logLevel}function ft(e,...t){if(Bp.logLevel<=zn.DEBUG){const n=t.map(PI);Bp.debug(`Firestore (${ax}): ${e}`,...n)}}function La(e,...t){if(Bp.logLevel<=zn.ERROR){const n=t.map(PI);Bp.error(`Firestore (${ax}): ${e}`,...n)}}function Vp(e,...t){if(Bp.logLevel<=zn.WARN){const n=t.map(PI);Bp.warn(`Firestore (${ax}): ${e}`,...n)}}function PI(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e="Unexpected state"){const t=`FIRESTORE (${ax}) INTERNAL ASSERTION FAILED: `+e;throw La(t),new Error(t)}function Zt(e,t){e||qt()}function mn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ec{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Fde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ps.UNAUTHENTICATED))}shutdown(){}}class Lde{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mde{constructor(t){this.t=t,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Zt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new cu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cu,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cu)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string"),new Az(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string"),new Ps(t)}}class Ude{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bde{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ude(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vde{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qde{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Zt(this.o===void 0);const r=s=>{s.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Zt(typeof n.token=="string"),this.R=n.token,new Vde(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wde(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Wde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function wn(e,t){return e<t?-1:e>t?1:0}function S0(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}function Dz(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new _t(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return di.fromMillis(Date.now())}static fromDate(t){return di.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new di(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?wn(this.nanoseconds,t.nanoseconds):wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new tn(t)}static min(){return new tn(new di(0,0))}static max(){return new tn(new di(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n,r){n===void 0?n=0:n>t.length&&qt(),r===void 0?r=t.length-n:r>t.length-n&&qt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return t1.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof t1?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Tr extends t1{construct(t,n,r){return new Tr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tr(n)}static emptyPath(){return new Tr([])}}const zde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends t1{construct(t,n,r){return new li(t,n,r)}static isValidIdentifier(t){return zde.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new li(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new _t(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new _t(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _t(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new _t(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new li(n)}static emptyPath(){return new li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(Tr.fromString(t))}static fromName(t){return new St(Tr.fromString(t).popFirst(5))}static empty(){return new St(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new Tr(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(t,n,r,i){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $D(e){return e.fields.find(t=>t.kind===2)}function ep(e){return e.fields.filter(t=>t.kind!==2)}E_.UNKNOWN_ID=-1;class Aw{constructor(t,n){this.fieldPath=t,this.kind=n}}class n1{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new n1(0,Yo.min())}}function $de(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=tn.fromTimestamp(r===1e9?new di(n+1,0):new di(n,r));return new Yo(i,St.empty(),t)}function jz(e){return new Yo(e.readTime,e.key,-1)}class Yo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Yo(tn.min(),St.empty(),-1)}static max(){return new Yo(tn.max(),St.empty(),-1)}}function OI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=St.comparator(e.documentKey,t.documentKey),n!==0?n:wn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==Iz)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new He((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof He?n:He.resolve(n)}catch(n){return He.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):He.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):He.reject(n)}static resolve(t){return new He((n,r)=>{n(t)})}static reject(t){return new He((n,r)=>{r(t)})}static waitFor(t){return new He((n,r)=>{let i=0,s=0,o=!1;t.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(t){let n=He.resolve(!1);for(const r of t)n=n.next(i=>i?He.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new He((r,i)=>{const s=t.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(t[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new He((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new cu,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new dv(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=FI(r.target.error);this.V.reject(new dv(t,i))}}static open(t,n,r,i){try{return new fE(n,t.transaction(i,r))}catch(s){throw new dv(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ft("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Gde(n)}}class Yf{constructor(t,n,r){this.name=t,this.version=n,this.p=r,Yf.S(us())===12.2&&La("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ft("SimpleDb","Removing database:",t),sp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!wI())return!1;if(Yf.v())return!0;const t=us(),n=Yf.S(t),r=0<n&&n<10,i=Pz(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static v(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.C)==="YES"}static F(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(t){return this.db||(ft("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new dv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new _t(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new _t(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new dv(t,o))},i.onupgradeneeded=s=>{ft("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{ft("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(t){this.N=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(t);const l=fE.open(this.db,t,s?"readonly":"readwrite",r),c=i(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),He.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(ft("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Pz(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Hde{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return sp(this.B.delete())}}class dv extends _t{constructor(t,n){super(et.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Eh(e){return e.name==="IndexedDbTransactionError"}class Gde{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(ft("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ft("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),sp(r)}add(t){return ft("SimpleDb","ADD",this.store.name,t,t),sp(this.store.add(t))}get(t){return sp(this.store.get(t)).next(n=>(n===void 0&&(n=null),ft("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return ft("SimpleDb","DELETE",this.store.name,t),sp(this.store.delete(t))}count(){return ft("SimpleDb","COUNT",this.store.name),sp(this.store.count())}U(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new He((o,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(l,c)=>{o.push(c)}).next(()=>o)}}G(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new He((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(t,n){ft("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,l)=>l.delete())}J(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.W(i,n)}Y(t){const n=this.cursor({});return new He((r,i)=>{n.onerror=s=>{const o=FI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}W(t,n){const r=[];return new He((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new Hde(l),u=n(l.primaryKey,l.value,c);if(u instanceof He){const d=u.catch(f=>(c.done(),He.reject(f)));r.push(d)}c.isDone?i():c.K===null?l.continue():l.continue(c.K)}}).next(()=>He.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.H?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function sp(e){return new He((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=FI(r.target.error);n(i)}})}let c6=!1;function FI(e){const t=Yf.S(us());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return c6||(c6=!0,setTimeout(()=>{throw r},0)),r}}return e}class Qde{constructor(t,n){this.asyncQueue=t,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(t){ft("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{ft("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Eh(n)?ft("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Tm(n)}await this.X(6e4)})}}class Kde{constructor(t,n){this.localStore=t,this.persistence=n}async ee(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,t))}te(t,n){const r=new Set;let i=n,s=!0;return He.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(o!==null&&!r.has(o))return ft("IndexBackfiller",`Processing collection: ${o}`),this.ne(t,o,i).next(l=>{i-=l,r.add(o)});s=!1})).next(()=>n-i)}ne(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(i=>this.localStore.localDocuments.getNextDocuments(t,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.re(i,s)).next(l=>(ft("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(t,n,l))).next(()=>o.size)}))}re(t,n){let r=t;return n.changes.forEach((i,s)=>{const o=jz(s);OI(o,r)>0&&(r=o)}),new Yo(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}wl.oe=-1;function hE(e){return e==null}function r1(e){return e===0&&1/e==-1/0}function Xde(e){return typeof e=="number"&&Number.isInteger(e)&&!r1(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=u6(t)),t=Yde(e.get(n),t);return u6(t)}function Yde(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function u6(e){return e+""}function eu(e){const t=e.length;if(Zt(t>=2),t===2)return Zt(e.charAt(0)===""&&e.charAt(1)===""),Tr.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const o=e.indexOf("",s);switch((o<0||o>n)&&qt(),e.charAt(o+1)){case"":const l=e.substring(s,o);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=e.substring(s,o),i+="\0";break;case"":i+=e.substring(s,o+1);break;default:qt()}s=o+2}return new Tr(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e,t){return[e,$a(t)]}function Oz(e,t,n){return[e,$a(t),n]}const Zde={},Jde=["prefixPath","collectionGroup","readTime","documentId"],efe=["prefixPath","collectionGroup","documentId"],tfe=["collectionGroup","readTime","prefixPath","documentId"],nfe=["canonicalId","targetId"],rfe=["targetId","path"],ife=["path","targetId"],sfe=["collectionId","parent"],afe=["indexId","uid"],ofe=["uid","sequenceNumber"],lfe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cfe=["indexId","uid","orderedDocumentKey"],ufe=["userId","collectionPath","documentId"],dfe=["userId","collectionPath","largestBatchId"],ffe=["userId","collectionGroup","largestBatchId"],Fz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hfe=[...Fz,"documentOverlays"],Lz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mz=Lz,LI=[...Mz,"indexConfiguration","indexState","indexEntries"],pfe=LI,mfe=[...LI,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends Rz{constructor(t,n){super(),this._e=t,this.currentSequenceNumber=n}}function hs(e,t){const n=mn(e);return Yf.F(n._e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Em(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uz(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,n){this.comparator=t,this.root=n||Os.EMPTY}insert(t,n){return new ii(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(t){return new ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Os.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new E2(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new E2(this.root,t,this.comparator,!1)}getReverseIterator(){return new E2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new E2(this.root,t,this.comparator,!0)}}class E2{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Os{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Os.RED,this.left=i??Os.EMPTY,this.right=s??Os.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Os(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Os.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Os.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Os.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const t=this.left.check();if(t!==this.right.check())throw qt();return t+(this.isRed()?0:1)}}Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1;Os.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Os(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.comparator=t,this.data=new ii(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new h6(this.data.getIterator())}getIteratorFrom(t){return new h6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pr(this.comparator);return n.data=t,n}}class h6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jm(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.fields=t,t.sort(li.comparator)}static empty(){return new xo([])}unionWith(t){let n=new Pr(li.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new xo(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return S0(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bz("Invalid base64 string: "+s):s}}(t);return new Xi(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Xi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const gfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vd(e){if(Zt(!!e),typeof e=="string"){let t=0;const n=gfe.exec(e);if(Zt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ti(e.seconds),nanos:ti(e.nanos)}}function ti(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function sh(e){return typeof e=="string"?Xi.fromBase64String(e):Xi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UI(e){const t=e.mapValue.fields.__previous_value__;return MI(t)?UI(t):t}function i1(e){const t=vd(e.mapValue.fields.__local_write_time__.timestampValue);return new di(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(t,n,r,i,s,o,l,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class qp{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dw={nullValue:"NULL_VALUE"};function Wp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?MI(e)?4:Vz(e)?9007199254740991:pE(e)?10:11:qt()}function xu(e,t){if(e===t)return!0;const n=Wp(e);if(n!==Wp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return i1(e).isEqual(i1(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vd(i.timestampValue),l=vd(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return sh(i.bytesValue).isEqual(sh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return ti(i.geoPointValue.latitude)===ti(s.geoPointValue.latitude)&&ti(i.geoPointValue.longitude)===ti(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ti(i.integerValue)===ti(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ti(i.doubleValue),l=ti(s.doubleValue);return o===l?r1(o)===r1(l):isNaN(o)&&isNaN(l)}return!1}(e,t);case 9:return S0(e.arrayValue.values||[],t.arrayValue.values||[],xu);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(f6(o)!==f6(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!xu(o[c],l[c])))return!1;return!0}(e,t);default:return qt()}}function s1(e,t){return(e.values||[]).find(n=>xu(n,t))!==void 0}function ah(e,t){if(e===t)return 0;const n=Wp(e),r=Wp(t);if(n!==r)return wn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const l=ti(s.integerValue||s.doubleValue),c=ti(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(e,t);case 3:return p6(e.timestampValue,t.timestampValue);case 4:return p6(i1(e),i1(t));case 5:return wn(e.stringValue,t.stringValue);case 6:return function(s,o){const l=sh(s),c=sh(o);return l.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=wn(l[u],c[u]);if(d!==0)return d}return wn(l.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const l=wn(ti(s.latitude),ti(o.latitude));return l!==0?l:wn(ti(s.longitude),ti(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return m6(e.arrayValue,t.arrayValue);case 10:return function(s,o){var l,c,u,d;const f=s.fields||{},h=o.fields||{},p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=(c=h.value)===null||c===void 0?void 0:c.arrayValue,m=wn(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return m!==0?m:m6(p,y)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Of.mapValue&&o===Of.mapValue)return 0;if(s===Of.mapValue)return 1;if(o===Of.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=wn(c[f],d[f]);if(h!==0)return h;const p=ah(l[c[f]],u[d[f]]);if(p!==0)return p}return wn(c.length,d.length)}(e.mapValue,t.mapValue);default:throw qt()}}function p6(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return wn(e,t);const n=vd(e),r=vd(t),i=wn(n.seconds,r.seconds);return i!==0?i:wn(n.nanos,r.nanos)}function m6(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ah(n[i],r[i]);if(s)return s}return wn(n.length,r.length)}function k0(e){return GD(e)}function GD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=vd(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return sh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return St.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=GD(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${GD(n.fields[o])}`;return i+"}"}(e.mapValue):qt()}function a1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function QD(e){return!!e&&"integerValue"in e}function o1(e){return!!e&&"arrayValue"in e}function g6(e){return!!e&&"nullValue"in e}function x6(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jw(e){return!!e&&"mapValue"in e}function pE(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Em(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=fv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Vz(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const qz={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function yfe(e){return"nullValue"in e?Dw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?a1(qp.empty(),St.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?pE(e)?qz:{mapValue:{}}:qt()}function vfe(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?a1(qp.empty(),St.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?qz:"mapValue"in e?pE(e)?{mapValue:{}}:Of:qt()}function y6(e,t){const n=ah(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function v6(e,t){const n=ah(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.value=t}static empty(){return new la({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!jw(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=fv(n)}setAll(t){let n=li.emptyPath(),r={},i=[];t.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=fv(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());jw(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];jw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Em(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new la(fv(this.value))}}function Wz(e){const t=[];return Em(e.fields,(n,r)=>{const i=new li([n]);if(jw(r)){const s=Wz(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new xo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n,r,i,s,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new yi(t,0,tn.min(),tn.min(),tn.min(),la.empty(),0)}static newFoundDocument(t,n,r,i){return new yi(t,1,n,tn.min(),r,i,0)}static newNoDocument(t,n){return new yi(t,2,n,tn.min(),tn.min(),la.empty(),0)}static newUnknownDocument(t,n){return new yi(t,3,n,tn.min(),tn.min(),la.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(tn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=la.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=la.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,n){this.position=t,this.inclusive=n}}function b6(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=St.comparator(St.fromName(o.referenceValue),n.key):r=ah(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function w6(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n="asc"){this.field=t,this.dir=n}}function bfe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zz=class{};class Hn extends zz{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new wfe(t,n,r):n==="array-contains"?new Efe(t,r):n==="in"?new Xz(t,r):n==="not-in"?new Nfe(t,r):n==="array-contains-any"?new Sfe(t,r):new Hn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new _fe(t,r):new Tfe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ah(n,this.value)):n!==null&&Wp(this.value)===Wp(n)&&this.matchesComparison(ah(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends zz{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Ar(t,n)}matches(t){return C0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function C0(e){return e.op==="and"}function KD(e){return e.op==="or"}function BI(e){return $z(e)&&C0(e)}function $z(e){for(const t of e.filters)if(t instanceof Ar)return!1;return!0}function XD(e){if(e instanceof Hn)return e.field.canonicalString()+e.op.toString()+k0(e.value);if(BI(e))return e.filters.map(t=>XD(t)).join(",");{const t=e.filters.map(n=>XD(n)).join(",");return`${e.op}(${t})`}}function Hz(e,t){return e instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.field.isEqual(i.field)&&xu(r.value,i.value)}(e,t):e instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Hz(o,i.filters[l]),!0):!1}(e,t):void qt()}function Gz(e,t){const n=e.filters.concat(t);return Ar.create(n,e.op)}function Qz(e){return e instanceof Hn?function(n){return`${n.field.canonicalString()} ${n.op} ${k0(n.value)}`}(e):e instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(Qz).join(" ,")+"}"}(e):"Filter"}class wfe extends Hn{constructor(t,n,r){super(t,n,r),this.key=St.fromName(r.referenceValue)}matches(t){const n=St.comparator(t.key,this.key);return this.matchesComparison(n)}}class _fe extends Hn{constructor(t,n){super(t,"in",n),this.keys=Kz("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Tfe extends Hn{constructor(t,n){super(t,"not-in",n),this.keys=Kz("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Kz(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>St.fromName(r.referenceValue))}class Efe extends Hn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return o1(n)&&s1(n.arrayValue,this.value)}}class Xz extends Hn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&s1(this.value.arrayValue,n)}}class Nfe extends Hn{constructor(t,n){super(t,"not-in",n)}matches(t){if(s1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!s1(this.value.arrayValue,n)}}class Sfe extends Hn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!o1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>s1(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(t,n=null,r=[],i=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function YD(e,t=null,n=[],r=[],i=null,s=null,o=null){return new kfe(e,t,n,r,i,s,o)}function zp(e){const t=mn(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>XD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>k0(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>k0(r)).join(",")),t.ue=n}return t.ue}function hb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bfe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hz(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!w6(e.startAt,t.startAt)&&w6(e.endAt,t.endAt)}function N_(e){return St.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function S_(e,t){return e.filters.filter(n=>n instanceof Hn&&n.field.isEqual(t))}function _6(e,t,n){let r=Dw,i=!0;for(const s of S_(e,t)){let o=Dw,l=!0;switch(s.op){case"<":case"<=":o=yfe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=Dw}y6({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];y6({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function T6(e,t,n){let r=Of,i=!0;for(const s of S_(e,t)){let o=Of,l=!0;switch(s.op){case">=":case">":o=vfe(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=Of}v6({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];v6({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Afe(e,t,n,r,i,s,o,l){return new ox(e,t,n,r,i,s,o,l)}function pb(e){return new ox(e)}function E6(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Yz(e){return e.collectionGroup!==null}function hv(e){const t=mn(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Pr(li.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new l1(s,r))}),n.has(li.keyField().canonicalString())||t.ce.push(new l1(li.keyField(),r))}return t.ce}function El(e){const t=mn(e);return t.le||(t.le=Cfe(t,hv(e))),t.le}function Cfe(e,t){if(e.limitType==="F")return YD(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new l1(i.field,s)});const n=e.endAt?new A0(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new A0(e.startAt.position,e.startAt.inclusive):null;return YD(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ZD(e,t){const n=e.filters.concat([t]);return new ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function JD(e,t,n){return new ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mE(e,t){return hb(El(e),El(t))&&e.limitType===t.limitType}function Zz(e){return`${zp(El(e))}|lt:${e.limitType}`}function mg(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Qz(i)).join(", ")}]`),hE(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>k0(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>k0(i)).join(",")),`Target(${r})`}(El(e))}; limitType=${e.limitType})`}function mb(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):St.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of hv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=b6(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,hv(r),i)||r.endAt&&!function(o,l,c){const u=b6(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,hv(r),i))}(e,t)}function Dfe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jz(e){return(t,n)=>{let r=!1;for(const i of hv(e)){const s=jfe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jfe(e,t,n){const r=e.field.isKeyField()?St.comparator(t.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?ah(c,u):qt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Em(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Uz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife=new ii(St.comparator);function Ho(){return Ife}const e$=new ii(St.comparator);function By(...e){let t=e$;for(const n of e)t=t.insert(n.key,n);return t}function t$(e){let t=e$;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function tu(){return pv()}function n$(){return pv()}function pv(){return new Nh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Rfe=new ii(St.comparator),Pfe=new Pr(St.comparator);function Rn(...e){let t=Pfe;for(const n of e)t=t.add(n);return t}const Ofe=new Pr(wn);function Ffe(){return Ofe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r1(t)?"-0":t}}function r$(e){return{integerValue:""+e}}function Lfe(e,t){return Xde(t)?r$(t):VI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this._=void 0}}function Mfe(e,t,n){return e instanceof D0?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&MI(s)&&(s=UI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof $p?s$(e,t):e instanceof Hp?a$(e,t):function(i,s){const o=i$(i,s),l=N6(o)+N6(i.Pe);return QD(o)&&QD(i.Pe)?r$(l):VI(i.serializer,l)}(e,t)}function Ufe(e,t,n){return e instanceof $p?s$(e,t):e instanceof Hp?a$(e,t):n}function i$(e,t){return e instanceof c1?function(r){return QD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class D0 extends gE{}class $p extends gE{constructor(t){super(),this.elements=t}}function s$(e,t){const n=o$(t);for(const r of e.elements)n.some(i=>xu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hp extends gE{constructor(t){super(),this.elements=t}}function a$(e,t){let n=o$(t);for(const r of e.elements)n=n.filter(i=>!xu(i,r));return{arrayValue:{values:n}}}class c1 extends gE{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function N6(e){return ti(e.integerValue||e.doubleValue)}function o$(e){return o1(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,n){this.field=t,this.transform=n}}function Bfe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof $p&&i instanceof $p||r instanceof Hp&&i instanceof Hp?S0(r.elements,i.elements,xu):r instanceof c1&&i instanceof c1?xu(r.Pe,i.Pe):r instanceof D0&&i instanceof D0}(e.transform,t.transform)}class Vfe{constructor(t,n){this.version=t,this.transformResults=n}}class os{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new os}static exists(t){return new os(void 0,t)}static updateTime(t){return new os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Iw(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class yE{}function l$(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new gb(e.key,os.none()):new lx(e.key,e.data,os.none());{const n=e.data,r=la.empty();let i=new Pr(li.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dd(e.key,r,new xo(i.toArray()),os.none())}}function qfe(e,t,n){e instanceof lx?function(i,s,o){const l=i.value.clone(),c=k6(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Dd?function(i,s,o){if(!Iw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=k6(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(c$(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function mv(e,t,n,r){return e instanceof lx?function(s,o,l,c){if(!Iw(s.precondition,o))return l;const u=s.value.clone(),d=A6(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dd?function(s,o,l,c){if(!Iw(s.precondition,o))return l;const u=A6(s.fieldTransforms,c,o),d=o.data;return d.setAll(c$(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,l){return Iw(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(e,t,n)}function Wfe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=i$(r.transform,i||null);s!=null&&(n===null&&(n=la.empty()),n.set(r.field,s))}return n||null}function S6(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&S0(r,i,(s,o)=>Bfe(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lx extends yE{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dd extends yE{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c$(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function k6(e,t,n){const r=new Map;Zt(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,l=t.data.field(s.field);r.set(s.field,Ufe(o,l,n[i]))}return r}function A6(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Mfe(s,o,t))}return r}class gb extends yE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u$ extends yE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&qfe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=mv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=mv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=n$();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=l$(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(tn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Rn())}isEqual(t){return this.batchId===t.batchId&&S0(this.mutations,t.mutations,(n,r)=>S6(n,r))&&S0(this.baseMutations,t.baseMutations,(n,r)=>S6(n,r))}}class WI{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Zt(t.mutations.length===r.length);let i=function(){return Rfe}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new WI(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zI=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi,or;function $fe(e){switch(e){default:return qt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0}}function d$(e){if(e===void 0)return La("GRPC error has no .code"),et.UNKNOWN;switch(e){case Mi.OK:return et.OK;case Mi.CANCELLED:return et.CANCELLED;case Mi.UNKNOWN:return et.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return et.INTERNAL;case Mi.UNAVAILABLE:return et.UNAVAILABLE;case Mi.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Mi.NOT_FOUND:return et.NOT_FOUND;case Mi.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Mi.ABORTED:return et.ABORTED;case Mi.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Mi.DATA_LOSS:return et.DATA_LOSS;default:return qt()}}(or=Mi||(Mi={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gfe=new Np([4294967295,4294967295],0);function C6(e){const t=Hfe().encode(e),n=new _z;return n.update(t),new Uint8Array(n.digest())}function D6(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Np([n,r],0),new Np([i,s],0)]}class $I{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vy(`Invalid padding: ${n}`);if(r<0)throw new Vy(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Vy(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Vy(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Np.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Np.fromNumber(r)));return i.compare(Gfe)===1&&(i=new Np([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=C6(t),[r,i]=D6(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new $I(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(t){if(this.Ie===0)return;const n=C6(t),[r,i]=D6(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Vy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,xb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new vE(tn.min(),i,new ii(wn),Ho(),Rn())}}class xb{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new xb(r,n,Rn(),Rn(),Rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class f${constructor(t,n){this.targetId=t,this.me=n}}class h${constructor(t,n,r=Xi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j6{constructor(){this.fe=0,this.ge=R6(),this.pe=Xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Rn(),n=Rn(),r=Rn();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qt()}}),new xb(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=R6()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qfe{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ho(),this.qe=I6(),this.Qe=new ii(wn)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:qt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(N_(s))if(r===0){const o=new St(s.path);this.Ue(n,o,yi.newNoDocument(o,tn.min()))}else Zt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(t),c=l?this.Xe(l,t,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=sh(r).toUint8Array()}catch(c){if(c instanceof Bz)return Vp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new $I(o,i,s)}catch(c){return Vp(c instanceof Vy?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&N_(l.target)){const c=new St(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,yi.newNoDocument(c,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Rn();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new vE(t,n,this.Qe,this.ke,r);return this.ke=Ho(),this.qe=I6(),this.Qe=new ii(wn),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new j6,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Pr(wn),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new j6),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function I6(){return new ii(St.comparator)}function R6(){return new ii(St.comparator)}const Kfe={asc:"ASCENDING",desc:"DESCENDING"},Xfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yfe={and:"AND",or:"OR"};class Zfe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ej(e,t){return e.useProto3Json||hE(t)?t:{value:t}}function j0(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function p$(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jfe(e,t){return j0(e,t.toTimestamp())}function Ha(e){return Zt(!!e),tn.fromTimestamp(function(n){const r=vd(n);return new di(r.seconds,r.nanos)}(e))}function HI(e,t){return tj(e,t).canonicalString()}function tj(e,t){const n=function(i){return new Tr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function m$(e){const t=Tr.fromString(e);return Zt(E$(t)),t}function k_(e,t){return HI(e.databaseId,t.path)}function Sp(e,t){const n=m$(t);if(n.get(1)!==e.databaseId.projectId)throw new _t(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _t(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new St(y$(n))}function g$(e,t){return HI(e.databaseId,t)}function x$(e){const t=m$(e);return t.length===4?Tr.emptyPath():y$(t)}function nj(e){return new Tr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function y$(e){return Zt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function P6(e,t,n){return{name:k_(e,t),fields:n.value.mapValue.fields}}function ehe(e,t,n){const r=Sp(e,t.name),i=Ha(t.updateTime),s=t.createTime?Ha(t.createTime):tn.min(),o=new la({mapValue:{fields:t.fields}}),l=yi.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function the(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:qt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Zt(d===void 0||typeof d=="string"),Xi.fromBase64String(d||"")):(Zt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Xi.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(u){const d=u.code===void 0?et.UNKNOWN:d$(u.code);return new _t(d,u.message||"")}(o);n=new h$(r,i,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sp(e,r.document.name),s=Ha(r.document.updateTime),o=r.document.createTime?Ha(r.document.createTime):tn.min(),l=new la({mapValue:{fields:r.document.fields}}),c=yi.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Rw(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Sp(e,r.document),s=r.readTime?Ha(r.readTime):tn.min(),o=yi.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Rw([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Sp(e,r.document),s=r.removedTargetIds||[];n=new Rw([],s,i,null)}else{if(!("filter"in t))return qt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zfe(i,s),l=r.targetId;n=new f$(l,o)}}return n}function A_(e,t){let n;if(t instanceof lx)n={update:P6(e,t.key,t.value)};else if(t instanceof gb)n={delete:k_(e,t.key)};else if(t instanceof Dd)n={update:P6(e,t.key,t.data),updateMask:ohe(t.fieldMask)};else{if(!(t instanceof u$))return qt();n={verify:k_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof D0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $p)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof c1)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw qt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Jfe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qt()}(e,t.precondition)),n}function rj(e,t){const n=t.currentDocument?function(s){return s.updateTime!==void 0?os.updateTime(Ha(s.updateTime)):s.exists!==void 0?os.exists(s.exists):os.none()}(t.currentDocument):os.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(o,l){let c=null;if("setToServerValue"in l)Zt(l.setToServerValue==="REQUEST_TIME"),c=new D0;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new $p(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new Hp(d)}else"increment"in l?c=new c1(o,l.increment):qt();const u=li.fromServerFormat(l.fieldPath);return new xE(u,c)}(e,i)):[];if(t.update){t.update.name;const i=Sp(e,t.update.name),s=new la({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=function(c){const u=c.fieldPaths||[];return new xo(u.map(d=>li.fromServerFormat(d)))}(t.updateMask);return new Dd(i,s,o,n,r)}return new lx(i,s,n,r)}if(t.delete){const i=Sp(e,t.delete);return new gb(i,n)}if(t.verify){const i=Sp(e,t.verify);return new u$(i,n)}return qt()}function nhe(e,t){return e&&e.length>0?(Zt(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Ha(i.updateTime):Ha(s);return o.isEqual(tn.min())&&(o=Ha(s)),new Vfe(o,i.transformResults||[])}(n,t))):[]}function v$(e,t){return{documents:[g$(e,t.path)]}}function b$(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g$(e,i);const s=function(u){if(u.length!==0)return T$(Ar.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:gg(h.field),direction:ihe(h.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ej(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function w$(e){let t=x$(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=_$(f);return h instanceof Ar&&BI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new l1(xg(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,hE(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new A0(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new A0(p,h)}(n.endAt)),Afe(t,i,o,s,l,"F",c,u)}function rhe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _$(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xg(n.unaryFilter.field);return Hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xg(n.unaryFilter.field);return Hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xg(n.unaryFilter.field);return Hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xg(n.unaryFilter.field);return Hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(e):e.fieldFilter!==void 0?function(n){return Hn.create(xg(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>_$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qt()}}(n.compositeFilter.op))}(e):qt()}function ihe(e){return Kfe[e]}function she(e){return Xfe[e]}function ahe(e){return Yfe[e]}function gg(e){return{fieldPath:e.canonicalString()}}function xg(e){return li.fromServerFormat(e.fieldPath)}function T$(e){return e instanceof Hn?function(n){if(n.op==="=="){if(x6(n.value))return{unaryFilter:{field:gg(n.field),op:"IS_NAN"}};if(g6(n.value))return{unaryFilter:{field:gg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x6(n.value))return{unaryFilter:{field:gg(n.field),op:"IS_NOT_NAN"}};if(g6(n.value))return{unaryFilter:{field:gg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gg(n.field),op:she(n.op),value:n.value}}}(e):e instanceof Ar?function(n){const r=n.getFilters().map(i=>T$(i));return r.length===1?r[0]:{compositeFilter:{op:ahe(n.op),filters:r}}}(e):qt()}function ohe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function E$(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n,r,i,s=tn.min(),o=tn.min(),l=Xi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Yu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(t){this.ct=t}}function lhe(e,t){let n;if(t.document)n=ehe(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=St.fromSegments(t.noDocument.path),i=Qp(t.noDocument.readTime);n=yi.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qt();{const r=St.fromSegments(t.unknownDocument.path),i=Qp(t.unknownDocument.version);n=yi.newUnknownDocument(r,i)}}return t.readTime&&n.setReadTime(function(i){const s=new di(i[0],i[1]);return tn.fromTimestamp(s)}(t.readTime)),n}function O6(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:C_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(s,o){return{name:k_(s,o.key),fields:o.data.value.mapValue.fields,updateTime:j0(s,o.version.toTimestamp()),createTime:j0(s,o.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Gp(t.version)};else{if(!t.isUnknownDocument())return qt();r.unknownDocument={path:n.path.toArray(),version:Gp(t.version)}}return r}function C_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gp(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Qp(e){const t=new di(e.seconds,e.nanoseconds);return tn.fromTimestamp(t)}function ap(e,t){const n=(t.baseMutations||[]).map(s=>rj(e.ct,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];if(s+1<t.mutations.length&&t.mutations[s+1].transform!==void 0){const l=t.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(s=>rj(e.ct,s)),i=di.fromMillis(t.localWriteTimeMs);return new qI(t.batchId,i,n,r)}function qy(e){const t=Qp(e.readTime),n=e.lastLimboFreeSnapshotVersion!==void 0?Qp(e.lastLimboFreeSnapshotVersion):tn.min();let r;return r=function(s){return s.documents!==void 0}(e.query)?function(s){return Zt(s.documents.length===1),El(pb(x$(s.documents[0])))}(e.query):function(s){return El(w$(s))}(e.query),new Yu(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Xi.fromBase64String(e.resumeToken))}function S$(e,t){const n=Gp(t.snapshotVersion),r=Gp(t.lastLimboFreeSnapshotVersion);let i;i=N_(t.target)?v$(e.ct,t.target):b$(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zp(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function k$(e){const t=w$({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?JD(t,t.limit,"L"):t}function xk(e,t){return new zI(t.largestBatchId,rj(e.ct,t.overlayMutation))}function F6(e,t){const n=t.path.lastSegment();return[e,$a(t.path.popLast()),n]}function L6(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Gp(r.readTime),documentKey:$a(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class che{getBundleMetadata(t,n){return M6(t).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Qp(s.createTime),version:s.version}}(r)})}saveBundleMetadata(t,n){return M6(t).put(function(i){return{bundleId:i.id,createTime:Gp(Ha(i.createTime)),version:i.version}}(n))}getNamedQuery(t,n){return U6(t).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:k$(s.bundledQuery),readTime:Qp(s.readTime)}}(r)})}saveNamedQuery(t,n){return U6(t).put(function(i){return{name:i.name,readTime:Gp(Ha(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function M6(e){return hs(e,"bundles")}function U6(e){return hs(e,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,n){this.serializer=t,this.userId=n}static lt(t,n){const r=n.uid||"";return new bE(t,r)}getOverlay(t,n){return cy(t).get(F6(this.userId,n)).next(r=>r?xk(this.serializer,r):null)}getOverlays(t,n){const r=tu();return He.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){const i=[];return r.forEach((s,o)=>{const l=new zI(n,o);i.push(this.ht(t,l))}),He.waitFor(i)}removeOverlaysForBatchId(t,n,r){const i=new Set;n.forEach(o=>i.add($a(o.getCollectionPath())));const s=[];return i.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(cy(t).j("collectionPathOverlayIndex",l))}),He.waitFor(s)}getOverlaysForCollection(t,n,r){const i=tu(),s=$a(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cy(t).U("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const u=xk(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(t,n,r,i){const s=tu();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cy(t).J({index:"collectionGroupOverlayIndex",range:l},(c,u,d)=>{const f=xk(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(t,n){return cy(t).put(function(i,s,o){const[l,c,u]=F6(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:A_(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function cy(e){return hs(e,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{Pt(t){return hs(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Xi.fromUint8Array(r):Xi.EMPTY_BYTE_STRING})}setSessionToken(t,n){return this.Pt(t).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){}It(t,n){this.Tt(t,n),n.Et()}Tt(t,n){if("nullValue"in t)this.dt(n,5);else if("booleanValue"in t)this.dt(n,10),n.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(n,15),n.At(ti(t.integerValue));else if("doubleValue"in t){const r=ti(t.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),r1(r)?n.At(0):n.At(r))}else if("timestampValue"in t){let r=t.timestampValue;this.dt(n,20),typeof r=="string"&&(r=vd(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,n),this.ft(n);else if("bytesValue"in t)this.dt(n,30),n.gt(sh(t.bytesValue)),this.ft(n);else if("referenceValue"in t)this.yt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in t?Vz(t)?this.dt(n,Number.MAX_SAFE_INTEGER):pE(t)?this.wt(t.mapValue,n):(this.St(t.mapValue,n),this.ft(n)):"arrayValue"in t?(this.bt(t.arrayValue,n),this.ft(n)):qt()}Vt(t,n){this.dt(n,25),this.Dt(t,n)}Dt(t,n){n.Rt(t)}St(t,n){const r=t.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(t,n){var r,i;const s=t.fields||{};this.dt(n,53);const o="value",l=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ti(l)),this.Vt(o,n),this.Tt(s[o],n)}bt(t,n){const r=t.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(t,n){this.dt(n,37),St.fromName(t).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(t,n){t.At(n)}ft(t){t.At(2)}}op.vt=new op;function dhe(e){if(e===0)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function B6(e){const t=64-function(r){let i=0;for(let s=0;s<8;++s){const o=dhe(255&r[s]);if(i+=o,o!==8)break}return i}(e);return Math.ceil(t/8)}class fhe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(t){const n=this.qt(t),r=B6(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(t){const n=this.qt(t),r=B6(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(t){const n=255&t;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(t){const n=255&t;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hhe{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class phe{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class uy{constructor(){this.jt=new fhe,this.Ht=new hhe(this.jt),this.Jt=new phe(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return t===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n,r,i){this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new lp(this.indexId,this.documentKey,this.arrayValue,r)}}function tf(e,t){let n=e.indexId-t.indexId;return n!==0?n:(n=V6(e.arrayValue,t.arrayValue),n!==0?n:(n=V6(e.directionalValue,t.directionalValue),n!==0?n:St.comparator(e.documentKey,t.documentKey)))}function V6(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(r!==0)return r}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(t){this.Xt=new Pr((n,r)=>li.comparator(n.field,r.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const n of t.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(t){if(Zt(t.collectionGroup===this.collectionId),this.nn)return!1;const n=$D(t);if(n!==void 0&&!this.sn(n))return!1;const r=ep(t);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!i.has(l.field.canonicalString())){const c=r[s];if(!this.on(l,c)||!this._n(this.en[o++],c))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.en.length||!this._n(this.en[o++],l))return!1}return!0}an(){if(this.nn)return null;let t=new Pr(li.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Aw(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new Aw(r.field,0))}for(const r of this.en)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new Aw(r.field,r.dir==="asc"?0:1)));return new E_(E_.UNKNOWN_ID,this.collectionId,n,n1.empty())}sn(t){for(const n of this.tn)if(this.on(n,t))return!0;return!1}on(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}_n(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(e){var t,n;if(Zt(e instanceof Hn||e instanceof Ar),e instanceof Hn){if(e instanceof Xz){const i=((n=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(s=>Hn.create(e.field,"==",s)))||[];return Ar.create(i,"or")}return e}const r=e.filters.map(i=>A$(i));return Ar.create(r,e.op)}function mhe(e){if(e.getFilters().length===0)return[];const t=aj(A$(e));return Zt(C$(t)),ij(t)||sj(t)?[t]:t.getFilters()}function ij(e){return e instanceof Hn}function sj(e){return e instanceof Ar&&BI(e)}function C$(e){return ij(e)||sj(e)||function(n){if(n instanceof Ar&&KD(n)){for(const r of n.getFilters())if(!ij(r)&&!sj(r))return!1;return!0}return!1}(e)}function aj(e){if(Zt(e instanceof Hn||e instanceof Ar),e instanceof Hn)return e;if(e.filters.length===1)return aj(e.filters[0]);const t=e.filters.map(r=>aj(r));let n=Ar.create(t,e.op);return n=D_(n),C$(n)?n:(Zt(n instanceof Ar),Zt(C0(n)),Zt(n.filters.length>1),n.filters.reduce((r,i)=>GI(r,i)))}function GI(e,t){let n;return Zt(e instanceof Hn||e instanceof Ar),Zt(t instanceof Hn||t instanceof Ar),n=e instanceof Hn?t instanceof Hn?function(i,s){return Ar.create([i,s],"and")}(e,t):W6(e,t):t instanceof Hn?W6(t,e):function(i,s){if(Zt(i.filters.length>0&&s.filters.length>0),C0(i)&&C0(s))return Gz(i,s.getFilters());const o=KD(i)?i:s,l=KD(i)?s:i,c=o.filters.map(u=>GI(u,l));return Ar.create(c,"or")}(e,t),D_(n)}function W6(e,t){if(C0(t))return Gz(t,e.getFilters());{const n=t.filters.map(r=>GI(e,r));return Ar.create(n,"or")}}function D_(e){if(Zt(e instanceof Hn||e instanceof Ar),e instanceof Hn)return e;const t=e.getFilters();if(t.length===1)return D_(t[0]);if($z(e))return e;const n=t.map(i=>D_(i)),r=[];return n.forEach(i=>{i instanceof Hn?r.push(i):i instanceof Ar&&(i.op===e.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ar.create(r,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(){this.un=new QI}addToCollectionParentIndex(t,n){return this.un.add(n),He.resolve()}getCollectionParents(t,n){return He.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return He.resolve()}deleteFieldIndex(t,n){return He.resolve()}deleteAllFieldIndexes(t){return He.resolve()}createTargetIndexes(t,n){return He.resolve()}getDocumentsMatchingTarget(t,n){return He.resolve(null)}getIndexType(t,n){return He.resolve(0)}getFieldIndexes(t,n){return He.resolve([])}getNextCollectionGroupToUpdate(t){return He.resolve(null)}getMinOffset(t,n){return He.resolve(Yo.min())}getMinOffsetFromCollectionGroup(t,n){return He.resolve(Yo.min())}updateCollectionGroup(t,n,r){return He.resolve()}updateIndexEntries(t,n){return He.resolve()}}class QI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Pr(Tr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Pr(Tr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Uint8Array(0);class xhe{constructor(t,n){this.databaseId=n,this.cn=new QI,this.ln=new Nh(r=>zp(r),(r,i)=>hb(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();t.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:$a(i)};return z6(t).put(s)}return He.resolve()}getCollectionParents(t,n){const r=[],i=IDBKeyRange.bound([n,""],[Dz(n),""],!1,!0);return z6(t).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(eu(o.parent))}return r})}addFieldIndex(t,n){const r=dy(t),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=tg(t);return s.next(l=>{o.put(L6(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(t,n){const r=dy(t),i=tg(t),s=eg(t);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const n=dy(t),r=eg(t),i=tg(t);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(t,n){return He.forEach(this.hn(n),r=>this.getIndexType(t,r).next(i=>{if(i===0||i===1){const s=new q6(r).an();if(s!=null)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,n){const r=eg(t);let i=!0;const s=new Map;return He.forEach(this.hn(n),o=>this.Pn(t,o).next(l=>{i&&(i=!!l),s.set(o,l)})).next(()=>{if(i){let o=Rn();const l=[];return He.forEach(s,(c,u)=>{ft("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(c)} to execute ${zp(n)}`);const d=function(b,w){const T=$D(w);if(T===void 0)return null;for(const k of S_(b,T.fieldPath))switch(k.op){case"array-contains-any":return k.value.arrayValue.values||[];case"array-contains":return[k.value]}return null}(u,c),f=function(b,w){const T=new Map;for(const k of ep(w))for(const _ of S_(b,k.fieldPath))switch(_.op){case"==":case"in":T.set(k.fieldPath.canonicalString(),_.value);break;case"not-in":case"!=":return T.set(k.fieldPath.canonicalString(),_.value),Array.from(T.values())}return null}(u,c),h=function(b,w){const T=[];let k=!0;for(const _ of ep(w)){const N=_.kind===0?_6(b,_.fieldPath,b.startAt):T6(b,_.fieldPath,b.startAt);T.push(N.value),k&&(k=N.inclusive)}return new A0(T,k)}(u,c),p=function(b,w){const T=[];let k=!0;for(const _ of ep(w)){const N=_.kind===0?T6(b,_.fieldPath,b.endAt):_6(b,_.fieldPath,b.endAt);T.push(N.value),k&&(k=N.inclusive)}return new A0(T,k)}(u,c),y=this.In(c,u,h),m=this.In(c,u,p),x=this.Tn(c,u,f),v=this.En(c.indexId,d,y,h.inclusive,m,p.inclusive,x);return He.forEach(v,g=>r.G(g,n.limit).next(b=>{b.forEach(w=>{const T=St.fromSegments(w.documentKey);o.has(T)||(o=o.add(T),l.push(T))})}))}).next(()=>l)}return He.resolve(null)})}hn(t){let n=this.ln.get(t);return n||(t.filters.length===0?n=[t]:n=mhe(Ar.create(t.filters,"and")).map(r=>YD(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,n),n)}En(t,n,r,i,s,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){const h=n?this.dn(n[f/u]):N2,p=this.An(t,h,r[f%u],i),y=this.Rn(t,h,s[f%u],o),m=l.map(x=>this.An(t,h,x,!0));d.push(...this.createRange(p,y,m))}return d}An(t,n,r,i){const s=new lp(t,St.empty(),n,r);return i?s:s.Zt()}Rn(t,n,r,i){const s=new lp(t,St.empty(),n,r);return i?s.Zt():s}Pn(t,n){const r=new q6(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let o=null;for(const l of s)r.rn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(t,n){let r=2;const i=this.hn(n);return He.forEach(i,s=>this.Pn(t,s).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Pr(li.comparator),d=!1;for(const f of c.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?d=!0:u=u.add(h.field));for(const f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(t,n){const r=new uy;for(const i of ep(t)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);op.vt.It(s,o)}return r.zt()}dn(t){const n=new uy;return op.vt.It(t,n.Yt(0)),n.zt()}mn(t,n){const r=new uy;return op.vt.It(a1(this.databaseId,n),r.Yt(function(s){const o=ep(s);return o.length===0?0:o[o.length-1].kind}(t))),r.zt()}Tn(t,n,r){if(r===null)return[];let i=[];i.push(new uy);let s=0;for(const o of ep(t)){const l=r[s++];for(const c of i)if(this.fn(n,o.fieldPath)&&o1(l))i=this.gn(i,o,l);else{const u=c.Yt(o.kind);op.vt.It(l,u)}}return this.pn(i)}In(t,n,r){return this.Tn(t,n,r.position)}pn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].zt();return n}gn(t,n,r){const i=[...t],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const c=new uy;c.seed(l.zt()),op.vt.It(o,c.Yt(n.kind)),s.push(c)}return s}fn(t,n){return!!t.filters.find(r=>r instanceof Hn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,n){const r=dy(t),i=tg(t);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return He.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{o.push(function(d,f){const h=f?new n1(f.sequenceNumber,new Yo(Qp(f.readTime),new St(eu(f.documentKey)),f.largestBatchId)):n1.empty(),p=d.fields.map(([y,m])=>new Aw(li.fromServerFormat(y),m));return new E_(d.indexId,d.collectionGroup,p,h)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:wn(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,r){const i=dy(t),s=tg(t);return this.yn(t).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>He.forEach(l,c=>s.put(L6(c.indexId,this.uid,o,r)))))}updateIndexEntries(t,n){const r=new Map;return He.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?He.resolve(o):this.getFieldIndexes(t,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),He.forEach(l,c=>this.wn(t,i,c).next(u=>{const d=this.Sn(s,c);return u.isEqual(d)?He.resolve():this.bn(t,s,c,u,d)}))))})}Dn(t,n,r,i){return eg(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(t,n,r,i){return eg(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(t,n,r){const i=eg(t);let s=new Pr(tf);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,l)=>{s=s.add(new lp(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>s)}Sn(t,n){let r=new Pr(tf);const i=this.Vn(n,t);if(i==null)return r;const s=$D(n);if(s!=null){const o=t.data.field(s.fieldPath);if(o1(o))for(const l of o.arrayValue.values||[])r=r.add(new lp(n.indexId,t.key,this.dn(l),i))}else r=r.add(new lp(n.indexId,t.key,N2,i));return r}bn(t,n,r,i,s){ft("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,u,d,f,h){const p=c.getIterator(),y=u.getIterator();let m=Jm(p),x=Jm(y);for(;m||x;){let v=!1,g=!1;if(m&&x){const b=d(m,x);b<0?g=!0:b>0&&(v=!0)}else m!=null?g=!0:v=!0;v?(f(x),x=Jm(y)):g?(h(m),m=Jm(p)):(m=Jm(p),x=Jm(y))}}(i,s,tf,l=>{o.push(this.Dn(t,n,r,l))},l=>{o.push(this.vn(t,n,r,l))}),He.waitFor(o)}yn(t){let n=1;return tg(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(t,n,r){r=r.sort((o,l)=>tf(o,l)).filter((o,l,c)=>!l||tf(o,c[l-1])!==0);const i=[];i.push(t);for(const o of r){const l=tf(o,t),c=tf(o,n);if(l===0)i[0]=t.Zt();else if(l>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const l=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,N2,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,N2,[]];s.push(IDBKeyRange.bound(l,c))}return s}Cn(t,n){return tf(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next($6)}getMinOffset(t,n){return He.mapArray(this.hn(n),r=>this.Pn(t,r).next(i=>i||qt())).next($6)}}function z6(e){return hs(e,"collectionParents")}function eg(e){return hs(e,"indexEntries")}function dy(e){return hs(e,"indexConfiguration")}function tg(e){return hs(e,"indexState")}function $6(e){Zt(e.length!==0);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;OI(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yo(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new lo(t,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.J({range:o},(d,f,h)=>(l++,h.delete()));s.push(c.next(()=>{Zt(l===1)}));const u=[];for(const d of n.mutations){const f=Oz(t,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return He.waitFor(s).next(()=>u)}function j_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qt();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class wE{constructor(t,n,r,i){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(t,n,r,i){Zt(t.uid!=="");const s=t.isAuthenticated()?t.uid:"";return new wE(s,n,r,i)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nf(t).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(t,n,r,i){const s=yg(t),o=nf(t);return o.add({}).next(l=>{Zt(typeof l=="number");const c=new qI(l,n,r,i),u=function(p,y,m){const x=m.baseMutations.map(g=>A_(p.ct,g)),v=m.mutations.map(g=>A_(p.ct,g));return{userId:y,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:x,mutations:v}}(this.serializer,this.userId,c),d=[];let f=new Pr((h,p)=>wn(h.canonicalString(),p.canonicalString()));for(const h of i){const p=Oz(this.userId,h.key.path,l);f=f.add(h.key.path.popLast()),d.push(o.put(u)),d.push(s.put(p,Zde))}return f.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(t,h))}),t.addOnCommittedListener(()=>{this.Fn[l]=c.keys()}),He.waitFor(d).next(()=>c)})}lookupMutationBatch(t,n){return nf(t).get(n).next(r=>r?(Zt(r.userId===this.userId),ap(this.serializer,r)):null)}Mn(t,n){return this.Fn[n]?He.resolve(this.Fn[n]):this.lookupMutationBatch(t,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return nf(t).J({index:"userMutationsIndex",range:i},(o,l,c)=>{l.userId===this.userId&&(Zt(l.batchId>=r),s=ap(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return nf(t).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nf(t).U("userMutationsIndex",n).next(r=>r.map(i=>ap(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=Cw(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return yg(t).J({range:i},(o,l,c)=>{const[u,d,f]=o,h=eu(d);if(u===this.userId&&n.path.isEqual(h))return nf(t).get(f).next(p=>{if(!p)throw qt();Zt(p.userId===this.userId),s.push(ap(this.serializer,p))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pr(wn);const i=[];return n.forEach(s=>{const o=Cw(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=yg(t).J({range:l},(u,d,f)=>{const[h,p,y]=u,m=eu(p);h===this.userId&&s.path.isEqual(m)?r=r.add(y):f.done()});i.push(c)}),He.waitFor(i).next(()=>this.xn(t,r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1,s=Cw(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new Pr(wn);return yg(t).J({range:o},(c,u,d)=>{const[f,h,p]=c,y=eu(h);f===this.userId&&r.isPrefixOf(y)?y.length===i&&(l=l.add(p)):d.done()}).next(()=>this.xn(t,l))}xn(t,n){const r=[],i=[];return n.forEach(s=>{i.push(nf(t).get(s).next(o=>{if(o===null)throw qt();Zt(o.userId===this.userId),r.push(ap(this.serializer,o))}))}),He.waitFor(i).next(()=>r)}removeMutationBatch(t,n){return D$(t._e,this.userId,n).next(r=>(t.addOnCommittedListener(()=>{this.On(n.batchId)}),He.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return He.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return yg(t).J({range:r},(s,o,l)=>{if(s[0]===this.userId){const c=eu(s[1]);i.push(c)}else l.done()}).next(()=>{Zt(i.length===0)})})}containsKey(t,n){return j$(t,this.userId,n)}Nn(t){return I$(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function j$(e,t,n){const r=Cw(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return yg(e).J({range:s,H:!0},(l,c,u)=>{const[d,f,h]=l;d===t&&f===i&&(o=!0),u.done()}).next(()=>o)}function nf(e){return hs(e,"mutations")}function yg(e){return hs(e,"documentMutations")}function I$(e){return hs(e,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Kp(0)}static kn(){return new Kp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.qn(t).next(n=>{const r=new Kp(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(n=>tn.fromTimestamp(new di(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.qn(t).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(t,i)))}addTargetData(t,n){return this.Kn(t,n).next(()=>this.qn(t).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(t,r))))}updateTargetData(t,n){return this.Kn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>ng(t).delete(n.targetId)).next(()=>this.qn(t)).next(r=>(Zt(r.targetCount>0),r.targetCount-=1,this.Qn(t,r)))}removeTargets(t,n,r){let i=0;const s=[];return ng(t).J((o,l)=>{const c=qy(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(t,c)))}).next(()=>He.waitFor(s)).next(()=>i)}forEachTarget(t,n){return ng(t).J((r,i)=>{const s=qy(i);n(s)})}qn(t){return G6(t).get("targetGlobalKey").next(n=>(Zt(n!==null),n))}Qn(t,n){return G6(t).put("targetGlobalKey",n)}Kn(t,n){return ng(t).put(S$(this.serializer,n))}$n(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.qn(t).next(n=>n.targetCount)}getTargetData(t,n){const r=zp(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ng(t).J({range:i,index:"queryTargetsIndex"},(o,l,c)=>{const u=qy(l);hb(n,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(t,n,r){const i=[],s=_f(t);return n.forEach(o=>{const l=$a(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(t,r,o))}),He.waitFor(i)}removeMatchingKeys(t,n,r){const i=_f(t);return He.forEach(n,s=>{const o=$a(s.path);return He.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,n){const r=_f(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_f(t);let s=Rn();return i.J({range:r,H:!0},(o,l,c)=>{const u=eu(o[1]),d=new St(u);s=s.add(d)}).next(()=>s)}containsKey(t,n){const r=$a(n.path),i=IDBKeyRange.bound([r],[Dz(r)],!1,!0);let s=0;return _f(t).J({index:"documentTargetsIndex",H:!0,range:i},([o,l],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(t,n){return ng(t).get(n).next(r=>r?qy(r):null)}}function ng(e){return hs(e,"targets")}function G6(e){return hs(e,"targetGlobal")}function _f(e){return hs(e,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6([e,t],[n,r]){const i=wn(e,n);return i===0?wn(t,r):i}class vhe{constructor(t){this.Un=t,this.buffer=new Pr(Q6),this.Wn=0}Gn(){return++this.Wn}zn(t){const n=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Q6(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bhe{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(t){ft("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eh(n)?ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Tm(n)}await this.Hn(3e5)})}}class whe{constructor(t,n){this.Jn=t,this.params=n}calculateTargetCount(t,n){return this.Jn.Yn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return He.resolve(wl.oe);const r=new vhe(n);return this.Jn.forEachTarget(t,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(t,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Jn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Jn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(H6)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H6):this.Xn(t,n))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,n){let r,i,s,o,l,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(t,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),pg()<=zn.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function _he(e,t){return new whe(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class The{constructor(t,n){this.db=t,this.garbageCollector=_he(this,n)}Yn(t){const n=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}er(t){let n=0;return this.Zn(t,r=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Zn(t,n){return this.tr(t,(r,i)=>n(i))}addReference(t,n,r){return S2(t,r)}removeReference(t,n,r){return S2(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return S2(t,n)}nr(t,n){return function(i,s){let o=!1;return I$(i).Y(l=>j$(i,l,s).next(c=>(c&&(o=!0),He.resolve(!c)))).next(()=>o)}(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(t,(o,l)=>{if(l<=n){const c=this.nr(t,o).next(u=>{if(!u)return s++,r.getEntry(t,o).next(()=>(r.removeEntry(o,tn.min()),_f(t).delete(function(f){return[0,$a(f.path)]}(o))))});i.push(c)}}).next(()=>He.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return S2(t,n)}tr(t,n){const r=_f(t);let i,s=wl.oe;return r.J({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:u})=>{o===0?(s!==wl.oe&&n(new St(eu(i)),s),s=u,i=c):s=wl.oe}).next(()=>{s!==wl.oe&&n(new St(eu(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function S2(e,t){return _f(e).put(function(r,i){return{targetId:0,path:$a(r.path),sequenceNumber:i}}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.changes=new Nh(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?He.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Gh(t).put(r)}removeEntry(t,n,r){return Gh(t).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],C_(o),l[l.length-1]]}(n,r))}updateMetadata(t,n){return this.getMetadata(t).next(r=>(r.byteSize+=n,this.rr(t,r)))}getEntry(t,n){let r=yi.newInvalidDocument(n);return Gh(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(fy(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(t,n){let r={size:0,document:yi.newInvalidDocument(n)};return Gh(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(fy(n))},(i,s)=>{r={document:this.ir(n,s),size:j_(s)}}).next(()=>r)}getEntries(t,n){let r=Ho();return this._r(t,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(t,n){let r=Ho(),i=new ii(St.comparator);return this._r(t,n,(s,o)=>{const l=this.ir(s,o);r=r.insert(s,l),i=i.insert(s,j_(o))}).next(()=>({documents:r,ur:i}))}_r(t,n,r){if(n.isEmpty())return He.resolve();let i=new Pr(Y6);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(fy(i.first()),fy(i.last())),o=i.getIterator();let l=o.getNext();return Gh(t).J({index:"documentKeyIndex",range:s},(c,u,d)=>{const f=St.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&Y6(l,f)<0;)r(l,null),l=o.getNext();l&&l.isEqual(f)&&(r(l,u),l=o.hasNext()?o.getNext():null),l?d.$(fy(l)):d.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),C_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gh(t).U(IDBKeyRange.bound(l,c,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=Ho();for(const f of u){const h=this.ir(St.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(mb(n,h)||i.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(t,n,r,i){let s=Ho();const o=X6(n,r),l=X6(n,Yo.max());return Gh(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,u,d)=>{const f=this.ir(St.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(t){return new Nhe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return K6(t).get("remoteDocumentGlobalKey").next(n=>(Zt(!!n),n))}rr(t,n){return K6(t).put("remoteDocumentGlobalKey",n)}ir(t,n){if(n){const r=lhe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(tn.min())))return r}return yi.newInvalidDocument(t)}}function P$(e){return new Ehe(e)}class Nhe extends R${constructor(t,n){super(),this.cr=t,this.trackRemovals=n,this.lr=new Nh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const n=[];let r=0,i=new Pr((s,o)=>wn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.lr.get(s);if(n.push(this.cr.removeEntry(t,s,l.readTime)),o.isValidDocument()){const c=O6(this.cr.serializer,o);i=i.add(s.path.popLast());const u=j_(c);r+=u-l.size,n.push(this.cr.addEntry(t,s,c))}else if(r-=l.size,this.trackRemovals){const c=O6(this.cr.serializer,o.convertToNoDocument(tn.min()));n.push(this.cr.addEntry(t,s,c))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(t,s))}),n.push(this.cr.updateMetadata(t,r)),He.waitFor(n)}getFromCache(t,n){return this.cr.sr(t,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,n){return this.cr.ar(t,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function K6(e){return hs(e,"remoteDocumentGlobal")}function Gh(e){return hs(e,"remoteDocumentsV14")}function fy(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function X6(e,t){const n=t.documentKey.path.toArray();return[e,C_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Y6(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=wn(n[s],r[s]),i)return i;return i=wn(n.length,r.length),i||(i=wn(n[n.length-2],r[r.length-2]),i||wn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class She{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&mv(r.mutation,i,xo.empty(),di.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Rn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Rn()){const i=tu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=By();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=tu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Rn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(t,n,r,i){let s=Ho();const o=pv(),l=function(){return pv()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Dd)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),mv(d.mutation,u,d.mutation.getFieldMask(),di.now())):o.set(u.key,xo.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new She(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(t,n){const r=pv();let i=new ii((o,l)=>o-l),s=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||xo.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||Rn()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=n$();d.forEach(h=>{if(!s.has(h)){const p=l$(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return He.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return St.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Yz(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):He.resolve(tu());let l=-1,c=s;return o.next(u=>He.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?He.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,c,u,Rn())).next(d=>({batchId:l,changes:t$(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new St(n)).next(r=>{let i=By();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=By();return this.indexManager.getCollectionParents(t,s).next(l=>He.forEach(l,c=>{const u=function(f,h){return new ox(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,yi.newInvalidDocument(d)))});let l=By();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&mv(d.mutation,u,xo.empty(),di.now()),mb(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class khe{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return He.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ha(i.createTime)}}(n)),He.resolve()}getNamedQuery(t,n){return He.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:k$(i.bundledQuery),readTime:Ha(i.readTime)}}(n)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(){this.overlays=new ii(St.comparator),this.Ir=new Map}getOverlay(t,n){return He.resolve(this.overlays.get(n))}getOverlays(t,n){const r=tu();return He.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),He.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),He.resolve()}getOverlaysForCollection(t,n,r){const i=tu(),s=n.length+1,o=new St(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return He.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ii((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=tu(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=tu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return He.resolve(l)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zI(n,r));let s=this.Ir.get(n);s===void 0&&(s=Rn(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Che{constructor(){this.sessionToken=Xi.EMPTY_BYTE_STRING}getSessionToken(t){return He.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.Tr=new Pr(ws.Er),this.dr=new Pr(ws.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new ws(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new ws(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new St(new Tr([])),r=new ws(n,t),i=new ws(n,t+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new St(new Tr([])),r=new ws(n,t),i=new ws(n,t+1);let s=Rn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ws(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ws{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return St.comparator(t.key,n.key)||wn(t.wr,n.wr)}static Ar(t,n){return wn(t.wr,n.wr)||St.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dhe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pr(ws.Er)}checkEmpty(t){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qI(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new ws(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return He.resolve(o)}lookupMutationBatch(t,n){return He.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return He.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ws(n,0),i=new ws(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),He.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pr(wn);return n.forEach(i=>{const s=new ws(i,0),o=new ws(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),He.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;St.isDocumentKey(s)||(s=s.child(""));const o=new ws(new St(s),0);let l=new Pr(wn);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),He.resolve(this.Cr(l))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Zt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return He.forEach(n.mutations,i=>{const s=new ws(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new ws(n,0),i=this.br.firstAfterOrEqual(r);return He.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,He.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(t){this.Mr=t,this.docs=function(){return new ii(St.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return He.resolve(r?r.document.mutableCopy():yi.newInvalidDocument(n))}getEntries(t,n){let r=Ho();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yi.newInvalidDocument(i))}),He.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ho();const o=n.path,l=new St(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||OI(jz(d),r)<=0||(i.has(d.key)||mb(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return He.resolve(s)}getAllFromCollectionGroup(t,n,r,i){qt()}Or(t,n){return He.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Ihe(this)}getSize(t){return He.resolve(this.size)}}class Ihe extends R${constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),He.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{constructor(t){this.persistence=t,this.Nr=new Nh(n=>zp(n),hb),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new KI,this.targetCount=0,this.kr=Kp.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),He.resolve()}getLastRemoteSnapshotVersion(t){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return He.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),He.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Kp(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,He.resolve()}updateTargetData(t,n){return this.Kn(n),He.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,He.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),He.waitFor(s).next(()=>i)}getTargetCount(t){return He.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return He.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),He.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),He.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),He.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return He.resolve(r)}containsKey(t,n){return He.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(t,n){this.qr={},this.overlays={},this.Qr=new wl(0),this.Kr=!1,this.Kr=!0,this.$r=new Che,this.referenceDelegate=t(this),this.Ur=new Rhe(this),this.indexManager=new ghe,this.remoteDocumentCache=function(i){return new jhe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new N$(n),this.Gr=new khe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ahe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new Dhe(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){ft("MemoryPersistence","Starting transaction:",t);const i=new Phe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,n){return He.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class Phe extends Rz{constructor(t){super(),this.currentSequenceNumber=t}}class _E{constructor(t){this.persistence=t,this.Jr=new KI,this.Yr=null}static Zr(t){return new _E(t)}get Xr(){if(this.Yr)return this.Yr;throw qt()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),He.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),He.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),He.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.Xr,r=>{const i=St.fromPath(r);return this.ei(t,i).next(s=>{s||n.removeEntry(i,tn.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return He.or([()=>He.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{constructor(t){this.serializer=t}O(t,n,r,i){const s=new fE("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(t),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",d6,{unique:!0}),c.createObjectStore("documentMutations")}(t),Z6(t),function(c){c.createObjectStore("remoteDocuments")}(t));let o=He.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),Z6(t)),o=o.next(()=>function(c){const u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tn.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",d6,{unique:!0});const f=u.store("mutations"),h=d.map(p=>f.put(p));return He.waitFor(h)})}(t,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(t,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore("documentOverlays",{keyPath:ufe});u.createIndex("collectionPathOverlayIndex",dfe,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",ffe,{unique:!1})})(t)})),r<13&&i>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:Jde});u.createIndex("documentKeyIndex",efe),u.createIndex("collectionGroupIndex",tfe)}(t)).next(()=>this._i(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(t,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:afe}).createIndex("sequenceNumberIndex",ofe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:lfe}).createIndex("documentKeyIndex",cfe,{unique:!1})}(t))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(t)})),o}ri(t){let n=0;return t.store("remoteDocuments").J((r,i)=>{n+=j_(i)}).next(()=>{const r={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(t){const n=t.store("mutationQueues"),r=t.store("mutations");return n.U().next(i=>He.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(l=>He.forEach(l,c=>{Zt(c.userId===s.userId);const u=ap(this.serializer,c);return D$(t,s.userId,u).next(()=>{})}))}))}ii(t){const n=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,l)=>{const c=new Tr(o),u=function(f){return[0,$a(f)]}(c);s.push(n.get(u).next(d=>d?He.resolve():(f=>n.put({targetId:0,path:$a(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>He.waitFor(s))})}si(t,n){t.createObjectStore("collectionParents",{keyPath:sfe});const r=n.store("collectionParents"),i=new QI,s=o=>{if(i.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:$a(c)})}};return n.store("remoteDocuments").J({H:!0},(o,l)=>{const c=new Tr(o);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,l,c],u)=>{const d=eu(l);return s(d.popLast())}))}oi(t){const n=t.store("targets");return n.J((r,i)=>{const s=qy(i),o=S$(this.serializer,s);return n.put(o)})}_i(t,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const l=n.store("remoteDocumentsV14"),c=function(f){return f.document?new St(Tr.fromString(f.document.name).popFirst(5)):f.noDocument?St.fromSegments(f.noDocument.path):f.unknownDocument?St.fromSegments(f.unknownDocument.path):qt()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(u))}).next(()=>He.waitFor(i))}ai(t,n){const r=n.store("mutations"),i=P$(this.serializer),s=new F$(_E.Zr,this.serializer.ct);return r.U().next(o=>{const l=new Map;return o.forEach(c=>{var u;let d=(u=l.get(c.userId))!==null&&u!==void 0?u:Rn();ap(this.serializer,c).keys().forEach(f=>d=d.add(f)),l.set(c.userId,d)}),He.forEach(l,(c,u)=>{const d=new Ps(u),f=bE.lt(this.serializer,d),h=s.getIndexManager(d),p=wE.lt(d,this.serializer,h,s.referenceDelegate);return new O$(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new HD(n,wl.oe),c).next()})})}}function Z6(e){e.createObjectStore("targetDocuments",{keyPath:rfe}).createIndex("documentTargetsIndex",ife,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nfe,{unique:!0}),e.createObjectStore("targetGlobal")}const yk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XI{constructor(t,n,r,i,s,o,l,c,u,d,f=17){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=l,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!XI.D())throw new _t(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new The(this,i),this.Ai=n+"main",this.serializer=new N$(c),this.Ri=new Yf(this.Ai,this.hi,new Ohe(this.serializer)),this.$r=new uhe,this.Ur=new yhe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=P$(this.serializer),this.Gr=new che,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&La("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(et.FAILED_PRECONDITION,yk);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new wl(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){return this.di=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>k2(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(n=>this.isPrimary&&!n?this.bi(t).next(()=>!1):!!n&&this.Di(t).next(()=>!0))).catch(t=>{if(Eh(t))return ft("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return hy(t).get("owner").next(n=>He.resolve(this.vi(n)))}Ci(t){return k2(t).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=hs(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(l=>s.indexOf(l)===-1);return He.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of t)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?He.resolve(!0):hy(t).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new _t(et.FAILED_PRECONDITION,yk);return!1}}return!(!this.networkEnabled||!this.inForeground)||k2(t).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ft("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new HD(t,wl.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(t,n){return t.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>k2(t).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,n){return wE.lt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new xhe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return bE.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,n,r){ft("IndexedDbPersistence","Starting transaction:",t);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===17?mfe:c===16?pfe:c===15?LI:c===14?Mz:c===13?Lz:c===12?hfe:c===11?Fz:void qt()}(this.hi);let o;return this.Ri.runTransaction(t,i,s,l=>(o=new HD(l,this.Qr?this.Qr.next():wl.oe),n==="readwrite-primary"?this.wi(o).next(c=>!!c||this.Si(o)).next(c=>{if(!c)throw La(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new _t(et.FAILED_PRECONDITION,Iz);return r(o)}).next(c=>this.Di(o).next(()=>c)):this.Ki(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Ki(t){return hy(t).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(et.FAILED_PRECONDITION,yk)})}Di(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hy(t).put("owner",n)}static D(){return Yf.D()}bi(t){const n=hy(t);return n.get("owner").next(r=>this.vi(r)?(ft("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):He.resolve())}Mi(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(La(`Detected an update time that is in the future: ${t} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;PW()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(t)))!==null;return ft("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return La("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){La("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function hy(e){return hs(e,"owner")}function k2(e){return hs(e,"clientMetadata")}function Fhe(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=Rn(),i=Rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new YI(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lhe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PW()?8:Pz(us())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Lhe;return this.Xi(t,n,o).next(l=>{if(s.result=l,this.zi)return this.es(t,n,o,l.size)})}).next(()=>s.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(pg()<=zn.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",mg(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),He.resolve()):(pg()<=zn.DEBUG&&ft("QueryEngine","Query:",mg(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pg()<=zn.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",mg(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,El(n))):He.resolve())}Yi(t,n){if(E6(n))return He.resolve(null);let r=El(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=JD(n,null,"F"),r=El(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Rn(...s);return this.Ji.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(t,JD(n,null,"F")):this.rs(t,u,n,c)}))})))}Zi(t,n,r,i){return E6(n)||i.isEqual(tn.min())?He.resolve(null):this.Ji.getDocuments(t,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?He.resolve(null):(pg()<=zn.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mg(n)),this.rs(t,o,n,$de(i,-1)).next(l=>l))})}ts(t,n){let r=new Pr(Jz(t));return n.forEach((i,s)=>{mb(t,s)&&(r=r.add(s))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,n,r){return pg()<=zn.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",mg(n)),this.Ji.getDocumentsMatchingQuery(t,n,Yo.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new ii(wn),this._s=new Nh(s=>zp(s),hb),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new O$(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function M$(e,t,n,r){return new Mhe(e,t,n,r)}async function U$(e,t){const n=mn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Rn();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function Uhe(e,t){const n=mn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let p=He.resolve();return h.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(m=>{const x=u.docVersions.get(y);Zt(x!==null),m.version.compareTo(x)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Rn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function B$(e){const t=mn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function Bhe(e,t){const n=mn(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];t.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Xi.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(m,x,v){return m.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,d)&&l.push(n.Ur.updateTargetData(s,p))});let c=Ho(),u=Rn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(Vhe(s,o,t.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(tn.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return He.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function Vhe(e,t,n){let r=Rn(),i=Rn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ho();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(tn.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):ft("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function qhe(e,t){const n=mn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Whe(e,t){const n=mn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(s=>s?(i=s,He.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Yu(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function oj(e,t,n){const r=mn(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Eh(o))throw o;ft("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function J6(e,t,n){const r=mn(e);let i=tn.min(),s=Rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=mn(c),h=f._s.get(d);return h!==void 0?He.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,El(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,t,n?i:tn.min(),n?s:Rn())).next(l=>(zhe(r,Dfe(t),l),{documents:l,Ts:s})))}function zhe(e,t,n){let r=e.us.get(t)||tn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.us.set(t,r)}class e8{constructor(){this.activeTargetIds=Ffe()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V${constructor(){this.so=new e8,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new e8,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A2=null;function vk(){return A2===null?A2=function(){return 268435456+Math.round(2147483648*Math.random())}():A2++,"0x"+A2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="WebChannelConnection";class Qhe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=vk(),c=this.xo(n,r.toUriEncodedString());ft("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(ft("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Vp("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ax}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Hhe[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const s=vk();return new Promise((o,l)=>{const c=new Tz;c.setWithCredentials(!0),c.listenOnce(Ez.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kw.NO_ERROR:const d=c.getResponseJson();ft(ta,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case kw.TIMEOUT:ft(ta,`RPC '${t}' ${s} timed out`),l(new _t(et.DEADLINE_EXCEEDED,"Request time out"));break;case kw.HTTP_ERROR:const f=c.getStatus();if(ft(ta,`RPC '${t}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(v)>=0?v:et.UNKNOWN}(p.status);l(new _t(y,p.message))}else l(new _t(et.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new _t(et.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{ft(ta,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);ft(ta,`RPC '${t}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=vk(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=kz(),l=Sz(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");ft(ta,`Creating RPC '${t}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,p=!1;const y=new Ghe({Io:x=>{p?ft(ta,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(h||(ft(ta,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),ft(ta,`RPC '${t}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),m=(x,v,g)=>{x.listen(v,b=>{try{g(b)}catch(w){setTimeout(()=>{throw w},0)}})};return m(f,Uy.EventType.OPEN,()=>{p||(ft(ta,`RPC '${t}' stream ${i} transport opened.`),y.yo())}),m(f,Uy.EventType.CLOSE,()=>{p||(p=!0,ft(ta,`RPC '${t}' stream ${i} transport closed`),y.So())}),m(f,Uy.EventType.ERROR,x=>{p||(p=!0,Vp(ta,`RPC '${t}' stream ${i} transport errored:`,x),y.So(new _t(et.UNAVAILABLE,"The operation could not be completed")))}),m(f,Uy.EventType.MESSAGE,x=>{var v;if(!p){const g=x.data[0];Zt(!!g);const b=g,w=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(w){ft(ta,`RPC '${t}' stream ${i} received error:`,w);const T=w.status;let k=function(C){const I=Mi[C];if(I!==void 0)return d$(I)}(T),_=w.message;k===void 0&&(k=et.INTERNAL,_="Unknown error status: "+T+" with message "+w.message),p=!0,y.So(new _t(k,_)),f.close()}else ft(ta,`RPC '${t}' stream ${i} received:`,g),y.bo(g)}}),m(l,Nz.STAT_EVENT,x=>{x.stat===zD.PROXY?ft(ta,`RPC '${t}' stream ${i} detected buffering proxy`):x.stat===zD.NOPROXY&&ft(ta,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Khe(){return typeof window<"u"?window:null}function Pw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e){return new Zfe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(t,n,r=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(t,n,r,i,s,o,l,c){this.ui=t,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q$(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(La(n.toString()),La("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new _t(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ft("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xhe extends W${constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=the(this.serializer,t),r=function(s){if(!("targetChange"in s))return tn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?tn.min():o.readTime?Ha(o.readTime):tn.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=nj(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=N_(c)?{documents:v$(s,c)}:{query:b$(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=p$(s,o.resumeToken);const u=ej(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(tn.min())>0){l.readTime=j0(s,o.snapshotVersion.toTimestamp());const u=ej(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,t);const r=rhe(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=nj(this.serializer),n.removeTarget=t,this.a_(n)}}class Yhe extends W${constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=nhe(t.writeResults,t.commitTime),r=Ha(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=nj(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>A_(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new _t(et.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,tj(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _t(et.UNKNOWN,s.toString())})}Lo(t,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(t,tj(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _t(et.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Jhe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(La(n),this.D_=!1):ft("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class epe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Nm(this)&&(ft("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=mn(c);u.L_.add(4),await yb(u),u.q_.set("Unknown"),u.L_.delete(4),await EE(u)}(this))})}),this.q_=new Jhe(r,i)}}async function EE(e){if(Nm(e))for(const t of e.B_)await t(!0)}async function yb(e){for(const t of e.B_)await t(!1)}function z$(e,t){const n=mn(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),t3(n)?e3(n):cx(n).r_()&&JI(n,t))}function ZI(e,t){const n=mn(e),r=cx(n);n.N_.delete(t),r.r_()&&$$(n,t),n.N_.size===0&&(r.r_()?r.o_():Nm(n)&&n.q_.set("Unknown"))}function JI(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cx(e).A_(t)}function $$(e,t){e.Q_.xe(t),cx(e).R_(t)}function e3(e){e.Q_=new Qfe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),cx(e).start(),e.q_.v_()}function t3(e){return Nm(e)&&!cx(e).n_()&&e.N_.size>0}function Nm(e){return mn(e).L_.size===0}function H$(e){e.Q_=void 0}async function tpe(e){e.q_.set("Online")}async function npe(e){e.N_.forEach((t,n)=>{JI(e,t)})}async function rpe(e,t){H$(e),t3(e)?(e.q_.M_(t),e3(e)):e.q_.set("Unknown")}async function ipe(e,t,n){if(e.q_.set("Online"),t instanceof h$&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(e,t)}catch(r){ft("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await I_(e,r)}else if(t instanceof Rw?e.Q_.Ke(t):t instanceof f$?e.Q_.He(t):e.Q_.We(t),!n.isEqual(tn.min()))try{const r=await B$(e.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(Xi.EMPTY_BYTE_STRING,d.snapshotVersion)),$$(s,c);const f=new Yu(d.target,c,u,d.sequenceNumber);JI(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(r){ft("RemoteStore","Failed to raise snapshot:",r),await I_(e,r)}}async function I_(e,t,n){if(!Eh(t))throw t;e.L_.add(1),await yb(e),e.q_.set("Offline"),n||(n=()=>B$(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await EE(e)})}function G$(e,t){return t().catch(n=>I_(e,n,t))}async function vb(e){const t=mn(e),n=oh(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;spe(t);)try{const i=await qhe(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,ape(t,i)}catch(i){await I_(t,i)}Q$(t)&&K$(t)}function spe(e){return Nm(e)&&e.O_.length<10}function ape(e,t){e.O_.push(t);const n=oh(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Q$(e){return Nm(e)&&!oh(e).n_()&&e.O_.length>0}function K$(e){oh(e).start()}async function ope(e){oh(e).p_()}async function lpe(e){const t=oh(e);for(const n of e.O_)t.m_(n.mutations)}async function cpe(e,t,n){const r=e.O_.shift(),i=WI.from(r,t,n);await G$(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await vb(e)}async function upe(e,t){t&&oh(e).V_&&await async function(r,i){if(function(o){return $fe(o)&&o!==et.ABORTED}(i.code)){const s=r.O_.shift();oh(r).s_(),await G$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vb(r)}}(e,t),Q$(e)&&K$(e)}async function n8(e,t){const n=mn(e);n.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const r=Nm(n);n.L_.add(3),await yb(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await EE(n)}async function dpe(e,t){const n=mn(e);t?(n.L_.delete(2),await EE(n)):t||(n.L_.add(2),await yb(n),n.q_.set("Unknown"))}function cx(e){return e.K_||(e.K_=function(n,r,i){const s=mn(n);return s.w_(),new Xhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:tpe.bind(null,e),Ro:npe.bind(null,e),mo:rpe.bind(null,e),d_:ipe.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),t3(e)?e3(e):e.q_.set("Unknown")):(await e.K_.stop(),H$(e))})),e.K_}function oh(e){return e.U_||(e.U_=function(n,r,i){const s=mn(n);return s.w_(),new Yhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ope.bind(null,e),mo:upe.bind(null,e),f_:lpe.bind(null,e),g_:cpe.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await vb(e)):(await e.U_.stop(),e.O_.length>0&&(ft("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new n3(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r3(e,t){if(La("AsyncQueue",`${t}: ${e}`),Eh(e))return new _t(et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t){this.comparator=t?(n,r)=>t(n,r)||St.comparator(n.key,r.key):(n,r)=>St.comparator(n.key,r.key),this.keyedMap=By(),this.sortedSet=new ii(this.comparator)}static emptySet(t){return new Jg(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Jg)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Jg;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.W_=new ii(St.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):qt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class I0{constructor(t,n,r,i,s,o,l,c,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new I0(t,n,Jg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class hpe{constructor(){this.queries=i8(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=mn(n),s=i.queries;i.queries=i8(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new _t(et.ABORTED,"Firestore shutting down"))}}function i8(){return new Nh(e=>Zz(e),mE)}async function i3(e,t){const n=mn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new fpe,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=r3(o,`Initialization of query '${mg(t.query)}' failed`);return void t.onError(l)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&a3(n)}async function s3(e,t){const n=mn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ppe(e,t){const n=mn(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&a3(n)}function mpe(e,t,n){const r=mn(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function a3(e){e.Y_.forEach(t=>{t.next()})}var lj,s8;(s8=lj||(lj={})).ea="default",s8.Cache="cache";class o3{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new I0(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=I0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==lj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(t){this.key=t}}class Y${constructor(t){this.key=t}}class gpe{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Rn(),this.mutatedKeys=Rn(),this.Aa=Jz(t),this.Ra=new Jg(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new r8,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const h=i.get(d),p=mb(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?y!==m&&(r.track({type:3,doc:p}),x=!0):this.ga(h,p)||(r.track({type:2,doc:p}),x=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(l=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(c||u)&&(l=!0)),x&&(p?(o=o.add(p),s=m?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,f)=>function(p,y){const m=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return m(p)-m(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new I0(this.query,t.Ra,s,o,t.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new r8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Rn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new Y$(r))}),this.da.forEach(r=>{t.has(r)||n.push(new X$(r))}),n}ba(t){this.Ta=t.Ts,this.da=Rn();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return I0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xpe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class ype{constructor(t){this.key=t,this.va=!1}}class vpe{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Nh(l=>Zz(l),mE),this.Ma=new Map,this.xa=new Set,this.Oa=new ii(St.comparator),this.Na=new Map,this.La=new KI,this.Ba={},this.ka=new Map,this.qa=Kp.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bpe(e,t,n=!0){const r=rH(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Z$(r,t,n,!0),i}async function wpe(e,t){const n=rH(e);await Z$(n,t,!0,!1)}async function Z$(e,t,n,r){const i=await Whe(e.localStore,El(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await _pe(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&z$(e.remoteStore,i),l}async function _pe(e,t,n,r,i){e.Ka=(f,h,p)=>async function(m,x,v,g){let b=x.view.ma(v);b.ns&&(b=await J6(m.localStore,x.query,!1).then(({documents:_})=>x.view.ma(_,b)));const w=g&&g.targetChanges.get(x.targetId),T=g&&g.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(b,m.isPrimaryClient,w,T);return o8(m,x.targetId,k.wa),k.snapshot}(e,f,h,p);const s=await J6(e.localStore,t,!0),o=new gpe(t,s.Ts),l=o.ma(s.documents),c=xb.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(l,e.isPrimaryClient,c);o8(e,n,u.wa);const d=new xpe(t,n,o);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function Tpe(e,t,n){const r=mn(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!mE(o,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oj(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZI(r.remoteStore,i.targetId),cj(r,i.targetId)}).catch(Tm)):(cj(r,i.targetId),await oj(r.localStore,i.targetId,!0))}async function Epe(e,t){const n=mn(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(n.remoteStore,r.targetId))}async function Npe(e,t,n){const r=iH(e);try{const i=await function(o,l){const c=mn(o),u=di.now(),d=l.reduce((p,y)=>p.add(y.key),Rn());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Ho(),m=Rn();return c.cs.getEntries(p,d).next(x=>{y=x,y.forEach((v,g)=>{g.isValidDocument()||(m=m.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(x=>{f=x;const v=[];for(const g of l){const b=Wfe(g,f.get(g.key).overlayedDocument);b!=null&&v.push(new Dd(g.key,b,Wz(b.value.mapValue),os.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,v,l)}).next(x=>{h=x;const v=x.applyToLocalDocumentSet(f,m);return c.documentOverlayCache.saveOverlays(p,x.batchId,v)})}).then(()=>({batchId:h.batchId,changes:t$(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new ii(wn)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await bb(r,i.changes),await vb(r.remoteStore)}catch(i){const s=r3(i,"Failed to persist write");n.reject(s)}}async function J$(e,t){const n=mn(e);try{const r=await Bhe(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Zt(o.va):i.removedDocuments.size>0&&(Zt(o.va),o.va=!1))}),await bb(n,r,t)}catch(r){await Tm(r)}}function a8(e,t,n){const r=mn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(t);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=mn(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&a3(c)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Spe(e,t,n){const r=mn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let o=new ii(St.comparator);o=o.insert(s,yi.newNoDocument(s,tn.min()));const l=Rn().add(s),c=new vE(tn.min(),new Map,new ii(wn),o,l);await J$(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(t),l3(r)}else await oj(r.localStore,t,!1).then(()=>cj(r,t,n)).catch(Tm)}async function kpe(e,t){const n=mn(e),r=t.batch.batchId;try{const i=await Uhe(n.localStore,t);tH(n,r,null),eH(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bb(n,i)}catch(i){await Tm(i)}}async function Ape(e,t,n){const r=mn(e);try{const i=await function(o,l){const c=mn(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Zt(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,t);tH(r,t,n),eH(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bb(r,i)}catch(i){await Tm(i)}}function eH(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function tH(e,t,n){const r=mn(e);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function cj(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||nH(e,r)})}function nH(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(ZI(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),l3(e))}function o8(e,t,n){for(const r of n)r instanceof X$?(e.La.addReference(r.key,t),Cpe(e,r)):r instanceof Y$?(ft("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||nH(e,r.key)):qt()}function Cpe(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ft("SyncEngine","New document in limbo: "+n),e.xa.add(r),l3(e))}function l3(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new St(Tr.fromString(t)),r=e.qa.next();e.Na.set(r,new ype(n)),e.Oa=e.Oa.insert(n,r),z$(e.remoteStore,new Yu(El(pb(n.path)),r,"TargetPurposeLimboResolution",wl.oe))}}async function bb(e,t,n){const r=mn(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,t,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=YI.Wi(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const d=mn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>He.forEach(u,h=>He.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>He.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Eh(f))throw f;ft("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),y=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,m)}}}(r.localStore,s))}async function Dpe(e,t){const n=mn(e);if(!n.currentUser.isEqual(t)){ft("SyncEngine","User change. New user:",t.toKey());const r=await U$(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new _t(et.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await bb(n,r.hs)}}function jpe(e,t){const n=mn(e),r=n.Na.get(t);if(r&&r.va)return Rn().add(r.key);{let i=Rn();const s=n.Ma.get(t);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function rH(e){const t=mn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=J$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jpe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Spe.bind(null,t),t.Ca.d_=ppe.bind(null,t.eventManager),t.Ca.$a=mpe.bind(null,t.eventManager),t}function iH(e){const t=mn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kpe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ape.bind(null,t),t}class u1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=TE(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return M$(this.persistence,new L$,t.initialUser,this.serializer)}Ga(t){return new F$(_E.Zr,this.serializer)}Wa(t){return new V$}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}u1.provider={build:()=>new u1};class Ipe extends u1{constructor(t,n,r){super(),this.Ja=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Ja.initialize(this,t),await iH(this.Ja.syncEngine),await vb(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(t){return M$(this.persistence,new L$,t.initialUser,this.serializer)}ja(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new bhe(r,t.asyncQueue,n)}Ha(t,n){const r=new Kde(n,this.persistence);return new Qde(t.asyncQueue,r)}Ga(t){const n=Fhe(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new XI(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,Khe(),Pw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new V$}}class R_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dpe.bind(null,this.syncEngine),await dpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hpe}()}createDatastore(t){const n=TE(t.databaseInfo.databaseId),r=function(s){return new Qhe(s)}(t.databaseInfo);return function(s,o,l,c){return new Zhe(s,o,l,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,l){return new epe(r,i,s,o,l)}(this.localStore,this.datastore,t.asyncQueue,n=>a8(this.syncEngine,n,0),function(){return t8.D()?new t8:new $he}())}createSyncEngine(t,n){return function(i,s,o,l,c,u,d){const f=new vpe(i,s,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=mn(i);ft("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await yb(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):La("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ps.UNAUTHENTICATED,this.clientId=Cz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ft("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ft("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=r3(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function bk(e,t){e.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U$(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function l8(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ppe(e);ft("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>n8(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>n8(t.remoteStore,i)),e._onlineComponents=t}async function Ppe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft("FirestoreClient","Using user provided OfflineComponentProvider");try{await bk(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vp("Error using user provided cache. Falling back to memory cache: "+n),await bk(e,new u1)}}else ft("FirestoreClient","Using default OfflineComponentProvider"),await bk(e,new u1);return e._offlineComponents}async function sH(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft("FirestoreClient","Using user provided OnlineComponentProvider"),await l8(e,e._uninitializedComponentsProvider._online)):(ft("FirestoreClient","Using default OnlineComponentProvider"),await l8(e,new R_))),e._onlineComponents}function Ope(e){return sH(e).then(t=>t.syncEngine)}async function P_(e){const t=await sH(e),n=t.eventManager;return n.onListen=bpe.bind(null,t.syncEngine),n.onUnlisten=Tpe.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wpe.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Epe.bind(null,t.syncEngine),n}function Fpe(e,t,n={}){const r=new cu;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new c3({next:h=>{d.Za(),o.enqueueAndForget(()=>s3(s,f));const p=h.docs.has(l);!p&&h.fromCache?u.reject(new _t(et.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new _t(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new o3(pb(l.path),d,{includeMetadataChanges:!0,_a:!0});return i3(s,f)}(await P_(e),e.asyncQueue,t,n,r)),r.promise}function Lpe(e,t,n={}){const r=new cu;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new c3({next:h=>{d.Za(),o.enqueueAndForget(()=>s3(s,f)),h.fromCache&&c.source==="server"?u.reject(new _t(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new o3(l,d,{includeMetadataChanges:!0,_a:!0});return i3(s,f)}(await P_(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(e,t,n){if(!n)throw new _t(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Mpe(e,t,n,r){if(t===!0&&r===!0)throw new _t(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function u8(e){if(!St.isDocumentKey(e))throw new _t(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function d8(e){if(St.isDocumentKey(e))throw new _t(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function NE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qt()}function ha(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _t(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=NE(e);throw new _t(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new _t(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mpe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aH((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class SE{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f8({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f8(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fde;switch(r.type){case"firstParty":return new Bde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c8.get(n);r&&(ft("ComponentProvider","Removing Datastore"),c8.delete(n),r.terminate())}(this),Promise.resolve()}}function Upe(e,t,n,r={}){var i;const s=(e=ha(e,SE))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ps.MOCK_USER;else{l=RW(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new _t(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ps(u)}e._authCredentials=new Lde(new Az(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class pa{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pa(this.firestore,t,this._key)}}class Zf extends Sh{constructor(t,n,r){super(t,n,pb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pa(this.firestore,null,new St(t))}withConverter(t){return new Zf(this.firestore,t,this._path)}}function Dt(e,t,...n){if(e=xr(e),oH("collection","path",t),e instanceof SE){const r=Tr.fromString(t,...n);return d8(r),new Zf(e,null,r)}{if(!(e instanceof pa||e instanceof Zf))throw new _t(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tr.fromString(t,...n));return d8(r),new Zf(e.firestore,null,r)}}function Ye(e,t,...n){if(e=xr(e),arguments.length===1&&(t=Cz.newId()),oH("doc","path",t),e instanceof SE){const r=Tr.fromString(t,...n);return u8(r),new pa(e,null,new St(r))}{if(!(e instanceof pa||e instanceof Zf))throw new _t(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tr.fromString(t,...n));return u8(r),new pa(e.firestore,e instanceof Zf?e.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new q$(this,"async_queue_retry"),this.Vu=()=>{const r=Pw();r&&ft("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Pw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Pw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new cu;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Eh(t))throw t;ft("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw La("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=n3.createAndSchedule(this,t,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&qt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function p8(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class gc extends SE{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new h8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h8(t),this._firestoreClient=void 0,await t}}}function Bpe(e,t){const n=typeof e=="object"?e:oE(),r=typeof e=="string"?e:"(default)",i=bm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DW("firestore");s&&Upe(i,...s)}return i}function wb(e){if(e._terminated)throw new _t(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lH(e),e._firestoreClient}function lH(e){var t,n,r;const i=e._freezeSettings(),s=function(l,c,u,d){return new xfe(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aH(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Rpe(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}function Vpe(e,t){Vp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return qpe(e,R_.provider,{build:r=>new Ipe(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function qpe(e,t,n){if((e=ha(e,gc))._firestoreClient||e._terminated)throw new _t(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new _t(et.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},lH(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this._byteString=t}static fromBase64String(t){try{return new R0(Xi.fromBase64String(t))}catch(n){throw new _t(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new R0(Xi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wn(this._lat,t._lat)||wn(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=/^__.*__$/;class zpe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Dd(t,this.data,this.fieldMask,n,this.fieldTransforms):new lx(t,this.data,n,this.fieldTransforms)}}class cH{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Dd(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function uH(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class kE{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new kE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return O_(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(uH(this.Cu)&&Wpe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class $pe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||TE(t)}Qu(t,n,r,i=!1){return new kE({Cu:t,methodName:n,qu:r,path:li.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tb(e){const t=e._freezeSettings(),n=TE(e._databaseId);return new $pe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function f3(e,t,n,r,i,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);g3("Data must be an object, but it was:",o,r);const l=pH(r,o);let c,u;if(s.merge)c=new xo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=uj(t,f,n);if(!o.contains(h))throw new _t(et.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gH(d,h)||d.push(h)}c=new xo(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new zpe(new la(l),c,u)}class AE extends ux{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof AE}}function dH(e,t,n){return new kE({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class h3 extends ux{_toFieldTransform(t){return new xE(t.path,new D0)}isEqual(t){return t instanceof h3}}class p3 extends ux{constructor(t,n){super(t),this.Ku=n}_toFieldTransform(t){const n=dH(this,t,!0),r=this.Ku.map(s=>Sm(s,n)),i=new $p(r);return new xE(t.path,i)}isEqual(t){return t instanceof p3&&E0(this.Ku,t.Ku)}}class m3 extends ux{constructor(t,n){super(t),this.Ku=n}_toFieldTransform(t){const n=dH(this,t,!0),r=this.Ku.map(s=>Sm(s,n)),i=new Hp(r);return new xE(t.path,i)}isEqual(t){return t instanceof m3&&E0(this.Ku,t.Ku)}}function fH(e,t,n,r){const i=e.Qu(1,t,n);g3("Data must be an object, but it was:",i,r);const s=[],o=la.empty();Em(r,(c,u)=>{const d=x3(t,c,n);u=xr(u);const f=i.Nu(d);if(u instanceof AE)s.push(d);else{const h=Sm(u,f);h!=null&&(s.push(d),o.set(d,h))}});const l=new xo(s);return new cH(o,l,i.fieldTransforms)}function hH(e,t,n,r,i,s){const o=e.Qu(1,t,n),l=[uj(t,r,n)],c=[i];if(s.length%2!=0)throw new _t(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)l.push(uj(t,s[h])),c.push(s[h+1]);const u=[],d=la.empty();for(let h=l.length-1;h>=0;--h)if(!gH(u,l[h])){const p=l[h];let y=c[h];y=xr(y);const m=o.Nu(p);if(y instanceof AE)u.push(p);else{const x=Sm(y,m);x!=null&&(u.push(p),d.set(p,x))}}const f=new xo(u);return new cH(d,f,o.fieldTransforms)}function Hpe(e,t,n,r=!1){return Sm(n,e.Qu(r?4:3,t))}function Sm(e,t){if(mH(e=xr(e)))return g3("Unsupported field value:",t,e),pH(e,t);if(e instanceof ux)return function(r,i){if(!uH(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Sm(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=xr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lfe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=di.fromDate(r);return{timestampValue:j0(i.serializer,s)}}if(r instanceof di){const s=new di(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:j0(i.serializer,s)}}if(r instanceof u3)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof R0)return{bytesValue:p$(i.serializer,r._byteString)};if(r instanceof pa){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:HI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof d3)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return VI(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${NE(r)}`)}(e,t)}function pH(e,t){const n={};return Uz(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Em(e,(r,i)=>{const s=Sm(i,t.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mH(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof di||e instanceof u3||e instanceof R0||e instanceof pa||e instanceof ux||e instanceof d3)}function g3(e,t,n){if(!mH(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=NE(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function uj(e,t,n){if((t=xr(t))instanceof _b)return t._internalPath;if(typeof t=="string")return x3(e,t);throw O_("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gpe=new RegExp("[~\\*/\\[\\]]");function x3(e,t,n){if(t.search(Gpe)>=0)throw O_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _b(...t.split("."))._internalPath}catch{throw O_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function O_(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new _t(et.INVALID_ARGUMENT,l+e+c)}function gH(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Qpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(CE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qpe extends xH{data(){return super.data()}}function CE(e,t){return typeof t=="string"?x3(e,t):t instanceof _b?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new _t(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y3{}class vH extends y3{}function Yt(e,t,...n){let r=[];t instanceof y3&&r.push(t),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof v3).length,l=s.filter(c=>c instanceof DE).length;if(o>1||o>0&&l>0)throw new _t(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class DE extends vH{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new DE(t,n,r)}_apply(t){const n=this._parse(t);return bH(t._query,n),new Sh(t.firestore,t.converter,ZD(t._query,n))}_parse(t){const n=Tb(t.firestore);return function(s,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new _t(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){g8(f,d);const p=[];for(const y of f)p.push(m8(c,s,y));h={arrayValue:{values:p}}}else h=m8(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||g8(f,d),h=Hpe(l,o,f,d==="in"||d==="not-in");return Hn.create(u,d,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Jt(e,t,n){const r=t,i=CE("where",e);return DE._create(i,r,n)}class v3 extends y3{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new v3(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)bH(o,c),o=ZD(o,c)}(t._query,n),new Sh(t.firestore,t.converter,ZD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b3 extends vH{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new b3(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new _t(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _t(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new l1(s,o)}(t._query,this._field,this._direction);return new Sh(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ox(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Kpe(e,t="asc"){const n=t,r=CE("orderBy",e);return b3._create(r,n)}function m8(e,t,n){if(typeof(n=xr(n))=="string"){if(n==="")throw new _t(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yz(t)&&n.indexOf("/")!==-1)throw new _t(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Tr.fromString(n));if(!St.isDocumentKey(r))throw new _t(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a1(e,new St(r))}if(n instanceof pa)return a1(e,n._key);throw new _t(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NE(n)}.`)}function g8(e,t){if(!Array.isArray(e)||e.length===0)throw new _t(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bH(e,t){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new _t(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _t(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Xpe{convertValue(t,n="none"){switch(Wp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ti(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw qt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Em(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ti(o.doubleValue));return new d3(s)}convertGeoPoint(t){return new u3(ti(t.latitude),ti(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=UI(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(i1(t));default:return null}}convertTimestamp(t){const n=vd(t);return new di(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Tr.fromString(t);Zt(E$(r));const i=new qp(r.get(1),r.get(3)),s=new St(r.popFirst(5));return i.isEqual(n)||La(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wH extends xH{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(CE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ow extends wH{data(t={}){return super.data(t)}}class _H{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ow(this._firestore,this._userDataWriter,r.key,r,new Wy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Ow(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Ow(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Ype(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ype(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(e){e=ha(e,pa);const t=ha(e.firestore,gc);return Fpe(wb(t),e._key).then(n=>TH(t,e,n))}class _3 extends Xpe{constructor(t){super(),this.firestore=t}convertBytes(t){return new R0(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pa(this.firestore,null,n)}}function Bn(e){e=ha(e,Sh);const t=ha(e.firestore,gc),n=wb(t),r=new _3(t);return yH(e._query),Lpe(n,e._query).then(i=>new _H(t,r,e,i))}function bt(e,t,n){e=ha(e,pa);const r=ha(e.firestore,gc),i=w3(e.converter,t,n);return Eb(r,[f3(Tb(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,os.none())])}function P0(e,t,n,...r){e=ha(e,pa);const i=ha(e.firestore,gc),s=Tb(i);let o;return o=typeof(t=xr(t))=="string"||t instanceof _b?hH(s,"updateDoc",e._key,t,n,r):fH(s,"updateDoc",e._key,t),Eb(i,[o.toMutation(e._key,os.exists(!0))])}function _o(e){return Eb(ha(e.firestore,gc),[new gb(e._key,os.none())])}function Zpe(e,t){const n=ha(e.firestore,gc),r=Ye(e),i=w3(e.converter,t);return Eb(n,[f3(Tb(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,os.exists(!1))]).then(()=>r)}function vr(e,...t){var n,r,i;e=xr(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||p8(t[o])||(s=t[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(p8(t[o])){const f=t[o];t[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(e instanceof pa)u=ha(e.firestore,gc),d=pb(e._key.path),c={next:f=>{t[o]&&t[o](TH(u,e,f))},error:t[o+1],complete:t[o+2]};else{const f=ha(e,Sh);u=ha(f.firestore,gc),d=f._query;const h=new _3(u);c={next:p=>{t[o]&&t[o](new _H(u,h,f,p))},error:t[o+1],complete:t[o+2]},yH(e._query)}return function(h,p,y,m){const x=new c3(m),v=new o3(p,x,y);return h.asyncQueue.enqueueAndForget(async()=>i3(await P_(h),v)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>s3(await P_(h),v))}}(wb(u),d,l,c)}function Eb(e,t){return function(r,i){const s=new cu;return r.asyncQueue.enqueueAndForget(async()=>Npe(await Ope(r),i,s)),s.promise}(wb(e),t)}function TH(e,t,n){const r=n.docs.get(t._key),i=new _3(e);return new wH(e,i,t._key,r,new Wy(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jpe{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tb(t)}set(t,n,r){this._verifyNotCommitted();const i=wk(t,this._firestore),s=w3(i.converter,n,r),o=f3(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,os.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=wk(t,this._firestore);let o;return o=typeof(n=xr(n))=="string"||n instanceof _b?hH(this._dataReader,"WriteBatch.update",s._key,n,r,i):fH(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,os.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=wk(t,this._firestore);return this._mutations=this._mutations.concat(new gb(n._key,os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wk(e,t){if((e=xr(e)).firestore!==t)throw new _t(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Pg(){return new h3("serverTimestamp")}function eme(...e){return new p3("arrayUnion",e)}function tme(...e){return new m3("arrayRemove",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e){return wb(e=ha(e,gc)),new Jpe(e,t=>Eb(e,t))}(function(t,n=!0){(function(i){ax=i})(wm),mc(new Rl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new gc(new Mde(r.getProvider("auth-internal")),new qde(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _t(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qp(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),wo(l6,"4.7.3",t),wo(l6,"4.7.3","esm2017")})();var nme="firebase",rme="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(nme,rme,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="firebasestorage.googleapis.com",NH="storageBucket",ime=2*60*1e3,sme=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ec{constructor(t,n,r=0){super(_k(t),`Firebase Storage: ${n} (${_k(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _k(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vi||(vi={}));function _k(e){return"storage/"+e}function T3(){const e="An unknown error occurred, please check the error payload for server response.";return new wi(vi.UNKNOWN,e)}function ame(e){return new wi(vi.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function ome(e){return new wi(vi.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lme(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wi(vi.UNAUTHENTICATED,e)}function cme(){return new wi(vi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ume(e){return new wi(vi.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function dme(){return new wi(vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fme(){return new wi(vi.CANCELED,"User canceled the upload/download.")}function hme(e){return new wi(vi.INVALID_URL,"Invalid URL '"+e+"'.")}function pme(e){return new wi(vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function mme(){return new wi(vi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NH+"' property when initializing the app?")}function gme(){return new wi(vi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xme(){return new wi(vi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yme(e){return new wi(vi.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dj(e){return new wi(vi.INVALID_ARGUMENT,e)}function SH(){return new wi(vi.APP_DELETED,"The Firebase app was deleted.")}function vme(e){return new wi(vi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gv(e,t){return new wi(vi.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function py(e){throw new wi(vi.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Go.makeFromUrl(t,n)}catch{return new Go(t,"")}if(r.path==="")return r;throw pme(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},m=n===EH?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${x}`,"i"),b=[{regex:l,indices:c,postModify:s},{regex:p,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<b.length;w++){const T=b[w],k=T.regex.exec(t);if(k){const _=k[T.indices.bucket];let N=k[T.indices.path];N||(N=""),r=new Go(_,N),T.postModify(r);break}}if(r==null)throw hme(t);return r}}class bme{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wme(e,t,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...x){u||(u=!0,t.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,e(p,c())},x)}function h(){s&&clearTimeout(s)}function p(x,...v){if(u){h();return}if(x){h(),d.call(null,x,...v);return}if(c()||o){h(),d.call(null,x,...v);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,f(b)}let y=!1;function m(x){y||(y=!0,h(),!u&&(i!==null?(x||(l=2),clearTimeout(i),f(0)):x||(l=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function _me(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tme(e){return e!==void 0}function Eme(e){return typeof e=="object"&&!Array.isArray(e)}function E3(e){return typeof e=="string"||e instanceof String}function x8(e){return N3()&&e instanceof Blob}function N3(){return typeof Blob<"u"}function y8(e,t,n,r){if(r<t)throw dj(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw dj(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function kH(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var kp;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(kp||(kp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nme(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(t,n,r,i,s,o,l,c,u,d,f,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new C2(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===kp.NO_ERROR,c=s.getStatus();if(!l||Nme(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===kp.ABORT;r(!1,new C2(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new C2(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Tme(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=T3();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?SH():fme();o(c)}else{const c=dme();o(c)}};this.canceled_?n(!1,new C2(!1,null,!0)):this.backoffId_=wme(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&_me(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class C2{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function kme(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Ame(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Cme(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Dme(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function jme(e,t,n,r,i,s,o=!0){const l=kH(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return Cme(u,t),kme(u,n),Ame(u,s),Dme(u,r),new Sme(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ime(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rme(...e){const t=Ime();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(N3())return new Blob(e);throw new wi(vi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Pme(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ome(e){if(typeof atob>"u")throw yme("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tk{constructor(t,n){this.data=t,this.contentType=n||null}}function Fme(e,t){switch(e){case nu.RAW:return new Tk(AH(t));case nu.BASE64:case nu.BASE64URL:return new Tk(CH(e,t));case nu.DATA_URL:return new Tk(Mme(t),Ume(t))}throw T3()}function AH(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Lme(e){let t;try{t=decodeURIComponent(e)}catch{throw gv(nu.DATA_URL,"Malformed data URL.")}return AH(t)}function CH(e,t){switch(e){case nu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw gv(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case nu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw gv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ome(t)}catch(i){throw i.message.includes("polyfill")?i:gv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class DH{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw gv(nu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Bme(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Mme(e){const t=new DH(e);return t.base64?CH(nu.BASE64,t.rest):Lme(t.rest)}function Ume(e){return new DH(e).contentType}function Bme(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n){let r=0,i="";x8(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(x8(this.data_)){const r=this.data_,i=Pme(r,t,n);return i===null?null:new Tf(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Tf(r,!0)}}static getBlob(...t){if(N3()){const n=t.map(r=>r instanceof Tf?r.data_:r);return new Tf(Rme.apply(null,n))}else{const n=t.map(o=>E3(o)?Fme(nu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Tf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(e){let t;try{t=JSON.parse(e)}catch{return null}return Eme(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vme(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qme(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function IH(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wme(e,t){return t}class ka{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Wme}}let D2=null;function zme(e){return!E3(e)||e.length<2?e:IH(e)}function RH(){if(D2)return D2;const e=[];e.push(new ka("bucket")),e.push(new ka("generation")),e.push(new ka("metageneration")),e.push(new ka("name","fullPath",!0));function t(s,o){return zme(o)}const n=new ka("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ka("size");return i.xform=r,e.push(i),e.push(new ka("timeCreated")),e.push(new ka("updated")),e.push(new ka("md5Hash",null,!0)),e.push(new ka("cacheControl",null,!0)),e.push(new ka("contentDisposition",null,!0)),e.push(new ka("contentEncoding",null,!0)),e.push(new ka("contentLanguage",null,!0)),e.push(new ka("contentType",null,!0)),e.push(new ka("metadata","customMetadata",!0)),D2=e,D2}function $me(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Go(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Hme(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return $me(r,e),r}function PH(e,t,n){const r=jH(t);return r===null?null:Hme(e,r,n)}function Gme(e,t,n,r){const i=jH(t);if(i===null||!E3(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,f=e.fullPath,h="/b/"+o(d)+"/o/"+o(f),p=S3(h,n,r),y=kH({alt:"media",token:u});return p+y})[0]}function Qme(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class OH{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(e){if(!e)throw T3()}function Kme(e,t){function n(r,i){const s=PH(e,i,t);return FH(s!==null),s}return n}function Xme(e,t){function n(r,i){const s=PH(e,i,t);return FH(s!==null),Gme(s,i,e.host,e._protocol)}return n}function LH(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cme():i=lme():n.getStatus()===402?i=ome(e.bucket):n.getStatus()===403?i=ume(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Yme(e){const t=LH(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=ame(e.path)),s.serverResponse=i.serverResponse,s}return n}function Zme(e,t,n){const r=t.fullServerUrl(),i=S3(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,l=new OH(i,s,Xme(e,n),o);return l.errorHandler=Yme(t),l}function Jme(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ege(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Jme(null,t)),r}function tge(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=ege(t,r,i),d=Qme(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=Tf.getBlob(f,r,h);if(p===null)throw gme();const y={name:u.fullPath},m=S3(s,e.host,e._protocol),x="POST",v=e.maxUploadRetryTime,g=new OH(m,x,Kme(e,n),v);return g.urlParams=y,g.headers=o,g.body=p.uploadData(),g.errorHandler=LH(t),g}class nge{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw py("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw py("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw py("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw py("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw py("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class rge extends nge{initXhr(){this.xhr_.responseType="text"}}function MH(){return new rge}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n){this._service=t,n instanceof Go?this._location=n:this._location=Go.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Xp(t,n)}get root(){const t=new Go(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IH(this._location.path)}get storage(){return this._service}get parent(){const t=Vme(this._location.path);if(t===null)return null;const n=new Go(this._location.bucket,t);return new Xp(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw vme(t)}}function ige(e,t,n){e._throwIfRoot("uploadBytes");const r=tge(e.storage,e._location,RH(),new Tf(t,!0),n);return e.storage.makeRequestWithTokens(r,MH).then(i=>({metadata:i,ref:e}))}function sge(e){e._throwIfRoot("getDownloadURL");const t=Zme(e.storage,e._location,RH());return e.storage.makeRequestWithTokens(t,MH).then(n=>{if(n===null)throw xme();return n})}function age(e,t){const n=qme(e._location.path,t),r=new Go(e._location.bucket,n);return new Xp(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oge(e){return/^[A-Za-z]+:\/\//.test(e)}function lge(e,t){return new Xp(e,t)}function UH(e,t){if(e instanceof k3){const n=e;if(n._bucket==null)throw mme();const r=new Xp(n,n._bucket);return t!=null?UH(r,t):r}else return t!==void 0?age(e,t):e}function cge(e,t){if(t&&oge(t)){if(e instanceof k3)return lge(e,t);throw dj("To use ref(service, url), the first argument must be a Storage instance.")}else return UH(e,t)}function v8(e,t){const n=t==null?void 0:t[NH];return n==null?null:Go.makeFromBucketSpec(n,e)}function uge(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:RW(i,e.app.options.projectId))}class k3{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=EH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ime,this._maxUploadRetryTime=sme,this._requests=new Set,i!=null?this._bucket=Go.makeFromBucketSpec(i,this._host):this._bucket=v8(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Go.makeFromBucketSpec(this._url,t):this._bucket=v8(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){y8("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){y8("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Xp(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new bme(SH());{const o=jme(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const b8="@firebase/storage",w8="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="storage";function VH(e,t,n){return e=xr(e),ige(e,t,n)}function qH(e){return e=xr(e),sge(e)}function WH(e,t){return e=xr(e),cge(e,t)}function dge(e=oE(),t){e=xr(e);const r=bm(e,BH).getImmediate({identifier:t}),i=DW("storage");return i&&fge(r,...i),r}function fge(e,t,n,r={}){uge(e,t,n,r)}function hge(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new k3(n,r,i,t,wm)}function pge(){mc(new Rl(BH,hge,"PUBLIC").setMultipleInstances(!0)),wo(b8,w8,""),wo(b8,w8,"esm2017")}pge();const zH="@firebase/installations",A3="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=1e4,HH=`w:${A3}`,GH="FIS_v2",mge="https://firebaseinstallations.googleapis.com/v1",gge=60*60*1e3,xge="installations",yge="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vge={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yp=new vm(xge,yge,vge);function QH(e){return e instanceof Ec&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH({projectId:e}){return`${mge}/projects/${e}/installations`}function XH(e){return{token:e.token,requestStatus:2,expiresIn:wge(e.expiresIn),creationTime:Date.now()}}async function YH(e,t){const r=(await t.json()).error;return Yp.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ZH({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function bge(e,{refreshToken:t}){const n=ZH(e);return n.append("Authorization",_ge(t)),n}async function JH(e){const t=await e();return t.status>=500&&t.status<600?e():t}function wge(e){return Number(e.replace("s","000"))}function _ge(e){return`${GH} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tge({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=KH(e),i=ZH(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:GH,appId:e.appId,sdkVersion:HH},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await JH(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:XH(u.authToken)}}else throw await YH("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ege(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nge=/^[cdef][\w-]{21}$/,fj="";function Sge(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=kge(e);return Nge.test(n)?n:fj}catch{return fj}}function kge(e){return Ege(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=new Map;function nG(e,t){const n=jE(e);rG(n,t),Age(n,t)}function rG(e,t){const n=tG.get(e);if(n)for(const r of n)r(t)}function Age(e,t){const n=Cge();n&&n.postMessage({key:e,fid:t}),Dge()}let hp=null;function Cge(){return!hp&&"BroadcastChannel"in self&&(hp=new BroadcastChannel("[Firebase] FID Change"),hp.onmessage=e=>{rG(e.data.key,e.data.fid)}),hp}function Dge(){tG.size===0&&hp&&(hp.close(),hp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge="firebase-installations-database",Ige=1,Zp="firebase-installations-store";let Ek=null;function C3(){return Ek||(Ek=aE(jge,Ige,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zp)}}})),Ek}async function F_(e,t){const n=jE(e),i=(await C3()).transaction(Zp,"readwrite"),s=i.objectStore(Zp),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&nG(e,t.fid),t}async function iG(e){const t=jE(e),r=(await C3()).transaction(Zp,"readwrite");await r.objectStore(Zp).delete(t),await r.done}async function IE(e,t){const n=jE(e),i=(await C3()).transaction(Zp,"readwrite"),s=i.objectStore(Zp),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&nG(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(e){let t;const n=await IE(e.appConfig,r=>{const i=Rge(r),s=Pge(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===fj?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Rge(e){const t=e||{fid:Sge(),registrationStatus:0};return sG(t)}function Pge(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Yp.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Oge(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Fge(e)}:{installationEntry:t}}async function Oge(e,t){try{const n=await Tge(e,t);return F_(e.appConfig,n)}catch(n){throw QH(n)&&n.customData.serverCode===409?await iG(e.appConfig):await F_(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Fge(e){let t=await _8(e.appConfig);for(;t.registrationStatus===1;)await eG(100),t=await _8(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await D3(e);return r||n}return t}function _8(e){return IE(e,t=>{if(!t)throw Yp.create("installation-not-found");return sG(t)})}function sG(e){return Lge(e)?{fid:e.fid,registrationStatus:0}:e}function Lge(e){return e.registrationStatus===1&&e.registrationTime+$H<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mge({appConfig:e,heartbeatServiceProvider:t},n){const r=Uge(e,n),i=bge(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:HH,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await JH(()=>fetch(r,l));if(c.ok){const u=await c.json();return XH(u)}else throw await YH("Generate Auth Token",c)}function Uge(e,{fid:t}){return`${KH(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(e,t=!1){let n;const r=await IE(e.appConfig,s=>{if(!aG(s))throw Yp.create("not-registered");const o=s.authToken;if(!t&&qge(o))return s;if(o.requestStatus===1)return n=Bge(e,t),s;{if(!navigator.onLine)throw Yp.create("app-offline");const l=zge(s);return n=Vge(e,l),l}});return n?await n:r.authToken}async function Bge(e,t){let n=await T8(e.appConfig);for(;n.authToken.requestStatus===1;)await eG(100),n=await T8(e.appConfig);const r=n.authToken;return r.requestStatus===0?j3(e,t):r}function T8(e){return IE(e,t=>{if(!aG(t))throw Yp.create("not-registered");const n=t.authToken;return $ge(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Vge(e,t){try{const n=await Mge(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await F_(e.appConfig,r),n}catch(n){if(QH(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iG(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await F_(e.appConfig,r)}throw n}}function aG(e){return e!==void 0&&e.registrationStatus===2}function qge(e){return e.requestStatus===2&&!Wge(e)}function Wge(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gge}function zge(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function $ge(e){return e.requestStatus===1&&e.requestTime+$H<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hge(e){const t=e,{installationEntry:n,registrationPromise:r}=await D3(t);return r?r.catch(console.error):j3(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gge(e,t=!1){const n=e;return await Qge(n),(await j3(n,t)).token}async function Qge(e){const{registrationPromise:t}=await D3(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kge(e){if(!e||!e.options)throw Nk("App Configuration");if(!e.name)throw Nk("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Nk(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Nk(e){return Yp.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG="installations",Xge="installations-internal",Yge=e=>{const t=e.getProvider("app").getImmediate(),n=Kge(t),r=bm(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Zge=e=>{const t=e.getProvider("app").getImmediate(),n=bm(t,oG).getImmediate();return{getId:()=>Hge(n),getToken:i=>Gge(n,i)}};function Jge(){mc(new Rl(oG,Yge,"PUBLIC")),mc(new Rl(Xge,Zge,"PRIVATE"))}Jge();wo(zH,A3);wo(zH,A3,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0e="/firebase-messaging-sw.js",t0e="/firebase-cloud-messaging-push-scope",lG="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",n0e="https://fcmregistrations.googleapis.com/v1",cG="google.c.a.c_id",r0e="google.c.a.c_l",i0e="google.c.a.ts",s0e="google.c.a.e";var E8;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(E8||(E8={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var d1;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(d1||(d1={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a0e(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="fcm_token_details_db",o0e=5,N8="fcm_token_object_Store";async function l0e(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Sk))return null;let t=null;return(await aE(Sk,o0e,{upgrade:async(r,i,s,o)=>{var l;if(i<2||!r.objectStoreNames.contains(N8))return;const c=o.objectStore(N8),u=await c.index("fcmSenderId").get(e);if(await c.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:(l=d.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:qu(d.vapidKey)}}}else if(i===3){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qu(d.auth),p256dh:qu(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qu(d.vapidKey)}}}else if(i===4){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qu(d.auth),p256dh:qu(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qu(d.vapidKey)}}}}}})).close(),await fk(Sk),await fk("fcm_vapid_details_db"),await fk("undefined"),c0e(t)?t:null}function c0e(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0e="firebase-messaging-database",d0e=1,f1="firebase-messaging-store";let kk=null;function uG(){return kk||(kk=aE(u0e,d0e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(f1)}}})),kk}async function f0e(e){const t=dG(e),r=await(await uG()).transaction(f1).objectStore(f1).get(t);if(r)return r;{const i=await l0e(e.appConfig.senderId);if(i)return await I3(e,i),i}}async function I3(e,t){const n=dG(e),i=(await uG()).transaction(f1,"readwrite");return await i.objectStore(f1).put(t,n),await i.done,t}function dG({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ma=new vm("messaging","Messaging",h0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0e(e,t){const n=await P3(e),r=fG(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(R3(e.appConfig),i)).json()}catch(o){throw ma.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ma.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw ma.create("token-subscribe-no-token");return s.token}async function m0e(e,t){const n=await P3(e),r=fG(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${R3(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw ma.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ma.create("token-update-failed",{errorInfo:o})}if(!s.token)throw ma.create("token-update-no-token");return s.token}async function g0e(e,t){const r={method:"DELETE",headers:await P3(e)};try{const s=await(await fetch(`${R3(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw ma.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw ma.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function R3({projectId:e}){return`${n0e}/projects/${e}/registrations`}async function P3({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function fG({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==lG&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0e=7*24*60*60*1e3;async function y0e(e){const t=await b0e(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:qu(t.getKey("auth")),p256dh:qu(t.getKey("p256dh"))},r=await f0e(e.firebaseDependencies);if(r){if(w0e(r.subscriptionOptions,n))return Date.now()>=r.createTime+x0e?v0e(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await g0e(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return S8(e.firebaseDependencies,n)}else return S8(e.firebaseDependencies,n)}async function v0e(e,t){try{const n=await m0e(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await I3(e.firebaseDependencies,r),n}catch(n){throw n}}async function S8(e,t){const r={token:await p0e(e,t),createTime:Date.now(),subscriptionOptions:t};return await I3(e,r),r.token}async function b0e(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a0e(t)})}function w0e(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return _0e(t,e),T0e(t,e),E0e(t,e),t}function _0e(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function T0e(e,t){t.data&&(e.data=t.data)}function E0e(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const l=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;l&&(e.fcmOptions.link=l);const c=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0e(e){return typeof e=="object"&&!!e&&cG in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0e(e){if(!e||!e.options)throw Ak("App Configuration Object");if(!e.name)throw Ak("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Ak(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ak(e){return ma.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=S0e(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0e(e){try{e.swRegistration=await navigator.serviceWorker.register(e0e,{scope:t0e}),e.swRegistration.update().catch(()=>{})}catch(t){throw ma.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0e(e,t){if(!t&&!e.swRegistration&&await A0e(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw ma.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0e(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=lG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(e,t){if(!navigator)throw ma.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ma.create("permission-blocked");return await D0e(e,t==null?void 0:t.vapidKey),await C0e(e,t==null?void 0:t.serviceWorkerRegistration),y0e(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0e(e,t,n){const r=I0e(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[cG],message_name:n[r0e],message_time:n[i0e],message_device_time:Math.floor(Date.now()/1e3)})}function I0e(e){switch(e){case d1.NOTIFICATION_CLICKED:return"notification_open";case d1.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0e(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===d1.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(k8(n)):e.onMessageHandler.next(k8(n)));const r=n.data;N0e(r)&&r[s0e]==="1"&&await j0e(e,n.messageType,r)}const A8="@firebase/messaging",C8="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0e=e=>{const t=new k0e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>R0e(t,n)),t},O0e=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>hG(t,r)}};function F0e(){mc(new Rl("messaging",P0e,"PUBLIC")),mc(new Rl("messaging-internal",O0e,"PRIVATE")),wo(A8,C8),wo(A8,C8,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pG(){try{await OW()}catch{return!1}return typeof window<"u"&&wI()&&ele()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(e,t){if(!navigator)throw ma.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0e(e=oE()){return pG().then(t=>{if(!t)throw ma.create("unsupported-browser")},t=>{throw ma.create("indexed-db-unsupported")}),bm(xr(e),"messaging").getImmediate()}async function U0e(e,t){return e=xr(e),hG(e,t)}function D8(e,t){return e=xr(e),L0e(e,t)}F0e();const B0e={apiKey:"AIzaSyDAY6SbxMjFxgzzV4_drApxuiit4lnJmfw",authDomain:"group-study-3b0ee.firebaseapp.com",projectId:"group-study-3b0ee",storageBucket:"group-study-3b0ee.firebasestorage.app",messagingSenderId:"209242981722",appId:"1:209242981722:web:817829ea089db024851f63",measurementId:"G-BYKDT76GTT"},RE=MW(B0e),Fs=Pde(RE),Le=Bpe(RE),hj=dge(RE);Vpe(Le).catch(e=>{e.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):e.code==="unimplemented"&&console.warn("The current browser does not support offline persistence.")});let Ff=null;const O3=async()=>{try{return await pG()?(Ff=M0e(RE),Ff):null}catch(e){return console.warn("FCM not supported:",e),null}},j8=async()=>{try{if(Ff||(Ff=await O3()),!Ff)return null;const e=await navigator.serviceWorker.getRegistration();return e?await U0e(Ff,{vapidKey:"BKagOny0KF_2pCJQ3m....",serviceWorkerRegistration:e}):(console.warn("No service worker registration found"),null)}catch(e){return console.error("Error getting FCM token:",e),null}},V0e=e=>{Ff?D8(Ff,e):O3().then(t=>{t&&D8(t,e)})},q0e={},I8=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(q0e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},W0e=e=>e?I8(e):I8;var mG={exports:{}},gG={},xG={exports:{}},yG={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=S;function z0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $0e=typeof Object.is=="function"?Object.is:z0e,H0e=O0.useState,G0e=O0.useEffect,Q0e=O0.useLayoutEffect,K0e=O0.useDebugValue;function X0e(e,t){var n=t(),r=H0e({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Q0e(function(){i.value=n,i.getSnapshot=t,Ck(i)&&s({inst:i})},[e,n,t]),G0e(function(){return Ck(i)&&s({inst:i}),e(function(){Ck(i)&&s({inst:i})})},[e]),K0e(n),n}function Ck(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$0e(e,n)}catch{return!0}}function Y0e(e,t){return t()}var Z0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y0e:X0e;yG.useSyncExternalStore=O0.useSyncExternalStore!==void 0?O0.useSyncExternalStore:Z0e;xG.exports=yG;var vG=xG.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=S,J0e=vG;function exe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var txe=typeof Object.is=="function"?Object.is:exe,nxe=J0e.useSyncExternalStore,rxe=PE.useRef,ixe=PE.useEffect,sxe=PE.useMemo,axe=PE.useDebugValue;gG.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=rxe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=sxe(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return f=y}return f=p}if(y=f,txe(d,p))return y;var m=r(p);return i!==void 0&&i(y,m)?(d=p,y):(d=p,f=m)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var l=nxe(e,s[0],s[1]);return ixe(function(){o.hasValue=!0,o.value=l},[l]),axe(l),l};mG.exports=gG;var oxe=mG.exports;const lxe=BT(oxe),bG={},{useDebugValue:cxe}=Yr,{useSyncExternalStoreWithSelector:uxe}=lxe;let R8=!1;const dxe=e=>e;function fxe(e,t=dxe,n){(bG?"production":void 0)!=="production"&&n&&!R8&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),R8=!0);const r=uxe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return cxe(r),r}const P8=e=>{(bG?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?W0e(e):e,n=(r,i)=>fxe(t,r,i);return Object.assign(n,t),n},jd=e=>e?P8(e):P8,hxe={};function pxe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const h1=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return h1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return h1(r)(n)}}}},mxe=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,i);const d=h1(s.serialize),f=()=>{const x=s.partialize({...r()});let v;const g=d({state:x,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{v=b});if(v)throw v;return g},h=i.setState;i.setState=(x,v)=>{h(x,v),f()};const p=e((...x)=>{n(...x),f()},r,i);let y;const m=()=>{var x;if(!u)return;o=!1,l.forEach(g=>g(r()));const v=((x=s.onRehydrateStorage)==null?void 0:x.call(s,r()))||void 0;return h1(u.getItem.bind(u))(s.name).then(g=>{if(g)return s.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return s.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var b;return y=s.merge(g,(b=r())!=null?b:p),n(y,!0),f()}).then(()=>{v==null||v(y,void 0),o=!0,c.forEach(g=>g(y))}).catch(g=>{v==null||v(void 0,g)})};return i.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},m(),y||p},gxe=(e,t)=>(n,r,i)=>{let s={storage:pxe(()=>localStorage),partialize:m=>m,version:0,merge:(m,x)=>({...x,...m}),...t},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const d=()=>{const m=s.partialize({...r()});return u.setItem(s.name,{state:m,version:s.version})},f=i.setState;i.setState=(m,x)=>{f(m,x),d()};const h=e((...m)=>{n(...m),d()},r,i);i.getInitialState=()=>h;let p;const y=()=>{var m,x;if(!u)return;o=!1,l.forEach(g=>{var b;return g((b=r())!=null?b:h)});const v=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(m=r())!=null?m:h))||void 0;return h1(u.getItem.bind(u))(s.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return[!0,s.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var b;const[w,T]=g;if(p=s.merge(T,(b=r())!=null?b:h),n(p,!0),w)return d()}).then(()=>{v==null||v(p,void 0),p=r(),o=!0,c.forEach(g=>g(p))}).catch(g=>{v==null||v(void 0,g)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},s.skipHydration||y(),p||h},xxe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((hxe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mxe(e,t)):gxe(e,t),km=xxe,_i=jd()(km(e=>({user:null,isLoading:!0,setUser:t=>e({user:t,isLoading:!1}),setLoading:t=>e({isLoading:t}),logout:()=>e({user:null})}),{name:"auth-storage",partialize:e=>({user:e.user})})),yxe=e=>{const t=document.getElementById("theme-color-meta");t&&t.setAttribute("content",e?"#0f172a":"#ffffff")},F3=jd()(km((e,t)=>({theme:"system",hapticEnabled:!0,setTheme:n=>{e({theme:n});const r=window.document.documentElement;r.classList.remove("light","dark");let i=!1;n==="system"?(i=window.matchMedia("(prefers-color-scheme: dark)").matches,r.classList.add(i?"dark":"light")):(i=n==="dark",r.classList.add(n)),yxe(i)},setHapticEnabled:n=>{e({hapticEnabled:n})},triggerHaptic:(n="light")=>{const{hapticEnabled:r}=t();if(r&&"vibrate"in navigator){const i=n==="light"?10:n==="medium"?20:30;navigator.vibrate(i)}}}),{name:"theme-storage"}));var Nb=e=>e.type==="checkbox",pp=e=>e instanceof Date,co=e=>e==null;const wG=e=>typeof e=="object";var Ki=e=>!co(e)&&!Array.isArray(e)&&wG(e)&&!pp(e),vxe=e=>Ki(e)&&e.target?Nb(e.target)?e.target.checked:e.target.value:e,bxe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wxe=(e,t)=>e.has(bxe(t)),_xe=e=>{const t=e.constructor&&e.constructor.prototype;return Ki(t)&&t.hasOwnProperty("isPrototypeOf")},L3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vs(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(L3&&(e instanceof Blob||r))&&(n||Ki(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!_xe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=vs(e[i]));else return e;return t}var OE=e=>/^\w*$/.test(e),ki=e=>e===void 0,M3=e=>Array.isArray(e)?e.filter(Boolean):[],U3=e=>M3(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(e,t,n)=>{if(!t||!Ki(e))return n;const r=(OE(t)?[t]:U3(t)).reduce((i,s)=>co(i)?i:i[s],e);return ki(r)||r===e?ki(e[t])?n:e[t]:r},zc=e=>typeof e=="boolean",Fr=(e,t,n)=>{let r=-1;const i=OE(t)?[t]:U3(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const u=e[l];c=Ki(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const O8={BLUR:"blur",FOCUS_OUT:"focusout"},ic={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ou={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Txe=Yr.createContext(null);Txe.displayName="HookFormContext";var Exe=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ic.all&&(t._proxyFormState[o]=!r||ic.all),e[o]}});return i};const Nxe=typeof window<"u"?Yr.useLayoutEffect:Yr.useEffect;var qo=e=>typeof e=="string",Sxe=(e,t,n,r,i)=>qo(e)?(r&&t.watch.add(e),Ot(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),Ot(n,s))):(r&&(t.watchAll=!0),n),pj=e=>co(e)||!wG(e);function Ef(e,t,n=new WeakSet){if(pj(e)||pj(t))return Object.is(e,t);if(pp(e)&&pp(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=t[s];if(pp(o)&&pp(l)||Ki(o)&&Ki(l)||Array.isArray(o)&&Array.isArray(l)?!Ef(o,l,n):!Object.is(o,l))return!1}}return!0}var _G=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},xv=e=>Array.isArray(e)?e:[e],F8=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}};function TG(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],s=t[r];if(i&&Ki(i)&&s){const o=TG(i,s);Ki(o)&&(n[r]=o)}else e[r]&&(n[r]=s)}return n}var Da=e=>Ki(e)&&!Object.keys(e).length,B3=e=>e.type==="file",sc=e=>typeof e=="function",L_=e=>{if(!L3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},EG=e=>e.type==="select-multiple",V3=e=>e.type==="radio",kxe=e=>V3(e)||Nb(e),Dk=e=>L_(e)&&e.isConnected;function Axe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ki(e)?r++:e[t[r++]];return e}function Cxe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ki(e[t]))return!1;return!0}function Li(e,t){const n=Array.isArray(t)?t:OE(t)?[t]:U3(t),r=n.length===1?e:Axe(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ki(r)&&Da(r)||Array.isArray(r)&&Cxe(r))&&Li(e,n.slice(0,-1)),e}var Dxe=e=>{for(const t in e)if(sc(e[t]))return!0;return!1};function NG(e){return Array.isArray(e)||Ki(e)&&!Dxe(e)}function mj(e,t={}){for(const n in e){const r=e[n];NG(r)?(t[n]=Array.isArray(r)?[]:{},mj(r,t[n])):ki(r)||(t[n]=!0)}return t}function vg(e,t,n){n||(n=mj(t));for(const r in e){const i=e[r];if(NG(i))ki(t)||pj(n[r])?n[r]=mj(i,Array.isArray(i)?[]:{}):vg(i,co(t)?{}:t[r],n[r]);else{const s=t[r];n[r]=!Ef(i,s)}}return n}const L8={value:!1,isValid:!1},M8={value:!0,isValid:!0};var SG=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ki(e[0].attributes.value)?ki(e[0].value)||e[0].value===""?M8:{value:e[0].value,isValid:!0}:M8:L8}return L8},kG=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ki(e)?e:t?e===""?NaN:e&&+e:n&&qo(e)?new Date(e):r?r(e):e;const U8={isValid:!1,value:null};var AG=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,U8):U8;function B8(e){const t=e.ref;return B3(t)?t.files:V3(t)?AG(e.refs).value:EG(t)?[...t.selectedOptions].map(({value:n})=>n):Nb(t)?SG(e.refs).value:kG(ki(t.value)?e.ref.value:t.value,e)}var jxe=(e,t,n,r)=>{const i={};for(const s of e){const o=Ot(t,s);o&&Fr(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},M_=e=>e instanceof RegExp,my=e=>ki(e)?e:M_(e)?e.source:Ki(e)?M_(e.value)?e.value.source:e.value:e,V8=e=>({isOnSubmit:!e||e===ic.onSubmit,isOnBlur:e===ic.onBlur,isOnChange:e===ic.onChange,isOnAll:e===ic.all,isOnTouch:e===ic.onTouched});const q8="AsyncFunction";var Ixe=e=>!!e&&!!e.validate&&!!(sc(e.validate)&&e.validate.constructor.name===q8||Ki(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===q8)),Rxe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),W8=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const yv=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=Ot(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(yv(l,t))break}else if(Ki(l)&&yv(l,t))break}}};function z8(e,t,n){const r=Ot(e,n);if(r||OE(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Ot(t,s),l=Ot(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var Pxe=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Da(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||ic.all))},Oxe=(e,t,n)=>!e||!t||e===t||xv(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Fxe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Lxe=(e,t)=>!M3(Ot(e,t)).length&&Li(e,t),Mxe=(e,t,n)=>{const r=xv(Ot(e,n));return Fr(r,"root",t[n]),Fr(e,n,r),e};function $8(e,t,n="validate"){if(qo(e)||Array.isArray(e)&&e.every(qo)||zc(e)&&!e)return{type:n,message:qo(e)?e:"",ref:t}}var rg=e=>Ki(e)&&!M_(e)?e:{value:e,message:""},H8=async(e,t,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:x,mount:v}=e._f,g=Ot(n,m);if(!v||t.has(m))return{};const b=l?l[0]:o,w=E=>{i&&b.reportValidity&&(b.setCustomValidity(zc(E)?"":E||""),b.reportValidity())},T={},k=V3(o),_=Nb(o),N=k||_,C=(x||B3(o))&&ki(o.value)&&ki(g)||L_(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,I=_G.bind(null,m,r,T),j=(E,D,R,M=Ou.maxLength,U=Ou.minLength)=>{const z=E?D:R;T[m]={type:E?M:U,message:z,ref:o,...I(E?M:U,z)}};if(s?!Array.isArray(g)||!g.length:c&&(!N&&(C||co(g))||zc(g)&&!g||_&&!SG(l).isValid||k&&!AG(l).isValid)){const{value:E,message:D}=qo(c)?{value:!!c,message:c}:rg(c);if(E&&(T[m]={type:Ou.required,message:D,ref:b,...I(Ou.required,D)},!r))return w(D),T}if(!C&&(!co(f)||!co(h))){let E,D;const R=rg(h),M=rg(f);if(!co(g)&&!isNaN(g)){const U=o.valueAsNumber||g&&+g;co(R.value)||(E=U>R.value),co(M.value)||(D=U<M.value)}else{const U=o.valueAsDate||new Date(g),z=W=>new Date(new Date().toDateString()+" "+W),G=o.type=="time",F=o.type=="week";qo(R.value)&&g&&(E=G?z(g)>z(R.value):F?g>R.value:U>new Date(R.value)),qo(M.value)&&g&&(D=G?z(g)<z(M.value):F?g<M.value:U<new Date(M.value))}if((E||D)&&(j(!!E,R.message,M.message,Ou.max,Ou.min),!r))return w(T[m].message),T}if((u||d)&&!C&&(qo(g)||s&&Array.isArray(g))){const E=rg(u),D=rg(d),R=!co(E.value)&&g.length>+E.value,M=!co(D.value)&&g.length<+D.value;if((R||M)&&(j(R,E.message,D.message),!r))return w(T[m].message),T}if(p&&!C&&qo(g)){const{value:E,message:D}=rg(p);if(M_(E)&&!g.match(E)&&(T[m]={type:Ou.pattern,message:D,ref:o,...I(Ou.pattern,D)},!r))return w(D),T}if(y){if(sc(y)){const E=await y(g,n),D=$8(E,b);if(D&&(T[m]={...D,...I(Ou.validate,D.message)},!r))return w(D.message),T}else if(Ki(y)){let E={};for(const D in y){if(!Da(E)&&!r)break;const R=$8(await y[D](g,n),b,D);R&&(E={...R,...I(D,R.message)},w(R.message),r&&(T[m]=E))}if(!Da(E)&&(T[m]={ref:b,...E},!r))return T}}return w(!0),T};const Uxe={mode:ic.onSubmit,reValidateMode:ic.onChange,shouldFocusError:!0};function Bxe(e={}){let t={...Uxe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:sc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Ki(t.defaultValues)||Ki(t.values)?vs(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:vs(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:F8(),state:F8()},p=t.criteriaMode===ic.all,y=Y=>le=>{clearTimeout(u),u=setTimeout(Y,le)},m=async Y=>{if(!t.disabled&&(d.isValid||f.isValid||Y)){const le=t.resolver?Da((await _()).errors):await C(r,!0);le!==n.isValid&&h.state.next({isValid:le})}},x=(Y,le)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((Y||Array.from(l.mount)).forEach(te=>{te&&(le?Fr(n.validatingFields,te,le):Li(n.validatingFields,te))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Da(n.validatingFields)}))},v=(Y,le=[],te,oe,ae=!0,fe=!0)=>{if(oe&&te&&!t.disabled){if(o.action=!0,fe&&Array.isArray(Ot(r,Y))){const Ae=te(Ot(r,Y),oe.argA,oe.argB);ae&&Fr(r,Y,Ae)}if(fe&&Array.isArray(Ot(n.errors,Y))){const Ae=te(Ot(n.errors,Y),oe.argA,oe.argB);ae&&Fr(n.errors,Y,Ae),Lxe(n.errors,Y)}if((d.touchedFields||f.touchedFields)&&fe&&Array.isArray(Ot(n.touchedFields,Y))){const Ae=te(Ot(n.touchedFields,Y),oe.argA,oe.argB);ae&&Fr(n.touchedFields,Y,Ae)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=vg(i,s)),h.state.next({name:Y,isDirty:j(Y,le),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fr(s,Y,le)},g=(Y,le)=>{Fr(n.errors,Y,le),h.state.next({errors:n.errors})},b=Y=>{n.errors=Y,h.state.next({errors:n.errors,isValid:!1})},w=(Y,le,te,oe)=>{const ae=Ot(r,Y);if(ae){const fe=Ot(s,Y,ki(te)?Ot(i,Y):te);ki(fe)||oe&&oe.defaultChecked||le?Fr(s,Y,le?fe:B8(ae._f)):R(Y,fe),o.mount&&!o.action&&m()}},T=(Y,le,te,oe,ae)=>{let fe=!1,Ae=!1;const Me={name:Y};if(!t.disabled){if(!te||oe){(d.isDirty||f.isDirty)&&(Ae=n.isDirty,n.isDirty=Me.isDirty=j(),fe=Ae!==Me.isDirty);const Ve=Ef(Ot(i,Y),le);Ae=!!Ot(n.dirtyFields,Y),Ve?Li(n.dirtyFields,Y):Fr(n.dirtyFields,Y,!0),Me.dirtyFields=n.dirtyFields,fe=fe||(d.dirtyFields||f.dirtyFields)&&Ae!==!Ve}if(te){const Ve=Ot(n.touchedFields,Y);Ve||(Fr(n.touchedFields,Y,te),Me.touchedFields=n.touchedFields,fe=fe||(d.touchedFields||f.touchedFields)&&Ve!==te)}fe&&ae&&h.state.next(Me)}return fe?Me:{}},k=(Y,le,te,oe)=>{const ae=Ot(n.errors,Y),fe=(d.isValid||f.isValid)&&zc(le)&&n.isValid!==le;if(t.delayError&&te?(c=y(()=>g(Y,te)),c(t.delayError)):(clearTimeout(u),c=null,te?Fr(n.errors,Y,te):Li(n.errors,Y)),(te?!Ef(ae,te):ae)||!Da(oe)||fe){const Ae={...oe,...fe&&zc(le)?{isValid:le}:{},errors:n.errors,name:Y};n={...n,...Ae},h.state.next(Ae)}},_=async Y=>{x(Y,!0);const le=await t.resolver(s,t.context,jxe(Y||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(Y),le},N=async Y=>{const{errors:le}=await _(Y);if(Y)for(const te of Y){const oe=Ot(le,te);oe?Fr(n.errors,te,oe):Li(n.errors,te)}else n.errors=le;return le},C=async(Y,le,te={valid:!0})=>{for(const oe in Y){const ae=Y[oe];if(ae){const{_f:fe,...Ae}=ae;if(fe){const Me=l.array.has(fe.name),Ve=ae._f&&Ixe(ae._f);Ve&&d.validatingFields&&x([fe.name],!0);const ot=await H8(ae,l.disabled,s,p,t.shouldUseNativeValidation&&!le,Me);if(Ve&&d.validatingFields&&x([fe.name]),ot[fe.name]&&(te.valid=!1,le))break;!le&&(Ot(ot,fe.name)?Me?Mxe(n.errors,ot,fe.name):Fr(n.errors,fe.name,ot[fe.name]):Li(n.errors,fe.name))}!Da(Ae)&&await C(Ae,le,te)}}return te.valid},I=()=>{for(const Y of l.unMount){const le=Ot(r,Y);le&&(le._f.refs?le._f.refs.every(te=>!Dk(te)):!Dk(le._f.ref))&&ee(Y)}l.unMount=new Set},j=(Y,le)=>!t.disabled&&(Y&&le&&Fr(s,Y,le),!Ef(W(),i)),E=(Y,le,te)=>Sxe(Y,l,{...o.mount?s:ki(le)?i:qo(Y)?{[Y]:le}:le},te,le),D=Y=>M3(Ot(o.mount?s:i,Y,t.shouldUnregister?Ot(i,Y,[]):[])),R=(Y,le,te={})=>{const oe=Ot(r,Y);let ae=le;if(oe){const fe=oe._f;fe&&(!fe.disabled&&Fr(s,Y,kG(le,fe)),ae=L_(fe.ref)&&co(le)?"":le,EG(fe.ref)?[...fe.ref.options].forEach(Ae=>Ae.selected=ae.includes(Ae.value)):fe.refs?Nb(fe.ref)?fe.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ae)?Ae.checked=!!ae.find(Me=>Me===Ae.value):Ae.checked=ae===Ae.value||!!ae)}):fe.refs.forEach(Ae=>Ae.checked=Ae.value===ae):B3(fe.ref)?fe.ref.value="":(fe.ref.value=ae,fe.ref.type||h.state.next({name:Y,values:vs(s)})))}(te.shouldDirty||te.shouldTouch)&&T(Y,ae,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&F(Y)},M=(Y,le,te)=>{for(const oe in le){if(!le.hasOwnProperty(oe))return;const ae=le[oe],fe=Y+"."+oe,Ae=Ot(r,fe);(l.array.has(Y)||Ki(ae)||Ae&&!Ae._f)&&!pp(ae)?M(fe,ae,te):R(fe,ae,te)}},U=(Y,le,te={})=>{const oe=Ot(r,Y),ae=l.array.has(Y),fe=vs(le);Fr(s,Y,fe),ae?(h.array.next({name:Y,values:vs(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&h.state.next({name:Y,dirtyFields:vg(i,s),isDirty:j(Y,fe)})):oe&&!oe._f&&!co(fe)?M(Y,fe,te):R(Y,fe,te),W8(Y,l)&&h.state.next({...n,name:Y}),h.state.next({name:o.mount?Y:void 0,values:vs(s)})},z=async Y=>{o.mount=!0;const le=Y.target;let te=le.name,oe=!0;const ae=Ot(r,te),fe=Ve=>{oe=Number.isNaN(Ve)||pp(Ve)&&isNaN(Ve.getTime())||Ef(Ve,Ot(s,te,Ve))},Ae=V8(t.mode),Me=V8(t.reValidateMode);if(ae){let Ve,ot;const Fe=le.type?B8(ae._f):vxe(Y),je=Y.type===O8.BLUR||Y.type===O8.FOCUS_OUT,Ge=!Rxe(ae._f)&&!t.resolver&&!Ot(n.errors,te)&&!ae._f.deps||Fxe(je,Ot(n.touchedFields,te),n.isSubmitted,Me,Ae),Je=W8(te,l,je);Fr(s,te,Fe),je?(!le||!le.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(Y),c&&c(0)):ae._f.onChange&&ae._f.onChange(Y);const kt=T(te,Fe,je),Qt=!Da(kt)||Je;if(!je&&h.state.next({name:te,type:Y.type,values:vs(s)}),Ge)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?je&&m():je||m()),Qt&&h.state.next({name:te,...Je?{}:kt});if(!je&&Je&&h.state.next({...n}),t.resolver){const{errors:Mt}=await _([te]);if(fe(Fe),oe){const Mn=z8(n.errors,r,te),sn=z8(Mt,r,Mn.name||te);Ve=sn.error,te=sn.name,ot=Da(Mt)}}else x([te],!0),Ve=(await H8(ae,l.disabled,s,p,t.shouldUseNativeValidation))[te],x([te]),fe(Fe),oe&&(Ve?ot=!1:(d.isValid||f.isValid)&&(ot=await C(r,!0)));oe&&(ae._f.deps&&(!Array.isArray(ae._f.deps)||ae._f.deps.length>0)&&F(ae._f.deps),k(te,ot,Ve,kt))}},G=(Y,le)=>{if(Ot(n.errors,le)&&Y.focus)return Y.focus(),1},F=async(Y,le={})=>{let te,oe;const ae=xv(Y);if(t.resolver){const fe=await N(ki(Y)?Y:ae);te=Da(fe),oe=Y?!ae.some(Ae=>Ot(fe,Ae)):te}else Y?(oe=(await Promise.all(ae.map(async fe=>{const Ae=Ot(r,fe);return await C(Ae&&Ae._f?{[fe]:Ae}:Ae)}))).every(Boolean),!(!oe&&!n.isValid)&&m()):oe=te=await C(r);return h.state.next({...!qo(Y)||(d.isValid||f.isValid)&&te!==n.isValid?{}:{name:Y},...t.resolver||!Y?{isValid:te}:{},errors:n.errors}),le.shouldFocus&&!oe&&yv(r,G,Y?ae:l.mount),oe},W=(Y,le)=>{let te={...o.mount?s:i};return le&&(te=TG(le.dirtyFields?n.dirtyFields:n.touchedFields,te)),ki(Y)?te:qo(Y)?Ot(te,Y):Y.map(oe=>Ot(te,oe))},O=(Y,le)=>({invalid:!!Ot((le||n).errors,Y),isDirty:!!Ot((le||n).dirtyFields,Y),error:Ot((le||n).errors,Y),isValidating:!!Ot(n.validatingFields,Y),isTouched:!!Ot((le||n).touchedFields,Y)}),P=Y=>{Y&&xv(Y).forEach(le=>Li(n.errors,le)),h.state.next({errors:Y?n.errors:{}})},B=(Y,le,te)=>{const oe=(Ot(r,Y,{_f:{}})._f||{}).ref,ae=Ot(n.errors,Y)||{},{ref:fe,message:Ae,type:Me,...Ve}=ae;Fr(n.errors,Y,{...Ve,...le,ref:oe}),h.state.next({name:Y,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&oe&&oe.focus&&oe.focus()},K=(Y,le)=>sc(Y)?h.state.subscribe({next:te=>"values"in te&&Y(E(void 0,le),te)}):E(Y,le,!0),Q=Y=>h.state.subscribe({next:le=>{Oxe(Y.name,le.name,Y.exact)&&Pxe(le,Y.formState||d,re,Y.reRenderRoot)&&Y.callback({values:{...s},...n,...le,defaultValues:i})}}).unsubscribe,L=Y=>(o.mount=!0,f={...f,...Y.formState},Q({...Y,formState:f})),ee=(Y,le={})=>{for(const te of Y?xv(Y):l.mount)l.mount.delete(te),l.array.delete(te),le.keepValue||(Li(r,te),Li(s,te)),!le.keepError&&Li(n.errors,te),!le.keepDirty&&Li(n.dirtyFields,te),!le.keepTouched&&Li(n.touchedFields,te),!le.keepIsValidating&&Li(n.validatingFields,te),!t.shouldUnregister&&!le.keepDefaultValue&&Li(i,te);h.state.next({values:vs(s)}),h.state.next({...n,...le.keepDirty?{isDirty:j()}:{}}),!le.keepIsValid&&m()},ge=({disabled:Y,name:le})=>{(zc(Y)&&o.mount||Y||l.disabled.has(le))&&(Y?l.disabled.add(le):l.disabled.delete(le))},he=(Y,le={})=>{let te=Ot(r,Y);const oe=zc(le.disabled)||zc(t.disabled);return Fr(r,Y,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:Y}},name:Y,mount:!0,...le}}),l.mount.add(Y),te?ge({disabled:zc(le.disabled)?le.disabled:t.disabled,name:Y}):w(Y,!0,le.value),{...oe?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:my(le.min),max:my(le.max),minLength:my(le.minLength),maxLength:my(le.maxLength),pattern:my(le.pattern)}:{},name:Y,onChange:z,onBlur:z,ref:ae=>{if(ae){he(Y,le),te=Ot(r,Y);const fe=ki(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,Ae=kxe(fe),Me=te._f.refs||[];if(Ae?Me.find(Ve=>Ve===fe):fe===te._f.ref)return;Fr(r,Y,{_f:{...te._f,...Ae?{refs:[...Me.filter(Dk),fe,...Array.isArray(Ot(i,Y))?[{}]:[]],ref:{type:fe.type,name:Y}}:{ref:fe}}}),w(Y,!1,void 0,fe)}else te=Ot(r,Y,{}),te._f&&(te._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(wxe(l.array,Y)&&o.action)&&l.unMount.add(Y)}}},be=()=>t.shouldFocusError&&yv(r,G,l.mount),Oe=Y=>{zc(Y)&&(h.state.next({disabled:Y}),yv(r,(le,te)=>{const oe=Ot(r,te);oe&&(le.disabled=oe._f.disabled||Y,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ae=>{ae.disabled=oe._f.disabled||Y}))},0,!1))},Z=(Y,le)=>async te=>{let oe;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ae=vs(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:fe,values:Ae}=await _();n.errors=fe,ae=vs(Ae)}else await C(r);if(l.disabled.size)for(const fe of l.disabled)Li(ae,fe);if(Li(n.errors,"root"),Da(n.errors)){h.state.next({errors:{}});try{await Y(ae,te)}catch(fe){oe=fe}}else le&&await le({...n.errors},te),be(),setTimeout(be);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Da(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},Ie=(Y,le={})=>{Ot(r,Y)&&(ki(le.defaultValue)?U(Y,vs(Ot(i,Y))):(U(Y,le.defaultValue),Fr(i,Y,vs(le.defaultValue))),le.keepTouched||Li(n.touchedFields,Y),le.keepDirty||(Li(n.dirtyFields,Y),n.isDirty=le.defaultValue?j(Y,vs(Ot(i,Y))):j()),le.keepError||(Li(n.errors,Y),d.isValid&&m()),h.state.next({...n}))},V=(Y,le={})=>{const te=Y?vs(Y):i,oe=vs(te),ae=Da(Y),fe=ae?i:oe;if(le.keepDefaultValues||(i=te),!le.keepValues){if(le.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(vg(i,s))]);for(const Me of Array.from(Ae))Ot(n.dirtyFields,Me)?Fr(fe,Me,Ot(s,Me)):U(Me,Ot(fe,Me))}else{if(L3&&ki(Y))for(const Ae of l.mount){const Me=Ot(r,Ae);if(Me&&Me._f){const Ve=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(L_(Ve)){const ot=Ve.closest("form");if(ot){ot.reset();break}}}}if(le.keepFieldsRef)for(const Ae of l.mount)U(Ae,Ot(fe,Ae));else r={}}s=t.shouldUnregister?le.keepDefaultValues?vs(i):{}:vs(fe),h.array.next({values:{...fe}}),h.state.next({values:{...fe}})}l={mount:le.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!le.keepIsValid||!!le.keepDirtyValues||!t.shouldUnregister&&!Da(fe),o.watch=!!t.shouldUnregister,o.action=!1,le.keepErrors||(n.errors={}),h.state.next({submitCount:le.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:le.keepDirty?n.isDirty:!!(le.keepDefaultValues&&!Ef(Y,i)),isSubmitted:le.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?{}:le.keepDirtyValues?le.keepDefaultValues&&s?vg(i,s):n.dirtyFields:le.keepDefaultValues&&Y?vg(i,Y):le.keepDirty?n.dirtyFields:{},touchedFields:le.keepTouched?n.touchedFields:{},errors:le.keepErrors?n.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ke=(Y,le)=>V(sc(Y)?Y(s):Y,le),xe=(Y,le={})=>{const te=Ot(r,Y),oe=te&&te._f;if(oe){const ae=oe.refs?oe.refs[0]:oe.ref;ae.focus&&(ae.focus(),le.shouldSelect&&sc(ae.select)&&ae.select())}},re=Y=>{n={...n,...Y}},pe={control:{register:he,unregister:ee,getFieldState:O,handleSubmit:Z,setError:B,_subscribe:Q,_runSchema:_,_focusError:be,_getWatch:E,_getDirty:j,_setValid:m,_setFieldArray:v,_setDisabledField:ge,_setErrors:b,_getFieldArray:D,_reset:V,_resetDefaultValues:()=>sc(t.defaultValues)&&t.defaultValues().then(Y=>{ke(Y,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Oe,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(Y){o=Y},get _defaultValues(){return i},get _names(){return l},set _names(Y){l=Y},get _formState(){return n},get _options(){return t},set _options(Y){t={...t,...Y}}},subscribe:L,trigger:F,register:he,handleSubmit:Z,watch:K,setValue:U,getValues:W,reset:ke,resetField:Ie,clearErrors:P,unregister:ee,setError:B,setFocus:xe,getFieldState:O};return{...pe,formControl:pe}}function Vxe(e={}){const t=Yr.useRef(void 0),n=Yr.useRef(void 0),[r,i]=Yr.useState({isDirty:!1,isValidating:!1,isLoading:sc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:sc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!sc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Bxe(e);t.current={...l,formState:r}}const s=t.current.control;return s._options=e,Nxe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),Yr.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Yr.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Yr.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Yr.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Yr.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Yr.useEffect(()=>{var o;e.values&&!Ef(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),n.current=e.values,i(l=>({...l}))):s._resetDefaultValues()},[s,e.values]),Yr.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Exe(r,s),t.current}const G8=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ot(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},CG=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?G8(r.ref,n,e):r.refs&&r.refs.forEach(i=>G8(i,n,e))}},qxe=(e,t)=>{t.shouldUseNativeValidation&&CG(e,t);const n={};for(const r in e){const i=Ot(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(Wxe(t.names||Object.keys(e),r)){const o=Object.assign({},Ot(n,r));Fr(o,"root",s),Fr(n,r,o)}else Fr(n,r,s)}return n},Wxe=(e,t)=>e.some(n=>n.startsWith(t+"."));var zxe=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=_G(o,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},$xe=function(e,t,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return s.shouldUseNativeValidation&&CG({},s),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:qxe(zxe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},gr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(gr||(gr={}));var Q8;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Q8||(Q8={}));const Ut=gr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pf=e=>{switch(typeof e){case"undefined":return Ut.undefined;case"string":return Ut.string;case"number":return Number.isNaN(e)?Ut.nan:Ut.number;case"boolean":return Ut.boolean;case"function":return Ut.function;case"bigint":return Ut.bigint;case"symbol":return Ut.symbol;case"object":return Array.isArray(e)?Ut.array:e===null?Ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ut.promise:typeof Map<"u"&&e instanceof Map?Ut.map:typeof Set<"u"&&e instanceof Set?Ut.set:typeof Date<"u"&&e instanceof Date?Ut.date:Ut.object;default:return Ut.unknown}},xt=gr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bd extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(t){if(!(t instanceof bd))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bd.create=e=>new bd(e);const gj=(e,t)=>{let n;switch(e.code){case xt.invalid_type:e.received===Ut.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case xt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,gr.jsonStringifyReplacer)}`;break;case xt.unrecognized_keys:n=`Unrecognized key(s) in object: ${gr.joinValues(e.keys,", ")}`;break;case xt.invalid_union:n="Invalid input";break;case xt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${gr.joinValues(e.options)}`;break;case xt.invalid_enum_value:n=`Invalid enum value. Expected ${gr.joinValues(e.options)}, received '${e.received}'`;break;case xt.invalid_arguments:n="Invalid function arguments";break;case xt.invalid_return_type:n="Invalid function return type";break;case xt.invalid_date:n="Invalid date";break;case xt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:gr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case xt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case xt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case xt.custom:n="Invalid input";break;case xt.invalid_intersection_types:n="Intersection results could not be merged";break;case xt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case xt.not_finite:n="Number must be finite";break;default:n=t.defaultError,gr.assertNever(e)}return{message:n}};let Hxe=gj;function Gxe(){return Hxe}const Qxe=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function Ct(e,t){const n=Gxe(),r=Qxe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===gj?void 0:gj].filter(i=>!!i)});e.common.issues.push(r)}class Zo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return yn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Zo.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return yn;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const yn=Object.freeze({status:"aborted"}),zy=e=>({status:"dirty",value:e}),Ll=e=>({status:"valid",value:e}),K8=e=>e.status==="aborted",X8=e=>e.status==="dirty",F0=e=>e.status==="valid",U_=e=>typeof Promise<"u"&&e instanceof Promise;var $t;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($t||($t={}));class lh{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Y8=(e,t)=>{if(F0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bd(e.common.issues);return this._error=n,this._error}}};function Ln(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class mr{get description(){return this._def.description}_getType(t){return pf(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:pf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Zo,ctx:{common:t.parent.common,data:t.data,parsedType:pf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(U_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pf(t)},i=this._parseSync({data:t,path:r.path,parent:r});return Y8(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pf(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return F0(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>F0(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pf(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(U_(i)?i:Promise.resolve(i));return Y8(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),l=()=>s.addIssue({code:xt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new M0({schema:this,typeName:vn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Jf.create(this,this._def)}nullable(){return U0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return uu.create(this)}promise(){return W_.create(this,this._def)}or(t){return V_.create([this,t],this._def)}and(t){return q_.create(this,t,this._def)}transform(t){return new M0({...Ln(this._def),schema:this,typeName:vn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new yj({...Ln(this._def),innerType:this,defaultValue:n,typeName:vn.ZodDefault})}brand(){return new xye({typeName:vn.ZodBranded,type:this,...Ln(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new vj({...Ln(this._def),innerType:this,catchValue:n,typeName:vn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return q3.create(this,t)}readonly(){return bj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kxe=/^c[^\s-]{8,}$/i,Xxe=/^[0-9a-z]+$/,Yxe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Zxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jxe=/^[a-z0-9_-]{21}$/i,eye=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tye=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nye=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rye="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jk;const iye=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sye=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aye=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oye=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lye=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cye=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uye=new RegExp(`^${DG}$`);function jG(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function dye(e){return new RegExp(`^${jG(e)}$`)}function fye(e){let t=`${DG}T${jG(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function hye(e,t){return!!((t==="v4"||!t)&&iye.test(e)||(t==="v6"||!t)&&aye.test(e))}function pye(e,t){if(!eye.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function mye(e,t){return!!((t==="v4"||!t)&&sye.test(e)||(t==="v6"||!t)&&oye.test(e))}class Lf extends mr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ut.string){const s=this._getOrReturnCtx(t);return Ct(s,{code:xt.invalid_type,expected:Ut.string,received:s.parsedType}),yn}const r=new Zo;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Ct(i,{code:xt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Ct(i,{code:xt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")nye.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"email",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")jk||(jk=new RegExp(rye,"u")),jk.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"emoji",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Zxe.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"uuid",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Jxe.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"nanoid",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Kxe.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"cuid",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Xxe.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"cuid2",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Yxe.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"ulid",code:xt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ct(i,{validation:"url",code:xt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"regex",code:xt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?fye(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?uye.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?dye(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?tye.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"duration",code:xt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?hye(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"ip",code:xt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?pye(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"jwt",code:xt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?mye(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"cidr",code:xt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?lye.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"base64",code:xt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?cye.test(t.data)||(i=this._getOrReturnCtx(t,i),Ct(i,{validation:"base64url",code:xt.invalid_string,message:s.message}),r.dirty()):gr.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:xt.invalid_string,...$t.errToObj(r)})}_addCheck(t){return new Lf({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$t.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$t.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$t.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$t.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$t.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$t.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$t.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$t.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$t.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$t.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$t.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$t.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$t.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$t.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$t.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$t.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...$t.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...$t.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...$t.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...$t.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...$t.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...$t.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...$t.errToObj(n)})}nonempty(t){return this.min(1,$t.errToObj(t))}trim(){return new Lf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Lf.create=e=>new Lf({checks:[],typeName:vn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ln(e)});function gye(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class p1 extends mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ut.number){const s=this._getOrReturnCtx(t);return Ct(s,{code:xt.invalid_type,expected:Ut.number,received:s.parsedType}),yn}let r;const i=new Zo;for(const s of this._def.checks)s.kind==="int"?gr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?gye(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.not_finite,message:s.message}),i.dirty()):gr.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,$t.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$t.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$t.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$t.toString(n))}setLimit(t,n,r,i){return new p1({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:$t.toString(i)}]})}_addCheck(t){return new p1({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$t.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$t.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$t.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:$t.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$t.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$t.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gr.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}p1.create=e=>new p1({checks:[],typeName:vn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ln(e)});class m1 extends mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ut.bigint)return this._getInvalidInput(t);let r;const i=new Zo;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:xt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):gr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ct(n,{code:xt.invalid_type,expected:Ut.bigint,received:n.parsedType}),yn}gte(t,n){return this.setLimit("min",t,!0,$t.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$t.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$t.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$t.toString(n))}setLimit(t,n,r,i){return new m1({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:$t.toString(i)}]})}_addCheck(t){return new m1({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$t.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$t.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}m1.create=e=>new m1({checks:[],typeName:vn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ln(e)});class Z8 extends mr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ut.boolean){const r=this._getOrReturnCtx(t);return Ct(r,{code:xt.invalid_type,expected:Ut.boolean,received:r.parsedType}),yn}return Ll(t.data)}}Z8.create=e=>new Z8({typeName:vn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ln(e)});class B_ extends mr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ut.date){const s=this._getOrReturnCtx(t);return Ct(s,{code:xt.invalid_type,expected:Ut.date,received:s.parsedType}),yn}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ct(s,{code:xt.invalid_date}),yn}const r=new Zo;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Ct(i,{code:xt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):gr.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new B_({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:$t.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:$t.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}B_.create=e=>new B_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:vn.ZodDate,...Ln(e)});class J8 extends mr{_parse(t){if(this._getType(t)!==Ut.symbol){const r=this._getOrReturnCtx(t);return Ct(r,{code:xt.invalid_type,expected:Ut.symbol,received:r.parsedType}),yn}return Ll(t.data)}}J8.create=e=>new J8({typeName:vn.ZodSymbol,...Ln(e)});class eL extends mr{_parse(t){if(this._getType(t)!==Ut.undefined){const r=this._getOrReturnCtx(t);return Ct(r,{code:xt.invalid_type,expected:Ut.undefined,received:r.parsedType}),yn}return Ll(t.data)}}eL.create=e=>new eL({typeName:vn.ZodUndefined,...Ln(e)});class tL extends mr{_parse(t){if(this._getType(t)!==Ut.null){const r=this._getOrReturnCtx(t);return Ct(r,{code:xt.invalid_type,expected:Ut.null,received:r.parsedType}),yn}return Ll(t.data)}}tL.create=e=>new tL({typeName:vn.ZodNull,...Ln(e)});class nL extends mr{constructor(){super(...arguments),this._any=!0}_parse(t){return Ll(t.data)}}nL.create=e=>new nL({typeName:vn.ZodAny,...Ln(e)});class rL extends mr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ll(t.data)}}rL.create=e=>new rL({typeName:vn.ZodUnknown,...Ln(e)});class ch extends mr{_parse(t){const n=this._getOrReturnCtx(t);return Ct(n,{code:xt.invalid_type,expected:Ut.never,received:n.parsedType}),yn}}ch.create=e=>new ch({typeName:vn.ZodNever,...Ln(e)});class iL extends mr{_parse(t){if(this._getType(t)!==Ut.undefined){const r=this._getOrReturnCtx(t);return Ct(r,{code:xt.invalid_type,expected:Ut.void,received:r.parsedType}),yn}return Ll(t.data)}}iL.create=e=>new iL({typeName:vn.ZodVoid,...Ln(e)});class uu extends mr{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Ut.array)return Ct(n,{code:xt.invalid_type,expected:Ut.array,received:n.parsedType}),yn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Ct(n,{code:o?xt.too_big:xt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ct(n,{code:xt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ct(n,{code:xt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new lh(n,o,n.path,l)))).then(o=>Zo.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new lh(n,o,n.path,l)));return Zo.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new uu({...this._def,minLength:{value:t,message:$t.toString(n)}})}max(t,n){return new uu({...this._def,maxLength:{value:t,message:$t.toString(n)}})}length(t,n){return new uu({...this._def,exactLength:{value:t,message:$t.toString(n)}})}nonempty(t){return this.min(1,t)}}uu.create=(e,t)=>new uu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:vn.ZodArray,...Ln(t)});function bg(e){if(e instanceof qi){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Jf.create(bg(r))}return new qi({...e._def,shape:()=>t})}else return e instanceof uu?new uu({...e._def,type:bg(e.element)}):e instanceof Jf?Jf.create(bg(e.unwrap())):e instanceof U0?U0.create(bg(e.unwrap())):e instanceof Jp?Jp.create(e.items.map(t=>bg(t))):e}class qi extends mr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=gr.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ut.object){const u=this._getOrReturnCtx(t);return Ct(u,{code:xt.invalid_type,expected:Ut.object,received:u.parsedType}),yn}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ch&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new lh(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ch){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Ct(i,{code:xt.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new lh(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Zo.mergeObjectSync(r,u)):Zo.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return $t.errToObj,new qi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:$t.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new qi({...this._def,unknownKeys:"strip"})}passthrough(){return new qi({...this._def,unknownKeys:"passthrough"})}extend(t){return new qi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new qi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:vn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new qi({...this._def,catchall:t})}pick(t){const n={};for(const r of gr.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new qi({...this._def,shape:()=>n})}omit(t){const n={};for(const r of gr.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new qi({...this._def,shape:()=>n})}deepPartial(){return bg(this)}partial(t){const n={};for(const r of gr.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new qi({...this._def,shape:()=>n})}required(t){const n={};for(const r of gr.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Jf;)s=s._def.innerType;n[r]=s}return new qi({...this._def,shape:()=>n})}keyof(){return IG(gr.objectKeys(this.shape))}}qi.create=(e,t)=>new qi({shape:()=>e,unknownKeys:"strip",catchall:ch.create(),typeName:vn.ZodObject,...Ln(t)});qi.strictCreate=(e,t)=>new qi({shape:()=>e,unknownKeys:"strict",catchall:ch.create(),typeName:vn.ZodObject,...Ln(t)});qi.lazycreate=(e,t)=>new qi({shape:e,unknownKeys:"strip",catchall:ch.create(),typeName:vn.ZodObject,...Ln(t)});class V_ extends mr{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new bd(l.ctx.common.issues));return Ct(n,{code:xt.invalid_union,unionErrors:o}),yn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new bd(c));return Ct(n,{code:xt.invalid_union,unionErrors:l}),yn}}get options(){return this._def.options}}V_.create=(e,t)=>new V_({options:e,typeName:vn.ZodUnion,...Ln(t)});function xj(e,t){const n=pf(e),r=pf(t);if(e===t)return{valid:!0,data:e};if(n===Ut.object&&r===Ut.object){const i=gr.objectKeys(t),s=gr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=xj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ut.array&&r===Ut.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=xj(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ut.date&&r===Ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class q_ extends mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(K8(s)||K8(o))return yn;const l=xj(s.value,o.value);return l.valid?((X8(s)||X8(o))&&n.dirty(),{status:n.value,value:l.data}):(Ct(r,{code:xt.invalid_intersection_types}),yn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}q_.create=(e,t,n)=>new q_({left:e,right:t,typeName:vn.ZodIntersection,...Ln(n)});class Jp extends mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ut.array)return Ct(r,{code:xt.invalid_type,expected:Ut.array,received:r.parsedType}),yn;if(r.data.length<this._def.items.length)return Ct(r,{code:xt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yn;!this._def.rest&&r.data.length>this._def.items.length&&(Ct(r,{code:xt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new lh(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Zo.mergeArray(n,o)):Zo.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Jp({...this._def,rest:t})}}Jp.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jp({items:e,typeName:vn.ZodTuple,rest:null,...Ln(t)})};class sL extends mr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ut.map)return Ct(r,{code:xt.invalid_type,expected:Ut.map,received:r.parsedType}),yn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new lh(r,l,r.path,[u,"key"])),value:s._parse(new lh(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return yn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return yn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}sL.create=(e,t,n)=>new sL({valueType:t,keyType:e,typeName:vn.ZodMap,...Ln(n)});class g1 extends mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ut.set)return Ct(r,{code:xt.invalid_type,expected:Ut.set,received:r.parsedType}),yn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ct(r,{code:xt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ct(r,{code:xt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return yn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>s._parse(new lh(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new g1({...this._def,minSize:{value:t,message:$t.toString(n)}})}max(t,n){return new g1({...this._def,maxSize:{value:t,message:$t.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}g1.create=(e,t)=>new g1({valueType:e,minSize:null,maxSize:null,typeName:vn.ZodSet,...Ln(t)});class aL extends mr{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}aL.create=(e,t)=>new aL({getter:e,typeName:vn.ZodLazy,...Ln(t)});class oL extends mr{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ct(n,{received:n.data,code:xt.invalid_literal,expected:this._def.value}),yn}return{status:"valid",value:t.data}}get value(){return this._def.value}}oL.create=(e,t)=>new oL({value:e,typeName:vn.ZodLiteral,...Ln(t)});function IG(e,t){return new L0({values:e,typeName:vn.ZodEnum,...Ln(t)})}class L0 extends mr{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ct(n,{expected:gr.joinValues(r),received:n.parsedType,code:xt.invalid_type}),yn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ct(n,{received:n.data,code:xt.invalid_enum_value,options:r}),yn}return Ll(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return L0.create(t,{...this._def,...n})}exclude(t,n=this._def){return L0.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}L0.create=IG;class lL extends mr{_parse(t){const n=gr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ut.string&&r.parsedType!==Ut.number){const i=gr.objectValues(n);return Ct(r,{expected:gr.joinValues(i),received:r.parsedType,code:xt.invalid_type}),yn}if(this._cache||(this._cache=new Set(gr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=gr.objectValues(n);return Ct(r,{received:r.data,code:xt.invalid_enum_value,options:i}),yn}return Ll(t.data)}get enum(){return this._def.values}}lL.create=(e,t)=>new lL({values:e,typeName:vn.ZodNativeEnum,...Ln(t)});class W_ extends mr{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ut.promise&&n.common.async===!1)return Ct(n,{code:xt.invalid_type,expected:Ut.promise,received:n.parsedType}),yn;const r=n.parsedType===Ut.promise?n.data:Promise.resolve(n.data);return Ll(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}W_.create=(e,t)=>new W_({type:e,typeName:vn.ZodPromise,...Ln(t)});class M0 extends mr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{Ct(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return yn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?yn:c.status==="dirty"||n.value==="dirty"?zy(c.value):c});{if(n.value==="aborted")return yn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?yn:l.status==="dirty"||n.value==="dirty"?zy(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?yn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?yn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!F0(o))return yn;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>F0(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):yn);gr.assertNever(i)}}M0.create=(e,t,n)=>new M0({schema:e,typeName:vn.ZodEffects,effect:t,...Ln(n)});M0.createWithPreprocess=(e,t,n)=>new M0({schema:t,effect:{type:"preprocess",transform:e},typeName:vn.ZodEffects,...Ln(n)});class Jf extends mr{_parse(t){return this._getType(t)===Ut.undefined?Ll(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Jf.create=(e,t)=>new Jf({innerType:e,typeName:vn.ZodOptional,...Ln(t)});class U0 extends mr{_parse(t){return this._getType(t)===Ut.null?Ll(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}U0.create=(e,t)=>new U0({innerType:e,typeName:vn.ZodNullable,...Ln(t)});class yj extends mr{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ut.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yj.create=(e,t)=>new yj({innerType:e,typeName:vn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ln(t)});class vj extends mr{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return U_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bd(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bd(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}vj.create=(e,t)=>new vj({innerType:e,typeName:vn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ln(t)});class cL extends mr{_parse(t){if(this._getType(t)!==Ut.nan){const r=this._getOrReturnCtx(t);return Ct(r,{code:xt.invalid_type,expected:Ut.nan,received:r.parsedType}),yn}return{status:"valid",value:t.data}}}cL.create=e=>new cL({typeName:vn.ZodNaN,...Ln(e)});class xye extends mr{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class q3 extends mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?yn:s.status==="dirty"?(n.dirty(),zy(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?yn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new q3({in:t,out:n,typeName:vn.ZodPipeline})}}class bj extends mr{_parse(t){const n=this._def.innerType._parse(t),r=i=>(F0(i)&&(i.value=Object.freeze(i.value)),i);return U_(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}bj.create=(e,t)=>new bj({innerType:e,typeName:vn.ZodReadonly,...Ln(t)});var vn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(vn||(vn={}));const wj=Lf.create;ch.create;uu.create;const yye=qi.create;V_.create;q_.create;Jp.create;L0.create;W_.create;Jf.create;U0.create;const RG=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),FE=S.createContext({}),LE=S.createContext(null),ME=typeof document<"u",W3=ME?S.useLayoutEffect:S.useEffect,PG=S.createContext({strict:!1}),z3=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vye="framerAppearId",OG="data-"+z3(vye);function bye(e,t,n,r){const{visualElement:i}=S.useContext(FE),s=S.useContext(PG),o=S.useContext(LE),l=S.useContext(RG).reducedMotion,c=S.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;S.useInsertionEffect(()=>{u&&u.update(n,o)});const d=S.useRef(!!(n[OG]&&!window.HandoffComplete));return W3(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Og(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wye(e,t,n){return S.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Og(n)&&(n.current=r))},[t])}function x1(e){return typeof e=="string"||Array.isArray(e)}function UE(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const $3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],H3=["initial",...$3];function BE(e){return UE(e.animate)||H3.some(t=>x1(e[t]))}function FG(e){return!!(BE(e)||e.variants)}function _ye(e,t){if(BE(e)){const{initial:n,animate:r}=e;return{initial:n===!1||x1(n)?n:void 0,animate:x1(r)?r:void 0}}return e.inherit!==!1?t:{}}function Tye(e){const{initial:t,animate:n}=_ye(e,S.useContext(FE));return S.useMemo(()=>({initial:t,animate:n}),[uL(t),uL(n)])}function uL(e){return Array.isArray(e)?e.join(" "):e}const dL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},y1={};for(const e in dL)y1[e]={isEnabled:t=>dL[e].some(n=>!!t[n])};function Eye(e){for(const t in e)y1[t]={...y1[t],...e[t]}}const G3=S.createContext({}),LG=S.createContext({}),Nye=Symbol.for("motionComponentSymbol");function Sye({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Eye(e);function s(l,c){let u;const d={...S.useContext(RG),...l,layoutId:kye(l)},{isStatic:f}=d,h=Tye(l),p=r(l,f);if(!f&&ME){h.visualElement=bye(i,p,d,t);const y=S.useContext(LG),m=S.useContext(PG).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,y))}return S.createElement(FE.Provider,{value:h},u&&h.visualElement?S.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,l,wye(p,h.visualElement,c),p,f,h.visualElement))}const o=S.forwardRef(s);return o[Nye]=i,o}function kye({layoutId:e}){const t=S.useContext(G3).id;return t&&e!==void 0?t+"-"+e:e}function Aye(e){function t(r,i={}){return Sye(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Cye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Q3(e){return typeof e!="string"||e.includes("-")?!1:!!(Cye.indexOf(e)>-1||/[A-Z]/.test(e))}const z_={};function Dye(e){Object.assign(z_,e)}const Sb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Am=new Set(Sb);function MG(e,{layout:t,layoutId:n}){return Am.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!z_[e]||e==="opacity")}const To=e=>!!(e&&e.getVelocity),jye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iye=Sb.length;function Rye(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Iye;o++){const l=Sb[o];if(e[l]!==void 0){const c=jye[l]||l;s+=`${c}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const UG=e=>t=>typeof t=="string"&&t.startsWith(e),BG=UG("--"),_j=UG("var(--"),Pye=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Oye=(e,t)=>t&&typeof e=="number"?t.transform(e):e,uh=(e,t,n)=>Math.min(Math.max(n,e),t),Cm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vv={...Cm,transform:e=>uh(0,1,e)},j2={...Cm,default:1},bv=e=>Math.round(e*1e5)/1e5,VE=/(-)?([\d]*\.?[\d])+/g,VG=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Fye=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function kb(e){return typeof e=="string"}const Ab=e=>({test:t=>kb(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uf=Ab("deg"),du=Ab("%"),cn=Ab("px"),Lye=Ab("vh"),Mye=Ab("vw"),fL={...du,parse:e=>du.parse(e)/100,transform:e=>du.transform(e*100)},hL={...Cm,transform:Math.round},qG={borderWidth:cn,borderTopWidth:cn,borderRightWidth:cn,borderBottomWidth:cn,borderLeftWidth:cn,borderRadius:cn,radius:cn,borderTopLeftRadius:cn,borderTopRightRadius:cn,borderBottomRightRadius:cn,borderBottomLeftRadius:cn,width:cn,maxWidth:cn,height:cn,maxHeight:cn,size:cn,top:cn,right:cn,bottom:cn,left:cn,padding:cn,paddingTop:cn,paddingRight:cn,paddingBottom:cn,paddingLeft:cn,margin:cn,marginTop:cn,marginRight:cn,marginBottom:cn,marginLeft:cn,rotate:uf,rotateX:uf,rotateY:uf,rotateZ:uf,scale:j2,scaleX:j2,scaleY:j2,scaleZ:j2,skew:uf,skewX:uf,skewY:uf,distance:cn,translateX:cn,translateY:cn,translateZ:cn,x:cn,y:cn,z:cn,perspective:cn,transformPerspective:cn,opacity:vv,originX:fL,originY:fL,originZ:cn,zIndex:hL,fillOpacity:vv,strokeOpacity:vv,numOctaves:hL};function K3(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(BG(f)){s[f]=h;continue}const p=qG[f],y=Oye(h,p);if(Am.has(f)){if(c=!0,o[f]=y,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):i[f]=y}if(t.transform||(c||r?i.transform=Rye(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;i.transformOrigin=`${f} ${h} ${p}`}}const X3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WG(e,t,n){for(const r in t)!To(t[r])&&!MG(r,n)&&(e[r]=t[r])}function Uye({transformTemplate:e},t,n){return S.useMemo(()=>{const r=X3();return K3(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Bye(e,t,n){const r=e.style||{},i={};return WG(i,r,e),Object.assign(i,Uye(e,t,n)),e.transformValues?e.transformValues(i):i}function Vye(e,t,n){const r={},i=Bye(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const qye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $_(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qye.has(e)}let zG=e=>!$_(e);function Wye(e){e&&(zG=t=>t.startsWith("on")?!$_(t):e(t))}try{Wye(require("@emotion/is-prop-valid").default)}catch{}function zye(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(zG(i)||n===!0&&$_(i)||!t&&!$_(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function pL(e,t,n){return typeof e=="string"?e:cn.transform(t+n*e)}function $ye(e,t,n){const r=pL(t,e.x,e.width),i=pL(n,e.y,e.height);return`${r} ${i}`}const Hye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gye={offset:"strokeDashoffset",array:"strokeDasharray"};function Qye(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Hye:Gye;e[s.offset]=cn.transform(-r);const o=cn.transform(t),l=cn.transform(n);e[s.array]=`${o} ${l}`}function Y3(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(K3(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y,dimensions:m}=e;p.transform&&(m&&(y.transform=p.transform),delete p.transform),m&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=$ye(m,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Qye(p,o,l,c,!1)}const $G=()=>({...X3(),attrs:{}}),Z3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Kye(e,t,n,r){const i=S.useMemo(()=>{const s=$G();return Y3(s,t,{enableHardwareAcceleration:!1},Z3(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};WG(s,e.style,e),i.style={...s,...i.style}}return i}function Xye(e=!1){return(n,r,i,{latestValues:s},o)=>{const c=(Q3(n)?Kye:Vye)(r,s,o,n),d={...zye(r,typeof n=="string",e),...c,ref:i},{children:f}=r,h=S.useMemo(()=>To(f)?f.get():f,[f]);return S.createElement(n,{...d,children:h})}}function HG(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const GG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QG(e,t,n,r){HG(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(GG.has(i)?i:z3(i),t.attrs[i])}function J3(e,t){const{style:n}=e,r={};for(const i in n)(To(n[i])||t.style&&To(t.style[i])||MG(i,e))&&(r[i]=n[i]);return r}function KG(e,t){const n=J3(e,t);for(const r in e)if(To(e[r])||To(t[r])){const i=Sb.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function e5(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function XG(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const H_=e=>Array.isArray(e),Yye=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Zye=e=>H_(e)?e[e.length-1]||0:e;function Fw(e){const t=To(e)?e.get():e;return Yye(t)?t.toValue():t}function Jye({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:eve(r,i,s,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const YG=e=>(t,n)=>{const r=S.useContext(FE),i=S.useContext(LE),s=()=>Jye(e,t,r,i);return n?s():XG(s)};function eve(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Fw(s[h]);let{initial:o,animate:l}=e;const c=BE(e),u=FG(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!UE(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const y=e5(e,p);if(!y)return;const{transitionEnd:m,transition:x,...v}=y;for(const g in v){let b=v[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(i[g]=b)}for(const g in m)i[g]=m[g]}),i}const Ii=e=>e;class mL{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function tve(e){let t=new mL,n=new mL,r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&o.add(c),h.add(c)&&f&&i&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}i=!1,s&&(s=!1,l.process(c))}};return l}const I2=["prepare","read","update","preRender","render","postRender"],nve=40;function rve(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=I2.reduce((f,h)=>(f[h]=tve(()=>n=!0),f),{}),o=f=>s[f].process(i),l=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,nve),1),i.timestamp=f,i.isProcessing=!0,I2.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,i.isProcessing||e(l)};return{schedule:I2.reduce((f,h)=>{const p=s[h];return f[h]=(y,m=!1,x=!1)=>(n||c(),p.schedule(y,m,x)),f},{}),cancel:f=>I2.forEach(h=>s[h].cancel(f)),state:i,steps:s}}const{schedule:Vr,cancel:wd,state:ia,steps:Ik}=rve(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0),ive={useVisualState:YG({scrapeMotionValuesFromProps:KG,createRenderState:$G,onMount:(e,t,{renderState:n,latestValues:r})=>{Vr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Vr.render(()=>{Y3(n,r,{enableHardwareAcceleration:!1},Z3(t.tagName),e.transformTemplate),QG(t,n)})}})},sve={useVisualState:YG({scrapeMotionValuesFromProps:J3,createRenderState:X3})};function ave(e,{forwardMotionProps:t=!1},n,r){return{...Q3(e)?ive:sve,preloadedFeatures:n,useRender:Xye(t),createVisualElement:r,Component:e}}function Zu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ZG=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function qE(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ove=e=>t=>ZG(t)&&e(t,qE(t));function nd(e,t,n,r){return Zu(e,t,ove(n),r)}const lve=(e,t)=>n=>t(e(n)),eh=(...e)=>e.reduce(lve);function JG(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const gL=JG("dragHorizontal"),xL=JG("dragVertical");function eQ(e){let t=!1;if(e==="y")t=xL();else if(e==="x")t=gL();else{const n=gL(),r=xL();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function tQ(){const e=eQ(!0);return e?(e(),!1):!0}class Ah{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yL(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||tQ())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Vr.update(()=>l[r](s,o))};return nd(e.current,n,i,{passive:!e.getProps()[r]})}class cve extends Ah{mount(){this.unmount=eh(yL(this.node,!0),yL(this.node,!1))}unmount(){}}class uve extends Ah{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eh(Zu(this.node.current,"focus",()=>this.onFocus()),Zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nQ=(e,t)=>t?e===t?!0:nQ(e,t.parentElement):!1;function Rk(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,qE(n))}class dve extends Ah{constructor(){super(...arguments),this.removeStartListeners=Ii,this.removeEndListeners=Ii,this.removeAccessibleListeners=Ii,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=nd(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Vr.update(()=>{!f&&!nQ(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=nd(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=eh(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Rk("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Vr.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Zu(this.node.current,"keyup",o),Rk("down",(l,c)=>{this.startPress(l,c)})},n=Zu(this.node.current,"keydown",t),r=()=>{this.isPressing&&Rk("cancel",(s,o)=>this.cancelPress(s,o))},i=Zu(this.node.current,"blur",r);this.removeAccessibleListeners=eh(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Vr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tQ()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Vr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=nd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Zu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=eh(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Tj=new WeakMap,Pk=new WeakMap,fve=e=>{const t=Tj.get(e.target);t&&t(e)},hve=e=>{e.forEach(fve)};function pve({root:e,...t}){const n=e||document;Pk.has(n)||Pk.set(n,{});const r=Pk.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(hve,{root:e,...t})),r[i]}function mve(e,t,n){const r=pve(t);return Tj.set(e,n),r.observe(e),()=>{Tj.delete(e),r.unobserve(e)}}const gve={some:0,all:1};class xve extends Ah{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gve[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return mve(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yve(t,n))&&this.startObserver()}unmount(){}}function yve({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vve={inView:{Feature:xve},tap:{Feature:dve},focus:{Feature:uve},hover:{Feature:cve}};function rQ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function bve(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function wve(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function WE(e,t,n){const r=e.getProps();return e5(r,t,n!==void 0?n:r.custom,bve(e),wve(e))}let t5=Ii;const Ap=e=>e*1e3,rd=e=>e/1e3,_ve={current:!1},iQ=e=>Array.isArray(e)&&typeof e[0]=="number";function sQ(e){return!!(!e||typeof e=="string"&&aQ[e]||iQ(e)||Array.isArray(e)&&e.every(sQ))}const $y=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,aQ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$y([0,.65,.55,1]),circOut:$y([.55,0,1,.45]),backIn:$y([.31,.01,.66,-.59]),backOut:$y([.33,1.53,.69,.99])};function oQ(e){if(e)return iQ(e)?$y(e):Array.isArray(e)?e.map(oQ):aQ[e]}function Tve(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=oQ(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Eve(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const lQ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Nve=1e-7,Sve=12;function kve(e,t,n,r,i){let s,o,l=0;do o=t+(n-t)/2,s=lQ(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Nve&&++l<Sve);return o}function Cb(e,t,n,r){if(e===t&&n===r)return Ii;const i=s=>kve(s,0,1,e,n);return s=>s===0||s===1?s:lQ(i(s),t,r)}const Ave=Cb(.42,0,1,1),Cve=Cb(0,0,.58,1),cQ=Cb(.42,0,.58,1),Dve=e=>Array.isArray(e)&&typeof e[0]!="number",uQ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dQ=e=>t=>1-e(1-t),n5=e=>1-Math.sin(Math.acos(e)),fQ=dQ(n5),jve=uQ(n5),hQ=Cb(.33,1.53,.69,.99),r5=dQ(hQ),Ive=uQ(r5),Rve=e=>(e*=2)<1?.5*r5(e):.5*(2-Math.pow(2,-10*(e-1))),Pve={linear:Ii,easeIn:Ave,easeInOut:cQ,easeOut:Cve,circIn:n5,circInOut:jve,circOut:fQ,backIn:r5,backInOut:Ive,backOut:hQ,anticipate:Rve},vL=e=>{if(Array.isArray(e)){t5(e.length===4);const[t,n,r,i]=e;return Cb(t,n,r,i)}else if(typeof e=="string")return Pve[e];return e},i5=(e,t)=>n=>!!(kb(n)&&Fye.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),pQ=(e,t,n)=>r=>{if(!kb(r))return r;const[i,s,o,l]=r.match(VE);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ove=e=>uh(0,255,e),Ok={...Cm,transform:e=>Math.round(Ove(e))},mp={test:i5("rgb","red"),parse:pQ("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ok.transform(e)+", "+Ok.transform(t)+", "+Ok.transform(n)+", "+bv(vv.transform(r))+")"};function Fve(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ej={test:i5("#"),parse:Fve,transform:mp.transform},Fg={test:i5("hsl","hue"),parse:pQ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+du.transform(bv(t))+", "+du.transform(bv(n))+", "+bv(vv.transform(r))+")"},ja={test:e=>mp.test(e)||Ej.test(e)||Fg.test(e),parse:e=>mp.test(e)?mp.parse(e):Fg.test(e)?Fg.parse(e):Ej.parse(e),transform:e=>kb(e)?e:e.hasOwnProperty("red")?mp.transform(e):Fg.transform(e)},ci=(e,t,n)=>-n*e+n*t+e;function Fk(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lve({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Fk(c,l,e+1/3),s=Fk(c,l,e),o=Fk(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Lk=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Mve=[Ej,mp,Fg],Uve=e=>Mve.find(t=>t.test(e));function bL(e){const t=Uve(e);let n=t.parse(e);return t===Fg&&(n=Lve(n)),n}const mQ=(e,t)=>{const n=bL(e),r=bL(t),i={...n};return s=>(i.red=Lk(n.red,r.red,s),i.green=Lk(n.green,r.green,s),i.blue=Lk(n.blue,r.blue,s),i.alpha=ci(n.alpha,r.alpha,s),mp.transform(i))};function Bve(e){var t,n;return isNaN(e)&&kb(e)&&(((t=e.match(VE))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(VG))===null||n===void 0?void 0:n.length)||0)>0}const gQ={regex:Pye,countKey:"Vars",token:"${v}",parse:Ii},xQ={regex:VG,countKey:"Colors",token:"${c}",parse:ja.parse},yQ={regex:VE,countKey:"Numbers",token:"${n}",parse:Cm.parse};function Mk(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function G_(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Mk(n,gQ),Mk(n,xQ),Mk(n,yQ),n}function vQ(e){return G_(e).values}function bQ(e){const{values:t,numColors:n,numVars:r,tokenised:i}=G_(e),s=t.length;return o=>{let l=i;for(let c=0;c<s;c++)c<r?l=l.replace(gQ.token,o[c]):c<r+n?l=l.replace(xQ.token,ja.transform(o[c])):l=l.replace(yQ.token,bv(o[c]));return l}}const Vve=e=>typeof e=="number"?0:e;function qve(e){const t=vQ(e);return bQ(e)(t.map(Vve))}const dh={test:Bve,parse:vQ,createTransformer:bQ,getAnimatableNone:qve},wQ=(e,t)=>n=>`${n>0?t:e}`;function _Q(e,t){return typeof e=="number"?n=>ci(e,t,n):ja.test(e)?mQ(e,t):e.startsWith("var(")?wQ(e,t):EQ(e,t)}const TQ=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>_Q(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Wve=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=_Q(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},EQ=(e,t)=>{const n=dh.createTransformer(t),r=G_(e),i=G_(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?eh(TQ(r.values,i.values),n):wQ(e,t)},v1=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},wL=(e,t)=>n=>ci(e,t,n);function zve(e){return typeof e=="number"?wL:typeof e=="string"?ja.test(e)?mQ:EQ:Array.isArray(e)?TQ:typeof e=="object"?Wve:wL}function $ve(e,t,n){const r=[],i=n||zve(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ii:t;l=eh(c,l)}r.push(l)}return r}function NQ(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(t5(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=$ve(t,r,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=v1(e[d],e[d+1],u);return o[d](f)};return n?u=>c(uh(e[0],e[s-1],u)):c}function Hve(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=v1(0,t,r);e.push(ci(n,1,i))}}function Gve(e){const t=[0];return Hve(t,e.length-1),t}function Qve(e,t){return e.map(n=>n*t)}function Kve(e,t){return e.map(()=>t||cQ).splice(0,e.length-1)}function Q_({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Dve(r)?r.map(vL):vL(r),s={done:!1,value:t[0]},o=Qve(n&&n.length===t.length?n:Gve(t),e),l=NQ(o,t,{ease:Array.isArray(i)?i:Kve(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}function SQ(e,t){return t?e*(1e3/t):0}const Xve=5;function kQ(e,t,n){const r=Math.max(t-Xve,0);return SQ(n-e(r),t-r)}const Uk=.001,Yve=.01,Zve=10,Jve=.05,e1e=1;function t1e({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=uh(Jve,e1e,o),e=uh(Yve,Zve,rd(e)),o<1?(i=u=>{const d=u*o,f=d*e,h=d-n,p=Nj(u,o),y=Math.exp(-f);return Uk-h/p*y},s=u=>{const f=u*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),m=Nj(Math.pow(u,2),o);return(-i(u)+Uk>0?-1:1)*((h-p)*y)/m}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Uk+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=r1e(i,s,l);if(e=Ap(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const n1e=12;function r1e(e,t,n){let r=n;for(let i=1;i<n1e;i++)r=r-e(r)/t(r);return r}function Nj(e,t){return e*Math.sqrt(1-t*t)}const i1e=["duration","bounce"],s1e=["stiffness","damping","mass"];function _L(e,t){return t.some(n=>e[n]!==void 0)}function a1e(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!_L(e,s1e)&&_L(e,i1e)){const n=t1e(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function AQ({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=a1e({...r,velocity:-rd(r.velocity||0)}),p=f||0,y=c/(2*Math.sqrt(l*u)),m=s-i,x=rd(Math.sqrt(l/u)),v=Math.abs(m)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let g;if(y<1){const b=Nj(x,y);g=w=>{const T=Math.exp(-y*x*w);return s-T*((p+y*x*m)/b*Math.sin(b*w)+m*Math.cos(b*w))}}else if(y===1)g=b=>s-Math.exp(-x*b)*(m+(p+x*m)*b);else{const b=x*Math.sqrt(y*y-1);g=w=>{const T=Math.exp(-y*x*w),k=Math.min(b*w,300);return s-T*((p+y*x*m)*Math.sinh(k)+b*m*Math.cosh(k))/b}}return{calculatedDuration:h&&d||null,next:b=>{const w=g(b);if(h)o.done=b>=d;else{let T=p;b!==0&&(y<1?T=kQ(g,b,w):T=0);const k=Math.abs(T)<=n,_=Math.abs(s-w)<=t;o.done=k&&_}return o.value=o.done?s:w,o}}}function TL({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=N=>l!==void 0&&N<l||c!==void 0&&N>c,y=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let m=n*t;const x=f+m,v=o===void 0?x:o(x);v!==x&&(m=v-f);const g=N=>-m*Math.exp(-N/r),b=N=>v+g(N),w=N=>{const C=g(N),I=b(N);h.done=Math.abs(C)<=u,h.value=h.done?v:I};let T,k;const _=N=>{p(h.value)&&(T=N,k=AQ({keyframes:[h.value,y(h.value)],velocity:kQ(b,N,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:N=>{let C=!1;return!k&&T===void 0&&(C=!0,w(N),_(N)),T!==void 0&&N>T?k.next(N-T):(!C&&w(N),h)}}}const o1e=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Vr.update(t,!0),stop:()=>wd(t),now:()=>ia.isProcessing?ia.timestamp:performance.now()}},EL=2e4;function NL(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<EL;)t+=n,r=e.next(t);return t>=EL?1/0:t}const l1e={decay:TL,inertia:TL,tween:Q_,keyframes:Q_,spring:AQ};function K_({autoplay:e=!0,delay:t=0,driver:n=o1e,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,y=!1,m,x;const v=()=>{x=new Promise(O=>{m=O})};v();let g;const b=l1e[i]||Q_;let w;b!==Q_&&typeof r[0]!="number"&&(w=NQ([0,100],r,{clamp:!1}),r=[0,100]);const T=b({...h,keyframes:r});let k;l==="mirror"&&(k=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",N=null,C=null,I=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=NL(T));const{calculatedDuration:j}=T;let E=1/0,D=1/0;j!==null&&(E=j+o,D=E*(s+1)-o);let R=0;const M=O=>{if(C===null)return;p>0&&(C=Math.min(C,O)),p<0&&(C=Math.min(O-D/p,C)),N!==null?R=N:R=Math.round(O-C)*p;const P=R-t*(p>=0?1:-1),B=p>=0?P<0:P>D;R=Math.max(P,0),_==="finished"&&N===null&&(R=D);let K=R,Q=T;if(s){const he=Math.min(R,D)/E;let be=Math.floor(he),Oe=he%1;!Oe&&he>=1&&(Oe=1),Oe===1&&be--,be=Math.min(be,s+1),!!(be%2)&&(l==="reverse"?(Oe=1-Oe,o&&(Oe-=o/E)):l==="mirror"&&(Q=k)),K=uh(0,1,Oe)*E}const L=B?{done:!1,value:r[0]}:Q.next(K);w&&(L.value=w(L.value));let{done:ee}=L;!B&&j!==null&&(ee=p>=0?R>=D:R<=0);const ge=N===null&&(_==="finished"||_==="running"&&ee);return f&&f(L.value),ge&&G(),L},U=()=>{g&&g.stop(),g=void 0},z=()=>{_="idle",U(),m(),v(),C=I=null},G=()=>{_="finished",d&&d(),U(),m()},F=()=>{if(y)return;g||(g=n(M));const O=g.now();c&&c(),N!==null?C=O-N:(!C||_==="finished")&&(C=O),_==="finished"&&v(),I=C,N=null,_="running",g.start()};e&&F();const W={then(O,P){return x.then(O,P)},get time(){return rd(R)},set time(O){O=Ap(O),R=O,N!==null||!g||p===0?N=O:C=g.now()-O/p},get duration(){const O=T.calculatedDuration===null?NL(T):T.calculatedDuration;return rd(O)},get speed(){return p},set speed(O){O===p||!g||(p=O,W.time=rd(R))},get state(){return _},play:F,pause:()=>{_="paused",N=R},stop:()=>{y=!0,_!=="idle"&&(_="idle",u&&u(),z())},cancel:()=>{I!==null&&M(I),z()},complete:()=>{_="finished"},sample:O=>(C=0,M(O))};return W}function c1e(e){let t;return()=>(t===void 0&&(t=e()),t)}const u1e=c1e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),d1e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),R2=10,f1e=2e4,h1e=(e,t)=>t.type==="spring"||e==="backgroundColor"||!sQ(t.ease);function p1e(e,t,{onUpdate:n,onComplete:r,...i}){if(!(u1e()&&d1e.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:h=300,ease:p,times:y}=i;if(h1e(t,i)){const b=K_({...i,repeat:0,delay:0});let w={done:!1,value:f[0]};const T=[];let k=0;for(;!w.done&&k<f1e;)w=b.sample(k),T.push(w.value),k+=R2;y=void 0,f=T,h=k-R2,p="linear"}const m=Tve(e.owner.current,t,f,{...i,duration:h,ease:p,times:y}),x=()=>{u=!1,m.cancel()},v=()=>{u=!0,Vr.update(x),l(),d()};return m.onfinish=()=>{u||(e.set(Eve(f,i)),r&&r(),v())},{then(b,w){return c.then(b,w)},attachTimeline(b){return m.timeline=b,m.onfinish=null,Ii},get time(){return rd(m.currentTime||0)},set time(b){m.currentTime=Ap(b)},get speed(){return m.playbackRate},set speed(b){m.playbackRate=b},get duration(){return rd(h)},play:()=>{o||(m.play(),wd(x))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:b}=m;if(b){const w=K_({...i,autoplay:!1});e.setWithVelocity(w.sample(b-R2).value,w.sample(b).value,R2)}v()},complete:()=>{u||m.finish()},cancel:v}}function m1e({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ii,pause:Ii,stop:Ii,then:s=>(s(),Promise.resolve()),cancel:Ii,complete:Ii});return t?K_({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const g1e={type:"spring",stiffness:500,damping:25,restSpeed:10},x1e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),y1e={type:"keyframes",duration:.8},v1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b1e=(e,{keyframes:t})=>t.length>2?y1e:Am.has(e)?e.startsWith("scale")?x1e(t[1]):g1e:v1e,Sj=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dh.test(t)||t==="0")&&!t.startsWith("url(")),w1e=new Set(["brightness","contrast","saturate","opacity"]);function _1e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(VE)||[];if(!r)return e;const i=n.replace(r,"");let s=w1e.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const T1e=/([a-z-]*)\(.*?\)/g,kj={...dh,getAnimatableNone:e=>{const t=e.match(T1e);return t?t.map(_1e).join(" "):e}},E1e={...qG,color:ja,backgroundColor:ja,outlineColor:ja,fill:ja,stroke:ja,borderColor:ja,borderTopColor:ja,borderRightColor:ja,borderBottomColor:ja,borderLeftColor:ja,filter:kj,WebkitFilter:kj},s5=e=>E1e[e];function CQ(e,t){let n=s5(e);return n!==kj&&(n=dh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DQ=e=>/^0[^.\s]+$/.test(e);function N1e(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||DQ(e)}function S1e(e,t,n,r){const i=Sj(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),N1e(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];s[d]=CQ(t,l)}return s}function k1e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function a5(e,t){return e[t]||e.default||e}const A1e={skipAnimations:!1},o5=(e,t,n,r={})=>i=>{const s=a5(r,e)||{},o=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ap(o);const c=S1e(t,e,n,s),u=c[0],d=c[c.length-1],f=Sj(e,u),h=Sj(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:y=>{t.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(k1e(s)||(p={...p,...b1e(e,p)}),p.duration&&(p.duration=Ap(p.duration)),p.repeatDelay&&(p.repeatDelay=Ap(p.repeatDelay)),!f||!h||_ve.current||s.type===!1||A1e.skipAnimations)return m1e(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=p1e(t,e,p);if(y)return y}return K_(p)};function X_(e){return!!(To(e)&&e.add)}const jQ=e=>/^\-?\d*\.?\d+$/.test(e);function l5(e,t){e.indexOf(t)===-1&&e.push(t)}function c5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class u5{constructor(){this.subscriptions=[]}add(t){return l5(this.subscriptions,t),()=>c5(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const C1e=e=>!isNaN(parseFloat(e));class D1e{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ia;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Vr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Vr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=C1e(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new u5);const r=this.events[t].add(n);return t==="change"?()=>{r(),Vr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SQ(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function B0(e,t){return new D1e(e,t)}const IQ=e=>t=>t.test(e),j1e={test:e=>e==="auto",parse:e=>e},RQ=[Cm,cn,du,uf,Mye,Lye,j1e],gy=e=>RQ.find(IQ(e)),I1e=[...RQ,ja,dh],R1e=e=>I1e.find(IQ(e));function P1e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,B0(n))}function O1e(e,t){const n=WE(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const l=Zye(s[o]);P1e(e,o,l)}}function F1e(e,t,n){var r,i;const s=Object.keys(t).filter(l=>!e.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(jQ(d)||DQ(d))?d=parseFloat(d):!R1e(d)&&dh.test(u)&&(d=CQ(c,u)),e.addValue(c,B0(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function L1e(e,t){return t?(t[e]||t.default||t).from:void 0}function M1e(e,t,n){const r={};for(const i in e){const s=L1e(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function U1e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function B1e(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function PQ(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(s=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&U1e(d,f))continue;const y={delay:n,elapsed:0,...a5(s||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[OG];if(v){const g=window.HandoffAppearAnimations(v,f,h,Vr);g!==null&&(y.elapsed=g,y.isHandoff=!0)}}let m=!y.isHandoff&&!B1e(h,p);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(o5(f,h,p,e.shouldReduceMotion&&Am.has(f)?{type:!1}:y));const x=h.animation;X_(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&O1e(e,o)}),u}function Aj(e,t,n={}){const r=WE(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(PQ(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return V1e(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function V1e(e,t,n=0,r=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(q1e).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Aj(u,t,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function q1e(e,t){return e.sortNodePosition(t)}function W1e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Aj(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Aj(e,t,n);else{const i=typeof t=="function"?WE(e,t,n.custom):t;r=Promise.all(PQ(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const z1e=[...$3].reverse(),$1e=$3.length;function H1e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>W1e(e,n,r)))}function G1e(e){let t=H1e(e);const n=K1e();let r=!0;const i=(c,u)=>{const d=WE(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function s(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let y={},m=1/0;for(let v=0;v<$1e;v++){const g=z1e[v],b=n[g],w=d[g]!==void 0?d[g]:f[g],T=x1(w),k=g===u?b.isActive:null;k===!1&&(m=v);let _=w===f[g]&&w!==d[g]&&T;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...y},!b.isActive&&k===null||!w&&!b.prevProp||UE(w)||typeof w=="boolean")continue;let C=Q1e(b.prevProp,w)||g===u&&b.isActive&&!_&&T||v>m&&T,I=!1;const j=Array.isArray(w)?w:[w];let E=j.reduce(i,{});k===!1&&(E={});const{prevResolvedValues:D={}}=b,R={...D,...E},M=U=>{C=!0,p.has(U)&&(I=!0,p.delete(U)),b.needsAnimating[U]=!0};for(const U in R){const z=E[U],G=D[U];if(y.hasOwnProperty(U))continue;let F=!1;H_(z)&&H_(G)?F=!rQ(z,G):F=z!==G,F?z!==void 0?M(U):p.add(U):z!==void 0&&p.has(U)?M(U):b.protectedKeys[U]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(y={...y,...E}),r&&e.blockInitialAnimation&&(C=!1),C&&(!_||I)&&h.push(...j.map(U=>({animation:U,options:{type:g,...c}})))}if(p.size){const v={};p.forEach(g=>{const b=e.getBaseTarget(g);b!==void 0&&(v[g]=b)}),h.push({animation:v})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const h=o(d,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function Q1e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rQ(t,e):!1}function Qh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K1e(){return{animate:Qh(!0),whileInView:Qh(),whileHover:Qh(),whileTap:Qh(),whileDrag:Qh(),whileFocus:Qh(),exit:Qh()}}class X1e extends Ah{constructor(t){super(t),t.animationState||(t.animationState=G1e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),UE(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Y1e=0;class Z1e extends Ah{constructor(){super(...arguments),this.id=Y1e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const J1e={animation:{Feature:X1e},exit:{Feature:Z1e}},SL=(e,t)=>Math.abs(e-t);function ebe(e,t){const n=SL(e.x,t.x),r=SL(e.y,t.y);return Math.sqrt(n**2+r**2)}class OQ{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vk(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=ebe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:m}=ia;this.history.push({...y,timestamp:m});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bk(h,this.transformPagePoint),Vr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Vk(f.type==="pointercancel"?this.lastMoveEventInfo:Bk(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),y&&y(f,x)},!ZG(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=qE(t),l=Bk(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ia;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Vk(l,this.history)),this.removeListeners=eh(nd(this.contextWindow,"pointermove",this.handlePointerMove),nd(this.contextWindow,"pointerup",this.handlePointerUp),nd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wd(this.updatePoint)}}function Bk(e,t){return t?{point:t(e.point)}:e}function kL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vk({point:e},t){return{point:e,delta:kL(e,FQ(t)),offset:kL(e,tbe(t)),velocity:nbe(t,.1)}}function tbe(e){return e[0]}function FQ(e){return e[e.length-1]}function nbe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=FQ(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ap(t)));)n--;if(!r)return{x:0,y:0};const s=rd(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jo(e){return e.max-e.min}function Cj(e,t=0,n=.01){return Math.abs(e-t)<=n}function AL(e,t,n,r=.5){e.origin=r,e.originPoint=ci(t.min,t.max,e.origin),e.scale=Jo(n)/Jo(t),(Cj(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ci(n.min,n.max,e.origin)-e.originPoint,(Cj(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wv(e,t,n,r){AL(e.x,t.x,n.x,r?r.originX:void 0),AL(e.y,t.y,n.y,r?r.originY:void 0)}function CL(e,t,n){e.min=n.min+t.min,e.max=e.min+Jo(t)}function rbe(e,t,n){CL(e.x,t.x,n.x),CL(e.y,t.y,n.y)}function DL(e,t,n){e.min=t.min-n.min,e.max=e.min+Jo(t)}function _v(e,t,n){DL(e.x,t.x,n.x),DL(e.y,t.y,n.y)}function ibe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ci(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ci(n,e,r.max):Math.min(e,n)),e}function jL(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sbe(e,{top:t,left:n,bottom:r,right:i}){return{x:jL(e.x,n,i),y:jL(e.y,t,r)}}function IL(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function abe(e,t){return{x:IL(e.x,t.x),y:IL(e.y,t.y)}}function obe(e,t){let n=.5;const r=Jo(e),i=Jo(t);return i>r?n=v1(t.min,t.max-r,e.min):r>i&&(n=v1(e.min,e.max-i,t.min)),uh(0,1,n)}function lbe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Dj=.35;function cbe(e=Dj){return e===!1?e=0:e===!0&&(e=Dj),{x:RL(e,"left","right"),y:RL(e,"top","bottom")}}function RL(e,t,n){return{min:PL(e,t),max:PL(e,n)}}function PL(e,t){return typeof e=="number"?e:e[t]||0}const OL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lg=()=>({x:OL(),y:OL()}),FL=()=>({min:0,max:0}),Ui=()=>({x:FL(),y:FL()});function hl(e){return[e("x"),e("y")]}function LQ({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ube({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dbe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qk(e){return e===void 0||e===1}function jj({scale:e,scaleX:t,scaleY:n}){return!qk(e)||!qk(t)||!qk(n)}function tp(e){return jj(e)||MQ(e)||e.z||e.rotate||e.rotateX||e.rotateY}function MQ(e){return LL(e.x)||LL(e.y)}function LL(e){return e&&e!=="0%"}function Y_(e,t,n){const r=e-n,i=t*r;return n+i}function ML(e,t,n,r,i){return i!==void 0&&(e=Y_(e,i,r)),Y_(e,n,r)+t}function Ij(e,t=0,n=1,r,i){e.min=ML(e.min,t,n,r,i),e.max=ML(e.max,t,n,r,i)}function UQ(e,{x:t,y:n}){Ij(e.x,t.translate,t.scale,t.originPoint),Ij(e.y,n.translate,n.scale,n.originPoint)}function fbe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Mg(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,UQ(e,o)),r&&tp(s.latestValues)&&Mg(e,s.latestValues))}t.x=UL(t.x),t.y=UL(t.y)}function UL(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function mf(e,t){e.min=e.min+t,e.max=e.max+t}function BL(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=ci(e.min,e.max,s);Ij(e,t[n],t[r],o,t.scale)}const hbe=["x","scaleX","originX"],pbe=["y","scaleY","originY"];function Mg(e,t){BL(e.x,t,hbe),BL(e.y,t,pbe)}function BQ(e,t){return LQ(dbe(e.getBoundingClientRect(),t))}function mbe(e,t,n){const r=BQ(e,n),{scroll:i}=t;return i&&(mf(r.x,i.offset.x),mf(r.y,i.offset.y)),r}const VQ=({current:e})=>e?e.ownerDocument.defaultView:null,gbe=new WeakMap;class xbe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ui(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qE(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eQ(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hl(x=>{let v=this.getAxisMotionValue(x).get()||0;if(du.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[x];b&&(v=Jo(b)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&Vr.update(()=>y(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=ybe(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>hl(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new OQ(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:VQ(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Vr.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!P2(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=ibe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Og(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=sbe(i.layoutBox,n):this.constraints=!1,this.elastic=cbe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hl(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=lbe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Og(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mbe(r,i.root,this.visualElement.getTransformPagePoint());let o=abe(i.layout.layoutBox,s);if(n){const l=n(ube(o));this.hasMutatedConstraints=!!l,l&&(o=LQ(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=hl(d=>{if(!P2(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(o5(t,r,0,n))}stopAnimation(){hl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hl(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){hl(n=>{const{drag:r}=this.getProps();if(!P2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(t[n]-ci(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Og(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hl(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=obe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hl(o=>{if(!P2(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ci(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;gbe.set(this.visualElement,this);const t=this.visualElement.current,n=nd(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Og(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Zu(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(hl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Dj,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function P2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ybe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vbe extends Ah{constructor(t){super(t),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new xbe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const VL=e=>(t,n)=>{e&&Vr.update(()=>e(t,n))};class bbe extends Ah{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(t){this.session=new OQ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VQ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:VL(t),onStart:VL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Vr.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=nd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function wbe(){const e=S.useContext(LE);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=S.useId();return S.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Lw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(cn.test(e))e=parseFloat(e);else return e;const n=qL(e,t.target.x),r=qL(e,t.target.y);return`${n}% ${r}%`}},_be={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=dh.parse(e);if(i.length>5)return r;const s=dh.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=ci(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Tbe extends Yr.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;Dye(Ebe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Lw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Vr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qQ(e){const[t,n]=wbe(),r=S.useContext(G3);return Yr.createElement(Tbe,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(LG),isPresent:t,safeToRemove:n})}const Ebe={borderRadius:{...xy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xy,borderTopRightRadius:xy,borderBottomLeftRadius:xy,borderBottomRightRadius:xy,boxShadow:_be},WQ=["TopLeft","TopRight","BottomLeft","BottomRight"],Nbe=WQ.length,WL=e=>typeof e=="string"?parseFloat(e):e,zL=e=>typeof e=="number"||cn.test(e);function Sbe(e,t,n,r,i,s){i?(e.opacity=ci(0,n.opacity!==void 0?n.opacity:1,kbe(r)),e.opacityExit=ci(t.opacity!==void 0?t.opacity:1,0,Abe(r))):s&&(e.opacity=ci(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Nbe;o++){const l=`border${WQ[o]}Radius`;let c=$L(t,l),u=$L(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||zL(c)===zL(u)?(e[l]=Math.max(ci(WL(c),WL(u),r),0),(du.test(u)||du.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ci(t.rotate||0,n.rotate||0,r))}function $L(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kbe=zQ(0,.5,fQ),Abe=zQ(.5,.95,Ii);function zQ(e,t,n){return r=>r<e?0:r>t?1:n(v1(e,t,r))}function HL(e,t){e.min=t.min,e.max=t.max}function cl(e,t){HL(e.x,t.x),HL(e.y,t.y)}function GL(e,t,n,r,i){return e-=t,e=Y_(e,1/n,r),i!==void 0&&(e=Y_(e,1/i,r)),e}function Cbe(e,t=0,n=1,r=.5,i,s=e,o=e){if(du.test(t)&&(t=parseFloat(t),t=ci(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ci(s.min,s.max,r);e===s&&(l-=t),e.min=GL(e.min,t,n,l,i),e.max=GL(e.max,t,n,l,i)}function QL(e,t,[n,r,i],s,o){Cbe(e,t[n],t[r],t[i],t.scale,s,o)}const Dbe=["x","scaleX","originX"],jbe=["y","scaleY","originY"];function KL(e,t,n,r){QL(e.x,t,Dbe,n?n.x:void 0,r?r.x:void 0),QL(e.y,t,jbe,n?n.y:void 0,r?r.y:void 0)}function XL(e){return e.translate===0&&e.scale===1}function $Q(e){return XL(e.x)&&XL(e.y)}function Ibe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function HQ(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function YL(e){return Jo(e.x)/Jo(e.y)}class Rbe{constructor(){this.members=[]}add(t){l5(this.members,t),t.scheduleRender()}remove(t){if(c5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZL(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Pbe=(e,t)=>e.depth-t.depth;class Obe{constructor(){this.children=[],this.isDirty=!1}add(t){l5(this.children,t),this.isDirty=!0}remove(t){c5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pbe),this.isDirty=!1,this.children.forEach(t)}}function Fbe(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(wd(r),e(s-t))};return Vr.read(r,!0),()=>wd(r)}function Lbe(e){window.MotionDebug&&window.MotionDebug.record(e)}function Mbe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Ube(e,t,n){const r=To(e)?e:B0(e);return r.start(o5("",r,t,n)),r.animation}const JL=["","X","Y","Z"],Bbe={visibility:"hidden"},eM=1e3;let Vbe=0;const np={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function GQ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Vbe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,np.totalNodes=np.resolvedTargetDeltas=np.recalculatedProjection=0,this.nodes.forEach(zbe),this.nodes.forEach(Kbe),this.nodes.forEach(Xbe),this.nodes.forEach($be),Lbe(np)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Obe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new u5),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Mbe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Fbe(h,250),Lw.hasAnimatedSinceResize&&(Lw.hasAnimatedSinceResize=!1,this.nodes.forEach(nM))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||t2e,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),g=!this.targetLayout||!HQ(this.targetLayout,y)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const w={...a5(m,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||nM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ybe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tM);return}this.isUpdating||this.nodes.forEach(Gbe),this.isUpdating=!1,this.nodes.forEach(Qbe),this.nodes.forEach(qbe),this.nodes.forEach(Wbe),this.clearAllSnapshots();const l=performance.now();ia.delta=uh(0,1e3/60,l-ia.timestamp),ia.timestamp=l,ia.isProcessing=!0,Ik.update.process(ia),Ik.preRender.process(ia),Ik.render.process(ia),ia.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Hbe),this.sharedNodes.forEach(Zbe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ui(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!$Q(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||tp(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),n2e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ui();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(mf(l.x,c.offset.x),mf(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ui();cl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){cl(l,o);const{scroll:h}=this.root;h&&(mf(l.x,-h.offset.x),mf(l.y,-h.offset.y))}mf(l.x,d.offset.x),mf(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Ui();cl(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),tp(d.latestValues)&&Mg(c,d.latestValues)}return tp(this.latestValues)&&Mg(c,this.latestValues),c}removeTransform(o){const l=Ui();cl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!tp(u.latestValues))continue;jj(u.latestValues)&&u.updateSnapshot();const d=Ui(),f=u.measurePageBox();cl(d,f),KL(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return tp(this.latestValues)&&KL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ia.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ia.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ui(),this.relativeTargetOrigin=Ui(),_v(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ui(),this.targetWithTransforms=Ui()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cl(this.target,this.layout.layoutBox),UQ(this.target,this.targetDelta)):cl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ui(),this.relativeTargetOrigin=Ui(),_v(this.relativeTargetOrigin,this.target,p.target),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}np.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jj(this.parent.latestValues)||MQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ia.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;cl(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;fbe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Lg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lg(),this.projectionDeltaWithTransform=Lg());const m=this.projectionTransform;wv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=ZL(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),np.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Lg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ui(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,x=this.getStack(),v=!x||x.members.length<=1,g=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(e2e));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const T=w/1e3;rM(f.x,o.x,T),rM(f.y,o.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_v(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jbe(this.relativeTarget,this.relativeTargetOrigin,h,T),b&&Ibe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ui()),cl(b,this.relativeTarget)),m&&(this.animationValues=d,Sbe(d,u,this.latestValues,T,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vr.update(()=>{Lw.hasAnimatedSinceResize=!0,this.currentAnimation=Ube(0,eM,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&QQ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ui();const f=Jo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Jo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}cl(l,c),Mg(l,d),wv(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rbe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<JL.length;d++){const f="rotate"+JL[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Bbe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Fw(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Fw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tp(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=ZL(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in z_){if(h[m]===void 0)continue;const{correct:x,applyTo:v}=z_[m],g=u.transform==="none"?h[m]:x(h[m],f);if(v){const b=v.length;for(let w=0;w<b;w++)u[v[w]]=g}else u[m]=g}return this.options.layoutId&&(u.pointerEvents=f===this?Fw(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(tM),this.root.sharedNodes.clear()}}}function qbe(e){e.updateLayout()}function Wbe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?hl(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Jo(h);h.min=r[f].min,h.max=h.min+p}):QQ(s,n.layoutBox,r)&&hl(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Jo(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Lg();wv(l,r,n.layoutBox);const c=Lg();o?wv(c,e.applyTransform(i,!0),n.measuredBox):wv(c,r,n.layoutBox);const u=!$Q(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const y=Ui();_v(y,n.layoutBox,h.layoutBox);const m=Ui();_v(m,r,p.layoutBox),HQ(y,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function zbe(e){np.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $be(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Hbe(e){e.clearSnapshot()}function tM(e){e.clearMeasurements()}function Gbe(e){e.isLayoutDirty=!1}function Qbe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kbe(e){e.resolveTargetDelta()}function Xbe(e){e.calcProjection()}function Ybe(e){e.resetRotation()}function Zbe(e){e.removeLeadSnapshot()}function rM(e,t,n){e.translate=ci(t.translate,0,n),e.scale=ci(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function iM(e,t,n,r){e.min=ci(t.min,n.min,r),e.max=ci(t.max,n.max,r)}function Jbe(e,t,n,r){iM(e.x,t.x,n.x,r),iM(e.y,t.y,n.y,r)}function e2e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t2e={duration:.45,ease:[.4,0,.1,1]},sM=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),aM=sM("applewebkit/")&&!sM("chrome/")?Math.round:Ii;function oM(e){e.min=aM(e.min),e.max=aM(e.max)}function n2e(e){oM(e.x),oM(e.y)}function QQ(e,t,n){return e==="position"||e==="preserve-aspect"&&!Cj(YL(t),YL(n),.2)}const r2e=GQ({attachResizeListener:(e,t)=>Zu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wk={current:void 0},KQ=GQ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wk.current){const e=new r2e({});e.mount(window),e.setOptions({layoutScroll:!0}),Wk.current=e}return Wk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i2e={pan:{Feature:bbe},drag:{Feature:vbe,ProjectionNode:KQ,MeasureLayout:qQ}},s2e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function a2e(e){const t=s2e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Rj(e,t,n=1){const[r,i]=a2e(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return jQ(o)?parseFloat(o):o}else return _j(i)?Rj(i,t,n+1):i}function o2e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!_j(s))return;const o=Rj(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!_j(s))continue;const o=Rj(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const l2e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),XQ=e=>l2e.has(e),c2e=e=>Object.keys(e).some(XQ),lM=e=>e===Cm||e===cn,cM=(e,t)=>parseFloat(e.split(", ")[t]),uM=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return cM(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?cM(s[1],e):0}},u2e=new Set(["x","y","z"]),d2e=Sb.filter(e=>!u2e.has(e));function f2e(e){const t=[];return d2e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const V0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:uM(4,13),y:uM(5,14)};V0.translateX=V0.x;V0.translateY=V0.y;const h2e=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=V0[u](r,s)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=V0[u](c,s)}),e},p2e=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(XQ);let s=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=gy(d);const h=t[c];let p;if(H_(h)){const y=h.length,m=h[0]===null?1:0;d=h[m],f=gy(d);for(let x=m;x<y&&h[x]!==null;x++)p?t5(gy(h[x])===p):p=gy(h[x])}else p=gy(h);if(f!==p)if(lM(f)&&lM(p)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===cn&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(s=f2e(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=h2e(t,e,l);return s.length&&s.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),ME&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function m2e(e,t,n,r){return c2e(t)?p2e(e,t,n,r):{target:t,transitionEnd:r}}const g2e=(e,t,n,r)=>{const i=o2e(e,t,r);return t=i.target,r=i.transitionEnd,m2e(e,t,n,r)},Pj={current:null},YQ={current:!1};function x2e(){if(YQ.current=!0,!!ME)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pj.current=e.matches;e.addListener(t),t()}else Pj.current=!1}function y2e(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(To(s))e.addValue(i,s),X_(r)&&r.add(i);else if(To(o))e.addValue(i,B0(s,{owner:e})),X_(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,B0(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const dM=new WeakMap,ZQ=Object.keys(y1),v2e=ZQ.length,fM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],b2e=H3.length;class w2e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Vr.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=BE(n),this.isVariantNode=FG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&To(h)&&(h.set(l[f],!1),X_(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,dM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YQ.current||x2e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dM.delete(this.current),this.projection&&this.projection.unmount(),wd(this.notifyUpdate),wd(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Am.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Vr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,l;for(let c=0;c<v2e;c++){const u=ZQ[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=y1[u];h&&(o=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Og(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ui()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fM.length;r++){const i=fM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=y2e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<b2e;r++){const i=H3[r],s=this.props[i];(x1(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=B0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=e5(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!To(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new u5),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class JQ extends w2e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=M1e(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){F1e(this,r,o);const l=g2e(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function _2e(e){return window.getComputedStyle(e)}class T2e extends JQ{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Am.has(n)){const r=s5(n);return r&&r.default||0}else{const r=_2e(t),i=(BG(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return BQ(t,n)}build(t,n,r,i){K3(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return J3(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;To(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){HG(t,n,r,i)}}class E2e extends JQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Am.has(n)){const r=s5(n);return r&&r.default||0}return n=GG.has(n)?n:z3(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ui()}scrapeMotionValuesFromProps(t,n){return KG(t,n)}build(t,n,r,i){Y3(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){QG(t,n,r,i)}mount(t){this.isSVGTag=Z3(t.tagName),super.mount(t)}}const N2e=(e,t)=>Q3(e)?new E2e(t,{enableHardwareAcceleration:!1}):new T2e(t,{enableHardwareAcceleration:!0}),S2e={layout:{ProjectionNode:KQ,MeasureLayout:qQ}},k2e={...J1e,...vve,...i2e,...S2e},st=Aye((e,t)=>ave(e,t,k2e,N2e));function eK(){const e=S.useRef(!1);return W3(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function A2e(){const e=eK(),[t,n]=S.useState(0),r=S.useCallback(()=>{e.current&&n(t+1)},[t]);return[S.useCallback(()=>Vr.postRender(r),[r]),t]}class C2e extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function D2e({children:e,isPresent:t}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),S.createElement(C2e,{isPresent:t,childRef:r,sizeRef:i},S.cloneElement(e,{ref:r}))}const zk=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=XG(j2e),c=S.useId(),u=S.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),s?void 0:[n]);return S.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=S.createElement(D2e,{isPresent:n},e)),S.createElement(LE.Provider,{value:u},e)};function j2e(){return new Map}function I2e(e){return S.useEffect(()=>()=>e(),[])}const rp=e=>e.key||"";function R2e(e,t){e.forEach(n=>{const r=rp(n);t.set(r,n)})}function P2e(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const $n=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=S.useContext(G3).forceRender||A2e()[0],c=eK(),u=P2e(e);let d=u;const f=S.useRef(new Map).current,h=S.useRef(d),p=S.useRef(new Map).current,y=S.useRef(!0);if(W3(()=>{y.current=!1,R2e(u,p),h.current=d}),I2e(()=>{y.current=!0,p.clear(),f.clear()}),y.current)return S.createElement(S.Fragment,null,d.map(g=>S.createElement(zk,{key:rp(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},g)));d=[...d];const m=h.current.map(rp),x=u.map(rp),v=m.length;for(let g=0;g<v;g++){const b=m[g];x.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((g,b)=>{if(x.indexOf(b)!==-1)return;const w=p.get(b);if(!w)return;const T=m.indexOf(b);let k=g;if(!k){const _=()=>{f.delete(b);const N=Array.from(p.keys()).filter(C=>!x.includes(C));if(N.forEach(C=>p.delete(C)),h.current=u.filter(C=>{const I=rp(C);return I===b||N.includes(I)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=S.createElement(zk,{key:rp(w),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:s,mode:o},w),f.set(b,k)}d.splice(T,0,k)}),d=d.map(g=>{const b=g.key;return f.has(b)?g:S.createElement(zk,{key:rp(g),isPresent:!0,presenceAffectsLayout:s,mode:o},g)}),S.createElement(S.Fragment,null,f.size?d:d.map(g=>S.cloneElement(g)))};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O2e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rt=(e,t)=>{const n=S.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>S.createElement("svg",{ref:d,...O2e,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${F2e(e)}`,l].join(" "),...u},[...t.map(([f,h])=>S.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=rt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=rt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=rt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=rt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=rt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=rt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=rt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=rt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=rt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2e=rt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2e=rt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=rt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2e=rt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=rt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=rt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=rt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2e=rt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=rt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=rt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=rt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=rt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=rt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=rt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=rt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=rt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=rt("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2e=rt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=rt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=rt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2e=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=rt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=rt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=rt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=rt("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=rt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=rt("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2e=rt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=rt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=rt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=rt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=rt("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=rt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=rt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=rt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=rt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=rt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2e=rt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=rt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2e=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=rt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2e=rt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2e=rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=rt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=rt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2e=rt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=rt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=rt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2e=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2e=rt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=rt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2e=rt("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=rt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=rt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2e=rt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2e=rt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ewe=rt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=rt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=rt("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=rt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=rt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=rt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const twe=rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=rt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=rt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=rt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=rt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=rt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nwe=rt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rwe=rt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=rt("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=rt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iwe=rt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const swe=rt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=rt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=rt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function vM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Id(...e){return t=>{let n=!1;const r=e.map(i=>{const s=vM(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():vM(e[i],null)}}}}function jr(...e){return S.useCallback(Id(...e),e)}var awe=Symbol.for("react.lazy"),nT=A4[" use ".trim().toString()];function owe(e){return typeof e=="object"&&e!==null&&"then"in e}function fK(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===awe&&"_payload"in e&&owe(e._payload)}function g5(e){const t=cwe(e),n=S.forwardRef((r,i)=>{let{children:s,...o}=r;fK(s)&&typeof nT=="function"&&(s=nT(s._payload));const l=S.Children.toArray(s),c=l.find(dwe);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var lwe=g5("Slot");function cwe(e){const t=S.forwardRef((n,r)=>{let{children:i,...s}=n;if(fK(i)&&typeof nT=="function"&&(i=nT(i._payload)),S.isValidElement(i)){const o=hwe(i),l=fwe(s,i.props);return i.type!==S.Fragment&&(l.ref=r?Id(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uwe=Symbol("radix.slottable");function dwe(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uwe}function fwe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function hwe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hK(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=hK(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pK(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=hK(e))&&(r&&(r+=" "),r+=t);return r}const bM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wM=pK,pwe=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=bM(d)||bM(f);return i[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,x]=y;return Array.isArray(x)?x.includes({...s,...l}[m]):{...s,...l}[m]===x})?[...u,f,h]:u},[]);return wM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},x5="-",mwe=e=>{const t=xwe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(x5);return l[0]===""&&l.length!==1&&l.shift(),mK(l,t)||gwe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},mK=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?mK(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(x5);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},_M=/^\[(.+)\]$/,gwe=e=>{if(_M.test(e)){const t=_M.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xwe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return vwe(Object.entries(e.classGroups),n).forEach(([s,o])=>{Mj(o,r,s,t)}),r},Mj=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:TM(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(ywe(i)){Mj(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Mj(o,TM(t,s),n,r)})})},TM=(e,t)=>{let n=e;return t.split(x5).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ywe=e=>e.isThemeGetter,vwe=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,i]}):e,bwe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},gK="!",wwe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===i&&(r||l.slice(x,x+s)===t)){c.push(l.slice(d,x)),d=x+s;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(gK),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},_we=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Twe=e=>({cache:bwe(e.cacheSize),parseClassName:wwe(e),...mwe(e)}),Ewe=/\s+/,Nwe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Ewe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,m=r(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=_we(d).join(":"),v=f?x+gK:x,g=v+m;if(s.includes(g))continue;s.push(g);const b=i(m,y);for(let w=0;w<b.length;++w){const T=b[w];s.push(v+T)}l=u+(l.length>0?" "+l:l)}return l};function Swe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xK(t))&&(r&&(r+=" "),r+=n);return r}const xK=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=xK(e[r]))&&(n&&(n+=" "),n+=t);return n};function kwe(e,...t){let n,r,i,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Twe(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Nwe(c,n);return i(c,d),d}return function(){return s(Swe.apply(null,arguments))}}const Hr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},yK=/^\[(?:([a-z-]+):)?(.+)\]$/i,Awe=/^\d+\/\d+$/,Cwe=new Set(["px","full","screen"]),Dwe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jwe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Iwe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pwe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fu=e=>t0(e)||Cwe.has(e)||Awe.test(e),rf=e=>hx(e,"length",qwe),t0=e=>!!e&&!Number.isNaN(Number(e)),Kk=e=>hx(e,"number",t0),yy=e=>!!e&&Number.isInteger(Number(e)),Owe=e=>e.endsWith("%")&&t0(e.slice(0,-1)),Sn=e=>yK.test(e),sf=e=>Dwe.test(e),Fwe=new Set(["length","size","percentage"]),Lwe=e=>hx(e,Fwe,vK),Mwe=e=>hx(e,"position",vK),Uwe=new Set(["image","url"]),Bwe=e=>hx(e,Uwe,zwe),Vwe=e=>hx(e,"",Wwe),vy=()=>!0,hx=(e,t,n)=>{const r=yK.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},qwe=e=>jwe.test(e)&&!Iwe.test(e),vK=()=>!1,Wwe=e=>Rwe.test(e),zwe=e=>Pwe.test(e),$we=()=>{const e=Hr("colors"),t=Hr("spacing"),n=Hr("blur"),r=Hr("brightness"),i=Hr("borderColor"),s=Hr("borderRadius"),o=Hr("borderSpacing"),l=Hr("borderWidth"),c=Hr("contrast"),u=Hr("grayscale"),d=Hr("hueRotate"),f=Hr("invert"),h=Hr("gap"),p=Hr("gradientColorStops"),y=Hr("gradientColorStopPositions"),m=Hr("inset"),x=Hr("margin"),v=Hr("opacity"),g=Hr("padding"),b=Hr("saturate"),w=Hr("scale"),T=Hr("sepia"),k=Hr("skew"),_=Hr("space"),N=Hr("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Sn,t],E=()=>[Sn,t],D=()=>["",Fu,rf],R=()=>["auto",t0,Sn],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Sn],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[t0,Sn];return{cacheSize:500,separator:":",theme:{colors:[vy],spacing:[Fu,rf],blur:["none","",sf,Sn],brightness:O(),borderColor:[e],borderRadius:["none","","full",sf,Sn],borderSpacing:E(),borderWidth:D(),contrast:O(),grayscale:F(),hueRotate:O(),invert:F(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Owe,rf],inset:j(),margin:j(),opacity:O(),padding:E(),saturate:O(),scale:O(),sepia:F(),skew:O(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Sn]}],container:["container"],columns:[{columns:[sf]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Sn]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yy,Sn]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Sn]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",yy,Sn]}],"grid-cols":[{"grid-cols":[vy]}],"col-start-end":[{col:["auto",{span:["full",yy,Sn]},Sn]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[vy]}],"row-start-end":[{row:["auto",{span:[yy,Sn]},Sn]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Sn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Sn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Sn,t]}],"min-w":[{"min-w":[Sn,t,"min","max","fit"]}],"max-w":[{"max-w":[Sn,t,"none","full","min","max","fit","prose",{screen:[sf]},sf]}],h:[{h:[Sn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Sn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Sn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Sn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sf,rf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kk]}],"font-family":[{font:[vy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sn]}],"line-clamp":[{"line-clamp":["none",t0,Kk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fu,Sn]}],"list-image":[{"list-image":["none",Sn]}],"list-style-type":[{list:["none","disc","decimal",Sn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fu,rf]}],"underline-offset":[{"underline-offset":["auto",Fu,Sn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Sn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Mwe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lwe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bwe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Fu,Sn]}],"outline-w":[{outline:[Fu,rf]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Fu,rf]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sf,Vwe]}],"shadow-color":[{shadow:[vy]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sf,Sn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Sn]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Sn]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Sn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[yy,Sn]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Sn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Sn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Sn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Fu,rf,Kk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hwe=kwe($we);function Rt(...e){return Hwe(pK(e))}const Gwe=pwe("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=S.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?lwe:"button";return a.jsx(o,{className:Rt(Gwe({variant:t,size:n,className:e})),ref:s,...i})});ye.displayName="Button";const nt=S.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));nt.displayName="Input";const ut=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Rt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ut.displayName="Card";const Wn=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Rt("flex flex-col space-y-1.5 p-6",e),...t}));Wn.displayName="CardHeader";const Jn=S.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Rt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Jn.displayName="CardTitle";const ac=S.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Rt("text-sm text-muted-foreground",e),...t}));ac.displayName="CardDescription";const Ht=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Rt("p-6 pt-0",e),...t}));Ht.displayName="CardContent";const Qwe=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Rt("flex items-center p-6 pt-0",e),...t}));Qwe.displayName="CardFooter";function Gt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Kwe(e,t){const n=S.createContext(t),r=s=>{const{children:o,...l}=s,c=S.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(s){const o=S.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Rd(e,t=[]){let n=[];function r(s,o){const l=S.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=S.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=S.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Xwe(i,...t)]}function Xwe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ds=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Ywe=A4[" useId ".trim().toString()]||(()=>{}),Zwe=0;function fu(e){const[t,n]=S.useState(Ywe());return ds(()=>{n(r=>r??String(Zwe++))},[e]),t?`radix-${t}`:""}var Jwe=A4[" useInsertionEffect ".trim().toString()]||ds;function nm({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=e_e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=S.useCallback(d=>{var f;if(l){const h=t_e(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function e_e({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),i=S.useRef(n),s=S.useRef(t);return Jwe(()=>{s.current=t},[t]),S.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function t_e(e){return typeof e=="function"}function n_e(e){const t=r_e(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(s_e);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function r_e(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=o_e(i),l=a_e(s,i.props);return i.type!==S.Fragment&&(l.ref=r?Id(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var i_e=Symbol("radix.slottable");function s_e(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===i_e}function a_e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function o_e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var l_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],An=l_e.reduce((e,t)=>{const n=n_e(`Primitive.${t}`),r=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bK(e,t){e&&ym.flushSync(()=>e.dispatchEvent(t))}function vc(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function c_e(e,t=globalThis==null?void 0:globalThis.document){const n=vc(e);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var u_e="DismissableLayer",Uj="dismissableLayer.update",d_e="dismissableLayer.pointerDownOutside",f_e="dismissableLayer.focusOutside",EM,wK=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HE=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=S.useContext(wK),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),y=jr(t,_=>f(_)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(x),g=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=g>=v,T=m_e(_=>{const N=_.target,C=[...u.branches].some(I=>I.contains(N));!w||C||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),k=g_e(_=>{const N=_.target;[...u.branches].some(I=>I.contains(N))||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return c_e(_=>{g===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(EM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),NM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=EM)}},[d,h,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),NM())},[d,u]),S.useEffect(()=>{const _=()=>p({});return document.addEventListener(Uj,_),()=>document.removeEventListener(Uj,_)},[]),a.jsx(An.div,{...c,ref:y,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Gt(e.onPointerDownCapture,T.onPointerDownCapture)})});HE.displayName=u_e;var h_e="DismissableLayerBranch",p_e=S.forwardRef((e,t)=>{const n=S.useContext(wK),r=S.useRef(null),i=jr(t,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(An.div,{...e,ref:i})});p_e.displayName=h_e;function m_e(e,t=globalThis==null?void 0:globalThis.document){const n=vc(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){_K(d_e,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function g_e(e,t=globalThis==null?void 0:globalThis.document){const n=vc(e),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&_K(f_e,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NM(){const e=new CustomEvent(Uj);document.dispatchEvent(e)}function _K(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?bK(i,s):i.dispatchEvent(s)}var Xk="focusScope.autoFocusOnMount",Yk="focusScope.autoFocusOnUnmount",SM={bubbles:!1,cancelable:!0},x_e="FocusScope",GE=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=S.useState(null),u=vc(i),d=vc(s),f=S.useRef(null),h=jr(t,m=>c(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let m=function(b){if(p.paused||!l)return;const w=b.target;l.contains(w)?f.current=w:df(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||df(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&df(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),g.disconnect()}}},[r,l,p.paused]),S.useEffect(()=>{if(l){AM.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(Xk,SM);l.addEventListener(Xk,u),l.dispatchEvent(v),v.defaultPrevented||(y_e(T_e(TK(l)),{select:!0}),document.activeElement===m&&df(l))}return()=>{l.removeEventListener(Xk,u),setTimeout(()=>{const v=new CustomEvent(Yk,SM);l.addEventListener(Yk,d),l.dispatchEvent(v),v.defaultPrevented||df(m??document.body,{select:!0}),l.removeEventListener(Yk,d),AM.remove(p)},0)}}},[l,u,d,p]);const y=S.useCallback(m=>{if(!n&&!r||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(x&&v){const g=m.currentTarget,[b,w]=v_e(g);b&&w?!m.shiftKey&&v===w?(m.preventDefault(),n&&df(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&df(w,{select:!0})):v===g&&m.preventDefault()}},[n,r,p.paused]);return a.jsx(An.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});GE.displayName=x_e;function y_e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(df(r,{select:t}),document.activeElement!==n)return}function v_e(e){const t=TK(e),n=kM(t,e),r=kM(t.reverse(),e);return[n,r]}function TK(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kM(e,t){for(const n of e)if(!b_e(n,{upTo:t}))return n}function b_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w_e(e){return e instanceof HTMLInputElement&&"select"in e}function df(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w_e(e)&&t&&e.select()}}var AM=__e();function __e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=CM(e,t),e.unshift(t)},remove(t){var n;e=CM(e,t),(n=e[0])==null||n.resume()}}}function CM(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function T_e(e){return e.filter(t=>t.tagName!=="A")}var E_e="Portal",QE=S.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,s]=S.useState(!1);ds(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?doe.createPortal(a.jsx(An.div,{...r,ref:t}),o):null});QE.displayName=E_e;function N_e(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Pd=e=>{const{present:t,children:n}=e,r=S_e(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=jr(r.ref,k_e(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Pd.displayName="Presence";function S_e(e){const[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),s=S.useRef("none"),o=e?"mounted":"unmounted",[l,c]=N_e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=O2(r.current);s.current=l==="mounted"?u:"none"},[l]),ds(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=O2(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),ds(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=O2(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(s.current=O2(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function O2(e){return(e==null?void 0:e.animationName)||"none"}function k_e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zk=0;function y5(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??DM()),document.body.insertAdjacentElement("beforeend",e[1]??DM()),Zk++,()=>{Zk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Zk--}},[])}function DM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Uw="right-scroll-bar-position",Bw="width-before-scroll-bar",A_e="with-scroll-bars-hidden",C_e="--removed-body-scroll-bar-size";function Jk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function D_e(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var j_e=typeof window<"u"?S.useLayoutEffect:S.useEffect,jM=new WeakMap;function I_e(e,t){var n=D_e(null,function(r){return e.forEach(function(i){return Jk(i,r)})});return j_e(function(){var r=jM.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(l){s.has(l)||Jk(l,null)}),s.forEach(function(l){i.has(l)||Jk(l,o)})}jM.set(n,e)},[e]),n}function R_e(e){return e}function P_e(e,t){t===void 0&&(t=R_e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function O_e(e){e===void 0&&(e={});var t=P_e(null);return t.options=Yc({async:!0,ssr:!1},e),t}var EK=function(e){var t=e.sideCar,n=ob(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Yc({},n))};EK.isSideCarExport=!0;function F_e(e,t){return e.useMedium(t),EK}var NK=O_e(),eA=function(){},KE=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:eA,onWheelCapture:eA,onTouchMoveCapture:eA}),i=r[0],s=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,x=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,w=ob(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,k=I_e([n,t]),_=Yc(Yc({},w),i);return S.createElement(S.Fragment,null,d&&S.createElement(T,{sideCar:NK,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?S.cloneElement(S.Children.only(l),Yc(Yc({},_),{ref:k})):S.createElement(g,Yc({},_,{className:c,ref:k}),l))});KE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KE.classNames={fullWidth:Bw,zeroRight:Uw};var L_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M_e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=L_e();return t&&e.setAttribute("nonce",t),e}function U_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function B_e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var V_e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M_e())&&(U_e(t,n),B_e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},q_e=function(){var e=V_e();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},SK=function(){var e=q_e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},W_e={left:0,top:0,right:0,gap:0},tA=function(e){return parseInt(e||"",10)||0},z_e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[tA(n),tA(r),tA(i)]},$_e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W_e;var t=z_e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},H_e=SK(),n0="data-scroll-locked",G_e=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(A_e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(n0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uw,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Bw,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Uw," .").concat(Uw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bw," .").concat(Bw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(n0,`] {
    `).concat(C_e,": ").concat(l,`px;
  }
`)},IM=function(){var e=parseInt(document.body.getAttribute(n0)||"0",10);return isFinite(e)?e:0},Q_e=function(){S.useEffect(function(){return document.body.setAttribute(n0,(IM()+1).toString()),function(){var e=IM()-1;e<=0?document.body.removeAttribute(n0):document.body.setAttribute(n0,e.toString())}},[])},K_e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Q_e();var s=S.useMemo(function(){return $_e(i)},[i]);return S.createElement(H_e,{styles:G_e(s,!t,i,n?"":"!important")})},Bj=!1;if(typeof window<"u")try{var F2=Object.defineProperty({},"passive",{get:function(){return Bj=!0,!0}});window.addEventListener("test",F2,F2),window.removeEventListener("test",F2,F2)}catch{Bj=!1}var ig=Bj?{passive:!1}:!1,X_e=function(e){return e.tagName==="TEXTAREA"},kK=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!X_e(e)&&n[t]==="visible")},Y_e=function(e){return kK(e,"overflowY")},Z_e=function(e){return kK(e,"overflowX")},RM=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=AK(e,r);if(i){var s=CK(e,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J_e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},eTe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},AK=function(e,t){return e==="v"?Y_e(t):Z_e(t)},CK=function(e,t){return e==="v"?J_e(t):eTe(t)},tTe=function(e,t){return e==="h"&&t==="rtl"?-1:1},nTe=function(e,t,n,r,i){var s=tTe(e,window.getComputedStyle(t).direction),o=s*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=CK(e,l),y=p[0],m=p[1],x=p[2],v=m-x-s*y;(y||v)&&AK(e,l)&&(f+=v,h+=y);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},L2=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},PM=function(e){return[e.deltaX,e.deltaY]},OM=function(e){return e&&"current"in e?e.current:e},rTe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iTe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sTe=0,sg=[];function aTe(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(sTe++)[0],s=S.useState(SK)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=pce([e.lockRef.current],(e.shards||[]).map(OM),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=S.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=L2(m),g=n.current,b="deltaX"in m?m.deltaX:g[0]-v[0],w="deltaY"in m?m.deltaY:g[1]-v[1],T,k=m.target,_=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&_==="h"&&k.type==="range")return!1;var N=window.getSelection(),C=N&&N.anchorNode,I=C?C===k||C.contains(k):!1;if(I)return!1;var j=RM(_,k);if(!j)return!0;if(j?T=_:(T=_==="v"?"h":"v",j=RM(_,k)),!j)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=T),!T)return!0;var E=r.current||T;return nTe(E,x,m,E==="h"?b:w)},[]),c=S.useCallback(function(m){var x=m;if(!(!sg.length||sg[sg.length-1]!==s)){var v="deltaY"in x?PM(x):L2(x),g=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&rTe(T.delta,v)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(OM).filter(Boolean).filter(function(T){return T.contains(x.target)}),w=b.length>0?l(x,b[0]):!o.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),u=S.useCallback(function(m,x,v,g){var b={name:m,delta:x,target:v,should:g,shadowParent:oTe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),d=S.useCallback(function(m){n.current=L2(m),r.current=void 0},[]),f=S.useCallback(function(m){u(m.type,PM(m),m.target,l(m,e.lockRef.current))},[]),h=S.useCallback(function(m){u(m.type,L2(m),m.target,l(m,e.lockRef.current))},[]);S.useEffect(function(){return sg.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ig),document.addEventListener("touchmove",c,ig),document.addEventListener("touchstart",d,ig),function(){sg=sg.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,ig),document.removeEventListener("touchmove",c,ig),document.removeEventListener("touchstart",d,ig)}},[]);var p=e.removeScrollBar,y=e.inert;return S.createElement(S.Fragment,null,y?S.createElement(s,{styles:iTe(i)}):null,p?S.createElement(K_e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oTe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lTe=F_e(NK,aTe);var XE=S.forwardRef(function(e,t){return S.createElement(KE,Yc({},e,{ref:t,sideCar:lTe}))});XE.classNames=KE.classNames;var cTe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ag=new WeakMap,M2=new WeakMap,U2={},nA=0,DK=function(e){return e&&(e.host||DK(e.parentNode))},uTe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=DK(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dTe=function(e,t,n,r){var i=uTe(t,Array.isArray(e)?e:[e]);U2[n]||(U2[n]=new WeakMap);var s=U2[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",m=(ag.get(h)||0)+1,x=(s.get(h)||0)+1;ag.set(h,m),s.set(h,x),o.push(h),m===1&&y&&M2.set(h,!0),x===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),nA++,function(){o.forEach(function(f){var h=ag.get(f)-1,p=s.get(f)-1;ag.set(f,h),s.set(f,p),h||(M2.has(f)||f.removeAttribute(r),M2.delete(f)),p||f.removeAttribute(n)}),nA--,nA||(ag=new WeakMap,ag=new WeakMap,M2=new WeakMap,U2={})}},v5=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=cTe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),dTe(r,i,n,"aria-hidden")):function(){return null}};function fTe(e){const t=hTe(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(mTe);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function hTe(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=xTe(i),l=gTe(s,i.props);return i.type!==S.Fragment&&(l.ref=r?Id(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pTe=Symbol("radix.slottable");function mTe(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pTe}function gTe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function xTe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var YE="Dialog",[jK]=Rd(YE),[yTe,Nc]=jK(YE),IK=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=S.useRef(null),c=S.useRef(null),[u,d]=nm({prop:r,defaultProp:i??!1,onChange:s,caller:YE});return a.jsx(yTe,{scope:t,triggerRef:l,contentRef:c,contentId:fu(),titleId:fu(),descriptionId:fu(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};IK.displayName=YE;var RK="DialogTrigger",PK=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nc(RK,n),s=jr(t,i.triggerRef);return a.jsx(An.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_5(i.open),...r,ref:s,onClick:Gt(e.onClick,i.onOpenToggle)})});PK.displayName=RK;var b5="DialogPortal",[vTe,OK]=jK(b5,{forceMount:void 0}),FK=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Nc(b5,t);return a.jsx(vTe,{scope:t,forceMount:n,children:S.Children.map(r,o=>a.jsx(Pd,{present:n||s.open,children:a.jsx(QE,{asChild:!0,container:i,children:o})}))})};FK.displayName=b5;var rT="DialogOverlay",LK=S.forwardRef((e,t)=>{const n=OK(rT,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Nc(rT,e.__scopeDialog);return s.modal?a.jsx(Pd,{present:r||s.open,children:a.jsx(wTe,{...i,ref:t})}):null});LK.displayName=rT;var bTe=fTe("DialogOverlay.RemoveScroll"),wTe=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nc(rT,n);return a.jsx(XE,{as:bTe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(An.div,{"data-state":_5(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),rm="DialogContent",MK=S.forwardRef((e,t)=>{const n=OK(rm,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Nc(rm,e.__scopeDialog);return a.jsx(Pd,{present:r||s.open,children:s.modal?a.jsx(_Te,{...i,ref:t}):a.jsx(TTe,{...i,ref:t})})});MK.displayName=rm;var _Te=S.forwardRef((e,t)=>{const n=Nc(rm,e.__scopeDialog),r=S.useRef(null),i=jr(t,n.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return v5(s)},[]),a.jsx(UK,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Gt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Gt(e.onFocusOutside,s=>s.preventDefault())})}),TTe=S.forwardRef((e,t)=>{const n=Nc(rm,e.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return a.jsx(UK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),UK=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=Nc(rm,n),c=S.useRef(null),u=jr(t,c);return y5(),a.jsxs(a.Fragment,{children:[a.jsx(GE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(HE,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(ETe,{titleId:l.titleId}),a.jsx(STe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),w5="DialogTitle",BK=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nc(w5,n);return a.jsx(An.h2,{id:i.titleId,...r,ref:t})});BK.displayName=w5;var VK="DialogDescription",qK=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nc(VK,n);return a.jsx(An.p,{id:i.descriptionId,...r,ref:t})});qK.displayName=VK;var WK="DialogClose",zK=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nc(WK,n);return a.jsx(An.button,{type:"button",...r,ref:t,onClick:Gt(e.onClick,()=>i.onOpenChange(!1))})});zK.displayName=WK;function _5(e){return e?"open":"closed"}var $K="DialogTitleWarning",[JWe,HK]=Kwe($K,{contentName:rm,titleName:w5,docsSlug:"dialog"}),ETe=({titleId:e})=>{const t=HK($K),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},NTe="DialogDescriptionWarning",STe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HK(NTe).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},kTe=IK,ATe=PK,CTe=FK,GK=LK,QK=MK,KK=BK,XK=qK,DTe=zK;const is=kTe,jTe=ATe,ITe=CTe,YK=S.forwardRef(({className:e,...t},n)=>a.jsx(GK,{ref:n,className:Rt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));YK.displayName=GK.displayName;const Wi=S.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(ITe,{children:[a.jsx(YK,{}),a.jsxs(QK,{ref:r,className:Rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(DTe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(dn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wi.displayName=QK.displayName;const zi=({className:e,...t})=>a.jsx("div",{className:Rt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zi.displayName="DialogHeader";const T5=({className:e,...t})=>a.jsx("div",{className:Rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});T5.displayName="DialogFooter";const $i=S.forwardRef(({className:e,...t},n)=>a.jsx(KK,{ref:n,className:Rt("text-lg font-semibold leading-none tracking-tight",e),...t}));$i.displayName=KK.displayName;const im=S.forwardRef(({className:e,...t},n)=>a.jsx(XK,{ref:n,className:Rt("text-sm text-muted-foreground",e),...t}));im.displayName=XK.displayName;function RTe({open:e,onOpenChange:t,defaultEmail:n=""}){const[r,i]=S.useState(n),[s,o]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(""),f=async()=>{if(!r){d(" ");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){d("  ");return}o(!0),d("");try{await hue(Fs,r,{url:window.location.origin}),c(!0)}catch(y){console.error("Password reset error:",y);const m=y.code||"";d(m==="auth/user-not-found"?"    ":m==="auth/invalid-email"?"   ":m==="auth/too-many-requests"?"        ":"      ")}finally{o(!1)}},h=p=>{p?i(n):(i(n),c(!1),d("")),t(p)};return a.jsx(is,{open:e,onOpenChange:h,children:a.jsxs(Wi,{className:"sm:max-w-md",children:[a.jsxs(zi,{children:[a.jsxs($i,{className:"flex items-center gap-2",children:[a.jsx(oK,{className:"h-5 w-5"}),"  "]}),a.jsx(im,{children:l?"    ":"      "})]}),a.jsx("div",{className:"py-4",children:l?a.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-4",children:[a.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:a.jsx(em,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  !"}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a.jsx("span",{className:"font-medium text-foreground",children:r}),"             "]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(ye,{variant:"outline",onClick:()=>h(!1),children:" "}),a.jsxs("button",{onClick:()=>c(!1),className:"text-sm text-primary hover:underline flex items-center justify-center gap-1",children:[a.jsx(Nl,{className:"h-3 w-3"}),"  "]})]})]}):a.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(eT,{className:"h-4 w-4 text-muted-foreground"})," "]}),a.jsx(nt,{type:"email",value:r,onChange:p=>{i(p.target.value),d("")},placeholder:"your@email.com",disabled:s})]}),u&&a.jsx(st.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-destructive",children:u}),a.jsxs(ye,{onClick:f,disabled:s||!r,className:"w-full",children:[s?a.jsx(fx,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(eT,{className:"h-4 w-4 mr-2"}),"  "]})]})})]})})}const ZK=yye({email:wj().email("Please enter a valid email"),password:wj().min(6,"Password must be at least 6 characters")}),PTe=ZK.extend({name:wj().min(2,"Name must be at least 2 characters")});function OTe(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(""),[c,u]=S.useState(!1),{setUser:d}=_i(),f=Vxe({resolver:$xe(e?PTe:ZK),defaultValues:{email:"",password:"",name:""}}),h=async(x,v,g)=>{const b=Ye(Le,"users",x);(await kh(b)).exists()||await bt(b,{uid:x,email:v,displayName:g,role:"student",institution:"",groups:[],createdAt:new Date,lastActive:new Date})},p=async x=>{s(!0),l("");try{if(e){const v=await pue(Fs,x.email,x.password);await h(v.user.uid,x.email,x.name)}else await mue(Fs,x.email,x.password)}catch(v){const g=v.code||"";let b="Something went wrong. Please try again.";g==="auth/user-not-found"?b="No account found with this email.":g==="auth/wrong-password"?b="Incorrect password.":g==="auth/email-already-in-use"?b="This email is already registered.":g==="auth/invalid-email"?b="Invalid email address.":g==="auth/weak-password"?b="Password is too weak.":g==="auth/network-request-failed"?b="Network error. Please check your connection.":g==="auth/invalid-credential"&&(b="Invalid credentials. Please check email and password."),l(b)}finally{s(!1)}},y=async()=>{var x;s(!0),l("");try{const v=new rc;v.setCustomParameters({prompt:"select_account"});try{const g=await que(Fs,v);await h(g.user.uid,g.user.email||"",g.user.displayName||((x=g.user.email)==null?void 0:x.split("@")[0])||"User")}catch(g){if(g.code==="auth/popup-blocked"||g.code==="auth/popup-closed-by-user")await JF(Fs,v);else throw g}}catch(v){const g=v.code||"";let b="Google sign-in failed. Please try again.";if(console.error("Google Sign-in Error:",g,v.message),g==="auth/popup-blocked"){b="Popup was blocked. Redirecting to sign in...";const w=new rc;await JF(Fs,w);return}else g==="auth/cancelled-popup-request"?b="Sign-in cancelled.":g==="auth/network-request-failed"?b="Network error. Please check your connection.":g==="auth/unauthorized-domain"?b="This domain is not authorized. Please contact the administrator.":g==="auth/operation-not-allowed"?b="Google sign-in is not enabled. Please contact the administrator.":g.includes("auth/")&&(b=`Authentication error: ${v.message}`);l(b)}finally{s(!1)}},m=()=>{const x={id:"guest-"+Date.now(),email:"guest@studycircle.app",displayName:"Guest User",photoURL:void 0,institution:"",groups:[],role:"student",createdAt:new Date,lastActive:new Date,isGuest:!0};d(x)};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/50 p-4",children:[a.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:a.jsxs(ut,{className:"border-0 shadow-2xl",children:[a.jsxs(Wn,{className:"space-y-1 text-center pb-2",children:[a.jsx(st.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:"text-4xl mb-2",children:""}),a.jsx(Jn,{className:"text-2xl font-bold",children:"Group Study 2.0"}),a.jsx(ac,{children:"Learn together, grow together"})]}),a.jsxs(Ht,{className:"space-y-4",children:[o&&a.jsx(st.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-destructive/10 text-destructive text-sm p-3 rounded-lg",children:o}),a.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-4",children:[e&&a.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"relative",children:[a.jsx(Cp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(nt,{...f.register("name"),placeholder:"Your Name",className:"pl-10",disabled:i}),f.formState.errors.name&&a.jsx("p",{className:"text-destructive text-xs mt-1",children:f.formState.errors.name.message})]}),a.jsxs("div",{className:"relative",children:[a.jsx(eT,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(nt,{...f.register("email"),type:"email",placeholder:"Email",className:"pl-10",disabled:i}),f.formState.errors.email&&a.jsx("p",{className:"text-destructive text-xs mt-1",children:f.formState.errors.email.message})]}),a.jsxs("div",{className:"relative",children:[a.jsx(m5,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(nt,{...f.register("password"),type:n?"text":"password",placeholder:"Password",className:"pl-10 pr-10",disabled:i}),a.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:n?a.jsx(rK,{className:"h-4 w-4"}):a.jsx(yc,{className:"h-4 w-4"})}),f.formState.errors.password&&a.jsx("p",{className:"text-destructive text-xs mt-1",children:f.formState.errors.password.message})]}),!e&&a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"button",onClick:()=>u(!0),className:"text-xs text-primary hover:underline flex items-center gap-1",children:[a.jsx(oK,{className:"h-3 w-3"}),"  ?"]})}),a.jsxs(ye,{type:"submit",className:"w-full",disabled:i,children:[i?a.jsx(fx,{className:"h-4 w-4 animate-spin mr-2"}):null,e?"Register":"Login"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or"})})]}),a.jsxs(ye,{type:"button",variant:"outline",className:"w-full",onClick:y,disabled:i,children:[a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),a.jsxs(ye,{type:"button",variant:"secondary",className:"w-full",onClick:m,disabled:i,children:[a.jsx(B2e,{className:"h-4 w-4 mr-2"}),"Continue as Guest"]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[e?"Already have an account?":"New user?"," ",a.jsx("button",{type:"button",onClick:()=>{t(!e),l(""),f.reset()},className:"text-primary hover:underline font-medium",children:e?"Login":"Register"})]})]})]})}),a.jsx(RTe,{open:c,onOpenChange:u,defaultEmail:f.getValues("email")})]})}function FTe(e,t=[]){let n=[];function r(s,o){const l=S.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=S.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=S.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,LTe(i,...t)]}function LTe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var MTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],E5=MTe.reduce((e,t)=>{const n=g5(`Primitive.${t}`),r=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function UTe(){return vG.useSyncExternalStore(BTe,()=>!0,()=>!1)}function BTe(){return()=>{}}var N5="Avatar",[VTe]=FTe(N5),[qTe,JK]=VTe(N5),eX=S.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=S.useState("idle");return a.jsx(qTe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(E5.span,{...r,ref:t})})});eX.displayName=N5;var tX="AvatarImage",nX=S.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,o=JK(tX,n),l=WTe(r,s),c=vc(u=>{i(u),o.onImageLoadingStatusChange(u)});return ds(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(E5.img,{...s,ref:t,src:r}):null});nX.displayName=tX;var rX="AvatarFallback",iX=S.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=JK(rX,n),[o,l]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(E5.span,{...i,ref:t}):null});iX.displayName=rX;function FM(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function WTe(e,{referrerPolicy:t,crossOrigin:n}){const r=UTe(),i=S.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=S.useState(()=>FM(s,e));return ds(()=>{l(FM(s,e))},[s,e]),ds(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,t]),o}var sX=eX,aX=nX,oX=iX;const Mf=S.forwardRef(({className:e,...t},n)=>a.jsx(sX,{ref:n,className:Rt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Mf.displayName=sX.displayName;const lX=S.forwardRef(({className:e,...t},n)=>a.jsx(aX,{ref:n,className:Rt("aspect-square h-full w-full",e),...t}));lX.displayName=aX.displayName;const Uf=S.forwardRef(({className:e,...t},n)=>a.jsx(oX,{ref:n,className:Rt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Uf.displayName=oX.displayName;function LM(e){const t=zTe(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(HTe);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function zTe(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=QTe(i),l=GTe(s,i.props);return i.type!==S.Fragment&&(l.ref=r?Id(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Te=Symbol("radix.slottable");function HTe(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Te}function GTe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function QTe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function S5(e){const t=e+"CollectionProvider",[n,r]=Rd(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:v}=m,g=Yr.useRef(null),b=Yr.useRef(new Map).current;return a.jsx(i,{scope:x,itemMap:b,collectionRef:g,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=LM(l),u=Yr.forwardRef((m,x)=>{const{scope:v,children:g}=m,b=s(l,v),w=jr(x,b.collectionRef);return a.jsx(c,{ref:w,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=LM(d),p=Yr.forwardRef((m,x)=>{const{scope:v,children:g,...b}=m,w=Yr.useRef(null),T=jr(x,w),k=s(d,v);return Yr.useEffect(()=>(k.itemMap.set(w,{ref:w,...b}),()=>void k.itemMap.delete(w))),a.jsx(h,{[f]:"",ref:T,children:g})});p.displayName=d;function y(m){const x=s(e+"CollectionConsumer",m);return Yr.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((k,_)=>b.indexOf(k.ref.current)-b.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,r]}var KTe=S.createContext(void 0);function ZE(e){const t=S.useContext(KTe);return e||t||"ltr"}const XTe=["top","right","bottom","left"],ph=Math.min,Bo=Math.max,iT=Math.round,B2=Math.floor,hu=e=>({x:e,y:e}),YTe={left:"right",right:"left",bottom:"top",top:"bottom"},ZTe={start:"end",end:"start"};function Vj(e,t,n){return Bo(e,ph(t,n))}function _d(e,t){return typeof e=="function"?e(t):e}function Td(e){return e.split("-")[0]}function px(e){return e.split("-")[1]}function k5(e){return e==="x"?"y":"x"}function A5(e){return e==="y"?"height":"width"}const JTe=new Set(["top","bottom"]);function iu(e){return JTe.has(Td(e))?"y":"x"}function C5(e){return k5(iu(e))}function eEe(e,t,n){n===void 0&&(n=!1);const r=px(e),i=C5(e),s=A5(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=sT(o)),[o,sT(o)]}function tEe(e){const t=sT(e);return[qj(e),t,qj(t)]}function qj(e){return e.replace(/start|end/g,t=>ZTe[t])}const MM=["left","right"],UM=["right","left"],nEe=["top","bottom"],rEe=["bottom","top"];function iEe(e,t,n){switch(e){case"top":case"bottom":return n?t?UM:MM:t?MM:UM;case"left":case"right":return t?nEe:rEe;default:return[]}}function sEe(e,t,n,r){const i=px(e);let s=iEe(Td(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(qj)))),s}function sT(e){return e.replace(/left|right|bottom|top/g,t=>YTe[t])}function aEe(e){return{top:0,right:0,bottom:0,left:0,...e}}function cX(e){return typeof e!="number"?aEe(e):{top:e,right:e,bottom:e,left:e}}function aT(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function BM(e,t,n){let{reference:r,floating:i}=e;const s=iu(t),o=C5(t),l=A5(o),c=Td(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(px(t)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const oEe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=BM(u,r,c),h=r,p={},y=0;for(let m=0;m<l.length;m++){const{name:x,fn:v}=l[m],{x:g,y:b,data:w,reset:T}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=b??f,p={...p,[x]:{...p[x],...w}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:d,y:f}=BM(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function N1(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=_d(t,e),y=cX(p),x=l[h?f==="floating"?"reference":"floating":f],v=aT(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},T=aT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(v.top-T.top+y.top)/w.y,bottom:(T.bottom-v.bottom+y.bottom)/w.y,left:(v.left-T.left+y.left)/w.x,right:(T.right-v.right+y.right)/w.x}}const lEe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=_d(e,t)||{};if(u==null)return{};const f=cX(d),h={x:n,y:r},p=C5(i),y=A5(p),m=await o.getDimensions(u),x=p==="y",v=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",w=s.reference[y]+s.reference[p]-h[p]-s.floating[y],T=h[p]-s.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=k?k[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=l.floating[b]||s.floating[y]);const N=w/2-T/2,C=_/2-m[y]/2-1,I=ph(f[v],C),j=ph(f[g],C),E=I,D=_-m[y]-j,R=_/2-m[y]/2+N,M=Vj(E,R,D),U=!c.arrow&&px(i)!=null&&R!==M&&s.reference[y]/2-(R<E?I:j)-m[y]/2<0,z=U?R<E?R-E:R-D:0;return{[p]:h[p]+z,data:{[p]:M,centerOffset:R-M-z,...U&&{alignmentOffset:z}},reset:U}}}),cEe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...x}=_d(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Td(i),g=iu(l),b=Td(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=h||(b||!m?[sT(l)]:tEe(l)),k=y!=="none";!h&&k&&T.push(...sEe(l,m,y,w));const _=[l,...T],N=await N1(t,x),C=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(N[v]),f){const R=eEe(i,o,w);C.push(N[R[0]],N[R[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every(R=>R<=0)){var j,E;const R=(((j=s.flip)==null?void 0:j.index)||0)+1,M=_[R];if(M&&(!(f==="alignment"?g!==iu(M):!1)||I.every(G=>iu(G.placement)===g?G.overflows[0]>0:!0)))return{data:{index:R,overflows:I},reset:{placement:M}};let U=(E=I.filter(z=>z.overflows[0]<=0).sort((z,G)=>z.overflows[1]-G.overflows[1])[0])==null?void 0:E.placement;if(!U)switch(p){case"bestFit":{var D;const z=(D=I.filter(G=>{if(k){const F=iu(G.placement);return F===g||F==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((G,F)=>G[1]-F[1])[0])==null?void 0:D[0];z&&(U=z);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function VM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qM(e){return XTe.some(t=>e[t]>=0)}const uEe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=_d(e,t);switch(r){case"referenceHidden":{const s=await N1(t,{...i,elementContext:"reference"}),o=VM(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qM(o)}}}case"escaped":{const s=await N1(t,{...i,altBoundary:!0}),o=VM(s,n.floating);return{data:{escapedOffsets:o,escaped:qM(o)}}}default:return{}}}}},uX=new Set(["left","top"]);async function dEe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Td(n),l=px(n),c=iu(n)==="y",u=uX.has(o)?-1:1,d=s&&c?-1:1,f=_d(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const fEe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await dEe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},hEe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y:g}=x;return{x:v,y:g}}},...c}=_d(e,t),u={x:n,y:r},d=await N1(t,c),f=iu(Td(i)),h=k5(f);let p=u[h],y=u[f];if(s){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=p+d[x],b=p-d[v];p=Vj(g,p,b)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=y+d[x],b=y-d[v];y=Vj(g,y,b)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:o}}}}}},pEe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_d(e,t),d={x:n,y:r},f=iu(i),h=k5(f);let p=d[h],y=d[f];const m=_d(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",w=s.reference[h]-s.floating[b]+x.mainAxis,T=s.reference[h]+s.reference[b]-x.mainAxis;p<w?p=w:p>T&&(p=T)}if(u){var v,g;const b=h==="y"?"width":"height",w=uX.has(Td(i)),T=s.reference[f]-s.floating[b]+(w&&((v=o.offset)==null?void 0:v[f])||0)+(w?0:x.crossAxis),k=s.reference[f]+s.reference[b]+(w?0:((g=o.offset)==null?void 0:g[f])||0)-(w?x.crossAxis:0);y<T?y=T:y>k&&(y=k)}return{[h]:p,[f]:y}}}},mEe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=_d(e,t),d=await N1(t,u),f=Td(i),h=px(i),p=iu(i)==="y",{width:y,height:m}=s.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const g=m-d.top-d.bottom,b=y-d.left-d.right,w=ph(m-d[x],g),T=ph(y-d[v],b),k=!t.middlewareData.shift;let _=w,N=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=g),k&&!h){const I=Bo(d.left,0),j=Bo(d.right,0),E=Bo(d.top,0),D=Bo(d.bottom,0);p?N=y-2*(I!==0||j!==0?I+j:Bo(d.left,d.right)):_=m-2*(E!==0||D!==0?E+D:Bo(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:_});const C=await o.getDimensions(l.floating);return y!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function JE(){return typeof window<"u"}function mx(e){return dX(e)?(e.nodeName||"").toLowerCase():"#document"}function Ko(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Eu(e){var t;return(t=(dX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dX(e){return JE()?e instanceof Node||e instanceof Ko(e).Node:!1}function bc(e){return JE()?e instanceof Element||e instanceof Ko(e).Element:!1}function vu(e){return JE()?e instanceof HTMLElement||e instanceof Ko(e).HTMLElement:!1}function WM(e){return!JE()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ko(e).ShadowRoot}const gEe=new Set(["inline","contents"]);function Db(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!gEe.has(i)}const xEe=new Set(["table","td","th"]);function yEe(e){return xEe.has(mx(e))}const vEe=[":popover-open",":modal"];function eN(e){return vEe.some(t=>{try{return e.matches(t)}catch{return!1}})}const bEe=["transform","translate","scale","rotate","perspective"],wEe=["transform","translate","scale","rotate","perspective","filter"],_Ee=["paint","layout","strict","content"];function D5(e){const t=j5(),n=bc(e)?wc(e):e;return bEe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||wEe.some(r=>(n.willChange||"").includes(r))||_Ee.some(r=>(n.contain||"").includes(r))}function TEe(e){let t=mh(e);for(;vu(t)&&!H0(t);){if(D5(t))return t;if(eN(t))return null;t=mh(t)}return null}function j5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EEe=new Set(["html","body","#document"]);function H0(e){return EEe.has(mx(e))}function wc(e){return Ko(e).getComputedStyle(e)}function tN(e){return bc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mh(e){if(mx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WM(e)&&e.host||Eu(e);return WM(t)?t.host:t}function fX(e){const t=mh(e);return H0(t)?e.ownerDocument?e.ownerDocument.body:e.body:vu(t)&&Db(t)?t:fX(t)}function S1(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=fX(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ko(i);if(s){const l=Wj(o);return t.concat(o,o.visualViewport||[],Db(i)?i:[],l&&n?S1(l):[])}return t.concat(i,S1(i,[],n))}function Wj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hX(e){const t=wc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=vu(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=iT(n)!==s||iT(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function I5(e){return bc(e)?e:e.contextElement}function r0(e){const t=I5(e);if(!vu(t))return hu(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=hX(t);let o=(s?iT(n.width):n.width)/r,l=(s?iT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const NEe=hu(0);function pX(e){const t=Ko(e);return!j5()||!t.visualViewport?NEe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SEe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ko(e)?!1:t}function sm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=I5(e);let o=hu(1);t&&(r?bc(r)&&(o=r0(r)):o=r0(e));const l=SEe(s,n,r)?pX(s):hu(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Ko(s),p=r&&bc(r)?Ko(r):r;let y=h,m=Wj(y);for(;m&&r&&p!==y;){const x=r0(m),v=m.getBoundingClientRect(),g=wc(m),b=v.left+(m.clientLeft+parseFloat(g.paddingLeft))*x.x,w=v.top+(m.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=w,y=Ko(m),m=Wj(y)}}return aT({width:d,height:f,x:c,y:u})}function nN(e,t){const n=tN(e).scrollLeft;return t?t.left+n:sm(Eu(e)).left+n}function mX(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-nN(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function kEe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Eu(r),l=t?eN(t.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=hu(1);const d=hu(0),f=vu(r);if((f||!f&&!s)&&((mx(r)!=="body"||Db(o))&&(c=tN(r)),vu(r))){const p=sm(r);u=r0(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!f&&!s?mX(o,c):hu(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function AEe(e){return Array.from(e.getClientRects())}function CEe(e){const t=Eu(e),n=tN(e),r=e.ownerDocument.body,i=Bo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Bo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nN(e);const l=-n.scrollTop;return wc(r).direction==="rtl"&&(o+=Bo(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}const zM=25;function DEe(e,t){const n=Ko(e),r=Eu(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=j5();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=nN(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-p);y<=zM&&(s-=y)}else u<=zM&&(s+=u);return{width:s,height:o,x:l,y:c}}const jEe=new Set(["absolute","fixed"]);function IEe(e,t){const n=sm(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=vu(e)?r0(e):hu(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function $M(e,t,n){let r;if(t==="viewport")r=DEe(e,n);else if(t==="document")r=CEe(Eu(e));else if(bc(t))r=IEe(t,n);else{const i=pX(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return aT(r)}function gX(e,t){const n=mh(e);return n===t||!bc(n)||H0(n)?!1:wc(n).position==="fixed"||gX(n,t)}function REe(e,t){const n=t.get(e);if(n)return n;let r=S1(e,[],!1).filter(l=>bc(l)&&mx(l)!=="body"),i=null;const s=wc(e).position==="fixed";let o=s?mh(e):e;for(;bc(o)&&!H0(o);){const l=wc(o),c=D5(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&jEe.has(i.position)||Db(o)&&!c&&gX(e,o))?r=r.filter(d=>d!==o):i=l,o=mh(o)}return t.set(e,r),r}function PEe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?eN(t)?[]:REe(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=$M(t,d,i);return u.top=Bo(f.top,u.top),u.right=ph(f.right,u.right),u.bottom=ph(f.bottom,u.bottom),u.left=Bo(f.left,u.left),u},$M(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OEe(e){const{width:t,height:n}=hX(e);return{width:t,height:n}}function FEe(e,t,n){const r=vu(t),i=Eu(t),s=n==="fixed",o=sm(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=hu(0);function u(){c.x=nN(i)}if(r||!r&&!s)if((mx(t)!=="body"||Db(i))&&(l=tN(t)),r){const p=sm(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?mX(i,l):hu(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function rA(e){return wc(e).position==="static"}function HM(e,t){if(!vu(e)||wc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Eu(e)===n&&(n=n.ownerDocument.body),n}function xX(e,t){const n=Ko(e);if(eN(e))return n;if(!vu(e)){let i=mh(e);for(;i&&!H0(i);){if(bc(i)&&!rA(i))return i;i=mh(i)}return n}let r=HM(e,t);for(;r&&yEe(r)&&rA(r);)r=HM(r,t);return r&&H0(r)&&rA(r)&&!D5(r)?n:r||TEe(e)||n}const LEe=async function(e){const t=this.getOffsetParent||xX,n=this.getDimensions,r=await n(e.floating);return{reference:FEe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MEe(e){return wc(e).direction==="rtl"}const UEe={convertOffsetParentRelativeRectToViewportRelativeRect:kEe,getDocumentElement:Eu,getClippingRect:PEe,getOffsetParent:xX,getElementRects:LEe,getClientRects:AEe,getDimensions:OEe,getScale:r0,isElement:bc,isRTL:MEe};function yX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BEe(e,t){let n=null,r;const i=Eu(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=B2(f),m=B2(i.clientWidth-(d+h)),x=B2(i.clientHeight-(f+p)),v=B2(d),b={rootMargin:-y+"px "+-m+"px "+-x+"px "+-v+"px",threshold:Bo(0,ph(1,c))||1};let w=!0;function T(k){const _=k[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!yX(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(T,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,b)}n.observe(e)}return o(!0),s}function VEe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=I5(e),d=i||s?[...u?S1(u):[],...S1(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&l?BEe(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?sm(e):null;c&&x();function x(){const v=sm(e);m&&!yX(m,v)&&n(),m=v,y=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const qEe=fEe,WEe=hEe,zEe=cEe,$Ee=mEe,HEe=uEe,GM=lEe,GEe=pEe,QEe=(e,t,n)=>{const r=new Map,i={platform:UEe,...n},s={...i.platform,_c:r};return oEe(e,t,{...i,platform:s})};var KEe=typeof document<"u",XEe=function(){},Vw=KEe?S.useLayoutEffect:XEe;function oT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!oT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!oT(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function vX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function QM(e,t){const n=vX(e);return Math.round(t*n)/n}function iA(e){const t=S.useRef(e);return Vw(()=>{t.current=e}),t}function YEe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);oT(h,r)||p(r);const[y,m]=S.useState(null),[x,v]=S.useState(null),g=S.useCallback(G=>{G!==k.current&&(k.current=G,m(G))},[]),b=S.useCallback(G=>{G!==_.current&&(_.current=G,v(G))},[]),w=s||y,T=o||x,k=S.useRef(null),_=S.useRef(null),N=S.useRef(d),C=c!=null,I=iA(c),j=iA(i),E=iA(u),D=S.useCallback(()=>{if(!k.current||!_.current)return;const G={placement:t,strategy:n,middleware:h};j.current&&(G.platform=j.current),QEe(k.current,_.current,G).then(F=>{const W={...F,isPositioned:E.current!==!1};R.current&&!oT(N.current,W)&&(N.current=W,ym.flushSync(()=>{f(W)}))})},[h,t,n,j,E]);Vw(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const R=S.useRef(!1);Vw(()=>(R.current=!0,()=>{R.current=!1}),[]),Vw(()=>{if(w&&(k.current=w),T&&(_.current=T),w&&T){if(I.current)return I.current(w,T,D);D()}},[w,T,D,I,C]);const M=S.useMemo(()=>({reference:k,floating:_,setReference:g,setFloating:b}),[g,b]),U=S.useMemo(()=>({reference:w,floating:T}),[w,T]),z=S.useMemo(()=>{const G={position:n,left:0,top:0};if(!U.floating)return G;const F=QM(U.floating,d.x),W=QM(U.floating,d.y);return l?{...G,transform:"translate("+F+"px, "+W+"px)",...vX(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,l,U.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:D,refs:M,elements:U,floatingStyles:z}),[d,D,M,U,z])}const ZEe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?GM({element:r.current,padding:i}).fn(n):{}:r?GM({element:r,padding:i}).fn(n):{}}}},JEe=(e,t)=>({...qEe(e),options:[e,t]}),eNe=(e,t)=>({...WEe(e),options:[e,t]}),tNe=(e,t)=>({...GEe(e),options:[e,t]}),nNe=(e,t)=>({...zEe(e),options:[e,t]}),rNe=(e,t)=>({...$Ee(e),options:[e,t]}),iNe=(e,t)=>({...HEe(e),options:[e,t]}),sNe=(e,t)=>({...ZEe(e),options:[e,t]});var aNe="Arrow",bX=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return a.jsx(An.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});bX.displayName=aNe;var oNe=bX;function wX(e){const[t,n]=S.useState(void 0);return ds(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var R5="Popper",[_X,rN]=Rd(R5),[lNe,TX]=_X(R5),EX=e=>{const{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return a.jsx(lNe,{scope:t,anchor:r,onAnchorChange:i,children:n})};EX.displayName=R5;var NX="PopperAnchor",SX=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=TX(NX,n),o=S.useRef(null),l=jr(t,o),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:a.jsx(An.div,{...i,ref:l})});SX.displayName=NX;var P5="PopperContent",[cNe,uNe]=_X(P5),kX=S.forwardRef((e,t)=>{var ee,ge,he,be,Oe,Z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,x=TX(P5,n),[v,g]=S.useState(null),b=jr(t,Ie=>g(Ie)),[w,T]=S.useState(null),k=wX(w),_=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,C=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],E=j.length>0,D={padding:I,boundary:j.filter(fNe),altBoundary:E},{refs:R,floatingStyles:M,placement:U,isPositioned:z,middlewareData:G}=YEe({strategy:"fixed",placement:C,whileElementsMounted:(...Ie)=>VEe(...Ie,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[JEe({mainAxis:i+N,alignmentAxis:o}),c&&eNe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tNe():void 0,...D}),c&&nNe({...D}),rNe({...D,apply:({elements:Ie,rects:V,availableWidth:ke,availableHeight:xe})=>{const{width:re,height:J}=V.reference,pe=Ie.floating.style;pe.setProperty("--radix-popper-available-width",`${ke}px`),pe.setProperty("--radix-popper-available-height",`${xe}px`),pe.setProperty("--radix-popper-anchor-width",`${re}px`),pe.setProperty("--radix-popper-anchor-height",`${J}px`)}}),w&&sNe({element:w,padding:l}),hNe({arrowWidth:_,arrowHeight:N}),h&&iNe({strategy:"referenceHidden",...D})]}),[F,W]=DX(U),O=vc(y);ds(()=>{z&&(O==null||O())},[z,O]);const P=(ee=G.arrow)==null?void 0:ee.x,B=(ge=G.arrow)==null?void 0:ge.y,K=((he=G.arrow)==null?void 0:he.centerOffset)!==0,[Q,L]=S.useState();return ds(()=>{v&&L(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:z?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(be=G.transformOrigin)==null?void 0:be.x,(Oe=G.transformOrigin)==null?void 0:Oe.y].join(" "),...((Z=G.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(cNe,{scope:n,placedSide:F,onArrowChange:T,arrowX:P,arrowY:B,shouldHideArrow:K,children:a.jsx(An.div,{"data-side":F,"data-align":W,...m,ref:b,style:{...m.style,animation:z?void 0:"none"}})})})});kX.displayName=P5;var AX="PopperArrow",dNe={top:"bottom",right:"left",bottom:"top",left:"right"},CX=S.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=uNe(AX,r),o=dNe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(oNe,{...i,ref:n,style:{...i.style,display:"block"}})})});CX.displayName=AX;function fNe(e){return e!==null}var hNe=e=>({name:"transformOrigin",options:e,fn(t){var x,v,g;const{placement:n,rects:r,middlewareData:i}=t,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=DX(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((g=i.arrow)==null?void 0:g.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function DX(e){const[t,n="center"]=e.split("-");return[t,n]}var jX=EX,IX=SX,RX=kX,PX=CX,sA="rovingFocusGroup.onEntryFocus",pNe={bubbles:!1,cancelable:!0},jb="RovingFocusGroup",[zj,OX,mNe]=S5(jb),[gNe,iN]=Rd(jb,[mNe]),[xNe,yNe]=gNe(jb),FX=S.forwardRef((e,t)=>a.jsx(zj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(zj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(vNe,{...e,ref:t})})}));FX.displayName=jb;var vNe=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),p=jr(t,h),y=ZE(s),[m,x]=nm({prop:o,defaultProp:l??null,onChange:c,caller:jb}),[v,g]=S.useState(!1),b=vc(u),w=OX(n),T=S.useRef(!1),[k,_]=S.useState(0);return S.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(sA,b),()=>N.removeEventListener(sA,b)},[b]),a.jsx(xNe,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:m,onItemFocus:S.useCallback(N=>x(N),[x]),onItemShiftTab:S.useCallback(()=>g(!0),[]),onFocusableItemAdd:S.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:S.useCallback(()=>_(N=>N-1),[]),children:a.jsx(An.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Gt(e.onMouseDown,()=>{T.current=!0}),onFocus:Gt(e.onFocus,N=>{const C=!T.current;if(N.target===N.currentTarget&&C&&!v){const I=new CustomEvent(sA,pNe);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const j=w().filter(U=>U.focusable),E=j.find(U=>U.active),D=j.find(U=>U.id===m),M=[E,D,...j].filter(Boolean).map(U=>U.ref.current);UX(M,d)}}T.current=!1}),onBlur:Gt(e.onBlur,()=>g(!1))})})}),LX="RovingFocusGroupItem",MX=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=fu(),u=s||c,d=yNe(LX,n),f=d.currentTabStopId===u,h=OX(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return S.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),a.jsx(zj.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx(An.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Gt(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:Gt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Gt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=_Ne(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=d.loop?TNe(b,w+1):b.slice(w+1)}setTimeout(()=>UX(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});MX.displayName=LX;var bNe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wNe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _Ne(e,t,n){const r=wNe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bNe[r]}function UX(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function TNe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BX=FX,VX=MX;function ENe(e){const t=NNe(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(kNe);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function NNe(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=CNe(i),l=ANe(s,i.props);return i.type!==S.Fragment&&(l.ref=r?Id(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SNe=Symbol("radix.slottable");function kNe(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SNe}function ANe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function CNe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $j=["Enter"," "],DNe=["ArrowDown","PageUp","Home"],qX=["ArrowUp","PageDown","End"],jNe=[...DNe,...qX],INe={ltr:[...$j,"ArrowRight"],rtl:[...$j,"ArrowLeft"]},RNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ib="Menu",[k1,PNe,ONe]=S5(Ib),[Dm,WX]=Rd(Ib,[ONe,rN,iN]),sN=rN(),zX=iN(),[FNe,jm]=Dm(Ib),[LNe,Rb]=Dm(Ib),$X=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,l=sN(t),[c,u]=S.useState(null),d=S.useRef(!1),f=vc(s),h=ZE(i);return S.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(jX,{...l,children:a.jsx(FNe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(LNe,{scope:t,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};$X.displayName=Ib;var MNe="MenuAnchor",O5=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=sN(n);return a.jsx(IX,{...i,...r,ref:t})});O5.displayName=MNe;var F5="MenuPortal",[UNe,HX]=Dm(F5,{forceMount:void 0}),GX=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=jm(F5,t);return a.jsx(UNe,{scope:t,forceMount:n,children:a.jsx(Pd,{present:n||s.open,children:a.jsx(QE,{asChild:!0,container:i,children:r})})})};GX.displayName=F5;var Al="MenuContent",[BNe,L5]=Dm(Al),QX=S.forwardRef((e,t)=>{const n=HX(Al,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=jm(Al,e.__scopeMenu),o=Rb(Al,e.__scopeMenu);return a.jsx(k1.Provider,{scope:e.__scopeMenu,children:a.jsx(Pd,{present:r||s.open,children:a.jsx(k1.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(VNe,{...i,ref:t}):a.jsx(qNe,{...i,ref:t})})})})}),VNe=S.forwardRef((e,t)=>{const n=jm(Al,e.__scopeMenu),r=S.useRef(null),i=jr(t,r);return S.useEffect(()=>{const s=r.current;if(s)return v5(s)},[]),a.jsx(M5,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Gt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),qNe=S.forwardRef((e,t)=>{const n=jm(Al,e.__scopeMenu);return a.jsx(M5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),WNe=ENe("MenuContent.ScrollLock"),M5=S.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,x=jm(Al,n),v=Rb(Al,n),g=sN(n),b=zX(n),w=PNe(n),[T,k]=S.useState(null),_=S.useRef(null),N=jr(t,_,x.onContentChange),C=S.useRef(0),I=S.useRef(""),j=S.useRef(0),E=S.useRef(null),D=S.useRef("right"),R=S.useRef(0),M=y?XE:S.Fragment,U=y?{as:WNe,allowPinchZoom:!0}:void 0,z=F=>{var ee,ge;const W=I.current+F,O=w().filter(he=>!he.disabled),P=document.activeElement,B=(ee=O.find(he=>he.ref.current===P))==null?void 0:ee.textValue,K=O.map(he=>he.textValue),Q=tSe(K,W,B),L=(ge=O.find(he=>he.textValue===Q))==null?void 0:ge.ref.current;(function he(be){I.current=be,window.clearTimeout(C.current),be!==""&&(C.current=window.setTimeout(()=>he(""),1e3))})(W),L&&setTimeout(()=>L.focus())};S.useEffect(()=>()=>window.clearTimeout(C.current),[]),y5();const G=S.useCallback(F=>{var O,P;return D.current===((O=E.current)==null?void 0:O.side)&&rSe(F,(P=E.current)==null?void 0:P.area)},[]);return a.jsx(BNe,{scope:n,searchRef:I,onItemEnter:S.useCallback(F=>{G(F)&&F.preventDefault()},[G]),onItemLeave:S.useCallback(F=>{var W;G(F)||((W=_.current)==null||W.focus(),k(null))},[G]),onTriggerLeave:S.useCallback(F=>{G(F)&&F.preventDefault()},[G]),pointerGraceTimerRef:j,onPointerGraceIntentChange:S.useCallback(F=>{E.current=F},[]),children:a.jsx(M,{...U,children:a.jsx(GE,{asChild:!0,trapped:i,onMountAutoFocus:Gt(s,F=>{var W;F.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(HE,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(BX,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:k,onEntryFocus:Gt(c,F=>{v.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(RX,{role:"menu","aria-orientation":"vertical","data-state":uY(x.open),"data-radix-menu-content":"",dir:v.dir,...g,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:Gt(m.onKeyDown,F=>{const O=F.target.closest("[data-radix-menu-content]")===F.currentTarget,P=F.ctrlKey||F.altKey||F.metaKey,B=F.key.length===1;O&&(F.key==="Tab"&&F.preventDefault(),!P&&B&&z(F.key));const K=_.current;if(F.target!==K||!jNe.includes(F.key))return;F.preventDefault();const L=w().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);qX.includes(F.key)&&L.reverse(),JNe(L)}),onBlur:Gt(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:Gt(e.onPointerMove,A1(F=>{const W=F.target,O=R.current!==F.clientX;if(F.currentTarget.contains(W)&&O){const P=F.clientX>R.current?"right":"left";D.current=P,R.current=F.clientX}}))})})})})})})});QX.displayName=Al;var zNe="MenuGroup",U5=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(An.div,{role:"group",...r,ref:t})});U5.displayName=zNe;var $Ne="MenuLabel",KX=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(An.div,{...r,ref:t})});KX.displayName=$Ne;var lT="MenuItem",KM="menu.itemSelect",aN=S.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=S.useRef(null),o=Rb(lT,e.__scopeMenu),l=L5(lT,e.__scopeMenu),c=jr(t,s),u=S.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(KM,{bubbles:!0,cancelable:!0});f.addEventListener(KM,p=>r==null?void 0:r(p),{once:!0}),bK(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(XX,{...i,ref:c,disabled:n,onClick:Gt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Gt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Gt(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||$j.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});aN.displayName=lT;var XX=S.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=L5(lT,n),l=zX(n),c=S.useRef(null),u=jr(t,c),[d,f]=S.useState(!1),[h,p]=S.useState("");return S.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[s.children]),a.jsx(k1.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:a.jsx(VX,{asChild:!0,...l,focusable:!r,children:a.jsx(An.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Gt(e.onPointerMove,A1(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Gt(e.onPointerLeave,A1(y=>o.onItemLeave(y))),onFocus:Gt(e.onFocus,()=>f(!0)),onBlur:Gt(e.onBlur,()=>f(!1))})})})}),HNe="MenuCheckboxItem",YX=S.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return a.jsx(nY,{scope:e.__scopeMenu,checked:n,children:a.jsx(aN,{role:"menuitemcheckbox","aria-checked":cT(n)?"mixed":n,...i,ref:t,"data-state":V5(n),onSelect:Gt(i.onSelect,()=>r==null?void 0:r(cT(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YX.displayName=HNe;var ZX="MenuRadioGroup",[GNe,QNe]=Dm(ZX,{value:void 0,onValueChange:()=>{}}),JX=S.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=vc(r);return a.jsx(GNe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(U5,{...i,ref:t})})});JX.displayName=ZX;var eY="MenuRadioItem",tY=S.forwardRef((e,t)=>{const{value:n,...r}=e,i=QNe(eY,e.__scopeMenu),s=n===i.value;return a.jsx(nY,{scope:e.__scopeMenu,checked:s,children:a.jsx(aN,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":V5(s),onSelect:Gt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});tY.displayName=eY;var B5="MenuItemIndicator",[nY,KNe]=Dm(B5,{checked:!1}),rY=S.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=KNe(B5,n);return a.jsx(Pd,{present:r||cT(s.checked)||s.checked===!0,children:a.jsx(An.span,{...i,ref:t,"data-state":V5(s.checked)})})});rY.displayName=B5;var XNe="MenuSeparator",iY=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(An.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});iY.displayName=XNe;var YNe="MenuArrow",sY=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=sN(n);return a.jsx(PX,{...i,...r,ref:t})});sY.displayName=YNe;var ZNe="MenuSub",[eze,aY]=Dm(ZNe),Gy="MenuSubTrigger",oY=S.forwardRef((e,t)=>{const n=jm(Gy,e.__scopeMenu),r=Rb(Gy,e.__scopeMenu),i=aY(Gy,e.__scopeMenu),s=L5(Gy,e.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(O5,{asChild:!0,...u,children:a.jsx(XX,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uY(n.open),...e,ref:Id(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Gt(e.onPointerMove,A1(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Gt(e.onPointerLeave,A1(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=n.content)==null?void 0:y.dataset.side,x=m==="right",v=x?-5:5,g=h[x?"left":"right"],b=h[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:g,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Gt(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||INe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});oY.displayName=Gy;var lY="MenuSubContent",cY=S.forwardRef((e,t)=>{const n=HX(Al,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=jm(Al,e.__scopeMenu),o=Rb(Al,e.__scopeMenu),l=aY(lY,e.__scopeMenu),c=S.useRef(null),u=jr(t,c);return a.jsx(k1.Provider,{scope:e.__scopeMenu,children:a.jsx(Pd,{present:r||s.open,children:a.jsx(k1.Slot,{scope:e.__scopeMenu,children:a.jsx(M5,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Gt(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Gt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Gt(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=RNe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});cY.displayName=lY;function uY(e){return e?"open":"closed"}function cT(e){return e==="indeterminate"}function V5(e){return cT(e)?"indeterminate":e?"checked":"unchecked"}function JNe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function eSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function tSe(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=eSe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function nSe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function rSe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return nSe(n,t)}function A1(e){return t=>t.pointerType==="mouse"?e(t):void 0}var iSe=$X,sSe=O5,aSe=GX,oSe=QX,lSe=U5,cSe=KX,uSe=aN,dSe=YX,fSe=JX,hSe=tY,pSe=rY,mSe=iY,gSe=sY,xSe=oY,ySe=cY,oN="DropdownMenu",[vSe]=Rd(oN,[WX]),to=WX(),[bSe,dY]=vSe(oN),fY=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=to(t),u=S.useRef(null),[d,f]=nm({prop:i,defaultProp:s??!1,onChange:o,caller:oN});return a.jsx(bSe,{scope:t,triggerId:fu(),triggerRef:u,contentId:fu(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(iSe,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};fY.displayName=oN;var hY="DropdownMenuTrigger",pY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=dY(hY,n),o=to(n);return a.jsx(sSe,{asChild:!0,...o,children:a.jsx(An.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Id(t,s.triggerRef),onPointerDown:Gt(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Gt(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});pY.displayName=hY;var wSe="DropdownMenuPortal",mY=e=>{const{__scopeDropdownMenu:t,...n}=e,r=to(t);return a.jsx(aSe,{...r,...n})};mY.displayName=wSe;var gY="DropdownMenuContent",xY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dY(gY,n),s=to(n),o=S.useRef(!1);return a.jsx(oSe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Gt(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Gt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xY.displayName=gY;var _Se="DropdownMenuGroup",TSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(lSe,{...i,...r,ref:t})});TSe.displayName=_Se;var ESe="DropdownMenuLabel",yY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(cSe,{...i,...r,ref:t})});yY.displayName=ESe;var NSe="DropdownMenuItem",vY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(uSe,{...i,...r,ref:t})});vY.displayName=NSe;var SSe="DropdownMenuCheckboxItem",kSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(dSe,{...i,...r,ref:t})});kSe.displayName=SSe;var ASe="DropdownMenuRadioGroup",CSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(fSe,{...i,...r,ref:t})});CSe.displayName=ASe;var DSe="DropdownMenuRadioItem",jSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(hSe,{...i,...r,ref:t})});jSe.displayName=DSe;var ISe="DropdownMenuItemIndicator",RSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(pSe,{...i,...r,ref:t})});RSe.displayName=ISe;var PSe="DropdownMenuSeparator",bY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(mSe,{...i,...r,ref:t})});bY.displayName=PSe;var OSe="DropdownMenuArrow",FSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(gSe,{...i,...r,ref:t})});FSe.displayName=OSe;var LSe="DropdownMenuSubTrigger",MSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(xSe,{...i,...r,ref:t})});MSe.displayName=LSe;var USe="DropdownMenuSubContent",BSe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=to(n);return a.jsx(ySe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BSe.displayName=USe;var VSe=fY,qSe=pY,WSe=mY,wY=xY,_Y=yY,TY=vY,EY=bY;const ld=VSe,cd=qSe,pu=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(WSe,{children:a.jsx(wY,{ref:r,sideOffset:t,className:Rt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));pu.displayName=wY.displayName;const Un=S.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(TY,{ref:r,className:Rt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Un.displayName=TY.displayName;const NY=S.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(_Y,{ref:r,className:Rt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));NY.displayName=_Y.displayName;const SY=S.forwardRef(({className:e,...t},n)=>a.jsx(EY,{ref:n,className:Rt("-mx-1 my-1 h-px bg-muted",e),...t}));SY.displayName=EY.displayName;const by="notifications",zSe="content-reports",$Se=jd((e,t)=>({notifications:[],unreadCount:0,isLoading:!1,setNotifications:n=>{const r=n.filter(i=>!i.isRead).length;e({notifications:n,unreadCount:r})},markAsRead:async n=>{try{await P0(Ye(Le,by,n),{isRead:!0}),e(r=>({notifications:r.notifications.map(i=>i.id===n?{...i,isRead:!0}:i),unreadCount:Math.max(0,r.unreadCount-1)}))}catch(r){console.error("Error marking notification as read:",r)}},markAllAsRead:async n=>{try{const r=t().notifications.filter(i=>!i.isRead);for(const i of r)await P0(Ye(Le,by,i.id),{isRead:!0});e(i=>({notifications:i.notifications.map(s=>({...s,isRead:!0})),unreadCount:0}))}catch(r){console.error("Error marking all notifications as read:",r)}},createNotification:async n=>{try{await bt(Ye(Le,by,n.id),n)}catch(r){console.error("Error creating notification:",r)}},createReport:async n=>{try{await bt(Ye(Le,zSe,n.id),n);const r={id:`notif-${Date.now()}`,userId:n.creatorId,type:"report",title:"Content Reported",message:`Your ${n.contentType} "${n.contentTitle}" has been reported: ${n.reportType}`,link:"/library-admin",isRead:!1,createdAt:Date.now()};await bt(Ye(Le,by,r.id),r)}catch(r){throw console.error("Error creating report:",r),r}},subscribeToNotifications:n=>{e({isLoading:!0});const r=Yt(Dt(Le,by),Jt("userId","==",n),Kpe("createdAt","desc"));return vr(r,i=>{const s=i.docs.map(l=>l.data()),o=s.filter(l=>!l.isRead).length;e({notifications:s,unreadCount:o,isLoading:!1})},i=>{console.error("Error subscribing to notifications:",i),e({isLoading:!1})})}})),q5=jd(e=>({isLiveTestActive:!1,setLiveTestActive:t=>e({isLiveTestActive:t}),activeTestTitle:null,setActiveTestTitle:t=>e({activeTestTitle:t}),targetTab:null,setTargetTab:t=>e({targetTab:t})}));function kY({onLiveTestClick:e}){const{user:t}=_i(),{notifications:n,unreadCount:r,subscribeToNotifications:i,markAsRead:s,markAllAsRead:o}=$Se(),{isLiveTestActive:l,activeTestTitle:c}=q5();S.useEffect(()=>{if(!(t!=null&&t.id))return;const f=i(t.id);return()=>f()},[t==null?void 0:t.id,i]);const u=f=>{switch(f){case"report":return a.jsx(h5,{className:"h-4 w-4 text-orange-500"});case"system":return a.jsx(dx,{className:"h-4 w-4 text-blue-500"});case"message":return a.jsx(T1,{className:"h-4 w-4 text-green-500"});default:return a.jsx(aK,{className:"h-4 w-4 text-muted-foreground"})}},d=f=>{const h=Date.now()-f,p=Math.floor(h/6e4),y=Math.floor(h/36e5),m=Math.floor(h/864e5);return p<1?"Just now":p<60?`${p}m ago`:y<24?`${y}h ago`:`${m}d ago`};return a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsxs(ye,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(Z_,{className:"h-5 w-5"}),l&&a.jsx("span",{className:"absolute top-0 left-0 h-2.5 w-2.5 rounded-full bg-red-500 animate-pulse"}),r>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-[10px] font-bold text-white flex items-center justify-center",children:r>9?"9+":r})]})}),a.jsxs(pu,{align:"end",className:"w-80",children:[l&&a.jsx(a.Fragment,{children:a.jsxs(Un,{className:"flex items-center gap-3 p-3 cursor-pointer bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",onClick:()=>{e&&e()},children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("div",{className:"relative",children:[a.jsx(Y2e,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-red-500 animate-pulse"})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400 flex items-center gap-2",children:[a.jsx("span",{className:"animate-pulse",children:"LIVE"})," Test Available!"]}),a.jsx("p",{className:"text-xs text-red-500/80",children:c||"Tap to start"})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-500 text-white font-medium",children:"Go "})]})}),a.jsxs(NY,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Notifications"}),r>0&&a.jsxs(ye,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>(t==null?void 0:t.id)&&o(t.id),children:[a.jsx(U2e,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),a.jsx(SY,{}),n.length===0?a.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[a.jsx(Z_,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):a.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:n.slice(0,10).map(f=>a.jsxs(Un,{className:Rt("flex items-start gap-3 p-3 cursor-pointer",!f.isRead&&"bg-primary/5"),onClick:()=>{f.isRead||s(f.id)},children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u(f.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:Rt("text-sm",!f.isRead&&"font-medium"),children:f.title}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:f.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d(f.createdAt)})]}),!f.isRead&&a.jsx("div",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0"})]},f.id))})]})]})}const sa=jd()(km((e,t)=>({myGroups:[],activeGroupId:null,allGroupsRegistry:[],topics:[],subTopics:[],contentItems:[],groupMCQs:[],deleteRequests:[],questionCategories:[],quizResults:[],contentReports:[],liveTests:[],liveTestResults:[],autoLiveTestConfigs:[],setMyGroups:n=>e({myGroups:n}),addGroup:async n=>{e(r=>({myGroups:[...r.myGroups,n],allGroupsRegistry:r.allGroupsRegistry.some(i=>i.id===n.id)?r.allGroupsRegistry:[...r.allGroupsRegistry,n]}));try{await bt(Ye(Le,"groups",n.id),n)}catch(r){console.error("Error saving group:",r)}},removeGroup:async n=>{e(r=>({myGroups:r.myGroups.filter(i=>i.id!==n),activeGroupId:r.activeGroupId===n?null:r.activeGroupId}))},updateGroup:async n=>{e(r=>({myGroups:r.myGroups.map(i=>i.id===n.id?n:i),allGroupsRegistry:r.allGroupsRegistry.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"groups",n.id),n)}catch(r){console.error("Error updating group:",r)}},setActiveGroup:n=>e({activeGroupId:n}),findGroupByCode:async n=>{const r=t().allGroupsRegistry.find(i=>i.groupCode===n.toUpperCase());if(r)return r;try{const i=await Bn(Yt(Dt(Le,"groups"),Jt("groupCode","==",n.toUpperCase())));if(!i.empty){const s=i.docs[0].data();return e(o=>({allGroupsRegistry:[...o.allGroupsRegistry,s]})),s}}catch(i){console.error("Error finding group:",i)}},registerGroup:async n=>{e(r=>({allGroupsRegistry:r.allGroupsRegistry.some(i=>i.id===n.id)?r.allGroupsRegistry.map(i=>i.id===n.id?n:i):[...r.allGroupsRegistry,n]}));try{await bt(Ye(Le,"groups",n.id),n)}catch(r){console.error("Error registering group:",r)}},addTopic:async n=>{e(r=>({topics:[...r.topics,n]}));try{await bt(Ye(Le,"group-topics",n.id),n)}catch(r){console.error("Error saving topic:",r)}},updateTopic:async n=>{e(r=>({topics:r.topics.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"group-topics",n.id),n)}catch(r){console.error("Error updating topic:",r)}},removeTopic:async n=>{const r=t(),i=r.subTopics.filter(o=>o.topicId===n),s=r.contentItems.filter(o=>o.topicId===n);e(o=>({topics:o.topics.filter(l=>l.id!==n),subTopics:o.subTopics.filter(l=>l.topicId!==n),contentItems:o.contentItems.filter(l=>l.topicId!==n)}));try{const o=Ua(Le);o.delete(Ye(Le,"group-topics",n)),i.forEach(l=>o.delete(Ye(Le,"group-subtopics",l.id))),s.forEach(l=>o.delete(Ye(Le,"group-content",l.id))),await o.commit()}catch(o){console.error("Error deleting topic:",o)}},addSubTopic:async n=>{e(r=>({subTopics:[...r.subTopics,n]}));try{await bt(Ye(Le,"group-subtopics",n.id),n)}catch(r){console.error("Error saving subtopic:",r)}},updateSubTopic:async n=>{e(r=>({subTopics:r.subTopics.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"group-subtopics",n.id),n)}catch(r){console.error("Error updating subtopic:",r)}},removeSubTopic:async n=>{const r=t().contentItems.filter(i=>i.subTopicId===n);e(i=>({subTopics:i.subTopics.filter(s=>s.id!==n),contentItems:i.contentItems.filter(s=>s.subTopicId!==n)}));try{const i=Ua(Le);i.delete(Ye(Le,"group-subtopics",n)),r.forEach(s=>i.delete(Ye(Le,"group-content",s.id))),await i.commit()}catch(i){console.error("Error deleting subtopic:",i)}},assignSubTopic:async(n,r,i)=>{const s=t().subTopics.find(l=>l.id===n);if(!s)return;const o={...s,assignedTo:r,assignedToName:i,status:"assigned"};e(l=>({subTopics:l.subTopics.map(c=>c.id===n?o:c)}));try{await bt(Ye(Le,"group-subtopics",n),o)}catch(l){console.error("Error assigning subtopic:",l)}},updateSubTopicStatus:async(n,r)=>{const i=t().subTopics.find(o=>o.id===n);if(!i)return;const s={...i,status:r};e(o=>({subTopics:o.subTopics.map(l=>l.id===n?s:l)}));try{await bt(Ye(Le,"group-subtopics",n),s)}catch(o){console.error("Error updating subtopic status:",o)}},addContentItem:async n=>{e(r=>({contentItems:[...r.contentItems,n]}));try{await bt(Ye(Le,"group-content",n.id),n)}catch(r){console.error("Error saving content:",r)}},updateContentItem:async n=>{e(r=>({contentItems:r.contentItems.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"group-content",n.id),n)}catch(r){console.error("Error updating content:",r)}},removeContentItem:async n=>{e(r=>({contentItems:r.contentItems.filter(i=>i.id!==n)}));try{await _o(Ye(Le,"group-content",n))}catch(r){console.error("Error deleting content:",r)}},addGroupMCQ:async n=>{e(r=>({groupMCQs:[...r.groupMCQs,n]}));try{await bt(Ye(Le,"group-mcqs",n.id),n)}catch(r){console.error("Error saving MCQ:",r)}},updateGroupMCQ:async n=>{e(r=>({groupMCQs:r.groupMCQs.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"group-mcqs",n.id),n)}catch(r){console.error("Error updating MCQ:",r)}},removeGroupMCQ:async n=>{e(r=>({groupMCQs:r.groupMCQs.filter(i=>i.id!==n)}));try{await _o(Ye(Le,"group-mcqs",n))}catch(r){console.error("Error deleting MCQ:",r)}},addQuestionCategory:async n=>{e(r=>({questionCategories:[...r.questionCategories,n]}));try{await bt(Ye(Le,"group-categories",n.id),n)}catch(r){console.error("Error saving category:",r)}},removeQuestionCategory:async n=>{const r=t().groupMCQs.filter(i=>i.categoryId===n);e(i=>({questionCategories:i.questionCategories.filter(s=>s.id!==n),groupMCQs:i.groupMCQs.filter(s=>s.categoryId!==n)}));try{const i=Ua(Le);i.delete(Ye(Le,"group-categories",n)),r.forEach(s=>i.delete(Ye(Le,"group-mcqs",s.id))),await i.commit()}catch(i){console.error("Error deleting category:",i)}},createDeleteRequest:async n=>{e(r=>({deleteRequests:[...r.deleteRequests,n]}));try{await bt(Ye(Le,"group-delete-requests",n.id),n)}catch(r){console.error("Error creating delete request:",r)}},voteOnDeleteRequest:async(n,r,i)=>{const s=t().deleteRequests.find(u=>u.id===n);if(!s)return;const o=s.approvedBy.filter(u=>u!==r),l=s.rejectedBy.filter(u=>u!==r);i?o.push(r):l.push(r);const c={...s,approvedBy:o,rejectedBy:l};e(u=>({deleteRequests:u.deleteRequests.map(d=>d.id===n?c:d)}));try{await bt(Ye(Le,"group-delete-requests",n),c)}catch(u){console.error("Error voting on delete request:",u)}},resolveDeleteRequest:async(n,r)=>{const i=t().deleteRequests.find(o=>o.id===n);if(!i)return;const s={...i,status:r?"approved":"rejected",resolvedAt:Date.now()};e(o=>({deleteRequests:o.deleteRequests.map(l=>l.id===n?s:l)}));try{await bt(Ye(Le,"group-delete-requests",n),s)}catch(o){console.error("Error resolving delete request:",o)}},getDeleteRequestsByGroup:n=>t().deleteRequests.filter(r=>r.groupId===n&&r.status==="pending"),addQuizResult:async n=>{e(r=>({quizResults:[...r.quizResults,n]}));try{await bt(Ye(Le,"group-quiz-results",n.id),n)}catch(r){console.error("Error saving quiz result:",r)}},getQuizResultsByUser:(n,r)=>t().quizResults.filter(i=>i.groupId===n&&i.userId===r),getQuizResultsByQuiz:n=>t().quizResults.filter(r=>r.quizItemId===n),getLeaderboard:n=>{const r=t().quizResults.filter(s=>s.quizItemId===n),i=new Map;return r.forEach(s=>{const o=i.get(s.userId);(!o||s.score>o.score)&&i.set(s.userId,s)}),Array.from(i.values()).sort((s,o)=>o.score-s.score)},getUserQuizHistory:(n,r,i=10)=>t().quizResults.filter(s=>s.groupId===n&&s.userId===r).sort((s,o)=>o.createdAt-s.createdAt).slice(0,i),addContentReport:async n=>{e(r=>({contentReports:[...r.contentReports,n]}));try{await bt(Ye(Le,"group-reports",n.id),n)}catch(r){console.error("Error saving report:",r)}},resolveContentReport:async(n,r)=>{const i=t().contentReports.find(o=>o.id===n);if(!i)return;const s={...i,status:r,resolvedAt:Date.now()};e(o=>({contentReports:o.contentReports.map(l=>l.id===n?s:l)}));try{await bt(Ye(Le,"group-reports",n),s)}catch(o){console.error("Error resolving report:",o)}},getReportsByCreator:n=>t().contentReports.filter(r=>r.creatorId===n&&r.status==="pending"),getReportsByContent:n=>t().contentReports.filter(r=>r.contentId===n),addLiveTest:async n=>{e(r=>({liveTests:[...r.liveTests,n]}));try{await bt(Ye(Le,"group-live-tests",n.id),n)}catch(r){console.error("Error saving live test:",r)}},updateLiveTest:async n=>{e(r=>({liveTests:r.liveTests.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"group-live-tests",n.id),n)}catch(r){console.error("Error updating live test:",r)}},removeLiveTest:async n=>{const r=t().liveTestResults.filter(i=>i.liveTestId===n);e(i=>({liveTests:i.liveTests.filter(s=>s.id!==n),liveTestResults:i.liveTestResults.filter(s=>s.liveTestId!==n)}));try{const i=Ua(Le);i.delete(Ye(Le,"group-live-tests",n)),r.forEach(s=>i.delete(Ye(Le,"group-live-test-results",s.id))),await i.commit()}catch(i){console.error("Error deleting live test:",i)}},getLiveTestsByGroup:n=>t().liveTests.filter(r=>r.groupId===n).sort((r,i)=>i.createdAt-r.createdAt),getUpcomingLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.groupId===n&&i.startTime>r).sort((i,s)=>i.startTime-s.startTime)},getActiveLiveTest:n=>{const r=Date.now();return t().liveTests.find(i=>i.groupId===n&&i.startTime<=r&&i.endTime>r)},getPastLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.groupId===n&&i.endTime<=r).sort((i,s)=>s.endTime-i.endTime)},addLiveTestResult:async n=>{e(r=>({liveTestResults:[...r.liveTestResults,n]}));try{await bt(Ye(Le,"group-live-test-results",n.id),n)}catch(r){console.error("Error saving live test result:",r)}},updateLiveTestResult:async n=>{e(r=>({liveTestResults:r.liveTestResults.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"group-live-test-results",n.id),n)}catch(r){console.error("Error updating live test result:",r)}},getLiveTestResultsByTest:n=>t().liveTestResults.filter(r=>r.liveTestId===n),getUserLiveTestResult:(n,r)=>t().liveTestResults.find(i=>i.liveTestId===n&&i.userId===r),getLiveTestLeaderboard:n=>t().liveTestResults.filter(r=>r.liveTestId===n&&r.status!=="in-progress").sort((r,i)=>i.score-r.score||r.timeTaken-i.timeTaken),setAutoLiveTestConfig:async n=>{e(r=>{const i=r.autoLiveTestConfigs.findIndex(s=>s.groupId===n.groupId);if(i>=0){const s=[...r.autoLiveTestConfigs];return s[i]=n,{autoLiveTestConfigs:s}}return{autoLiveTestConfigs:[...r.autoLiveTestConfigs,n]}});try{await bt(Ye(Le,"group-auto-test-configs",n.groupId),n)}catch(r){console.error("Error saving auto test config:",r)}},getAutoLiveTestConfig:n=>t().autoLiveTestConfigs.find(r=>r.groupId===n),loadGroupFromFirebase:async n=>{try{const r=await Bn(Yt(Dt(Le,"groups"),Jt("id","==",n)));if(!r.empty){const I=r.docs[0].data();e(j=>({myGroups:j.myGroups.some(E=>E.id===n)?j.myGroups.map(E=>E.id===n?I:E):[...j.myGroups,I],allGroupsRegistry:j.allGroupsRegistry.some(E=>E.id===n)?j.allGroupsRegistry.map(E=>E.id===n?I:E):[...j.allGroupsRegistry,I]}))}const s=(await Bn(Yt(Dt(Le,"group-topics"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),l=(await Bn(Yt(Dt(Le,"group-subtopics"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),u=(await Bn(Yt(Dt(Le,"group-content"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),f=(await Bn(Yt(Dt(Le,"group-mcqs"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),p=(await Bn(Yt(Dt(Le,"group-categories"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),m=(await Bn(Yt(Dt(Le,"group-quiz-results"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),v=(await Bn(Yt(Dt(Le,"group-live-tests"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),b=(await Bn(Yt(Dt(Le,"group-live-test-results"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),T=(await Bn(Yt(Dt(Le,"group-delete-requests"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),_=(await Bn(Yt(Dt(Le,"group-reports"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()})),C=(await Bn(Yt(Dt(Le,"group-auto-test-configs"),Jt("groupId","==",n)))).docs.map(I=>({...I.data()}));e(I=>({topics:[...I.topics.filter(j=>j.groupId!==n),...s],subTopics:[...I.subTopics.filter(j=>j.groupId!==n),...l],contentItems:[...I.contentItems.filter(j=>j.groupId!==n),...u],groupMCQs:[...I.groupMCQs.filter(j=>j.groupId!==n),...f],questionCategories:[...I.questionCategories.filter(j=>j.groupId!==n),...p],quizResults:[...I.quizResults.filter(j=>j.groupId!==n),...m],liveTests:[...I.liveTests.filter(j=>j.groupId!==n),...v],liveTestResults:[...I.liveTestResults.filter(j=>j.groupId!==n),...b],deleteRequests:[...I.deleteRequests.filter(j=>j.groupId!==n),...T],contentReports:[...I.contentReports.filter(j=>j.groupId!==n),..._],autoLiveTestConfigs:[...I.autoLiveTestConfigs.filter(j=>j.groupId!==n),...C]})),console.log(" Group data loaded from Firebase:",n)}catch(r){console.error("Error loading group data:",r)}},subscribeToGroup:n=>{const r=[];return r.push(vr(Ye(Le,"groups",n),i=>{if(i.exists()){const s=i.data();e(o=>({myGroups:o.myGroups.map(l=>l.id===n?s:l),allGroupsRegistry:o.allGroupsRegistry.map(l=>l.id===n?s:l)}))}})),r.push(vr(Yt(Dt(Le,"group-topics"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({topics:[...o.topics.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-subtopics"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({subTopics:[...o.subTopics.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-content"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({contentItems:[...o.contentItems.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-mcqs"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({groupMCQs:[...o.groupMCQs.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-categories"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({questionCategories:[...o.questionCategories.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-quiz-results"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({quizResults:[...o.quizResults.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-live-tests"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({liveTests:[...o.liveTests.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-live-test-results"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({liveTestResults:[...o.liveTestResults.filter(l=>l.groupId!==n),...s]}))})),r.push(vr(Yt(Dt(Le,"group-auto-test-configs"),Jt("groupId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e(o=>({autoLiveTestConfigs:[...o.autoLiveTestConfigs.filter(l=>l.groupId!==n),...s]}))})),()=>r.forEach(i=>i())},getActiveGroup:()=>{const n=t();return n.myGroups.find(r=>r.id===n.activeGroupId)},getTopicsByGroup:n=>t().topics.filter(r=>r.groupId===n).sort((r,i)=>r.order-i.order),getSubTopicsByTopic:n=>t().subTopics.filter(r=>r.topicId===n).sort((r,i)=>r.order-i.order),getContentBySubTopic:n=>t().contentItems.filter(r=>r.subTopicId===n),getMCQsByGroup:n=>t().groupMCQs.filter(r=>r.groupId===n),getMCQsByCategory:n=>t().groupMCQs.filter(r=>r.categoryId===n),getCategoriesByGroup:n=>t().questionCategories.filter(r=>r.groupId===n),getLatestNotes:(n,r)=>t().contentItems.filter(i=>i.groupId===n&&i.type==="note").sort((i,s)=>s.createdAt-i.createdAt).slice(0,r),getLatestQuizzes:(n,r)=>t().contentItems.filter(i=>i.groupId===n&&i.type==="quiz").sort((i,s)=>s.createdAt-i.createdAt).slice(0,r)}),{name:"group-store"})),XM={subjects:[],topics:[],subtopics:[],assets:[],isLoading:!1,isInitialized:!1,selectedSubjectId:null,selectedTopicId:null,selectedSubtopicId:null,selectedType:"all",searchQuery:""},_c=jd()(km((e,t)=>({...XM,setSubjects:n=>e({subjects:n}),addSubject:n=>e(r=>({subjects:[...r.subjects,n]})),updateSubject:(n,r)=>e(i=>({subjects:i.subjects.map(s=>s.id===n?{...s,...r}:s)})),removeSubject:n=>e(r=>({subjects:r.subjects.filter(i=>i.id!==n),topics:r.topics.filter(i=>i.subjectId!==n),subtopics:r.subtopics.filter(i=>{const s=r.topics.find(o=>o.id===i.topicId);return(s==null?void 0:s.subjectId)!==n})})),setTopics:n=>e({topics:n}),addTopic:n=>e(r=>({topics:[...r.topics,n]})),updateTopic:(n,r)=>e(i=>({topics:i.topics.map(s=>s.id===n?{...s,...r}:s)})),removeTopic:n=>e(r=>({topics:r.topics.filter(i=>i.id!==n),subtopics:r.subtopics.filter(i=>i.topicId!==n)})),setSubtopics:n=>e({subtopics:n}),addSubtopic:n=>e(r=>({subtopics:[...r.subtopics,n]})),updateSubtopic:(n,r)=>e(i=>({subtopics:i.subtopics.map(s=>s.id===n?{...s,...r}:s)})),removeSubtopic:n=>e(r=>({subtopics:r.subtopics.filter(i=>i.id!==n)})),setAssets:n=>e({assets:n}),addAsset:n=>e(r=>({assets:[...r.assets,n]})),updateAsset:(n,r)=>e(i=>({assets:i.assets.map(s=>s.id===n?{...s,...r}:s)})),removeAsset:n=>e(r=>({assets:r.assets.filter(i=>i.id!==n)})),addUsageRef:(n,r)=>e(i=>({assets:i.assets.map(s=>s.id===n?{...s,usedIn:[...s.usedIn||[],r]}:s)})),removeUsageRef:(n,r,i)=>e(s=>({assets:s.assets.map(o=>o.id===n?{...o,usedIn:(o.usedIn||[]).filter(l=>!(l.deskType===r&&l.deskId===i))}:o)})),setSelectedSubject:n=>e({selectedSubjectId:n,selectedTopicId:null,selectedSubtopicId:null}),setSelectedTopic:n=>e({selectedTopicId:n,selectedSubtopicId:null}),setSelectedSubtopic:n=>e({selectedSubtopicId:n}),setSelectedType:n=>e({selectedType:n}),setSearchQuery:n=>e({searchQuery:n}),setLoading:n=>e({isLoading:n}),setInitialized:n=>e({isInitialized:n}),clearStore:()=>e(XM),getAssetsByType:n=>t().assets.filter(r=>r.type===n),getFilteredAssets:()=>{const{assets:n,selectedSubjectId:r,selectedTopicId:i,selectedSubtopicId:s,selectedType:o,searchQuery:l}=t();return n.filter(c=>{var u;if(o!=="all"&&c.type!==o||r&&c.subjectId!==r||i&&c.topicId!==i||s&&c.subtopicId!==s)return!1;if(l.trim()){const d=l.toLowerCase(),f=c.type==="mcq"&&c.quizQuestions?c.quizQuestions.map(p=>p.question).join(" "):"";if(![c.title,((u=c.tags)==null?void 0:u.join(" "))||"",f,c.content||"",c.description||""].join(" ").toLowerCase().includes(d))return!1}return!0})},getAssetUsageCount:n=>{var i;const r=t().assets.find(s=>s.id===n);return((i=r==null?void 0:r.usedIn)==null?void 0:i.length)||0},getTopicsBySubject:n=>t().topics.filter(r=>r.subjectId===n),getSubtopicsByTopic:n=>t().subtopics.filter(r=>r.topicId===n),getMCQById:n=>t().assets.find(i=>i.id===n&&i.type==="mcq"),getMCQQuestionById:(n,r)=>{var s;const i=t().getMCQById(n);return(s=i==null?void 0:i.quizQuestions)==null?void 0:s.find(o=>o.id===r)},getAllMCQQuestions:()=>t().assets.filter(r=>r.type==="mcq").flatMap(r=>r.quizQuestions.map(i=>({...i,assetId:r.id}))),getMCQQuestionsBySubject:n=>t().assets.filter(i=>i.type==="mcq"&&i.subjectId===n).flatMap(i=>i.quizQuestions.map(s=>({...s,assetId:i.id}))),addSingleMCQ:(n,r,i,s,o,l,c,u,d)=>{const f=`q_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,h=`mcq_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,p={id:h,userId:s,type:"mcq",subjectId:o,topicId:l,subtopicId:d,tags:[],title:n.slice(0,50)+(n.length>50?"...":""),createdAt:Date.now(),updatedAt:Date.now(),usedIn:[],quizQuestions:[{id:f,question:n,options:r,correctIndex:i,explanation:c,difficulty:u}]};return e(y=>({assets:[...y.assets,p]})),{assetId:h,questionId:f}},updateSingleMCQ:(n,r,i)=>{e(s=>({assets:s.assets.map(o=>{if(o.id===n&&o.type==="mcq"){const l=o;return{...l,updatedAt:Date.now(),title:i.question?i.question.slice(0,50)+(i.question.length>50?"...":""):l.title,quizQuestions:l.quizQuestions.map(c=>c.id===r?{...c,...i}:c)}}return o})}))},removeSingleMCQ:(n,r)=>{e(i=>{const s=i.assets.find(l=>l.id===n);return!s||s.type!=="mcq"?i:s.quizQuestions.length<=1?{assets:i.assets.filter(l=>l.id!==n)}:{assets:i.assets.map(l=>l.id===n&&l.type==="mcq"?{...l,updatedAt:Date.now(),quizQuestions:l.quizQuestions.filter(c=>c.id!==r)}:l)}})}}),{name:"asset-store",partialize:e=>({subjects:e.subjects,topics:e.topics,subtopics:e.subtopics,assets:e.assets})})),AY=S.createContext(void 0);function Pb(){const e=S.useContext(AY);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const HSe={success:ua,error:od,warning:dx,info:aK},GSe={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-800 text-emerald-800 dark:text-emerald-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",warning:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"},QSe={success:"text-emerald-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500"};function KSe({toast:e,onRemove:t}){const n=HSe[e.type];return S.useEffect(()=>{const r=setTimeout(()=>{t()},e.duration||4e3);return()=>clearTimeout(r)},[e.duration,t]),a.jsxs(st.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:`flex items-start gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-sm ${GSe[e.type]}`,children:[a.jsx(n,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${QSe[e.type]}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm",children:e.title}),e.message&&a.jsx("p",{className:"text-sm opacity-80 mt-0.5",children:e.message})]}),a.jsx("button",{onClick:t,className:"flex-shrink-0 p-1 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:a.jsx(dn,{className:"w-4 h-4"})})]})}function YM({children:e}){const[t,n]=S.useState([]),r=S.useCallback(u=>{const d=Math.random().toString(36).substring(2,9);n(f=>[...f,{...u,id:d}])},[]),i=S.useCallback(u=>{n(d=>d.filter(f=>f.id!==u))},[]),s=S.useCallback((u,d)=>{r({type:"success",title:u,message:d})},[r]),o=S.useCallback((u,d)=>{r({type:"error",title:u,message:d,duration:6e3})},[r]),l=S.useCallback((u,d)=>{r({type:"warning",title:u,message:d})},[r]),c=S.useCallback((u,d)=>{r({type:"info",title:u,message:d})},[r]);return a.jsxs(AY.Provider,{value:{toasts:t,addToast:r,removeToast:i,success:s,error:o,warning:l,info:c},children:[e,a.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:a.jsx($n,{mode:"sync",children:t.map(u=>a.jsx("div",{className:"pointer-events-auto",children:a.jsx(KSe,{toast:u,onRemove:()=>i(u.id)})},u.id))})})]})}function XSe({open:e,onOpenChange:t,onNavigateToGroup:n,onNavigateToLibrary:r}){const[i,s]=S.useState(""),[o,l]=S.useState(!1),[c,u]=S.useState([]),d=Pb(),{myGroups:f,groupMCQs:h,topics:p,setActiveGroup:y}=sa(),{subjects:m,topics:x,subtopics:v,assets:g,setSelectedSubject:b,setSelectedTopic:w,setSelectedSubtopic:T}=_c();S.useEffect(()=>{const D=localStorage.getItem("recentSearches");if(D)try{u(JSON.parse(D))}catch(R){console.error("Error parsing recent searches:",R)}},[]);const k=S.useCallback(D=>{if(!D.trim())return;const R=[D,...c.filter(M=>M!==D)].slice(0,5);u(R),localStorage.setItem("recentSearches",JSON.stringify(R))},[c]),_=S.useCallback(()=>{u([]),localStorage.removeItem("recentSearches")},[]),N=S.useMemo(()=>{if(!i.trim()||i.length<2)return[];const D=i.toLowerCase().trim(),R=[];return h.forEach(M=>{var U,z,G;(M.question.toLowerCase().includes(D)||(U=M.options)!=null&&U.some(F=>F.toLowerCase().includes(D))||(z=M.explanation)!=null&&z.toLowerCase().includes(D))&&R.push({id:M.id,type:"question",title:M.question.length>80?M.question.substring(0,80)+"...":M.question,subtitle:((G=M.explanation)==null?void 0:G.substring(0,50))||void 0,source:"Group"})}),m.forEach(M=>{M.name.toLowerCase().includes(D)&&R.push({id:M.id,type:"subject",title:M.name,subtitle:"Asset Library",source:"Library"})}),p.forEach(M=>{M.name.toLowerCase().includes(D)&&R.push({id:M.id,type:"topic",title:M.name,source:"Group"})}),x.forEach(M=>{var U;M.name.toLowerCase().includes(D)&&R.push({id:M.id,type:"topic",title:M.name,subtitle:(U=m.find(z=>z.id===M.subjectId))==null?void 0:U.name,source:"Library"})}),v.forEach(M=>{var U;M.name.toLowerCase().includes(D)&&R.push({id:M.id,type:"topic",title:M.name,subtitle:(U=x.find(z=>z.id===M.topicId))==null?void 0:U.name,source:"Library"})}),g.forEach(M=>{var U;if(M.type==="mcq"){const z=M;(U=z.quizQuestions)==null||U.forEach(G=>{var F,W,O,P;(G.question.toLowerCase().includes(D)||(F=G.options)!=null&&F.some(B=>B.toLowerCase().includes(D))||(W=G.explanation)!=null&&W.toLowerCase().includes(D))&&R.push({id:G.id,type:"question",title:G.question.length>80?G.question.substring(0,80)+"...":G.question,subtitle:((O=G.explanation)==null?void 0:O.substring(0,50))||void 0,category:(P=v.find(B=>B.id===z.subtopicId))==null?void 0:P.name,source:"Library"})})}}),f.forEach(M=>{var U,z,G;(M.name.toLowerCase().includes(D)||(U=M.description)!=null&&U.toLowerCase().includes(D))&&R.push({id:M.id,type:"group",title:M.name,subtitle:((z=M.description)==null?void 0:z.substring(0,50))||`${((G=M.members)==null?void 0:G.length)||0} `,source:"Groups",data:{groupId:M.id}})}),R.slice(0,20)},[i,h,p,m,x,v,g,f]),C=S.useCallback(()=>{i.trim()&&k(i.trim())},[i,k]),I=S.useCallback(D=>{var R;switch(k(i.trim()),t(!1),D.type){case"group":(R=D.data)!=null&&R.groupId&&(y(D.data.groupId),n&&n(D.data.groupId),d.success("Going to group",D.title));break;case"subject":D.source==="Library"&&(b(D.id),w(null),T(null),r&&r(),d.info("Opening Library",D.title));break;case"topic":if(D.source==="Library"){const M=x.find(U=>U.id===D.id);M&&(b(M.subjectId),w(D.id),T(null)),r&&r(),d.info("Opening Library",D.title)}else D.source==="Group"&&d.info("Go to Group Course",D.title);break;case"question":if(D.source==="Library"){const M=g.find(U=>{var z;return U.type==="mcq"&&((z=U.quizQuestions)==null?void 0:z.some(G=>G.id===D.id))});if(M){const U=v.find(z=>z.id===M.subtopicId);if(U){const z=x.find(G=>G.id===U.topicId);z&&(b(z.subjectId),w(z.id),T(U.id))}}r&&r(),d.info("View in Library",D.title.substring(0,30)+"...")}else D.source==="Group"&&d.info("View in Group","Go to Group Course tab");break}},[i,k,t,y,n,r,b,w,T,g,v,x,d]);S.useEffect(()=>{e||s("")},[e]);const j=D=>{switch(D){case"question":return kl;case"topic":return Fj;case"subject":return Br;case"group":return qa;default:return kl}},E=D=>{switch(D){case"Group":return"bg-blue-500/10 text-blue-600 dark:text-blue-400";case"Personal":return"bg-purple-500/10 text-purple-600 dark:text-purple-400";case"Library":return"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400";case"Groups":return"bg-amber-500/10 text-amber-600 dark:text-amber-400";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400"}};return a.jsx(is,{open:e,onOpenChange:t,children:a.jsxs(Wi,{className:"sm:max-w-xl p-0 gap-0 overflow-hidden",children:[a.jsxs(zi,{className:"p-4 pb-0",children:[a.jsx($i,{className:"sr-only",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(nt,{value:i,onChange:D=>s(D.target.value),onKeyDown:D=>D.key==="Enter"&&C(),placeholder:"Search questions, topics, subjects or groups...",className:"pl-10 pr-10 h-12 text-base border-0 border-b rounded-none focus-visible:ring-0",autoFocus:!0}),i&&a.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a.jsx(dn,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:a.jsxs($n,{mode:"wait",children:[i.length>=2&&N.length>0&&a.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-2",children:[a.jsxs("p",{className:"text-xs text-muted-foreground px-2 py-1",children:[N.length," results found"]}),a.jsx("div",{className:"space-y-1",children:N.map((D,R)=>{const M=j(D.type);return a.jsxs(st.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:R*.03},onClick:()=>I(D),className:"w-full flex items-start gap-3 p-3 rounded-lg hover:bg-muted transition-colors text-left",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:a.jsx(M,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm line-clamp-2",children:D.title}),D.subtitle&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:D.subtitle}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:Rt("text-xs px-2 py-0.5 rounded-full",E(D.source)),children:D.source}),D.category&&a.jsx("span",{className:"text-xs text-muted-foreground",children:D.category})]})]}),a.jsx(d5,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 mt-1"})]},`${D.type}-${D.id}`)})})]}),i.length>=2&&N.length===0&&a.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-8 text-center",children:[a.jsx(ad,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No results found"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Try a different search term"})]}),i.length<2&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4",children:c.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Recent Searches"}),a.jsx("button",{onClick:_,className:"text-xs text-primary hover:underline",children:"Clear"})]}),a.jsx("div",{className:"space-y-1",children:c.map((D,R)=>a.jsxs("button",{onClick:()=>s(D),className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors text-left",children:[a.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:D})]},R))})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ad,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"Start typing"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Search questions, topics, subjects or groups"})]})})]})}),a.jsxs("div",{className:"p-3 border-t bg-muted/30 text-xs text-muted-foreground flex items-center justify-between",children:[a.jsx("span",{children:"ESC to close"}),a.jsx("span",{children:"K to open"})]})]})})}const lr=S.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));lr.displayName="Textarea";var lN="Tabs",[YSe]=Rd(lN,[iN]),CY=iN(),[ZSe,W5]=YSe(lN),DY=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ZE(l),[f,h]=nm({prop:r,onChange:i,defaultProp:s??"",caller:lN});return a.jsx(ZSe,{scope:n,baseId:fu(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(An.div,{dir:d,"data-orientation":o,...u,ref:t})})});DY.displayName=lN;var jY="TabsList",IY=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=W5(jY,n),o=CY(n);return a.jsx(BX,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(An.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});IY.displayName=jY;var RY="TabsTrigger",PY=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=W5(RY,n),l=CY(n),c=LY(o.baseId,r),u=MY(o.baseId,r),d=r===o.value;return a.jsx(VX,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(An.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Gt(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Gt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Gt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});PY.displayName=RY;var OY="TabsContent",FY=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,l=W5(OY,n),c=LY(l.baseId,r),u=MY(l.baseId,r),d=r===l.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Pd,{present:i||d,children:({present:h})=>a.jsx(An.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});FY.displayName=OY;function LY(e,t){return`${e}-trigger-${t}`}function MY(e,t){return`${e}-content-${t}`}var JSe=DY,UY=IY,BY=PY,VY=FY;const G0=JSe,am=S.forwardRef(({className:e,...t},n)=>a.jsx(UY,{ref:n,className:Rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));am.displayName=UY.displayName;const Ai=S.forwardRef(({className:e,...t},n)=>a.jsx(BY,{ref:n,className:Rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ai.displayName=BY.displayName;const Ci=S.forwardRef(({className:e,...t},n)=>a.jsx(VY,{ref:n,className:Rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ci.displayName=VY.displayName;function ZM(e,[t,n]){return Math.min(n,Math.max(t,e))}function eke(e){const t=tke(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(rke);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function tke(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=ske(i),l=ike(s,i.props);return i.type!==S.Fragment&&(l.ref=r?Id(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nke=Symbol("radix.slottable");function rke(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nke}function ike(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function ske(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qY(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var WY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ake="VisuallyHidden",oke=S.forwardRef((e,t)=>a.jsx(An.span,{...e,ref:t,style:{...WY,...e.style}}));oke.displayName=ake;var lke=[" ","Enter","ArrowUp","ArrowDown"],cke=[" ","Enter"],om="Select",[cN,uN,uke]=S5(om),[gx]=Rd(om,[uke,rN]),dN=rN(),[dke,Ch]=gx(om),[fke,hke]=gx(om),zY=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=dN(t),[x,v]=S.useState(null),[g,b]=S.useState(null),[w,T]=S.useState(!1),k=ZE(u),[_,N]=nm({prop:r,defaultProp:i??!1,onChange:s,caller:om}),[C,I]=nm({prop:o,defaultProp:l,onChange:c,caller:om}),j=S.useRef(null),E=x?y||!!x.closest("form"):!0,[D,R]=S.useState(new Set),M=Array.from(D).map(U=>U.props.value).join(";");return a.jsx(jX,{...m,children:a.jsxs(dke,{required:p,scope:t,trigger:x,onTriggerChange:v,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:T,contentId:fu(),value:C,onValueChange:I,open:_,onOpenChange:N,dir:k,triggerPointerDownPosRef:j,disabled:h,children:[a.jsx(cN.Provider,{scope:t,children:a.jsx(fke,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{R(z=>new Set(z).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{R(z=>{const G=new Set(z);return G.delete(U),G})},[]),children:n})}),E?a.jsxs(pZ,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:U=>I(U.target.value),disabled:h,form:y,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},M):null]})})};zY.displayName=om;var $Y="SelectTrigger",HY=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=dN(n),o=Ch($Y,n),l=o.disabled||r,c=jr(t,o.onTriggerChange),u=uN(n),d=S.useRef("touch"),[f,h,p]=gZ(m=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===o.value),g=xZ(x,m,v);g!==void 0&&o.onValueChange(g.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(IX,{asChild:!0,...s,children:a.jsx(An.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mZ(o.value)?"":void 0,...i,ref:c,onClick:Gt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Gt(i.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Gt(i.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&lke.includes(m.key)&&(y(),m.preventDefault())})})})});HY.displayName=$Y;var GY="SelectValue",QY=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=e,c=Ch(GY,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=jr(t,c.onValueNodeChange);return ds(()=>{u(d)},[u,d]),a.jsx(An.span,{...l,ref:f,style:{pointerEvents:"none"},children:mZ(c.value)?a.jsx(a.Fragment,{children:o}):s})});QY.displayName=GY;var pke="SelectIcon",KY=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return a.jsx(An.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});KY.displayName=pke;var mke="SelectPortal",XY=e=>a.jsx(QE,{asChild:!0,...e});XY.displayName=mke;var lm="SelectContent",YY=S.forwardRef((e,t)=>{const n=Ch(lm,e.__scopeSelect),[r,i]=S.useState();if(ds(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ym.createPortal(a.jsx(ZY,{scope:e.__scopeSelect,children:a.jsx(cN.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(JY,{...e,ref:t})});YY.displayName=lm;var Kl=10,[ZY,Dh]=gx(lm),gke="SelectContentImpl",xke=eke("SelectContent.RemoveScroll"),JY=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:x,...v}=e,g=Ch(lm,n),[b,w]=S.useState(null),[T,k]=S.useState(null),_=jr(t,ee=>w(ee)),[N,C]=S.useState(null),[I,j]=S.useState(null),E=uN(n),[D,R]=S.useState(!1),M=S.useRef(!1);S.useEffect(()=>{if(b)return v5(b)},[b]),y5();const U=S.useCallback(ee=>{const[ge,...he]=E().map(Z=>Z.ref.current),[be]=he.slice(-1),Oe=document.activeElement;for(const Z of ee)if(Z===Oe||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ge&&T&&(T.scrollTop=0),Z===be&&T&&(T.scrollTop=T.scrollHeight),Z==null||Z.focus(),document.activeElement!==Oe))return},[E,T]),z=S.useCallback(()=>U([N,b]),[U,N,b]);S.useEffect(()=>{D&&z()},[D,z]);const{onOpenChange:G,triggerPointerDownPosRef:F}=g;S.useEffect(()=>{if(b){let ee={x:0,y:0};const ge=be=>{var Oe,Z;ee={x:Math.abs(Math.round(be.pageX)-(((Oe=F.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Z=F.current)==null?void 0:Z.y)??0))}},he=be=>{ee.x<=10&&ee.y<=10?be.preventDefault():b.contains(be.target)||G(!1),document.removeEventListener("pointermove",ge),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",he,{capture:!0})}}},[b,G,F]),S.useEffect(()=>{const ee=()=>G(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[G]);const[W,O]=gZ(ee=>{const ge=E().filter(Oe=>!Oe.disabled),he=ge.find(Oe=>Oe.ref.current===document.activeElement),be=xZ(ge,ee,he);be&&setTimeout(()=>be.ref.current.focus())}),P=S.useCallback((ee,ge,he)=>{const be=!M.current&&!he;(g.value!==void 0&&g.value===ge||be)&&(C(ee),be&&(M.current=!0))},[g.value]),B=S.useCallback(()=>b==null?void 0:b.focus(),[b]),K=S.useCallback((ee,ge,he)=>{const be=!M.current&&!he;(g.value!==void 0&&g.value===ge||be)&&j(ee)},[g.value]),Q=r==="popper"?Hj:eZ,L=Q===Hj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:x}:{};return a.jsx(ZY,{scope:n,content:b,viewport:T,onViewportChange:k,itemRefCallback:P,selectedItem:N,onItemLeave:B,itemTextRefCallback:K,focusSelectedItem:z,selectedItemText:I,position:r,isPositioned:D,searchRef:W,children:a.jsx(XE,{as:xke,allowPinchZoom:!0,children:a.jsx(GE,{asChild:!0,trapped:g.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Gt(i,ee=>{var ge;(ge=g.trigger)==null||ge.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(HE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(Q,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ee=>ee.preventDefault(),...v,...L,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Gt(v.onKeyDown,ee=>{const ge=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ge&&ee.key.length===1&&O(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let be=E().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Oe=ee.target,Z=be.indexOf(Oe);be=be.slice(Z+1)}setTimeout(()=>U(be)),ee.preventDefault()}})})})})})})});JY.displayName=gke;var yke="SelectItemAlignedPosition",eZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Ch(lm,n),o=Dh(lm,n),[l,c]=S.useState(null),[u,d]=S.useState(null),f=jr(t,_=>d(_)),h=uN(n),p=S.useRef(!1),y=S.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:g}=o,b=S.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&x&&v){const _=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),I=v.getBoundingClientRect();if(s.dir!=="rtl"){const Oe=I.left-N.left,Z=C.left-Oe,Ie=_.left-Z,V=_.width+Ie,ke=Math.max(V,N.width),xe=window.innerWidth-Kl,re=ZM(Z,[Kl,Math.max(Kl,xe-ke)]);l.style.minWidth=V+"px",l.style.left=re+"px"}else{const Oe=N.right-I.right,Z=window.innerWidth-C.right-Oe,Ie=window.innerWidth-_.right-Z,V=_.width+Ie,ke=Math.max(V,N.width),xe=window.innerWidth-Kl,re=ZM(Z,[Kl,Math.max(Kl,xe-ke)]);l.style.minWidth=V+"px",l.style.right=re+"px"}const j=h(),E=window.innerHeight-Kl*2,D=m.scrollHeight,R=window.getComputedStyle(u),M=parseInt(R.borderTopWidth,10),U=parseInt(R.paddingTop,10),z=parseInt(R.borderBottomWidth,10),G=parseInt(R.paddingBottom,10),F=M+U+D+G+z,W=Math.min(x.offsetHeight*5,F),O=window.getComputedStyle(m),P=parseInt(O.paddingTop,10),B=parseInt(O.paddingBottom,10),K=_.top+_.height/2-Kl,Q=E-K,L=x.offsetHeight/2,ee=x.offsetTop+L,ge=M+U+ee,he=F-ge;if(ge<=K){const Oe=j.length>0&&x===j[j.length-1].ref.current;l.style.bottom="0px";const Z=u.clientHeight-m.offsetTop-m.offsetHeight,Ie=Math.max(Q,L+(Oe?B:0)+Z+z),V=ge+Ie;l.style.height=V+"px"}else{const Oe=j.length>0&&x===j[0].ref.current;l.style.top="0px";const Ie=Math.max(K,M+m.offsetTop+(Oe?P:0)+L)+he;l.style.height=Ie+"px",m.scrollTop=ge-K+m.offsetTop}l.style.margin=`${Kl}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,x,v,s.dir,r]);ds(()=>b(),[b]);const[w,T]=S.useState();ds(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const k=S.useCallback(_=>{_&&y.current===!0&&(b(),g==null||g(),y.current=!1)},[b,g]);return a.jsx(bke,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(An.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});eZ.displayName=yke;var vke="SelectPopperPosition",Hj=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Kl,...s}=e,o=dN(n);return a.jsx(RX,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hj.displayName=vke;var[bke,z5]=gx(lm,{}),Gj="SelectViewport",tZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Dh(Gj,n),o=z5(Gj,n),l=jr(t,s.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(cN.Slot,{scope:n,children:a.jsx(An.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Gt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Kl*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(m,x);if(v<y){const g=v+p,b=Math.min(y,g),w=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});tZ.displayName=Gj;var nZ="SelectGroup",[wke,_ke]=gx(nZ),Tke=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=fu();return a.jsx(wke,{scope:n,id:i,children:a.jsx(An.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Tke.displayName=nZ;var rZ="SelectLabel",iZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=_ke(rZ,n);return a.jsx(An.div,{id:i.id,...r,ref:t})});iZ.displayName=rZ;var uT="SelectItem",[Eke,sZ]=gx(uT),aZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,l=Ch(uT,n),c=Dh(uT,n),u=l.value===r,[d,f]=S.useState(s??""),[h,p]=S.useState(!1),y=jr(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,r,i)}),m=fu(),x=S.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Eke,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:S.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(cN.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:a.jsx(An.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Gt(o.onFocus,()=>p(!0)),onBlur:Gt(o.onBlur,()=>p(!1)),onClick:Gt(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Gt(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Gt(o.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:Gt(o.onPointerMove,g=>{var b;x.current=g.pointerType,i?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Gt(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Gt(o.onKeyDown,g=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&g.key===" "||(cke.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});aZ.displayName=uT;var Qy="SelectItemText",oZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=Ch(Qy,n),l=Dh(Qy,n),c=sZ(Qy,n),u=hke(Qy,n),[d,f]=S.useState(null),h=jr(t,v=>f(v),c.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return ds(()=>(m(y),()=>x(y)),[m,x,y]),a.jsxs(a.Fragment,{children:[a.jsx(An.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ym.createPortal(s.children,o.valueNode):null]})});oZ.displayName=Qy;var lZ="SelectItemIndicator",cZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sZ(lZ,n).isSelected?a.jsx(An.span,{"aria-hidden":!0,...r,ref:t}):null});cZ.displayName=lZ;var Qj="SelectScrollUpButton",uZ=S.forwardRef((e,t)=>{const n=Dh(Qj,e.__scopeSelect),r=z5(Qj,e.__scopeSelect),[i,s]=S.useState(!1),o=jr(t,r.onScrollButtonChange);return ds(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(fZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uZ.displayName=Qj;var Kj="SelectScrollDownButton",dZ=S.forwardRef((e,t)=>{const n=Dh(Kj,e.__scopeSelect),r=z5(Kj,e.__scopeSelect),[i,s]=S.useState(!1),o=jr(t,r.onScrollButtonChange);return ds(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(fZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dZ.displayName=Kj;var fZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Dh("SelectScrollButton",n),o=S.useRef(null),l=uN(n),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),ds(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(An.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Gt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Gt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Gt(i.onPointerLeave,()=>{c()})})}),Nke="SelectSeparator",hZ=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(An.div,{"aria-hidden":!0,...r,ref:t})});hZ.displayName=Nke;var Xj="SelectArrow",Ske=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=dN(n),s=Ch(Xj,n),o=Dh(Xj,n);return s.open&&o.position==="popper"?a.jsx(PX,{...i,...r,ref:t}):null});Ske.displayName=Xj;var kke="SelectBubbleInput",pZ=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=S.useRef(null),s=jr(r,i),o=qY(t);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(An.select,{...n,style:{...WY,...n.style},ref:s,defaultValue:t})});pZ.displayName=kke;function mZ(e){return e===""||e===void 0}function gZ(e){const t=vc(e),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function xZ(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=Ake(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Ake(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Cke=zY,yZ=HY,Dke=QY,jke=KY,Ike=XY,vZ=YY,Rke=tZ,bZ=iZ,wZ=aZ,Pke=oZ,Oke=cZ,_Z=uZ,TZ=dZ,EZ=hZ;const Bt=Cke,Vt=Dke,Ft=S.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(yZ,{ref:r,className:Rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(jke,{asChild:!0,children:a.jsx(Ba,{className:"h-4 w-4 opacity-50"})})]}));Ft.displayName=yZ.displayName;const NZ=S.forwardRef(({className:e,...t},n)=>a.jsx(_Z,{ref:n,className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Tv,{className:"h-4 w-4"})}));NZ.displayName=_Z.displayName;const SZ=S.forwardRef(({className:e,...t},n)=>a.jsx(TZ,{ref:n,className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ba,{className:"h-4 w-4"})}));SZ.displayName=TZ.displayName;const Lt=S.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>a.jsx(Ike,{children:a.jsxs(vZ,{ref:i,className:Rt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(NZ,{}),a.jsx(Rke,{className:Rt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(SZ,{})]})}));Lt.displayName=vZ.displayName;const Fke=S.forwardRef(({className:e,...t},n)=>a.jsx(bZ,{ref:n,className:Rt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Fke.displayName=bZ.displayName;const Ke=S.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(wZ,{ref:r,className:Rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Oke,{children:a.jsx(mo,{className:"h-4 w-4"})})}),a.jsx(Pke,{children:t})]}));Ke.displayName=wZ.displayName;const Lke=S.forwardRef(({className:e,...t},n)=>a.jsx(EZ,{ref:n,className:Rt("-mx-1 my-1 h-px bg-muted",e),...t}));Lke.displayName=EZ.displayName;var fN="Switch",[Mke]=Rd(fN),[Uke,Bke]=Mke(fN),kZ=S.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=S.useState(null),y=jr(t,b=>p(b)),m=S.useRef(!1),x=h?d||!!h.closest("form"):!0,[v,g]=nm({prop:i,defaultProp:s??!1,onChange:u,caller:fN});return a.jsxs(Uke,{scope:n,checked:v,disabled:l,children:[a.jsx(An.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":jZ(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Gt(e.onClick,b=>{g(w=>!w),x&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),x&&a.jsx(DZ,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});kZ.displayName=fN;var AZ="SwitchThumb",CZ=S.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=Bke(AZ,n);return a.jsx(An.span,{"data-state":jZ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});CZ.displayName=AZ;var Vke="SwitchBubbleInput",DZ=S.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=S.useRef(null),l=jr(o,s),c=qY(n),u=wX(t);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});DZ.displayName=Vke;function jZ(e){return e?"checked":"unchecked"}var IZ=kZ,qke=CZ;const Hi=S.forwardRef(({className:e,...t},n)=>a.jsx(IZ,{className:Rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(qke,{className:Rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hi.displayName=IZ.displayName;const hN=jd()(km((e,t)=>({courses:[],topics:[],subTopics:[],contentItems:[],questionCategories:[],courseMCQs:[],quizResults:[],liveTests:[],liveTestResults:[],autoLiveTestConfigs:[],activeCourseId:null,setActiveCourse:n=>e({activeCourseId:n}),addCourse:async n=>{e(r=>({courses:[...r.courses,n]}));try{await bt(Ye(Le,"personal-courses",n.id),n)}catch(r){console.error("Error saving course:",r)}},updateCourse:async n=>{e(r=>({courses:r.courses.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"personal-courses",n.id),n)}catch(r){console.error("Error updating course:",r)}},removeCourse:async n=>{const r=t(),i=r.topics.filter(c=>c.courseId===n),s=r.contentItems.filter(c=>c.courseId===n),o=r.courseMCQs.filter(c=>c.courseId===n),l=r.questionCategories.filter(c=>c.courseId===n);e(c=>({courses:c.courses.filter(u=>u.id!==n),topics:c.topics.filter(u=>u.courseId!==n),subTopics:c.subTopics.filter(u=>u.courseId!==n),contentItems:c.contentItems.filter(u=>u.courseId!==n),questionCategories:c.questionCategories.filter(u=>u.courseId!==n),courseMCQs:c.courseMCQs.filter(u=>u.courseId!==n),quizResults:c.quizResults.filter(u=>u.courseId!==n),liveTests:c.liveTests.filter(u=>u.courseId!==n),liveTestResults:c.liveTestResults.filter(u=>u.courseId!==n),activeCourseId:c.activeCourseId===n?null:c.activeCourseId}));try{const c=Ua(Le);c.delete(Ye(Le,"personal-courses",n)),i.forEach(u=>c.delete(Ye(Le,"personal-topics",u.id))),s.forEach(u=>c.delete(Ye(Le,"personal-content",u.id))),o.forEach(u=>c.delete(Ye(Le,"personal-mcqs",u.id))),l.forEach(u=>c.delete(Ye(Le,"personal-categories",u.id))),await c.commit()}catch(c){console.error("Error deleting course:",c)}},addTopic:async n=>{e(r=>({topics:[...r.topics,n]}));try{await bt(Ye(Le,"personal-topics",n.id),n)}catch(r){console.error("Error saving topic:",r)}},updateTopic:async n=>{e(r=>({topics:r.topics.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"personal-topics",n.id),n)}catch(r){console.error("Error updating topic:",r)}},removeTopic:async n=>{const r=t().contentItems.filter(i=>i.topicId===n);e(i=>({topics:i.topics.filter(s=>s.id!==n),subTopics:i.subTopics.filter(s=>s.topicId!==n),contentItems:i.contentItems.filter(s=>s.topicId!==n)}));try{const i=Ua(Le);i.delete(Ye(Le,"personal-topics",n)),r.forEach(s=>i.delete(Ye(Le,"personal-content",s.id))),await i.commit()}catch(i){console.error("Error deleting topic:",i)}},addSubTopic:n=>e(r=>({subTopics:[...r.subTopics,n]})),updateSubTopic:n=>e(r=>({subTopics:r.subTopics.map(i=>i.id===n.id?n:i)})),removeSubTopic:n=>e(r=>({subTopics:r.subTopics.filter(i=>i.id!==n),contentItems:r.contentItems.filter(i=>i.subTopicId!==n)})),addContentItem:async n=>{e(r=>({contentItems:[...r.contentItems,n]}));try{await bt(Ye(Le,"personal-content",n.id),n)}catch(r){console.error("Error saving content:",r)}},updateContentItem:async n=>{e(r=>({contentItems:r.contentItems.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"personal-content",n.id),n)}catch(r){console.error("Error updating content:",r)}},removeContentItem:async n=>{e(r=>({contentItems:r.contentItems.filter(i=>i.id!==n)}));try{await _o(Ye(Le,"personal-content",n))}catch(r){console.error("Error deleting content:",r)}},addQuestionCategory:async n=>{e(r=>({questionCategories:[...r.questionCategories,n]}));try{await bt(Ye(Le,"personal-categories",n.id),n)}catch(r){console.error("Error saving category:",r)}},removeQuestionCategory:async n=>{const r=t().courseMCQs.filter(i=>i.categoryId===n);e(i=>({questionCategories:i.questionCategories.filter(s=>s.id!==n),courseMCQs:i.courseMCQs.filter(s=>s.categoryId!==n)}));try{const i=Ua(Le);i.delete(Ye(Le,"personal-categories",n)),r.forEach(s=>i.delete(Ye(Le,"personal-mcqs",s.id))),await i.commit()}catch(i){console.error("Error deleting category:",i)}},addCourseMCQ:async n=>{e(r=>({courseMCQs:[...r.courseMCQs,n]}));try{await bt(Ye(Le,"personal-mcqs",n.id),n)}catch(r){console.error("Error saving MCQ:",r)}},updateCourseMCQ:async n=>{e(r=>({courseMCQs:r.courseMCQs.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"personal-mcqs",n.id),n)}catch(r){console.error("Error updating MCQ:",r)}},removeCourseMCQ:async n=>{e(r=>({courseMCQs:r.courseMCQs.filter(i=>i.id!==n)}));try{await _o(Ye(Le,"personal-mcqs",n))}catch(r){console.error("Error deleting MCQ:",r)}},addQuizResult:async n=>{e(r=>({quizResults:[...r.quizResults,n]}));try{await bt(Ye(Le,"personal-quiz-results",n.id),n)}catch(r){console.error("Error saving quiz result:",r)}},getQuizResultsByQuiz:n=>t().quizResults.filter(r=>r.quizItemId===n),addLiveTest:async n=>{console.log(" Adding live test to state:",n.id,n.title),e(r=>({liveTests:[...r.liveTests,n]}));try{await bt(Ye(Le,"personal-live-tests",n.id),n),console.log(" Live test saved to Firebase:",n.id)}catch(r){console.error(" Error saving live test:",r),alert("Failed to save Live Test to cloud. Please try again.")}},updateLiveTest:async n=>{e(r=>({liveTests:r.liveTests.map(i=>i.id===n.id?n:i)}));try{await bt(Ye(Le,"personal-live-tests",n.id),n)}catch(r){console.error("Error updating live test:",r)}},removeLiveTest:async n=>{const r=t().liveTestResults.filter(i=>i.testId===n);e(i=>({liveTests:i.liveTests.filter(s=>s.id!==n),liveTestResults:i.liveTestResults.filter(s=>s.testId!==n)}));try{const i=Ua(Le);i.delete(Ye(Le,"personal-live-tests",n)),r.forEach(s=>i.delete(Ye(Le,"personal-live-test-results",s.id))),await i.commit()}catch(i){console.error("Error deleting live test:",i)}},getLiveTestsByCourse:n=>t().liveTests.filter(r=>r.courseId===n),addLiveTestResult:async n=>{e(r=>({liveTestResults:[...r.liveTestResults,n]}));try{await bt(Ye(Le,"personal-live-test-results",n.id),n)}catch(r){console.error("Error saving live test result:",r)}},getLiveTestResultsByTest:n=>t().liveTestResults.filter(r=>r.testId===n),setAutoLiveTestConfig:async n=>{e(r=>({autoLiveTestConfigs:r.autoLiveTestConfigs.some(i=>i.courseId===n.courseId)?r.autoLiveTestConfigs.map(i=>i.id===n.id?n:i):[...r.autoLiveTestConfigs,n]}));try{console.log(" Saving auto test config to Firebase...",n.id);const r=Ye(Le,"personal-auto-test-configs",n.id);await bt(r,n),console.log(" Auto test config saved successfully to Firebase:",n.id)}catch(r){console.error(" Firebase save error:",{code:r==null?void 0:r.code,message:r==null?void 0:r.message,name:r==null?void 0:r.name,details:r}),alert(` Could not save to cloud: ${(r==null?void 0:r.message)||"Unknown error"}`)}},addAutoLiveTestConfig:async n=>{e(r=>({autoLiveTestConfigs:[...r.autoLiveTestConfigs,n]}));try{const r=Ye(Le,"personal-auto-test-configs",n.id);await bt(r,n),console.log(" New auto test config added:",n.id)}catch(r){console.error(" Firebase save error:",r),alert(` Could not save to cloud: ${(r==null?void 0:r.message)||"Unknown error"}`)}},removeAutoLiveTestConfig:async n=>{e(r=>({autoLiveTestConfigs:r.autoLiveTestConfigs.filter(i=>i.id!==n)}));try{const r=Ye(Le,"personal-auto-test-configs",n);await _o(r),console.log(" Auto test config deleted:",n)}catch(r){console.error(" Firebase delete error:",r)}},getAutoLiveTestConfig:n=>t().autoLiveTestConfigs.find(r=>r.courseId===n),getAutoLiveTestConfigs:n=>t().autoLiveTestConfigs.filter(r=>r.courseId===n),getAllAutoLiveTestConfigs:()=>t().autoLiveTestConfigs,getGlobalAutoTestConfig:()=>t().autoLiveTestConfigs.find(n=>n.courseId==="global"),getGlobalAutoTestConfigs:()=>t().autoLiveTestConfigs.filter(n=>n.courseId==="global"),getActiveCourse:()=>{const n=t();return n.courses.find(r=>r.id===n.activeCourseId)},getTopicsByCourse:n=>t().topics.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getSubTopicsByTopic:n=>t().subTopics.filter(r=>r.topicId===n).sort((r,i)=>r.order-i.order),getContentBySubTopic:n=>t().contentItems.filter(r=>r.subTopicId===n).sort((r,i)=>(r.order||0)-(i.order||0)),getContentByTopic:n=>t().contentItems.filter(r=>r.topicId===n).sort((r,i)=>(r.order||0)-(i.order||0)),getMCQsByCourse:n=>t().courseMCQs.filter(r=>r.courseId===n),getMCQsByCategory:n=>t().courseMCQs.filter(r=>r.categoryId===n),getCategoriesByCourse:n=>t().questionCategories.filter(r=>r.courseId===n),loadFromFirebase:async n=>{try{const i=(await Bn(Yt(Dt(Le,"personal-courses"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),o=(await Bn(Yt(Dt(Le,"personal-topics"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),c=(await Bn(Yt(Dt(Le,"personal-content"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),d=(await Bn(Yt(Dt(Le,"personal-mcqs"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),h=(await Bn(Yt(Dt(Le,"personal-categories"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),y=(await Bn(Yt(Dt(Le,"personal-quiz-results"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),x=(await Bn(Yt(Dt(Le,"personal-live-tests"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),g=(await Bn(Yt(Dt(Le,"personal-live-test-results"),Jt("userId","==",n)))).docs.map(T=>({...T.data()})),w=(await Bn(Yt(Dt(Le,"personal-auto-test-configs"),Jt("userId","==",n)))).docs.map(T=>({...T.data()}));e({courses:i,topics:o,contentItems:c,courseMCQs:d,questionCategories:h,quizResults:y,liveTests:x,liveTestResults:g,autoLiveTestConfigs:w}),console.log(" Personal data loaded from Firebase")}catch(r){console.error("Error loading personal data:",r)}},subscribeToFirebase:n=>{const r=[];return r.push(vr(Yt(Dt(Le,"personal-courses"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({courses:s})})),r.push(vr(Yt(Dt(Le,"personal-topics"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({topics:s})})),r.push(vr(Yt(Dt(Le,"personal-content"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({contentItems:s})})),r.push(vr(Yt(Dt(Le,"personal-mcqs"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({courseMCQs:s})})),r.push(vr(Yt(Dt(Le,"personal-categories"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({questionCategories:s})})),r.push(vr(Yt(Dt(Le,"personal-quiz-results"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({quizResults:s})})),r.push(vr(Yt(Dt(Le,"personal-live-tests"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({liveTests:s})})),r.push(vr(Yt(Dt(Le,"personal-live-test-results"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({liveTestResults:s})})),r.push(vr(Yt(Dt(Le,"personal-auto-test-configs"),Jt("userId","==",n)),i=>{const s=i.docs.map(o=>({...o.data()}));e({autoLiveTestConfigs:s})})),()=>r.forEach(i=>i())},subjects:[{id:"sub-1",name:"General"}],categories:[],mcqs:[],notes:[],testResults:[],settings:{liveCategories:[],liveCount:20,mockCount:50},selectedSubjectId:"sub-1",addSubject:n=>e(r=>({subjects:[...r.subjects,n]})),removeSubject:n=>e(r=>({subjects:r.subjects.filter(i=>i.id!==n)})),setSelectedSubject:n=>e({selectedSubjectId:n}),addCategory:n=>e(r=>({categories:[...r.categories,n]})),removeCategory:n=>e(r=>({categories:r.categories.filter(i=>i.id!==n&&i.parentId!==n)})),addMCQ:n=>e(r=>({mcqs:[...r.mcqs,n]})),updateMCQ:n=>e(r=>({mcqs:r.mcqs.map(i=>i.id===n.id?n:i)})),removeMCQ:n=>e(r=>({mcqs:r.mcqs.filter(i=>i.id!==n)})),addNote:n=>e(r=>({notes:[...r.notes,n]})),updateNote:n=>e(r=>({notes:r.notes.map(i=>i.id===n.id?n:i)})),removeNote:n=>e(r=>({notes:r.notes.filter(i=>i.id!==n)})),addTestResult:n=>e(r=>({testResults:[...r.testResults.slice(-9),n]})),updateSettings:n=>e(r=>({settings:{...r.settings,...n}}))}),{name:"personal-store"})),Is=[];for(let e=0;e<256;++e)Is.push((e+256).toString(16).slice(1));function Wke(e,t=0){return(Is[e[t+0]]+Is[e[t+1]]+Is[e[t+2]]+Is[e[t+3]]+"-"+Is[e[t+4]]+Is[e[t+5]]+"-"+Is[e[t+6]]+Is[e[t+7]]+"-"+Is[e[t+8]]+Is[e[t+9]]+"-"+Is[e[t+10]]+Is[e[t+11]]+Is[e[t+12]]+Is[e[t+13]]+Is[e[t+14]]+Is[e[t+15]]).toLowerCase()}let aA;const zke=new Uint8Array(16);function $ke(){if(!aA){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");aA=crypto.getRandomValues.bind(crypto)}return aA(zke)}const Hke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JM={randomUUID:Hke};function Gke(e,t,n){var i;e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??$ke();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Wke(r)}function an(e,t,n){return JM.randomUUID&&!e?JM.randomUUID():Gke(e)}function Qke(){this.__data__=[],this.size=0}var Kke=Qke;function Xke(e,t){return e===t||e!==e&&t!==t}var RZ=Xke,Yke=RZ;function Zke(e,t){for(var n=e.length;n--;)if(Yke(e[n][0],t))return n;return-1}var pN=Zke,Jke=pN,eAe=Array.prototype,tAe=eAe.splice;function nAe(e){var t=this.__data__,n=Jke(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():tAe.call(t,n,1),--this.size,!0}var rAe=nAe,iAe=pN;function sAe(e){var t=this.__data__,n=iAe(t,e);return n<0?void 0:t[n][1]}var aAe=sAe,oAe=pN;function lAe(e){return oAe(this.__data__,e)>-1}var cAe=lAe,uAe=pN;function dAe(e,t){var n=this.__data__,r=uAe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var fAe=dAe,hAe=Kke,pAe=rAe,mAe=aAe,gAe=cAe,xAe=fAe;function xx(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xx.prototype.clear=hAe;xx.prototype.delete=pAe;xx.prototype.get=mAe;xx.prototype.has=gAe;xx.prototype.set=xAe;var mN=xx,yAe=mN;function vAe(){this.__data__=new yAe,this.size=0}var bAe=vAe;function wAe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _Ae=wAe;function TAe(e){return this.__data__.get(e)}var EAe=TAe;function NAe(e){return this.__data__.has(e)}var SAe=NAe,kAe=typeof on=="object"&&on&&on.Object===Object&&on,PZ=kAe,AAe=PZ,CAe=typeof self=="object"&&self&&self.Object===Object&&self,DAe=AAe||CAe||Function("return this")(),Od=DAe,jAe=Od,IAe=jAe.Symbol,$5=IAe,eU=$5,OZ=Object.prototype,RAe=OZ.hasOwnProperty,PAe=OZ.toString,wy=eU?eU.toStringTag:void 0;function OAe(e){var t=RAe.call(e,wy),n=e[wy];try{e[wy]=void 0;var r=!0}catch{}var i=PAe.call(e);return r&&(t?e[wy]=n:delete e[wy]),i}var FAe=OAe,LAe=Object.prototype,MAe=LAe.toString;function UAe(e){return MAe.call(e)}var BAe=UAe,tU=$5,VAe=FAe,qAe=BAe,WAe="[object Null]",zAe="[object Undefined]",nU=tU?tU.toStringTag:void 0;function $Ae(e){return e==null?e===void 0?zAe:WAe:nU&&nU in Object(e)?VAe(e):qAe(e)}var gN=$Ae;function HAe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var FZ=HAe,GAe=gN,QAe=FZ,KAe="[object AsyncFunction]",XAe="[object Function]",YAe="[object GeneratorFunction]",ZAe="[object Proxy]";function JAe(e){if(!QAe(e))return!1;var t=GAe(e);return t==XAe||t==YAe||t==KAe||t==ZAe}var LZ=JAe,eCe=Od,tCe=eCe["__core-js_shared__"],nCe=tCe,oA=nCe,rU=function(){var e=/[^.]+$/.exec(oA&&oA.keys&&oA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rCe(e){return!!rU&&rU in e}var iCe=rCe,sCe=Function.prototype,aCe=sCe.toString;function oCe(e){if(e!=null){try{return aCe.call(e)}catch{}try{return e+""}catch{}}return""}var MZ=oCe,lCe=LZ,cCe=iCe,uCe=FZ,dCe=MZ,fCe=/[\\^$.*+?()[\]{}|]/g,hCe=/^\[object .+?Constructor\]$/,pCe=Function.prototype,mCe=Object.prototype,gCe=pCe.toString,xCe=mCe.hasOwnProperty,yCe=RegExp("^"+gCe.call(xCe).replace(fCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vCe(e){if(!uCe(e)||cCe(e))return!1;var t=lCe(e)?yCe:hCe;return t.test(dCe(e))}var bCe=vCe;function wCe(e,t){return e==null?void 0:e[t]}var _Ce=wCe,TCe=bCe,ECe=_Ce;function NCe(e,t){var n=ECe(e,t);return TCe(n)?n:void 0}var yx=NCe,SCe=yx,kCe=Od,ACe=SCe(kCe,"Map"),H5=ACe,CCe=yx,DCe=CCe(Object,"create"),xN=DCe,iU=xN;function jCe(){this.__data__=iU?iU(null):{},this.size=0}var ICe=jCe;function RCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PCe=RCe,OCe=xN,FCe="__lodash_hash_undefined__",LCe=Object.prototype,MCe=LCe.hasOwnProperty;function UCe(e){var t=this.__data__;if(OCe){var n=t[e];return n===FCe?void 0:n}return MCe.call(t,e)?t[e]:void 0}var BCe=UCe,VCe=xN,qCe=Object.prototype,WCe=qCe.hasOwnProperty;function zCe(e){var t=this.__data__;return VCe?t[e]!==void 0:WCe.call(t,e)}var $Ce=zCe,HCe=xN,GCe="__lodash_hash_undefined__";function QCe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=HCe&&t===void 0?GCe:t,this}var KCe=QCe,XCe=ICe,YCe=PCe,ZCe=BCe,JCe=$Ce,eDe=KCe;function vx(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vx.prototype.clear=XCe;vx.prototype.delete=YCe;vx.prototype.get=ZCe;vx.prototype.has=JCe;vx.prototype.set=eDe;var tDe=vx,sU=tDe,nDe=mN,rDe=H5;function iDe(){this.size=0,this.__data__={hash:new sU,map:new(rDe||nDe),string:new sU}}var sDe=iDe;function aDe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oDe=aDe,lDe=oDe;function cDe(e,t){var n=e.__data__;return lDe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var yN=cDe,uDe=yN;function dDe(e){var t=uDe(this,e).delete(e);return this.size-=t?1:0,t}var fDe=dDe,hDe=yN;function pDe(e){return hDe(this,e).get(e)}var mDe=pDe,gDe=yN;function xDe(e){return gDe(this,e).has(e)}var yDe=xDe,vDe=yN;function bDe(e,t){var n=vDe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var wDe=bDe,_De=sDe,TDe=fDe,EDe=mDe,NDe=yDe,SDe=wDe;function bx(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bx.prototype.clear=_De;bx.prototype.delete=TDe;bx.prototype.get=EDe;bx.prototype.has=NDe;bx.prototype.set=SDe;var UZ=bx,kDe=mN,ADe=H5,CDe=UZ,DDe=200;function jDe(e,t){var n=this.__data__;if(n instanceof kDe){var r=n.__data__;if(!ADe||r.length<DDe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new CDe(r)}return n.set(e,t),this.size=n.size,this}var IDe=jDe,RDe=mN,PDe=bAe,ODe=_Ae,FDe=EAe,LDe=SAe,MDe=IDe;function wx(e){var t=this.__data__=new RDe(e);this.size=t.size}wx.prototype.clear=PDe;wx.prototype.delete=ODe;wx.prototype.get=FDe;wx.prototype.has=LDe;wx.prototype.set=MDe;var UDe=wx,BDe="__lodash_hash_undefined__";function VDe(e){return this.__data__.set(e,BDe),this}var qDe=VDe;function WDe(e){return this.__data__.has(e)}var zDe=WDe,$De=UZ,HDe=qDe,GDe=zDe;function dT(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $De;++t<n;)this.add(e[t])}dT.prototype.add=dT.prototype.push=HDe;dT.prototype.has=GDe;var QDe=dT;function KDe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var XDe=KDe;function YDe(e,t){return e.has(t)}var ZDe=YDe,JDe=QDe,eje=XDe,tje=ZDe,nje=1,rje=2;function ije(e,t,n,r,i,s){var o=n&nje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=n&rje?new JDe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var y=e[f],m=t[f];if(r)var x=o?r(m,y,f,t,e,s):r(y,m,f,e,t,s);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!eje(t,function(v,g){if(!tje(p,g)&&(y===v||i(y,v,n,r,s)))return p.push(g)})){h=!1;break}}else if(!(y===m||i(y,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var BZ=ije,sje=Od,aje=sje.Uint8Array,oje=aje;function lje(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var cje=lje;function uje(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var dje=uje,aU=$5,oU=oje,fje=RZ,hje=BZ,pje=cje,mje=dje,gje=1,xje=2,yje="[object Boolean]",vje="[object Date]",bje="[object Error]",wje="[object Map]",_je="[object Number]",Tje="[object RegExp]",Eje="[object Set]",Nje="[object String]",Sje="[object Symbol]",kje="[object ArrayBuffer]",Aje="[object DataView]",lU=aU?aU.prototype:void 0,lA=lU?lU.valueOf:void 0;function Cje(e,t,n,r,i,s,o){switch(n){case Aje:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kje:return!(e.byteLength!=t.byteLength||!s(new oU(e),new oU(t)));case yje:case vje:case _je:return fje(+e,+t);case bje:return e.name==t.name&&e.message==t.message;case Tje:case Nje:return e==t+"";case wje:var l=pje;case Eje:var c=r&gje;if(l||(l=mje),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=xje,o.set(e,t);var d=hje(l(e),l(t),r,i,s,o);return o.delete(e),d;case Sje:if(lA)return lA.call(e)==lA.call(t)}return!1}var Dje=Cje;function jje(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Ije=jje,Rje=Array.isArray,G5=Rje,Pje=Ije,Oje=G5;function Fje(e,t,n){var r=t(e);return Oje(e)?r:Pje(r,n(e))}var Lje=Fje;function Mje(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var Uje=Mje;function Bje(){return[]}var Vje=Bje,qje=Uje,Wje=Vje,zje=Object.prototype,$je=zje.propertyIsEnumerable,cU=Object.getOwnPropertySymbols,Hje=cU?function(e){return e==null?[]:(e=Object(e),qje(cU(e),function(t){return $je.call(e,t)}))}:Wje,Gje=Hje;function Qje(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Kje=Qje;function Xje(e){return e!=null&&typeof e=="object"}var vN=Xje,Yje=gN,Zje=vN,Jje="[object Arguments]";function e4e(e){return Zje(e)&&Yje(e)==Jje}var t4e=e4e,uU=t4e,n4e=vN,VZ=Object.prototype,r4e=VZ.hasOwnProperty,i4e=VZ.propertyIsEnumerable,s4e=uU(function(){return arguments}())?uU:function(e){return n4e(e)&&r4e.call(e,"callee")&&!i4e.call(e,"callee")},a4e=s4e,fT={exports:{}};function o4e(){return!1}var l4e=o4e;fT.exports;(function(e,t){var n=Od,r=l4e,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(fT,fT.exports);var qZ=fT.exports,c4e=9007199254740991,u4e=/^(?:0|[1-9]\d*)$/;function d4e(e,t){var n=typeof e;return t=t??c4e,!!t&&(n=="number"||n!="symbol"&&u4e.test(e))&&e>-1&&e%1==0&&e<t}var f4e=d4e,h4e=9007199254740991;function p4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=h4e}var WZ=p4e,m4e=gN,g4e=WZ,x4e=vN,y4e="[object Arguments]",v4e="[object Array]",b4e="[object Boolean]",w4e="[object Date]",_4e="[object Error]",T4e="[object Function]",E4e="[object Map]",N4e="[object Number]",S4e="[object Object]",k4e="[object RegExp]",A4e="[object Set]",C4e="[object String]",D4e="[object WeakMap]",j4e="[object ArrayBuffer]",I4e="[object DataView]",R4e="[object Float32Array]",P4e="[object Float64Array]",O4e="[object Int8Array]",F4e="[object Int16Array]",L4e="[object Int32Array]",M4e="[object Uint8Array]",U4e="[object Uint8ClampedArray]",B4e="[object Uint16Array]",V4e="[object Uint32Array]",Kr={};Kr[R4e]=Kr[P4e]=Kr[O4e]=Kr[F4e]=Kr[L4e]=Kr[M4e]=Kr[U4e]=Kr[B4e]=Kr[V4e]=!0;Kr[y4e]=Kr[v4e]=Kr[j4e]=Kr[b4e]=Kr[I4e]=Kr[w4e]=Kr[_4e]=Kr[T4e]=Kr[E4e]=Kr[N4e]=Kr[S4e]=Kr[k4e]=Kr[A4e]=Kr[C4e]=Kr[D4e]=!1;function q4e(e){return x4e(e)&&g4e(e.length)&&!!Kr[m4e(e)]}var W4e=q4e;function z4e(e){return function(t){return e(t)}}var $4e=z4e,hT={exports:{}};hT.exports;(function(e,t){var n=PZ,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(hT,hT.exports);var H4e=hT.exports,G4e=W4e,Q4e=$4e,dU=H4e,fU=dU&&dU.isTypedArray,K4e=fU?Q4e(fU):G4e,zZ=K4e,X4e=Kje,Y4e=a4e,Z4e=G5,J4e=qZ,eIe=f4e,tIe=zZ,nIe=Object.prototype,rIe=nIe.hasOwnProperty;function iIe(e,t){var n=Z4e(e),r=!n&&Y4e(e),i=!n&&!r&&J4e(e),s=!n&&!r&&!i&&tIe(e),o=n||r||i||s,l=o?X4e(e.length,String):[],c=l.length;for(var u in e)(t||rIe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eIe(u,c)))&&l.push(u);return l}var sIe=iIe,aIe=Object.prototype;function oIe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||aIe;return e===n}var lIe=oIe;function cIe(e,t){return function(n){return e(t(n))}}var uIe=cIe,dIe=uIe,fIe=dIe(Object.keys,Object),hIe=fIe,pIe=lIe,mIe=hIe,gIe=Object.prototype,xIe=gIe.hasOwnProperty;function yIe(e){if(!pIe(e))return mIe(e);var t=[];for(var n in Object(e))xIe.call(e,n)&&n!="constructor"&&t.push(n);return t}var vIe=yIe,bIe=LZ,wIe=WZ;function _Ie(e){return e!=null&&wIe(e.length)&&!bIe(e)}var TIe=_Ie,EIe=sIe,NIe=vIe,SIe=TIe;function kIe(e){return SIe(e)?EIe(e):NIe(e)}var AIe=kIe,CIe=Lje,DIe=Gje,jIe=AIe;function IIe(e){return CIe(e,jIe,DIe)}var RIe=IIe,hU=RIe,PIe=1,OIe=Object.prototype,FIe=OIe.hasOwnProperty;function LIe(e,t,n,r,i,s){var o=n&PIe,l=hU(e),c=l.length,u=hU(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:FIe.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var m=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<c;){h=l[f];var v=e[h],g=t[h];if(r)var b=o?r(g,v,h,t,e,s):r(v,g,h,e,t,s);if(!(b===void 0?v===g||i(v,g,n,r,s):b)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var w=e.constructor,T=t.constructor;w!=T&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof T=="function"&&T instanceof T)&&(m=!1)}return s.delete(e),s.delete(t),m}var MIe=LIe,UIe=yx,BIe=Od,VIe=UIe(BIe,"DataView"),qIe=VIe,WIe=yx,zIe=Od,$Ie=WIe(zIe,"Promise"),HIe=$Ie,GIe=yx,QIe=Od,KIe=GIe(QIe,"Set"),XIe=KIe,YIe=yx,ZIe=Od,JIe=YIe(ZIe,"WeakMap"),e3e=JIe,Yj=qIe,Zj=H5,Jj=HIe,e4=XIe,t4=e3e,$Z=gN,_x=MZ,pU="[object Map]",t3e="[object Object]",mU="[object Promise]",gU="[object Set]",xU="[object WeakMap]",yU="[object DataView]",n3e=_x(Yj),r3e=_x(Zj),i3e=_x(Jj),s3e=_x(e4),a3e=_x(t4),ip=$Z;(Yj&&ip(new Yj(new ArrayBuffer(1)))!=yU||Zj&&ip(new Zj)!=pU||Jj&&ip(Jj.resolve())!=mU||e4&&ip(new e4)!=gU||t4&&ip(new t4)!=xU)&&(ip=function(e){var t=$Z(e),n=t==t3e?e.constructor:void 0,r=n?_x(n):"";if(r)switch(r){case n3e:return yU;case r3e:return pU;case i3e:return mU;case s3e:return gU;case a3e:return xU}return t});var o3e=ip,cA=UDe,l3e=BZ,c3e=Dje,u3e=MIe,vU=o3e,bU=G5,wU=qZ,d3e=zZ,f3e=1,_U="[object Arguments]",TU="[object Array]",V2="[object Object]",h3e=Object.prototype,EU=h3e.hasOwnProperty;function p3e(e,t,n,r,i,s){var o=bU(e),l=bU(t),c=o?TU:vU(e),u=l?TU:vU(t);c=c==_U?V2:c,u=u==_U?V2:u;var d=c==V2,f=u==V2,h=c==u;if(h&&wU(e)){if(!wU(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new cA),o||d3e(e)?l3e(e,t,n,r,i,s):c3e(e,t,c,n,r,i,s);if(!(n&f3e)){var p=d&&EU.call(e,"__wrapped__"),y=f&&EU.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,x=y?t.value():t;return s||(s=new cA),i(m,x,n,r,s)}}return h?(s||(s=new cA),u3e(e,t,n,r,i,s)):!1}var m3e=p3e,g3e=m3e,NU=vN;function HZ(e,t,n,r,i){return e===t?!0:e==null||t==null||!NU(e)&&!NU(t)?e!==e&&t!==t:g3e(e,t,n,r,HZ,i)}var x3e=HZ,y3e=x3e;function v3e(e,t){return y3e(e,t)}var b3e=v3e,GZ={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:on,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),l=i(19),c=i(45),u=i(46),d=i(47),f=i(48),h=i(49),p=i(12),y=i(32),m=i(33),x=i(31),v=i(1),g={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:f.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:h.default,Attributor:{Attribute:p.default,Class:y.default,Style:m.default,Store:x.default}};r.default=g},function(n,r,i){var s=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var b in g)g.hasOwnProperty(b)&&(v[b]=g[b])};return function(v,g){x(v,g);function b(){this.constructor=v}v.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(x){s(v,x);function v(g){var b=this;return g="[Parchment] "+g,b=x.call(this,g)||this,b.message=g,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=o;var l={},c={},u={},d={};r.DATA_KEY="__blot";var f;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(x,v){var g=y(x);if(g==null)throw new o("Unable to create "+x+" blot");var b=g,w=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:b.create(v);return new b(w,v)}r.create=h;function p(x,v){return v===void 0&&(v=!1),x==null?null:x[r.DATA_KEY]!=null?x[r.DATA_KEY].blot:v?p(x.parentNode,v):null}r.find=p;function y(x,v){v===void 0&&(v=f.ANY);var g;if(typeof x=="string")g=d[x]||l[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)g=d.text;else if(typeof x=="number")x&f.LEVEL&f.BLOCK?g=d.block:x&f.LEVEL&f.INLINE&&(g=d.inline);else if(x instanceof HTMLElement){var b=(x.getAttribute("class")||"").split(/\s+/);for(var w in b)if(g=c[b[w]],g)break;g=g||u[x.tagName]}return g==null?null:v&f.LEVEL&g.scope&&v&f.TYPE&g.scope?g:null}r.query=y;function m(){for(var x=[],v=0;v<arguments.length;v++)x[v]=arguments[v];if(x.length>1)return x.map(function(w){return m(w)});var g=x[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new o("Invalid definition");if(g.blotName==="abstract")throw new o("Cannot register abstract class");if(d[g.blotName||g.attrName]=g,typeof g.keyName=="string")l[g.keyName]=g;else if(g.className!=null&&(c[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(w){return w.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var b=Array.isArray(g.tagName)?g.tagName:[g.tagName];b.forEach(function(w){(u[w]==null||g.className==null)&&(u[w]=g)})}return g}r.register=m},function(n,r,i){var s=i(51),o=i(11),l=i(3),c=i(20),u="\0",d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},d.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=l(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(y){var m=f(y)?h:p;m.push(y)}),[h,p]},d.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},d.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+c.length(h):h.delete?f-h.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,h){return f+c.length(h)},0)},d.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],y=c.iterator(this.ops),m=0;m<h&&y.hasNext();){var x;m<f?x=y.next(f-m):(x=y.next(h-m),p.push(x)),m+=c.length(x)}return new d(p)},d.prototype.compose=function(f){var h=c.iterator(this.ops),p=c.iterator(f.ops),y=[],m=p.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var x=m.retain;h.peekType()==="insert"&&h.peekLength()<=x;)x-=h.peekLength(),y.push(h.next());m.retain-x>0&&p.next(m.retain-x)}for(var v=new d(y);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")v.push(p.next());else if(h.peekType()==="delete")v.push(h.next());else{var g=Math.min(h.peekLength(),p.peekLength()),b=h.next(g),w=p.next(g);if(typeof w.retain=="number"){var T={};typeof b.retain=="number"?T.retain=g:T.insert=b.insert;var k=c.attributes.compose(b.attributes,w.attributes,typeof b.retain=="number");if(k&&(T.attributes=k),v.push(T),!p.hasNext()&&o(v.ops[v.ops.length-1],T)){var _=new d(h.rest());return v.concat(_).chop()}}else typeof w.delete=="number"&&typeof b.retain=="number"&&v.push(w)}return v.chop()},d.prototype.concat=function(f){var h=new d(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},d.prototype.diff=function(f,h){if(this.ops===f.ops)return new d;var p=[this,f].map(function(g){return g.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var w=g===f?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),y=new d,m=s(p[0],p[1],h),x=c.iterator(this.ops),v=c.iterator(f.ops);return m.forEach(function(g){for(var b=g[1].length;b>0;){var w=0;switch(g[0]){case s.INSERT:w=Math.min(v.peekLength(),b),y.push(v.next(w));break;case s.DELETE:w=Math.min(b,x.peekLength()),x.next(w),y.delete(w);break;case s.EQUAL:w=Math.min(x.peekLength(),v.peekLength(),b);var T=x.next(w),k=v.next(w);o(T.insert,k.insert)?y.retain(w,c.attributes.diff(T.attributes,k.attributes)):y.push(k).delete(w);break}b-=w}}),y.chop()},d.prototype.eachLine=function(f,h){h=h||`
`;for(var p=c.iterator(this.ops),y=new d,m=0;p.hasNext();){if(p.peekType()!=="insert")return;var x=p.peek(),v=c.length(x)-p.peekLength(),g=typeof x.insert=="string"?x.insert.indexOf(h,v)-v:-1;if(g<0)y.push(p.next());else if(g>0)y.push(p.next(g));else{if(f(y,p.next(1).attributes||{},m)===!1)return;m+=1,y=new d}}y.length()>0&&f(y,{},m)},d.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=c.iterator(this.ops),y=c.iterator(f.ops),m=new d;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(h||y.peekType()!=="insert"))m.retain(c.length(p.next()));else if(y.peekType()==="insert")m.push(y.next());else{var x=Math.min(p.peekLength(),y.peekLength()),v=p.next(x),g=y.next(x);if(v.delete)continue;g.delete?m.push(g):m.retain(x,c.attributes.transform(v.attributes,g.attributes,h))}return m.chop()},d.prototype.transformPosition=function(f,h){h=!!h;for(var p=c.iterator(this.ops),y=0;p.hasNext()&&y<=f;){var m=p.peekLength(),x=p.peekType();if(p.next(),x==="delete"){f-=Math.min(m,f-y);continue}else x==="insert"&&(y<f||!h)&&(f+=m);y+=m}return f},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},u=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var y=i.call(p,"constructor"),m=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!m)return!1;var x;for(x in p);return typeof x>"u"||i.call(p,x)},d=function(p,y){o&&y.name==="__proto__"?o(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},f=function(p,y){if(y==="__proto__")if(i.call(p,y)){if(l)return l(p,y).value}else return;return p[y]};n.exports=function h(){var p,y,m,x,v,g,b=arguments[0],w=1,T=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<T;++w)if(p=arguments[w],p!=null)for(y in p)m=f(b,y),x=f(p,y),b!==x&&(k&&x&&(u(x)||(v=c(x)))?(v?(v=!1,g=m&&c(m)?m:[]):g=m&&u(m)?m:{},d(b,{name:y,newValue:h(k,g,x)})):typeof x<"u"&&d(b,{name:y,newValue:x}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function j(E,D){for(var R=0;R<D.length;R++){var M=D[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,D,R){return D&&j(E.prototype,D),R&&j(E,R),E}}(),o=function j(E,D,R){E===null&&(E=Function.prototype);var M=Object.getOwnPropertyDescriptor(E,D);if(M===void 0){var U=Object.getPrototypeOf(E);return U===null?void 0:j(U,D,R)}else{if("value"in M)return M.value;var z=M.get;return z===void 0?void 0:z.call(R)}},l=i(3),c=b(l),u=i(2),d=b(u),f=i(0),h=b(f),p=i(16),y=b(p),m=i(6),x=b(m),v=i(7),g=b(v);function b(j){return j&&j.__esModule?j:{default:j}}function w(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function T(j,E){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:j}function k(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(j,E):j.__proto__=E)}var _=1,N=function(j){k(E,j);function E(){return w(this,E),T(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"attach",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,M){var U=h.default.query(R,h.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,M)}},{key:"formatAt",value:function(R,M,U,z){this.format(U,z)}},{key:"insertAt",value:function(R,M,U){if(typeof M=="string"&&M.endsWith(`
`)){var z=h.default.create(C.blotName);this.parent.insertBefore(z,R===0?this:this.next),z.insertAt(0,M.slice(0,-1))}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,R,M,U)}}]),E}(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var C=function(j){k(E,j);function E(D){w(this,E);var R=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,D));return R.cache={},R}return s(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(R,M){return M.length()===0?R:R.insert(M.value(),I(M))},new d.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(R,M){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,R,M),this.cache={}}},{key:"formatAt",value:function(R,M,U,z){M<=0||(h.default.query(U,h.default.Scope.BLOCK)?R+M===this.length()&&this.format(U,z):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,R,Math.min(M,this.length()-R-1),U,z),this.cache={})}},{key:"insertAt",value:function(R,M,U){if(U!=null)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,R,M,U);if(M.length!==0){var z=M.split(`
`),G=z.shift();G.length>0&&(R<this.length()-1||this.children.tail==null?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var F=this;z.reduce(function(W,O){return F=F.split(W,!0),F.insertAt(0,O),O.length},R+G.length)}}},{key:"insertBefore",value:function(R,M){var U=this.children.head;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,R,M),U instanceof y.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function(R,M){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,R,M),this.cache={}}},{key:"optimize",value:function(R){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(R===0||R>=this.length()-_)){var U=this.clone();return R===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var z=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,R,M);return this.cache={},z}}}]),E}(h.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[x.default,h.default.Embed,g.default];function I(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return j==null||(typeof j.formats=="function"&&(E=(0,c.default)(E,j.formats())),j.parent==null||j.parent.blotName=="scroll"||j.parent.statics.scope!==j.statics.scope)?E:I(j.parent,E)}r.bubbleFormats=I,r.BlockEmbed=N,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(W,O){var P=[],B=!0,K=!1,Q=void 0;try{for(var L=W[Symbol.iterator](),ee;!(B=(ee=L.next()).done)&&(P.push(ee.value),!(O&&P.length===O));B=!0);}catch(ge){K=!0,Q=ge}finally{try{!B&&L.return&&L.return()}finally{if(K)throw Q}}return P}return function(W,O){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return F(W,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F(W,O){for(var P=0;P<O.length;P++){var B=O[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(W,B.key,B)}}return function(W,O,P){return O&&F(W.prototype,O),P&&F(W,P),W}}();i(50);var c=i(2),u=I(c),d=i(14),f=I(d),h=i(8),p=I(h),y=i(9),m=I(y),x=i(0),v=I(x),g=i(15),b=I(g),w=i(3),T=I(w),k=i(10),_=I(k),N=i(34),C=I(N);function I(F){return F&&F.__esModule?F:{default:F}}function j(F,W,O){return W in F?Object.defineProperty(F,W,{value:O,enumerable:!0,configurable:!0,writable:!0}):F[W]=O,F}function E(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")}var D=(0,_.default)("quill"),R=function(){l(F,null,[{key:"debug",value:function(O){O===!0&&(O="log"),_.default.level(O)}},{key:"find",value:function(O){return O.__quill||v.default.find(O)}},{key:"import",value:function(O){return this.imports[O]==null&&D.error("Cannot import "+O+". Are you sure it was registered?"),this.imports[O]}},{key:"register",value:function(O,P){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof O!="string"){var Q=O.attrName||O.blotName;typeof Q=="string"?this.register("formats/"+Q,O,P):Object.keys(O).forEach(function(L){B.register(L,O[L],P)})}else this.imports[O]!=null&&!K&&D.warn("Overwriting "+O+" with",P),this.imports[O]=P,(O.startsWith("blots/")||O.startsWith("formats/"))&&P.blotName!=="abstract"?v.default.register(P):O.startsWith("modules")&&typeof P.register=="function"&&P.register()}}]);function F(W){var O=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,F),this.options=M(W,P),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",W);this.options.debug&&F.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&O.root.classList.toggle("ql-blank",O.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,L){var ee=O.selection.lastRange,ge=ee&&ee.length===0?ee.index:void 0;U.call(O,function(){return O.editor.update(null,L,ge)},Q)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(F,[{key:"addContainer",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof O=="string"){var B=O;O=document.createElement("div"),O.classList.add(B)}return this.container.insertBefore(O,P),O}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(O,P,B){var K=this,Q=z(O,P,B),L=o(Q,4);return O=L[0],P=L[1],B=L[3],U.call(this,function(){return K.editor.deleteText(O,P)},B,O,-1*P)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(O),this.container.classList.toggle("ql-disabled",!O)}},{key:"focus",value:function(){var O=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=O,this.scrollIntoView()}},{key:"format",value:function(O,P){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return U.call(this,function(){var Q=B.getSelection(!0),L=new u.default;if(Q==null)return L;if(v.default.query(O,v.default.Scope.BLOCK))L=B.editor.formatLine(Q.index,Q.length,j({},O,P));else{if(Q.length===0)return B.selection.format(O,P),L;L=B.editor.formatText(Q.index,Q.length,j({},O,P))}return B.setSelection(Q,p.default.sources.SILENT),L},K)}},{key:"formatLine",value:function(O,P,B,K,Q){var L=this,ee=void 0,ge=z(O,P,B,K,Q),he=o(ge,4);return O=he[0],P=he[1],ee=he[2],Q=he[3],U.call(this,function(){return L.editor.formatLine(O,P,ee)},Q,O,0)}},{key:"formatText",value:function(O,P,B,K,Q){var L=this,ee=void 0,ge=z(O,P,B,K,Q),he=o(ge,4);return O=he[0],P=he[1],ee=he[2],Q=he[3],U.call(this,function(){return L.editor.formatText(O,P,ee)},Q,O,0)}},{key:"getBounds",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof O=="number"?B=this.selection.getBounds(O,P):B=this.selection.getBounds(O.index,O.length);var K=this.container.getBoundingClientRect();return{bottom:B.bottom-K.top,height:B.height,left:B.left-K.left,right:B.right-K.left,top:B.top-K.top,width:B.width}}},{key:"getContents",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-O,B=z(O,P),K=o(B,2);return O=K[0],P=K[1],this.editor.getContents(O,P)}},{key:"getFormat",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof O=="number"?this.editor.getFormat(O,P):this.editor.getFormat(O.index,O.length)}},{key:"getIndex",value:function(O){return O.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(O){return this.scroll.leaf(O)}},{key:"getLine",value:function(O){return this.scroll.line(O)}},{key:"getLines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof O!="number"?this.scroll.lines(O.index,O.length):this.scroll.lines(O,P)}},{key:"getModule",value:function(O){return this.theme.modules[O]}},{key:"getSelection",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return O&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-O,B=z(O,P),K=o(B,2);return O=K[0],P=K[1],this.editor.getText(O,P)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(O,P,B){var K=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return U.call(this,function(){return K.editor.insertEmbed(O,P,B)},Q,O)}},{key:"insertText",value:function(O,P,B,K,Q){var L=this,ee=void 0,ge=z(O,0,B,K,Q),he=o(ge,4);return O=he[0],ee=he[2],Q=he[3],U.call(this,function(){return L.editor.insertText(O,P,ee)},Q,O,P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(O,P,B){this.clipboard.dangerouslyPasteHTML(O,P,B)}},{key:"removeFormat",value:function(O,P,B){var K=this,Q=z(O,P,B),L=o(Q,4);return O=L[0],P=L[1],B=L[3],U.call(this,function(){return K.editor.removeFormat(O,P)},B,O)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(O){var P=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return U.call(this,function(){O=new u.default(O);var K=P.getLength(),Q=P.editor.deleteText(0,K),L=P.editor.applyDelta(O),ee=L.ops[L.ops.length-1];ee!=null&&typeof ee.insert=="string"&&ee.insert[ee.insert.length-1]===`
`&&(P.editor.deleteText(P.getLength()-1,1),L.delete(1));var ge=Q.compose(L);return ge},B)}},{key:"setSelection",value:function(O,P,B){if(O==null)this.selection.setRange(null,P||F.sources.API);else{var K=z(O,P,B),Q=o(K,4);O=Q[0],P=Q[1],B=Q[3],this.selection.setRange(new g.Range(O,P),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new u.default().insert(O);return this.setContents(B,P)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,P=this.scroll.update(O);return this.selection.update(O),P}},{key:"updateContents",value:function(O){var P=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return U.call(this,function(){return O=new u.default(O),P.editor.applyDelta(O,B)},B,!0)}}]),F}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=p.default.events,R.sources=p.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:v.default,"core/module":m.default,"core/theme":C.default};function M(F,W){if(W=(0,T.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===R.DEFAULTS.theme)W.theme=C.default;else if(W.theme=R.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var O=(0,T.default)(!0,{},W.theme.DEFAULTS);[O,W].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(Q){K.modules[Q]===!0&&(K.modules[Q]={})})});var P=Object.keys(O.modules).concat(Object.keys(W.modules)),B=P.reduce(function(K,Q){var L=R.import("modules/"+Q);return L==null?D.error("Cannot load "+Q+" module. Are you sure you registered it?"):K[Q]=L.DEFAULTS||{},K},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,T.default)(!0,{},R.DEFAULTS,{modules:B},O,W),["bounds","container","scrollingContainer"].forEach(function(K){typeof W[K]=="string"&&(W[K]=document.querySelector(W[K]))}),W.modules=Object.keys(W.modules).reduce(function(K,Q){return W.modules[Q]&&(K[Q]=W.modules[Q]),K},{}),W}function U(F,W,O,P){if(this.options.strict&&!this.isEnabled()&&W===p.default.sources.USER)return new u.default;var B=O==null?null:this.getSelection(),K=this.editor.delta,Q=F();if(B!=null&&(O===!0&&(O=B.index),P==null?B=G(B,Q,W):P!==0&&(B=G(B,O,P,W)),this.setSelection(B,p.default.sources.SILENT)),Q.length()>0){var L,ee=[p.default.events.TEXT_CHANGE,Q,K,W];if((L=this.emitter).emit.apply(L,[p.default.events.EDITOR_CHANGE].concat(ee)),W!==p.default.sources.SILENT){var ge;(ge=this.emitter).emit.apply(ge,ee)}}return Q}function z(F,W,O,P,B){var K={};return typeof F.index=="number"&&typeof F.length=="number"?typeof W!="number"?(B=P,P=O,O=W,W=F.length,F=F.index):(W=F.length,F=F.index):typeof W!="number"&&(B=P,P=O,O=W,W=0),(typeof O>"u"?"undefined":s(O))==="object"?(K=O,B=P):typeof O=="string"&&(P!=null?K[O]=P:B=O),B=B||p.default.sources.API,[F,W,K,B]}function G(F,W,O,P){if(F==null)return null;var B=void 0,K=void 0;if(W instanceof u.default){var Q=[F.index,F.index+F.length].map(function(he){return W.transformPosition(he,P!==p.default.sources.USER)}),L=o(Q,2);B=L[0],K=L[1]}else{var ee=[F.index,F.index+F.length].map(function(he){return he<W||he===W&&P===p.default.sources.USER?he:O>=0?he+O:Math.max(W,he+O)}),ge=o(ee,2);B=ge[0],K=ge[1]}return new g.Range(B,K-B)}r.expandConfig=M,r.overload=z,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&x(v.prototype,g),b&&x(v,b),v}}(),o=function x(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:x(T,g,b)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(b)}},l=i(7),c=f(l),u=i(0),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function p(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function y(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var m=function(x){y(v,x);function v(){return h(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"formatAt",value:function(b,w,T,k){if(v.compare(this.statics.blotName,T)<0&&d.default.query(T,d.default.Scope.BLOT)){var _=this.isolate(b,w);k&&_.wrap(T,k)}else o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,w,T,k)}},{key:"optimize",value:function(b){if(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(b,w){var T=v.order.indexOf(b),k=v.order.indexOf(w);return T>=0||k>=0?T-k:b===w?0:b<w?-1:1}}]),v}(d.default.Inline);m.allowedChildren=[m,d.default.Embed,c.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(b,w){for(var T=0;T<w.length;T++){var k=w[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,w,T){return w&&g(b.prototype,w),T&&g(b,T),b}}(),o=function g(b,w,T){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,w);if(k===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:g(_,w,T)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(T)}},l=i(54),c=f(l),u=i(10),d=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function p(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function y(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=(0,d.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(g){document.addEventListener(g,function(){for(var b=arguments.length,w=Array(b),T=0;T<b;T++)w[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var _;(_=k.__quill.emitter).handleDOM.apply(_,w)}})})});var v=function(g){y(b,g);function b(){h(this,b);var w=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return w.listeners={},w.on("error",m.error),w}return s(b,[{key:"emit",value:function(){m.log.apply(m,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var k=arguments.length,_=Array(k>1?k-1:0),N=1;N<k;N++)_[N-1]=arguments[N];(this.listeners[T.type]||[]).forEach(function(C){var I=C.node,j=C.handler;(T.target===I||I.contains(T.target))&&j.apply(void 0,[T].concat(_))})}},{key:"listenDOM",value:function(T,k,_){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:k,handler:_})}}]),b}(c.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=c,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function l(u){if(s.indexOf(u)<=s.indexOf(o)){for(var d,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(d=console)[u].apply(d,h)}}function c(u){return s.reduce(function(d,f){return d[f]=l.bind(console,f,u),d},{})}l.level=c.level=function(u){o=u},r.default=c},function(n,r,i){var s=Array.prototype.slice,o=i(52),l=i(53),c=n.exports=function(h,p,y){return y||(y={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?y.strict?h===p:h==p:f(h,p,y)};function u(h){return h==null}function d(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,y){var m,x;if(u(h)||u(p)||h.prototype!==p.prototype)return!1;if(l(h))return l(p)?(h=s.call(h),p=s.call(p),c(h,p,y)):!1;if(d(h)){if(!d(p)||h.length!==p.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==p[m])return!1;return!0}try{var v=o(h),g=o(p)}catch{return!1}if(v.length!=g.length)return!1;for(v.sort(),g.sort(),m=v.length-1;m>=0;m--)if(v[m]!=g[m])return!1;for(m=v.length-1;m>=0;m--)if(x=v[m],!c(h[x],p[x],y))return!1;return typeof h==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function l(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var d=s.query(c,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function N(C,I){var j=[],E=!0,D=!1,R=void 0;try{for(var M=C[Symbol.iterator](),U;!(E=(U=M.next()).done)&&(j.push(U.value),!(I&&j.length===I));E=!0);}catch(z){D=!0,R=z}finally{try{!E&&M.return&&M.return()}finally{if(D)throw R}}return j}return function(C,I){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return N(C,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(C,I){for(var j=0;j<I.length;j++){var E=I[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(C,E.key,E)}}return function(C,I,j){return I&&N(C.prototype,I),j&&N(C,j),C}}(),l=function N(C,I,j){C===null&&(C=Function.prototype);var E=Object.getOwnPropertyDescriptor(C,I);if(E===void 0){var D=Object.getPrototypeOf(C);return D===null?void 0:N(D,I,j)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(j)}},c=i(2),u=g(c),d=i(0),f=g(d),h=i(4),p=g(h),y=i(6),m=g(y),x=i(7),v=g(x);function g(N){return N&&N.__esModule?N:{default:N}}function b(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function w(N,C){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:N}function T(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(N,C):N.__proto__=C)}var k=function(N){T(C,N);function C(){return b(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(m.default);k.blotName="code",k.tagName="CODE";var _=function(N){T(C,N);function C(){return b(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"delta",value:function(){var j=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(D,R){return D.insert(R).insert(`
`,j.formats())},new u.default)}},{key:"format",value:function(j,E){if(!(j===this.statics.blotName&&E)){var D=this.descendant(v.default,this.length()-1),R=s(D,1),M=R[0];M!=null&&M.deleteAt(M.length()-1,1),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,j,E)}}},{key:"formatAt",value:function(j,E,D,R){if(E!==0&&!(f.default.query(D,f.default.Scope.BLOCK)==null||D===this.statics.blotName&&R===this.statics.formats(this.domNode))){var M=this.newlineIndex(j);if(!(M<0||M>=j+E)){var U=this.newlineIndex(j,!0)+1,z=M-U+1,G=this.isolate(U,z),F=G.next;G.format(D,R),F instanceof C&&F.formatAt(0,j-U+E-z,D,R)}}}},{key:"insertAt",value:function(j,E,D){if(D==null){var R=this.descendant(v.default,j),M=s(R,2),U=M[0],z=M[1];U.insertAt(z,E)}}},{key:"length",value:function(){var j=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?j:j+1}},{key:"newlineIndex",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,j).lastIndexOf(`
`);var D=this.domNode.textContent.slice(j).indexOf(`
`);return D>-1?j+D:-1}},{key:"optimize",value:function(j){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,j);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(j),E.moveChildren(this),E.remove())}},{key:"replace",value:function(j){l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,j),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var D=f.default.find(E);D==null?E.parentNode.removeChild(E):D instanceof f.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(j){var E=l(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,j);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),C}(p.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",r.Code=k,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(W,O){var P=[],B=!0,K=!1,Q=void 0;try{for(var L=W[Symbol.iterator](),ee;!(B=(ee=L.next()).done)&&(P.push(ee.value),!(O&&P.length===O));B=!0);}catch(ge){K=!0,Q=ge}finally{try{!B&&L.return&&L.return()}finally{if(K)throw Q}}return P}return function(W,O){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return F(W,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F(W,O){for(var P=0;P<O.length;P++){var B=O[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(W,B.key,B)}}return function(W,O,P){return O&&F(W.prototype,O),P&&F(W,P),W}}(),c=i(2),u=E(c),d=i(20),f=E(d),h=i(0),p=E(h),y=i(13),m=E(y),x=i(24),v=E(x),g=i(4),b=E(g),w=i(16),T=E(w),k=i(21),_=E(k),N=i(11),C=E(N),I=i(3),j=E(I);function E(F){return F&&F.__esModule?F:{default:F}}function D(F,W,O){return W in F?Object.defineProperty(F,W,{value:O,enumerable:!0,configurable:!0,writable:!0}):F[W]=O,F}function R(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,U=function(){function F(W){R(this,F),this.scroll=W,this.delta=this.getDelta()}return l(F,[{key:"applyDelta",value:function(O){var P=this,B=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),O=G(O),O.reduce(function(Q,L){var ee=L.retain||L.delete||L.insert.length||1,ge=L.attributes||{};if(L.insert!=null){if(typeof L.insert=="string"){var he=L.insert;he.endsWith(`
`)&&B&&(B=!1,he=he.slice(0,-1)),Q>=K&&!he.endsWith(`
`)&&(B=!0),P.scroll.insertAt(Q,he);var be=P.scroll.line(Q),Oe=o(be,2),Z=Oe[0],Ie=Oe[1],V=(0,j.default)({},(0,g.bubbleFormats)(Z));if(Z instanceof b.default){var ke=Z.descendant(p.default.Leaf,Ie),xe=o(ke,1),re=xe[0];V=(0,j.default)(V,(0,g.bubbleFormats)(re))}ge=f.default.attributes.diff(V,ge)||{}}else if(s(L.insert)==="object"){var J=Object.keys(L.insert)[0];if(J==null)return Q;P.scroll.insertAt(Q,J,L.insert[J])}K+=ee}return Object.keys(ge).forEach(function(pe){P.scroll.formatAt(Q,ee,pe,ge[pe])}),Q+ee},0),O.reduce(function(Q,L){return typeof L.delete=="number"?(P.scroll.deleteAt(Q,L.delete),Q):Q+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(O)}},{key:"deleteText",value:function(O,P){return this.scroll.deleteAt(O,P),this.update(new u.default().retain(O).delete(P))}},{key:"formatLine",value:function(O,P){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(Q){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[Q])){var L=B.scroll.lines(O,Math.max(P,1)),ee=P;L.forEach(function(ge){var he=ge.length();if(!(ge instanceof m.default))ge.format(Q,K[Q]);else{var be=O-ge.offset(B.scroll),Oe=ge.newlineIndex(be+ee)-be+1;ge.formatAt(be,Oe,Q,K[Q])}ee-=he})}}),this.scroll.optimize(),this.update(new u.default().retain(O).retain(P,(0,_.default)(K)))}},{key:"formatText",value:function(O,P){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(Q){B.scroll.formatAt(O,P,Q,K[Q])}),this.update(new u.default().retain(O).retain(P,(0,_.default)(K)))}},{key:"getContents",value:function(O,P){return this.delta.slice(O,O+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(O,P){return O.concat(P.delta())},new u.default)}},{key:"getFormat",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],K=[];P===0?this.scroll.path(O).forEach(function(L){var ee=o(L,1),ge=ee[0];ge instanceof b.default?B.push(ge):ge instanceof p.default.Leaf&&K.push(ge)}):(B=this.scroll.lines(O,P),K=this.scroll.descendants(p.default.Leaf,O,P));var Q=[B,K].map(function(L){if(L.length===0)return{};for(var ee=(0,g.bubbleFormats)(L.shift());Object.keys(ee).length>0;){var ge=L.shift();if(ge==null)return ee;ee=z((0,g.bubbleFormats)(ge),ee)}return ee});return j.default.apply(j.default,Q)}},{key:"getText",value:function(O,P){return this.getContents(O,P).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(O,P,B){return this.scroll.insertAt(O,P,B),this.update(new u.default().retain(O).insert(D({},P,B)))}},{key:"insertText",value:function(O,P){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P=P.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(O,P),Object.keys(K).forEach(function(Q){B.scroll.formatAt(O,P.length,Q,K[Q])}),this.update(new u.default().retain(O).insert(P,(0,_.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var O=this.scroll.children.head;return O.statics.blotName!==b.default.blotName||O.children.length>1?!1:O.children.head instanceof T.default}},{key:"removeFormat",value:function(O,P){var B=this.getText(O,P),K=this.scroll.line(O+P),Q=o(K,2),L=Q[0],ee=Q[1],ge=0,he=new u.default;L!=null&&(L instanceof m.default?ge=L.newlineIndex(ee)-ee+1:ge=L.length()-ee,he=L.delta().slice(ee,ee+ge-1).insert(`
`));var be=this.getContents(O,P+ge),Oe=be.diff(new u.default().insert(B).concat(he)),Z=new u.default().retain(O).concat(Oe);return this.applyDelta(Z)}},{key:"update",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(P.length===1&&P[0].type==="characterData"&&P[0].target.data.match(M)&&p.default.find(P[0].target)){var Q=p.default.find(P[0].target),L=(0,g.bubbleFormats)(Q),ee=Q.offset(this.scroll),ge=P[0].oldValue.replace(v.default.CONTENTS,""),he=new u.default().insert(ge),be=new u.default().insert(Q.value()),Oe=new u.default().retain(ee).concat(he.diff(be,B));O=Oe.reduce(function(Z,Ie){return Ie.insert?Z.insert(Ie.insert,L):Z.push(Ie)},new u.default),this.delta=K.compose(O)}else this.delta=this.getDelta(),(!O||!(0,C.default)(K.compose(O),this.delta))&&(O=K.diff(this.delta,B));return O}}]),F}();function z(F,W){return Object.keys(W).reduce(function(O,P){return F[P]==null||(W[P]===F[P]?O[P]=W[P]:Array.isArray(W[P])?W[P].indexOf(F[P])<0&&(O[P]=W[P].concat([F[P]])):O[P]=[W[P],F[P]]),O},{})}function G(F){return F.reduce(function(W,O){if(O.insert===1){var P=(0,_.default)(O.attributes);return delete P.image,W.insert({image:O.attributes.image},P)}if(O.attributes!=null&&(O.attributes.list===!0||O.attributes.bullet===!0)&&(O=(0,_.default)(O),O.attributes.list?O.attributes.list="ordered":(O.attributes.list="bullet",delete O.attributes.bullet)),typeof O.insert=="string"){var B=O.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(B,O.attributes)}return W.push(O)},new u.default)}r.default=U},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function N(C,I){var j=[],E=!0,D=!1,R=void 0;try{for(var M=C[Symbol.iterator](),U;!(E=(U=M.next()).done)&&(j.push(U.value),!(I&&j.length===I));E=!0);}catch(z){D=!0,R=z}finally{try{!E&&M.return&&M.return()}finally{if(D)throw R}}return j}return function(C,I){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return N(C,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(C,I){for(var j=0;j<I.length;j++){var E=I[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(C,E.key,E)}}return function(C,I,j){return I&&N(C.prototype,I),j&&N(C,j),C}}(),l=i(0),c=v(l),u=i(21),d=v(u),f=i(11),h=v(f),p=i(8),y=v(p),m=i(10),x=v(m);function v(N){return N&&N.__esModule?N:{default:N}}function g(N){if(Array.isArray(N)){for(var C=0,I=Array(N.length);C<N.length;C++)I[C]=N[C];return I}else return Array.from(N)}function b(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}var w=(0,x.default)("quill:selection"),T=function N(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,N),this.index=C,this.length=I},k=function(){function N(C,I){var j=this;b(this,N),this.emitter=I,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){j.mouseDown||setTimeout(j.update.bind(j,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(E,D){E===y.default.events.TEXT_CHANGE&&D.length()>0&&j.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(j.hasFocus()){var E=j.getNativeRange();E!=null&&E.start.node!==j.cursor.textNode&&j.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{j.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(E,D){if(D.range){var R=D.range,M=R.startNode,U=R.startOffset,z=R.endNode,G=R.endOffset;j.setNativeRange(M,U,z,G)}}),this.update(y.default.sources.SILENT)}return o(N,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var j=I.cursor.restore();if(!j)return;setTimeout(function(){I.setNativeRange(j.startNode,j.startOffset,j.endNode,j.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,j){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||c.default.query(I,c.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var D=c.default.find(E.start.node,!1);if(D==null)return;if(D instanceof c.default.Leaf){var R=D.split(E.start.offset);D.parent.insertBefore(this.cursor,R)}else D.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(I,j),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();I=Math.min(I,E-1),j=Math.min(I+j,E-1)-I;var D=void 0,R=this.scroll.leaf(I),M=s(R,2),U=M[0],z=M[1];if(U==null)return null;var G=U.position(z,!0),F=s(G,2);D=F[0],z=F[1];var W=document.createRange();if(j>0){W.setStart(D,z);var O=this.scroll.leaf(I+j),P=s(O,2);if(U=P[0],z=P[1],U==null)return null;var B=U.position(z,!0),K=s(B,2);return D=K[0],z=K[1],W.setEnd(D,z),W.getBoundingClientRect()}else{var Q="left",L=void 0;return D instanceof Text?(z<D.data.length?(W.setStart(D,z),W.setEnd(D,z+1)):(W.setStart(D,z-1),W.setEnd(D,z),Q="right"),L=W.getBoundingClientRect()):(L=U.domNode.getBoundingClientRect(),z>0&&(Q="right")),{bottom:L.top+L.height,height:L.height,left:L[Q],right:L[Q],top:L.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var j=I.getRangeAt(0);if(j==null)return null;var E=this.normalizeNative(j);return w.info("getNativeRange",E),E}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var j=this.normalizedToRange(I);return[j,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var j=this,E=[[I.start.node,I.start.offset]];I.native.collapsed||E.push([I.end.node,I.end.offset]);var D=E.map(function(U){var z=s(U,2),G=z[0],F=z[1],W=c.default.find(G,!0),O=W.offset(j.scroll);return F===0?O:W instanceof c.default.Container?O+W.length():O+W.index(G,F)}),R=Math.min(Math.max.apply(Math,g(D)),this.scroll.length()-1),M=Math.min.apply(Math,[R].concat(g(D)));return new T(M,R-M)}},{key:"normalizeNative",value:function(I){if(!_(this.root,I.startContainer)||!I.collapsed&&!_(this.root,I.endContainer))return null;var j={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[j.start,j.end].forEach(function(E){for(var D=E.node,R=E.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>R)D=D.childNodes[R],R=0;else if(D.childNodes.length===R)D=D.lastChild,R=D instanceof Text?D.data.length:D.childNodes.length+1;else break;E.node=D,E.offset=R}),j}},{key:"rangeToNative",value:function(I){var j=this,E=I.collapsed?[I.index]:[I.index,I.index+I.length],D=[],R=this.scroll.length();return E.forEach(function(M,U){M=Math.min(R-1,M);var z=void 0,G=j.scroll.leaf(M),F=s(G,2),W=F[0],O=F[1],P=W.position(O,U!==0),B=s(P,2);z=B[0],O=B[1],D.push(z,O)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(I){var j=this.lastRange;if(j!=null){var E=this.getBounds(j.index,j.length);if(E!=null){var D=this.scroll.length()-1,R=this.scroll.line(Math.min(j.index,D)),M=s(R,1),U=M[0],z=U;if(j.length>0){var G=this.scroll.line(Math.min(j.index+j.length,D)),F=s(G,1);z=F[0]}if(!(U==null||z==null)){var W=I.getBoundingClientRect();E.top<W.top?I.scrollTop-=W.top-E.top:E.bottom>W.bottom&&(I.scrollTop+=E.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(I,j){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",I,j,E,D),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||E.parentNode==null))){var M=document.getSelection();if(M!=null)if(I!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||R||I!==U.startContainer||j!==U.startOffset||E!==U.endContainer||D!==U.endOffset){I.tagName=="BR"&&(j=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),E.tagName=="BR"&&(D=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var z=document.createRange();z.setStart(I,j),z.setEnd(E,D),M.removeAllRanges(),M.addRange(z)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof j=="string"&&(E=j,j=!1),w.info("setRange",I),I!=null){var D=this.rangeToNative(I);this.setNativeRange.apply(this,g(D).concat([j]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,j=this.lastRange,E=this.getRange(),D=s(E,2),R=D[0],M=D[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(j,this.lastRange)){var U;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[y.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(j),I];if((U=this.emitter).emit.apply(U,[y.default.events.EDITOR_CHANGE].concat(z)),I!==y.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,z)}}}}]),N}();function _(N,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),N.contains(C)}r.Range=T,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,x,v){return x&&y(m.prototype,x),v&&y(m,v),m}}(),o=function y(m,x,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,x);if(g===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,v)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(v)}},l=i(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"insertInto",value:function(v,g){v.children.length===0?o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(c.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){f(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),l=i(30),c=i(1),u=function(f){s(h,f);function h(p){var y=f.call(this,p)||this;return y.build(),y}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var m=d(y);p.insertBefore(m,p.children.head||void 0)}catch(x){if(x instanceof c.ParchmentError)return;throw x}})},h.prototype.deleteAt=function(p,y){if(p===0&&y===this.length())return this.remove();this.children.forEachAt(p,y,function(m,x,v){m.deleteAt(x,v)})},h.prototype.descendant=function(p,y){var m=this.children.find(y),x=m[0],v=m[1];return p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p?[x,v]:x instanceof h?x.descendant(p,v):[null,-1]},h.prototype.descendants=function(p,y,m){y===void 0&&(y=0),m===void 0&&(m=Number.MAX_VALUE);var x=[],v=m;return this.children.forEachAt(y,m,function(g,b,w){(p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p)&&x.push(g),g instanceof h&&(x=x.concat(g.descendants(p,b,v))),v-=w}),x},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,y,m,x){this.children.forEachAt(p,y,function(v,g,b){v.formatAt(g,b,m,x)})},h.prototype.insertAt=function(p,y,m){var x=this.children.find(p),v=x[0],g=x[1];if(v)v.insertAt(g,y,m);else{var b=m==null?c.create("text",y):c.create(y,m);this.appendChild(b)}},h.prototype.insertBefore=function(p,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return p instanceof m}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,y)},h.prototype.length=function(){return this.children.reduce(function(p,y){return p+y.length()},0)},h.prototype.moveChildren=function(p,y){this.children.forEach(function(m){p.insertBefore(m,y)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var y=c.create(this.statics.defaultChild);this.appendChild(y),y.optimize(p)}else this.remove()},h.prototype.path=function(p,y){y===void 0&&(y=!1);var m=this.children.find(p,y),x=m[0],v=m[1],g=[[this,p]];return x instanceof h?g.concat(x.path(v,y)):(x!=null&&g.push([x,v]),g)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,y){if(y===void 0&&(y=!1),!y){if(p===0)return this;if(p===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(p,this.length(),function(x,v,g){x=x.split(v,y),m.appendChild(x)}),m},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,y){var m=this,x=[],v=[];p.forEach(function(g){g.target===m.domNode&&g.type==="childList"&&(x.push.apply(x,g.addedNodes),v.push.apply(v,g.removedNodes))}),v.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=c.find(g);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),x.filter(function(g){return g.parentNode==m.domNode}).sort(function(g,b){return g===b?0:g.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var b=null;g.nextSibling!=null&&(b=c.find(g.nextSibling));var w=d(g);(w.next!=b||w.next==null)&&(w.parent!=null&&w.parent.removeChild(m),m.insertBefore(w,b||void 0))})},h}(l.default);function d(f){var h=c.find(f);if(h==null)try{h=c.create(f)}catch{h=c.create(c.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(y){h.domNode.appendChild(y)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){f(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),l=i(31),c=i(17),u=i(1),d=function(f){s(h,f);function h(p){var y=f.call(this,p)||this;return y.attributes=new l.default(y.domNode),y}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,y){var m=u.query(p);m instanceof o.default?this.attributes.attribute(m,y):y&&m!=null&&(p!==this.statics.blotName||this.formats()[p]!==y)&&this.replaceWith(p,y)},h.prototype.formats=function(){var p=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(p[this.statics.blotName]=y),p},h.prototype.replaceWith=function(p,y){var m=f.prototype.replaceWith.call(this,p,y);return this.attributes.copy(m),m},h.prototype.update=function(p,y){var m=this;f.prototype.update.call(this,p,y),p.some(function(x){return x.target===m.domNode&&x.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,y){var m=f.prototype.wrap.call(this,p,y);return m instanceof h&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},h}(c.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),l=i(1),c=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},d.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=l.Scope.INLINE_BLOT,d}(o.default);r.default=c},function(n,r,i){var s=i(11),o=i(3),l={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=o(!0,{},d);f||(h=Object.keys(h).reduce(function(y,m){return h[m]!=null&&(y[m]=h[m]),y},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(h,p){return s(u[p],d[p])||(h[p]=d[p]===void 0?null:d[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var h=Object.keys(d).reduce(function(p,y){return u[y]===void 0&&(p[y]=d[y]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,h=l.length(d);if(u>=h-f?(u=h-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(f,u):p.insert=d.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(h)}else return[]},n.exports=l},function(n,r){var i=function(){function s(m,x){return x!=null&&m instanceof x}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(m,x,v,g,b){typeof x=="object"&&(v=x.depth,g=x.prototype,b=x.includeNonEnumerable,x=x.circular);var w=[],T=[],k=typeof Buffer<"u";typeof x>"u"&&(x=!0),typeof v>"u"&&(v=1/0);function _(N,C){if(N===null)return null;if(C===0)return N;var I,j;if(typeof N!="object")return N;if(s(N,o))I=new o;else if(s(N,l))I=new l;else if(s(N,c))I=new c(function(W,O){N.then(function(P){W(_(P,C-1))},function(P){O(_(P,C-1))})});else if(u.__isArray(N))I=[];else if(u.__isRegExp(N))I=new RegExp(N.source,y(N)),N.lastIndex&&(I.lastIndex=N.lastIndex);else if(u.__isDate(N))I=new Date(N.getTime());else{if(k&&Buffer.isBuffer(N))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(N.length):I=new Buffer(N.length),N.copy(I),I;s(N,Error)?I=Object.create(N):typeof g>"u"?(j=Object.getPrototypeOf(N),I=Object.create(j)):(I=Object.create(g),j=g)}if(x){var E=w.indexOf(N);if(E!=-1)return T[E];w.push(N),T.push(I)}s(N,o)&&N.forEach(function(W,O){var P=_(O,C-1),B=_(W,C-1);I.set(P,B)}),s(N,l)&&N.forEach(function(W){var O=_(W,C-1);I.add(O)});for(var D in N){var R;j&&(R=Object.getOwnPropertyDescriptor(j,D)),!(R&&R.set==null)&&(I[D]=_(N[D],C-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(N),D=0;D<M.length;D++){var U=M[D],z=Object.getOwnPropertyDescriptor(N,U);z&&!z.enumerable&&!b||(I[U]=_(N[U],C-1),z.enumerable||Object.defineProperty(I,U,{enumerable:!1}))}if(b)for(var G=Object.getOwnPropertyNames(N),D=0;D<G.length;D++){var F=G[D],z=Object.getOwnPropertyDescriptor(N,F);z&&z.enumerable||(I[F]=_(N[F],C-1),Object.defineProperty(I,F,{enumerable:!1}))}return I}return _(m,v)}u.clonePrototype=function(x){if(x===null)return null;var v=function(){};return v.prototype=x,new v};function d(m){return Object.prototype.toString.call(m)}u.__objToStr=d;function f(m){return typeof m=="object"&&d(m)==="[object Date]"}u.__isDate=f;function h(m){return typeof m=="object"&&d(m)==="[object Array]"}u.__isArray=h;function p(m){return typeof m=="object"&&d(m)==="[object RegExp]"}u.__isRegExp=p;function y(m){var x="";return m.global&&(x+="g"),m.ignoreCase&&(x+="i"),m.multiline&&(x+="m"),x}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(j,E){var D=[],R=!0,M=!1,U=void 0;try{for(var z=j[Symbol.iterator](),G;!(R=(G=z.next()).done)&&(D.push(G.value),!(E&&D.length===E));R=!0);}catch(F){M=!0,U=F}finally{try{!R&&z.return&&z.return()}finally{if(M)throw U}}return D}return function(j,E){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return I(j,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(j,E){for(var D=0;D<E.length;D++){var R=E[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(j,R.key,R)}}return function(j,E,D){return E&&I(j.prototype,E),D&&I(j,D),j}}(),l=function I(j,E,D){j===null&&(j=Function.prototype);var R=Object.getOwnPropertyDescriptor(j,E);if(R===void 0){var M=Object.getPrototypeOf(j);return M===null?void 0:I(M,E,D)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(D)}},c=i(0),u=w(c),d=i(8),f=w(d),h=i(4),p=w(h),y=i(16),m=w(y),x=i(13),v=w(x),g=i(25),b=w(g);function w(I){return I&&I.__esModule?I:{default:I}}function T(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function k(I,j){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:I}function _(I,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(I,j):I.__proto__=j)}function N(I){return I instanceof p.default||I instanceof h.BlockEmbed}var C=function(I){_(j,I);function j(E,D){T(this,j);var R=k(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E));return R.emitter=D.emitter,Array.isArray(D.whitelist)&&(R.whitelist=D.whitelist.reduce(function(M,U){return M[U]=!0,M},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return o(j,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,R){var M=this.line(D),U=s(M,2),z=U[0],G=U[1],F=this.line(D+R),W=s(F,1),O=W[0];if(l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"deleteAt",this).call(this,D,R),O!=null&&z!==O&&G>0){if(z instanceof h.BlockEmbed||O instanceof h.BlockEmbed){this.optimize();return}if(z instanceof v.default){var P=z.newlineIndex(z.length(),!0);if(P>-1&&(z=z.split(P+1),z===O)){this.optimize();return}}else if(O instanceof v.default){var B=O.newlineIndex(0);B>-1&&O.split(B+1)}var K=O.children.head instanceof m.default?null:O.children.head;z.moveChildren(O,K),z.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,R,M,U){this.whitelist!=null&&!this.whitelist[M]||(l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"formatAt",this).call(this,D,R,M,U),this.optimize())}},{key:"insertAt",value:function(D,R,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[R])){if(D>=this.length())if(M==null||u.default.query(R,u.default.Scope.BLOCK)==null){var U=u.default.create(this.statics.defaultChild);this.appendChild(U),M==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),U.insertAt(0,R,M)}else{var z=u.default.create(R,M);this.appendChild(z)}else l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,D,R,M);this.optimize()}}},{key:"insertBefore",value:function(D,R){if(D.statics.scope===u.default.Scope.INLINE_BLOT){var M=u.default.create(this.statics.defaultChild);M.appendChild(D),D=M}l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,D,R)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(N,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function U(z,G,F){var W=[],O=F;return z.children.forEachAt(G,F,function(P,B,K){N(P)?W.push(P):P instanceof u.default.Container&&(W=W.concat(U(P,B,O))),O-=K}),W};return M(this,D,R)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,D,R),D.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,D,R))}},{key:"path",value:function(D){return l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var R=f.default.sources.USER;typeof D=="string"&&(R=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,R,D),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,R,D)}}}]),j}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,h.BlockEmbed,b.default],r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},o=function(){function L(ee,ge){var he=[],be=!0,Oe=!1,Z=void 0;try{for(var Ie=ee[Symbol.iterator](),V;!(be=(V=Ie.next()).done)&&(he.push(V.value),!(ge&&he.length===ge));be=!0);}catch(ke){Oe=!0,Z=ke}finally{try{!be&&Ie.return&&Ie.return()}finally{if(Oe)throw Z}}return he}return function(ee,ge){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return L(ee,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function L(ee,ge){for(var he=0;he<ge.length;he++){var be=ge[he];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ee,be.key,be)}}return function(ee,ge,he){return ge&&L(ee.prototype,ge),he&&L(ee,he),ee}}(),c=i(21),u=I(c),d=i(11),f=I(d),h=i(3),p=I(h),y=i(2),m=I(y),x=i(20),v=I(x),g=i(0),b=I(g),w=i(5),T=I(w),k=i(10),_=I(k),N=i(9),C=I(N);function I(L){return L&&L.__esModule?L:{default:L}}function j(L,ee,ge){return ee in L?Object.defineProperty(L,ee,{value:ge,enumerable:!0,configurable:!0,writable:!0}):L[ee]=ge,L}function E(L,ee){if(!(L instanceof ee))throw new TypeError("Cannot call a class as a function")}function D(L,ee){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:L}function R(L,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);L.prototype=Object.create(ee&&ee.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(L,ee):L.__proto__=ee)}var M=(0,_.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function(L){R(ee,L),l(ee,null,[{key:"match",value:function(he,be){return be=Q(be),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Oe){return!!be[Oe]!==he[Oe]&&be[Oe]!==null})?!1:be.key===(he.which||he.keyCode)}}]);function ee(ge,he){E(this,ee);var be=D(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,ge,he));return be.bindings={},Object.keys(be.options.bindings).forEach(function(Oe){Oe==="list autofill"&&ge.scroll.whitelist!=null&&!ge.scroll.whitelist.list||be.options.bindings[Oe]&&be.addBinding(be.options.bindings[Oe])}),be.addBinding({key:ee.keys.ENTER,shiftKey:null},P),be.addBinding({key:ee.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(be.addBinding({key:ee.keys.BACKSPACE},{collapsed:!0},F),be.addBinding({key:ee.keys.DELETE},{collapsed:!0},W)):(be.addBinding({key:ee.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),be.addBinding({key:ee.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),be.addBinding({key:ee.keys.BACKSPACE},{collapsed:!1},O),be.addBinding({key:ee.keys.DELETE},{collapsed:!1},O),be.addBinding({key:ee.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),be.listen(),be}return l(ee,[{key:"addBinding",value:function(he){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=Q(he);if(Z==null||Z.key==null)return M.warn("Attempted to add invalid keyboard binding",Z);typeof be=="function"&&(be={handler:be}),typeof Oe=="function"&&(Oe={handler:Oe}),Z=(0,p.default)(Z,be,Oe),this.bindings[Z.key]=this.bindings[Z.key]||[],this.bindings[Z.key].push(Z)}},{key:"listen",value:function(){var he=this;this.quill.root.addEventListener("keydown",function(be){if(!be.defaultPrevented){var Oe=be.which||be.keyCode,Z=(he.bindings[Oe]||[]).filter(function(Fe){return ee.match(be,Fe)});if(Z.length!==0){var Ie=he.quill.getSelection();if(!(Ie==null||!he.quill.hasFocus())){var V=he.quill.getLine(Ie.index),ke=o(V,2),xe=ke[0],re=ke[1],J=he.quill.getLeaf(Ie.index),pe=o(J,2),Y=pe[0],le=pe[1],te=Ie.length===0?[Y,le]:he.quill.getLeaf(Ie.index+Ie.length),oe=o(te,2),ae=oe[0],fe=oe[1],Ae=Y instanceof b.default.Text?Y.value().slice(0,le):"",Me=ae instanceof b.default.Text?ae.value().slice(fe):"",Ve={collapsed:Ie.length===0,empty:Ie.length===0&&xe.length()<=1,format:he.quill.getFormat(Ie),offset:re,prefix:Ae,suffix:Me},ot=Z.some(function(Fe){if(Fe.collapsed!=null&&Fe.collapsed!==Ve.collapsed||Fe.empty!=null&&Fe.empty!==Ve.empty||Fe.offset!=null&&Fe.offset!==Ve.offset)return!1;if(Array.isArray(Fe.format)){if(Fe.format.every(function(je){return Ve.format[je]==null}))return!1}else if(s(Fe.format)==="object"&&!Object.keys(Fe.format).every(function(je){return Fe.format[je]===!0?Ve.format[je]!=null:Fe.format[je]===!1?Ve.format[je]==null:(0,f.default)(Fe.format[je],Ve.format[je])}))return!1;return Fe.prefix!=null&&!Fe.prefix.test(Ve.prefix)||Fe.suffix!=null&&!Fe.suffix.test(Ve.suffix)?!1:Fe.handler.call(he,Ie,Ve)!==!0});ot&&be.preventDefault()}}}})}}]),ee}(C.default);z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},z.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:z.keys.TAB,format:["blockquote","indent","list"],handler:function(ee,ge){if(ge.collapsed&&ge.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ee,ge){if(ge.collapsed&&ge.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ee,ge){ge.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):ge.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ee){this.quill.deleteText(ee.index-1,1,T.default.sources.USER)}},tab:{key:z.keys.TAB,handler:function(ee){this.quill.history.cutoff();var ge=new m.default().retain(ee.index).delete(ee.length).insert("	");this.quill.updateContents(ge,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ee.index+1,T.default.sources.SILENT)}},"list empty enter":{key:z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ee,ge){this.quill.format("list",!1,T.default.sources.USER),ge.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ee){var ge=this.quill.getLine(ee.index),he=o(ge,2),be=he[0],Oe=he[1],Z=(0,p.default)({},be.formats(),{list:"checked"}),Ie=new m.default().retain(ee.index).insert(`
`,Z).retain(be.length()-Oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ie,T.default.sources.USER),this.quill.setSelection(ee.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ee,ge){var he=this.quill.getLine(ee.index),be=o(he,2),Oe=be[0],Z=be[1],Ie=new m.default().retain(ee.index).insert(`
`,ge.format).retain(Oe.length()-Z-1).retain(1,{header:null});this.quill.updateContents(Ie,T.default.sources.USER),this.quill.setSelection(ee.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ee,ge){var he=ge.prefix.length,be=this.quill.getLine(ee.index),Oe=o(be,2),Z=Oe[0],Ie=Oe[1];if(Ie>he)return!0;var V=void 0;switch(ge.prefix.trim()){case"[]":case"[ ]":V="unchecked";break;case"[x]":V="checked";break;case"-":case"*":V="bullet";break;default:V="ordered"}this.quill.insertText(ee.index," ",T.default.sources.USER),this.quill.history.cutoff();var ke=new m.default().retain(ee.index-Ie).delete(he+1).retain(Z.length()-2-Ie).retain(1,{list:V});this.quill.updateContents(ke,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ee.index-he,T.default.sources.SILENT)}},"code exit":{key:z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ee){var ge=this.quill.getLine(ee.index),he=o(ge,2),be=he[0],Oe=he[1],Z=new m.default().retain(ee.index+be.length()-Oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Z,T.default.sources.USER)}},"embed left":G(z.keys.LEFT,!1),"embed left shift":G(z.keys.LEFT,!0),"embed right":G(z.keys.RIGHT,!1),"embed right shift":G(z.keys.RIGHT,!0)}};function G(L,ee){var ge,he=L===z.keys.LEFT?"prefix":"suffix";return ge={key:L,shiftKey:ee,altKey:null},j(ge,he,/^$/),j(ge,"handler",function(Oe){var Z=Oe.index;L===z.keys.RIGHT&&(Z+=Oe.length+1);var Ie=this.quill.getLeaf(Z),V=o(Ie,1),ke=V[0];return ke instanceof b.default.Embed?(L===z.keys.LEFT?ee?this.quill.setSelection(Oe.index-1,Oe.length+1,T.default.sources.USER):this.quill.setSelection(Oe.index-1,T.default.sources.USER):ee?this.quill.setSelection(Oe.index,Oe.length+1,T.default.sources.USER):this.quill.setSelection(Oe.index+Oe.length+1,T.default.sources.USER),!1):!0}),ge}function F(L,ee){if(!(L.index===0||this.quill.getLength()<=1)){var ge=this.quill.getLine(L.index),he=o(ge,1),be=he[0],Oe={};if(ee.offset===0){var Z=this.quill.getLine(L.index-1),Ie=o(Z,1),V=Ie[0];if(V!=null&&V.length()>1){var ke=be.formats(),xe=this.quill.getFormat(L.index-1,1);Oe=v.default.attributes.diff(ke,xe)||{}}}var re=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ee.prefix)?2:1;this.quill.deleteText(L.index-re,re,T.default.sources.USER),Object.keys(Oe).length>0&&this.quill.formatLine(L.index-re,re,Oe,T.default.sources.USER),this.quill.focus()}}function W(L,ee){var ge=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ee.suffix)?2:1;if(!(L.index>=this.quill.getLength()-ge)){var he={},be=0,Oe=this.quill.getLine(L.index),Z=o(Oe,1),Ie=Z[0];if(ee.offset>=Ie.length()-1){var V=this.quill.getLine(L.index+1),ke=o(V,1),xe=ke[0];if(xe){var re=Ie.formats(),J=this.quill.getFormat(L.index,1);he=v.default.attributes.diff(re,J)||{},be=xe.length()}}this.quill.deleteText(L.index,ge,T.default.sources.USER),Object.keys(he).length>0&&this.quill.formatLine(L.index+be-1,ge,he,T.default.sources.USER)}}function O(L){var ee=this.quill.getLines(L),ge={};if(ee.length>1){var he=ee[0].formats(),be=ee[ee.length-1].formats();ge=v.default.attributes.diff(be,he)||{}}this.quill.deleteText(L,T.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(L.index,1,ge,T.default.sources.USER),this.quill.setSelection(L.index,T.default.sources.SILENT),this.quill.focus()}function P(L,ee){var ge=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var he=Object.keys(ee.format).reduce(function(be,Oe){return b.default.query(Oe,b.default.Scope.BLOCK)&&!Array.isArray(ee.format[Oe])&&(be[Oe]=ee.format[Oe]),be},{});this.quill.insertText(L.index,`
`,he,T.default.sources.USER),this.quill.setSelection(L.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(ee.format).forEach(function(be){he[be]==null&&(Array.isArray(ee.format[be])||be!=="link"&&ge.quill.format(be,ee.format[be],T.default.sources.USER))})}function B(L){return{key:z.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(ge){var he=b.default.query("code-block"),be=ge.index,Oe=ge.length,Z=this.quill.scroll.descendant(he,be),Ie=o(Z,2),V=Ie[0],ke=Ie[1];if(V!=null){var xe=this.quill.getIndex(V),re=V.newlineIndex(ke,!0)+1,J=V.newlineIndex(xe+ke+Oe),pe=V.domNode.textContent.slice(re,J).split(`
`);ke=0,pe.forEach(function(Y,le){L?(V.insertAt(re+ke,he.TAB),ke+=he.TAB.length,le===0?be+=he.TAB.length:Oe+=he.TAB.length):Y.startsWith(he.TAB)&&(V.deleteAt(re+ke,he.TAB.length),ke-=he.TAB.length,le===0?be-=he.TAB.length:Oe-=he.TAB.length),ke+=Y.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(be,Oe,T.default.sources.SILENT)}}}}function K(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(ge,he){this.quill.format(L,!he.format[L],T.default.sources.USER)}}}function Q(L){if(typeof L=="string"||typeof L=="number")return Q({key:L});if((typeof L>"u"?"undefined":s(L))==="object"&&(L=(0,u.default)(L,!1)),typeof L.key=="string")if(z.keys[L.key.toUpperCase()]!=null)L.key=z.keys[L.key.toUpperCase()];else if(L.key.length===1)L.key=L.key.toUpperCase().charCodeAt(0);else return null;return L.shortKey&&(L[U]=L.shortKey,delete L.shortKey),L}r.default=z,r.SHORTKEY=U},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(g,b){var w=[],T=!0,k=!1,_=void 0;try{for(var N=g[Symbol.iterator](),C;!(T=(C=N.next()).done)&&(w.push(C.value),!(b&&w.length===b));T=!0);}catch(I){k=!0,_=I}finally{try{!T&&N.return&&N.return()}finally{if(k)throw _}}return w}return function(g,b){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return v(g,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function v(g,b,w){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,b);if(T===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:v(k,b,w)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(w)}},l=function(){function v(g,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}}(),c=i(0),u=h(c),d=i(7),f=h(d);function h(v){return v&&v.__esModule?v:{default:v}}function p(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function y(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var x=function(v){m(g,v),l(g,null,[{key:"value",value:function(){}}]);function g(b,w){p(this,g);var T=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return T.selection=w,T.textNode=document.createTextNode(g.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return l(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,T){if(this._length!==0)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,T);for(var k=this,_=0;k!=null&&k.statics.scope!==u.default.Scope.BLOCK_BLOT;)_+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=g.CONTENTS.length,k.optimize(),k.formatAt(_,g.CONTENTS.length,w,T),this._length=0)}},{key:"index",value:function(w,T){return w===this.textNode?0:o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,w,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,T=this.selection.getNativeRange(),k=void 0,_=void 0,N=void 0;if(T!=null&&T.start.node===w&&T.end.node===w){var C=[w,T.start.offset,T.end.offset];k=C[0],_=C[1],N=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var I=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(k=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=g.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var j=[_,N].map(function(D){return Math.max(0,Math.min(k.data.length,D-1))}),E=s(j,2);return _=E[0],N=E[1],{startNode:k,startOffset:_,endNode:k,endOffset:N}}}}},{key:"update",value:function(w,T){var k=this;if(w.some(function(N){return N.type==="characterData"&&N.target===k.textNode})){var _=this.restore();_&&(T.range=_)}}},{key:"value",value:function(){return""}}]),g}(u.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=u(s),l=i(4),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function x(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&x(v.prototype,g),b&&x(v,b),v}}(),o=function x(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:x(T,g,b)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(b)}},l=i(0),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function d(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function f(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function h(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var p=function(x){h(v,x);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(b){var w=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):w}}]),v}(c.default.Attributor.Style),y=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),m=new p("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=y,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function m(x,v){for(var g=0;g<v.length;g++){var b=v[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,v,g){return v&&m(x.prototype,v),g&&m(x,g),x}}(),o=function m(x,v,g){x===null&&(x=Function.prototype);var b=Object.getOwnPropertyDescriptor(x,v);if(b===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:m(w,v,g)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(g)}},l=i(6),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function f(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function h(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var p=function(m){h(x,m);function x(){return d(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"format",value:function(g,b){if(g!==this.statics.blotName||!b)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,g,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(g){var b=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,g);return g=this.sanitize(g),b.setAttribute("href",g),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return y(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),x}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(m,x){var v=document.createElement("a");v.href=m;var g=v.href.slice(0,v.href.indexOf(":"));return x.indexOf(g)>-1}r.default=p,r.sanitize=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o=function(){function x(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&x(v.prototype,g),b&&x(v,b),v}}(),l=i(23),c=f(l),u=i(107),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}var p=0;function y(x,v){x.setAttribute(v,x.getAttribute(v)!=="true")}var m=function(){function x(v){var g=this;h(this,x),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case c.default.keys.ENTER:g.togglePicker();break;case c.default.keys.ESCAPE:g.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var b=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),g.hasAttribute("value")&&w.setAttribute("data-value",g.getAttribute("value")),g.textContent&&w.setAttribute("data-label",g.textContent),w.addEventListener("click",function(){b.selectItem(w,!0)}),w.addEventListener("keydown",function(T){switch(T.keyCode){case c.default.keys.ENTER:b.selectItem(w,!0),T.preventDefault();break;case c.default.keys.ESCAPE:b.escape(),T.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=d.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(w){var T=g.buildItem(w);b.appendChild(T),w.selected===!0&&g.selectItem(T)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(b){g.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(g!==w&&(w!=null&&w.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var w=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),x}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=M(s),l=i(5),c=M(l),u=i(4),d=M(u),f=i(16),h=M(f),p=i(25),y=M(p),m=i(24),x=M(m),v=i(35),g=M(v),b=i(6),w=M(b),T=i(22),k=M(T),_=i(7),N=M(_),C=i(55),I=M(C),j=i(42),E=M(j),D=i(23),R=M(D);function M(U){return U&&U.__esModule?U:{default:U}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":y.default,"blots/cursor":x.default,"blots/embed":g.default,"blots/inline":w.default,"blots/scroll":k.default,"blots/text":N.default,"modules/clipboard":I.default,"modules/history":E.default,"modules/keyboard":R.default}),o.default.register(d.default,h.default,x.default,w.default,k.default,N.default),r.default=c.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function l(c){this.domNode=c,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return s.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},l.prototype.formatAt=function(c,u,d,f){var h=this.isolate(c,u);if(s.query(d,s.Scope.BLOT)!=null&&f)h.wrap(d,f);else if(s.query(d,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(d,f)}},l.prototype.insertAt=function(c,u,d){var f=d==null?s.create("text",u):s.create(u,d),h=this.split(c);this.parent.insertBefore(f,h)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var d=typeof c=="string"?s.create(c,u):c;return d.replace(this),d},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var d=typeof c=="string"?s.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),l=i(33),c=i(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=o.default.keys(this.domNode),y=l.default.keys(this.domNode);h.concat(p).concat(y).forEach(function(m){var x=c.query(m,c.Scope.ATTRIBUTE);x instanceof s.default&&(f.attributes[x.attrName]=x)})},d.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var y=h.attributes[p].value(h.domNode);f.format(p,y)})},d.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},d}();r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function l(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(d+"-")===0})}var c=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},d.prototype.remove=function(f){var h=l(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var h=l(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},d}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function l(u){var d=u.split("-"),f=d.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return d[0]+f}var c=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[l(this.keyName)]=h,!0):!1},d.prototype.remove=function(f){f.style[l(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var h=f.style[l(this.keyName)];return this.canAdd(f,h)?h:""},d}(o.default);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function c(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&c(u.prototype,d),f&&c(u,f),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){o(this,c),this.quill=u,this.options=d,this.modules={}}return s(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(g,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}}(),o=function v(g,b,w){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,b);if(T===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:v(k,b,w)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(w)}},l=i(0),c=f(l),u=i(7),d=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function p(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function y(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var m="\uFEFF",x=function(v){y(g,v);function g(b){h(this,g);var w=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(T){w.contentNode.appendChild(T)}),w.leftGuard=document.createTextNode(m),w.rightGuard=document.createTextNode(m),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return s(g,[{key:"index",value:function(w,T){return w===this.leftGuard?0:w===this.rightGuard?1:o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,w,T)}},{key:"restore",value:function(w){var T=void 0,k=void 0,_=w.data.split(m).join("");if(w===this.leftGuard)if(this.prev instanceof d.default){var N=this.prev.length();this.prev.insertAt(N,_),T={startNode:this.prev.domNode,startOffset:N+_.length}}else k=document.createTextNode(_),this.parent.insertBefore(c.default.create(k),this),T={startNode:k,startOffset:_.length};else w===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,_),T={startNode:this.next.domNode,startOffset:_.length}):(k=document.createTextNode(_),this.parent.insertBefore(c.default.create(k),this.next),T={startNode:k,startOffset:_.length}));return w.data=m,T}},{key:"update",value:function(w,T){var k=this;w.forEach(function(_){if(_.type==="characterData"&&(_.target===k.leftGuard||_.target===k.rightGuard)){var N=k.restore(_.target);N&&(T.range=N)}})}}]),g}(c.default.Embed);r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),d=new o.default.Attributor.Class("align","ql-align",c),f=new o.default.Attributor.Style("align","text-align",c);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=c(s),l=i(26);function c(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),d=new o.default.Attributor.Class("direction","ql-direction",c),f=new o.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function v(g,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}}(),o=function v(g,b,w){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,b);if(T===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:v(k,b,w)}else{if("value"in T)return T.value;var _=T.get;return _===void 0?void 0:_.call(w)}},l=i(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new c.default.Attributor.Class("font","ql-font",p),m=function(v){h(g,v);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"value",value:function(w){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),g}(c.default.Attributor.Style),x=new m("font","font-family",p);r.FontStyle=x,r.FontClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function b(w,T){for(var k=0;k<T.length;k++){var _=T[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,T,k){return T&&b(w.prototype,T),k&&b(w,k),w}}(),o=i(0),l=h(o),c=i(5),u=h(c),d=i(9),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function y(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var x=function(b){m(w,b);function w(T,k){p(this,w);var _=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,k));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(u.default.events.EDITOR_CHANGE,function(N,C,I,j){N!==u.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||j===u.default.sources.USER?_.record(C,I):_.transform(C))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return s(w,[{key:"change",value:function(k,_){if(this.stack[k].length!==0){var N=this.stack[k].pop();this.stack[_].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[k],u.default.sources.USER),this.ignoreChange=!1;var C=g(N[k]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,_){if(k.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(_),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var I=this.stack.undo.pop();N=N.compose(I.undo),k=I.redo.compose(k)}else this.lastRecorded=C;this.stack.undo.push({redo:k,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(_){_.undo=k.transform(_.undo,!0),_.redo=k.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=k.transform(_.undo,!0),_.redo=k.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(f.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var w=b.ops[b.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(T){return l.default.query(T,l.default.Scope.BLOCK)!=null}):!1}function g(b){var w=b.reduce(function(k,_){return k+=_.delete||0,k},0),T=b.length()-w;return v(b)&&(T-=1),T}r.default=x,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function P(B,K){for(var Q=0;Q<K.length;Q++){var L=K[Q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(B,L.key,L)}}return function(B,K,Q){return K&&P(B.prototype,K),Q&&P(B,Q),B}}(),o=function P(B,K,Q){B===null&&(B=Function.prototype);var L=Object.getOwnPropertyDescriptor(B,K);if(L===void 0){var ee=Object.getPrototypeOf(B);return ee===null?void 0:P(ee,K,Q)}else{if("value"in L)return L.value;var ge=L.get;return ge===void 0?void 0:ge.call(Q)}},l=i(3),c=C(l),u=i(2),d=C(u),f=i(8),h=C(f),p=i(23),y=C(p),m=i(34),x=C(m),v=i(59),g=C(v),b=i(60),w=C(b),T=i(28),k=C(T),_=i(61),N=C(_);function C(P){return P&&P.__esModule?P:{default:P}}function I(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")}function j(P,B){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:P}function E(P,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);P.prototype=Object.create(B&&B.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(P,B):P.__proto__=B)}var D=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],U=["1","2","3",!1],z=["small",!1,"large","huge"],G=function(P){E(B,P);function B(K,Q){I(this,B);var L=j(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,Q)),ee=function ge(he){if(!document.body.contains(K.root))return document.body.removeEventListener("click",ge);L.tooltip!=null&&!L.tooltip.root.contains(he.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),L.pickers!=null&&L.pickers.forEach(function(be){be.container.contains(he.target)||be.close()})};return K.emitter.listenDOM("click",document.body,ee),L}return s(B,[{key:"addModule",value:function(Q){var L=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(Q,L){Q.forEach(function(ee){var ge=ee.getAttribute("class")||"";ge.split(/\s+/).forEach(function(he){if(he.startsWith("ql-")&&(he=he.slice(3),L[he]!=null))if(he==="direction")ee.innerHTML=L[he][""]+L[he].rtl;else if(typeof L[he]=="string")ee.innerHTML=L[he];else{var be=ee.value||"";be!=null&&L[he][be]&&(ee.innerHTML=L[he][be])}})})}},{key:"buildPickers",value:function(Q,L){var ee=this;this.pickers=Q.map(function(he){if(he.classList.contains("ql-align"))return he.querySelector("option")==null&&O(he,D),new w.default(he,L.align);if(he.classList.contains("ql-background")||he.classList.contains("ql-color")){var be=he.classList.contains("ql-background")?"background":"color";return he.querySelector("option")==null&&O(he,R,be==="background"?"#ffffff":"#000000"),new g.default(he,L[be])}else return he.querySelector("option")==null&&(he.classList.contains("ql-font")?O(he,M):he.classList.contains("ql-header")?O(he,U):he.classList.contains("ql-size")&&O(he,z)),new k.default(he)});var ge=function(){ee.pickers.forEach(function(be){be.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,ge)}}]),B}(x.default);G.DEFAULTS=(0,c.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var Q=new FileReader;Q.onload=function(L){var ee=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain(ee.index).delete(ee.length).insert({image:L.target.result}),h.default.sources.USER),B.quill.setSelection(ee.index+1,h.default.sources.SILENT),K.value=""},Q.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(P){E(B,P);function B(K,Q){I(this,B);var L=j(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,Q));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return s(B,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(L){y.default.match(L,"enter")?(Q.save(),L.preventDefault()):y.default.match(L,"escape")&&(Q.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),L!=null?this.textbox.value=L:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=L;break}case"video":Q=W(Q);case"formula":{if(!Q)break;var ee=this.quill.getSelection(!0);if(ee!=null){var ge=ee.index+ee.length;this.quill.insertEmbed(ge,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ge+1," ",h.default.sources.USER),this.quill.setSelection(ge+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(N.default);function W(P){var B=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":P}function O(P,B){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(Q){var L=document.createElement("option");Q===K?L.setAttribute("selected","selected"):L.setAttribute("value",Q),P.appendChild(L)})}r.BaseTooltip=F,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(l<f||c&&l===f&&(u.next==null||u.next.length()!==0))return[u,l];l-=f}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var d=this.find(l),f=d[0],h=d[1],p,y=l-h,m=this.iterator(f);(p=m())&&y<l+c;){var x=p.length();l>y?u(p,l-y,Math.min(c,y+x-l)):u(p,0,Math.min(x,l+c-y)),y+=x}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,d=this.iterator();u=d();)c=l(c,u);return c},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){f(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),l=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){s(h,f);function h(p){var y=f.call(this,p)||this;return y.scroll=y,y.observer=new MutationObserver(function(m){y.update(m)}),y.observer.observe(y.domNode,c),y.attach(),y}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,y){this.update(),p===0&&y===this.length()?this.children.forEach(function(m){m.remove()}):f.prototype.deleteAt.call(this,p,y)},h.prototype.formatAt=function(p,y,m,x){this.update(),f.prototype.formatAt.call(this,p,y,m,x)},h.prototype.insertAt=function(p,y,m){this.update(),f.prototype.insertAt.call(this,p,y,m)},h.prototype.optimize=function(p,y){var m=this;p===void 0&&(p=[]),y===void 0&&(y={}),f.prototype.optimize.call(this,y);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)p.push(x.pop());for(var v=function(T,k){k===void 0&&(k=!0),!(T==null||T===m)&&T.domNode.parentNode!=null&&(T.domNode[l.DATA_KEY].mutations==null&&(T.domNode[l.DATA_KEY].mutations=[]),k&&v(T.parent))},g=function(T){T.domNode[l.DATA_KEY]==null||T.domNode[l.DATA_KEY].mutations==null||(T instanceof o.default&&T.children.forEach(g),T.optimize(y))},b=p,w=0;b.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(T){var k=l.find(T.target,!0);k!=null&&(k.domNode===T.target&&(T.type==="childList"?(v(l.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(_){var N=l.find(_,!1);v(N,!1),N instanceof o.default&&N.children.forEach(function(C){v(C,!1)})})):T.type==="attributes"&&v(k.prev)),v(k))}),this.children.forEach(g),b=[].slice.call(this.observer.takeRecords()),x=b.slice();x.length>0;)p.push(x.pop())}},h.prototype.update=function(p,y){var m=this;y===void 0&&(y={}),p=p||this.observer.takeRecords(),p.map(function(x){var v=l.find(x.target,!0);return v==null?null:v.domNode[l.DATA_KEY].mutations==null?(v.domNode[l.DATA_KEY].mutations=[x],v):(v.domNode[l.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===m||x.domNode[l.DATA_KEY]==null||x.update(x.domNode[l.DATA_KEY].mutations||[],y)}),this.domNode[l.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,y),this.optimize(p,y)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),l=i(1);function c(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var h in d)if(d[h]!==f[h])return!1;return!0}var u=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return d.formats.call(this,h)},f.prototype.format=function(h,p){var y=this;h===this.statics.blotName&&!p?(this.children.forEach(function(m){m instanceof o.default||(m=m.wrap(f.blotName,!0)),y.attributes.copy(m)}),this.unwrap()):d.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,y,m){if(this.formats()[y]!=null||l.query(y,l.Scope.ATTRIBUTE)){var x=this.isolate(h,p);x.format(y,m)}else d.prototype.formatAt.call(this,h,p,y,m)},f.prototype.optimize=function(h){d.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var y=this.next;y instanceof f&&y.prev===this&&c(p,y.formats())&&(y.moveChildren(this),y.remove())},f.blotName="inline",f.scope=l.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),l=i(1),c=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var h=l.query(d.blotName).tagName;if(f.tagName!==h)return u.formats.call(this,f)},d.prototype.format=function(f,h){l.query(f,l.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(d.blotName):u.prototype.format.call(this,f,h))},d.prototype.formatAt=function(f,h,p,y){l.query(p,l.Scope.BLOCK)!=null?this.format(p,y):u.prototype.formatAt.call(this,f,h,p,y)},d.prototype.insertAt=function(f,h,p){if(p==null||l.query(h,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,h,p);else{var y=this.split(f),m=l.create(h,p);y.parent.insertBefore(m,y)}},d.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,h)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){c(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),l=function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){c.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,h,p){d===0&&f===this.length()?this.format(h,p):c.prototype.formatAt.call(this,d,f,h,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),l=i(1),c=function(u){s(d,u);function d(f){var h=u.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},d.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},d.prototype.index=function(f,h){return this.domNode===f?h:-1},d.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,h,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,h){return[this.domNode,f]},d.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=l.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(f,h){var p=this;f.some(function(y){return y.type==="characterData"&&y.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(o.default);r.default=c},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var d=u.indexOf(l,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],h,p=0;p<d;p++)if(h=u[p],c.call(f,h,p,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function l(w,T,k){if(w==T)return w?[[o,w]]:[];(k<0||w.length<k)&&(k=null);var _=f(w,T),N=w.substring(0,_);w=w.substring(_),T=T.substring(_),_=h(w,T);var C=w.substring(w.length-_);w=w.substring(0,w.length-_),T=T.substring(0,T.length-_);var I=c(w,T);return N&&I.unshift([o,N]),C&&I.push([o,C]),y(I),k!=null&&(I=v(I,k)),I=g(I),I}function c(w,T){var k;if(!w)return[[s,T]];if(!T)return[[i,w]];var _=w.length>T.length?w:T,N=w.length>T.length?T:w,C=_.indexOf(N);if(C!=-1)return k=[[s,_.substring(0,C)],[o,N],[s,_.substring(C+N.length)]],w.length>T.length&&(k[0][0]=k[2][0]=i),k;if(N.length==1)return[[i,w],[s,T]];var I=p(w,T);if(I){var j=I[0],E=I[1],D=I[2],R=I[3],M=I[4],U=l(j,D),z=l(E,R);return U.concat([[o,M]],z)}return u(w,T)}function u(w,T){for(var k=w.length,_=T.length,N=Math.ceil((k+_)/2),C=N,I=2*N,j=new Array(I),E=new Array(I),D=0;D<I;D++)j[D]=-1,E[D]=-1;j[C+1]=0,E[C+1]=0;for(var R=k-_,M=R%2!=0,U=0,z=0,G=0,F=0,W=0;W<N;W++){for(var O=-W+U;O<=W-z;O+=2){var P=C+O,B;O==-W||O!=W&&j[P-1]<j[P+1]?B=j[P+1]:B=j[P-1]+1;for(var K=B-O;B<k&&K<_&&w.charAt(B)==T.charAt(K);)B++,K++;if(j[P]=B,B>k)z+=2;else if(K>_)U+=2;else if(M){var Q=C+R-O;if(Q>=0&&Q<I&&E[Q]!=-1){var L=k-E[Q];if(B>=L)return d(w,T,B,K)}}}for(var ee=-W+G;ee<=W-F;ee+=2){var Q=C+ee,L;ee==-W||ee!=W&&E[Q-1]<E[Q+1]?L=E[Q+1]:L=E[Q-1]+1;for(var ge=L-ee;L<k&&ge<_&&w.charAt(k-L-1)==T.charAt(_-ge-1);)L++,ge++;if(E[Q]=L,L>k)F+=2;else if(ge>_)G+=2;else if(!M){var P=C+R-ee;if(P>=0&&P<I&&j[P]!=-1){var B=j[P],K=C+B-P;if(L=k-L,B>=L)return d(w,T,B,K)}}}}return[[i,w],[s,T]]}function d(w,T,k,_){var N=w.substring(0,k),C=T.substring(0,_),I=w.substring(k),j=T.substring(_),E=l(N,C),D=l(I,j);return E.concat(D)}function f(w,T){if(!w||!T||w.charAt(0)!=T.charAt(0))return 0;for(var k=0,_=Math.min(w.length,T.length),N=_,C=0;k<N;)w.substring(C,N)==T.substring(C,N)?(k=N,C=k):_=N,N=Math.floor((_-k)/2+k);return N}function h(w,T){if(!w||!T||w.charAt(w.length-1)!=T.charAt(T.length-1))return 0;for(var k=0,_=Math.min(w.length,T.length),N=_,C=0;k<N;)w.substring(w.length-N,w.length-C)==T.substring(T.length-N,T.length-C)?(k=N,C=k):_=N,N=Math.floor((_-k)/2+k);return N}function p(w,T){var k=w.length>T.length?w:T,_=w.length>T.length?T:w;if(k.length<4||_.length*2<k.length)return null;function N(z,G,F){for(var W=z.substring(F,F+Math.floor(z.length/4)),O=-1,P="",B,K,Q,L;(O=G.indexOf(W,O+1))!=-1;){var ee=f(z.substring(F),G.substring(O)),ge=h(z.substring(0,F),G.substring(0,O));P.length<ge+ee&&(P=G.substring(O-ge,O)+G.substring(O,O+ee),B=z.substring(0,F-ge),K=z.substring(F+ee),Q=G.substring(0,O-ge),L=G.substring(O+ee))}return P.length*2>=z.length?[B,K,Q,L,P]:null}var C=N(k,_,Math.ceil(k.length/4)),I=N(k,_,Math.ceil(k.length/2)),j;if(!C&&!I)return null;I?C?j=C[4].length>I[4].length?C:I:j=I:j=C;var E,D,R,M;w.length>T.length?(E=j[0],D=j[1],R=j[2],M=j[3]):(R=j[0],M=j[1],E=j[2],D=j[3]);var U=j[4];return[E,D,R,M,U]}function y(w){w.push([o,""]);for(var T=0,k=0,_=0,N="",C="",I;T<w.length;)switch(w[T][0]){case s:_++,C+=w[T][1],T++;break;case i:k++,N+=w[T][1],T++;break;case o:k+_>1?(k!==0&&_!==0&&(I=f(C,N),I!==0&&(T-k-_>0&&w[T-k-_-1][0]==o?w[T-k-_-1][1]+=C.substring(0,I):(w.splice(0,0,[o,C.substring(0,I)]),T++),C=C.substring(I),N=N.substring(I)),I=h(C,N),I!==0&&(w[T][1]=C.substring(C.length-I)+w[T][1],C=C.substring(0,C.length-I),N=N.substring(0,N.length-I))),k===0?w.splice(T-_,k+_,[s,C]):_===0?w.splice(T-k,k+_,[i,N]):w.splice(T-k-_,k+_,[i,N],[s,C]),T=T-k-_+(k?1:0)+(_?1:0)+1):T!==0&&w[T-1][0]==o?(w[T-1][1]+=w[T][1],w.splice(T,1)):T++,_=0,k=0,N="",C="";break}w[w.length-1][1]===""&&w.pop();var j=!1;for(T=1;T<w.length-1;)w[T-1][0]==o&&w[T+1][0]==o&&(w[T][1].substring(w[T][1].length-w[T-1][1].length)==w[T-1][1]?(w[T][1]=w[T-1][1]+w[T][1].substring(0,w[T][1].length-w[T-1][1].length),w[T+1][1]=w[T-1][1]+w[T+1][1],w.splice(T-1,1),j=!0):w[T][1].substring(0,w[T+1][1].length)==w[T+1][1]&&(w[T-1][1]+=w[T+1][1],w[T][1]=w[T][1].substring(w[T+1][1].length)+w[T+1][1],w.splice(T+1,1),j=!0)),T++;j&&y(w)}var m=l;m.INSERT=s,m.DELETE=i,m.EQUAL=o,n.exports=m;function x(w,T){if(T===0)return[o,w];for(var k=0,_=0;_<w.length;_++){var N=w[_];if(N[0]===i||N[0]===o){var C=k+N[1].length;if(T===C)return[_+1,w];if(T<C){w=w.slice();var I=T-k,j=[N[0],N[1].slice(0,I)],E=[N[0],N[1].slice(I)];return w.splice(_,1,j,E),[_+1,w]}else k=C}}throw new Error("cursor_pos is out of bounds!")}function v(w,T){var k=x(w,T),_=k[1],N=k[0],C=_[N],I=_[N+1];if(C==null)return w;if(C[0]!==o)return w;if(I!=null&&C[1]+I[1]===I[1]+C[1])return _.splice(N,2,I,C),b(_,N,2);if(I!=null&&I[1].indexOf(C[1])===0){_.splice(N,2,[I[0],C[1]],[0,C[1]]);var j=I[1].slice(C[1].length);return j.length>0&&_.splice(N+2,0,[I[0],j]),b(_,N,3)}else return w}function g(w){for(var T=!1,k=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},_=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},N=2;N<w.length;N+=1)w[N-2][0]===o&&_(w[N-2][1])&&w[N-1][0]===i&&k(w[N-1][1])&&w[N][0]===s&&k(w[N][1])&&(T=!0,w[N-1][1]=w[N-2][1].slice(-1)+w[N-1][1],w[N][1]=w[N-2][1].slice(-1)+w[N][1],w[N-2][1]=w[N-2][1].slice(0,-1));if(!T)return w;for(var C=[],N=0;N<w.length;N+=1)w[N][1].length>0&&C.push(w[N]);return C}function b(w,T,k){for(var _=T+k-1;_>=0&&_>=T-1;_--)if(_+1<w.length){var N=w[_],C=w[_+1];N[0]===C[1]&&w.splice(_,2,[N[0],N[1]+C[1]])}return w}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var l in s)o.push(l);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function l(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)i.call(f,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},c.prototype.listeners=function(d,f){var h=s?s+d:d,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var y=0,m=p.length,x=new Array(m);y<m;y++)x[y]=p[y].fn;return x},c.prototype.emit=function(d,f,h,p,y,m){var x=s?s+d:d;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,h),!0;case 4:return v.fn.call(v.context,f,h,p),!0;case 5:return v.fn.call(v.context,f,h,p,y),!0;case 6:return v.fn.call(v.context,f,h,p,y,m),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var T=v.length,k;for(w=0;w<T;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),g){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,f);break;case 3:v[w].fn.call(v[w].context,f,h);break;case 4:v[w].fn.call(v[w].context,f,h,p);break;default:if(!b)for(k=1,b=new Array(g-1);k<g;k++)b[k-1]=arguments[k];v[w].fn.apply(v[w].context,b)}}return!0},c.prototype.on=function(d,f,h){var p=new l(f,h||this),y=s?s+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.once=function(d,f,h){var p=new l(f,h||this,!0),y=s?s+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.removeListener=function(d,f,h,p){var y=s?s+d:d;if(!this._events[y])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[y],this;var m=this._events[y];if(m.fn)m.fn===f&&(!p||m.once)&&(!h||m.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[y]);else{for(var x=0,v=[],g=m.length;x<g;x++)(m[x].fn!==f||p&&!m[x].once||h&&m[x].context!==h)&&v.push(m[x]);v.length?this._events[y]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new o:delete this._events[y]}return this},c.prototype.removeAllListeners=function(d){var f;return d?(f=s?s+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=s,c.EventEmitter=c,typeof n<"u"&&(n.exports=c)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},o=function(){function J(pe,Y){var le=[],te=!0,oe=!1,ae=void 0;try{for(var fe=pe[Symbol.iterator](),Ae;!(te=(Ae=fe.next()).done)&&(le.push(Ae.value),!(Y&&le.length===Y));te=!0);}catch(Me){oe=!0,ae=Me}finally{try{!te&&fe.return&&fe.return()}finally{if(oe)throw ae}}return le}return function(pe,Y){if(Array.isArray(pe))return pe;if(Symbol.iterator in Object(pe))return J(pe,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function J(pe,Y){for(var le=0;le<Y.length;le++){var te=Y[le];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(pe,te.key,te)}}return function(pe,Y,le){return Y&&J(pe.prototype,Y),le&&J(pe,le),pe}}(),c=i(3),u=E(c),d=i(2),f=E(d),h=i(0),p=E(h),y=i(5),m=E(y),x=i(10),v=E(x),g=i(9),b=E(g),w=i(36),T=i(37),k=i(13),_=E(k),N=i(26),C=i(38),I=i(39),j=i(40);function E(J){return J&&J.__esModule?J:{default:J}}function D(J,pe,Y){return pe in J?Object.defineProperty(J,pe,{value:Y,enumerable:!0,configurable:!0,writable:!0}):J[pe]=Y,J}function R(J,pe){if(!(J instanceof pe))throw new TypeError("Cannot call a class as a function")}function M(J,pe){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:J}function U(J,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);J.prototype=Object.create(pe&&pe.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(J,pe):J.__proto__=pe)}var z=(0,v.default)("quill:clipboard"),G="__ql-matcher",F=[[Node.TEXT_NODE,re],[Node.TEXT_NODE,V],["br",Oe],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,ke],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,xe],["li",Ie],["b",ge.bind(ge,"bold")],["i",ge.bind(ge,"italic")],["style",Z]],W=[w.AlignAttribute,C.DirectionAttribute].reduce(function(J,pe){return J[pe.keyName]=pe,J},{}),O=[w.AlignStyle,T.BackgroundStyle,N.ColorStyle,C.DirectionStyle,I.FontStyle,j.SizeStyle].reduce(function(J,pe){return J[pe.keyName]=pe,J},{}),P=function(J){U(pe,J);function pe(Y,le){R(this,pe);var te=M(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,Y,le));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],F.concat(te.options.matchers).forEach(function(oe){var ae=o(oe,2),fe=ae[0],Ae=ae[1];!le.matchVisual&&Ae===ke||te.addMatcher(fe,Ae)}),te}return l(pe,[{key:"addMatcher",value:function(le,te){this.matchers.push([le,te])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[_.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",new f.default().insert(oe,D({},_.default.blotName,te[_.default.blotName]))}var ae=this.prepareMatching(),fe=o(ae,2),Ae=fe[0],Me=fe[1],Ve=ee(this.container,Ae,Me);return Q(Ve,`
`)&&Ve.ops[Ve.ops.length-1].attributes==null&&(Ve=Ve.compose(new f.default().retain(Ve.length()-1).delete(1))),z.log("convert",this.container.innerHTML,Ve),this.container.innerHTML="",Ve}},{key:"dangerouslyPasteHTML",value:function(le,te){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),te),this.quill.setSelection(0,m.default.sources.SILENT);else{var ae=this.convert(te);this.quill.updateContents(new f.default().retain(le).concat(ae),oe),this.quill.setSelection(le+ae.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var te=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var oe=this.quill.getSelection(),ae=new f.default().retain(oe.index),fe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ae=ae.concat(te.convert()).delete(oe.length),te.quill.updateContents(ae,m.default.sources.USER),te.quill.setSelection(ae.length()-oe.length,m.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=fe,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,te=[],oe=[];return this.matchers.forEach(function(ae){var fe=o(ae,2),Ae=fe[0],Me=fe[1];switch(Ae){case Node.TEXT_NODE:oe.push(Me);break;case Node.ELEMENT_NODE:te.push(Me);break;default:[].forEach.call(le.container.querySelectorAll(Ae),function(Ve){Ve[G]=Ve[G]||[],Ve[G].push(Me)});break}}),[te,oe]}}]),pe}(b.default);P.DEFAULTS={matchers:[],matchVisual:!0};function B(J,pe,Y){return(typeof pe>"u"?"undefined":s(pe))==="object"?Object.keys(pe).reduce(function(le,te){return B(le,te,pe[te])},J):J.reduce(function(le,te){return te.attributes&&te.attributes[pe]?le.push(te):le.insert(te.insert,(0,u.default)({},D({},pe,Y),te.attributes))},new f.default)}function K(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var pe="__ql-computed-style";return J[pe]||(J[pe]=window.getComputedStyle(J))}function Q(J,pe){for(var Y="",le=J.ops.length-1;le>=0&&Y.length<pe.length;--le){var te=J.ops[le];if(typeof te.insert!="string")break;Y=te.insert+Y}return Y.slice(-1*pe.length)===pe}function L(J){if(J.childNodes.length===0)return!1;var pe=K(J);return["block","list-item"].indexOf(pe.display)>-1}function ee(J,pe,Y){return J.nodeType===J.TEXT_NODE?Y.reduce(function(le,te){return te(J,le)},new f.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(le,te){var oe=ee(te,pe,Y);return te.nodeType===J.ELEMENT_NODE&&(oe=pe.reduce(function(ae,fe){return fe(te,ae)},oe),oe=(te[G]||[]).reduce(function(ae,fe){return fe(te,ae)},oe)),le.concat(oe)},new f.default):new f.default}function ge(J,pe,Y){return B(Y,J,!0)}function he(J,pe){var Y=p.default.Attributor.Attribute.keys(J),le=p.default.Attributor.Class.keys(J),te=p.default.Attributor.Style.keys(J),oe={};return Y.concat(le).concat(te).forEach(function(ae){var fe=p.default.query(ae,p.default.Scope.ATTRIBUTE);fe!=null&&(oe[fe.attrName]=fe.value(J),oe[fe.attrName])||(fe=W[ae],fe!=null&&(fe.attrName===ae||fe.keyName===ae)&&(oe[fe.attrName]=fe.value(J)||void 0),fe=O[ae],fe!=null&&(fe.attrName===ae||fe.keyName===ae)&&(fe=O[ae],oe[fe.attrName]=fe.value(J)||void 0))}),Object.keys(oe).length>0&&(pe=B(pe,oe)),pe}function be(J,pe){var Y=p.default.query(J);if(Y==null)return pe;if(Y.prototype instanceof p.default.Embed){var le={},te=Y.value(J);te!=null&&(le[Y.blotName]=te,pe=new f.default().insert(le,Y.formats(J)))}else typeof Y.formats=="function"&&(pe=B(pe,Y.blotName,Y.formats(J)));return pe}function Oe(J,pe){return Q(pe,`
`)||pe.insert(`
`),pe}function Z(){return new f.default}function Ie(J,pe){var Y=p.default.query(J);if(Y==null||Y.blotName!=="list-item"||!Q(pe,`
`))return pe;for(var le=-1,te=J.parentNode;!te.classList.contains("ql-clipboard");)(p.default.query(te)||{}).blotName==="list"&&(le+=1),te=te.parentNode;return le<=0?pe:pe.compose(new f.default().retain(pe.length()-1).retain(1,{indent:le}))}function V(J,pe){return Q(pe,`
`)||(L(J)||pe.length()>0&&J.nextSibling&&L(J.nextSibling))&&pe.insert(`
`),pe}function ke(J,pe){if(L(J)&&J.nextElementSibling!=null&&!Q(pe,`

`)){var Y=J.offsetHeight+parseFloat(K(J).marginTop)+parseFloat(K(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+Y*1.5&&pe.insert(`
`)}return pe}function xe(J,pe){var Y={},le=J.style||{};return le.fontStyle&&K(J).fontStyle==="italic"&&(Y.italic=!0),le.fontWeight&&(K(J).fontWeight.startsWith("bold")||parseInt(K(J).fontWeight)>=700)&&(Y.bold=!0),Object.keys(Y).length>0&&(pe=B(pe,Y)),parseFloat(le.textIndent||0)>0&&(pe=new f.default().insert("	").concat(pe)),pe}function re(J,pe){var Y=J.data;if(J.parentNode.tagName==="O:P")return pe.insert(Y.trim());if(Y.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return pe;if(!K(J.parentNode).whiteSpace.startsWith("pre")){var le=function(oe,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&oe?" ":ae};Y=Y.replace(/\r\n/g," ").replace(/\n/g," "),Y=Y.replace(/\s\s+/g,le.bind(le,!0)),(J.previousSibling==null&&L(J.parentNode)||J.previousSibling!=null&&L(J.previousSibling))&&(Y=Y.replace(/^\s+/,le.bind(le,!1))),(J.nextSibling==null&&L(J.parentNode)||J.nextSibling!=null&&L(J.nextSibling))&&(Y=Y.replace(/\s+$/,le.bind(le,!1)))}return pe.insert(Y)}r.default=P,r.matchAttributor=he,r.matchBlot=be,r.matchNewline=V,r.matchSpacing=ke,r.matchText=re},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,x,v){return x&&y(m.prototype,x),v&&y(m,v),m}}(),o=function y(m,x,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,x);if(g===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,v)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(v)}},l=i(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"optimize",value:function(v){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function j(E,D){var R=[],M=!0,U=!1,z=void 0;try{for(var G=E[Symbol.iterator](),F;!(M=(F=G.next()).done)&&(R.push(F.value),!(D&&R.length===D));M=!0);}catch(W){U=!0,z=W}finally{try{!M&&G.return&&G.return()}finally{if(U)throw z}}return R}return function(E,D){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return j(E,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function j(E,D){for(var R=0;R<D.length;R++){var M=D[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,D,R){return D&&j(E.prototype,D),R&&j(E,R),E}}(),l=i(2),c=v(l),u=i(0),d=v(u),f=i(5),h=v(f),p=i(10),y=v(p),m=i(9),x=v(m);function v(j){return j&&j.__esModule?j:{default:j}}function g(j,E,D){return E in j?Object.defineProperty(j,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):j[E]=D,j}function b(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function w(j,E){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:j}function T(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(j,E):j.__proto__=E)}var k=(0,y.default)("quill:toolbar"),_=function(j){T(E,j);function E(D,R){b(this,E);var M=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,D,R));if(Array.isArray(M.options.container)){var U=document.createElement("div");C(U,M.options.container),D.container.parentNode.insertBefore(U,D.container),M.container=U}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var z;return z=k.error("Container required for toolbar",M.options),w(M,z)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(G){M.addHandler(G,M.options.handlers[G])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(G){M.attach(G)}),M.quill.on(h.default.events.EDITOR_CHANGE,function(G,F){G===h.default.events.SELECTION_CHANGE&&M.update(F)}),M.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var G=M.quill.selection.getRange(),F=s(G,1),W=F[0];M.update(W)}),M}return o(E,[{key:"addHandler",value:function(R,M){this.handlers[R]=M}},{key:"attach",value:function(R){var M=this,U=[].find.call(R.classList,function(G){return G.indexOf("ql-")===0});if(U){if(U=U.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){k.warn("ignoring attaching to disabled format",U,R);return}if(d.default.query(U)==null){k.warn("ignoring attaching to nonexistent format",U,R);return}}var z=R.tagName==="SELECT"?"change":"click";R.addEventListener(z,function(G){var F=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var W=R.options[R.selectedIndex];W.hasAttribute("selected")?F=!1:F=W.value||!1}else R.classList.contains("ql-active")?F=!1:F=R.value||!R.hasAttribute("value"),G.preventDefault();M.quill.focus();var O=M.quill.selection.getRange(),P=s(O,1),B=P[0];if(M.handlers[U]!=null)M.handlers[U].call(M,F);else if(d.default.query(U).prototype instanceof d.default.Embed){if(F=prompt("Enter "+U),!F)return;M.quill.updateContents(new c.default().retain(B.index).delete(B.length).insert(g({},U,F)),h.default.sources.USER)}else M.quill.format(U,F,h.default.sources.USER);M.update(B)}),this.controls.push([U,R])}}},{key:"update",value:function(R){var M=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(U){var z=s(U,2),G=z[0],F=z[1];if(F.tagName==="SELECT"){var W=void 0;if(R==null)W=null;else if(M[G]==null)W=F.querySelector("option[selected]");else if(!Array.isArray(M[G])){var O=M[G];typeof O=="string"&&(O=O.replace(/\"/g,'\\"')),W=F.querySelector('option[value="'+O+'"]')}W==null?(F.value="",F.selectedIndex=-1):W.selected=!0}else if(R==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var P=M[G]===F.getAttribute("value")||M[G]!=null&&M[G].toString()===F.getAttribute("value")||M[G]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",P)}else F.classList.toggle("ql-active",M[G]!=null)})}}]),E}(x.default);_.DEFAULTS={};function N(j,E,D){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+E),D!=null&&(R.value=D),j.appendChild(R)}function C(j,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(D){var R=document.createElement("span");R.classList.add("ql-formats"),D.forEach(function(M){if(typeof M=="string")N(R,M);else{var U=Object.keys(M)[0],z=M[U];Array.isArray(z)?I(R,U,z):N(R,U,z)}}),j.appendChild(R)})}function I(j,E,D){var R=document.createElement("select");R.classList.add("ql-"+E),D.forEach(function(M){var U=document.createElement("option");M!==!1?U.setAttribute("value",M):U.setAttribute("selected","selected"),R.appendChild(U)}),j.appendChild(R)}_.DEFAULTS={container:null,handlers:{clean:function(){var E=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(M){d.default.query(M,d.default.Scope.INLINE)!=null&&E.quill.format(M,!1)})}else this.quill.removeFormat(D,h.default.sources.USER)},direction:function(E){var D=this.quill.getFormat().align;E==="rtl"&&D==null?this.quill.format("align","right",h.default.sources.USER):!E&&D==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",E,h.default.sources.USER)},indent:function(E){var D=this.quill.getSelection(),R=this.quill.getFormat(D),M=parseInt(R.indent||0);if(E==="+1"||E==="-1"){var U=E==="+1"?1:-1;R.direction==="rtl"&&(U*=-1),this.quill.format("indent",M+U,h.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,h.default.sources.USER)},list:function(E){var D=this.quill.getSelection(),R=this.quill.getFormat(D);E==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",E,h.default.sources.USER)}}},r.default=_,r.addControls=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,x,v){return x&&y(m.prototype,x),v&&y(m,v),m}}(),o=function y(m,x,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,x);if(g===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,v)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(v)}},l=i(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(x,v){d(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return g.label.innerHTML=v,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),g}return s(m,[{key:"buildItem",value:function(v){var g=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return g.style.backgroundColor=v.getAttribute("value")||"",g}},{key:"selectItem",value:function(v,g){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,g);var b=this.label.querySelector(".ql-color-label"),w=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=w:b.style.fill=w)}}]),m}(c.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,x,v){return x&&y(m.prototype,x),v&&y(m,v),m}}(),o=function y(m,x,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,x);if(g===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,v)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(v)}},l=i(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(x,v){d(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return s(m,[{key:"selectItem",value:function(v,g){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,g),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(c.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function c(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&c(u.prototype,d),f&&c(u,f),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){var f=this;o(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,h=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),m=0;if(y.right>p.right&&(m=p.right-y.right,this.root.style.left=f+m+"px"),y.left<p.left&&(m=p.left-y.left,this.root.style.left=f+m+"px"),y.bottom>p.bottom){var x=y.bottom-y.top,v=d.bottom-d.top+x;this.root.style.top=h-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(j,E){var D=[],R=!0,M=!1,U=void 0;try{for(var z=j[Symbol.iterator](),G;!(R=(G=z.next()).done)&&(D.push(G.value),!(E&&D.length===E));R=!0);}catch(F){M=!0,U=F}finally{try{!R&&z.return&&z.return()}finally{if(M)throw U}}return D}return function(j,E){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return I(j,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function I(j,E,D){j===null&&(j=Function.prototype);var R=Object.getOwnPropertyDescriptor(j,E);if(R===void 0){var M=Object.getPrototypeOf(j);return M===null?void 0:I(M,E,D)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(D)}},l=function(){function I(j,E){for(var D=0;D<E.length;D++){var R=E[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(j,R.key,R)}}return function(j,E,D){return E&&I(j.prototype,E),D&&I(j,D),j}}(),c=i(3),u=b(c),d=i(8),f=b(d),h=i(43),p=b(h),y=i(27),m=b(y),x=i(15),v=i(41),g=b(v);function b(I){return I&&I.__esModule?I:{default:I}}function w(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function T(I,j){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:I}function k(I,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(I,j):I.__proto__=j)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(I){k(j,I);function j(E,D){w(this,j),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=_);var R=T(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E,D));return R.quill.container.classList.add("ql-snow"),R}return l(j,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),g.default),this.tooltip=new C(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,M){D.handlers.link.call(D,!M.format.link)})}}]),j}(p.default);N.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(j){if(j){var E=this.quill.getSelection();if(E==null||E.length==0)return;var D=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var R=this.quill.theme.tooltip;R.edit("link",D)}else this.quill.format("link",!1)}}}}});var C=function(I){k(j,I);function j(E,D){w(this,j);var R=T(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E,D));return R.preview=R.root.querySelector("a.ql-preview"),R}return l(j,[{key:"listen",value:function(){var D=this;o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(D.linkRange!=null){var M=D.linkRange;D.restoreFocus(),D.quill.formatText(M,"link",!1,f.default.sources.USER),delete D.linkRange}R.preventDefault(),D.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(R,M,U){if(R!=null){if(R.length===0&&U===f.default.sources.USER){var z=D.quill.scroll.descendant(m.default,R.index),G=s(z,2),F=G[0],W=G[1];if(F!=null){D.linkRange=new x.Range(R.index-W,F.length());var O=m.default.formats(F.domNode);D.preview.textContent=O,D.preview.setAttribute("href",O),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),j}(h.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=te(s),l=i(36),c=i(38),u=i(64),d=i(65),f=te(d),h=i(66),p=te(h),y=i(67),m=te(y),x=i(37),v=i(26),g=i(39),b=i(40),w=i(56),T=te(w),k=i(68),_=te(k),N=i(27),C=te(N),I=i(69),j=te(I),E=i(70),D=te(E),R=i(71),M=te(R),U=i(72),z=te(U),G=i(73),F=te(G),W=i(13),O=te(W),P=i(74),B=te(P),K=i(75),Q=te(K),L=i(57),ee=te(L),ge=i(41),he=te(ge),be=i(28),Oe=te(be),Z=i(59),Ie=te(Z),V=i(60),ke=te(V),xe=i(61),re=te(xe),J=i(108),pe=te(J),Y=i(62),le=te(Y);function te(oe){return oe&&oe.__esModule?oe:{default:oe}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":g.FontClass,"formats/size":b.SizeClass,"formats/blockquote":f.default,"formats/code-block":O.default,"formats/header":p.default,"formats/list":m.default,"formats/bold":T.default,"formats/code":W.Code,"formats/italic":_.default,"formats/link":C.default,"formats/script":j.default,"formats/strike":D.default,"formats/underline":M.default,"formats/image":z.default,"formats/video":F.default,"formats/list/item":y.ListItem,"modules/formula":B.default,"modules/syntax":Q.default,"modules/toolbar":ee.default,"themes/bubble":pe.default,"themes/snow":le.default,"ui/icons":he.default,"ui/picker":Oe.default,"ui/icon-picker":ke.default,"ui/color-picker":Ie.default,"ui/tooltip":re.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function m(x,v){for(var g=0;g<v.length;g++){var b=v[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,v,g){return v&&m(x.prototype,v),g&&m(x,g),x}}(),o=function m(x,v,g){x===null&&(x=Function.prototype);var b=Object.getOwnPropertyDescriptor(x,v);if(b===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:m(w,v,g)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(g)}},l=i(0),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function f(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function h(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var p=function(m){h(x,m);function x(){return d(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"add",value:function(g,b){if(b==="+1"||b==="-1"){var w=this.value(g)||0;b=b==="+1"?w+1:w-1}return b===0?(this.remove(g),!0):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,g,b)}},{key:"canAdd",value:function(g,b){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,g,b)||o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,g,parseInt(b))}},{key:"value",value:function(g){return parseInt(o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,g))||void 0}}]),x}(c.default.Attributor.Class),y=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(y,m){for(var x=0;x<m.length;x++){var v=m[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,m,x){return m&&p(y.prototype,m),x&&p(y,x),y}}(),o=i(4),l=c(o);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function f(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var h=function(p){f(y,p);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),y}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function w(T,k){for(var _=0;_<k.length;_++){var N=k[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,k,_){return k&&w(T.prototype,k),_&&w(T,_),T}}(),o=function w(T,k,_){T===null&&(T=Function.prototype);var N=Object.getOwnPropertyDescriptor(T,k);if(N===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:w(C,k,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},l=i(0),c=p(l),u=i(4),d=p(u),f=i(25),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function y(w,T,k){return T in w?Object.defineProperty(w,T,{value:k,enumerable:!0,configurable:!0,writable:!0}):w[T]=k,w}function m(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function x(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function v(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var g=function(w){v(T,w);function T(){return m(this,T),x(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"format",value:function(_,N){_===b.blotName&&!N?this.replaceWith(c.default.create(this.statics.scope)):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,_,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,N){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,N),this):(this.parent.unwrap(),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,_,N))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:o(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,_)}}]),T}(d.default);g.blotName="list-item",g.tagName="LI";var b=function(w){v(T,w),s(T,null,[{key:"create",value:function(_){var N=_==="ordered"?"OL":"UL",C=o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,N);return(_==="checked"||_==="unchecked")&&C.setAttribute("data-checked",_==="checked"),C}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(k){m(this,T);var _=x(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k)),N=function(I){if(I.target.parentNode===k){var j=_.statics.formats(k),E=c.default.find(I.target);j==="checked"?E.format("list","unchecked"):j==="unchecked"&&E.format("list","checked")}};return k.addEventListener("touchstart",N),k.addEventListener("mousedown",N),_}return s(T,[{key:"format",value:function(_,N){this.children.length>0&&this.children.tail.format(_,N)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,N){if(_ instanceof g)o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,_,N);else{var C=N==null?this.length():N.offset(this),I=this.split(C);I.parent.insertBefore(_,I)}}},{key:"optimize",value:function(_){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,_);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var N=c.default.create(this.statics.defaultChild);_.moveChildren(N),this.appendChild(N)}o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,_)}}]),T}(h.default);b.blotName="list",b.scope=c.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[g],r.ListItem=g,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(m,x){for(var v=0;v<x.length;v++){var g=x[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,x,v){return x&&y(m.prototype,x),v&&y(m,v),m}}(),o=function y(m,x,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,x);if(g===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,v)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(v)}},l=i(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p=function(y){h(m,y);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&x(v.prototype,g),b&&x(v,b),v}}(),o=function x(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:x(T,g,b)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(b)}},l=i(0),c=d(l),u=i(27);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function h(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function p(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var y=["alt","height","width"],m=function(x){p(v,x);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,w){y.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return y.reduce(function(w,T){return b.hasAttribute(T)&&(w[T]=b.getAttribute(T)),w},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(c.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&x(v.prototype,g),b&&x(v,b),v}}(),o=function x(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:x(T,g,b)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(b)}},l=i(4),c=i(27),u=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function h(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function p(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var y=["height","width"],m=function(x){p(v,x);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,w){y.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return y.reduce(function(w,T){return b.hasAttribute(T)&&(w[T]=b.getAttribute(T)),w},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function b(w,T){for(var k=0;k<T.length;k++){var _=T[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,T,k){return T&&b(w.prototype,T),k&&b(w,k),w}}(),o=function b(w,T,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,T);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:b(N,T,k)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(k)}},l=i(35),c=p(l),u=i(5),d=p(u),f=i(9),h=p(f);function p(b){return b&&b.__esModule?b:{default:b}}function y(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function m(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function x(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var v=function(b){x(w,b);function w(){return y(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"create",value:function(k){var _=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",k)),_}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),w}(c.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var g=function(b){x(w,b),s(w,null,[{key:"register",value:function(){d.default.register(v,!0)}}]);function w(){y(this,w);var T=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return w}(h.default);r.FormulaBlot=v,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function k(_,N){for(var C=0;C<N.length;C++){var I=N[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,N,C){return N&&k(_.prototype,N),C&&k(_,C),_}}(),o=function k(_,N,C){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,N);if(I===void 0){var j=Object.getPrototypeOf(_);return j===null?void 0:k(j,N,C)}else{if("value"in I)return I.value;var E=I.get;return E===void 0?void 0:E.call(C)}},l=i(0),c=m(l),u=i(5),d=m(u),f=i(9),h=m(f),p=i(13),y=m(p);function m(k){return k&&k.__esModule?k:{default:k}}function x(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}function v(k,_){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:k}function g(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(k,_):k.__proto__=_)}var b=function(k){g(_,k);function _(){return x(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),_}(y.default);b.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),T=function(k){g(_,k),s(_,null,[{key:"register",value:function(){d.default.register(w,!0),d.default.register(b,!0)}}]);function _(N,C){x(this,_);var I=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N,C));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var j=null;return I.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(j),j=setTimeout(function(){I.highlight(),j=null},I.options.interval)}),I.highlight(),I}return s(_,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(j){j.highlight(C.options.highlight)}),this.quill.update(d.default.sources.SILENT),I!=null&&this.quill.setSelection(I,d.default.sources.SILENT)}}}]),_}(h.default);T.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var _=window.hljs.highlightAuto(k);return _.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=w,r.default=T},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function _(N,C,I){N===null&&(N=Function.prototype);var j=Object.getOwnPropertyDescriptor(N,C);if(j===void 0){var E=Object.getPrototypeOf(N);return E===null?void 0:_(E,C,I)}else{if("value"in j)return j.value;var D=j.get;return D===void 0?void 0:D.call(I)}},o=function(){function _(N,C){for(var I=0;I<C.length;I++){var j=C[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}return function(N,C,I){return C&&_(N.prototype,C),I&&_(N,I),N}}(),l=i(3),c=x(l),u=i(8),d=x(u),f=i(43),h=x(f),p=i(15),y=i(41),m=x(y);function x(_){return _&&_.__esModule?_:{default:_}}function v(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function g(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function b(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(_){b(N,_);function N(C,I){v(this,N),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=w);var j=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,I));return j.quill.container.classList.add("ql-bubble"),j}return o(N,[{key:"extendToolbar",value:function(I){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),m.default)}}]),N}(h.default);T.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(_){b(N,_);function N(C,I){v(this,N);var j=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,I));return j.quill.on(d.default.events.EDITOR_CHANGE,function(E,D,R,M){if(E===d.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&M===d.default.sources.USER){j.show(),j.root.style.left="0px",j.root.style.width="",j.root.style.width=j.root.offsetWidth+"px";var U=j.quill.getLines(D.index,D.length);if(U.length===1)j.position(j.quill.getBounds(D));else{var z=U[U.length-1],G=j.quill.getIndex(z),F=Math.min(z.length()-1,D.index+D.length-G),W=j.quill.getBounds(new p.Range(G,F));j.position(W)}}else document.activeElement!==j.textbox&&j.quill.hasFocus()&&j.hide()}),j}return o(N,[{key:"listen",value:function(){var I=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var j=I.quill.getSelection();j!=null&&I.position(I.quill.getBounds(j))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var j=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,I),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",j===0)return j;E.style.marginLeft=-1*j-E.offsetWidth/2+"px"}}]),N}(f.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=T},function(n,r,i){n.exports=i(63)}]).default})})(GZ);var w3e=GZ.exports,_3e=on&&on.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pT=on&&on.__assign||function(){return pT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pT.apply(this,arguments)},T3e=on&&on.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,l=s.length;o<l;o++,i++)r[i]=s[o];return r},bN=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Uc=bN(S),E3e=bN(ym),_y=bN(b3e),SU=bN(w3e),N3e=function(e){_3e(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,o,l,c){var u,d,f,h;s==="text-change"?(d=(u=r).onEditorChangeText)===null||d===void 0||d.call(u,r.editor.root.innerHTML,o,c,r.unprivilegedEditor):s==="selection-change"&&((h=(f=r).onEditorChangeSelection)===null||h===void 0||h.call(f,o,c,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return t.prototype.validateProps=function(n){var r;if(Uc.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Uc.default.Children.count(n.children)){var i=Uc.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var i=this,s;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),l=(s=n.value,s??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),T3e(this.cleanProps,this.dirtyProps).some(function(c){return!_y.default(n[c],i.props[c])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!_y.default(n[i],r.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var l=this.regenerationSnapshot,s=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(s),kU(function(){return i.setEditorSelection(u,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var i=new SU.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?_y.default(n.ops,r.ops):_y.default(n,r)},t.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),kU(function(){return i.setEditorSelection(n,s)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var i,s;!((s=(i=n)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=E3e.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,s=r.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){n.editingArea=c}};return Uc.default.Children.count(i)?Uc.default.cloneElement(Uc.default.Children.only(i),l):s?Uc.default.createElement("pre",pT({},l)):Uc.default.createElement("div",pT({},l))},t.prototype.render=function(){var n;return Uc.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,i,s){var o,l;if(this.editor){var c=this.isDelta(this.value)?s.getContents():s.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,n,r,i,s))}},t.prototype.onEditorChangeSelection=function(n,r,i){var s,o,l,c,u,d;if(this.editor){var f=this.getEditorSelection(),h=!f&&n,p=f&&!n;_y.default(n,f)||(this.selection=n,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,n,r,i),h?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,n,r,i):p&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,f,r,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=SU.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Uc.default.Component);function kU(e){Promise.resolve().then(e)}var S3e=N3e;const gh=BT(S3e);function k3e(e,t=[]){let n=[];function r(s,o){const l=S.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=S.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=S.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,A3e(i,...t)]}function A3e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var C3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QZ=C3e.reduce((e,t)=>{const n=g5(`Primitive.${t}`),r=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Q5="Progress",K5=100,[D3e]=k3e(Q5),[j3e,I3e]=D3e(Q5),KZ=S.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=R3e,...o}=e;(i||i===0)&&!AU(i)&&console.error(P3e(`${i}`,"Progress"));const l=AU(i)?i:K5;r!==null&&!CU(r,l)&&console.error(O3e(`${r}`,"Progress"));const c=CU(r,l)?r:null,u=mT(c)?s(c,l):void 0;return a.jsx(j3e,{scope:n,value:c,max:l,children:a.jsx(QZ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":mT(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ZZ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});KZ.displayName=Q5;var XZ="ProgressIndicator",YZ=S.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=I3e(XZ,n);return a.jsx(QZ.div,{"data-state":ZZ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});YZ.displayName=XZ;function R3e(e,t){return`${Math.round(e/t*100)}%`}function ZZ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function mT(e){return typeof e=="number"}function AU(e){return mT(e)&&!isNaN(e)&&e>0}function CU(e,t){return mT(e)&&!isNaN(e)&&e<=t&&e>=0}function P3e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${K5}\`.`}function O3e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${K5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var JZ=KZ,F3e=YZ;const Ob=S.forwardRef(({className:e,value:t,...n},r)=>a.jsx(JZ,{ref:r,className:Rt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(F3e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ob.displayName=JZ.displayName;function L3e({questions:e,timePerQuestion:t=30,testTitle:n,onFinish:r,onBack:i}){const[s,o]=S.useState(0),[l,c]=S.useState(new Array(e.length).fill(null)),[u,d]=S.useState(e.length*t),[f]=S.useState(Date.now()),[h,p]=S.useState(!1),[y,m]=S.useState(!1),x=e[s];S.useEffect(()=>{if(h)return;const k=setInterval(()=>{d(_=>_<=1?(clearInterval(k),w(),0):_-1)},1e3);return()=>clearInterval(k)},[h]);const v=k=>{if(h)return;const _=[...l];_[s]=k,c(_)},g=()=>{s<e.length-1&&o(s+1)},b=()=>{s>0&&o(s-1)},w=S.useCallback(()=>{const k=Math.floor((Date.now()-f)/1e3);let _=0,N=0,C=0;const I=e.map((E,D)=>{const R=l[D];return R===null?C++:R===E.correctIndex?_++:N++,{questionId:E.id,selected:R,correct:E.correctIndex}}),j={total:e.length,correct:_,wrong:N,skipped:C,unanswered:C,percentage:Math.round(_/e.length*100),timeTaken:k,answers:I};p(!0),r(j)},[l,e,f,r]),T=k=>{const _=Math.floor(k/60),N=k%60;return`${_}:${N.toString().padStart(2,"0")}`};if(h&&!y){const k=l.filter((E,D)=>E===e[D].correctIndex).length,_=l.filter((E,D)=>E!==null&&E!==e[D].correctIndex).length,N=l.filter(E=>E===null).length,C=Math.round(k/e.length*100),j=hN.getState().testResults.slice(-10);return a.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:a.jsxs(ut,{children:[a.jsxs(Wn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4",children:a.jsx(Ma,{className:Rt("h-16 w-16",C>=70?"text-yellow-500":C>=40?"text-blue-500":"text-muted-foreground")})}),a.jsx(Jn,{className:"text-2xl",children:"Test Complete!"}),a.jsx(ac,{children:n})]}),a.jsxs(Ht,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold text-primary",children:[C,"%"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Your Score"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[a.jsx(em,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:k}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Correct"})]}),a.jsxs("div",{className:"p-4 bg-red-500/10 rounded-lg",children:[a.jsx(od,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:_}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Wrong"})]}),a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx(er,{className:"h-6 w-6 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:N}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]})]}),j.length>1&&a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-4",children:[a.jsx(tm,{className:"h-4 w-4"})," Progress Analytics (Last ",j.length," Tests)"]}),a.jsx("div",{className:"flex items-end justify-between gap-1 h-32",children:j.map((E,D)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:Rt("w-full rounded-t transition-all",E.score>=70?"bg-green-500":E.score>=40?"bg-yellow-500":"bg-red-500"),style:{height:`${E.score}%`},title:`${E.score}%`}),a.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:D+1})]},E.id))}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[a.jsx("span",{children:"Oldest"}),a.jsxs("span",{children:["Average: ",Math.round(j.reduce((E,D)=>E+D.score,0)/j.length),"%"]}),a.jsx("span",{children:"Latest"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ye,{variant:"outline",className:"flex-1",onClick:i,children:[a.jsx(Nl,{className:"h-4 w-4 mr-2"})," Back"]}),a.jsx(ye,{variant:"outline",className:"flex-1",onClick:()=>m(!0),children:"Review Answers"})]})]})]})})}return y?a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Review Answers"}),a.jsx(ye,{variant:"outline",onClick:()=>m(!1),children:"Back to Results"})]}),e.map((k,_)=>{const N=l[_],C=N===k.correctIndex,I=N!==null&&N!==k.correctIndex;return a.jsx(ut,{className:Rt(C&&"border-green-500",I&&"border-red-500"),children:a.jsxs(Ht,{className:"pt-4",children:[a.jsxs("p",{className:"font-medium mb-3",children:["Q",_+1,". ",k.question]}),a.jsx("div",{className:"space-y-2",children:k.options.map((j,E)=>a.jsxs("div",{className:Rt("p-2 rounded border text-sm",E===k.correctIndex&&"bg-green-500/10 border-green-500",N===E&&E!==k.correctIndex&&"bg-red-500/10 border-red-500"),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+E),"."]}),j,E===k.correctIndex&&a.jsx(em,{className:"h-4 w-4 text-green-500 inline ml-2"}),N===E&&E!==k.correctIndex&&a.jsx(od,{className:"h-4 w-4 text-red-500 inline ml-2"})]},E))}),N===null&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You did not answer this question."})]})},k.id)}),a.jsx(ye,{variant:"outline",className:"w-full",onClick:i,children:"Back to Tests"})]}):a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:n}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:Rt("flex items-center gap-2 px-3 py-1 rounded-full",u<60?"bg-red-500/10 text-red-500":"bg-muted"),children:[a.jsx(er,{className:"h-4 w-4"}),a.jsx("span",{className:"font-mono font-bold",children:T(u)})]}),a.jsx(ye,{variant:"destructive",size:"sm",onClick:w,children:"Submit"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Question ",s+1," of ",e.length]}),a.jsxs("span",{children:[l.filter(k=>k!==null).length," answered"]})]}),a.jsx(Ob,{value:(s+1)/e.length*100})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((k,_)=>a.jsx("button",{onClick:()=>o(_),className:Rt("h-8 w-8 rounded-full text-sm font-medium transition-colors",_===s&&"bg-primary text-primary-foreground",_!==s&&l[_]!==null&&"bg-green-500 text-white",_!==s&&l[_]===null&&"bg-muted hover:bg-muted/80"),children:_+1},_))}),a.jsxs(ut,{children:[a.jsx(Wn,{children:a.jsxs(Jn,{className:"text-lg",children:["Q",s+1,". ",x.question]})}),a.jsx(Ht,{className:"space-y-3",children:x.options.map((k,_)=>a.jsxs("button",{onClick:()=>v(_),className:Rt("w-full p-4 rounded-lg border text-left transition-all flex items-center gap-3",l[s]===_?"border-primary bg-primary/10":"hover:border-primary/50 hover:bg-muted/50"),children:[a.jsx("span",{className:Rt("h-8 w-8 rounded-full flex items-center justify-center font-medium",l[s]===_?"bg-primary text-primary-foreground":"bg-muted"),children:String.fromCharCode(65+_)}),a.jsx("span",{children:k})]},_))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ye,{variant:"outline",onClick:b,disabled:s===0,children:[a.jsx(Nl,{className:"h-4 w-4 mr-2"})," Previous"]}),s===e.length-1?a.jsx(ye,{onClick:w,children:"Submit Test"}):a.jsxs(ye,{onClick:g,children:["Next ",a.jsx(d5,{className:"h-4 w-4 ml-2"})]})]})]})}const X5="teachers",C1="courses";async function Ky(e){try{const t=Ye(Le,X5,e.userId);await bt(t,{...e,updatedAt:Pg(),createdAt:e.createdAt||Pg()})}catch(t){throw console.error("Error saving teacher profile:",t),t}}async function M3e(e){var t,n,r,i;try{const s=Ye(Le,X5,e),o=await kh(s);if(o.exists()){const l=o.data();return{...l,createdAt:((n=(t=l.createdAt)==null?void 0:t.toDate)==null?void 0:n.call(t))||new Date,updatedAt:((i=(r=l.updatedAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date}}return null}catch(s){return console.error("Error getting teacher profile:",s),null}}async function U3e(){try{return(await Bn(Dt(Le,X5))).docs.map(t=>{var r,i,s,o;const n=t.data();return{...n,createdAt:((i=(r=n.createdAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date,updatedAt:((o=(s=n.updatedAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date}})}catch(e){return console.error("Error getting all teachers:",e),[]}}async function n4(e){try{if(e.id&&!e.id.startsWith("course_temp_")){const t=Ye(Le,C1,e.id);return await bt(t,{...e,updatedAt:Pg(),createdAt:e.createdAt||Pg()}),e.id}else return(await Zpe(Dt(Le,C1),{...e,createdAt:Pg(),updatedAt:Pg()})).id}catch(t){throw console.error("Error saving course:",t),t}}async function B3e(e){try{const t=Yt(Dt(Le,C1),Jt("teacherId","==",e));return(await Bn(t)).docs.map(r=>{var s,o,l,c;const i=r.data();return{...i,id:r.id,createdAt:((o=(s=i.createdAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date,updatedAt:((c=(l=i.updatedAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||new Date}})}catch(t){return console.error("Error getting courses by teacher:",t),[]}}async function V3e(){try{return(await Bn(Dt(Le,C1))).docs.map(t=>{var r,i,s,o;const n=t.data();return{...n,id:t.id,createdAt:((i=(r=n.createdAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date,updatedAt:((o=(s=n.updatedAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date}})}catch(e){return console.error("Error getting all courses:",e),[]}}async function q3e(e){try{await _o(Ye(Le,C1,e))}catch(t){throw console.error("Error deleting course:",t),t}}async function uA(e,t){try{e&&await Ky(e);for(const n of t)await n4(n)}catch(n){throw console.error("Error syncing to Firestore:",n),n}}const Sc=jd()(km((e,t)=>({teachers:[],teacherProfile:null,courses:[],myCourses:[],enrolledCourses:[],sections:[],lessons:[],mcqs:[],mockTests:[],liveTests:[],enrollments:[],lessonProgress:[],mockTestAttempts:[],liveTestAttempts:[],reviews:[],announcements:[],discussions:[],consultationBookings:[],activeCourseId:null,activeView:"student",loadFromFirestore:async n=>{try{const r=await M3e(n);r&&e({teacherProfile:r});const i=await U3e();i.length>0&&e({teachers:i});const s=`teacher_${n}`,o=await B3e(s);o.length>0&&e({myCourses:o});const l=await V3e();l.length>0&&e({courses:l})}catch(r){console.error("Error loading from Firestore:",r)}},addTeacher:n=>{console.log("Adding teacher:",n),e(r=>({teachers:[...r.teachers,n],teacherProfile:n})),Ky(n).then(()=>console.log(" Teacher saved to Firestore!")).catch(r=>console.error(" Failed to save teacher:",r))},updateTeacher:(n,r)=>{e(i=>{var l,c;const s=i.teachers.map(u=>u.id===n?{...u,...r,updatedAt:new Date}:u),o=((l=i.teacherProfile)==null?void 0:l.id)===n?{...i.teacherProfile,...r,updatedAt:new Date}:i.teacherProfile;return o&&((c=i.teacherProfile)==null?void 0:c.id)===n&&Ky(o).catch(console.error),{teachers:s,teacherProfile:o}})},removeTeacher:n=>e(r=>({teachers:r.teachers.filter(i=>i.id!==n)})),setTeacherProfile:n=>{e({teacherProfile:n}),n&&Ky(n).catch(console.error)},updateTeacherProfile:n=>e(r=>{const i=r.teacherProfile?{...r.teacherProfile,...n,updatedAt:new Date}:null;return i&&Ky(i).catch(console.error),{teacherProfile:i}}),setCourses:n=>e({courses:n}),addCourse:n=>{console.log("Adding course:",n),e(r=>({courses:[...r.courses,n],myCourses:[...r.myCourses,n]})),n4(n).then(r=>console.log(" Course saved to Firestore! ID:",r)).catch(r=>console.error(" Failed to save course:",r))},updateCourse:n=>{console.log("Updating course:",n.id),e(r=>({courses:r.courses.map(i=>i.id===n.id?n:i),myCourses:r.myCourses.map(i=>i.id===n.id?n:i)})),n4(n).then(()=>console.log(" Course updated in Firestore!")).catch(r=>console.error(" Failed to update course:",r))},removeCourse:n=>{e(r=>({courses:r.courses.filter(i=>i.id!==n),myCourses:r.myCourses.filter(i=>i.id!==n),sections:r.sections.filter(i=>i.courseId!==n),lessons:r.lessons.filter(i=>i.courseId!==n),mcqs:r.mcqs.filter(i=>i.courseId!==n),mockTests:r.mockTests.filter(i=>i.courseId!==n),liveTests:r.liveTests.filter(i=>i.courseId!==n)})),q3e(n).catch(console.error)},setActiveCourse:n=>e({activeCourseId:n}),addSection:n=>e(r=>({sections:[...r.sections,n]})),updateSection:n=>e(r=>({sections:r.sections.map(i=>i.id===n.id?n:i)})),removeSection:n=>e(r=>({sections:r.sections.filter(i=>i.id!==n),lessons:r.lessons.filter(i=>i.sectionId!==n)})),reorderSections:(n,r)=>e(i=>({sections:i.sections.map(s=>{if(s.courseId!==n)return s;const o=r.indexOf(s.id);return o>=0?{...s,order:o}:s})})),addLesson:n=>e(r=>({lessons:[...r.lessons,n]})),updateLesson:n=>e(r=>({lessons:r.lessons.map(i=>i.id===n.id?n:i)})),removeLesson:n=>e(r=>({lessons:r.lessons.filter(i=>i.id!==n),mcqs:r.mcqs.filter(i=>i.lessonId!==n)})),reorderLessons:(n,r)=>e(i=>({lessons:i.lessons.map(s=>{if(s.sectionId!==n)return s;const o=r.indexOf(s.id);return o>=0?{...s,order:o}:s})})),addMCQ:n=>e(r=>({mcqs:[...r.mcqs,n]})),updateMCQ:n=>e(r=>({mcqs:r.mcqs.map(i=>i.id===n.id?n:i)})),removeMCQ:n=>e(r=>({mcqs:r.mcqs.filter(i=>i.id!==n)})),bulkAddMCQs:n=>e(r=>({mcqs:[...r.mcqs,...n]})),addMockTest:n=>e(r=>({mockTests:[...r.mockTests,n]})),updateMockTest:n=>e(r=>({mockTests:r.mockTests.map(i=>i.id===n.id?n:i)})),removeMockTest:n=>e(r=>({mockTests:r.mockTests.filter(i=>i.id!==n),mcqs:r.mcqs.filter(i=>i.mockTestId!==n)})),addLiveTest:n=>e(r=>({liveTests:[...r.liveTests,n]})),updateLiveTest:n=>e(r=>({liveTests:r.liveTests.map(i=>i.id===n.id?n:i)})),removeLiveTest:n=>e(r=>({liveTests:r.liveTests.filter(i=>i.id!==n)})),addEnrollment:n=>e(r=>({enrollments:[...r.enrollments,n],enrolledCourses:[...r.enrolledCourses,r.courses.find(i=>i.id===n.courseId)].filter(Boolean)})),updateEnrollment:n=>e(r=>({enrollments:r.enrollments.map(i=>i.id===n.id?n:i)})),updateLessonProgress:n=>e(r=>({lessonProgress:r.lessonProgress.some(i=>i.id===n.id)?r.lessonProgress.map(i=>i.id===n.id?n:i):[...r.lessonProgress,n]})),markLessonComplete:(n,r)=>e(i=>{const s=i.enrollments.find(u=>u.id===n);if(!s)return i;const o=[...new Set([...s.completedLessonIds||[],r])],l=i.lessons.filter(u=>u.courseId===s.courseId).length,c=l>0?o.length/l*100:0;return{enrollments:i.enrollments.map(u=>u.id===n?{...u,completedLessonIds:o,completedLessons:o.length,progress:c,lastAccessedAt:Date.now()}:u)}}),addMockTestAttempt:n=>e(r=>({mockTestAttempts:[...r.mockTestAttempts,n]})),updateMockTestAttempt:n=>e(r=>({mockTestAttempts:r.mockTestAttempts.map(i=>i.id===n.id?n:i)})),addLiveTestAttempt:n=>e(r=>({liveTestAttempts:[...r.liveTestAttempts,n]})),updateLiveTestAttempt:n=>e(r=>({liveTestAttempts:r.liveTestAttempts.map(i=>i.id===n.id?n:i)})),addReview:n=>e(r=>({reviews:[...r.reviews,n]})),updateReview:n=>e(r=>({reviews:r.reviews.map(i=>i.id===n.id?n:i)})),addAnnouncement:n=>e(r=>({announcements:[...r.announcements,n]})),removeAnnouncement:n=>e(r=>({announcements:r.announcements.filter(i=>i.id!==n)})),addDiscussion:n=>e(r=>({discussions:[...r.discussions,n]})),updateDiscussion:n=>e(r=>({discussions:r.discussions.map(i=>i.id===n.id?n:i)})),addConsultationBooking:n=>e(r=>({consultationBookings:[...r.consultationBookings,n]})),updateConsultationBooking:n=>e(r=>({consultationBookings:r.consultationBookings.map(i=>i.id===n.id?n:i)})),getCourseById:n=>t().courses.find(r=>r.id===n),getCoursesByTeacher:n=>t().courses.filter(r=>r.teacherId===n),getPublishedCourses:()=>t().courses.filter(n=>n.status==="published"),getCoursesByCategory:n=>t().courses.filter(r=>r.status==="published"&&r.category===n),getSectionsByCourse:n=>t().sections.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getLessonsBySection:n=>t().lessons.filter(r=>r.sectionId===n).sort((r,i)=>r.order-i.order),getLessonsByCourse:n=>t().lessons.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getPreviewableLessons:n=>t().lessons.filter(r=>r.courseId===n&&r.isPreviewable),getMCQsByLesson:n=>t().mcqs.filter(r=>r.lessonId===n).sort((r,i)=>r.order-i.order),getMCQsByMockTest:n=>t().mcqs.filter(r=>r.mockTestId===n).sort((r,i)=>r.order-i.order),getMockTestsByCourse:n=>t().mockTests.filter(r=>r.courseId===n).sort((r,i)=>r.order-i.order),getLiveTestsByCourse:n=>t().liveTests.filter(r=>r.courseId===n).sort((r,i)=>r.startTime-i.startTime),getUpcomingLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.courseId===n&&i.startTime>r).sort((i,s)=>i.startTime-s.startTime)},getActiveLiveTests:n=>{const r=Date.now();return t().liveTests.filter(i=>i.courseId===n&&i.startTime<=r&&i.endTime>r)},getEnrollmentsByCourse:n=>t().enrollments.filter(r=>r.courseId===n),getEnrollmentsByStudent:n=>t().enrollments.filter(r=>r.studentId===n),isEnrolled:(n,r)=>t().enrollments.some(i=>i.courseId===n&&i.studentId===r&&i.status==="active"),getProgressByEnrollment:n=>t().lessonProgress.filter(r=>r.enrollmentId===n),getCourseProgress:(n,r)=>{const i=t().enrollments.find(s=>s.courseId===n&&s.studentId===r);return(i==null?void 0:i.progress)||0},getMockTestAttempts:(n,r)=>t().mockTestAttempts.filter(i=>i.mockTestId===n&&i.studentId===r).sort((i,s)=>s.submittedAt-i.submittedAt),getLiveTestAttempt:(n,r)=>t().liveTestAttempts.find(i=>i.liveTestId===n&&i.studentId===r),getMockTestLeaderboard:n=>t().mockTestAttempts.filter(r=>r.mockTestId===n&&r.status!=="in-progress").sort((r,i)=>i.percentage-r.percentage||r.timeTaken-i.timeTaken),getLiveTestLeaderboard:n=>t().liveTestAttempts.filter(r=>r.liveTestId===n&&r.status!=="in-progress").sort((r,i)=>i.percentage-r.percentage||r.timeTaken-i.timeTaken),getReviewsByCourse:n=>t().reviews.filter(r=>r.courseId===n&&r.status==="published").sort((r,i)=>i.createdAt-r.createdAt),getConsultationsByTeacher:n=>t().consultationBookings.filter(r=>r.teacherId===n).sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime()),getConsultationsByStudent:n=>t().consultationBookings.filter(r=>r.studentId===n).sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime()),getUpcomingConsultations:n=>{const i=new Date().toISOString().split("T")[0];return t().consultationBookings.filter(s=>(s.teacherId===n||s.studentId===n)&&s.status==="confirmed"&&s.date>=i).sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime())},getTeacherStats:n=>{const r=t(),i=r.courses.filter(c=>c.teacherId===n),s=i.map(c=>c.id),o=r.enrollments.filter(c=>s.includes(c.courseId)),l=r.reviews.filter(c=>s.includes(c.courseId));return{totalCourses:i.length,totalStudents:new Set(o.map(c=>c.studentId)).size,totalRevenue:o.reduce((c,u)=>c+u.pricePaid,0),averageRating:l.length>0?l.reduce((c,u)=>c+u.rating,0)/l.length:0}},getCourseStats:n=>{const r=t(),i=r.enrollments.filter(l=>l.courseId===n),s=r.reviews.filter(l=>l.courseId===n),o=i.filter(l=>l.progress===100);return{enrollments:i.length,completionRate:i.length>0?o.length/i.length*100:0,averageRating:s.length>0?s.reduce((l,c)=>l+c.rating,0)/s.length:0,revenue:i.reduce((l,c)=>l+c.pricePaid,0)}}}),{name:"coaching-storage",version:1,partialize:e=>({teachers:e.teachers,teacherProfile:e.teacherProfile,courses:e.courses,myCourses:e.myCourses,enrolledCourses:e.enrolledCourses,sections:e.sections,lessons:e.lessons,mcqs:e.mcqs,mockTests:e.mockTests,liveTests:e.liveTests,enrollments:e.enrollments,lessonProgress:e.lessonProgress,mockTestAttempts:e.mockTestAttempts,liveTestAttempts:e.liveTestAttempts,reviews:e.reviews,announcements:e.announcements,discussions:e.discussions,consultationBookings:e.consultationBookings,activeCourseId:e.activeCourseId,activeView:e.activeView})}));function wN(e){if(!e||!e.includes(":"))return null;const[t,n]=e.split(":");return{assetId:t,questionId:n}}function Y5(e){var s;const t=wN(e);if(!t)return null;const{getMCQById:n}=_c.getState(),r=n(t.assetId);return r&&((s=r.quizQuestions)==null?void 0:s.find(o=>o.id===t.questionId))||null}function W3e(e,t){const n=`${e}:${t}`,{courseMCQs:r,updateCourseMCQ:i}=hN.getState(),s=Y5(n);if(!s)return 0;let o=0;return r.forEach(l=>{l.assetRef===n&&(i({...l,question:s.question,options:s.options,correctIndex:s.correctIndex,explanation:s.explanation,difficulty:s.difficulty}),o++)}),o}function z3e(e,t){const n=`${e}:${t}`,{groupMCQs:r,updateGroupMCQ:i}=sa.getState(),s=Y5(n);if(!s)return 0;let o=0;return r.forEach(l=>{l.assetRef===n&&(i({...l,question:s.question,options:s.options,correctIndex:s.correctIndex,explanation:s.explanation,difficulty:s.difficulty}),o++)}),o}function $3e(e,t){const n=`${e}:${t}`,{mcqs:r,updateMCQ:i}=Sc.getState(),s=Y5(n);if(!s)return 0;let o=0;return r.forEach(l=>{if(l.assetRef===n){const c={...l,question:s.question,options:s.options,correctIndex:s.correctIndex,explanation:s.explanation,difficulty:s.difficulty};i(c),bt(Ye(Le,"coaching-mcqs",l.id),c).catch(console.error),o++}}),o}function H3e(e){const{courseMCQs:t}=hN.getState(),{updateSingleMCQ:n}=_c.getState(),r=t.find(s=>s.id===e);if(!r||!r.assetRef)return!1;const i=wN(r.assetRef);return i?(n(i.assetId,i.questionId,{question:r.question,options:r.options,correctIndex:r.correctIndex,explanation:r.explanation,difficulty:r.difficulty}),!0):!1}function G3e(e){const{groupMCQs:t}=sa.getState(),{updateSingleMCQ:n}=_c.getState(),r=t.find(s=>s.id===e);if(!r||!r.assetRef)return!1;const i=wN(r.assetRef);return i?(n(i.assetId,i.questionId,{question:r.question,options:r.options,correctIndex:r.correctIndex,explanation:r.explanation,difficulty:r.difficulty}),!0):!1}function Q3e(e){const{mcqs:t}=Sc.getState(),{updateSingleMCQ:n}=_c.getState(),r=t.find(s=>s.id===e);if(!r||!r.assetRef)return!1;const i=wN(r.assetRef);return i?(n(i.assetId,i.questionId,{question:r.question,options:r.options,correctIndex:r.correctIndex,explanation:r.explanation,difficulty:r.difficulty}),!0):!1}function K3e(e,t){const n=W3e(e,t),r=z3e(e,t),i=$3e(e,t);return{personal:n,group:r,coaching:i,total:n+r+i}}function eJ({context:e,categories:t,scheduledTests:n,activeTests:r=[],pastTests:i=[],autoTestConfig:s,totalMCQCount:o=0,onCreateTest:l,onDeleteTest:c,onSaveAutoConfig:u,showSourceSelector:d=!1,showDateTimeScheduling:f=!0,isAdmin:h=!0,assetSubjects:p=[],getTopicsForSubject:y,getSubtopicsForTopic:m,getLibraryMCQCount:x}){const[v,g]=S.useState("schedule"),[b,w]=S.useState(!1),[T,k]=S.useState(""),[_,N]=S.useState(""),[C,I]=S.useState(""),[j,E]=S.useState(""),[D,R]=S.useState(""),[M,U]=S.useState("30"),[z,G]=S.useState("20"),[F,W]=S.useState([]),[O,P]=S.useState(!0),[B,K]=S.useState(!0),[Q,L]=S.useState(!0),[ee,ge]=S.useState(!0),[he,be]=S.useState("course"),[Oe,Z]=S.useState(""),[Ie,V]=S.useState(""),[ke,xe]=S.useState(""),[re,J]=S.useState("all"),[pe,Y]=S.useState(!1),[le,te]=S.useState("Daily Practice Test"),[oe,ae]=S.useState([]),[fe,Ae]=S.useState("10:00"),[Me,Ve]=S.useState("22:00"),[ot,Fe]=S.useState("30"),[je,Ge]=S.useState("20"),[Je,kt]=S.useState([0,1,2,3,4,5,6]),[Qt,Mt]=S.useState(!0),[Mn,sn]=S.useState(!0),[Qn,qn]=S.useState(!0),[nr,Cn]=S.useState("23:00"),[Pn,Wt]=S.useState(!0),[rr,ln]=S.useState("course"),[Dn,Or]=S.useState(""),[dr,_n]=S.useState(""),[ir,jn]=S.useState(""),[Kn,Xn]=S.useState("all");S.useEffect(()=>{s&&(Y(s.enabled),te(s.title),ae(s.categoryIds),Ae(s.startTime),Ve(s.endTime),Fe(String(s.duration)),Ge(String(s.questionCount)),kt(s.activeDays),Mt(s.showSolution),sn(s.autoReleaseResult??!0),qn(s.showLeaderboard),Cn(s.resultReleaseTime||"23:00"),Wt(s.showDetailedAnalysis??!0),Xn(s.difficulty||"all"))},[s]);const br=S.useMemo(()=>!y||!Oe?[]:y(Oe),[Oe,y]),ce=S.useMemo(()=>!m||!Ie?[]:m(Ie),[Ie,m]),Ne=S.useMemo(()=>!y||!Dn?[]:y(Dn),[Dn,y]),ve=S.useMemo(()=>!m||!dr?[]:m(dr),[dr,m]),_e=S.useMemo(()=>!x||!Dn?0:x(Dn,dr,ir),[Dn,dr,ir,x]),ie=S.useMemo(()=>!x||!Oe?0:x(Oe,Ie,ke),[Oe,Ie,ke,x]),me=S.useMemo(()=>he==="library"?ie:F.length===0?o||t.reduce((ue,de)=>ue+(de.questionCount||0),0):t.filter(ue=>F.includes(ue.id)).reduce((ue,de)=>ue+(de.questionCount||0),0),[t,F,he,ie,o]),De=()=>{k(""),N(""),I(""),E(""),R(""),U("30"),G("20"),W([]),P(!0),K(!0),L(!0),ge(!0),be("course"),Z(""),V(""),xe(""),w(!1)},se=()=>{if(!T.trim()){alert("Please enter a title");return}let ue,de;if(f){if(!_||!C||!j||!D){alert("Please fill all date/time fields");return}if(ue=new Date(`${_}T${C}`).getTime(),de=new Date(`${j}T${D}`).getTime(),de<=ue){alert("End time must be after start time");return}}l({title:T.trim(),duration:parseInt(M),questionCount:parseInt(z),showSolution:!0,status:"scheduled",categoryIds:F,source:d?he:"course",librarySubjectId:he==="library"?Oe:void 0,libraryTopicId:he==="library"?Ie:void 0,librarySubtopicId:he==="library"?ke:void 0,startTime:ue,endTime:de,startDate:_,startTimeStr:C,endDate:j,endTimeStr:D,autoReleaseResult:!0,showLeaderboard:Q,shuffleQuestions:ee,difficulty:re}),De()},Te=()=>{u({enabled:pe,title:le,categoryIds:oe,startTime:fe,endTime:Me,duration:parseInt(ot),questionCount:parseInt(je),activeDays:Je,showSolution:!0,autoReleaseResult:!0,showLeaderboard:Qn,resultReleaseTime:Me,showDetailedAnalysis:!0,source:d?rr:"course",librarySubjectId:rr==="library"?Dn:void 0,libraryTopicId:rr==="library"?dr:void 0,librarySubtopicId:rr==="library"?ir:void 0,difficulty:Kn})},Ee=["","","","","","",""];return h?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-1 p-1 bg-muted rounded-lg",children:[a.jsxs("button",{onClick:()=>g("schedule"),className:`flex-1 py-2 px-3 rounded text-sm font-medium transition-all flex items-center justify-center gap-2 ${v==="schedule"?"bg-background shadow":"hover:bg-background/50"}`,children:[a.jsx(Sl,{className:"h-4 w-4"})," Schedule"]}),a.jsxs("button",{onClick:()=>g("auto"),className:`flex-1 py-2 px-3 rounded text-sm font-medium transition-all flex items-center justify-center gap-2 ${v==="auto"?"bg-background shadow":"hover:bg-background/50"}`,children:[a.jsx(_r,{className:"h-4 w-4"})," Auto Daily",pe&&a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]}),v==="schedule"&&a.jsx("div",{className:"space-y-4",children:b?a.jsxs(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold",children:"Create New Live Test"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:De,children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title *"}),a.jsx(nt,{placeholder:"e.g., Weekly Quiz #1",value:T,onChange:ue=>k(ue.target.value)})]}),d&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Question Source"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{variant:he==="library"?"default":"outline",size:"sm",onClick:()=>be("library"),className:"flex-1",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"})," Asset Library"]}),a.jsxs(ye,{variant:he==="course"?"default":"outline",size:"sm",onClick:()=>be("course"),className:"flex-1",children:[a.jsx(id,{className:"h-4 w-4 mr-2"})," ",e==="group"?"Group MCQs":"Course MCQs"]})]})]}),d&&he==="library"&&a.jsxs("div",{className:"space-y-3 p-3 bg-primary/5 rounded-lg border border-primary/20",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Subject *"}),a.jsxs(Bt,{value:Oe,onValueChange:ue=>{Z(ue),V(""),xe("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select Subject"})}),a.jsx(Lt,{children:p.map(ue=>a.jsx(Ke,{value:ue.id,children:ue.name},ue.id))})]})]}),Oe&&br.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Topic (optional)"}),a.jsxs(Bt,{value:Ie||"all",onValueChange:ue=>{V(ue==="all"?"":ue),xe("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"All Topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Topics"}),br.map(ue=>a.jsx(Ke,{value:ue.id,children:ue.name},ue.id))]})]})]}),Ie&&ce.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Sub-topic (optional)"}),a.jsxs(Bt,{value:ke||"all",onValueChange:ue=>xe(ue==="all"?"":ue),children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"All Sub-topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Sub-topics"}),ce.map(ue=>a.jsx(Ke,{value:ue.id,children:ue.name},ue.id))]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground bg-background p-2 rounded",children:[" Available: ",a.jsx("strong",{children:ie})," MCQs"]})]}),(!d||he!=="library")&&t.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Categories (optional)"}),a.jsxs("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.length===0,onChange:()=>W([]),className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["All (",me," MCQs)"]})]}),t.map(ue=>a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.includes(ue.id),onChange:de=>{de.target.checked?W([...F,ue.id]):W(F.filter(Re=>Re!==ue.id))},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[ue.name," (",ue.questionCount||0,")"]})]},ue.id))]})]}),f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Date *"}),a.jsx(nt,{type:"date",value:_,onChange:ue=>N(ue.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time *"}),a.jsx(nt,{type:"time",value:C,onChange:ue=>I(ue.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Date *"}),a.jsx(nt,{type:"date",value:j,onChange:ue=>E(ue.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time *"}),a.jsx(nt,{type:"time",value:D,onChange:ue=>R(ue.target.value)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Duration"}),a.jsxs(Bt,{value:M,onValueChange:U,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"15",children:"15 min"}),a.jsx(Ke,{value:"30",children:"30 min"}),a.jsx(Ke,{value:"45",children:"45 min"}),a.jsx(Ke,{value:"60",children:"60 min"}),a.jsx(Ke,{value:"90",children:"90 min"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions"}),a.jsxs(Bt,{value:z,onValueChange:G,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"10",children:"10"}),a.jsx(Ke,{value:"20",children:"20"}),a.jsx(Ke,{value:"30",children:"30"}),a.jsx(Ke,{value:"50",children:"50"}),a.jsx(Ke,{value:"100",children:"100"})]})]})]})]}),a.jsxs("div",{className:"space-y-3 p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Difficulty Level"}),a.jsxs(Bt,{value:re,onValueChange:ue=>J(ue),children:[a.jsx(Ft,{className:"w-32 h-8",children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:" All"}),a.jsx(Ke,{value:"easy",children:" Easy"}),a.jsx(Ke,{value:"medium",children:" Medium"}),a.jsx(Ke,{value:"hard",children:" Hard"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Shuffle Questions"}),a.jsx("input",{type:"checkbox",checked:ee,onChange:ue=>ge(ue.target.checked),className:"h-4 w-4"})]}),(e==="group"||e==="coaching")&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show Leaderboard"}),a.jsx("input",{type:"checkbox",checked:Q,onChange:ue=>L(ue.target.checked),className:"h-4 w-4"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" Result & Solutions will be available after test ends"})]}),a.jsxs(ye,{onClick:se,className:"w-full",children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Create Live Test"]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ye,{onClick:()=>w(!0),className:"w-full",children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Schedule New Live Test"]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-green-600 dark:text-green-400 flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"})," Active Now"]}),r.map(ue=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg border-green-200 dark:border-green-800 bg-green-50/50 dark:bg-green-900/20",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ue.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.questionCount," questions  ",ue.duration," min"]})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500 text-white animate-pulse",children:"LIVE"})]},ue.id))]}),n.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Sl,{className:"h-4 w-4"})," Upcoming"]}),n.map(ue=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ue.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.questionCount," questions  ",ue.duration," min",ue.startTime&&a.jsxs(a.Fragment,{children:["  ",new Date(ue.startTime).toLocaleDateString("bn-BD")]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:"Scheduled"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>c(ue.id),children:a.jsx(kr,{className:"h-4 w-4 text-red-500"})})]})]},ue.id))]}):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No scheduled tests. Create one above!"}),i.length>0&&a.jsxs("details",{className:"group",children:[a.jsxs("summary",{className:"text-sm font-medium text-muted-foreground cursor-pointer flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4"})," Past Tests (",i.length,")"]}),a.jsx("div",{className:"mt-2 space-y-2",children:i.slice(0,5).map(ue=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg opacity-70",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ue.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.questionCount," questions  Completed"]})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:"Done"})]},ue.id))})]})]})}),v==="auto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Enable Auto Daily Test"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically create a new test every day"})]}),a.jsx("input",{type:"checkbox",checked:pe,onChange:ue=>Y(ue.target.checked),className:"h-5 w-5"})]}),pe&&a.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title"}),a.jsx(nt,{value:le,onChange:ue=>te(ue.target.value),placeholder:"Daily Practice Test"})]}),d&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Question Source"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{variant:rr==="library"?"default":"outline",size:"sm",onClick:()=>ln("library"),className:"flex-1",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"})," Asset Library"]}),a.jsxs(ye,{variant:rr==="course"?"default":"outline",size:"sm",onClick:()=>ln("course"),className:"flex-1",children:[a.jsx(id,{className:"h-4 w-4 mr-2"})," ",e==="group"?"Group":"Course"]})]})]}),d&&rr==="library"&&a.jsxs("div",{className:"space-y-3 p-3 bg-primary/5 rounded-lg border border-primary/20",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Subject *"}),a.jsxs(Bt,{value:Dn,onValueChange:ue=>{Or(ue),_n(""),jn("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select Subject"})}),a.jsx(Lt,{children:p.map(ue=>a.jsx(Ke,{value:ue.id,children:ue.name},ue.id))})]})]}),Dn&&Ne.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Topic (optional)"}),a.jsxs(Bt,{value:dr||"all",onValueChange:ue=>{_n(ue==="all"?"":ue),jn("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"All Topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Topics"}),Ne.map(ue=>a.jsx(Ke,{value:ue.id,children:ue.name},ue.id))]})]})]}),dr&&ve.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Sub-topic (optional)"}),a.jsxs(Bt,{value:ir||"all",onValueChange:ue=>jn(ue==="all"?"":ue),children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"All Sub-topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Sub-topics"}),ve.map(ue=>a.jsx(Ke,{value:ue.id,children:ue.name},ue.id))]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground bg-background p-2 rounded",children:[" Available: ",a.jsx("strong",{children:_e})," MCQs"]})]}),(!d||rr!=="library")&&t.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Categories"}),a.jsxs("div",{className:"border rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:oe.length===0,onChange:()=>ae([]),className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"All Categories"})]}),t.map(ue=>a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-muted rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:oe.includes(ue.id),onChange:de=>{de.target.checked?ae([...oe,ue.id]):ae(oe.filter(Re=>Re!==ue.id))},className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[ue.name," (",ue.questionCount||0,")"]})]},ue.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),a.jsx(nt,{type:"time",value:fe,onChange:ue=>Ae(ue.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time"}),a.jsx(nt,{type:"time",value:Me,onChange:ue=>Ve(ue.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Duration"}),a.jsxs(Bt,{value:ot,onValueChange:Fe,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"15",children:"15 min"}),a.jsx(Ke,{value:"30",children:"30 min"}),a.jsx(Ke,{value:"45",children:"45 min"}),a.jsx(Ke,{value:"60",children:"60 min"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions"}),a.jsxs(Bt,{value:je,onValueChange:Ge,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"10",children:"10"}),a.jsx(Ke,{value:"20",children:"20"}),a.jsx(Ke,{value:"30",children:"30"}),a.jsx(Ke,{value:"50",children:"50"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Active Days"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map((ue,de)=>a.jsx("button",{onClick:()=>{Je.includes(de)?kt(Je.filter(Re=>Re!==de)):kt([...Je,de])},className:`w-10 h-10 rounded-lg text-xs font-medium transition-colors ${Je.includes(de)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:ue},de))})]}),a.jsxs("div",{className:"space-y-3 p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Difficulty Level"}),a.jsxs(Bt,{value:Kn,onValueChange:ue=>Xn(ue),children:[a.jsx(Ft,{className:"w-32 h-8",children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:" All"}),a.jsx(Ke,{value:"easy",children:" Easy"}),a.jsx(Ke,{value:"medium",children:" Medium"}),a.jsx(Ke,{value:"hard",children:" Hard"})]})]})]}),(e==="group"||e==="coaching")&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show Leaderboard"}),a.jsx("input",{type:"checkbox",checked:Qn,onChange:ue=>qn(ue.target.checked),className:"h-4 w-4"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Result & Solutions available after daily end time (",Me,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-700 dark:text-green-400",children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:["Auto test runs daily from ",fe," to ",Me]})]})]}),!pe&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(_r,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Auto daily test is disabled"}),a.jsx("p",{className:"text-xs mt-1",children:"Enable to automatically create practice tests"})]}),a.jsxs(ye,{onClick:Te,className:"w-full",children:[a.jsx(mo,{className:"h-4 w-4 mr-2"})," Save Auto Test Settings"]}),(s==null?void 0:s.enabled)&&a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:" Auto Test Active"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Runs daily from ",s.startTime," to ",s.endTime]})]})]})]}):null}function X3e({result:e,categories:t=[],leaderboard:n=[],showLeaderboard:r=!0,showCategoryBreakdown:i=!0,showDetailedAnalysis:s=!0,onViewSolutions:o,onClose:l,currentUserId:c}){const u=S.useMemo(()=>{if(!i||t.length===0)return[];const m={};return e.answers.forEach(x=>{var b;const v=x.categoryId||"unknown",g=x.categoryName||((b=t.find(w=>w.id===v))==null?void 0:b.name)||"Other";m[v]||(m[v]={total:0,correct:0,wrong:0,name:g}),m[v].total++,x.selected===x.correct?m[v].correct++:x.selected!==null&&m[v].wrong++}),Object.entries(m).map(([x,v])=>({id:x,name:v.name,total:v.total,correct:v.correct,wrong:v.wrong,accuracy:v.total>0?Math.round(v.correct/v.total*100):0})).sort((x,v)=>v.total-x.total)},[e.answers,t,i]),d=S.useMemo(()=>{if(!c||n.length===0)return null;const m=n.find(x=>x.userId===c);return(m==null?void 0:m.rank)||null},[n,c]),f=S.useMemo(()=>e.score>=90?{label:" Excellent!",color:"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400"}:e.score>=80?{label:" Great Job!",color:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"}:e.score>=70?{label:" Good",color:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400"}:e.score>=50?{label:" Keep Practicing",color:"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-400"}:{label:" Needs Improvement",color:"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400"},[e.score]),h=Math.round(e.correct/(e.correct+e.wrong||1)*100),p=Math.round((e.total-e.unanswered)/e.total*100),y=Math.round(e.timeTaken/e.total);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg flex items-center gap-2",children:" Test Result Analysis"}),l&&a.jsx(ye,{variant:"outline",size:"sm",onClick:l,children:" Close"})]}),a.jsxs("div",{className:"text-center py-4",children:[a.jsxs("div",{className:"relative w-36 h-36 mx-auto mb-3",children:[a.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[a.jsx("circle",{cx:"72",cy:"72",r:"60",fill:"none",stroke:"currentColor",className:"text-muted",strokeWidth:"12"}),a.jsx("circle",{cx:"72",cy:"72",r:"60",fill:"none",stroke:e.score>=80?"#22c55e":e.score>=50?"#eab308":"#ef4444",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${e.score*3.77} 377`})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsxs("span",{className:`text-4xl font-bold ${e.score>=80?"text-green-500":e.score>=50?"text-yellow-500":"text-red-500"}`,children:[e.score,"%"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Score"})]})]}),a.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-semibold ${f.color}`,children:f.label}),d&&a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",children:[" Rank #",d," of ",n.length]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400",children:e.correct}),a.jsx("p",{className:"text-[10px] sm:text-xs text-green-600/70 dark:text-green-400/70",children:" Correct"})]}),a.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400",children:e.wrong}),a.jsx("p",{className:"text-[10px] sm:text-xs text-red-600/70 dark:text-red-400/70",children:" Wrong"})]}),a.jsxs("div",{className:"text-center p-2 sm:p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg border border-gray-200 dark:border-gray-800",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-600 dark:text-gray-400",children:e.unanswered||0}),a.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600/70 dark:text-gray-400/70",children:" Skipped"})]}),a.jsxs("div",{className:"text-center p-2 sm:p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:[Math.floor(e.timeTaken/60),":",String(e.timeTaken%60).padStart(2,"0")]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600/70 dark:text-blue-400/70",children:" Time"})]})]}),i&&u.length>1&&a.jsxs(ut,{className:"overflow-hidden",children:[a.jsx(Wn,{className:"py-3 px-4 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20",children:a.jsxs(Jn,{className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(hh,{className:"h-4 w-4"})," Category-wise Performance"]})}),a.jsx(Ht,{className:"p-0",children:a.jsx("div",{className:"divide-y dark:divide-gray-800",children:u.map(m=>a.jsxs("div",{className:"p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.correct,"/",m.total," correct"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-20 h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${m.accuracy>=80?"bg-green-500":m.accuracy>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${m.accuracy}%`}})}),a.jsxs("span",{className:`text-sm font-bold w-12 text-right ${m.accuracy>=80?"text-green-600":m.accuracy>=50?"text-yellow-600":"text-red-600"}`,children:[m.accuracy,"%"]})]})]},m.id))})})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground flex items-center gap-2",children:[a.jsx(tm,{className:"h-4 w-4"})," Performance Metrics"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Accuracy"}),a.jsxs("span",{className:"font-medium",children:[h,"%"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all",style:{width:`${h}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Attempt Rate"}),a.jsxs("span",{className:"font-medium",children:[p,"%"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 rounded-full transition-all",style:{width:`${p}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Avg Time/Question"}),a.jsxs("span",{className:"font-medium",children:[y,"s"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-purple-400 to-purple-600 rounded-full transition-all",style:{width:`${Math.min(100,100-y/60*100)}%`}})})]})]})]}),r&&n.length>0&&a.jsxs(ut,{className:"overflow-hidden",children:[a.jsx(Wn,{className:"py-3 px-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20",children:a.jsxs(Jn,{className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4 text-amber-500"})," Leaderboard"]})}),a.jsx(Ht,{className:"p-0",children:a.jsx("div",{className:"divide-y dark:divide-gray-800 max-h-60 overflow-y-auto",children:n.slice(0,10).map((m,x)=>a.jsxs("div",{className:`p-3 flex items-center gap-3 ${m.isCurrentUser||m.userId===c?"bg-primary/5 border-l-2 border-l-primary":""}`,children:[a.jsxs("div",{className:"w-8 flex-shrink-0",children:[m.rank===1&&a.jsx("span",{className:"text-lg",children:""}),m.rank===2&&a.jsx("span",{className:"text-lg",children:""}),m.rank===3&&a.jsx("span",{className:"text-lg",children:""}),m.rank>3&&a.jsxs("span",{className:"text-sm font-bold text-muted-foreground",children:["#",m.rank]})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:`text-sm font-medium truncate ${m.isCurrentUser||m.userId===c?"text-primary":""}`,children:[m.userName,(m.isCurrentUser||m.userId===c)&&a.jsx("span",{className:"text-xs ml-1",children:"(You)"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.correct,"/",m.total,"  ",Math.floor(m.timeTaken/60),":",String(m.timeTaken%60).padStart(2,"0")]})]}),a.jsxs("div",{className:`text-lg font-bold ${m.score>=80?"text-green-600":m.score>=50?"text-yellow-600":"text-red-600"}`,children:[m.score,"%"]})]},m.userId))})})]}),s&&a.jsxs("div",{className:"p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800",children:[a.jsx("h4",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-400 mb-2",children:" Quick Insights"}),a.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[e.score>=80&&a.jsx("li",{children:" Outstanding performance! You've mastered this topic."}),e.score>=50&&e.score<80&&a.jsx("li",{children:" Good effort! Review incorrect answers to improve."}),e.score<50&&a.jsx("li",{children:" Focus on understanding core concepts. Try reading notes first."}),e.unanswered>0&&a.jsxs("li",{children:[" You skipped ",e.unanswered," questions. Try attempting all next time."]}),y<30&&a.jsx("li",{children:" Great speed! But ensure you're reading questions carefully."}),y>120&&a.jsx("li",{children:" Try to improve your speed while maintaining accuracy."}),u.length>1&&a.jsxs(a.Fragment,{children:[u.filter(m=>m.accuracy>=80).length>0&&a.jsxs("li",{children:[" Strong in: ",u.filter(m=>m.accuracy>=80).map(m=>m.name).join(", ")]}),u.filter(m=>m.accuracy<50).length>0&&a.jsxs("li",{children:[" Needs work: ",u.filter(m=>m.accuracy<50).map(m=>m.name).join(", ")]})]})]})]}),o&&a.jsxs(ye,{onClick:o,className:"w-full",children:[a.jsx(yc,{className:"h-4 w-4 mr-2"})," View Solutions"]})]})}function Y3e({context:e,disabled:t=!1,resultReleaseTime:n,showLeaderboard:r,showDetailedAnalysis:i,onResultReleaseTimeChange:s,onShowLeaderboardChange:o,onShowDetailedAnalysisChange:l}){return a.jsxs("div",{className:`p-3 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800 space-y-3 ${t?"opacity-50 pointer-events-none":""}`,children:[a.jsx("h5",{className:"text-sm font-semibold text-purple-700 dark:text-purple-400 flex items-center gap-2",children:" Result Analysis Settings"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Result Release Time"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{type:"time",value:n,onChange:c=>s(c.target.value),className:"flex-1"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Results visible after this time"})]})]}),(e==="group"||e==="coaching")&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Show Leaderboard"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Rank participants by score"})]}),a.jsx("input",{type:"checkbox",checked:r,onChange:c=>o(c.target.checked),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Detailed Analysis"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Charts, topic breakdown, insights"})]}),a.jsx("input",{type:"checkbox",checked:i,onChange:c=>l(c.target.checked),className:"h-4 w-4"})]})]})}function DU({activeSubTab:e,setActiveSubTab:t}){var Gx,Jb;const n=_i(X=>X.user),{courses:r,topics:i,contentItems:s,courseMCQs:o,quizResults:l,activeCourseId:c,setActiveCourse:u,addCourse:d,updateCourse:f,removeCourse:h,addTopic:p,updateTopic:y,removeTopic:m,addContentItem:x,updateContentItem:v,removeContentItem:g,addCourseMCQ:b,updateCourseMCQ:w,removeCourseMCQ:T,addQuizResult:k,getTopicsByCourse:_,getMCQsByCourse:N,loadFromFirebase:C,subscribeToFirebase:I,liveTests:j,liveTestResults:E,addLiveTest:D,updateLiveTest:R,removeLiveTest:M,getLiveTestsByCourse:U,addLiveTestResult:z,getLiveTestResultsByTest:G,setAutoLiveTestConfig:F,addAutoLiveTestConfig:W,removeAutoLiveTestConfig:O,getAutoLiveTestConfig:P,getAutoLiveTestConfigs:B,getGlobalAutoTestConfig:K,getGlobalAutoTestConfigs:Q}=hN(),[L,ee]=S.useState(!1),[ge,he]=S.useState([]),[be,Oe]=S.useState(!1),[Z,Ie]=S.useState(""),[V,ke]=S.useState(""),[xe,re]=S.useState(""),[J,pe]=S.useState(null),[Y,le]=S.useState("choose"),[te,oe]=S.useState("text"),[ae,fe]=S.useState(""),[Ae,Me]=S.useState(""),[Ve,ot]=S.useState(""),[Fe,je]=S.useState("all"),[Ge,Je]=S.useState([]),[kt,Qt]=S.useState(null),[Mt,Mn]=S.useState(null),[sn,Qn]=S.useState(null),[qn,nr]=S.useState(""),[Cn,Pn]=S.useState(["","","",""]),[Wt,rr]=S.useState(0),[ln,Dn]=S.useState(""),[Or,dr]=S.useState("medium"),[_n,ir]=S.useState(null),[jn,Kn]=S.useState(null),[Xn,br]=S.useState(""),[ce,Ne]=S.useState(["","","",""]),[ve,_e]=S.useState(0),[ie,me]=S.useState(""),[De,se]=S.useState("medium"),{subjects:Te,assets:Ee,selectedSubjectId:ue,selectedTopicId:de,setSelectedSubject:Re,setSelectedTopic:We,getTopicsBySubject:Qe,getSubtopicsByTopic:Ze}=_c(),{hapticEnabled:pt,setHapticEnabled:Kt,triggerHaptic:Tt}=F3(),[Nt,kn]=S.useState("upcoming"),[bn,ps]=S.useState("schedule"),[zr,no]=S.useState("schedule"),[Nr,Do]=S.useState(null),[Jr,jo]=S.useState([]),[ms,$s]=S.useState(0),[Hs,Ce]=S.useState({}),[vt,un]=S.useState(0),[zt,In]=S.useState(null),[On,Gs]=S.useState(!1),[fr,Io]=S.useState([]),[Ro,si]=S.useState(!1),[ro,io]=S.useState(!1),[Bl,Cc]=S.useState(""),[Ir,Au]=S.useState("30"),[sr,ai]=S.useState([]),[gs,ei]=S.useState("20"),[Vl,Pi]=S.useState(!0),[xs,sl]=S.useState("library"),[Yi,Qs]=S.useState(""),[As,ql]=S.useState(""),[Ta,al]=S.useState(""),[Vm,Wl]=S.useState(!1),[Cu,Ud]=S.useState("Daily Practice Test"),[Lh,Rr]=S.useState([]),[Ix,Mh]=S.useState("10:00"),[qm,Bd]=S.useState("22:00"),[Wm,Dc]=S.useState("30"),[zm,Ea]=S.useState("20"),[Uh,Vd]=S.useState([0,1,2,3,4,5,6]),[jc,Pe]=S.useState(!0),[it,Et]=S.useState("all"),[At,Cs]=S.useState("23:00"),[Rx,qd]=S.useState(!0),[Ds,Zi]=S.useState(!0),[ol,Wd]=S.useState(!1),[Bh,Px]=S.useState("Daily Practice Test"),[zd,Ox]=S.useState(""),[$m,Ic]=S.useState(""),[Hm,Fx]=S.useState(""),[Gm,Lx]=S.useState("10:00"),[$d,Ks]=S.useState("22:00"),[Qm,Mx]=S.useState("30"),[Rc,A]=S.useState("20"),[H,ne]=S.useState([0,1,2,3,4,5,6]),[we,qe]=S.useState(!0),[Xe,yt]=S.useState("all"),[Sr,Oi]=S.useState("23:00"),[ar,Mr]=S.useState(!0),[Ti,Pc]=S.useState(!1),[Xs,Na]=S.useState(null),hi=c?r.find(X=>X.id===c):null,pi=c?i.filter(X=>X.courseId===c).sort((X,Be)=>X.order-Be.order):[],ys=c?o.filter(X=>X.courseId===c):[],ll=S.useMemo(()=>{if(!n)return[];const X=j.filter(Be=>Be.userId===n.id);return c?X.filter(Be=>Be.courseId===c||Be.courseId==="library"||Be.courseId==="global"||Be.source==="library"||!Be.courseId).sort((Be,at)=>at.createdAt-Be.createdAt):X.sort((Be,at)=>at.createdAt-Be.createdAt)},[c,j,n]),Hd=S.useMemo(()=>Yi?Qe(Yi):[],[Yi,Qe]),Ux=S.useMemo(()=>As?Ze(As):[],[As,Ze]),Sa=S.useMemo(()=>{if(xs!=="library")return[];let X=Ee.filter(at=>at.type==="mcq");Yi&&(X=X.filter(at=>at.subjectId===Yi)),As&&(X=X.filter(at=>at.topicId===As)),Ta&&(X=X.filter(at=>at.subtopicId===Ta));const Be=[];return X.forEach(at=>{var mt;at.type==="mcq"&&"quizQuestions"in at&&((mt=at.quizQuestions)==null||mt.forEach(jt=>{Be.push(jt)}))}),Be},[xs,Yi,As,Ta,Ee]),Nn=S.useMemo(()=>c?B(c).filter(X=>X.enabled):[],[c,B]),Vh=S.useMemo(()=>c?B(c):[],[c,B]),Xt=S.useMemo(()=>c?P(c):null,[c,P]);S.useMemo(()=>Q().filter(X=>X.enabled),[Q]),S.useMemo(()=>Q(),[Q]);const $r=S.useMemo(()=>K(),[K]),Gd=S.useMemo(()=>{const X=new Date;X.setHours(0,0,0,0);const Be=X.getTime(),at=Be+24*60*60*1e3;return E.some(mt=>mt.testId.startsWith("global-auto-")&&mt.submittedAt>=Be&&mt.submittedAt<at)},[E]);S.useMemo(()=>{if(!$r||!$r.enabled||Gd)return!1;const X=new Date,Be=X.getDay();if(!$r.activeDays.includes(Be))return!1;const[at,mt]=$r.startTime.split(":").map(Number),[dt,jt]=$r.endTime.split(":").map(Number),yr=X.getHours()*60+X.getMinutes(),Ys=at*60+mt,wr=dt*60+jt;return yr>=Ys&&yr<=wr},[$r,Gd]);const Bx=S.useMemo(()=>{if(!c)return!1;const X=new Date;X.setHours(0,0,0,0);const Be=X.getTime(),at=Be+24*60*60*1e3;return E.some(mt=>mt.testId.startsWith("auto-")&&mt.courseId===c&&mt.submittedAt>=Be&&mt.submittedAt<at)},[E,c]),Qd=S.useMemo(()=>{if(!Xt||!Xt.enabled||Bx)return!1;const X=new Date,Be=X.getDay();if(!Xt.activeDays.includes(Be))return!1;const at=X.getHours()*60+X.getMinutes(),[mt,dt]=Xt.startTime.split(":").map(Number),[jt,yr]=Xt.endTime.split(":").map(Number),Ys=mt*60+dt,wr=jt*60+yr;return at>=Ys&&at<=wr},[Xt,Bx]),{setLiveTestActive:Km,setActiveTestTitle:Vx,setTargetTab:Kd}=q5();S.useEffect(()=>(Km(Qd),Vx(Qd?(Xt==null?void 0:Xt.title)||"Daily Test":null),Kd(Qd?"personal":null),()=>{Km(!1),Vx(null),Kd(null)}),[Qd,Xt==null?void 0:Xt.title,Km,Vx,Kd]),S.useEffect(()=>{Xt?(Wl(Xt.enabled),Ud(Xt.title),Rr(Xt.categoryIds),Mh(Xt.startTime),Bd(Xt.endTime),Dc(String(Xt.duration)),Ea(String(Xt.questionCount)),Vd(Xt.activeDays),Pe(Xt.showSolution),Cs(Xt.resultReleaseTime||"23:00"),qd(Xt.showLeaderboard??!0),Zi(Xt.showDetailedAnalysis??!0),Et(Xt.difficulty||"all")):(Wl(!1),Ud("Daily Practice Test"),Rr([]),Mh("10:00"),Bd("22:00"),Dc("30"),Ea("20"),Vd([0,1,2,3,4,5,6]),Pe(!0),Cs("23:00"),qd(!0),Zi(!0),Et("all"))},[Xt,c]),S.useEffect(()=>{$r&&(Wd($r.enabled),Px($r.title),Ox($r.librarySubjectId||""),Ic($r.libraryTopicId||""),Fx($r.librarySubtopicId||""),Lx($r.startTime),Ks($r.endTime),Mx(String($r.duration)),A(String($r.questionCount)),ne($r.activeDays),qe($r.showSolution),Oi($r.resultReleaseTime||"23:00"),Mr($r.showLeaderboard??!0),yt($r.difficulty||"all"))},[$r]),S.useEffect(()=>{if(n!=null&&n.id){C(n.id);const X=I(n.id);return()=>X()}},[n==null?void 0:n.id]),S.useEffect(()=>{r.length===1&&!c&&u(r[0].id)},[r,c,u]);const Oc=X=>{he(Be=>Be.includes(X)?Be.filter(at=>at!==X):[...Be,X])},Xd=()=>{if(!Z.trim()||!n)return;const X={id:an(),userId:n.id,name:Z.trim(),description:V.trim(),icon:xe,order:r.length+1,createdAt:Date.now(),updatedAt:Date.now()};d(X),u(X.id),Ie(""),ke(""),Oe(!1)},Po=X=>{const Be=X||"";if(!Be.trim()||!c||!n)return;const at={id:an(),courseId:c,userId:n.id,name:Be.trim(),order:pi.length+1,createdAt:Date.now()};p(at)},Fc=()=>{if(!J||!ae.trim()||!n||!c)return;let X="note",Be=Ae;te==="heading"?X="note":te==="pdf"?X="file":te==="text"?X="note":te==="link"?(X="link",Be=Ve):te==="quiz"&&(X="quiz");const at={id:an(),courseId:c,topicId:J.topicId,subTopicId:"",userId:n.id,type:X,title:ae.trim(),content:Be,order:s.filter(mt=>mt.topicId===J.topicId).length+1,createdAt:Date.now(),updatedAt:Date.now()};x(at),Ji()},Ji=()=>{pe(null),le("choose"),oe("text"),fe(""),Me(""),ot(""),Je([]),je("all")},Xm=()=>{!J||!n||!c||Ge.length===0||(Ge.forEach(X=>{const Be=Ee.find(dt=>dt.id===X);if(!Be)return;let at="";Be.type==="note"?at=Be.content||"":Be.type==="url"?at=Be.url||"":Be.type==="pdf"?at=Be.fileUrl||"":Be.type==="video"&&(at=Be.videoUrl||"");const mt={id:an(),courseId:c,topicId:J.topicId,subTopicId:"",userId:n.id,type:Be.type==="mcq"?"quiz":Be.type==="url"?"link":Be.type==="pdf"||Be.type==="video"?"file":"note",title:Be.title,content:at,order:s.filter(dt=>dt.topicId===J.topicId).length+1,createdAt:Date.now(),updatedAt:Date.now(),assetRef:Be.id};if(x(mt),Be.type==="mcq"){const dt=Be;dt.quizQuestions&&Array.isArray(dt.quizQuestions)&&dt.quizQuestions.forEach(jt=>{const yr={id:an(),courseId:c,categoryId:J.topicId,userId:n.id,question:jt.question||"",options:jt.options||[],correctIndex:jt.correctIndex||0,explanation:jt.explanation,createdAt:Date.now()};b(yr)})}}),Ji())},qx=()=>{kt&&(v(kt),Qt(null))},xS=()=>{const X=(sn==null?void 0:sn.topicId)||(J==null?void 0:J.topicId);if(!X||!qn.trim()||!n||!c||Cn.filter(at=>at.trim()).length<2)return;const Be={id:an(),courseId:c,categoryId:X,userId:n.id,question:qn.trim(),options:Cn.filter(at=>at.trim()),correctIndex:Wt,explanation:ln.trim()||void 0,difficulty:Or,createdAt:Date.now()};b(Be),Qn(null),nr(""),Pn(["","","",""]),rr(0),Dn(""),dr("medium")},Lc=X=>{var mt;let Be=ys;if(X&&(Be=Be.filter(dt=>dt.categoryId===X)),Be.length===0){alert("No MCQs available!");return}const at=[...Be].sort(()=>Math.random()-.5);ir({questions:at,title:X?((mt=pi.find(dt=>dt.id===X))==null?void 0:mt.name)||"Quiz":(hi==null?void 0:hi.name)||"Quiz"})},qh=async()=>{if(!jn||!Xn.trim()||ce.some(Be=>!Be.trim()))return;const X={...jn,question:Xn.trim(),options:ce.map(Be=>Be.trim()),correctIndex:ve,explanation:ie.trim()||void 0,difficulty:De};w(X),X.assetRef&&H3e(X.id),Kn(null)},Wx=()=>{if(!Bl.trim()||!n){alert("Please enter a test title");return}let X=[];if(xs==="library"){if(!Yi){alert("Please select a subject from Asset Library");return}X=Sa}else{if(!c){alert("Please select a course first");return}X=ys,sr.length>0&&(X=ys.filter(at=>sr.includes(at.categoryId||"")))}if(X.length===0){alert("No questions available. Please add MCQs first.");return}const Be={id:an(),courseId:c||"library",userId:n.id,title:Bl.trim(),categoryIds:sr,questionCount:Math.min(parseInt(gs),X.length),duration:parseInt(Ir),status:"scheduled",showSolution:Vl,createdAt:Date.now(),source:xs,librarySubjectId:xs==="library"?Yi:void 0,libraryTopicId:xs==="library"?As:void 0,librarySubtopicId:xs==="library"?Ta:void 0};D(Be),io(!1),Cc(""),Au("30"),ai([]),ei("20"),Pi(!0),Qs(""),ql(""),al(""),alert("Live Test created successfully!")},yS=X=>{if(!n)return;let Be=[];if(X.source==="library"){if(!X.librarySubjectId){alert("Please select a subject from Asset Library");return}Be=Sa}else{if(!c){alert("Please select a course first");return}Be=ys,X.categoryIds.length>0&&(Be=ys.filter(mt=>X.categoryIds.includes(mt.categoryId||"")))}if(Be.length===0){alert("No questions available. Please add MCQs first.");return}const at={id:an(),courseId:c||"library",userId:n.id,title:X.title,categoryIds:X.categoryIds,questionCount:Math.min(X.questionCount,Be.length),duration:X.duration,status:"scheduled",showSolution:X.showSolution,createdAt:Date.now(),scheduledAt:X.startTime,source:X.source,librarySubjectId:X.librarySubjectId,libraryTopicId:X.libraryTopicId,librarySubtopicId:X.librarySubtopicId,resultReleaseTime:X.endTimeStr,difficulty:X.difficulty};D(at),console.log(" Live Test created:",at),alert("Live Test created successfully!")},[zx,Yb]=S.useState(null),vS=X=>{if(!c||!n)return;const Be=X.source==="library";if(X.enabled&&!Be&&X.categoryIds.length===0&&ys.length===0){alert("Please add MCQs to your course first or select categories");return}if(X.enabled&&Be&&!X.librarySubjectId){alert("Please select a subject from Asset Library");return}const mt={id:zx||`auto-${c}-${Date.now()}`,courseId:c,userId:n.id,enabled:X.enabled,title:X.title,categoryIds:X.categoryIds||[],startTime:X.startTime,endTime:X.endTime,duration:X.duration,questionCount:X.questionCount,activeDays:X.activeDays,showSolution:X.showSolution,resultReleaseTime:X.resultReleaseTime||"",showLeaderboard:X.showLeaderboard??!0,showDetailedAnalysis:X.showDetailedAnalysis??!0,source:X.source||"course",librarySubjectId:X.librarySubjectId||"",libraryTopicId:X.libraryTopicId||"",librarySubtopicId:X.librarySubtopicId||"",difficulty:X.difficulty||"all",createdAt:zx&&(Xt==null?void 0:Xt.createdAt)||Date.now(),updatedAt:Date.now()};zx?(F(mt),alert(" Auto Test updated successfully!")):(W(mt),alert(" New Auto Test added successfully!")),Yb(null)},$x=X=>{confirm("Are you sure you want to delete this auto test?")&&(O(X),alert("Auto test deleted!"))},bS=X=>{confirm("Delete this test?")&&M(X)},Hx=X=>{let Be=[];if(X.source==="library"){let dt=Ee.filter(jt=>jt.type==="mcq");X.librarySubjectId&&(dt=dt.filter(jt=>jt.subjectId===X.librarySubjectId)),X.libraryTopicId&&(dt=dt.filter(jt=>jt.topicId===X.libraryTopicId)),X.librarySubtopicId&&(dt=dt.filter(jt=>jt.subtopicId===X.librarySubtopicId)),dt.forEach(jt=>{var yr;jt.type==="mcq"&&"quizQuestions"in jt&&((yr=jt.quizQuestions)==null||yr.forEach(wr=>{Be.push({id:wr.id||`${jt.id}-${Math.random()}`,courseId:"library",categoryId:jt.topicId,question:wr.question||"",options:wr.options||[],correctIndex:wr.correctIndex||0,explanation:wr.explanation,createdAt:jt.createdAt})}))})}else Be=ys,X.categoryIds.length>0&&(Be=ys.filter(dt=>X.categoryIds.includes(dt.categoryId||"")));if(X.difficulty&&X.difficulty!=="all"&&(Be=Be.filter(dt=>(dt.difficulty||"medium")===X.difficulty)),Be.length===0){alert("No questions available for the selected difficulty level");return}const mt=[...Be].sort(()=>Math.random()-.5).slice(0,X.questionCount);jo(mt),$s(0),Ce({}),un(Date.now()),Do(X),R({...X,status:"active",startedAt:Date.now()})},$P=X=>{if(!c||!n)return;let Be=[];if(X.source==="library"){let wr=Ee.filter(es=>es.type==="mcq");X.librarySubjectId&&(wr=wr.filter(es=>es.subjectId===X.librarySubjectId)),X.libraryTopicId&&(wr=wr.filter(es=>es.topicId===X.libraryTopicId)),X.librarySubtopicId&&(wr=wr.filter(es=>es.subtopicId===X.librarySubtopicId)),wr.forEach(es=>{var Oo;es.type==="mcq"&&"quizQuestions"in es&&((Oo=es.quizQuestions)==null||Oo.forEach(Du=>{Be.push({id:Du.id||`${es.id}-${Math.random()}`,courseId:"library",categoryId:es.topicId,question:Du.question||"",options:Du.options||[],correctIndex:Du.correctIndex||0,explanation:Du.explanation,createdAt:es.createdAt})}))})}else Be=[...ys],X.categoryIds.length>0&&(Be=ys.filter(wr=>X.categoryIds.includes(wr.categoryId||"")));if(X.difficulty&&X.difficulty!=="all"&&(Be=Be.filter(wr=>(wr.difficulty||"medium")===X.difficulty)),Be.length===0){alert("No questions available for the selected difficulty level");return}const at=new Date,mt=`${at.getFullYear()}-${String(at.getMonth()+1).padStart(2,"0")}-${String(at.getDate()).padStart(2,"0")}`,jt={id:`${X.id}-${mt}`,courseId:c,userId:n.id,title:X.title,categoryIds:X.categoryIds,questionCount:Math.min(X.questionCount,Be.length),duration:X.duration,status:"active",showSolution:X.showSolution,source:X.source,librarySubjectId:X.librarySubjectId,libraryTopicId:X.libraryTopicId,librarySubtopicId:X.librarySubtopicId,resultReleaseTime:X.resultReleaseTime,startedAt:Date.now(),createdAt:Date.now()},Ys=[...Be].sort(()=>Math.random()-.5).slice(0,jt.questionCount);jo(Ys),$s(0),Ce({}),un(Date.now()),Do(jt)},wS=()=>{if(!Nr||!n)return;const X=Nr.courseId==="global"?"global":c;if(!X)return;const Be=Math.round((Date.now()-vt)/1e3);let at=0,mt=0,dt=0;const jt=Jr.map(Oo=>{const zh=Hs[Oo.id]!==void 0?Hs[Oo.id]:null;return zh===null?dt++:zh===Oo.correctIndex?at++:mt++,{questionId:Oo.id,selected:zh,correct:Oo.correctIndex}}),yr=Math.round(at/Jr.length*100),Ys={id:an(),testId:Nr.id,courseId:X,userId:n.id,score:yr,correct:at,wrong:mt,unanswered:dt,total:Jr.length,timeTaken:Be,answers:jt,submittedAt:Date.now()};z(Ys),Nr.id.startsWith("auto-")||R({...Nr,status:"completed",endedAt:Date.now()}),Io([...Jr]);const wr=Nr.resultReleaseTime;!Wh(wr)&&wr?(alert(` Test submitted successfully!

 Result will be available at ${Zd(wr)}`),In(null)):In(Ys),Do(null),jo([]),kn("results")},Yd=(X,Be)=>{const mt=X+Be*60*1e3-Date.now();if(mt<=0)return"0:00";const dt=Math.floor(mt/6e4),jt=Math.floor(mt%6e4/1e3);return`${dt}:${String(jt).padStart(2,"0")}`},Wh=(X,Be)=>{if(!X)return!0;const at=new Date;if(Be){const yr=new Date(Be),Ys=new Date;if(Ys.setHours(0,0,0,0),yr.setHours(0,0,0,0),yr<Ys)return!0}const[mt,dt]=X.split(":").map(Number),jt=new Date;return jt.setHours(mt,dt,0,0),at>=jt},Zd=X=>{if(!X)return"";const[Be,at]=X.split(":").map(Number),mt=Be>=12?"PM":"AM";return`${Be>12?Be-12:Be===0?12:Be}:${String(at).padStart(2,"0")} ${mt}`},Zb={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]};if(_n)return a.jsx("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:a.jsx(L3e,{questions:_n.questions.map(X=>({id:X.id,categoryId:X.categoryId||"",question:X.question,options:X.options,correctIndex:X.correctIndex,explanation:X.explanation})),testTitle:_n.title,onFinish:X=>{var Be;n&&c&&k({id:an(),courseId:c,quizItemId:((Be=_n.questions[0])==null?void 0:Be.id)||"",quizTitle:_n.title,userId:n.id,score:X.percentage,correct:X.correct,wrong:X.wrong,unanswered:X.total-X.correct-X.wrong,total:X.total,timeTaken:X.timeTaken,answers:X.answers,createdAt:Date.now()})},onBack:()=>ir(null)})});if(Nr&&Jr.length>0){const X=Object.keys(Hs).length;return a.jsx("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-20 lg:pb-6",children:a.jsxs(ut,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center gap-2 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"font-medium",children:["Q ",ms+1,"/",Jr.length]}),a.jsxs("button",{onClick:()=>si(!Ro),className:"flex items-center gap-1.5 px-2 py-1 bg-muted rounded-md text-xs hover:bg-muted/80 transition-colors",children:[a.jsx(J_,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Questions"}),a.jsxs("span",{className:"text-green-600 font-medium",children:[X,"/",Jr.length]})]}),a.jsxs("span",{className:"text-red-500 font-medium",children:[a.jsx(er,{className:"h-3.5 w-3.5 inline mr-1"}),Yd(vt,Nr.duration)]})]}),a.jsxs(ye,{variant:"destructive",size:"sm",className:"h-8 text-xs",onClick:wS,children:[a.jsx(mo,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Submit"})]})]}),Ro&&a.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-3 sm:mb-4 p-3 bg-muted/50 rounded-lg border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to jump to question"}),a.jsx("button",{onClick:()=>si(!1),className:"text-muted-foreground hover:text-foreground",children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:Jr.map((Be,at)=>a.jsx("button",{onClick:()=>{$s(at),si(!1)},className:`min-w-[32px] w-8 h-8 rounded text-xs font-medium transition-colors ${ms===at?"bg-primary text-primary-foreground":Hs[Jr[at].id]!==void 0?"bg-green-500 text-white":"bg-background border hover:bg-muted"}`,children:at+1},at))}),a.jsxs("div",{className:"flex gap-4 mt-3 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 bg-green-500 rounded"})," Answered"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 bg-background border rounded"})," Unanswered"]})]})]}),a.jsx("h3",{className:"text-base sm:text-lg font-medium mb-3 sm:mb-4",children:(Gx=Jr[ms])==null?void 0:Gx.question}),a.jsx("div",{className:"space-y-2",children:(Jb=Jr[ms])==null?void 0:Jb.options.map((Be,at)=>a.jsxs("div",{className:`p-2.5 sm:p-3 border rounded cursor-pointer transition-colors text-sm ${Hs[Jr[ms].id]===at?"border-primary bg-primary/10":"hover:bg-muted"}`,onClick:()=>Ce(mt=>({...mt,[Jr[ms].id]:at})),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+at),"."]})," ",Be]},at))}),a.jsxs("div",{className:"flex justify-between pt-3 sm:pt-4",children:[a.jsxs(ye,{variant:"outline",size:"sm",className:"h-8 text-xs sm:text-sm",disabled:ms===0,onClick:()=>$s(Be=>Be-1),children:[a.jsx(f5,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})]}),ms<Jr.length-1?a.jsxs(ye,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>$s(Be=>Be+1),children:[a.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),a.jsx(Va,{className:"h-4 w-4"})]}):a.jsxs(ye,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:wS,children:[a.jsx(mo,{className:"h-3.5 w-3.5 mr-1"})," Submit"]})]})]})})}return On&&zt?a.jsx("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-20 lg:pb-6",children:a.jsxs(ut,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"View Solutions"}),a.jsxs(ye,{variant:"outline",size:"sm",className:"h-8",onClick:()=>Gs(!1),children:[a.jsx(dn,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]}),a.jsx("div",{className:"space-y-4 sm:space-y-6",children:zt.answers.map((X,Be)=>{const at=fr.find(jt=>jt.id===X.questionId)||o.find(jt=>jt.id===X.questionId);if(!at)return null;const mt=X.selected===X.correct,dt=X.selected===null;return a.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${mt?"border-green-500 bg-green-50 dark:bg-green-950/20":dt?"border-gray-400 bg-gray-50 dark:bg-gray-950/20":"border-red-500 bg-red-50 dark:bg-red-950/20"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[a.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:["Q",Be+1,"."]}),mt?a.jsxs("span",{className:"text-green-600 text-xs sm:text-sm flex items-center",children:[a.jsx(ua,{className:"h-3.5 w-3.5 mr-1"})," Correct"]}):dt?a.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm flex items-center",children:[a.jsx(nK,{className:"h-3.5 w-3.5 mr-1"})," Skipped"]}):a.jsxs("span",{className:"text-red-600 text-xs sm:text-sm flex items-center",children:[a.jsx(od,{className:"h-3.5 w-3.5 mr-1"})," Wrong"]})]}),a.jsx("p",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:at.question}),a.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:at.options.map((jt,yr)=>a.jsxs("div",{className:`p-1.5 sm:p-2 rounded text-xs sm:text-sm ${yr===X.correct?"bg-green-200 dark:bg-green-900 font-medium":X.selected===yr&&!mt?"bg-red-200 dark:bg-red-900":""}`,children:[a.jsxs("span",{className:"font-medium mr-1.5 sm:mr-2",children:[String.fromCharCode(65+yr),"."]}),jt,yr===X.correct&&a.jsx(mo,{className:"h-3.5 w-3.5 inline ml-1.5 text-green-600"}),X.selected===yr&&!mt&&a.jsx(dn,{className:"h-3.5 w-3.5 inline ml-1.5 text-red-600"})]},yr))}),at.explanation&&a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-xs sm:text-sm",children:[a.jsx("span",{className:"font-medium",children:"Explanation:"})," ",at.explanation]})]},X.questionId)})})]})}):hi?a.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto pb-20 lg:pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>u(null),children:" Back"}),a.jsx("span",{className:"text-2xl",children:hi.icon}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold",children:hi.name}),hi.description&&a.jsx("p",{className:"text-sm text-muted-foreground",children:hi.description})]})]}),a.jsx(ye,{variant:L?"default":"outline",size:"sm",onClick:()=>ee(!L),children:L?a.jsxs(a.Fragment,{children:[a.jsx(fo,{className:"h-4 w-4 mr-1"})," Exit Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(fo,{className:"h-4 w-4 mr-1"})," Edit"]})})]}),a.jsxs(G0,{value:e,onValueChange:X=>t(X),className:"w-full",children:[a.jsxs(am,{className:"hidden lg:flex w-full justify-start mb-4 bg-muted/50",children:[a.jsxs(Ai,{value:"dashboard",className:"flex items-center gap-2",children:[a.jsx(W0,{className:"h-4 w-4"}),"Dashboard"]}),a.jsxs(Ai,{value:"course",className:"flex items-center gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),"Course"]}),a.jsxs(Ai,{value:"live-test",className:"flex items-center gap-2",children:[a.jsx(id,{className:"h-4 w-4"}),"Live Test"]}),a.jsxs(Ai,{value:"settings",className:"flex items-center gap-2",children:[a.jsx(Qi,{className:"h-4 w-4"}),"Settings"]})]}),a.jsxs(Ci,{value:"dashboard",className:"mt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(Br,{className:"h-6 w-6 mx-auto mb-2 text-blue-500"}),a.jsx("p",{className:"text-xl font-bold",children:pi.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Chapters"})]})}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(Lr,{className:"h-6 w-6 mx-auto mb-2 text-green-500"}),a.jsx("p",{className:"text-xl font-bold",children:s.filter(X=>X.courseId===c).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Contents"})]})}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(ru,{className:"h-6 w-6 mx-auto mb-2 text-purple-500"}),a.jsx("p",{className:"text-xl font-bold",children:ys.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"MCQs"})]})}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(Ma,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),a.jsx("p",{className:"text-xl font-bold",children:l.filter(X=>X.courseId===c).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quiz Results"})]})})]}),a.jsxs(ut,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>t("course"),children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Add Chapter"]}),a.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>Lc(),disabled:ys.length===0,children:[a.jsx(Oa,{className:"h-4 w-4 mr-1"})," Start Quiz"]})]})]})]}),a.jsxs(Ci,{value:"course",className:"mt-4 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-lg font-semibold",children:"Course Contents"})}),L&&a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 hover:bg-muted/50 rounded cursor-pointer border border-dashed",onClick:()=>{const X=prompt("Enter chapter name:");X!=null&&X.trim()&&Po(X)},children:[a.jsx(rn,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]}),a.jsx("div",{className:"space-y-3",children:pi.length===0?a.jsx(ut,{className:"p-8 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["No chapters yet. ",L&&'Click "Add new chapter" above!']})}):pi.map(X=>{const Be=s.filter(dt=>dt.topicId===X.id),at=ys.filter(dt=>dt.categoryId===X.id),mt=ge.includes(X.id);return a.jsxs(ut,{className:"overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-muted/50",onClick:()=>Oc(X.id),children:[mt?a.jsx(Ba,{className:"h-4 w-4"}):a.jsx(Va,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium",children:X.name}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",Be.length," items, ",at.length," MCQs)"]})]}),L&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,onClick:dt=>dt.stopPropagation(),children:a.jsx(ye,{variant:"ghost",size:"sm",children:a.jsx(sd,{className:"h-4 w-4"})})}),a.jsxs(pu,{children:[a.jsxs(Un,{onClick:()=>{const dt=prompt("Rename chapter:",X.name);dt!=null&&dt.trim()&&y({...X,name:dt.trim()})},children:[a.jsx(fo,{className:"h-4 w-4 mr-2"})," Rename"]}),a.jsxs(Un,{onClick:()=>{he(dt=>dt.includes(X.id)?dt:[...dt,X.id]),pe({topicId:X.id})},children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Add content"]}),a.jsxs(Un,{onClick:()=>{const dt=pi.findIndex(jt=>jt.id===X.id);if(dt>0){const jt=pi[dt-1];y({...X,order:jt.order}),y({...jt,order:X.order})}},disabled:pi.findIndex(dt=>dt.id===X.id)===0,children:[a.jsx(w1,{className:"h-4 w-4 mr-2"})," Move up"]}),a.jsxs(Un,{onClick:()=>{const dt=pi.findIndex(jt=>jt.id===X.id);if(dt<pi.length-1){const jt=pi[dt+1];y({...X,order:jt.order}),y({...jt,order:X.order})}},disabled:pi.findIndex(dt=>dt.id===X.id)===pi.length-1,children:[a.jsx(b1,{className:"h-4 w-4 mr-2"})," Move down"]}),a.jsxs(Un,{className:"text-destructive",onClick:()=>{confirm("Delete this chapter and all its content?")&&m(X.id)},children:[a.jsx(kr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]}),!L&&at.length>0&&a.jsxs(ye,{variant:"outline",size:"sm",onClick:dt=>{dt.stopPropagation(),Lc(X.id)},children:[a.jsx(Oa,{className:"h-3 w-3 mr-1"})," Quiz"]})]}),mt&&a.jsxs("div",{className:"border-t bg-muted/30 p-3 space-y-2",children:[Be.filter(dt=>dt.type!=="quiz").map(dt=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background rounded border cursor-pointer hover:border-primary",onClick:()=>Mn(dt),children:[dt.type==="note"?a.jsx(Lr,{className:"h-4 w-4 text-green-500"}):a.jsx(ru,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"flex-1 text-sm",children:dt.title}),a.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:dt.type}),L&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,onClick:jt=>jt.stopPropagation(),children:a.jsx(ye,{variant:"ghost",size:"sm",children:a.jsx(sd,{className:"h-3 w-3"})})}),a.jsxs(pu,{children:[a.jsxs(Un,{onClick:jt=>{jt.stopPropagation(),Qt(dt)},children:[a.jsx(fo,{className:"h-4 w-4 mr-2"})," Edit"]}),a.jsxs(Un,{className:"text-destructive",onClick:jt=>{jt.stopPropagation(),confirm("Delete this content?")&&g(dt.id)},children:[a.jsx(kr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]},dt.id)),L&&a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 hover:bg-muted/50 rounded cursor-pointer text-primary",onClick:()=>pe({topicId:X.id}),children:[a.jsx(rn,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Add content"})]}),at.length>0&&!L&&a.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",at.length," MCQs available"]}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>Lc(X.id),children:[a.jsx(Oa,{className:"h-3 w-3 mr-1"})," Start Quiz"]})]}),Be.length===0&&a.jsxs("p",{className:"text-sm text-muted-foreground py-2",children:["No content yet. ",L&&'Click "Add content" to start!']})]})]},X.id)})}),L&&pi.length>0&&a.jsxs("div",{className:"flex items-center gap-2 py-3 px-3 hover:bg-primary/10 rounded cursor-pointer border border-dashed",onClick:()=>{const X=prompt("Enter chapter name:");X!=null&&X.trim()&&Po(X)},children:[a.jsx(rn,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]})]}),a.jsxs(Ci,{value:"live-test",className:"mt-4 space-y-4",children:[Nn.length>0&&a.jsx("div",{className:"space-y-2",children:Nn.map(X=>{const Be=new Date,at=`${String(Be.getHours()).padStart(2,"0")}:${String(Be.getMinutes()).padStart(2,"0")}`,mt=X.enabled&&at>=X.startTime&&at<=X.endTime,dt=new Date,jt=`${dt.getFullYear()}-${String(dt.getMonth()+1).padStart(2,"0")}-${String(dt.getDate()).padStart(2,"0")}`,yr=E.some(Ys=>Ys.testId===`${X.id}-${jt}`);return a.jsx(ut,{className:`border-2 ${yr?"border-green-500 bg-green-50 dark:bg-green-900/20":mt?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20"}`,children:a.jsxs(Ht,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[yr?a.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold text-sm",children:" Done"}):mt?a.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-sm animate-pulse",children:" LIVE"}):a.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-yellow-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:`font-semibold text-sm sm:text-base ${yr?"text-green-700 dark:text-green-400":mt?"text-red-700 dark:text-red-400":"text-yellow-700 dark:text-yellow-400"}`,children:X.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[X.questionCount," Q  ",X.duration," min",X.source==="library"&&"   Library"]})]})]}),yr?a.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:[" Today's test completed! Result at ",X.resultReleaseTime||X.endTime]}):mt?a.jsxs(ye,{size:"sm",className:"h-8 text-xs sm:text-sm w-full sm:w-auto bg-red-600 hover:bg-red-700",onClick:()=>$P(X),children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Start Now!"]}):a.jsxs("span",{className:"text-xs text-yellow-700 dark:text-yellow-400 font-medium",children:[" Available: ",X.startTime," - ",X.endTime]})]}),mt&&a.jsxs("p",{className:"text-xs text-red-600/70 dark:text-red-400/70 mt-2",children:[" Live now! Available until ",X.endTime," today"]})]})},X.id)})}),!(Xt!=null&&Xt.enabled)&&Te.length>0&&a.jsx(ut,{className:"border-dashed border-2 border-primary/30 bg-primary/5",children:a.jsx(Ht,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[a.jsx(ss,{className:"h-4 w-4"})," Quick Test from Library"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a test from Asset Library MCQs"})]}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>t("settings"),children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Create"]})]})})}),a.jsxs("div",{className:"flex gap-2 border-b pb-2 mb-4",children:[a.jsxs(ye,{variant:Nt==="upcoming"?"default":"ghost",size:"sm",onClick:()=>kn("upcoming"),children:[a.jsx(er,{className:"h-4 w-4 mr-1"})," Upcoming"]}),a.jsxs(ye,{variant:Nt==="past"?"default":"ghost",size:"sm",onClick:()=>kn("past"),children:[a.jsx(Ug,{className:"h-4 w-4 mr-1"})," Past Tests"]}),a.jsxs(ye,{variant:Nt==="results"?"default":"ghost",size:"sm",onClick:()=>kn("results"),children:[a.jsx(Ma,{className:"h-4 w-4 mr-1"})," My Results"]})]}),Nt==="upcoming"&&a.jsx("div",{className:"space-y-4",children:ll.filter(X=>X.status==="scheduled").length===0?a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(er,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for scheduled tests"})]}):ll.filter(X=>X.status==="scheduled").map(X=>a.jsx(ut,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:X.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(hh,{className:"h-4 w-4 inline mr-1"})," ",X.questionCount," questions"]}),a.jsxs("span",{children:[a.jsx(er,{className:"h-4 w-4 inline mr-1"})," ",X.duration," min"]})]})]}),a.jsxs(ye,{onClick:()=>Hx(X),children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"})," Start"]})]})},X.id))}),Nt==="past"&&a.jsx("div",{className:"space-y-4",children:ll.filter(X=>X.status==="completed").length===0?a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(Ug,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Completed tests will appear here"})]}):ll.filter(X=>X.status==="completed").map(X=>{const Be=E.find(dt=>dt.testId===X.id),at=X.resultReleaseTime,mt=Wh(at,Be==null?void 0:Be.submittedAt);return a.jsxs(ut,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:X.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[X.endedAt?new Date(X.endedAt).toLocaleDateString():"","  ",X.questionCount," questions"]})]}),a.jsx("div",{className:"text-right",children:Be?mt?a.jsxs("div",{className:`text-2xl font-bold ${Be.score>=80?"text-green-500":Be.score>=50?"text-yellow-500":"text-red-500"}`,children:[Be.score,"%"]}):a.jsxs("div",{className:"text-sm text-orange-500 flex items-center gap-1",children:[a.jsx(er,{className:"h-4 w-4"}),"Result at ",Zd(at)]}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Not attempted"})})]}),Be&&X.showSolution&&mt&&a.jsx("div",{className:"flex gap-2 mt-3",children:a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>{In(Be),Gs(!0)},children:[a.jsx(yc,{className:"h-4 w-4 mr-1"})," View Solutions"]})}),Be&&!mt&&a.jsxs("div",{className:"mt-3 p-2 bg-orange-50 dark:bg-orange-900/20 rounded text-sm text-orange-600 dark:text-orange-400 flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4"}),"Test submitted! Result will be available at ",Zd(at)]})]},X.id)})}),Nt==="results"&&a.jsx("div",{className:"space-y-4",children:zt?a.jsx(ut,{className:"p-4",children:a.jsx(X3e,{result:{...zt,answers:zt.answers.map(X=>{var at;const Be=ys.find(mt=>mt.id===X.questionId);return{...X,categoryId:Be==null?void 0:Be.categoryId,categoryName:(at=pi.find(mt=>mt.id===(Be==null?void 0:Be.categoryId)))==null?void 0:at.name}})},categories:pi.map(X=>({id:X.id,name:X.name})),showLeaderboard:!1,showCategoryBreakdown:!0,showDetailedAnalysis:!0,currentUserId:n==null?void 0:n.id,onClose:()=>In(null),onViewSolutions:()=>Gs(!0)})}):a.jsxs(ut,{className:"p-4",children:[a.jsx(Wn,{className:"p-0 pb-3",children:a.jsx(Jn,{children:"My Live Test Results"})}),a.jsx(Ht,{className:"p-0",children:E.filter(X=>X.courseId===c).length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No results yet. Take a live test!"}):a.jsx("div",{className:"space-y-2",children:E.filter(X=>X.courseId===c).sort((X,Be)=>Be.submittedAt-X.submittedAt).slice(0,10).map(X=>{const Be=j.find(jt=>jt.id===X.testId),mt=X.testId.startsWith("auto-")?Xt==null?void 0:Xt.endTime:Be==null?void 0:Be.resultReleaseTime,dt=Wh(mt,X.submittedAt);return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-muted/50 cursor-pointer",onClick:()=>dt&&In(X),children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(Be==null?void 0:Be.title)||"Auto Test"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(X.submittedAt).toLocaleDateString(),"  ",dt?`${X.correct}/${X.total} correct`:"Result pending"]})]}),a.jsx("div",{className:"flex items-center gap-3",children:dt?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`text-xl font-bold ${X.score>=80?"text-green-500":X.score>=50?"text-yellow-500":"text-red-500"}`,children:[X.score,"%"]}),(Be==null?void 0:Be.showSolution)&&a.jsx(ye,{size:"sm",variant:"outline",onClick:jt=>{jt.stopPropagation(),In(X),Gs(!0)},children:a.jsx(yc,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"text-sm text-orange-500 flex items-center gap-1",children:[a.jsx(er,{className:"h-4 w-4"}),Zd(mt)]})})]},X.id)})})})]})})]}),a.jsxs(Ci,{value:"settings",className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Course Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage this course"})]}),a.jsxs(ut,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Course Info"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Name"}),a.jsx(nt,{value:hi.name,onChange:X=>f({...hi,name:X.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description"}),a.jsx(lr,{value:hi.description||"",onChange:X=>f({...hi,description:X.target.value}),rows:3})]})]})]}),a.jsxs(ut,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(er,{className:"h-5 w-5"}),"Live Test Management"]}),a.jsx(eJ,{context:"personal",contextId:c||void 0,categories:pi.map(X=>({id:X.id,name:X.name,questionCount:ys.filter(Be=>Be.categoryId===X.id).length})),scheduledTests:ll.filter(X=>X.status==="scheduled").map(X=>({id:X.id,title:X.title,duration:X.duration,questionCount:X.questionCount,showSolution:X.showSolution,status:X.status,createdAt:X.createdAt,categoryIds:X.categoryIds||[],source:X.source,librarySubjectId:X.librarySubjectId,libraryTopicId:X.libraryTopicId,librarySubtopicId:X.librarySubtopicId})),autoTestConfig:Xt?{id:Xt.id,enabled:Xt.enabled,title:Xt.title,categoryIds:Xt.categoryIds,startTime:Xt.startTime,endTime:Xt.endTime,duration:Xt.duration,questionCount:Xt.questionCount,activeDays:Xt.activeDays,showSolution:Xt.showSolution,showLeaderboard:Xt.showLeaderboard??!0,resultReleaseTime:Xt.resultReleaseTime||"23:00",showDetailedAnalysis:Xt.showDetailedAnalysis??!0,difficulty:Xt.difficulty||"all",createdAt:Xt.createdAt,updatedAt:Xt.updatedAt}:null,onCreateTest:yS,onDeleteTest:bS,onSaveAutoConfig:vS,showSourceSelector:!0,assetSubjects:Te,getTopicsForSubject:X=>Qe(X),getSubtopicsForTopic:X=>Ze(X),getLibraryMCQCount:(X,Be,at)=>{let mt=Ee.filter(dt=>dt.type==="mcq"&&dt.subjectId===X);return Be&&(mt=mt.filter(dt=>dt.topicId===Be)),at&&(mt=mt.filter(dt=>dt.subtopicId===at)),mt.length}})]}),Vh.length>0&&a.jsxs(ut,{className:"p-4 border-2 border-primary/20",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Sl,{className:"h-5 w-5"}),"  Your Auto Daily Tests (",Vh.length,")"]}),a.jsx("div",{className:"space-y-2",children:Vh.map(X=>{var Be,at;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded bg-muted/30",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:X.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.questionCount," Q  ",X.duration," min   ",X.startTime,"-",X.endTime]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.source==="library"?` ${((Be=Te.find(mt=>mt.id===X.librarySubjectId))==null?void 0:Be.name)||"Asset Library"}`:` Course (${((at=X.categoryIds)==null?void 0:at.length)||0} categories)`})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${X.enabled?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400"}`,children:X.enabled?" Active":"Off"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>$x(X.id),className:"hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(kr,{className:"h-4 w-4 text-red-500"})})]})]},X.id)})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-3 italic",children:' Use "Auto Daily" tab above to add more auto tests'})]}),a.jsxs(ut,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Lj,{className:"h-5 w-5"}),"  "]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]}),a.jsx(Hi,{checked:pt,onCheckedChange:X=>{Kt(X),X&&Tt()}})]})]}),a.jsxs(ut,{className:"p-4 border-destructive/50",children:[a.jsx("h3",{className:"font-semibold mb-3 text-destructive",children:"Danger Zone"}),a.jsxs(ye,{variant:"destructive",onClick:()=>{confirm("Delete this course and all its content? This cannot be undone!")&&(h(c),u(null))},children:[a.jsx(kr,{className:"h-4 w-4 mr-2"})," Delete Course"]})]})]})]}),a.jsx($n,{children:J&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:Ji,children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:X=>X.stopPropagation(),children:[Y==="choose"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Add Content"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:Ji,children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover:border-primary hover:bg-muted/50 cursor-pointer transition-all",onClick:()=>le("type"),children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(rn,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Manually"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create new content from scratch"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover:border-primary hover:bg-muted/50 cursor-pointer transition-all",onClick:()=>le("import"),children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:a.jsx(ss,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Import from Library"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Import MCQs or Notes from your library"})]})]})]})]}),Y==="import"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>le("choose"),children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(ss,{className:"h-5 w-5 text-purple-600"}),"Import from Library"]}),a.jsx("div",{className:"flex-1"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:Ji,children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-1 p-1 bg-muted rounded mb-4",children:["all","mcq","note","url","pdf","video"].map(X=>a.jsx("button",{onClick:()=>je(X),className:`px-2 py-1 rounded text-xs capitalize ${Fe===X?"bg-background shadow":""}`,children:X==="all"?"All":X==="mcq"?"MCQs":X==="note"?"Notes":X==="url"?"Links":X==="pdf"?"PDFs":"Videos"},X))}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs(Bt,{value:ue||"all",onValueChange:X=>Re(X==="all"?null:X),children:[a.jsx(Ft,{className:"flex-1 h-9",children:a.jsx(Vt,{placeholder:"All Subjects"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Subjects"}),Te.map(X=>a.jsx(Ke,{value:X.id,children:X.name},X.id))]})]}),ue&&a.jsxs(Bt,{value:de||"all",onValueChange:X=>We(X==="all"?null:X),children:[a.jsx(Ft,{className:"flex-1 h-9",children:a.jsx(Vt,{placeholder:"All Topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Topics"}),Qe(ue).map(X=>a.jsx(Ke,{value:X.id,children:X.name},X.id))]})]})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:Ee.length===0?a.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No assets in your library yet.",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Go to Library tab to add content!"})]}):Ee.filter(X=>!(Fe!=="all"&&X.type!==Fe||ue&&X.subjectId!==ue||de&&X.topicId!==de)).map(X=>a.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-muted/50 ${Ge.includes(X.id)?"border-primary bg-primary/5":""}`,children:[a.jsx("input",{type:"checkbox",checked:Ge.includes(X.id),onChange:Be=>{Be.target.checked?Je([...Ge,X.id]):Je(Ge.filter(at=>at!==X.id))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${X.type==="mcq"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":X.type==="note"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":X.type==="url"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300"}`,children:X.type.toUpperCase()}),a.jsx("span",{className:"font-medium text-sm truncate",children:X.title})]}),X.type==="note"&&X.content&&a.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:[(X.content||"").replace(/<[^>]*>/g,"").substring(0,60),"..."]}),X.type==="mcq"&&X.quizQuestions&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[X.quizQuestions.length," questions"]})]})]},X.id))}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[a.jsx(ye,{variant:"outline",onClick:Ji,children:"Cancel"}),a.jsxs(ye,{onClick:Xm,disabled:Ge.length===0,className:"bg-purple-600 hover:bg-purple-700",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Import (",Ge.length,")"]})]})]}),Y==="type"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>le("choose"),children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Create new item"}),a.jsx("div",{className:"flex-1"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:Ji,children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"space-y-2",children:[{type:"heading",icon:iK,label:"Heading",desc:"Define chapter section headings"},{type:"pdf",icon:p5,label:"PDF / Images",desc:"Upload PDF or image files"},{type:"text",icon:uK,label:"Text",desc:"Add custom text or iFrame and HTML"},{type:"link",icon:lK,label:"Link (Video, Website etc.)",desc:"Add link which will be embedded in iFrame"},{type:"quiz",icon:ru,label:"Quiz",desc:"Learners can attempt any time & get results"}].map(X=>a.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg border cursor-pointer transition-all ${te===X.type?"border-primary bg-primary/5":"hover:border-muted-foreground/50"}`,onClick:()=>{oe(X.type),le("form")},children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center",children:te===X.type&&a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),a.jsx(X.icon,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:X.label}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.desc})]})]},X.type))})]}),Y==="form"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>le("type"),children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-xl font-semibold",children:[te==="heading"&&"Add Heading",te==="pdf"&&"Add PDF / Images",te==="text"&&"Add Text",te==="link"&&"Add Link",te==="quiz"&&"Add Quiz"]}),a.jsx("div",{className:"flex-1"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:Ji,children:a.jsx(dn,{className:"h-4 w-4"})})]}),te==="heading"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Heading Text"}),a.jsx(nt,{placeholder:"Enter heading",value:ae,onChange:X=>fe(X.target.value)})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:Ji,children:"Cancel"}),a.jsx(ye,{onClick:Fc,disabled:!ae.trim(),children:"Add"})]})]}),te==="pdf"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(nt,{placeholder:"File title",value:ae,onChange:X=>fe(X.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"File URL"}),a.jsx(nt,{placeholder:"Enter file URL (PDF, Image)",value:Ve,onChange:X=>ot(X.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload to Google Drive/Dropbox and paste the link"})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:Ji,children:"Cancel"}),a.jsx(ye,{onClick:Fc,disabled:!ae.trim(),children:"Add"})]})]}),te==="text"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(nt,{placeholder:"Content title",value:ae,onChange:X=>fe(X.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsx(gh,{theme:"snow",value:Ae,onChange:Me,modules:Zb,className:"bg-background"})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:Ji,children:"Cancel"}),a.jsx(ye,{onClick:Fc,disabled:!ae.trim(),children:"Add"})]})]}),te==="link"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(nt,{placeholder:"Link title",value:ae,onChange:X=>fe(X.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"URL"}),a.jsx(nt,{placeholder:"https://...",value:Ve,onChange:X=>ot(X.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"YouTube, Website, or any embeddable link"})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:Ji,children:"Cancel"}),a.jsx(ye,{onClick:Fc,disabled:!ae.trim()||!Ve.trim(),children:"Add"})]})]}),te==="quiz"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question"}),a.jsx(lr,{placeholder:"Enter your question",value:qn,onChange:X=>nr(X.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options (click to mark correct)"}),Cn.map((X,Be)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${Wt===Be?"border-green-500 bg-green-500 text-white":"border-muted-foreground"}`,onClick:()=>rr(Be),children:Wt===Be&&a.jsx(mo,{className:"h-3 w-3"})}),a.jsx(nt,{placeholder:`Option ${String.fromCharCode(65+Be)}`,value:X,onChange:at=>{const mt=[...Cn];mt[Be]=at.target.value,Pn(mt)}})]},Be))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Explanation (optional)"}),a.jsx(lr,{placeholder:"Explain the answer",value:ln,onChange:X=>Dn(X.target.value),rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Difficulty Level"}),a.jsx("div",{className:"flex gap-2 mt-1",children:["easy","medium","hard"].map(X=>a.jsx("button",{type:"button",onClick:()=>dr(X),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${Or===X?X==="easy"?"bg-green-500 text-white":X==="medium"?"bg-yellow-500 text-white":"bg-red-500 text-white":"bg-muted hover:bg-muted/80"}`,children:X==="easy"?" Easy":X==="medium"?" Medium":" Hard"},X))})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:Ji,children:"Cancel"}),a.jsx(ye,{onClick:()=>{xS(),Ji()},disabled:!qn.trim()||Cn.filter(X=>X.trim()).length<2,children:"Add Quiz"})]})]})]})]})})}),a.jsx($n,{children:sn&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Qn(null),children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-lg w-full max-h-[80vh] overflow-y-auto p-6 space-y-4",onClick:X=>X.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Add MCQ"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question"}),a.jsx(lr,{placeholder:"Enter your question",value:qn,onChange:X=>nr(X.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options (click to mark correct)"}),Cn.map((X,Be)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${Wt===Be?"border-green-500 bg-green-500 text-white":"border-muted-foreground"}`,onClick:()=>rr(Be),children:Wt===Be&&a.jsx(mo,{className:"h-3 w-3"})}),a.jsx(nt,{placeholder:`Option ${String.fromCharCode(65+Be)}`,value:X,onChange:at=>{const mt=[...Cn];mt[Be]=at.target.value,Pn(mt)}})]},Be))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Explanation (optional)"}),a.jsx(lr,{placeholder:"Explain the answer",value:ln,onChange:X=>Dn(X.target.value),rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Difficulty Level"}),a.jsx("div",{className:"flex gap-2 mt-1",children:["easy","medium","hard"].map(X=>a.jsx("button",{type:"button",onClick:()=>dr(X),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${Or===X?X==="easy"?"bg-green-500 text-white":X==="medium"?"bg-yellow-500 text-white":"bg-red-500 text-white":"bg-muted hover:bg-muted/80"}`,children:X==="easy"?" Easy":X==="medium"?" Medium":" Hard"},X))})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>Qn(null),children:"Cancel"}),a.jsx(ye,{onClick:xS,disabled:!qn.trim()||Cn.filter(X=>X.trim()).length<2,children:"Add MCQ"})]})]})})}),a.jsx($n,{children:Mt&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Mn(null),children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-3xl w-full max-h-[80vh] overflow-y-auto p-6",onClick:X=>X.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:Mt.title}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>Mn(null),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:Mt.content||'<p class="text-muted-foreground">No content</p>'}})]})})}),a.jsx($n,{children:kt&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Qt(null),children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6 space-y-4",onClick:X=>X.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Edit Content"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Title"}),a.jsx(nt,{value:kt.title,onChange:X=>Qt({...kt,title:X.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsx(gh,{theme:"snow",value:kt.content||"",onChange:X=>Qt({...kt,content:X}),modules:Zb,className:"bg-background"})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>Qt(null),children:"Cancel"}),a.jsx(ye,{onClick:qx,children:"Save"})]})]})})}),a.jsx($n,{children:jn&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>Kn(null),children:a.jsxs(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-background rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto p-4",onClick:X=>X.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(fo,{className:"h-4 w-4"})," Edit MCQ",jn.assetRef&&a.jsx("span",{className:"text-xs text-green-500",children:"( Library Synced)"})]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>Kn(null),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Question"}),a.jsx(lr,{value:Xn,onChange:X=>br(X.target.value),placeholder:"Enter question...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options"}),ce.map((X,Be)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"editCorrect",checked:ve===Be,onChange:()=>_e(Be),className:"h-4 w-4"}),a.jsx(nt,{value:X,onChange:at=>{const mt=[...ce];mt[Be]=at.target.value,Ne(mt)},placeholder:`Option ${Be+1}`})]},Be))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Explanation (Optional)"}),a.jsx(lr,{value:ie,onChange:X=>me(X.target.value),placeholder:"Explain the correct answer...",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Difficulty Level"}),a.jsx("div",{className:"flex gap-2 mt-1",children:["easy","medium","hard"].map(X=>a.jsx("button",{type:"button",onClick:()=>se(X),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${De===X?X==="easy"?"bg-green-500 text-white":X==="medium"?"bg-yellow-500 text-white":"bg-red-500 text-white":"bg-muted hover:bg-muted/80"}`,children:X==="easy"?" Easy":X==="medium"?" Medium":" Hard"},X))})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(ye,{variant:"outline",onClick:()=>Kn(null),children:"Cancel"}),a.jsxs(ye,{onClick:qh,disabled:!Xn.trim()||ce.some(X=>!X.trim()),children:[a.jsx(_r,{className:"h-4 w-4 mr-1"})," Save ",jn.assetRef&&"& Sync"]})]})]})]})})})]}):a.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto pb-20 lg:pb-6",children:[a.jsxs(G0,{value:e,onValueChange:X=>t(X),className:"w-full",children:[a.jsxs(am,{className:"hidden lg:flex w-full justify-start mb-4 bg-muted/50",children:[a.jsxs(Ai,{value:"dashboard",className:"flex items-center gap-2",children:[a.jsx(W0,{className:"h-4 w-4"}),"Dashboard"]}),a.jsxs(Ai,{value:"course",className:"flex items-center gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),"Course"]}),a.jsxs(Ai,{value:"live-test",className:"flex items-center gap-2",children:[a.jsx(id,{className:"h-4 w-4"}),"Live Test"]}),a.jsxs(Ai,{value:"settings",className:"flex items-center gap-2",children:[a.jsx(Qi,{className:"h-4 w-4"}),"Settings"]})]}),a.jsxs(Ci,{value:"dashboard",className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Personal Desk"}),a.jsx("p",{className:"text-muted-foreground",children:"Your personal learning dashboard"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(Br,{className:"h-6 w-6 mx-auto mb-2 text-blue-500"}),a.jsx("p",{className:"text-xl font-bold",children:r.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Courses"})]})}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(Lr,{className:"h-6 w-6 mx-auto mb-2 text-green-500"}),a.jsx("p",{className:"text-xl font-bold",children:s.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Contents"})]})}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(ru,{className:"h-6 w-6 mx-auto mb-2 text-purple-500"}),a.jsx("p",{className:"text-xl font-bold",children:o.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"MCQs"})]})}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-4 text-center",children:[a.jsx(Ma,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),a.jsx("p",{className:"text-xl font-bold",children:l.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quizzes"})]})})]}),r.length===0&&a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first course to get started"}),a.jsxs(ye,{onClick:()=>{t("course"),Oe(!0)},children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Create Course"]})]})]}),a.jsxs(Ci,{value:"course",className:"mt-4 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"My Courses"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage your courses"})]}),a.jsxs(ye,{onClick:()=>Oe(!0),className:"gap-2",children:[a.jsx(rn,{className:"h-4 w-4"})," Create Course"]})]}),r.length===0?a.jsxs(ut,{className:"p-12 text-center",children:[a.jsx(Br,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No courses yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first course to get started"}),a.jsxs(ye,{onClick:()=>Oe(!0),children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Create Course"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(X=>a.jsx(ut,{className:"cursor-pointer hover:shadow-lg transition-all hover:border-primary",onClick:()=>u(X.id),children:a.jsx(Ht,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-4xl",children:X.icon||""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate",children:X.name}),X.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:X.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[_(X.id).length," chapters"]}),a.jsxs("span",{children:[N(X.id).length," MCQs"]})]})]})]})})},X.id))})]}),a.jsxs(Ci,{value:"live-test",className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Live Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Practice with timed tests from Asset Library"})]}),a.jsx(ut,{className:"border-dashed border-2 border-primary/30 bg-primary/5",children:a.jsx(Ht,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4"})," Auto Daily Test"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set up auto daily tests from Settings tab (Course or Asset Library)"})]}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>t("settings"),children:[a.jsx(Qi,{className:"h-4 w-4 mr-1"})," Settings"]})]})})}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(ye,{variant:Nt==="upcoming"?"default":"outline",size:"sm",onClick:()=>kn("upcoming"),children:[a.jsx(er,{className:"h-4 w-4 mr-1"})," Upcoming"]}),a.jsxs(ye,{variant:Nt==="past"?"default":"outline",size:"sm",onClick:()=>kn("past"),children:[a.jsx(Ug,{className:"h-4 w-4 mr-1"})," Past Tests"]}),a.jsxs(ye,{variant:Nt==="results"?"default":"outline",size:"sm",onClick:()=>kn("results"),children:[a.jsx(Ma,{className:"h-4 w-4 mr-1"})," My Results"]})]}),Nt==="upcoming"&&a.jsx("div",{className:"space-y-4",children:ll.filter(X=>X.status==="scheduled").length===0?a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(er,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create a test from Asset Library in Settings tab"}),a.jsxs(ye,{onClick:()=>t("settings"),children:[a.jsx(Qi,{className:"h-4 w-4 mr-2"})," Go to Settings"]})]}):ll.filter(X=>X.status==="scheduled").map(X=>a.jsx(ut,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:X.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(hh,{className:"h-4 w-4 inline mr-1"})," ",X.questionCount," questions"]}),a.jsxs("span",{children:[a.jsx(er,{className:"h-4 w-4 inline mr-1"})," ",X.duration," min"]}),X.source==="library"&&a.jsxs("span",{className:"text-primary",children:[a.jsx(ss,{className:"h-4 w-4 inline mr-1"})," Library"]})]})]}),a.jsxs(ye,{onClick:()=>Hx(X),children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"})," Start"]})]})},X.id))}),Nt==="past"&&a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(Ug,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Your completed tests will appear here"})]}),Nt==="results"&&a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(Ma,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete a test to see your results"})]})]}),a.jsxs(Ci,{value:"settings",className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your preferences"})]}),a.jsxs(ut,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Qi,{className:"h-5 w-5"})," About Personal Desk"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Personal Desk helps you create and organize your own courses, notes, and MCQs for self-study."}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:r.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Courses"})]}),a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Topics"})]}),a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"MCQs"})]}),a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tests"})]})]})]}),a.jsxs(ut,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(id,{className:"h-5 w-5"})," Live Test Management"]}),ro?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-medium",children:"Create New Test from Asset Library"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>io(!1),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title *"}),a.jsx(nt,{placeholder:"e.g., Practice Test #1",value:Bl,onChange:X=>Cc(X.target.value)})]}),a.jsxs("div",{className:"space-y-3 p-3 bg-primary/5 rounded-lg border border-primary/20",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Subject *"}),a.jsxs(Bt,{value:Yi,onValueChange:X=>{Qs(X),ql(""),al("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select Subject"})}),a.jsx(Lt,{children:Te.map(X=>a.jsx(Ke,{value:X.id,children:X.name},X.id))})]})]}),Yi&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Topic (optional)"}),a.jsxs(Bt,{value:As,onValueChange:X=>{ql(X),al("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"All Topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"",children:"All Topics"}),Hd.map(X=>a.jsx(Ke,{value:X.id,children:X.name},X.id))]})]})]}),As&&Ux.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Sub-topic (optional)"}),a.jsxs(Bt,{value:Ta,onValueChange:al,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"All Sub-topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"",children:"All Sub-topics"}),Ux.map(X=>a.jsx(Ke,{value:X.id,children:X.name},X.id))]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground bg-background p-2 rounded",children:[" Available: ",a.jsx("strong",{children:Sa.length})," MCQs"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Duration"}),a.jsxs(Bt,{value:Ir,onValueChange:Au,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"15",children:"15 min"}),a.jsx(Ke,{value:"30",children:"30 min"}),a.jsx(Ke,{value:"45",children:"45 min"}),a.jsx(Ke,{value:"60",children:"60 min"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions"}),a.jsxs(Bt,{value:gs,onValueChange:ei,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"10",children:"10"}),a.jsx(Ke,{value:"20",children:"20"}),a.jsx(Ke,{value:"30",children:"30"}),a.jsx(Ke,{value:"50",children:"50"})]})]})]})]}),a.jsxs(ye,{onClick:()=>{sl("library"),Wx()},className:"w-full",disabled:!Yi||Sa.length===0,children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Create Test"]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create tests directly from your Asset Library MCQs."}),a.jsxs(ye,{onClick:()=>io(!0),className:"w-full",children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Create Test from Library"]}),ll.filter(X=>X.status==="scheduled").length>0&&a.jsxs("div",{className:"space-y-2 mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Tests"}),ll.filter(X=>X.status==="scheduled").map(X=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:X.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.questionCount," questions  ",X.duration," min"]})]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>M(X.id),children:a.jsx(kr,{className:"h-4 w-4 text-red-500"})})]},X.id))]})]})]}),a.jsxs(ut,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Lj,{className:"h-5 w-5"}),"  "]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]}),a.jsx(Hi,{checked:pt,onCheckedChange:X=>{Kt(X),X&&Tt()}})]})]})]})]}),a.jsx($n,{children:be&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Oe(!1),children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl max-w-md w-full p-6 space-y-4",onClick:X=>X.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create New Course"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Bt,{value:xe,onValueChange:re,children:[a.jsx(Ft,{className:"w-20",children:a.jsx(Vt,{})}),a.jsx(Lt,{children:["","","","","","","","","","","",""].map(X=>a.jsx(Ke,{value:X,children:X},X))})]}),a.jsx(nt,{placeholder:"Course name",value:Z,onChange:X=>Ie(X.target.value),className:"flex-1"})]}),a.jsx(lr,{placeholder:"Description (optional)",value:V,onChange:X=>ke(X.target.value),rows:3})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>Oe(!1),children:"Cancel"}),a.jsx(ye,{onClick:Xd,disabled:!Z.trim(),children:"Create"})]})]})})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var tJ=1252,Z3e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Z5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},J5=function(e){Z3e.indexOf(e)!=-1&&(tJ=Z5[0]=e)};function J3e(){J5(1252)}var cc=function(e){J5(e)};function nJ(){cc(1200),J3e()}function jU(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function e5e(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function rJ(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Xy=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?e5e(e.slice(2)):t==254&&n==255?rJ(e.slice(2)):t==65279?e.slice(1):e},q2=function(t){return String.fromCharCode(t)},IU=function(t){return String.fromCharCode(t)},D1,Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function RU(e){for(var t="",n=0,r=0,i=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)n=e.charCodeAt(u++),s=n>>2,r=e.charCodeAt(u++),o=(n&3)<<4|r>>4,i=e.charCodeAt(u++),l=(r&15)<<2|i>>6,c=i&63,isNaN(r)?l=c=64:isNaN(i)&&(c=64),t+=Bf.charAt(s)+Bf.charAt(o)+Bf.charAt(l)+Bf.charAt(c);return t}function el(e){var t="",n=0,r=0,i=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Bf.indexOf(e.charAt(u++)),o=Bf.indexOf(e.charAt(u++)),n=s<<2|o>>4,t+=String.fromCharCode(n),l=Bf.indexOf(e.charAt(u++)),r=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(r)),c=Bf.indexOf(e.charAt(u++)),i=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var tr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Im=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function xh(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function PU(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var oc=function(t){return tr?Im(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Rm(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function eR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return eR(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Nf=tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Im(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function t5e(e){for(var t=[],n=0,r=e.length+250,i=xh(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|l>>6&15|(o&3)<<4,i[n++]=128|l&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=xh(65535),r=65530)}return t.push(i.slice(0,n)),Nf(t)}var Ga=/\u0000/g,Yy=/[\u0001-\u0006]/g;function i0(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function uc(e,t){var n=""+e;return n.length>=t?n:xi("0",t-n.length)+n}function tR(e,t){var n=""+e;return n.length>=t?n:xi(" ",t-n.length)+n}function gT(e,t){var n=""+e;return n.length>=t?n:n+xi(" ",t-n.length)}function n5e(e,t){var n=""+Math.round(e);return n.length>=t?n:xi("0",t-n.length)+n}function r5e(e,t){var n=""+e;return n.length>=t?n:xi("0",t-n.length)+n}var OU=Math.pow(2,32);function og(e,t){if(e>OU||e<-OU)return n5e(e,t);var n=Math.round(e);return r5e(n,t)}function xT(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var FU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],dA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function i5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var En={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},LU={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},s5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function yT(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(i);u<t&&(f=Math.floor(i),l=f*o+s,d=f*u+c,!(i-f<5e-8));)i=1/(i-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!n)return[0,r*l,d];var h=Math.floor(r*l/d);return[h,r*l-h*d,d]}function gp(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],l={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++r,++l.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=d5e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var iJ=new Date(1899,11,31,0,0,0),a5e=iJ.getTime(),o5e=new Date(1900,2,1,0,0,0);function sJ(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=o5e&&(n+=24*60*60*1e3),(n-(a5e+(e.getTimezoneOffset()-iJ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function nR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function l5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function c5e(e){var t=e<0?12:11,n=nR(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function u5e(e){var t=nR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function j1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=c5e(e):t===10?n=e.toFixed(10).substr(0,12):n=u5e(e),nR(l5e(n.toUpperCase()))}function cm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):j1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ol(14,sJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function d5e(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function f5e(e,t,n,r){var i="",s=0,o=0,l=n.y,c,u=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=n.m,u=t.length;break;case 3:return dA[n.m-1][1];case 5:return dA[n.m-1][0];default:return dA[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=n.d,u=t.length;break;case 3:return FU[n.q][0];default:return FU[n.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?uc(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(i=uc(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?uc(c,u):"";return d}function Vf(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var aJ=/%/g;function h5e(e,t,n){var r=t.replace(aJ,""),i=t.length-r.length;return ud(e,r,n*Math.pow(10,2*i))+xi("%",i)}function p5e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ud(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function oJ(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+oJ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var lJ=/# (\?+)( ?)\/( ?)(\d+)/;function m5e(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,l=r;return n+(s===0?"":""+s)+" "+(o===0?xi(" ",e[1].length+1+e[4].length):tR(o,e[1].length)+e[2]+"/"+e[3]+uc(l,e[4].length))}function g5e(e,t,n){return n+(t===0?"":""+t)+xi(" ",e[1].length+2+e[4].length)}var cJ=/^#*0*\.([0#]+)/,uJ=/\).*[0#]/,dJ=/\(###\) ###\\?-####/;function Ra(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function MU(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function UU(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function x5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function y5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function fl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(uJ)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?fl("n",r,n):"("+fl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return p5e(e,t,n);if(t.indexOf("%")!==-1)return h5e(e,t,n);if(t.indexOf("E")!==-1)return oJ(t,n);if(t.charCodeAt(0)===36)return"$"+fl(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,l,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+og(c,t.length);if(t.match(/^[#?]+$/))return i=og(n,0),i==="0"&&(i=""),i.length>t.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(lJ))return m5e(s,c,u);if(t.match(/^#+0+$/))return u+og(c,t.length-t.indexOf("0"));if(s=t.match(cJ))return i=MU(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Ra(s[1])).replace(/\.$/,"."+Ra(s[1])).replace(/\.(\d*)$/,function(y,m){return"."+m+xi("0",Ra(s[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+MU(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Vf(og(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+fl(e,t,-n):Vf(""+(Math.floor(n)+x5e(n,s[1].length)))+"."+uc(UU(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return fl(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=i0(fl(e,t.replace(/[\\-]/g,""),n)),o=0,i0(i0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(dJ))return i=fl(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=yT(c,Math.pow(10,o)-1,!1),i=""+u,d=ud("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=gT(l[2],o),d.length<s[4].length&&(d=Ra(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=yT(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?tR(l[1],o)+s[2]+"/"+s[3]+gT(l[2],o):xi(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=og(n,0),t.length<=i.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,h=t.length-i.length-f;return Ra(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=UU(n,s[1].length),n<0?"-"+fl(e,t,-n):Vf(y5e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?uc(0,3-y.length):"")+y})+"."+uc(o,s[1].length);switch(t){case"###,##0.00":return fl(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Vf(og(c,0));return p!=="0"?u+p:"";case"###,###.00":return fl(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return fl(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function v5e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ud(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function b5e(e,t,n){var r=t.replace(aJ,""),i=t.length-r.length;return ud(e,r,n*Math.pow(10,2*i))+xi("%",i)}function fJ(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fJ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Vc(e,t,n){if(e.charCodeAt(0)===40&&!t.match(uJ)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Vc("n",r,n):"("+Vc("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return v5e(e,t,n);if(t.indexOf("%")!==-1)return b5e(e,t,n);if(t.indexOf("E")!==-1)return fJ(t,n);if(t.charCodeAt(0)===36)return"$"+Vc(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,l,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+uc(c,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(lJ))return g5e(s,c,u);if(t.match(/^#+0+$/))return u+uc(c,t.length-t.indexOf("0"));if(s=t.match(cJ))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Ra(s[1])).replace(/\.$/,"."+Ra(s[1])),i=i.replace(/\.(\d*)$/,function(y,m){return"."+m+xi("0",Ra(s[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Vf(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Vc(e,t,-n):Vf(""+n)+"."+xi("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Vc(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=i0(Vc(e,t.replace(/[\\-]/g,""),n)),o=0,i0(i0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(dJ))return i=Vc(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=yT(c,Math.pow(10,o)-1,!1),i=""+u,d=ud("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=gT(l[2],o),d.length<s[4].length&&(d=Ra(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=yT(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?tR(l[1],o)+s[2]+"/"+s[3]+gT(l[2],o):xi(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,h=t.length-i.length-f;return Ra(t.substr(0,f)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Vc(e,t,-n):Vf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?uc(0,3-y.length):"")+y})+"."+uc(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Vf(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Vc(e,t.slice(0,t.lastIndexOf(".")),n)+Ra(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ud(e,t,n){return(n|0)===n?Vc(e,t,n):fl(e,t,n)}function w5e(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var hJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Tx(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":xT(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(hJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function _5e(e,t,n,r){for(var i=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!xT(e,o))throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";i[i.length]={t:y,v:p},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=gp(t,n,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=gp(t,n),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),i[i.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=gp(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";i[i.length]=m,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(hJ)){if(u==null&&(u=gp(t,n),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Tx(e)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;i[i.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"t",v:l},++o;break}var x=0,v=0,g;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=h,c="h",x<1&&(x=1);break;case"s":(g=i[o].v.match(/\.0+$/))&&(v=Math.max(v,g[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",w;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=f5e(i[o].t.charCodeAt(0),i[o].v,u,v),i[o].t="t";break;case"n":case"?":for(w=o+1;i[w]!=null&&((l=i[w].t)==="?"||l==="D"||(l===" "||l==="t")&&i[w+1]!=null&&(i[w+1].t==="?"||i[w+1].t==="t"&&i[w+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[w].v==="/"||i[w].v===" "&&i[w+1]!=null&&i[w+1].t=="?"));)i[o].v+=i[w].v,i[w]={v:"",t:";"},++w;b+=i[o].v,o=w-1;break;case"G":i[o].t="t",i[o].v=cm(t,n);break}var T="",k,_;if(b.length>0){b.charCodeAt(0)==40?(k=t<0&&b.charCodeAt(0)===45?-t:t,_=ud("n",b,k)):(k=t<0&&r>1?-t:t,_=ud("n",b,k),k<0&&i[0]&&i[0].t=="t"&&(_=_.substr(1),i[0].v="-"+i[0].v)),w=_.length-1;var N=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){N=o;break}var C=i.length;if(N===i.length&&_.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(w>=i[o].v.length-1?(w-=i[o].v.length,i[o].v=_.substr(w+1,i[o].v.length)):w<0?i[o].v="":(i[o].v=_.substr(0,w+1),w=-1),i[o].t="t",C=o);w>=0&&C<i.length&&(i[C].v=_.substr(0,w+1)+i[C].v)}else if(N!==i.length&&_.indexOf("E")===-1){for(w=_.indexOf(".")-1,o=N;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")-1:i[o].v.length-1,T=i[o].v.substr(d+1);d>=0;--d)w>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(T=_.charAt(w--)+T);i[o].v=T,i[o].t="t",C=o}for(w>=0&&C<i.length&&(i[C].v=_.substr(0,w+1)+i[C].v),w=_.indexOf(".")+1,o=N;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==N)){for(d=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")+1:0,T=i[o].v.substr(0,d);d<i[o].v.length;++d)w<_.length&&(T+=_.charAt(w++));i[o].v=T,i[o].t="t",C=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(k=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=ud(i[o].t,i[o].v,k),i[o].t="t");var I="";for(o=0;o!==i.length;++o)i[o]!=null&&(I+=i[o].v);return I}var BU=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function VU(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function T5e(e,t){var n=w5e(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(BU),l=n[1].match(BU);return VU(t,o)?[r,n[0]]:VU(t,l)?[r,n[1]]:[r,n[o!=null&&l!=null?2:1]]}return[r,s]}function Ol(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:En)[e],r==null&&(r=n.table&&n.table[LU[e]]||En[LU[e]]),r==null&&(r=s5e[e]||"General");break}if(xT(r,0))return cm(t,n);t instanceof Date&&(t=sJ(t,n.date1904));var i=T5e(r,t);if(xT(i[1]))return cm(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return _5e(i[1],t,n,i[0])}function Dp(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(En[n]==null){t<0&&(t=n);continue}if(En[n]==e){t=n;break}}t<0&&(t=391)}return En[t]=e,t}function pJ(){En=i5e()}var E5e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},mJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function N5e(e){var t=typeof e=="number"?En[e]:e;return t=t.replace(mJ,"(\\d+)"),new RegExp("^"+t+"$")}function S5e(e,t,n){var r=-1,i=-1,s=-1,o=-1,l=-1,c=-1;(t.match(mJ)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:i=p;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:r==-1&&i==-1&&s==-1?d:u+"T"+d}var k5e=function(){var e={};e.version="1.2.0";function t(){for(var _=0,N=new Array(256),C=0;C!=256;++C)_=C,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,N[C]=_;return typeof Int32Array<"u"?new Int32Array(N):N}var n=t();function r(_){var N=0,C=0,I=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)j[I]=_[I];for(I=0;I!=256;++I)for(C=_[I],N=256+I;N<4096;N+=256)C=j[N]=C>>>8^_[C&255];var E=[];for(I=1;I!=16;++I)E[I-1]=typeof Int32Array<"u"?j.subarray(I*256,I*256+256):j.slice(I*256,I*256+256);return E}var i=r(n),s=i[0],o=i[1],l=i[2],c=i[3],u=i[4],d=i[5],f=i[6],h=i[7],p=i[8],y=i[9],m=i[10],x=i[11],v=i[12],g=i[13],b=i[14];function w(_,N){for(var C=N^-1,I=0,j=_.length;I<j;)C=C>>>8^n[(C^_.charCodeAt(I++))&255];return~C}function T(_,N){for(var C=N^-1,I=_.length-15,j=0;j<I;)C=b[_[j++]^C&255]^g[_[j++]^C>>8&255]^v[_[j++]^C>>16&255]^x[_[j++]^C>>>24]^m[_[j++]]^y[_[j++]]^p[_[j++]]^h[_[j++]]^f[_[j++]]^d[_[j++]]^u[_[j++]]^c[_[j++]]^l[_[j++]]^o[_[j++]]^s[_[j++]]^n[_[j++]];for(I+=15;j<I;)C=C>>>8^n[(C^_[j++])&255];return~C}function k(_,N){for(var C=N^-1,I=0,j=_.length,E=0,D=0;I<j;)E=_.charCodeAt(I++),E<128?C=C>>>8^n[(C^E)&255]:E<2048?(C=C>>>8^n[(C^(192|E>>6&31))&255],C=C>>>8^n[(C^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,D=_.charCodeAt(I++)&1023,C=C>>>8^n[(C^(240|E>>8&7))&255],C=C>>>8^n[(C^(128|E>>2&63))&255],C=C>>>8^n[(C^(128|D>>6&15|(E&3)<<4))&255],C=C>>>8^n[(C^(128|D&63))&255]):(C=C>>>8^n[(C^(224|E>>12&15))&255],C=C>>>8^n[(C^(128|E>>6&63))&255],C=C>>>8^n[(C^(128|E&63))&255]);return~C}return e.table=n,e.bstr=w,e.buf=T,e.str=k,e}(),cr=function(){var t={};t.version="1.2.1";function n(ce,Ne){for(var ve=ce.split("/"),_e=Ne.split("/"),ie=0,me=0,De=Math.min(ve.length,_e.length);ie<De;++ie){if(me=ve[ie].length-_e[ie].length)return me;if(ve[ie]!=_e[ie])return ve[ie]<_e[ie]?-1:1}return ve.length-_e.length}function r(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:r(ce.slice(0,-1));var Ne=ce.lastIndexOf("/");return Ne===-1?ce:ce.slice(0,Ne+1)}function i(ce){if(ce.charAt(ce.length-1)=="/")return i(ce.slice(0,-1));var Ne=ce.lastIndexOf("/");return Ne===-1?ce:ce.slice(Ne+1)}function s(ce,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var ve=Ne.getHours();ve=ve<<6|Ne.getMinutes(),ve=ve<<5|Ne.getSeconds()>>>1,ce.write_shift(2,ve);var _e=Ne.getFullYear()-1980;_e=_e<<4|Ne.getMonth()+1,_e=_e<<5|Ne.getDate(),ce.write_shift(2,_e)}function o(ce){var Ne=ce.read_shift(2)&65535,ve=ce.read_shift(2)&65535,_e=new Date,ie=ve&31;ve>>>=5;var me=ve&15;ve>>>=4,_e.setMilliseconds(0),_e.setFullYear(ve+1980),_e.setMonth(me-1),_e.setDate(ie);var De=Ne&31;Ne>>>=5;var se=Ne&63;return Ne>>>=6,_e.setHours(Ne),_e.setMinutes(se),_e.setSeconds(De<<1),_e}function l(ce){Ls(ce,0);for(var Ne={},ve=0;ce.l<=ce.length-4;){var _e=ce.read_shift(2),ie=ce.read_shift(2),me=ce.l+ie,De={};switch(_e){case 21589:ve=ce.read_shift(1),ve&1&&(De.mtime=ce.read_shift(4)),ie>5&&(ve&2&&(De.atime=ce.read_shift(4)),ve&4&&(De.ctime=ce.read_shift(4))),De.mtime&&(De.mt=new Date(De.mtime*1e3));break}ce.l=me,Ne[_e]=De}return Ne}var c;function u(){return c||(c={})}function d(ce,Ne){if(ce[0]==80&&ce[1]==75)return qn(ce,Ne);if((ce[0]|32)==109&&(ce[1]|32)==105)return dr(ce,Ne);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var ve=3,_e=512,ie=0,me=0,De=0,se=0,Te=0,Ee=[],ue=ce.slice(0,512);Ls(ue,0);var de=f(ue);switch(ve=de[0],ve){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(de[1]==0)return qn(ce,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+ve)}_e!==512&&(ue=ce.slice(0,_e),Ls(ue,28));var Re=ce.slice(0,_e);h(ue,ve);var We=ue.read_shift(4,"i");if(ve===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);ue.l+=4,De=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),se=ue.read_shift(4,"i"),ie=ue.read_shift(4,"i"),Te=ue.read_shift(4,"i"),me=ue.read_shift(4,"i");for(var Qe=-1,Ze=0;Ze<109&&(Qe=ue.read_shift(4,"i"),!(Qe<0));++Ze)Ee[Ze]=Qe;var pt=p(ce,_e);x(Te,me,pt,_e,Ee);var Kt=g(pt,De,Ee,_e);Kt[De].name="!Directory",ie>0&&se!==D&&(Kt[se].name="!MiniFAT"),Kt[Ee[0]].name="!FAT",Kt.fat_addrs=Ee,Kt.ssz=_e;var Tt={},Nt=[],kn=[],bn=[];b(De,Kt,pt,Nt,ie,Tt,kn,se),y(kn,bn,Nt),Nt.shift();var ps={FileIndex:kn,FullPaths:bn};return Ne&&Ne.raw&&(ps.raw={header:Re,sectors:pt}),ps}function f(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(R,"Header Signature: "),ce.l+=16;var Ne=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),Ne]}function h(ce,Ne){var ve=9;switch(ce.l+=2,ve=ce.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+ve);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+ve);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ve)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function p(ce,Ne){for(var ve=Math.ceil(ce.length/Ne)-1,_e=[],ie=1;ie<ve;++ie)_e[ie-1]=ce.slice(ie*Ne,(ie+1)*Ne);return _e[ve-1]=ce.slice(ve*Ne),_e}function y(ce,Ne,ve){for(var _e=0,ie=0,me=0,De=0,se=0,Te=ve.length,Ee=[],ue=[];_e<Te;++_e)Ee[_e]=ue[_e]=_e,Ne[_e]=ve[_e];for(;se<ue.length;++se)_e=ue[se],ie=ce[_e].L,me=ce[_e].R,De=ce[_e].C,Ee[_e]===_e&&(ie!==-1&&Ee[ie]!==ie&&(Ee[_e]=Ee[ie]),me!==-1&&Ee[me]!==me&&(Ee[_e]=Ee[me])),De!==-1&&(Ee[De]=_e),ie!==-1&&_e!=Ee[_e]&&(Ee[ie]=Ee[_e],ue.lastIndexOf(ie)<se&&ue.push(ie)),me!==-1&&_e!=Ee[_e]&&(Ee[me]=Ee[_e],ue.lastIndexOf(me)<se&&ue.push(me));for(_e=1;_e<Te;++_e)Ee[_e]===_e&&(me!==-1&&Ee[me]!==me?Ee[_e]=Ee[me]:ie!==-1&&Ee[ie]!==ie&&(Ee[_e]=Ee[ie]));for(_e=1;_e<Te;++_e)if(ce[_e].type!==0){if(se=_e,se!=Ee[se])do se=Ee[se],Ne[_e]=Ne[se]+"/"+Ne[_e];while(se!==0&&Ee[se]!==-1&&se!=Ee[se]);Ee[_e]=-1}for(Ne[0]+="/",_e=1;_e<Te;++_e)ce[_e].type!==2&&(Ne[_e]+="/")}function m(ce,Ne,ve){for(var _e=ce.start,ie=ce.size,me=[],De=_e;ve&&ie>0&&De>=0;)me.push(Ne.slice(De*E,De*E+E)),ie-=E,De=cp(ve,De*4);return me.length===0?ns(0):Nf(me).slice(0,ce.size)}function x(ce,Ne,ve,_e,ie){var me=D;if(ce===D){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var De=ve[ce],se=(_e>>>2)-1;if(!De)return;for(var Te=0;Te<se&&(me=cp(De,Te*4))!==D;++Te)ie.push(me);x(cp(De,_e-4),Ne-1,ve,_e,ie)}}function v(ce,Ne,ve,_e,ie){var me=[],De=[];ie||(ie=[]);var se=_e-1,Te=0,Ee=0;for(Te=Ne;Te>=0;){ie[Te]=!0,me[me.length]=Te,De.push(ce[Te]);var ue=ve[Math.floor(Te*4/_e)];if(Ee=Te*4&se,_e<4+Ee)throw new Error("FAT boundary crossed: "+Te+" 4 "+_e);if(!ce[ue])break;Te=cp(ce[ue],Ee)}return{nodes:me,data:YU([De])}}function g(ce,Ne,ve,_e){var ie=ce.length,me=[],De=[],se=[],Te=[],Ee=_e-1,ue=0,de=0,Re=0,We=0;for(ue=0;ue<ie;++ue)if(se=[],Re=ue+Ne,Re>=ie&&(Re-=ie),!De[Re]){Te=[];var Qe=[];for(de=Re;de>=0;){Qe[de]=!0,De[de]=!0,se[se.length]=de,Te.push(ce[de]);var Ze=ve[Math.floor(de*4/_e)];if(We=de*4&Ee,_e<4+We)throw new Error("FAT boundary crossed: "+de+" 4 "+_e);if(!ce[Ze]||(de=cp(ce[Ze],We),Qe[de]))break}me[Re]={nodes:se,data:YU([Te])}}return me}function b(ce,Ne,ve,_e,ie,me,De,se){for(var Te=0,Ee=_e.length?2:0,ue=Ne[ce].data,de=0,Re=0,We;de<ue.length;de+=128){var Qe=ue.slice(de,de+128);Ls(Qe,64),Re=Qe.read_shift(2),We=oR(Qe,0,Re-Ee),_e.push(We);var Ze={name:We,type:Qe.read_shift(1),color:Qe.read_shift(1),L:Qe.read_shift(4,"i"),R:Qe.read_shift(4,"i"),C:Qe.read_shift(4,"i"),clsid:Qe.read_shift(16),state:Qe.read_shift(4,"i"),start:0,size:0},pt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);pt!==0&&(Ze.ct=w(Qe,Qe.l-8));var Kt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);Kt!==0&&(Ze.mt=w(Qe,Qe.l-8)),Ze.start=Qe.read_shift(4,"i"),Ze.size=Qe.read_shift(4,"i"),Ze.size<0&&Ze.start<0&&(Ze.size=Ze.type=0,Ze.start=D,Ze.name=""),Ze.type===5?(Te=Ze.start,ie>0&&Te!==D&&(Ne[Te].name="!StreamData")):Ze.size>=4096?(Ze.storage="fat",Ne[Ze.start]===void 0&&(Ne[Ze.start]=v(ve,Ze.start,Ne.fat_addrs,Ne.ssz)),Ne[Ze.start].name=Ze.name,Ze.content=Ne[Ze.start].data.slice(0,Ze.size)):(Ze.storage="minifat",Ze.size<0?Ze.size=0:Te!==D&&Ze.start!==D&&Ne[Te]&&(Ze.content=m(Ze,Ne[Te].data,(Ne[se]||{}).data))),Ze.content&&Ls(Ze.content,0),me[We]=Ze,De.push(Ze)}}function w(ce,Ne){return new Date((Vo(ce,Ne+4)/1e7*Math.pow(2,32)+Vo(ce,Ne)/1e7-11644473600)*1e3)}function T(ce,Ne){return u(),d(c.readFileSync(ce),Ne)}function k(ce,Ne){var ve=Ne&&Ne.type;switch(ve||tr&&Buffer.isBuffer(ce)&&(ve="buffer"),ve||"base64"){case"file":return T(ce,Ne);case"base64":return d(oc(el(ce)),Ne);case"binary":return d(oc(ce),Ne)}return d(ce,Ne)}function _(ce,Ne){var ve=Ne||{},_e=ve.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=_e+"/",ce.FileIndex[0]={name:_e,type:5}),ve.CLSID&&(ce.FileIndex[0].clsid=ve.CLSID),N(ce)}function N(ce){var Ne="Sh33tJ5";if(!cr.find(ce,"/"+Ne)){var ve=ns(4);ve[0]=55,ve[1]=ve[3]=50,ve[2]=54,ce.FileIndex.push({name:Ne,type:2,content:ve,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+Ne),C(ce)}}function C(ce,Ne){_(ce);for(var ve=!1,_e=!1,ie=ce.FullPaths.length-1;ie>=0;--ie){var me=ce.FileIndex[ie];switch(me.type){case 0:_e?ve=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(me.R*me.L*me.C)&&(ve=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(ve=!0);break;default:ve=!0;break}}if(!(!ve&&!Ne)){var De=new Date(1987,1,19),se=0,Te=Object.create?Object.create(null):{},Ee=[];for(ie=0;ie<ce.FullPaths.length;++ie)Te[ce.FullPaths[ie]]=!0,ce.FileIndex[ie].type!==0&&Ee.push([ce.FullPaths[ie],ce.FileIndex[ie]]);for(ie=0;ie<Ee.length;++ie){var ue=r(Ee[ie][0]);_e=Te[ue],_e||(Ee.push([ue,{name:i(ue).replace("/",""),type:1,clsid:U,ct:De,mt:De,content:null}]),Te[ue]=!0)}for(Ee.sort(function(We,Qe){return n(We[0],Qe[0])}),ce.FullPaths=[],ce.FileIndex=[],ie=0;ie<Ee.length;++ie)ce.FullPaths[ie]=Ee[ie][0],ce.FileIndex[ie]=Ee[ie][1];for(ie=0;ie<Ee.length;++ie){var de=ce.FileIndex[ie],Re=ce.FullPaths[ie];if(de.name=i(Re).replace("/",""),de.L=de.R=de.C=-(de.color=1),de.size=de.content?de.content.length:0,de.start=0,de.clsid=de.clsid||U,ie===0)de.C=Ee.length>1?1:-1,de.size=0,de.type=5;else if(Re.slice(-1)=="/"){for(se=ie+1;se<Ee.length&&r(ce.FullPaths[se])!=Re;++se);for(de.C=se>=Ee.length?-1:se,se=ie+1;se<Ee.length&&r(ce.FullPaths[se])!=r(Re);++se);de.R=se>=Ee.length?-1:se,de.type=1}else r(ce.FullPaths[ie+1]||"")==r(Re)&&(de.R=ie+1),de.type=2}}}function I(ce,Ne){var ve=Ne||{};if(ve.fileType=="mad")return _n(ce,ve);switch(C(ce),ve.fileType){case"zip":return Cn(ce,ve)}var _e=function(We){for(var Qe=0,Ze=0,pt=0;pt<We.FileIndex.length;++pt){var Kt=We.FileIndex[pt];if(Kt.content){var Tt=Kt.content.length;Tt>0&&(Tt<4096?Qe+=Tt+63>>6:Ze+=Tt+511>>9)}}for(var Nt=We.FullPaths.length+3>>2,kn=Qe+7>>3,bn=Qe+127>>7,ps=kn+Ze+Nt+bn,zr=ps+127>>7,no=zr<=109?0:Math.ceil((zr-109)/127);ps+zr+no+127>>7>zr;)no=++zr<=109?0:Math.ceil((zr-109)/127);var Nr=[1,no,zr,bn,Nt,Ze,Qe,0];return We.FileIndex[0].size=Qe<<6,Nr[7]=(We.FileIndex[0].start=Nr[0]+Nr[1]+Nr[2]+Nr[3]+Nr[4]+Nr[5])+(Nr[6]+7>>3),Nr}(ce),ie=ns(_e[7]<<9),me=0,De=0;{for(me=0;me<8;++me)ie.write_shift(1,M[me]);for(me=0;me<8;++me)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),me=0;me<3;++me)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,_e[2]),ie.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:D),ie.write_shift(4,_e[3]),ie.write_shift(-4,_e[1]?_e[0]-1:D),ie.write_shift(4,_e[1]),me=0;me<109;++me)ie.write_shift(-4,me<_e[2]?_e[1]+me:-1)}if(_e[1])for(De=0;De<_e[1];++De){for(;me<236+De*127;++me)ie.write_shift(-4,me<_e[2]?_e[1]+me:-1);ie.write_shift(-4,De===_e[1]-1?D:De+1)}var se=function(We){for(De+=We;me<De-1;++me)ie.write_shift(-4,me+1);We&&(++me,ie.write_shift(-4,D))};for(De=me=0,De+=_e[1];me<De;++me)ie.write_shift(-4,z.DIFSECT);for(De+=_e[2];me<De;++me)ie.write_shift(-4,z.FATSECT);se(_e[3]),se(_e[4]);for(var Te=0,Ee=0,ue=ce.FileIndex[0];Te<ce.FileIndex.length;++Te)ue=ce.FileIndex[Te],ue.content&&(Ee=ue.content.length,!(Ee<4096)&&(ue.start=De,se(Ee+511>>9)));for(se(_e[6]+7>>3);ie.l&511;)ie.write_shift(-4,z.ENDOFCHAIN);for(De=me=0,Te=0;Te<ce.FileIndex.length;++Te)ue=ce.FileIndex[Te],ue.content&&(Ee=ue.content.length,!(!Ee||Ee>=4096)&&(ue.start=De,se(Ee+63>>6)));for(;ie.l&511;)ie.write_shift(-4,z.ENDOFCHAIN);for(me=0;me<_e[4]<<2;++me){var de=ce.FullPaths[me];if(!de||de.length===0){for(Te=0;Te<17;++Te)ie.write_shift(4,0);for(Te=0;Te<3;++Te)ie.write_shift(4,-1);for(Te=0;Te<12;++Te)ie.write_shift(4,0);continue}ue=ce.FileIndex[me],me===0&&(ue.start=ue.size?ue.start-1:D);var Re=me===0&&ve.root||ue.name;if(Ee=2*(Re.length+1),ie.write_shift(64,Re,"utf16le"),ie.write_shift(2,Ee),ie.write_shift(1,ue.type),ie.write_shift(1,ue.color),ie.write_shift(-4,ue.L),ie.write_shift(-4,ue.R),ie.write_shift(-4,ue.C),ue.clsid)ie.write_shift(16,ue.clsid,"hex");else for(Te=0;Te<4;++Te)ie.write_shift(4,0);ie.write_shift(4,ue.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,ue.start),ie.write_shift(4,ue.size),ie.write_shift(4,0)}for(me=1;me<ce.FileIndex.length;++me)if(ue=ce.FileIndex[me],ue.size>=4096)if(ie.l=ue.start+1<<9,tr&&Buffer.isBuffer(ue.content))ue.content.copy(ie,ie.l,0,ue.size),ie.l+=ue.size+511&-512;else{for(Te=0;Te<ue.size;++Te)ie.write_shift(1,ue.content[Te]);for(;Te&511;++Te)ie.write_shift(1,0)}for(me=1;me<ce.FileIndex.length;++me)if(ue=ce.FileIndex[me],ue.size>0&&ue.size<4096)if(tr&&Buffer.isBuffer(ue.content))ue.content.copy(ie,ie.l,0,ue.size),ie.l+=ue.size+63&-64;else{for(Te=0;Te<ue.size;++Te)ie.write_shift(1,ue.content[Te]);for(;Te&63;++Te)ie.write_shift(1,0)}if(tr)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function j(ce,Ne){var ve=ce.FullPaths.map(function(Te){return Te.toUpperCase()}),_e=ve.map(function(Te){var Ee=Te.split("/");return Ee[Ee.length-(Te.slice(-1)=="/"?2:1)]}),ie=!1;Ne.charCodeAt(0)===47?(ie=!0,Ne=ve[0].slice(0,-1)+Ne):ie=Ne.indexOf("/")!==-1;var me=Ne.toUpperCase(),De=ie===!0?ve.indexOf(me):_e.indexOf(me);if(De!==-1)return ce.FileIndex[De];var se=!me.match(Yy);for(me=me.replace(Ga,""),se&&(me=me.replace(Yy,"!")),De=0;De<ve.length;++De)if((se?ve[De].replace(Yy,"!"):ve[De]).replace(Ga,"")==me||(se?_e[De].replace(Yy,"!"):_e[De]).replace(Ga,"")==me)return ce.FileIndex[De];return null}var E=64,D=-2,R="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(ce,Ne,ve){u();var _e=I(ce,ve);c.writeFileSync(Ne,_e)}function F(ce){for(var Ne=new Array(ce.length),ve=0;ve<ce.length;++ve)Ne[ve]=String.fromCharCode(ce[ve]);return Ne.join("")}function W(ce,Ne){var ve=I(ce,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return u(),c.writeFileSync(Ne.filename,ve),ve;case"binary":return typeof ve=="string"?ve:F(ve);case"base64":return RU(typeof ve=="string"?ve:F(ve));case"buffer":if(tr)return Buffer.isBuffer(ve)?ve:Im(ve);case"array":return typeof ve=="string"?oc(ve):ve}return ve}var O;function P(ce){try{var Ne=ce.InflateRaw,ve=new Ne;if(ve._processChunk(new Uint8Array([3,0]),ve._finishFlushFlag),ve.bytesRead)O=ce;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function B(ce,Ne){if(!O)return sn(ce,Ne);var ve=O.InflateRaw,_e=new ve,ie=_e._processChunk(ce.slice(ce.l),_e._finishFlushFlag);return ce.l+=_e.bytesRead,ie}function K(ce){return O?O.deflateRawSync(ce):Fe(ce)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(ce){var Ne=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var he=typeof Uint8Array<"u",be=he?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)be[Oe]=ge(Oe);function Z(ce,Ne){var ve=be[ce&255];return Ne<=8?ve>>>8-Ne:(ve=ve<<8|be[ce>>8&255],Ne<=16?ve>>>16-Ne:(ve=ve<<8|be[ce>>16&255],ve>>>24-Ne))}function Ie(ce,Ne){var ve=Ne&7,_e=Ne>>>3;return(ce[_e]|(ve<=6?0:ce[_e+1]<<8))>>>ve&3}function V(ce,Ne){var ve=Ne&7,_e=Ne>>>3;return(ce[_e]|(ve<=5?0:ce[_e+1]<<8))>>>ve&7}function ke(ce,Ne){var ve=Ne&7,_e=Ne>>>3;return(ce[_e]|(ve<=4?0:ce[_e+1]<<8))>>>ve&15}function xe(ce,Ne){var ve=Ne&7,_e=Ne>>>3;return(ce[_e]|(ve<=3?0:ce[_e+1]<<8))>>>ve&31}function re(ce,Ne){var ve=Ne&7,_e=Ne>>>3;return(ce[_e]|(ve<=1?0:ce[_e+1]<<8))>>>ve&127}function J(ce,Ne,ve){var _e=Ne&7,ie=Ne>>>3,me=(1<<ve)-1,De=ce[ie]>>>_e;return ve<8-_e||(De|=ce[ie+1]<<8-_e,ve<16-_e)||(De|=ce[ie+2]<<16-_e,ve<24-_e)||(De|=ce[ie+3]<<24-_e),De&me}function pe(ce,Ne,ve){var _e=Ne&7,ie=Ne>>>3;return _e<=5?ce[ie]|=(ve&7)<<_e:(ce[ie]|=ve<<_e&255,ce[ie+1]=(ve&7)>>8-_e),Ne+3}function Y(ce,Ne,ve){var _e=Ne&7,ie=Ne>>>3;return ve=(ve&1)<<_e,ce[ie]|=ve,Ne+1}function le(ce,Ne,ve){var _e=Ne&7,ie=Ne>>>3;return ve<<=_e,ce[ie]|=ve&255,ve>>>=8,ce[ie+1]=ve,Ne+8}function te(ce,Ne,ve){var _e=Ne&7,ie=Ne>>>3;return ve<<=_e,ce[ie]|=ve&255,ve>>>=8,ce[ie+1]=ve&255,ce[ie+2]=ve>>>8,Ne+16}function oe(ce,Ne){var ve=ce.length,_e=2*ve>Ne?2*ve:Ne+5,ie=0;if(ve>=Ne)return ce;if(tr){var me=PU(_e);if(ce.copy)ce.copy(me);else for(;ie<ce.length;++ie)me[ie]=ce[ie];return me}else if(he){var De=new Uint8Array(_e);if(De.set)De.set(ce);else for(;ie<ve;++ie)De[ie]=ce[ie];return De}return ce.length=_e,ce}function ae(ce){for(var Ne=new Array(ce),ve=0;ve<ce;++ve)Ne[ve]=0;return Ne}function fe(ce,Ne,ve){var _e=1,ie=0,me=0,De=0,se=0,Te=ce.length,Ee=he?new Uint16Array(32):ae(32);for(me=0;me<32;++me)Ee[me]=0;for(me=Te;me<ve;++me)ce[me]=0;Te=ce.length;var ue=he?new Uint16Array(Te):ae(Te);for(me=0;me<Te;++me)Ee[ie=ce[me]]++,_e<ie&&(_e=ie),ue[me]=0;for(Ee[0]=0,me=1;me<=_e;++me)Ee[me+16]=se=se+Ee[me-1]<<1;for(me=0;me<Te;++me)se=ce[me],se!=0&&(ue[me]=Ee[se+16]++);var de=0;for(me=0;me<Te;++me)if(de=ce[me],de!=0)for(se=Z(ue[me],_e)>>_e-de,De=(1<<_e+4-de)-1;De>=0;--De)Ne[se|De<<de]=de&15|me<<4;return _e}var Ae=he?new Uint16Array(512):ae(512),Me=he?new Uint16Array(32):ae(32);if(!he){for(var Ve=0;Ve<512;++Ve)Ae[Ve]=0;for(Ve=0;Ve<32;++Ve)Me[Ve]=0}(function(){for(var ce=[],Ne=0;Ne<32;Ne++)ce.push(5);fe(ce,Me,32);var ve=[];for(Ne=0;Ne<=143;Ne++)ve.push(8);for(;Ne<=255;Ne++)ve.push(9);for(;Ne<=279;Ne++)ve.push(7);for(;Ne<=287;Ne++)ve.push(8);fe(ve,Ae,288)})();var ot=function(){for(var Ne=he?new Uint8Array(32768):[],ve=0,_e=0;ve<ee.length-1;++ve)for(;_e<ee[ve+1];++_e)Ne[_e]=ve;for(;_e<32768;++_e)Ne[_e]=29;var ie=he?new Uint8Array(259):[];for(ve=0,_e=0;ve<L.length-1;++ve)for(;_e<L[ve+1];++_e)ie[_e]=ve;function me(se,Te){for(var Ee=0;Ee<se.length;){var ue=Math.min(65535,se.length-Ee),de=Ee+ue==se.length;for(Te.write_shift(1,+de),Te.write_shift(2,ue),Te.write_shift(2,~ue&65535);ue-- >0;)Te[Te.l++]=se[Ee++]}return Te.l}function De(se,Te){for(var Ee=0,ue=0,de=he?new Uint16Array(32768):[];ue<se.length;){var Re=Math.min(65535,se.length-ue);if(Re<10){for(Ee=pe(Te,Ee,+(ue+Re==se.length)),Ee&7&&(Ee+=8-(Ee&7)),Te.l=Ee/8|0,Te.write_shift(2,Re),Te.write_shift(2,~Re&65535);Re-- >0;)Te[Te.l++]=se[ue++];Ee=Te.l*8;continue}Ee=pe(Te,Ee,+(ue+Re==se.length)+2);for(var We=0;Re-- >0;){var Qe=se[ue];We=(We<<5^Qe)&32767;var Ze=-1,pt=0;if((Ze=de[We])&&(Ze|=ue&-32768,Ze>ue&&(Ze-=32768),Ze<ue))for(;se[Ze+pt]==se[ue+pt]&&pt<250;)++pt;if(pt>2){Qe=ie[pt],Qe<=22?Ee=le(Te,Ee,be[Qe+1]>>1)-1:(le(Te,Ee,3),Ee+=5,le(Te,Ee,be[Qe-23]>>5),Ee+=3);var Kt=Qe<8?0:Qe-4>>2;Kt>0&&(te(Te,Ee,pt-L[Qe]),Ee+=Kt),Qe=Ne[ue-Ze],Ee=le(Te,Ee,be[Qe]>>3),Ee-=3;var Tt=Qe<4?0:Qe-2>>1;Tt>0&&(te(Te,Ee,ue-Ze-ee[Qe]),Ee+=Tt);for(var Nt=0;Nt<pt;++Nt)de[We]=ue&32767,We=(We<<5^se[ue])&32767,++ue;Re-=pt-1}else Qe<=143?Qe=Qe+48:Ee=Y(Te,Ee,1),Ee=le(Te,Ee,be[Qe]),de[We]=ue&32767,++ue}Ee=le(Te,Ee,0)-1}return Te.l=(Ee+7)/8|0,Te.l}return function(Te,Ee){return Te.length<8?me(Te,Ee):De(Te,Ee)}}();function Fe(ce){var Ne=ns(50+Math.floor(ce.length*1.1)),ve=ot(ce,Ne);return Ne.slice(0,ve)}var je=he?new Uint16Array(32768):ae(32768),Ge=he?new Uint16Array(32768):ae(32768),Je=he?new Uint16Array(128):ae(128),kt=1,Qt=1;function Mt(ce,Ne){var ve=xe(ce,Ne)+257;Ne+=5;var _e=xe(ce,Ne)+1;Ne+=5;var ie=ke(ce,Ne)+4;Ne+=4;for(var me=0,De=he?new Uint8Array(19):ae(19),se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,Ee=he?new Uint8Array(8):ae(8),ue=he?new Uint8Array(8):ae(8),de=De.length,Re=0;Re<ie;++Re)De[Q[Re]]=me=V(ce,Ne),Te<me&&(Te=me),Ee[me]++,Ne+=3;var We=0;for(Ee[0]=0,Re=1;Re<=Te;++Re)ue[Re]=We=We+Ee[Re-1]<<1;for(Re=0;Re<de;++Re)(We=De[Re])!=0&&(se[Re]=ue[We]++);var Qe=0;for(Re=0;Re<de;++Re)if(Qe=De[Re],Qe!=0){We=be[se[Re]]>>8-Qe;for(var Ze=(1<<7-Qe)-1;Ze>=0;--Ze)Je[We|Ze<<Qe]=Qe&7|Re<<3}var pt=[];for(Te=1;pt.length<ve+_e;)switch(We=Je[re(ce,Ne)],Ne+=We&7,We>>>=3){case 16:for(me=3+Ie(ce,Ne),Ne+=2,We=pt[pt.length-1];me-- >0;)pt.push(We);break;case 17:for(me=3+V(ce,Ne),Ne+=3;me-- >0;)pt.push(0);break;case 18:for(me=11+re(ce,Ne),Ne+=7;me-- >0;)pt.push(0);break;default:pt.push(We),Te<We&&(Te=We);break}var Kt=pt.slice(0,ve),Tt=pt.slice(ve);for(Re=ve;Re<286;++Re)Kt[Re]=0;for(Re=_e;Re<30;++Re)Tt[Re]=0;return kt=fe(Kt,je,286),Qt=fe(Tt,Ge,30),Ne}function Mn(ce,Ne){if(ce[0]==3&&!(ce[1]&3))return[xh(Ne),2];for(var ve=0,_e=0,ie=PU(Ne||1<<18),me=0,De=ie.length>>>0,se=0,Te=0;!(_e&1);){if(_e=V(ce,ve),ve+=3,_e>>>1)_e>>1==1?(se=9,Te=5):(ve=Mt(ce,ve),se=kt,Te=Qt);else{ve&7&&(ve+=8-(ve&7));var Ee=ce[ve>>>3]|ce[(ve>>>3)+1]<<8;if(ve+=32,Ee>0)for(!Ne&&De<me+Ee&&(ie=oe(ie,me+Ee),De=ie.length);Ee-- >0;)ie[me++]=ce[ve>>>3],ve+=8;continue}for(;;){!Ne&&De<me+32767&&(ie=oe(ie,me+32767),De=ie.length);var ue=J(ce,ve,se),de=_e>>>1==1?Ae[ue]:je[ue];if(ve+=de&15,de>>>=4,!(de>>>8&255))ie[me++]=de;else{if(de==256)break;de-=257;var Re=de<8?0:de-4>>2;Re>5&&(Re=0);var We=me+L[de];Re>0&&(We+=J(ce,ve,Re),ve+=Re),ue=J(ce,ve,Te),de=_e>>>1==1?Me[ue]:Ge[ue],ve+=de&15,de>>>=4;var Qe=de<4?0:de-2>>1,Ze=ee[de];for(Qe>0&&(Ze+=J(ce,ve,Qe),ve+=Qe),!Ne&&De<We&&(ie=oe(ie,We+100),De=ie.length);me<We;)ie[me]=ie[me-Ze],++me}}}return Ne?[ie,ve+7>>>3]:[ie.slice(0,me),ve+7>>>3]}function sn(ce,Ne){var ve=ce.slice(ce.l||0),_e=Mn(ve,Ne);return ce.l+=_e[1],_e[0]}function Qn(ce,Ne){if(ce)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function qn(ce,Ne){var ve=ce;Ls(ve,0);var _e=[],ie=[],me={FileIndex:_e,FullPaths:ie};_(me,{root:Ne.root});for(var De=ve.length-4;(ve[De]!=80||ve[De+1]!=75||ve[De+2]!=5||ve[De+3]!=6)&&De>=0;)--De;ve.l=De+4,ve.l+=4;var se=ve.read_shift(2);ve.l+=6;var Te=ve.read_shift(4);for(ve.l=Te,De=0;De<se;++De){ve.l+=20;var Ee=ve.read_shift(4),ue=ve.read_shift(4),de=ve.read_shift(2),Re=ve.read_shift(2),We=ve.read_shift(2);ve.l+=8;var Qe=ve.read_shift(4),Ze=l(ve.slice(ve.l+de,ve.l+de+Re));ve.l+=de+Re+We;var pt=ve.l;ve.l=Qe+4,nr(ve,Ee,ue,me,Ze),ve.l=pt}return me}function nr(ce,Ne,ve,_e,ie){ce.l+=2;var me=ce.read_shift(2),De=ce.read_shift(2),se=o(ce);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Te=ce.read_shift(4),Ee=ce.read_shift(4),ue=ce.read_shift(4),de=ce.read_shift(2),Re=ce.read_shift(2),We="",Qe=0;Qe<de;++Qe)We+=String.fromCharCode(ce[ce.l++]);if(Re){var Ze=l(ce.slice(ce.l,ce.l+Re));(Ze[21589]||{}).mt&&(se=Ze[21589].mt),((ie||{})[21589]||{}).mt&&(se=ie[21589].mt)}ce.l+=Re;var pt=ce.slice(ce.l,ce.l+Ee);switch(De){case 8:pt=B(ce,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+De)}var Kt=!1;me&8&&(Te=ce.read_shift(4),Te==134695760&&(Te=ce.read_shift(4),Kt=!0),Ee=ce.read_shift(4),ue=ce.read_shift(4)),Ee!=Ne&&Qn(Kt,"Bad compressed size: "+Ne+" != "+Ee),ue!=ve&&Qn(Kt,"Bad uncompressed size: "+ve+" != "+ue),jn(_e,We,pt,{unsafe:!0,mt:se})}function Cn(ce,Ne){var ve=Ne||{},_e=[],ie=[],me=ns(1),De=ve.compression?8:0,se=0,Te=0,Ee=0,ue=0,de=0,Re=ce.FullPaths[0],We=Re,Qe=ce.FileIndex[0],Ze=[],pt=0;for(Te=1;Te<ce.FullPaths.length;++Te)if(We=ce.FullPaths[Te].slice(Re.length),Qe=ce.FileIndex[Te],!(!Qe.size||!Qe.content||We=="Sh33tJ5")){var Kt=ue,Tt=ns(We.length);for(Ee=0;Ee<We.length;++Ee)Tt.write_shift(1,We.charCodeAt(Ee)&127);Tt=Tt.slice(0,Tt.l),Ze[de]=k5e.buf(Qe.content,0);var Nt=Qe.content;De==8&&(Nt=K(Nt)),me=ns(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,se),me.write_shift(2,De),Qe.mt?s(me,Qe.mt):me.write_shift(4,0),me.write_shift(-4,Ze[de]),me.write_shift(4,Nt.length),me.write_shift(4,Qe.content.length),me.write_shift(2,Tt.length),me.write_shift(2,0),ue+=me.length,_e.push(me),ue+=Tt.length,_e.push(Tt),ue+=Nt.length,_e.push(Nt),me=ns(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,se),me.write_shift(2,De),me.write_shift(4,0),me.write_shift(-4,Ze[de]),me.write_shift(4,Nt.length),me.write_shift(4,Qe.content.length),me.write_shift(2,Tt.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,Kt),pt+=me.l,ie.push(me),pt+=Tt.length,ie.push(Tt),++de}return me=ns(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,de),me.write_shift(2,de),me.write_shift(4,pt),me.write_shift(4,ue),me.write_shift(2,0),Nf([Nf(_e),Nf(ie),me])}var Pn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Wt(ce,Ne){if(ce.ctype)return ce.ctype;var ve=ce.name||"",_e=ve.match(/\.([^\.]+)$/);return _e&&Pn[_e[1]]||Ne&&(_e=(ve=Ne).match(/[\.\\]([^\.\\])+$/),_e&&Pn[_e[1]])?Pn[_e[1]]:"application/octet-stream"}function rr(ce){for(var Ne=RU(ce),ve=[],_e=0;_e<Ne.length;_e+=76)ve.push(Ne.slice(_e,_e+76));return ve.join(`\r
`)+`\r
`}function ln(ce){var Ne=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var ue=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(ue.length==1?"0"+ue:ue)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ve=[],_e=Ne.split(`\r
`),ie=0;ie<_e.length;++ie){var me=_e[ie];if(me.length==0){ve.push("");continue}for(var De=0;De<me.length;){var se=76,Te=me.slice(De,De+se);Te.charAt(se-1)=="="?se--:Te.charAt(se-2)=="="?se-=2:Te.charAt(se-3)=="="&&(se-=3),Te=me.slice(De,De+se),De+=se,De<me.length&&(Te+="="),ve.push(Te)}}return ve.join(`\r
`)}function Dn(ce){for(var Ne=[],ve=0;ve<ce.length;++ve){for(var _e=ce[ve];ve<=ce.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+ce[++ve];Ne.push(_e)}for(var ie=0;ie<Ne.length;++ie)Ne[ie]=Ne[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return oc(Ne.join(`\r
`))}function Or(ce,Ne,ve){for(var _e="",ie="",me="",De,se=0;se<10;++se){var Te=Ne[se];if(!Te||Te.match(/^\s*$/))break;var Ee=Te.match(/^(.*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":_e=Ee[2].trim();break;case"content-type":me=Ee[2].trim();break;case"content-transfer-encoding":ie=Ee[2].trim();break}}switch(++se,ie.toLowerCase()){case"base64":De=oc(el(Ne.slice(se).join("")));break;case"quoted-printable":De=Dn(Ne.slice(se));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var ue=jn(ce,_e.slice(ve.length),De,{unsafe:!0});me&&(ue.ctype=me)}function dr(ce,Ne){if(F(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ve=Ne&&Ne.root||"",_e=(tr&&Buffer.isBuffer(ce)?ce.toString("binary"):F(ce)).split(`\r
`),ie=0,me="";for(ie=0;ie<_e.length;++ie)if(me=_e[ie],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),ve||(ve=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,ve.length)!=ve))for(;ve.length>0&&(ve=ve.slice(0,ve.length-1),ve=ve.slice(0,ve.lastIndexOf("/")+1),me.slice(0,ve.length)!=ve););var De=(_e[1]||"").match(/boundary="(.*?)"/);if(!De)throw new Error("MAD cannot find boundary");var se="--"+(De[1]||""),Te=[],Ee=[],ue={FileIndex:Te,FullPaths:Ee};_(ue);var de,Re=0;for(ie=0;ie<_e.length;++ie){var We=_e[ie];We!==se&&We!==se+"--"||(Re++&&Or(ue,_e.slice(de,ie),ve),de=ie)}return ue}function _n(ce,Ne){var ve=Ne||{},_e=ve.boundary||"SheetJS";_e="------="+_e;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],me=ce.FullPaths[0],De=me,se=ce.FileIndex[0],Te=1;Te<ce.FullPaths.length;++Te)if(De=ce.FullPaths[Te].slice(me.length),se=ce.FileIndex[Te],!(!se.size||!se.content||De=="Sh33tJ5")){De=De.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var Ee=se.content,ue=tr&&Buffer.isBuffer(Ee)?Ee.toString("binary"):F(Ee),de=0,Re=Math.min(1024,ue.length),We=0,Qe=0;Qe<=Re;++Qe)(We=ue.charCodeAt(Qe))>=32&&We<128&&++de;var Ze=de>=Re*4/5;ie.push(_e),ie.push("Content-Location: "+(ve.root||"file:///C:/SheetJS/")+De),ie.push("Content-Transfer-Encoding: "+(Ze?"quoted-printable":"base64")),ie.push("Content-Type: "+Wt(se,De)),ie.push(""),ie.push(Ze?ln(ue):rr(ue))}return ie.push(_e+`--\r
`),ie.join(`\r
`)}function ir(ce){var Ne={};return _(Ne,ce),Ne}function jn(ce,Ne,ve,_e){var ie=_e&&_e.unsafe;ie||_(ce);var me=!ie&&cr.find(ce,Ne);if(!me){var De=ce.FullPaths[0];Ne.slice(0,De.length)==De?De=Ne:(De.slice(-1)!="/"&&(De+="/"),De=(De+Ne).replace("//","/")),me={name:i(Ne),type:2},ce.FileIndex.push(me),ce.FullPaths.push(De),ie||cr.utils.cfb_gc(ce)}return me.content=ve,me.size=ve?ve.length:0,_e&&(_e.CLSID&&(me.clsid=_e.CLSID),_e.mt&&(me.mt=_e.mt),_e.ct&&(me.ct=_e.ct)),me}function Kn(ce,Ne){_(ce);var ve=cr.find(ce,Ne);if(ve){for(var _e=0;_e<ce.FileIndex.length;++_e)if(ce.FileIndex[_e]==ve)return ce.FileIndex.splice(_e,1),ce.FullPaths.splice(_e,1),!0}return!1}function Xn(ce,Ne,ve){_(ce);var _e=cr.find(ce,Ne);if(_e){for(var ie=0;ie<ce.FileIndex.length;++ie)if(ce.FileIndex[ie]==_e)return ce.FileIndex[ie].name=i(ve),ce.FullPaths[ie]=ve,!0}return!1}function br(ce){C(ce,!0)}return t.find=j,t.read=k,t.parse=d,t.write=W,t.writeFile=G,t.utils={cfb_new:ir,cfb_add:jn,cfb_del:Kn,cfb_mov:Xn,cfb_gc:br,ReadShift:Ev,CheckField:LJ,prep_blob:Ls,bconcat:Nf,use_zlib:P,_deflateRaw:Fe,_inflateRaw:sn,consts:z},t}();function A5e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function bu(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function rR(e){for(var t=[],n=bu(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var vT=new Date(1899,11,30,0,0,0);function Ka(e,t){var n=e.getTime(),r=vT.getTime()+(e.getTimezoneOffset()-vT.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var gJ=new Date,C5e=vT.getTime()+(gJ.getTimezoneOffset()-vT.getTimezoneOffset())*6e4,qU=gJ.getTimezoneOffset();function _N(e){var t=new Date;return t.setTime(e*24*60*60*1e3+C5e),t.getTimezoneOffset()!==qU&&t.setTime(t.getTime()+(t.getTimezoneOffset()-qU)*6e4),t}function D5e(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var WU=new Date("2017-02-19T19:06:09.000Z"),xJ=isNaN(WU.getFullYear())?new Date("2/19/17"):WU,j5e=xJ.getFullYear()==2017;function Ns(e,t){var n=new Date(e);if(j5e)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(xJ.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function um(e,t){if(tr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Jy(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Jy(rJ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Jy(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Jy(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function Us(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Us(e[n]));return t}function xi(e,t){for(var n="";n.length<t;)n+=e;return n}function hc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var I5e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Q0(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&I5e.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var R5e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],l=1;l<s.length;++l)o.push(i),o.push(s[l]);return o}}();function yJ(e){return e?e.content&&e.type?um(e.content,!0):e.data?Xy(e.data):e.asNodeBuffer&&tr?Xy(e.asNodeBuffer().toString("binary")):e.asBinary?Xy(e.asBinary()):e._data&&e._data.getContent?Xy(um(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function vJ(e){if(!e)return null;if(e.data)return jU(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?jU(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function P5e(e){return e&&e.name.slice(-4)===".bin"?vJ(e):yJ(e)}function pl(e,t){for(var n=e.FullPaths||bu(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function iR(e,t){var n=pl(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Bi(e,t,n){if(!n)return P5e(iR(e,t));if(!t)return null;try{return Bi(e,t)}catch{return null}}function Wo(e,t,n){if(!n)return yJ(iR(e,t));if(!t)return null;try{return Wo(e,t)}catch{return null}}function O5e(e,t,n){return vJ(iR(e,t))}function zU(e){for(var t=e.FullPaths||bu(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function F5e(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return tr?r=Im(n):r=t5e(n),cr.utils.cfb_add(e,t,r)}cr.utils.cfb_add(e,t,n)}else e.file(t,n)}function bJ(e,t){switch(t.type){case"base64":return cr.read(e,{type:"base64"});case"binary":return cr.read(e,{type:"binary"});case"buffer":case"array":return cr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Zy(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var wJ=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,L5e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$U=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,M5e=/<[^>]*>/g,ba=wJ.match($U)?$U:M5e,U5e=/<\w*:/,B5e=/<(\/?)\w+:/;function fn(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(L5e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=c,r[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(r[p]&&d.slice(l-3,l)=="ext")continue;r[p]=c,r[p.toLowerCase()]=c}}return r}function Nu(e){return e.replace(B5e,"<$1")}var _J={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},V5e=rR(_J),pr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(l,c){return _J[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),q5e=/[&<>'"]/g,W5e=/[\u0000-\u001f]/g;function sR(e){var t=e+"";return t.replace(q5e,function(n){return V5e[n]}).replace(/\n/g,"<br/>").replace(W5e,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var HU=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function ni(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fA(e){for(var t="",n=0,r=0,i=0,s=0,o=0,l=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=e.charCodeAt(n++),l=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function GU(e){var t=xh(2*e.length),n,r,i=1,s=0,o=0,l;for(r=0;r<e.length;r+=i)i=1,(l=e.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(e.charCodeAt(r+1)&63),i=2):l<240?(n=(l&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(l&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function QU(e){return Im(e,"binary").toString("utf8")}var W2="foo bar baz",qr=tr&&(QU(W2)==fA(W2)&&QU||GU(W2)==fA(W2)&&GU)||fA,Jy=tr?function(e){return Im(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},I1=function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),TJ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),z5e=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),$5e=/<\/?(?:vt:)?variant>/g,H5e=/<(?:vt:)([^>]*)>([\s\S]*)</;function KU(e,t){var n=fn(e),r=e.match(z5e(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace($5e,"").match(H5e);o&&i.push({v:qr(o[2]),t:o[1]})}),i}var G5e=/(^\s|\s$|\n)/;function Q5e(e){return bu(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function K5e(e,t,n){return"<"+e+(n!=null?Q5e(n):"")+(t!=null?(t.match(G5e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function aR(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return qr(Rm(eR(e)));throw new Error("Bad input format: expected Buffer or string")}var R1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,X5e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Y5e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Z5e(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function J5e(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[n+l]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var XU=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},YU=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Im(t)})):XU(e)}:XU,ZU=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Ju(e,i)));return r.join("").replace(Ga,"")},oR=tr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ga,""):ZU(e,t,n)}:ZU,JU=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},EJ=tr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):JU(e,t,n)}:JU,e9=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(wg(e,i)));return r.join("")},Fb=tr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):e9(t,n,r)}:e9,NJ=function(e,t){var n=Vo(e,t);return n>0?Fb(e,t+4,t+4+n-1):""},SJ=NJ,kJ=function(e,t){var n=Vo(e,t);return n>0?Fb(e,t+4,t+4+n-1):""},AJ=kJ,CJ=function(e,t){var n=2*Vo(e,t);return n>0?Fb(e,t+4,t+4+n-1):""},DJ=CJ,jJ=function(t,n){var r=Vo(t,n);return r>0?oR(t,n+4,n+4+r):""},IJ=jJ,RJ=function(e,t){var n=Vo(e,t);return n>0?Fb(e,t+4,t+4+n):""},PJ=RJ,OJ=function(e,t){return Z5e(e,t)},bT=OJ,FJ=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tr&&(SJ=function(t,n){if(!Buffer.isBuffer(t))return NJ(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},AJ=function(t,n){if(!Buffer.isBuffer(t))return kJ(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},DJ=function(t,n){if(!Buffer.isBuffer(t))return CJ(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},IJ=function(t,n){if(!Buffer.isBuffer(t))return jJ(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},PJ=function(t,n){if(!Buffer.isBuffer(t))return RJ(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},bT=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):OJ(t,n)},FJ=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var wg=function(e,t){return e[t]},Ju=function(e,t){return e[t+1]*256+e[t]},eRe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Vo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},cp=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},tRe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ev(e,t){var n="",r,i,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,tr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)n+=String.fromCharCode(Ju(this,u)),u+=2;e*=2;break;case"utf8":n=Fb(this,this.l,this.l+e);break;case"utf16le":e*=2,n=oR(this,this.l,this.l+e);break;case"wstr":return Ev.call(this,e,"dbcs");case"lpstr-ansi":n=SJ(this,this.l),e=4+Vo(this,this.l);break;case"lpstr-cp":n=AJ(this,this.l),e=4+Vo(this,this.l);break;case"lpwstr":n=DJ(this,this.l),e=4+2*Vo(this,this.l);break;case"lpp4":e=4+Vo(this,this.l),n=IJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Vo(this,this.l),n=PJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=wg(this,this.l+e++))!==0;)s.push(q2(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=Ju(this,this.l+e))!==0;)s.push(q2(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=wg(this,u),this.l=u+1,l=Ev.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(q2(Ju(this,u))),u+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=wg(this,u),this.l=u+1,l=Ev.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(q2(wg(this,u))),u+=1}n=s.join("");break;default:switch(e){case 1:return r=wg(this,this.l),this.l++,r;case 2:return r=(t==="i"?eRe:Ju)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?cp:tRe)(this,this.l),this.l+=4,r):(i=Vo(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=bT(this,this.l):i=bT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=EJ(this,this.l,e);break}}return this.l+=e,n}var nRe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},rRe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},iRe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function sRe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)iRe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,nRe(this,t,this.l);break;case 8:if(r=8,n==="f"){J5e(this,t,this.l);break}case 16:break;case-4:r=4,rRe(this,t,this.l);break}return this.l+=r,this}function LJ(e,t){var n=EJ(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ls(e,t){e.l=t,e.read_shift=Ev,e.chk=LJ,e.write_shift=sRe}function ya(e,t){e.l+=t}function ns(e){var t=xh(e);return Ls(t,0),t}function Fd(e,t,n){if(e){var r,i,s;Ls(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=ST[l]||ST[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;c=e.l+s;var d=u.f&&u.f(e,s,n);if(e.l=c,t(d,u,l))return}}}function r4(){var e=[],t=tr?256:2048,n=function(u){var d=ns(u);return Ls(d,0),d},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,t)))},o=function(){return i(),Nf(e)},l=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Nv(e,t,n){var r=Us(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function t9(e,t,n){var r=Us(e);return r.s=Nv(r.s,t.s,n),r.e=Nv(r.e,t.s,n),r}function Sv(e,t){if(e.cRel&&e.c<0)for(e=Us(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Us(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=xn(e);return!e.cRel&&e.cRel!=null&&(n=lRe(n)),!e.rRel&&e.rRel!=null&&(n=aRe(n)),n}function hA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ls(e.s.c)+":"+(e.e.cRel?"":"$")+ls(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Bs(e.s.r)+":"+(e.e.rRel?"":"$")+Bs(e.e.r):Sv(e.s,t.biff)+":"+Sv(e.e,t.biff)}function lR(e){return parseInt(oRe(e),10)-1}function Bs(e){return""+(e+1)}function aRe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function oRe(e){return e.replace(/\$(\d+)$/,"$1")}function cR(e){for(var t=cRe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ls(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function lRe(e){return e.replace(/^([A-Z])/,"$$$1")}function cRe(e){return e.replace(/^\$([A-Z])/,"$1")}function uRe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wa(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function xn(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Ex(e){var t=e.indexOf(":");return t==-1?{s:Wa(e),e:Wa(e)}:{s:Wa(e.slice(0,t)),e:Wa(e.slice(t+1))}}function ur(e,t){return typeof t>"u"||typeof t=="number"?ur(e.s,e.e):(typeof e!="string"&&(e=xn(e)),typeof t!="string"&&(t=xn(t)),e==t?e:e+":"+t)}function bi(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function n9(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ol(e.z,n?Ka(t):t)}catch{}try{return e.w=Ol((e.XF||{}).numFmtId||(n?14:0),n?Ka(t):t)}catch{return""+t}}function Ed(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Fm[e.v]||e.v:t==null?n9(e,e.v):n9(e,t))}function jh(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function MJ(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),o=0,l=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Wa(r.origin):r.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=bi(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},y=o+f,m=l+h;if(u.s.r>y&&(u.s.r=y),u.s.c>m&&(u.s.c=m),u.e.r<y&&(u.e.r=y),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||En[14],r.cellDates?(p.t="d",p.w=Ol(p.z,Ka(p.v))):(p.t="n",p.v=Ka(p.v),p.w=Ol(p.z,p.v))):p.t="s";if(i)s[y]||(s[y]=[]),s[y][m]&&s[y][m].z&&(p.z=s[y][m].z),s[y][m]=p;else{var x=xn({c:m,r:y});s[x]&&s[x].z&&(p.z=s[x].z),s[x]=p}}}return u.s.c<1e7&&(s["!ref"]=ur(u)),s}function Nx(e,t){return MJ(null,e,t)}function dRe(e){return e.read_shift(4,"i")}function ga(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function fRe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function uR(e,t){var n=e.l,r=e.read_shift(1),i=ga(e),s=[],o={t:i,h:i};if(r&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(fRe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var hRe=uR;function Ml(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Pm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var pRe=ga;function dR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var mRe=ga,i4=dR;function fR(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?bT([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cp(t,0)>>2;return n?i/100:i}function UJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Om=UJ;function ca(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function gRe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var u=jp[i];u&&(t.rgb=O1(u));break;case 2:t.rgb=O1([o,l,c]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function xRe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function BJ(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function yRe(e){return BJ(e,1)}function vRe(e){return BJ(e,2)}var hR=2,oo=3,z2=11,r9=12,wT=19,$2=64,bRe=65,wRe=71,_Re=4108,TRe=4126,_s=80,VJ=81,ERe=[_s,VJ],NRe={1:{n:"CodePage",t:hR},2:{n:"Category",t:_s},3:{n:"PresentationFormat",t:_s},4:{n:"ByteCount",t:oo},5:{n:"LineCount",t:oo},6:{n:"ParagraphCount",t:oo},7:{n:"SlideCount",t:oo},8:{n:"NoteCount",t:oo},9:{n:"HiddenCount",t:oo},10:{n:"MultimediaClipCount",t:oo},11:{n:"ScaleCrop",t:z2},12:{n:"HeadingPairs",t:_Re},13:{n:"TitlesOfParts",t:TRe},14:{n:"Manager",t:_s},15:{n:"Company",t:_s},16:{n:"LinksUpToDate",t:z2},17:{n:"CharacterCount",t:oo},19:{n:"SharedDoc",t:z2},22:{n:"HyperlinksChanged",t:z2},23:{n:"AppVersion",t:oo,p:"version"},24:{n:"DigSig",t:bRe},26:{n:"ContentType",t:_s},27:{n:"ContentStatus",t:_s},28:{n:"Language",t:_s},29:{n:"Version",t:_s},255:{},2147483648:{n:"Locale",t:wT},2147483651:{n:"Behavior",t:wT},1919054434:{}},SRe={1:{n:"CodePage",t:hR},2:{n:"Title",t:_s},3:{n:"Subject",t:_s},4:{n:"Author",t:_s},5:{n:"Keywords",t:_s},6:{n:"Comments",t:_s},7:{n:"Template",t:_s},8:{n:"LastAuthor",t:_s},9:{n:"RevNumber",t:_s},10:{n:"EditTime",t:$2},11:{n:"LastPrinted",t:$2},12:{n:"CreatedDate",t:$2},13:{n:"ModifiedDate",t:$2},14:{n:"PageCount",t:oo},15:{n:"WordCount",t:oo},16:{n:"CharCount",t:oo},17:{n:"Thumbnail",t:wRe},18:{n:"Application",t:_s},19:{n:"DocSecurity",t:oo},255:{},2147483648:{n:"Locale",t:wT},2147483651:{n:"Behavior",t:wT},1919054434:{}},i9={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},kRe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ARe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var CRe=ARe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jp=Us(CRe),Fm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qJ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},s9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function DRe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function jRe(e){var t=DRe();if(!e||!e.match)return t;var n={};if((e.match(ba)||[]).forEach(function(r){var i=fn(r);switch(i[0].replace(U5e,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[s9[i.ContentType]]!==void 0&&t[s9[i.ContentType]].push(i.PartName);break}}),t.xmlns!==X5e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var Vg={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function s4(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function kv(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(ba)||[]).forEach(function(i){var s=fn(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:Zy(s.Target,t);n[l]=o,r[s.Id]=o}}),n["!id"]=r,n}var IRe="application/vnd.oasis.opendocument.spreadsheet";function RRe(e,t){for(var n=aR(e),r,i;r=R1.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=fn(r[0],!1),i.path=="/"&&i.type!==IRe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var Av=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],PRe=function(){for(var e=new Array(Av.length),t=0;t<Av.length;++t){var n=Av[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function WJ(e){var t={};e=qr(e);for(var n=0;n<Av.length;++n){var r=Av[n],i=e.match(PRe[n]);i!=null&&i.length>0&&(t[r[1]]=pr(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Ns(t[r[1]]))}return t}var ORe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function zJ(e,t,n,r){var i=[];if(typeof e=="string")i=KU(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?KU(t,r).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=o.slice(l,l+c);break}l+=c}}function FRe(e,t,n){var r={};return t||(t={}),e=qr(e),ORe.forEach(function(i){var s=(e.match(I1(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=pr(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&zJ(r.HeadingPairs,r.TitlesOfParts,t,n),t}var LRe=/<[^>]+>[^<]*/g;function MRe(e,t){var n={},r="",i=e.match(LRe);if(i)for(var s=0;s!=i.length;++s){var o=i[s],l=fn(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":r=pr(l.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=pr(d);break;case"bool":n[r]=ni(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=Ns(d);break;case"cy":case"error":n[r]=pr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var URe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},pA;function BRe(e,t,n){pA||(pA=rR(URe)),t=pA[t]||t,e[t]=n}function pR(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function $J(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function HJ(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function GJ(e,t,n){return t===31?HJ(e):$J(e,t,n)}function a4(e,t,n){return GJ(e,t,n===!1?0:4)}function VRe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return GJ(e,t,0)}function qRe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Ga,""),e.l-i&2&&(e.l+=2)}return n}function WRe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Ga,"");return n}function zRe(e){var t=e.l,n=_T(e,VJ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=_T(e,oo);return[n,r]}function $Re(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(zRe(e));return n}function a9(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ga,"").replace(Yy,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function QJ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function HRe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function _T(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==r9&&r!==t&&ERe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===r9?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return $J(e,r,4).replace(Ga,"");case 31:return HJ(e);case 64:return pR(e);case 65:return QJ(e);case 71:return HRe(e);case 80:return a4(e,r,!s.raw).replace(Ga,"");case 81:return VRe(e,r).replace(Ga,"");case 4108:return $Re(e);case 4126:case 4127:return r==4127?qRe(e):WRe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function o9(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=i;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+n]}s.sort(function(g,b){return g[1]-b[1]});var h={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var p=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],p=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],p=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(p=!1,e.l=s[o][1]),p)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(h[y.n]=_T(e,y.t,{raw:!0}),y.p==="version"&&(h[y.n]=String(h[y.n]>>16)+"."+("0000"+String(h[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(h[y.n]){case 0:h[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:cc(l=h[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[y.n])}}else if(s[o][0]===1){if(l=h.CodePage=_T(e,hR),cc(l),c!==-1){var m=e.l;e.l=s[c][1],u=a9(e,l),e.l=m}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=a9(e,l)}else{var x=u[s[o][0]],v;switch(e[e.l]){case 65:e.l+=4,v=QJ(e);break;case 30:e.l+=4,v=a4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=a4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=Si(e,4);break;case 64:e.l+=4,v=Ns(pR(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=v}}return e.l=n+r,h}function l9(e,t,n){var r=e.content;if(!r)return{};Ls(r,0);var i,s,o,l,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),d=r.read_shift(16);if(d!==cr.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),l=r.read_shift(4),i===1&&l!==r.l)throw new Error("Length mismatch: "+l+" !== "+r.l);i===2&&(o=r.read_shift(16),c=r.read_shift(4));var f=o9(r,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var y;try{y=o9(r,null)}catch{}for(p in y)h[p]=y[p];return h.FMTID=[s,o],h}function af(e,t){return e.read_shift(t),null}function GRe(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Si(e,t){return e.read_shift(t)===1}function Vi(e){return e.read_shift(2,"u")}function KJ(e,t){return GRe(e,t,Vi)}function QRe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function Lb(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function KRe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,l,c={};i&&(o=e.read_shift(2)),r&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*o),r&&(e.l+=l),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function dm(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Mb(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):dm(e,r,n)}function Lm(e,t,n){if(n.biff>5)return Mb(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function XRe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function YRe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ga,"");return r&&(e.l+=24),i}function ZRe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(Ga,"");return n+o}function JRe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return YRe(e);case"0303000000000000c000000000000046":return ZRe(e);default:throw new Error("Unsupported Moniker "+n)}}function H2(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ga,""):"";return n}function ePe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;i&16&&(s=H2(e,n-e.l)),i&128&&(o=H2(e,n-e.l)),(i&257)===257&&(l=H2(e,n-e.l)),(i&257)===1&&(c=JRe(e,n-e.l)),i&8&&(u=H2(e,n-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(f=pR(e)),e.l=n;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function XJ(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function YJ(e,t){var n=XJ(e);return n[3]=0,n}function Su(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function tPe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function nPe(e,t,n){return t===0?"":Lm(e,t,n)}function rPe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function ZJ(e){var t=e.read_shift(2),n=fR(e);return[t,n]}function iPe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=Lb(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function TN(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function JJ(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var sPe=JJ;function eee(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function aPe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function oPe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function na(e){e.l+=2,e.l+=e.read_shift(2)}var lPe={0:na,4:na,5:na,6:na,7:oPe,8:na,9:na,10:na,11:na,12:na,13:aPe,14:na,15:na,16:na,17:na,18:na,19:na,20:na,21:eee};function cPe(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(lPe[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function G2(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function uPe(e,t){return t===0||e.read_shift(2),1200}function dPe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=Lm(e,0,n);return e.read_shift(t+r-e.l),i}function fPe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function hPe(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=Lb(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function pPe(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(KRe(e));return s.Count=r,s.Unique=i,s}function mPe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function gPe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function xPe(e){var t=tPe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function yPe(e){return e.read_shift(2),e.read_shift(4)}function c9(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function vPe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function bPe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function wPe(){}function _Pe(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=Lb(e,0,n),r}function TPe(e){var t=Su(e);return t.isst=e.read_shift(4),t}function EPe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Su(e);n.biff==2&&e.l++;var s=Mb(e,r-e.l,n);return i.val=s,i}function NPe(e,t,n){var r=e.read_shift(2),i=Lm(e,0,n);return[r,i]}var SPe=Lm;function u9(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),o=e.read_shift(i),l=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:s,c:l},e:{r:o,c}}}function kPe(e){var t=e.read_shift(2),n=e.read_shift(2),r=ZJ(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function APe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(ZJ(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function CPe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function DPe(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return i.patternType=kRe[l>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function jPe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=DPe(e,t,r.fStyle,n),r}function IPe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function d9(e,t,n){var r=Su(e);(n.biff==2||t==9)&&++e.l;var i=QRe(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function RPe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Su(e),i=ca(e);return r.val=i,r}var f9=nPe;function PPe(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=dm(e,s),l=[];r>e.l;)l.push(Mb(e));return[s,i,o,l]}function h9(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=iPe(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var OPe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function p9(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),c=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var u=dm(e,o,n);i&32&&(u=OPe[u.charCodeAt(0)]);var d=r-e.l;n&&n.biff==2&&--d;var f=r==e.l||l===0||!(d>0)?[]:g8e(e,d,n,l);return{chKey:s,Name:u,itab:c,rgce:f}}function tee(e,t,n){if(n.biff<8)return FPe(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(rPe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function FPe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=Lb(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function LPe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=dm(e,r,n),o=dm(e,i,n);return[s,o]}function MPe(e,t,n){var r=JJ(e);e.l++;var i=e.read_shift(1);return t-=8,[x8e(e,t,n),i,r]}function m9(e,t,n){var r=sPe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,p8e(e,t,n)]}function UPe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function BPe(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=Lm(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},l,o,s]}}function VPe(e,t,n){return BPe(e,t,n)}function qPe(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(TN(e));return n}function WPe(e,t,n){if(n&&n.biff<8)return $Pe(e,t,n);var r=eee(e),i=cPe(e,t-22,r[1]);return{cmo:r,ft:i}}var zPe={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function $Pe(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((zPe[r]||ya)(e,t,n)),{cmo:[i,r,s],ft:o}}function HPe(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=XRe(e,6,n);var l=e.read_shift(2);e.read_shift(2),Vi(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-r!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=dm(e,e.lens[u+1]-e.lens[u]-1);if(i+=f,i.length>=(d?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function GPe(e,t){var n=TN(e);e.l+=16;var r=ePe(e,t-24);return[n,r]}function QPe(e,t){e.read_shift(2);var n=TN(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ga,""),[n,r]}function KPe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=i9[n]||n,n=e.read_shift(2),t[1]=i9[n]||n,t}function XPe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(YJ(e));return n}function YPe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(YJ(e));return n}function ZPe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function nee(e,t,n){if(!n.cellStyles)return ya(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var u={s:i,e:s,w:o,ixfe:l,flags:c};return(n.biff>=5||!n.biff)&&(u.level=c>>8&7),u}function JPe(e,t){var n={};return t<32||(e.l+=16,n.header=ca(e),n.footer=ca(e),e.l+=2),n}function eOe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var tOe=Su,nOe=KJ,rOe=Mb;function iOe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function sOe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Su(e);++e.l;var i=Lm(e,t-7,n);return r.t="str",r.val=i,r}function aOe(e){var t=Su(e);++e.l;var n=ca(e);return t.t="n",t.val=n,t}function oOe(e){var t=Su(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function lOe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function cOe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function uOe(e,t,n){var r=e.l+t,i=Su(e),s=e.read_shift(2),o=dm(e,s,n);return e.l=r,i.t="str",i.val=o,i}var dOe=[2,3,48,49,131,139,140,245],g9=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=rR({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,c){var u=[],d=xh(1);switch(c.type){case"base64":d=oc(el(l));break;case"binary":d=oc(l);break;case"buffer":case"array":d=l;break}Ls(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),g=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(g=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var b=[],w={},T=Math.min(d.length,f==2?521:x-10-(p?264:0)),k=y?32:11;d.l<T&&d[d.l]!=13;)switch(w={},w.name=D1.utils.decode(g,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&b.push(w),f!=2&&(d.l+=y?13:14),w.type){case"B":(!p||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var _=0,N=0;for(u[0]=[],N=0;N!=b.length;++N)u[0][N]=b[N].name;for(;m-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++_]=[],N=0,N=0;N!=b.length;++N){var C=d.slice(d.l,d.l+b[N].len);d.l+=b[N].len,Ls(C,0);var I=D1.utils.decode(g,C);switch(b[N].type){case"C":I.trim().length&&(u[_][N]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[_][N]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[_][N]=I;break;case"F":u[_][N]=parseFloat(I.trim());break;case"+":case"I":u[_][N]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[_][N]=!0;break;case"N":case"F":u[_][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[_][N]="##MEMO##"+(y?parseInt(I.trim(),10):C.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[_][N]=+I||0);break;case"@":u[_][N]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[_][N]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[_][N]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[_][N]=-C.read_shift(-8,"f");break;case"B":if(p&&b[N].len==8){u[_][N]=C.read_shift(8,"f");break}case"G":case"P":C.l+=b[N].len;break;case"0":if(b[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[N].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function r(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Nx(n(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function i(l,c){try{return jh(r(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&cc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=r4(),f=f4(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),y=l["!cols"]||[],m=0,x=0,v=0,g=1;for(m=0;m<h.length;++m){if(((y[m]||{}).DBF||{}).name){h[m]=y[m].DBF.name,++v;continue}if(h[m]!=null){if(++v,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var b=bi(l["!ref"]),w=[],T=[],k=[];for(m=0;m<=b.e.c-b.s.c;++m){var _="",N="",C=0,I=[];for(x=0;x<p.length;++x)p[x][m]!=null&&I.push(p[x][m]);if(I.length==0||h[m]==null){w[m]="?";continue}for(x=0;x<I.length;++x){switch(typeof I[x]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=I[x]instanceof Date?"D":"C";break;default:N="C"}C=Math.max(C,String(I[x]).length),_=_&&_!=N?"C":N}C>250&&(C=250),N=((y[m]||{}).DBF||{}).type,N=="C"&&y[m].DBF.len>C&&(C=y[m].DBF.len),_=="B"&&N=="N"&&(_="N",k[m]=y[m].DBF.dec,C=y[m].DBF.len),T[m]=_=="C"||N=="N"?C:s[_]||0,g+=T[m],w[m]=_}var j=d.next(32);for(j.write_shift(4,318902576),j.write_shift(4,p.length),j.write_shift(2,296+32*v),j.write_shift(2,g),m=0;m<4;++m)j.write_shift(4,0);for(j.write_shift(4,0|(+t[tJ]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var E=d.next(32),D=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,D,"sbcs"),E.write_shift(1,w[m]=="?"?"C":w[m],"sbcs"),E.write_shift(4,x),E.write_shift(1,T[m]||s[w[m]]||0),E.write_shift(1,k[m]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),x+=T[m]||s[w[m]]||0}var R=d.next(264);for(R.write_shift(4,13),m=0;m<65;++m)R.write_shift(4,0);for(m=0;m<p.length;++m){var M=d.next(g);for(M.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(w[x]){case"L":M.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":M.write_shift(8,p[m][x]||0,"f");break;case"N":var U="0";for(typeof p[m][x]=="number"&&(U=p[m][x].toFixed(k[x]||0)),v=0;v<T[x]-U.length;++v)M.write_shift(1,32);M.write_shift(1,U,"sbcs");break;case"D":p[m][x]?(M.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var z=String(p[m][x]!=null?p[m][x]:"").slice(0,T[x]);for(M.write_shift(1,z,"sbcs"),v=0;v<T[x]-z.length;++v)M.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),fOe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bu(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var y=e[p];return typeof y=="number"?IU(y):y},r=function(h,p,y){var m=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return m==59?h:IU(m)};e["|"]=254;function i(h,p){switch(p.type){case"base64":return s(el(h),p);case"binary":return s(h,p);case"buffer":return s(tr&&Buffer.isBuffer(h)?h.toString("binary"):Rm(h),p);case"array":return s(um(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var y=h.split(/[\n\r]+/),m=-1,x=-1,v=0,g=0,b=[],w=[],T=null,k={},_=[],N=[],C=[],I=0,j;for(+p.codepage>=0&&cc(+p.codepage);v!==y.length;++v){I=0;var E=y[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),D=E.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),R=D[0],M;if(E.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&w.push(E.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,z=!1,G=!1,F=!1,W=-1,O=-1;for(g=1;g<D.length;++g)switch(D[g].charAt(0)){case"A":break;case"X":x=parseInt(D[g].slice(1))-1,z=!0;break;case"Y":for(m=parseInt(D[g].slice(1))-1,z||(x=0),j=b.length;j<=m;++j)b[j]=[];break;case"K":M=D[g].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(hc(M))?isNaN(Q0(M).getDate())||(M=Ns(M)):(M=hc(M),T!==null&&Tx(T)&&(M=_N(M))),U=!0;break;case"E":F=!0;var P=s0(D[g].slice(1),{r:m,c:x});b[m][x]=[b[m][x],P];break;case"S":G=!0,b[m][x]=[b[m][x],"S5S"];break;case"G":break;case"R":W=parseInt(D[g].slice(1))-1;break;case"C":O=parseInt(D[g].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(U&&(b[m][x]&&b[m][x].length==2?b[m][x][0]=M:b[m][x]=M,T=null),G){if(F)throw new Error("SYLK shared formula cannot have own formula");var B=W>-1&&b[W][O];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");b[m][x][1]=fee(B[1],{r:m-W,c:x-O})}break;case"F":var K=0;for(g=1;g<D.length;++g)switch(D[g].charAt(0)){case"X":x=parseInt(D[g].slice(1))-1,++K;break;case"Y":for(m=parseInt(D[g].slice(1))-1,j=b.length;j<=m;++j)b[j]=[];break;case"M":I=parseInt(D[g].slice(1))/20;break;case"F":break;case"G":break;case"P":T=w[parseInt(D[g].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=D[g].slice(1).split(" "),j=parseInt(C[0],10);j<=parseInt(C[1],10);++j)I=parseInt(C[2],10),N[j-1]=I===0?{hidden:!0}:{wch:I},K0(N[j-1]);break;case"C":x=parseInt(D[g].slice(1))-1,N[x]||(N[x]={});break;case"R":m=parseInt(D[g].slice(1))-1,_[m]||(_[m]={}),I>0?(_[m].hpt=I,_[m].hpx=F1(I)):I===0&&(_[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}K<1&&(T=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return _.length>0&&(k["!rows"]=_),N.length>0&&(k["!cols"]=N),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,k]}function o(h,p){var y=i(h,p),m=y[0],x=y[1],v=Nx(m,p);return bu(x).forEach(function(g){v[g]=x[g]}),v}function l(h,p){return jh(o(h,p),p)}function c(h,p,y,m){var x="C;Y"+(y+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+ZFe(h.f,{r:y,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(y,m){var x="F;W"+(m+1)+" "+(m+1)+" ";y.hidden?x+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=ET(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=NT(y.wpx)),typeof y.wch=="number"&&(x+=Math.round(y.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(y,m){var x="F;";y.hidden?x+="M0;":y.hpt?x+="M"+20*y.hpt+";":y.hpx&&(x+="M"+20*cee(y.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var y=["ID;PWXL;N;E"],m=[],x=bi(h["!ref"]),v,g=Array.isArray(h),b=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),h["!cols"]&&u(y,h["!cols"]),h["!rows"]&&d(y,h["!rows"]),y.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var T=x.s.c;T<=x.e.c;++T){var k=xn({r:w,c:T});v=g?(h[w]||[])[T]:h[k],!(!v||v.v==null&&(!v.f||v.F))&&m.push(c(v,h,w,T))}return y.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),hOe=function(){function e(s,o){switch(o.type){case"base64":return t(el(s),o);case"binary":return t(s,o);case"buffer":return t(tr&&Buffer.isBuffer(s)?s.toString("binary"):Rm(s),o);case"array":return t(um(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],y=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(hc(y))?isNaN(Q0(y).getDate())?f[c][u]=y:f[c][u]=Ns(y):f[c][u]=hc(y),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return Nx(e(s,o),o)}function r(s,o){return jh(n(s,o),o)}var i=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=bi(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var m=xn({r:p,c:y});if(f=h?(c[p]||[])[y]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ol(f.z||En[14],Ka(Ns(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var v=`\r
`,g=u.join(v);return g}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),pOe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),y=-1,m=-1,x=0,v=[];x!==p.length;++x){var g=p[x].trim().split(":");if(g[0]==="cell"){var b=Wa(g[1]);if(v.length<=b.r)for(y=v.length;y<=b.r;++y)v[y]||(v[y]=[]);switch(y=b.r,m=b.c,g[2]){case"t":v[y][m]=e(g[3]);break;case"v":v[y][m]=+g[3];break;case"vtf":var w=g[g.length-1];case"vtc":switch(g[3]){case"nl":v[y][m]=!!+g[4];break;default:v[y][m]=+g[4];break}g[2]=="vtf"&&(v[y][m]=[v[y][m],w])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function r(f,h){return Nx(n(f,h),h)}function i(f,h){return jh(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],y,m="",x=Ex(f["!ref"]),v=Array.isArray(f),g=x.s.r;g<=x.e.r;++g)for(var b=x.s.c;b<=x.e.c;++b)if(m=xn({r:g,c:b}),y=v?(f[g]||[])[b]:f[m],!(!y||y.v==null||y.t==="z")){switch(p=["cell",m,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var w=Ka(Ns(y.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=y.w||Ol(y.z||En[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),P1=function(){function e(d,f,h,p,y){y.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(hc(d))?isNaN(Q0(d).getDate())?f[h][p]=d:f[h][p]=Ns(d):f[h][p]=hc(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),m=y.length-1;m>=0&&y[m].length===0;)--m;for(var x=10,v=0,g=0;g<=m;++g)v=y[g].indexOf(" "),v==-1?v=y[g].length:v++,x=Math.max(x,v);for(g=0;g<=m;++g){p[g]=[];var b=0;for(e(y[g].slice(0,x).trim(),p,g,b,h),b=1;b<=(y[g].length-x)/10+1;++b)e(y[g].slice(x+(b-1)*10,x+b*10).trim(),p,g,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var f={},h=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?h=!h:!h&&y in n&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(m,x){return m[0]-x[0]||r[m[1]]-r[x[1]]}),n[y.pop()[1]]||44}function s(d,f){var h=f||{},p="",y=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=i(d.slice(0,1024)):h&&h.FS?p=h.FS:p=i(d.slice(0,1024));var x=0,v=0,g=0,b=0,w=0,T=p.charCodeAt(0),k=!1,_=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?N5e(h.dateNF):null;function I(){var j=d.slice(b,w),E={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)E.t="z";else if(h.raw)E.t="s",E.v=j;else if(j.trim().length===0)E.t="s",E.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(E.t="s",E.v=j.slice(2,-1).replace(/""/g,'"')):e6e(j)?(E.t="n",E.f=j.slice(1)):(E.t="s",E.v=j);else if(j=="TRUE")E.t="b",E.v=!0;else if(j=="FALSE")E.t="b",E.v=!1;else if(!isNaN(g=hc(j)))E.t="n",h.cellText!==!1&&(E.w=j),E.v=g;else if(!isNaN(Q0(j).getDate())||C&&j.match(C)){E.z=h.dateNF||En[14];var D=0;C&&j.match(C)&&(j=S5e(j,h.dateNF,j.match(C)||[]),D=1),h.cellDates?(E.t="d",E.v=Ns(j,D)):(E.t="n",E.v=Ka(Ns(j,D))),h.cellText!==!1&&(E.w=Ol(E.z,E.v instanceof Date?Ka(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=j;if(E.t=="z"||(h.dense?(y[x]||(y[x]=[]),y[x][v]=E):y[xn({c:v,r:x})]=E),b=w+1,N=d.charCodeAt(b),m.e.c<v&&(m.e.c=v),m.e.r<x&&(m.e.r=x),_==T)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;w<d.length;++w)switch(_=d.charCodeAt(w)){case 34:N===34&&(k=!k);break;case T:case 10:case 13:if(!k&&I())break e;break}return w-b>0&&I(),y["!ref"]=ur(m),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Nx(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:_R(d,f);switch(f.type){case"base64":h=el(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof D1<"u"||(h=tr&&Buffer.isBuffer(d)?d.toString("binary"):Rm(d));break;case"array":h=um(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=qr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=qr(h):f.type=="binary"&&typeof D1<"u",h.slice(0,19)=="socialcalc:version:"?pOe.to_sheet(f.type=="string"?h:qr(h),f):o(h,f)}function c(d,f){return jh(l(d,f),f)}function u(d){for(var f=[],h=bi(d["!ref"]),p,y=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],v=h.s.c;v<=h.e.c;++v){var g=xn({r:m,c:v});if(p=y?(d[m]||[])[v]:d[g],!p||p.v==null){x.push("          ");continue}for(var b=(p.w||(Ed(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function mOe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=fOe.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return P1.to_workbook(e,t)}}var Cv=function(){function e(P,B,K){if(P){Ls(P,P.l||0);for(var Q=K.Enum||W;P.l<P.length;){var L=P.read_shift(2),ee=Q[L]||Q[65535],ge=P.read_shift(2),he=P.l+ge,be=ee.f&&ee.f(P,ge,K);if(P.l=he,B(be,ee,L))return}}}function t(P,B){switch(B.type){case"base64":return n(oc(el(P)),B);case"binary":return n(oc(P),B);case"buffer":case"array":return n(P,B)}throw"Unsupported type "+B.type}function n(P,B){if(!P)return P;var K=B||{},Q=K.dense?[]:{},L="Sheet1",ee="",ge=0,he={},be=[],Oe=[],Z={s:{r:0,c:0},e:{r:0,c:0}},Ie=K.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)K.Enum=W,e(P,function(re,J,pe){switch(pe){case 0:K.vers=re,re>=4096&&(K.qpro=!0);break;case 6:Z=re;break;case 204:re&&(ee=re);break;case 222:ee=re;break;case 15:case 51:K.qpro||(re[1].v=re[1].v.slice(1));case 13:case 14:case 16:pe==14&&(re[2]&112)==112&&(re[2]&15)>1&&(re[2]&15)<15&&(re[1].z=K.dateNF||En[14],K.cellDates&&(re[1].t="d",re[1].v=_N(re[1].v))),K.qpro&&re[3]>ge&&(Q["!ref"]=ur(Z),he[L]=Q,be.push(L),Q=K.dense?[]:{},Z={s:{r:0,c:0},e:{r:0,c:0}},ge=re[3],L=ee||"Sheet"+(ge+1),ee="");var Y=K.dense?(Q[re[0].r]||[])[re[0].c]:Q[xn(re[0])];if(Y){Y.t=re[1].t,Y.v=re[1].v,re[1].z!=null&&(Y.z=re[1].z),re[1].f!=null&&(Y.f=re[1].f);break}K.dense?(Q[re[0].r]||(Q[re[0].r]=[]),Q[re[0].r][re[0].c]=re[1]):Q[xn(re[0])]=re[1];break}},K);else if(P[2]==26||P[2]==14)K.Enum=O,P[2]==14&&(K.qpro=!0,P.l=0),e(P,function(re,J,pe){switch(pe){case 204:L=re;break;case 22:re[1].v=re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(re[3]>ge&&(Q["!ref"]=ur(Z),he[L]=Q,be.push(L),Q=K.dense?[]:{},Z={s:{r:0,c:0},e:{r:0,c:0}},ge=re[3],L="Sheet"+(ge+1)),Ie>0&&re[0].r>=Ie)break;K.dense?(Q[re[0].r]||(Q[re[0].r]=[]),Q[re[0].r][re[0].c]=re[1]):Q[xn(re[0])]=re[1],Z.e.c<re[0].c&&(Z.e.c=re[0].c),Z.e.r<re[0].r&&(Z.e.r=re[0].r);break;case 27:re[14e3]&&(Oe[re[14e3][0]]=re[14e3][1]);break;case 1537:Oe[re[0]]=re[1],re[0]==ge&&(L=re[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(Q["!ref"]=ur(Z),he[ee||L]=Q,be.push(ee||L),!Oe.length)return{SheetNames:be,Sheets:he};for(var V={},ke=[],xe=0;xe<Oe.length;++xe)he[be[xe]]?(ke.push(Oe[xe]||be[xe]),V[Oe[xe]]=he[Oe[xe]]||he[be[xe]]):(ke.push(Oe[xe]),V[Oe[xe]]={"!ref":"A1"});return{SheetNames:ke,Sheets:V}}function r(P,B){var K=B||{};if(+K.codepage>=0&&cc(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=r4(),L=bi(P["!ref"]),ee=Array.isArray(P),ge=[];Ql(Q,0,s(1030)),Ql(Q,6,c(L));for(var he=Math.min(L.e.r,8191),be=L.s.r;be<=he;++be)for(var Oe=Bs(be),Z=L.s.c;Z<=L.e.c;++Z){be===L.s.r&&(ge[Z]=ls(Z));var Ie=ge[Z]+Oe,V=ee?(P[be]||[])[Z]:P[Ie];if(!(!V||V.t=="z"))if(V.t=="n")(V.v|0)==V.v&&V.v>=-32768&&V.v<=32767?Ql(Q,13,p(be,Z,V.v)):Ql(Q,14,m(be,Z,V.v));else{var ke=Ed(V);Ql(Q,15,f(be,Z,ke.slice(0,239)))}}return Ql(Q,1),Q.end()}function i(P,B){var K=B||{};if(+K.codepage>=0&&cc(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=r4();Ql(Q,0,o(P));for(var L=0,ee=0;L<P.SheetNames.length;++L)(P.Sheets[P.SheetNames[L]]||{})["!ref"]&&Ql(Q,27,F(P.SheetNames[L],ee++));var ge=0;for(L=0;L<P.SheetNames.length;++L){var he=P.Sheets[P.SheetNames[L]];if(!(!he||!he["!ref"])){for(var be=bi(he["!ref"]),Oe=Array.isArray(he),Z=[],Ie=Math.min(be.e.r,8191),V=be.s.r;V<=Ie;++V)for(var ke=Bs(V),xe=be.s.c;xe<=be.e.c;++xe){V===be.s.r&&(Z[xe]=ls(xe));var re=Z[xe]+ke,J=Oe?(he[V]||[])[xe]:he[re];if(!(!J||J.t=="z"))if(J.t=="n")Ql(Q,23,I(V,xe,ge,J.v));else{var pe=Ed(J);Ql(Q,22,_(V,xe,ge,pe.slice(0,239)))}}++ge}}return Ql(Q,1),Q.end()}function s(P){var B=ns(2);return B.write_shift(2,P),B}function o(P){var B=ns(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var K=0,Q=0,L=0,ee=0;ee<P.SheetNames.length;++ee){var ge=P.SheetNames[ee],he=P.Sheets[ge];if(!(!he||!he["!ref"])){++L;var be=Ex(he["!ref"]);K<be.e.r&&(K=be.e.r),Q<be.e.c&&(Q=be.e.c)}}return K>8191&&(K=8191),B.write_shift(2,K),B.write_shift(1,L),B.write_shift(1,Q),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function l(P,B,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&K.qpro?(Q.s.c=P.read_shift(1),P.l++,Q.s.r=P.read_shift(2),Q.e.c=P.read_shift(1),P.l++,Q.e.r=P.read_shift(2),Q):(Q.s.c=P.read_shift(2),Q.s.r=P.read_shift(2),B==12&&K.qpro&&(P.l+=2),Q.e.c=P.read_shift(2),Q.e.r=P.read_shift(2),B==12&&K.qpro&&(P.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(P){var B=ns(8);return B.write_shift(2,P.s.c),B.write_shift(2,P.s.r),B.write_shift(2,P.e.c),B.write_shift(2,P.e.r),B}function u(P,B,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=P.read_shift(1),Q[3]=P.read_shift(1),Q[0].r=P.read_shift(2),P.l+=2):(Q[2]=P.read_shift(1),Q[0].c=P.read_shift(2),Q[0].r=P.read_shift(2)),Q}function d(P,B,K){var Q=P.l+B,L=u(P,B,K);if(L[1].t="s",K.vers==20768){P.l++;var ee=P.read_shift(1);return L[1].v=P.read_shift(ee,"utf8"),L}return K.qpro&&P.l++,L[1].v=P.read_shift(Q-P.l,"cstr"),L}function f(P,B,K){var Q=ns(7+K.length);Q.write_shift(1,255),Q.write_shift(2,B),Q.write_shift(2,P),Q.write_shift(1,39);for(var L=0;L<Q.length;++L){var ee=K.charCodeAt(L);Q.write_shift(1,ee>=128?95:ee)}return Q.write_shift(1,0),Q}function h(P,B,K){var Q=u(P,B,K);return Q[1].v=P.read_shift(2,"i"),Q}function p(P,B,K){var Q=ns(7);return Q.write_shift(1,255),Q.write_shift(2,B),Q.write_shift(2,P),Q.write_shift(2,K,"i"),Q}function y(P,B,K){var Q=u(P,B,K);return Q[1].v=P.read_shift(8,"f"),Q}function m(P,B,K){var Q=ns(13);return Q.write_shift(1,255),Q.write_shift(2,B),Q.write_shift(2,P),Q.write_shift(8,K,"f"),Q}function x(P,B,K){var Q=P.l+B,L=u(P,B,K);if(L[1].v=P.read_shift(8,"f"),K.qpro)P.l=Q;else{var ee=P.read_shift(2);w(P.slice(P.l,P.l+ee),L),P.l+=ee}return L}function v(P,B,K){var Q=B&32768;return B&=-32769,B=(Q?P:0)+(B>=8192?B-16384:B),(Q?"":"$")+(K?ls(B):Bs(B))}var g={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(P,B){Ls(P,0);for(var K=[],Q=0,L="",ee="",ge="",he="";P.l<P.length;){var be=P[P.l++];switch(be){case 0:K.push(P.read_shift(8,"f"));break;case 1:ee=v(B[0].c,P.read_shift(2),!0),L=v(B[0].r,P.read_shift(2),!1),K.push(ee+L);break;case 2:{var Oe=v(B[0].c,P.read_shift(2),!0),Z=v(B[0].r,P.read_shift(2),!1);ee=v(B[0].c,P.read_shift(2),!0),L=v(B[0].r,P.read_shift(2),!1),K.push(Oe+Z+":"+ee+L)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(P.read_shift(2));break;case 6:{for(var Ie="";be=P[P.l++];)Ie+=String.fromCharCode(be);K.push('"'+Ie.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:he=K.pop(),ge=K.pop(),K.push(["AND","OR"][be-20]+"("+ge+","+he+")");break;default:if(be<32&&b[be])he=K.pop(),ge=K.pop(),K.push(ge+b[be]+he);else if(g[be]){if(Q=g[be][1],Q==69&&(Q=P[P.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+K.join("|")+"|");return}var V=K.slice(-Q);K.length-=Q,K.push(g[be][0]+"("+V.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}K.length==1?B[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function T(P){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=P.read_shift(2),B[3]=P[P.l++],B[0].c=P[P.l++],B}function k(P,B){var K=T(P);return K[1].t="s",K[1].v=P.read_shift(B-4,"cstr"),K}function _(P,B,K,Q){var L=ns(6+Q.length);L.write_shift(2,P),L.write_shift(1,K),L.write_shift(1,B),L.write_shift(1,39);for(var ee=0;ee<Q.length;++ee){var ge=Q.charCodeAt(ee);L.write_shift(1,ge>=128?95:ge)}return L.write_shift(1,0),L}function N(P,B){var K=T(P);K[1].v=P.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function C(P,B){var K=T(P),Q=P.read_shift(4),L=P.read_shift(4),ee=P.read_shift(2);if(ee==65535)return Q===0&&L===3221225472?(K[1].t="e",K[1].v=15):Q===0&&L===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ge=ee&32768;return ee=(ee&32767)-16446,K[1].v=(1-ge*2)*(L*Math.pow(2,ee+32)+Q*Math.pow(2,ee)),K}function I(P,B,K,Q){var L=ns(14);if(L.write_shift(2,P),L.write_shift(1,K),L.write_shift(1,B),Q==0)return L.write_shift(4,0),L.write_shift(4,0),L.write_shift(2,65535),L;var ee=0,ge=0,he=0,be=0;return Q<0&&(ee=1,Q=-Q),ge=Math.log2(Q)|0,Q/=Math.pow(2,ge-31),be=Q>>>0,be&2147483648||(Q/=2,++ge,be=Q>>>0),Q-=be,be|=2147483648,be>>>=0,Q*=Math.pow(2,32),he=Q>>>0,L.write_shift(4,he),L.write_shift(4,be),ge+=16383+(ee?32768:0),L.write_shift(2,ge),L}function j(P,B){var K=C(P);return P.l+=B-14,K}function E(P,B){var K=T(P),Q=P.read_shift(4);return K[1].v=Q>>6,K}function D(P,B){var K=T(P),Q=P.read_shift(8,"f");return K[1].v=Q,K}function R(P,B){var K=D(P);return P.l+=B-10,K}function M(P,B){return P[P.l+B-1]==0?P.read_shift(B,"cstr"):""}function U(P,B){var K=P[P.l++];K>B-1&&(K=B-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(P[P.l++]);return Q}function z(P,B,K){if(!(!K.qpro||B<21)){var Q=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var L=P.read_shift(B-21,"cstr");return[Q,L]}}function G(P,B){for(var K={},Q=P.l+B;P.l<Q;){var L=P.read_shift(2);if(L==14e3){for(K[L]=[0,""],K[L][0]=P.read_shift(2);P[P.l];)K[L][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return K}function F(P,B){var K=ns(5+P.length);K.write_shift(2,14e3),K.write_shift(2,B);for(var Q=0;Q<P.length;++Q){var L=P.charCodeAt(Q);K[K.l++]=L>127?95:L}return K[K.l++]=0,K}var W={0:{n:"BOF",f:Vi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},O={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function gOe(e){var t={},n=e.match(ba),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=fn(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=Z5[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var xOe=function(){var e=I1("t"),t=I1("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:pr(o[1])},c=s.match(t);return c&&(l.s=gOe(c[1])),l}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(l){return l.v})}}(),yOe=function(){var t=/(\r\n|\n)/g;function n(i,s,o){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),vOe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,bOe=/<(?:\w+:)?r>/,wOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function mR(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=pr(qr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=qr(e),n&&(r.h=sR(r.t))):e.match(bOe)&&(r.r=qr(e),r.t=pr(qr((e.replace(wOe,"").match(vOe)||[]).join("").replace(ba,""))),n&&(r.h=yOe(xOe(r.r)))),r):{t:""}}var _Oe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,TOe=/<(?:\w+:)?(?:si|sstItem)>/g,EOe=/<\/(?:\w+:)?(?:si|sstItem)>/;function NOe(e,t){var n=[],r="";if(!e)return n;var i=e.match(_Oe);if(i){r=i[2].replace(TOe,"").split(EOe);for(var s=0;s!=r.length;++s){var o=mR(r[s].trim(),t);o!=null&&(n[n.length]=o)}i=fn(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function SOe(e){return[e.read_shift(4),e.read_shift(4)]}function kOe(e,t){var n=[],r=!1;return Fd(e,function(s,o,l){switch(l){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function ree(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function dd(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function AOe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=dd(e,4),t.U=dd(e,4),t.W=dd(e,4),t}function COe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function DOe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(COe(e));return t}function jOe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function IOe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=dd(e,4),t.U=dd(e,4),t.W=dd(e,4),t}function ROe(e){var t=IOe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function iee(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function see(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function POe(e){var t=dd(e);switch(t.Minor){case 2:return[t.Minor,OOe(e)];case 3:return[t.Minor,FOe()];case 4:return[t.Minor,LOe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function OOe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=iee(e,n),i=see(e,e.length-e.l);return{t:"Std",h:r,v:i}}function FOe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function LOe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(ba,function(s){var o=fn(s);switch(Nu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){r[l]=o[l]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function MOe(e,t){var n={},r=n.EncryptionVersionInfo=dd(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=iee(e,i),t-=i,n.EncryptionVerifier=see(e,t),n}function UOe(e){var t={},n=t.EncryptionVersionInfo=dd(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function BOe(e){var t=0,n,r=ree(e),i=r.length+1,s,o,l,c,u;for(n=xh(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var aee=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,l){return r(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=n[c]),d*=2,--c;return l};return function(o){for(var l=ree(o),c=s(l),u=l.length,d=xh(16),f=0;f!=16;++f)d[f]=0;var h,p,y;for((u&1)===1&&(h=c>>8,d[u]=i(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=i(p,h));u>0;)--u,h=c>>8,d[u]=i(l[u],h),--u,h=c&255,d[u]=i(l[u],h);for(u=15,y=15-l.length;y>0;)h=c>>8,d[u]=i(e[y],h),--u,--y,h=c&255,d[u]=i(l[u],h),--u,--y;return d}}(),VOe=function(e,t,n,r,i){i||(i=t),r||(r=aee(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},qOe=function(e){var t=0,n=aee(e);return function(r){var i=VOe("",r,t,n);return t=i[1],i[0]}};function WOe(e,t,n,r){var i={key:Vi(e),verificationBytes:Vi(e)};return n.password&&(i.verifier=BOe(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=qOe(n.password)),i}function zOe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=UOe(e):r.Data=MOe(e,t),r}function $Oe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?zOe(e,t-2,r):WOe(e,n.biff>=8?t:t-2,n,r),r}var HOe=function(){function e(i,s){switch(s.type){case"base64":return t(el(i),s);case"binary":return t(i,s);case"buffer":return t(tr&&Buffer.isBuffer(i)?i.toString("binary"):Rm(i),s);case"array":return t(um(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var o=s||{},l=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,y,m=-1;y=h.exec(d);){switch(y[0]){case"\\cell":var x=d.slice(p,h.lastIndex-y[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[f][m]=v:l[xn({r:f,c:m})]=v}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=ur(u),l}function n(i,s){return jh(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=bi(i["!ref"]),l,c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=xn({r:u,c:d});l=c?(i[u]||[])[d]:i[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Ed(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function GOe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function O1(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function QOe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var l=0,c=0,u=i+s;switch(c=o/(u>1?2-u:u),i){case t:l=((n-r)/o+6)%6;break;case n:l=(r-t)/o+2;break;case r:l=(t-n)/o+4;break}return[l/6,c,u/2]}function KOe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],l=6*t,c;if(n!==0)switch(l|0){case 0:case 6:c=i*l,o[0]+=i,o[1]+=c;break;case 1:c=i*(2-l),o[0]+=c,o[1]+=i;break;case 2:c=i*(l-2),o[1]+=i,o[2]+=c;break;case 3:c=i*(4-l),o[1]+=c,o[2]+=i;break;case 4:c=i*(l-4),o[2]+=i,o[0]+=c;break;case 5:c=i*(6-l),o[2]+=c,o[0]+=i;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function TT(e,t){if(t===0)return e;var n=QOe(GOe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),O1(KOe(n))}var oee=6,XOe=15,YOe=1,Fa=oee;function ET(e){return Math.floor((e+Math.round(128/Fa)/256)*Fa)}function NT(e){return Math.floor((e-5)/Fa*100+.5)/100}function o4(e){return Math.round((e*Fa+5)/Fa*256)/256}function mA(e){return o4(NT(ET(e)))}function gR(e){var t=Math.abs(e-mA(e)),n=Fa;if(t>.005)for(Fa=YOe;Fa<XOe;++Fa)Math.abs(e-mA(e))<=t&&(t=Math.abs(e-mA(e)),n=Fa);Fa=n}function K0(e){e.width?(e.wpx=ET(e.width),e.wch=NT(e.wpx),e.MDW=Fa):e.wpx?(e.wch=NT(e.wpx),e.width=o4(e.wch),e.MDW=Fa):typeof e.wch=="number"&&(e.width=o4(e.wch),e.wpx=ET(e.width),e.MDW=Fa),e.customWidth&&delete e.customWidth}var ZOe=96,lee=ZOe;function cee(e){return e*96/lee}function F1(e){return e*lee/96}var JOe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function eFe(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(ba)||[]).forEach(function(o){var l=fn(o);switch(Nu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=ni(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=ni(l.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function tFe(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(ba)||[]).forEach(function(o){var l=fn(o);switch(Nu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function nFe(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(ba)||[]).forEach(function(o){var l=fn(o);switch(Nu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=qr(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?ni(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?ni(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?ni(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?ni(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?ni(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?ni(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?ni(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=Z5[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=ni(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var c=jp[i.color.index];i.color.index==81&&(c=jp[1]),c||(c=jp[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=TT(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function rFe(e,t,n){t.NumberFmt=[];for(var r=bu(En),i=0;i<r.length;++i)t.NumberFmt[r[i]]=En[r[i]];var s=e[0].match(ba);if(s)for(i=0;i<s.length;++i){var o=fn(s[i]);switch(Nu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=pr(qr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Dp(l,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Q2=["numFmtId","fillId","fontId","borderId","xfId"],K2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function iFe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(ba)||[]).forEach(function(s){var o=fn(s),l=0;switch(Nu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],l=0;l<Q2.length;++l)r[Q2[l]]&&(r[Q2[l]]=parseInt(r[Q2[l]],10));for(l=0;l<K2.length;++l)r[K2[l]]&&(r[K2[l]]=ni(r[K2[l]]));if(t.NumberFmt&&r.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[l]){r.numFmtId=l;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=ni(o.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var sFe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&rFe(f,d,u),(f=l.match(i))&&nFe(f,d,c,u),(f=l.match(r))&&tFe(f,d,c,u),(f=l.match(s))&&eFe(f,d,c,u),(f=l.match(n))&&iFe(f,d,u),d}}();function aFe(e,t){var n=e.read_shift(2),r=ga(e);return[n,r]}function oFe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=xRe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var l=e.read_shift(1);l>0&&(r.family=l);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=gRe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ga(e),r}var lFe=ya;function cFe(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var uFe=ya;function dFe(e,t,n){var r={};r.NumberFmt=[];for(var i in En)r.NumberFmt[i]=En[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return Fd(e,function(c,u,d){switch(d){case 44:r.NumberFmt[c[0]]=c[1],Dp(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=TT(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var fFe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function hFe(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(ba)||[]).forEach(function(i){var s=fn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[fFe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function pFe(){}function mFe(){}var gFe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xFe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,yFe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function vFe(e,t,n){t.themeElements={};var r;[["clrScheme",gFe,hFe],["fontScheme",xFe,pFe],["fmtScheme",yFe,mFe]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var bFe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uee(e,t){(!e||e.length===0)&&(e=wFe());var n,r={};if(!(n=e.match(bFe)))throw new Error("themeElements not found in theme");return vFe(n[0],r,t),r.raw=e,r}function wFe(e,t){var n=[wJ];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function _Fe(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=bJ(s,{type:"array"})}catch{return}var l=Wo(o,"theme/theme/theme1.xml",!0);if(l)return uee(l,n)}}function TFe(e){return e.read_shift(4)}function EFe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=NFe(e,4);break;case 2:t.xclrValue=XJ(e);break;case 3:t.xclrValue=TFe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function NFe(e,t){return ya(e,t)}function SFe(e,t){return ya(e,t)}function kFe(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=EFe(e);break;case 6:r[1]=SFe(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function AFe(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(kFe(e,n-e.l));return{ixfe:r,ext:s}}function CFe(e,t){t.forEach(function(n){switch(n[0]){}})}function DFe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ga(e)}}function jFe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function IFe(e){return e.l+=4,e.read_shift(4)!=0}function RFe(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,l=2;return Fd(e,function(c,u,d){switch(d){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):l==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function PFe(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,o;return e.replace(ba,function(l){var c=fn(l);switch(Nu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==c.name&&(o=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),r}function OFe(e){var t=[];if(!e)return t;var n=1;return(e.match(ba)||[]).forEach(function(r){var i=fn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function FFe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=xn(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function LFe(e,t,n){var r=[];return Fd(e,function(s,o,l){switch(l){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function MFe(e,t,n,r){if(!e)return e;var i=r||{},s=!1;Fd(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function UFe(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function x9(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(o){var l=Wa(o.ref);if(i?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},i?e[l.r][l.c]=s:e[o.ref]=s;var c=bi(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=ur(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(d.a==r[f].id){d.a=r[f].name||d.a;break}}s.c.push(d)})}function BFe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&n.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=fn(l[0]),u={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Wa(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&mR(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),r.push(u)}}}}),r}function VFe(e,t){var n=[],r=!1,i={},s=0;return e.replace(ba,function(l,c){var u=fn(l);switch(Nu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":i.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),n}function qFe(e,t){var n=[],r=!1;return e.replace(ba,function(s){var o=fn(s);switch(Nu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function WFe(e){var t={};t.iauthor=e.read_shift(4);var n=Om(e);return t.rfx=n.s,t.ref=xn(n.s),e.l+=16,t}var zFe=ga;function $Fe(e,t){var n=[],r=[],i={},s=!1;return Fd(e,function(l,c,u){switch(u){case 632:r.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}var HFe="application/vnd.ms-office.vbaProject";function GFe(e){var t=cr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");cr.utils.cfb_add(t,i,e.FileIndex[r].content)}}),cr.write(t)}function QFe(){return{"!type":"dialog"}}function KFe(){return{"!type":"dialog"}}function XFe(){return{"!type":"macro"}}function YFe(){return{"!type":"macro"}}var s0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,i+(l?"":"$")+ls(d)+(c?"":"$")+Bs(u)}return function(i,s){return t=s,i.replace(e,n)}}(),dee=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZFe=function(){return function(t,n){return t.replace(dee,function(r,i,s,o,l,c){var u=cR(o)-(s?0:n.c),d=lR(c)-(l?0:n.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function fee(e,t){return e.replace(dee,function(n,r,i,s,o,l){return r+(i=="$"?i+s:ls(cR(s)+t.c))+(o=="$"?o+l:Bs(lR(l)+t.r))})}function JFe(e,t,n){var r=Ex(t),i=r.s,s=Wa(n),o={r:s.r-i.r,c:s.c-i.c};return fee(e,o)}function e6e(e){return e.length!=1}function y9(e){return e.replace(/_xlfn\./g,"")}function Fi(e){e.l+=1}function yh(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function hee(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return pee(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=yh(e),l=yh(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function pee(e){var t=yh(e),n=yh(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function t6e(e,t,n){if(n.biff<8)return pee(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=yh(e),o=yh(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function mee(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return n6e(e);var r=e.read_shift(n&&n.biff==12?4:2),i=yh(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function n6e(e){var t=yh(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function r6e(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function i6e(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return s6e(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:l}}function s6e(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function a6e(e,t,n){var r=(e[e.l++]&96)>>5,i=hee(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function o6e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=hee(e,s,n);return[r,i,o]}function l6e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function c6e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function u6e(e,t,n){var r=(e[e.l++]&96)>>5,i=t6e(e,t-1,n);return[r,i]}function d6e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function v9(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function f6e(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function h6e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function p6e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function m6e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function g6e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function gee(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function x6e(e){return e.read_shift(2),gee(e)}function y6e(e){return e.read_shift(2),gee(e)}function v6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=mee(e,0,n);return[r,i]}function b6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=i6e(e,0,n);return[r,i]}function w6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=mee(e,0,n);return[r,i,s]}function _6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[T8e[i],vee[i],r]}function T6e(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:E6e(e);return[i,(s[0]===0?vee:_8e)[s[1]]]}function E6e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function N6e(e,t,n){e.l+=n&&n.biff==2?3:4}function S6e(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function k6e(e){return e.l++,Fm[e.read_shift(1)]}function A6e(e){return e.l++,e.read_shift(2)}function C6e(e){return e.l++,e.read_shift(1)!==0}function D6e(e){return e.l++,ca(e)}function j6e(e,t,n){return e.l++,Lb(e,t-1,n)}function I6e(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Si(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=Fm[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=ca(e);break;case 2:n[1]=Lm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function R6e(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Om:TN)(e));return i}function P6e(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var l=0;l!=i;++l)o[s][l]=I6e(e,n.biff);return o}function O6e(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function F6e(e,t,n){if(n.biff==5)return L6e(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function L6e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function M6e(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function U6e(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function B6e(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function V6e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var q6e=ya,W6e=ya,z6e=ya;function Ub(e,t,n){return e.l+=2,[r6e(e)]}function xR(e){return e.l+=6,[]}var $6e=Ub,H6e=xR,G6e=xR,Q6e=Ub;function xee(e){return e.l+=2,[Vi(e),e.read_shift(2)&1]}var K6e=Ub,X6e=xee,Y6e=xR,Z6e=Ub,J6e=Ub,e8e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function t8e(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=e8e[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:s}}function n8e(e){return e.l+=2,[e.read_shift(4)]}function r8e(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function i8e(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function s8e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function a8e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function o8e(e){return e.l+=4,[0,0]}var b9={1:{n:"PtgExp",f:S6e},2:{n:"PtgTbl",f:z6e},3:{n:"PtgAdd",f:Fi},4:{n:"PtgSub",f:Fi},5:{n:"PtgMul",f:Fi},6:{n:"PtgDiv",f:Fi},7:{n:"PtgPower",f:Fi},8:{n:"PtgConcat",f:Fi},9:{n:"PtgLt",f:Fi},10:{n:"PtgLe",f:Fi},11:{n:"PtgEq",f:Fi},12:{n:"PtgGe",f:Fi},13:{n:"PtgGt",f:Fi},14:{n:"PtgNe",f:Fi},15:{n:"PtgIsect",f:Fi},16:{n:"PtgUnion",f:Fi},17:{n:"PtgRange",f:Fi},18:{n:"PtgUplus",f:Fi},19:{n:"PtgUminus",f:Fi},20:{n:"PtgPercent",f:Fi},21:{n:"PtgParen",f:Fi},22:{n:"PtgMissArg",f:Fi},23:{n:"PtgStr",f:j6e},26:{n:"PtgSheet",f:r8e},27:{n:"PtgEndSheet",f:i8e},28:{n:"PtgErr",f:k6e},29:{n:"PtgBool",f:C6e},30:{n:"PtgInt",f:A6e},31:{n:"PtgNum",f:D6e},32:{n:"PtgArray",f:d6e},33:{n:"PtgFunc",f:_6e},34:{n:"PtgFuncVar",f:T6e},35:{n:"PtgName",f:O6e},36:{n:"PtgRef",f:v6e},37:{n:"PtgArea",f:a6e},38:{n:"PtgMemArea",f:M6e},39:{n:"PtgMemErr",f:q6e},40:{n:"PtgMemNoMem",f:W6e},41:{n:"PtgMemFunc",f:U6e},42:{n:"PtgRefErr",f:B6e},43:{n:"PtgAreaErr",f:l6e},44:{n:"PtgRefN",f:b6e},45:{n:"PtgAreaN",f:u6e},46:{n:"PtgMemAreaN",f:s8e},47:{n:"PtgMemNoMemN",f:a8e},57:{n:"PtgNameX",f:F6e},58:{n:"PtgRef3d",f:w6e},59:{n:"PtgArea3d",f:o6e},60:{n:"PtgRefErr3d",f:V6e},61:{n:"PtgAreaErr3d",f:c6e},255:{}},l8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},c8e={1:{n:"PtgElfLel",f:xee},2:{n:"PtgElfRw",f:Z6e},3:{n:"PtgElfCol",f:$6e},6:{n:"PtgElfRwV",f:J6e},7:{n:"PtgElfColV",f:Q6e},10:{n:"PtgElfRadical",f:K6e},11:{n:"PtgElfRadicalS",f:Y6e},13:{n:"PtgElfColS",f:H6e},15:{n:"PtgElfColSV",f:G6e},16:{n:"PtgElfRadicalLel",f:X6e},25:{n:"PtgList",f:t8e},29:{n:"PtgSxName",f:n8e},255:{}},u8e={0:{n:"PtgAttrNoop",f:o8e},1:{n:"PtgAttrSemi",f:g6e},2:{n:"PtgAttrIf",f:p6e},4:{n:"PtgAttrChoose",f:f6e},8:{n:"PtgAttrGoto",f:h6e},16:{n:"PtgAttrSum",f:N6e},32:{n:"PtgAttrBaxcel",f:v9},33:{n:"PtgAttrBaxcel",f:v9},64:{n:"PtgAttrSpace",f:x6e},65:{n:"PtgAttrSpaceSemi",f:y6e},128:{n:"PtgAttrIfError",f:m6e},255:{}};function Bb(e,t,n,r){if(r.biff<8)return ya(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=P6e(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=R6e(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&s.push(ya(e,t)),s}function Vb(e,t,n){for(var r=e.l+t,i,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],i=b9[s]||b9[l8e[s]],(s===24||s===25)&&(i=(s===24?c8e:u8e)[e[e.l+1]]),!i||!i.f?ya(e,t):o.push([i.n,i.f(e,t,n)]);return o}function d8e(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var f8e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function h8e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function yee(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function w9(e,t,n){var r=yee(e,t,n);return r=="#REF"?r:h8e(r,n)}function aa(e,t,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,y="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",v=0,g=e[0].length;v<g;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=xi(" ",e[0][m][1][1]);break;case 1:x=xi("\r",e[0][m][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+f8e[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Nv(b[1][1],o,i),l.push(Sv(d,s));break;case"PtgRefN":d=n?Nv(b[1][1],n,i):b[1][1],l.push(Sv(d,s));break;case"PtgRef3d":f=b[1][1],d=Nv(b[1][2],o,i),y=w9(r,f,i),l.push(y+"!"+Sv(d,s));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],T=b[1][1];w||(w=0),w&=127;var k=w==0?[]:l.slice(-w);l.length-=w,T==="User"&&(T=k.shift()),l.push(T+"("+k.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=t9(b[1][1],n?{s:n}:o,i),l.push(hA(p,i));break;case"PtgArea":p=t9(b[1][1],o,i),l.push(hA(p,i));break;case"PtgArea3d":f=b[1][1],p=b[1][2],y=w9(r,f,i),l.push(y+"!"+hA(p,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var _=(r.names||[])[h-1]||(r[0]||[])[h],N=_?_.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),l.push(N);break;case"PtgNameX":var C=b[1][1];h=b[1][2];var I;if(i.biff<=5)C<0&&(C=-C),r[C]&&(I=r[C][h]);else{var j="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][h]&&r[C][h].itab>0&&(j=r.SheetNames[r[C][h].itab-1]+"!"):j=r.SheetNames[h-1]+"!"),r[C]&&r[C][h])j+=r[C][h].Name;else if(r[0]&&r[0][h])j+=r[0][h].Name;else{var E=(yee(r,C,i)||"").split(";;");E[h-1]?j=E[h-1]:j+="SH33TJSERRX"}l.push(j);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var D="(",R=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:D=xi(" ",e[0][m][1][1])+D;break;case 3:D=xi("\r",e[0][m][1][1])+D;break;case 4:R=xi(" ",e[0][m][1][1])+R;break;case 5:R=xi("\r",e[0][m][1][1])+R;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(D+l.pop()+R);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var M={c:n.c,r:n.r};if(r.sharedf[xn(d)]){var U=r.sharedf[xn(d)];l.push(aa(U,o,M,r,i))}else{var z=!1;for(c=0;c!=r.arrayf.length;++c)if(u=r.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(aa(u[1],o,M,r,i)),z=!0;break}z||l.push(b[1])}break;case"PtgArray":l.push("{"+d8e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&G.indexOf(e[0][v][0])==-1){b=e[0][m];var F=!0;switch(b[1][0]){case 4:F=!1;case 0:x=xi(" ",b[1][1]);break;case 5:F=!1;case 1:x=xi("\r",b[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((F?x:"")+l.pop()+(F?"":x)),m=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function p8e(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],ya(e,t-2)];var l=Vb(e,o,n);return t!==o+i&&(s=Bb(e,t-o-i,l,n)),e.l=r,[l,s]}function m8e(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],ya(e,t-2)];var l=Vb(e,o,n);return t!==o+i&&(s=Bb(e,t-o-i,l,n)),e.l=r,[l,s]}function g8e(e,t,n,r){var i=e.l+t,s=Vb(e,r,n),o;return i!==e.l&&(o=Bb(e,i-e.l,s,n)),[s,o]}function x8e(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=Vb(e,s,n);return s==65535?[[],ya(e,t-2)]:(t!==s+2&&(i=Bb(e,r-s-2,o,n)),[o,i])}function y8e(e){var t;if(Ju(e,e.l+6)!==65535)return[ca(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function gA(e,t,n){var r=e.l+t,i=Su(e);n.biff==2&&++e.l;var s=y8e(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var l=m8e(e,r-e.l,n);return{cell:i,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function EN(e,t,n){var r=e.read_shift(4),i=Vb(e,r,n),s=e.read_shift(4),o=s>0?Bb(e,s,i,n):null;return[i,o]}var v8e=EN,NN=EN,b8e=EN,w8e=EN,_8e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},vee={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},T8e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _9(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function xA(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Dv={},a0={};function jv(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function bee(e,t,n,r,i,s){try{r.cellNF&&(e.z=En[t])}catch(l){if(r.WTF)throw l}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ns(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(En[t]==null&&Dp(E5e[t]||"General",t),e.t==="e")e.w=e.w||Fm[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j1(e.v);else if(e.t==="d"){var o=Ka(e.v);(o|0)===o?e.w=o.toString(10):e.w=j1(o)}else{if(e.v===void 0)return"";e.w=cm(e.v,a0)}else e.t==="d"?e.w=Ol(t,Ka(e.v),a0):e.w=Ol(t,e.v,a0)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=TT(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=TT(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&s.Fills)throw l}}}function E8e(e,t){var n=bi(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=ur(n))}var N8e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,S8e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,k8e=/<(?:\w:)?hyperlink [^>]*>/mg,A8e=/"(\w*:\w*)"/,C8e=/<(?:\w:)?col\b[^>]*[\/]?>/g,D8e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,j8e=/<(?:\w:)?pageMargins[^>]*\/>/g,wee=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,I8e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,R8e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function P8e(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(S8e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(wee);h?yR(h[0],l,i,n):(h=u.match(I8e))&&O8e(h[0],h[1]||"",l,i,n);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(A8e);y&&E8e(l,y[1])}var m=u.match(R8e);m&&m[1]&&V8e(m[1],i);var x=[];if(t.cellStyles){var v=u.match(C8e);v&&M8e(x,v)}f&&q8e(f[1],l,t,c,s,o);var g=d.match(D8e);g&&(l["!autofilter"]=U8e(g[0]));var b=[],w=d.match(N8e);if(w)for(p=0;p!=w.length;++p)b[p]=bi(w[p].slice(w[p].indexOf('"')+1));var T=d.match(k8e);T&&F8e(l,T,r);var k=d.match(j8e);if(k&&(l["!margins"]=L8e(fn(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ur(c)),t.sheetRows>0&&l["!ref"]){var _=bi(l["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>c.e.r&&(_.e.r=c.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>c.e.c&&(_.e.c=c.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ur(_))}return x.length>0&&(l["!cols"]=x),b.length>0&&(l["!merges"]=b),l}function yR(e,t,n,r){var i=fn(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=pr(qr(i.codeName)))}function O8e(e,t,n,r,i){yR(e.slice(0,e.indexOf(">")),n,r,i)}function F8e(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=fn(qr(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+pr(s.location))):(s.Target="#"+pr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=bi(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=xn({c:u,r:c});r?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function L8e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function M8e(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=fn(t[r],!0);i.hidden&&(i.hidden=ni(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,gR(i.width)),K0(i);s<=o;)e[s++]=Us(i)}}function U8e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var B8e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function V8e(e,t){t.Views||(t.Views=[{}]),(e.match(B8e)||[]).forEach(function(n,r){var i=fn(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),ni(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var q8e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=I1("v"),o=I1("f");return function(c,u,d,f,h,p){for(var y=0,m="",x=[],v=[],g=0,b=0,w=0,T="",k,_,N=0,C=0,I,j,E=0,D=0,R=Array.isArray(p.CellXf),M,U=[],z=[],G=Array.isArray(u),F=[],W={},O=!1,P=!!d.sheetStubs,B=c.split(t),K=0,Q=B.length;K!=Q;++K){m=B[K].trim();var L=m.length;if(L!==0){var ee=0;e:for(y=0;y<L;++y)switch(m[y]){case">":if(m[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(_=fn(m.slice(ee,y),!0),N=_.r!=null?parseInt(_.r,10):N+1,C=-1,d.sheetRows&&d.sheetRows<N)continue;W={},O=!1,_.ht&&(O=!0,W.hpt=parseFloat(_.ht),W.hpx=F1(W.hpt)),_.hidden=="1"&&(O=!0,W.hidden=!0),_.outlineLevel!=null&&(O=!0,W.level=+_.outlineLevel),O&&(F[N-1]=W)}break;case"<":ee=y;break}if(ee>=y)break;if(_=fn(m.slice(ee,y),!0),N=_.r!=null?parseInt(_.r,10):N+1,C=-1,!(d.sheetRows&&d.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),d&&d.cellStyles&&(W={},O=!1,_.ht&&(O=!0,W.hpt=parseFloat(_.ht),W.hpx=F1(W.hpt)),_.hidden=="1"&&(O=!0,W.hidden=!0),_.outlineLevel!=null&&(O=!0,W.level=+_.outlineLevel),O&&(F[N-1]=W)),x=m.slice(y).split(e);for(var ge=0;ge!=x.length&&x[ge].trim().charAt(0)=="<";++ge);for(x=x.slice(ge),y=0;y!=x.length;++y)if(m=x[y].trim(),m.length!==0){if(v=m.match(n),g=y,b=0,w=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,v!=null&&v.length===2){for(g=0,T=v[1],b=0;b!=T.length&&!((w=T.charCodeAt(b)-64)<1||w>26);++b)g=26*g+w;--g,C=g}else++C;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,_=fn(m.slice(0,b),!0),_.r||(_.r=xn({r:N-1,c:C})),T=m.slice(b),k={t:""},(v=T.match(s))!=null&&v[1]!==""&&(k.v=pr(v[1])),d.cellFormula){if((v=T.match(o))!=null&&v[1]!==""){if(k.f=pr(qr(v[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=y9(k.f)),v[0].indexOf('t="array"')>-1)k.F=(T.match(i)||[])[1],k.F.indexOf(":")>-1&&U.push([bi(k.F),k.F]);else if(v[0].indexOf('t="shared"')>-1){j=fn(v[0]);var he=pr(qr(v[1]));d.xlfn||(he=y9(he)),z[parseInt(j.si,10)]=[j,he,_.r]}}else(v=T.match(/<f[^>]*\/>/))&&(j=fn(v[0]),z[j.si]&&(k.f=JFe(z[j.si][1],z[j.si][2],_.r)));var be=Wa(_.r);for(b=0;b<U.length;++b)be.r>=U[b][0].s.r&&be.r<=U[b][0].e.r&&be.c>=U[b][0].s.c&&be.c<=U[b][0].e.c&&(k.F=U[b][1])}if(_.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(P)k.t="z";else continue;else k.t=_.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),k.t){case"n":if(k.v==""||k.v==null){if(!P)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!P)continue;k.t="z"}else I=Dv[parseInt(k.v,10)],k.v=I.t,k.r=I.r,d.cellHTML&&(k.h=I.h);break;case"str":k.t="s",k.v=k.v!=null?qr(k.v):"",d.cellHTML&&(k.h=sR(k.v));break;case"inlineStr":v=T.match(r),k.t="s",v!=null&&(I=mR(v[1]))?(k.v=I.t,d.cellHTML&&(k.h=I.h)):k.v="";break;case"b":k.v=ni(k.v);break;case"d":d.cellDates?k.v=Ns(k.v,1):(k.v=Ka(Ns(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=qJ[k.v];break}if(E=D=0,M=null,R&&_.s!==void 0&&(M=p.CellXf[_.s],M!=null&&(M.numFmtId!=null&&(E=M.numFmtId),d.cellStyles&&M.fillId!=null&&(D=M.fillId))),bee(k,E,D,d,h,p),d.cellDates&&R&&k.t=="n"&&Tx(En[E])&&(k.t="d",k.v=_N(k.v)),_.cm&&d.xlmeta){var Oe=(d.xlmeta.Cell||[])[+_.cm-1];Oe&&Oe.type=="XLDAPR"&&(k.D=!0)}if(G){var Z=Wa(_.r);u[Z.r]||(u[Z.r]=[]),u[Z.r][Z.c]=k}else u[_.r]=k}}}}F.length>0&&(u["!rows"]=F)}}();function W8e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var z8e=Om;function $8e(){}function H8e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=pRe(e),n}function G8e(e){var t=Ml(e);return[t]}function Q8e(e){var t=Pm(e);return[t]}function K8e(e){var t=Ml(e),n=e.read_shift(1);return[t,n,"b"]}function X8e(e){var t=Pm(e),n=e.read_shift(1);return[t,n,"b"]}function Y8e(e){var t=Ml(e),n=e.read_shift(1);return[t,n,"e"]}function Z8e(e){var t=Pm(e),n=e.read_shift(1);return[t,n,"e"]}function J8e(e){var t=Ml(e),n=e.read_shift(4);return[t,n,"s"]}function eLe(e){var t=Pm(e),n=e.read_shift(4);return[t,n,"s"]}function tLe(e){var t=Ml(e),n=ca(e);return[t,n,"n"]}function _ee(e){var t=Pm(e),n=ca(e);return[t,n,"n"]}function nLe(e){var t=Ml(e),n=fR(e);return[t,n,"n"]}function rLe(e){var t=Pm(e),n=fR(e);return[t,n,"n"]}function iLe(e){var t=Ml(e),n=uR(e);return[t,n,"is"]}function sLe(e){var t=Ml(e),n=ga(e);return[t,n,"str"]}function aLe(e){var t=Pm(e),n=ga(e);return[t,n,"str"]}function oLe(e,t,n){var r=e.l+t,i=Ml(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var l=NN(e,r-e.l,n);o[3]=aa(l,null,i,n.supbooks,n)}else e.l=r;return o}function lLe(e,t,n){var r=e.l+t,i=Ml(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var l=NN(e,r-e.l,n);o[3]=aa(l,null,i,n.supbooks,n)}else e.l=r;return o}function cLe(e,t,n){var r=e.l+t,i=Ml(e);i.r=n["!row"];var s=ca(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var l=NN(e,r-e.l,n);o[3]=aa(l,null,i,n.supbooks,n)}else e.l=r;return o}function uLe(e,t,n){var r=e.l+t,i=Ml(e);i.r=n["!row"];var s=ga(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var l=NN(e,r-e.l,n);o[3]=aa(l,null,i,n.supbooks,n)}else e.l=r;return o}var dLe=Om;function fLe(e,t){var n=e.l+t,r=Om(e),i=dR(e),s=ga(e),o=ga(e),l=ga(e);e.l=n;var c={rfx:r,relId:i,loc:s,display:l};return o&&(c.Tooltip=o),c}function hLe(){}function pLe(e,t,n){var r=e.l+t,i=UJ(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var l=v8e(e,r-e.l,n);o[1]=l}else e.l=r;return o}function mLe(e,t,n){var r=e.l+t,i=Om(e),s=[i];if(n.cellFormula){var o=w8e(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}var gLe=["left","right","top","bottom","header","footer"];function xLe(e){var t={};return gLe.forEach(function(n){t[n]=ca(e)}),t}function yLe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function vLe(){}function bLe(){}function wLe(e,t,n,r,i,s,o){if(!e)return e;var l=t||{};r||(r={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,y,m,x,v,g,b,w,T,k=[];l.biff=12,l["!row"]=0;var _=0,N=!1,C=[],I={},j=l.supbooks||i.supbooks||[[]];if(j.sharedf=I,j.arrayf=C,j.SheetNames=i.SheetNames||i.Sheets.map(function(G){return G.name}),!l.supbooks&&(l.supbooks=j,i.Names))for(var E=0;E<i.Names.length;++E)j[0][E+1]=i.Names[E];var D=[],R=[],M=!1;ST[16]={n:"BrtShortReal",f:_ee};var U;if(Fd(e,function(F,W,O){if(!h)switch(O){case 148:u=F;break;case 0:p=F,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),w=Bs(x=p.r),l["!row"]=p.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=F1(F.hpt)),R[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:F[2]},F[2]){case"n":y.v=F[1];break;case"s":b=Dv[F[1]],y.v=b.t,y.r=b.r;break;case"b":y.v=!!F[1];break;case"e":y.v=F[1],l.cellText!==!1&&(y.w=Fm[y.v]);break;case"str":y.t="s",y.v=F[1];break;case"is":y.t="s",y.v=F[1].t;break}if((m=o.CellXf[F[0].iStyleRef])&&bee(y,m.numFmtId,null,l,s,o),v=F[0].c==-1?v+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=y):c[ls(v)+w]=y,l.cellFormula){for(N=!1,_=0;_<C.length;++_){var P=C[_];p.r>=P[0].s.r&&p.r<=P[0].e.r&&v>=P[0].s.c&&v<=P[0].e.c&&(y.F=ur(P[0]),N=!0)}!N&&F.length>3&&(y.f=F[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),l.cellDates&&m&&y.t=="n"&&Tx(En[m.numFmtId])){var B=gp(y.v);B&&(y.t="d",y.v=new Date(B.y,B.m-1,B.d,B.H,B.M,B.S,B.u))}U&&(U.type=="XLDAPR"&&(y.D=!0),U=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;y={t:"z",v:void 0},v=F[0].c==-1?v+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=y):c[ls(v)+w]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),U&&(U.type=="XLDAPR"&&(y.D=!0),U=void 0);break;case 176:k.push(F);break;case 49:U=((l.xlmeta||{}).Cell||[])[F-1];break;case 494:var K=r["!id"][F.relId];for(K?(F.Target=K.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=K):F.relId==""&&(F.Target="#"+F.loc),x=F.rfx.s.r;x<=F.rfx.e.r;++x)for(v=F.rfx.s.c;v<=F.rfx.e.c;++v)l.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=F):(g=xn({c:v,r:x}),c[g]||(c[g]={t:"z",v:void 0}),c[g].l=F);break;case 426:if(!l.cellFormula)break;C.push(F),T=l.dense?c[x][v]:c[ls(v)+w],T.f=aa(F[1],d,{r:p.r,c:v},j,l),T.F=ur(F[0]);break;case 427:if(!l.cellFormula)break;I[xn(F[0].s)]=F[1],T=l.dense?c[x][v]:c[ls(v)+w],T.f=aa(F[1],d,{r:p.r,c:v},j,l);break;case 60:if(!l.cellStyles)break;for(;F.e>=F.s;)D[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},M||(M=!0,gR(F.w/256)),K0(D[F.e+1]);break;case 161:c["!autofilter"]={ref:ur(F)};break;case 476:c["!margins"]=F;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),F.name&&(i.Sheets[n].CodeName=F.name),(F.above||F.left)&&(c["!outline"]={above:F.above,left:F.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),F.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!W.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+O.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ur(u||d)),l.sheetRows&&c["!ref"]){var z=bi(c["!ref"]);l.sheetRows<=+z.e.r&&(z.e.r=l.sheetRows-1,z.e.r>d.e.r&&(z.e.r=d.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>d.e.c&&(z.e.c=d.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ur(z))}return k.length>0&&(c["!merges"]=k),D.length>0&&(c["!cols"]=D),R.length>0&&(c["!rows"]=R),c}function _Le(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var i=pr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function TLe(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=_Le(f);d.s.r=d.s.c=0,d.e.c=l,u=ls(l),h[0].forEach(function(p,y){o[u+Bs(y)]={t:"n",v:p,z:h[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=ur(d)),o}function ELe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(wee);return l&&yR(l[0],s,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function NLe(e,t){e.l+=10;var n=ga(e);return{name:n}}function SLe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Fd(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),c.name&&(i.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Tee=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],kLe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ALe=[],CLe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function T9(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=ni(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function E9(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=ni(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function Eee(e){E9(e.WBProps,Tee),E9(e.CalcPr,CLe),T9(e.WBView,kLe),T9(e.Sheets,ALe),a0.date1904=ni(e.WBProps.date1904)}var DLe="][*?/\\".split("");function jLe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return DLe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var ILe=/<\w+:workbook/;function RLe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(ba,function(c,u){var d=fn(c);switch(Nu(d[0])){case"<?xml":break;case"<workbook":c.match(ILe)&&(i="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Tee.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=ni(d[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:n.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(n.WBProps.CodeName=qr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=pr(qr(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=qr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),ni(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=pr(qr(e.slice(o,u))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Y5e.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Eee(n),n}function PLe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=i4(e),n.name=ga(e),n}function OLe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?ga(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function FLe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function LLe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=mRe(e),o=b8e(e,0,n),l=dR(e);e.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function MLe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],ST[16]={n:"BrtFRTArchID$",f:FLe},Fd(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=aa(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Eee(n),n.Names=s,n.supbooks=o,n}function ULe(e,t,n){return t.slice(-4)===".bin"?MLe(e,n):RLe(e,n)}function BLe(e,t,n,r,i,s,o,l){return t.slice(-4)===".bin"?wLe(e,r,n,i,s,o,l):P8e(e,r,n,i,s,o,l)}function VLe(e,t,n,r,i,s,o,l){return t.slice(-4)===".bin"?SLe(e,r,n,i,s):ELe(e,r,n,i,s)}function qLe(e,t,n,r,i,s,o,l){return t.slice(-4)===".bin"?XFe():YFe()}function WLe(e,t,n,r,i,s,o,l){return t.slice(-4)===".bin"?QFe():KFe()}function zLe(e,t,n,r){return t.slice(-4)===".bin"?dFe(e,n,r):sFe(e,n,r)}function $Le(e,t,n){return uee(e,n)}function HLe(e,t,n){return t.slice(-4)===".bin"?kOe(e,n):NOe(e,n)}function GLe(e,t,n){return t.slice(-4)===".bin"?$Fe(e,n):BFe(e,n)}function QLe(e,t,n){return t.slice(-4)===".bin"?LFe(e):OFe(e)}function KLe(e,t,n,r){return n.slice(-4)===".bin"?MFe(e,t,n,r):void 0}function XLe(e,t,n){return t.slice(-4)===".bin"?RFe(e,t,n):PFe(e,t,n)}var Nee=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,See=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Gl(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(Nee),s,o,l,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(See),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),r[l]=s[2].slice(1,s[2].length-1));return r}function YLe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(Nee),i,s,o,l;if(r)for(l=0;l!=r.length;++l)i=r[l].match(See),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Iv;function ZLe(e,t){var n=Iv[e]||pr(e);return n==="General"?cm(t):Ol(n,t)}function JLe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=ni(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Ns(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[pr(t)]=i}function eMe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Fm[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j1(e.v):e.w=cm(e.v):e.w=ZLe(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=Iv[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&Tx(r)){var i=gp(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function tMe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=JOe[r.Pattern]||r.Pattern)}e[t.ID]=t}function nMe(e,t,n,r,i,s,o,l,c,u){var d="General",f=r.StyleID,h={};u=u||{};var p=[],y=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=ni(e);break;case"String":r.t="s",r.r=HU(pr(e)),r.v=e.indexOf("<")>-1?pr(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(Ns(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=pr(e):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=qJ[e],u.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=HU(t||e));break}if(eMe(r,d,u),u.cellFormula!==!1)if(r.Formula){var m=pr(r.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),r.f=s0(m,i),delete r.Formula,r.ArrayRange=="RC"?r.F=s0("RC:RC",i):r.ArrayRange&&(r.F=s0(r.ArrayRange,i),c.push([bi(r.F),r.F]))}else for(y=0;y<c.length;++y)i.r>=c[y][0].s.r&&i.r<=c[y][0].e.r&&i.c>=c[y][0].s.c&&i.c<=c[y][0].e.c&&(r.F=c[y][1]);u.cellStyles&&(p.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function rMe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function yA(e,t){var n=t||{};pJ();var r=Xy(aR(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=qr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Us(n);return o.type="string",P1.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(J){i.indexOf("<"+J)>=0&&(s=!0)}),s)return fMe(r,n);Iv={"General Number":"General","General Date":En[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":En[15],"Short Date":En[14],"Long Time":En[19],"Medium Time":En[18],"Short Time":En[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:En[2],Standard:En[4],Percent:En[10],Scientific:En[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=n.dense?[]:{},p="",y={},m={},x=Gl('<Data ss:Type="String">'),v=0,g=0,b=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},k={},_="",N=0,C=[],I={},j={},E=0,D=[],R=[],M={},U=[],z,G=!1,F=[],W=[],O={},P=0,B=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};R1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var L="";l=R1.exec(r);)switch(l[3]=(L=l[3]).toLowerCase()){case"data":if(L=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?nMe(r.slice(v,l.index),_,x,c[c.length-1][0]=="comment"?M:y,{c:g,r:b},T,U[g],m,F,n):(_="",x=Gl(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(R.length>0&&(y.c=R),(!n.sheetRows||n.sheetRows>b)&&y.v!==void 0&&(n.dense?(h[b]||(h[b]=[]),h[b][g]=y):h[ls(g)+Bs(b)]=y),y.HRef&&(y.l={Target:pr(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(P=g+(parseInt(y.MergeAcross,10)|0),B=b+(parseInt(y.MergeDown,10)|0),C.push({s:{c:g,r:b},e:{c:P,r:B}})),!n.sheetStubs)y.MergeAcross?g=P+1:++g;else if(y.MergeAcross||y.MergeDown){for(var ee=g;ee<=P;++ee)for(var ge=b;ge<=B;++ge)(ee>g||ge>b)&&(n.dense?(h[ge]||(h[ge]=[]),h[ge][ee]={t:"z"}):h[ls(ee)+Bs(ge)]={t:"z"});g=P+1}else++g;else y=YLe(l[0]),y.Index&&(g=+y.Index-1),g<w.s.c&&(w.s.c=g),g>w.e.c&&(w.e.c=g),l[0].slice(-2)==="/>"&&++g,R=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<w.s.r&&(w.s.r=b),b>w.e.r&&(w.e.r=b),l[0].slice(-2)==="/>"&&(m=Gl(l[0]),m.Index&&(b=+m.Index-1)),g=0,++b):(m=Gl(l[0]),m.Index&&(b=+m.Index-1),O={},(m.AutoFitHeight=="0"||m.Height)&&(O.hpx=parseInt(m.Height,10),O.hpt=cee(O.hpx),W[b]=O),m.Hidden=="1"&&(O.hidden=!0,W[b]=O));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(h["!ref"]=ur(w),n.sheetRows&&n.sheetRows<=w.e.r&&(h["!fullref"]=h["!ref"],w.e.r=n.sheetRows-1,h["!ref"]=ur(w))),C.length&&(h["!merges"]=C),U.length>0&&(h["!cols"]=U),W.length>0&&(h["!rows"]=W),d[p]=h}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=g=0,c.push([l[3],!1]),u=Gl(l[0]),p=pr(u.Name),h=n.dense?[]:{},C=[],F=[],W=[],Q={name:p,Hidden:0},K.Sheets.push(Q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),U=[],G=!1}break;case"style":l[1]==="/"?tMe(T,k,n):k=Gl(l[0]);break;case"numberformat":k.nf=pr(Gl(l[0]).Format||"General"),Iv[k.nf]&&(k.nf=Iv[k.nf]);for(var he=0;he!=392&&En[he]!=k.nf;++he);if(he==392){for(he=57;he!=392;++he)if(En[he]==null){Dp(k.nf,he);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(z=Gl(l[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!G&&z.wpx>10){G=!0,Fa=oee;for(var be=0;be<U.length;++be)U[be]&&K0(U[be])}G&&K0(z),U[z.Index-1||U.length]=z;for(var Oe=0;Oe<+z.Span;++Oe)U[U.length]=Us(z);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var Z=fn(l[0]),Ie={Name:Z.Name,Ref:s0(Z.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Ie.Sheet=K.Sheets.length-1),K.Names.push(Ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?_+=r.slice(N,l.index):N=l.index+l[0].length;break;case"interior":if(!n.cellStyles)break;k.Interior=Gl(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?BRe(I,L,r.slice(E,l.index)):E=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));rMe(M),R.push(M)}else c.push([l[3],!1]),u=Gl(l[0]),M={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var V=Gl(l[0]);h["!autofilter"]={ref:s0(V.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return D9(r,n);var ke=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ke=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ke=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ke=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ke=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(r.slice(E,l.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else E=l.index+l[0].length;break;case"header":h["!margins"]||jv(h["!margins"]={},"xlml"),isNaN(+fn(l[0]).Margin)||(h["!margins"].header=+fn(l[0]).Margin);break;case"footer":h["!margins"]||jv(h["!margins"]={},"xlml"),isNaN(+fn(l[0]).Margin)||(h["!margins"].footer=+fn(l[0]).Margin);break;case"pagemargins":var xe=fn(l[0]);h["!margins"]||jv(h["!margins"]={},"xlml"),isNaN(+xe.Top)||(h["!margins"].top=+xe.Top),isNaN(+xe.Left)||(h["!margins"].left=+xe.Left),isNaN(+xe.Right)||(h["!margins"].right=+xe.Right),isNaN(+xe.Bottom)||(h["!margins"].bottom=+xe.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ke=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ke=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ke=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ke=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ke=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ke=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ke=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ke=!1}break;case"smarttags":break;default:ke=!1;break}if(ke||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?JLe(j,L,D,r.slice(E,l.index)):(D=l,E=l.index+l[0].length);break}if(n.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var re={};return!n.bookSheets&&!n.bookProps&&(re.Sheets=d),re.SheetNames=f,re.Workbook=K,re.SSF=Us(En),re.Props=I,re.Custprops=j,re}function l4(e,t){switch(wR(t=t||{}),t.type||"base64"){case"base64":return yA(el(e),t);case"binary":case"buffer":case"file":return yA(e,t);case"array":return yA(Rm(e),t)}}function iMe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=yRe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=vRe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var sMe=[60,1084,2066,2165,2175];function aMe(e,t,n,r,i){var s=r,o=[],l=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}o.push(l),n.l+=s;for(var c=Ju(n,n.l),u=c4[c],d=0;u!=null&&sMe.indexOf(c)>-1;)s=Ju(n,n.l+2),d=n.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=n.slice(d,n.l+4+s),o.push(l),n.l+=4+s,u=c4[c=Ju(n,n.l)];var f=Nf(o);Ls(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function Bc(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=En[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Fm[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j1(e.v):e.w=cm(e.v):e.w=Ol(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&Tx(En[r]||String(r))){var i=gp(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function X2(e,t,n){return{v:e,ixfe:t,t:n}}function oMe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",p,y,m,x,v={},g=[],b,w,T=[],k=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},C=function(Fe){return Fe<8?jp[Fe]:Fe<64&&k[Fe-8]||jp[Fe]},I=function(Fe,je,Ge){var Je=je.XF.data;if(!(!Je||!Je.patternType||!Ge||!Ge.cellStyles)){je.s={},je.s.patternType=Je.patternType;var kt;(kt=O1(C(Je.icvFore)))&&(je.s.fgColor={rgb:kt}),(kt=O1(C(Je.icvBack)))&&(je.s.bgColor={rgb:kt})}},j=function(Fe,je,Ge){if(!(O>1)&&!(Ge.sheetRows&&Fe.r>=Ge.sheetRows)){if(Ge.cellStyles&&je.XF&&je.XF.data&&I(Fe,je,Ge),delete je.ixfe,delete je.XF,f=Fe,h=xn(Fe),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Fe.r<o.s.r&&(o.s.r=Fe.r),Fe.c<o.s.c&&(o.s.c=Fe.c),Fe.r+1>o.e.r&&(o.e.r=Fe.r+1),Fe.c+1>o.e.c&&(o.e.c=Fe.c+1),Ge.cellFormula&&je.f){for(var Je=0;Je<g.length;++Je)if(!(g[Je][0].s.c>Fe.c||g[Je][0].s.r>Fe.r)&&!(g[Je][0].e.c<Fe.c||g[Je][0].e.r<Fe.r)){je.F=ur(g[Je][0]),(g[Je][0].s.c!=Fe.c||g[Je][0].s.r!=Fe.r)&&delete je.f,je.f&&(je.f=""+aa(g[Je][1],o,Fe,F,E));break}}Ge.dense?(i[Fe.r]||(i[Fe.r]=[]),i[Fe.r][Fe.c]=je):i[h]=je}},E={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:g,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var D,R=[],M=[],U=[],z=[],G=!1,F=[];F.SheetNames=E.snames,F.sharedf=E.sharedf,F.arrayf=E.arrayf,F.names=[],F.XTI=[];var W=0,O=0,P=0,B=[],K=[],Q;E.codepage=1200,cc(1200);for(var L=!1;e.l<e.length-1;){var ee=e.l,ge=e.read_shift(2);if(ge===0&&W===10)break;var he=e.l===e.length?0:e.read_shift(2),be=c4[ge];if(be&&be.f){if(t.bookSheets&&W===133&&ge!==133)break;if(W=ge,be.r===2||be.r==12){var Oe=e.read_shift(2);if(he-=2,!E.enc&&Oe!==ge&&((Oe&255)<<8|Oe>>8)!==ge)throw new Error("rt mismatch: "+Oe+"!="+ge);be.r==12&&(e.l+=10,he-=10)}var Z={};if(ge===10?Z=be.f(e,he,E):Z=aMe(ge,be,e,he,E),O==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(ge){case 34:n.opts.Date1904=_.WBProps.date1904=Z;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=Z,!t.password)throw new Error("File is password-protected");if(Z.valid==null)throw new Error("Encryption scheme unsupported");if(!Z.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=Z;break;case 66:var Ie=Number(Z);switch(Ie){case 21010:Ie=1200;break;case 32768:Ie=1e4;break;case 32769:Ie=1252;break}cc(E.codepage=Ie),L=!0;break;case 317:E.rrtabid=Z;break;case 25:E.winlocked=Z;break;case 439:n.opts.RefreshAll=Z;break;case 12:n.opts.CalcCount=Z;break;case 16:n.opts.CalcDelta=Z;break;case 17:n.opts.CalcIter=Z;break;case 13:n.opts.CalcMode=Z;break;case 14:n.opts.CalcPrecision=Z;break;case 95:n.opts.CalcSaveRecalc=Z;break;case 15:E.CalcRefMode=Z;break;case 2211:n.opts.FullCalc=Z;break;case 129:Z.fDialog&&(i["!type"]="dialog"),Z.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Z.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:T.push(Z);break;case 430:F.push([Z]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(Z);break;case 24:case 536:Q={Name:Z.Name,Ref:aa(Z.rgce,o,null,F,E)},Z.itab>0&&(Q.Sheet=Z.itab-1),F.names.push(Q),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(Z),Z.Name=="_xlnm._FilterDatabase"&&Z.itab>0&&Z.rgce&&Z.rgce[0]&&Z.rgce[0][0]&&Z.rgce[0][0][0]=="PtgArea3d"&&(K[Z.itab-1]={ref:ur(Z.rgce[0][0][1][2])});break;case 22:E.ExternCount=Z;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(Z),F.XTI=F.XTI.concat(Z);break;case 2196:if(E.biff<8)break;Q!=null&&(Q.Comment=Z[1]);break;case 18:i["!protect"]=Z;break;case 19:Z!==0&&E.WTF&&console.error("Password verifier: "+Z);break;case 133:s[Z.pos]=Z,E.snames.push(Z.name);break;case 10:{if(--O)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=ur(o),t.sheetRows&&t.sheetRows<=o.e.r){var V=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ur(o),o.e.r=V}o.e.r++,o.e.c++}R.length>0&&(i["!merges"]=R),M.length>0&&(i["!objects"]=M),U.length>0&&(i["!cols"]=U),z.length>0&&(i["!rows"]=z),_.Sheets.push(N)}u===""?d=i:r[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Z.BIFFVer]||8),E.biffguess=Z.BIFFVer==0,Z.BIFFVer==0&&Z.dt==4096&&(E.biff=5,L=!0,cc(E.codepage=28591)),E.biff==8&&Z.BIFFVer==0&&Z.dt==16&&(E.biff=2),O++)break;if(i=t.dense?[]:{},E.biff<8&&!L&&(L=!0,cc(E.codepage=t.codepage||1252)),E.biff<5||Z.BIFFVer==0&&Z.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var ke={pos:e.l-he,name:u};s[ke.pos]=ke,E.snames.push(u)}else u=(s[ee]||{name:""}).name;Z.dt==32&&(i["!type"]="chart"),Z.dt==64&&(i["!type"]="macro"),R=[],M=[],E.arrayf=g=[],U=[],z=[],G=!1,N={Hidden:(s[ee]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Z.r]||[])[Z.c]:i[xn({c:Z.c,r:Z.r})])&&++Z.c,b={ixfe:Z.ixfe,XF:T[Z.ixfe]||{},v:Z.val,t:"n"},P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:Z.c,r:Z.r},b,t);break;case 5:case 517:b={ixfe:Z.ixfe,XF:T[Z.ixfe],v:Z.val,t:Z.t},P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:Z.c,r:Z.r},b,t);break;case 638:b={ixfe:Z.ixfe,XF:T[Z.ixfe],v:Z.rknum,t:"n"},P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:Z.c,r:Z.r},b,t);break;case 189:for(var xe=Z.c;xe<=Z.C;++xe){var re=Z.rkrec[xe-Z.c][0];b={ixfe:re,XF:T[re],v:Z.rkrec[xe-Z.c][1],t:"n"},P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:xe,r:Z.r},b,t)}break;case 6:case 518:case 1030:{if(Z.val=="String"){l=Z;break}if(b=X2(Z.val,Z.cell.ixfe,Z.tt),b.XF=T[b.ixfe],t.cellFormula){var J=Z.formula;if(J&&J[0]&&J[0][0]&&J[0][0][0]=="PtgExp"){var pe=J[0][0][1][0],Y=J[0][0][1][1],le=xn({r:pe,c:Y});v[le]?b.f=""+aa(Z.formula,o,Z.cell,F,E):b.F=((t.dense?(i[pe]||[])[Y]:i[le])||{}).F}else b.f=""+aa(Z.formula,o,Z.cell,F,E)}P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j(Z.cell,b,t),l=Z}break;case 7:case 519:if(l)l.val=Z,b=X2(Z,l.cell.ixfe,"s"),b.XF=T[b.ixfe],t.cellFormula&&(b.f=""+aa(l.formula,o,l.cell,F,E)),P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{g.push(Z);var te=xn(Z[0].s);if(p=t.dense?(i[Z[0].s.r]||[])[Z[0].s.c]:i[te],t.cellFormula&&p){if(!l||!te||!p)break;p.f=""+aa(Z[1],o,Z[0],F,E),p.F=ur(Z[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[xn(l.cell)]=Z[0],p=t.dense?(i[l.cell.r]||[])[l.cell.c]:i[xn(l.cell)],(p||{}).f=""+aa(Z[0],o,f,F,E)}}break;case 253:b=X2(c[Z.isst].t,Z.ixfe,"s"),c[Z.isst].h&&(b.h=c[Z.isst].h),b.XF=T[b.ixfe],P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:Z.c,r:Z.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:Z.ixfe,XF:T[Z.ixfe],t:"z"},P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:Z.c,r:Z.r},b,t));break;case 190:if(t.sheetStubs)for(var oe=Z.c;oe<=Z.C;++oe){var ae=Z.ixfe[oe-Z.c];b={ixfe:ae,XF:T[ae],t:"z"},P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:oe,r:Z.r},b,t)}break;case 214:case 516:case 4:b=X2(Z.val,Z.ixfe,"s"),b.XF=T[b.ixfe],P>0&&(b.z=B[b.ixfe>>8&63]),Bc(b,t,n.opts.Date1904),j({c:Z.c,r:Z.r},b,t);break;case 0:case 512:O===1&&(o=Z);break;case 252:c=Z;break;case 1054:if(E.biff==4){B[P++]=Z[1];for(var fe=0;fe<P+163&&En[fe]!=Z[1];++fe);fe>=163&&Dp(Z[1],P+163)}else Dp(Z[1],Z[0]);break;case 30:{B[P++]=Z;for(var Ae=0;Ae<P+163&&En[Ae]!=Z;++Ae);Ae>=163&&Dp(Z,P+163)}break;case 229:R=R.concat(Z);break;case 93:M[Z.cmo[0]]=E.lastobj=Z;break;case 438:E.lastobj.TxO=Z;break;case 127:E.lastobj.ImData=Z;break;case 440:for(x=Z[0].s.r;x<=Z[0].e.r;++x)for(m=Z[0].s.c;m<=Z[0].e.c;++m)p=t.dense?(i[x]||[])[m]:i[xn({c:m,r:x})],p&&(p.l=Z[1]);break;case 2048:for(x=Z[0].s.r;x<=Z[0].e.r;++x)for(m=Z[0].s.c;m<=Z[0].e.c;++m)p=t.dense?(i[x]||[])[m]:i[xn({c:m,r:x})],p&&p.l&&(p.l.Tooltip=Z[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(i[Z[0].r]||[])[Z[0].c]:i[xn(Z[0])];var Me=M[Z[2]];p||(t.dense?(i[Z[0].r]||(i[Z[0].r]=[]),p=i[Z[0].r][Z[0].c]={t:"z"}):p=i[xn(Z[0])]={t:"z"},o.e.r=Math.max(o.e.r,Z[0].r),o.s.r=Math.min(o.s.r,Z[0].r),o.e.c=Math.max(o.e.c,Z[0].c),o.s.c=Math.min(o.s.c,Z[0].c)),p.c||(p.c=[]),y={a:Z[1],t:Me.TxO.t},p.c.push(y)}break;case 2173:CFe(T[Z.ixfe],Z.ext);break;case 125:{if(!E.cellStyles)break;for(;Z.e>=Z.s;)U[Z.e--]={width:Z.w/256,level:Z.level||0,hidden:!!(Z.flags&1)},G||(G=!0,gR(Z.w/256)),K0(U[Z.e+1])}break;case 520:{var Ve={};Z.level!=null&&(z[Z.r]=Ve,Ve.level=Z.level),Z.hidden&&(z[Z.r]=Ve,Ve.hidden=!0),Z.hpt&&(z[Z.r]=Ve,Ve.hpt=Z.hpt,Ve.hpx=F1(Z.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||jv(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=Z;break;case 161:i["!margins"]||jv(i["!margins"]={}),i["!margins"].header=Z.header,i["!margins"].footer=Z.footer;break;case 574:Z.RTL&&(_.Views[0].RTL=!0);break;case 146:k=Z;break;case 2198:D=Z;break;case 140:w=Z;break;case 442:u?N.CodeName=Z||N.name:_.WBProps.CodeName=Z||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),e.l+=he}return n.SheetNames=bu(s).sort(function(ot,Fe){return Number(ot)-Number(Fe)}).map(function(ot){return s[ot].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&K.forEach(function(ot,Fe){n.Sheets[n.SheetNames[Fe]]["!autofilter"]=ot}),n.Strings=c,n.SSF=Us(En),E.enc&&(n.Encryption=E.enc),D&&(n.Themes=D),n.Metadata={},w!==void 0&&(n.Metadata.Country=w),F.names.length>0&&(_.Names=F.names),n.Workbook=_,n}var N9={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lMe(e,t,n){var r=cr.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=l9(r,NRe,N9.DSI);for(var s in i)t[s]=i[s]}catch(u){if(n.WTF)throw u}var o=cr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=l9(o,SRe,N9.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(n.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(zJ(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function kee(e,t){t||(t={}),wR(t),nJ(),t.codepage&&J5(t.codepage);var n,r;if(e.FullPaths){if(cr.find(e,"/encryption"))throw new Error("File is password-protected");n=cr.find(e,"!CompObj"),r=cr.find(e,"/Workbook")||cr.find(e,"/Book")}else{switch(t.type){case"base64":e=oc(el(e));break;case"binary":e=oc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ls(e,0),r={content:e}}var i,s;if(n&&iMe(n),t.bookProps&&!t.bookSheets)i={};else{var o=tr?"buffer":"array";if(r&&r.content)i=oMe(r.content,t);else if((s=cr.find(e,"PerfectOffice_MAIN"))&&s.content)i=Cv.to_workbook(s.content,(t.type=o,t));else if((s=cr.find(e,"NativeContent_MAIN"))&&s.content)i=Cv.to_workbook(s.content,(t.type=o,t));else throw(s=cr.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&cr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=GFe(e))}var l={};return e.FullPaths&&lMe(e,l,t),i.Props=i.Custprops=l,t.bookFiles&&(i.cfb=e),i}var ST={0:{f:W8e},1:{f:G8e},2:{f:nLe},3:{f:Y8e},4:{f:K8e},5:{f:tLe},6:{f:sLe},7:{f:J8e},8:{f:uLe},9:{f:cLe},10:{f:oLe},11:{f:lLe},12:{f:Q8e},13:{f:rLe},14:{f:Z8e},15:{f:X8e},16:{f:_ee},17:{f:aLe},18:{f:eLe},19:{f:uR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:LLe},40:{},42:{},43:{f:oFe},44:{f:aFe},45:{f:lFe},46:{f:uFe},47:{f:cFe},48:{},49:{f:dRe},50:{},51:{f:jFe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nee},62:{f:iLe},63:{f:FFe},64:{f:vLe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ya,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yLe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:H8e},148:{f:z8e,p:16},151:{f:hLe},152:{},153:{f:OLe},154:{},155:{},156:{f:PLe},157:{},158:{},159:{T:1,f:SOe},160:{T:-1},161:{T:1,f:Om},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dLe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DFe},336:{T:-1},337:{f:IFe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:i4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:tee},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pLe},427:{f:mLe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:xLe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$8e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fLe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:i4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zFe},633:{T:1},634:{T:-1},635:{T:1,f:WFe},636:{T:-1},637:{f:hRe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:NLe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:bLe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},c4={6:{f:gA},10:{f:af},12:{f:Vi},13:{f:Vi},14:{f:Si},15:{f:Si},16:{f:ca},17:{f:Si},18:{f:Si},19:{f:Vi},20:{f:f9},21:{f:f9},23:{f:tee},24:{f:p9},25:{f:Si},26:{},27:{},28:{f:VPe},29:{},34:{f:Si},35:{f:h9},38:{f:ca},39:{f:ca},40:{f:ca},41:{f:ca},42:{f:Si},43:{f:Si},47:{f:$Oe},49:{f:_Pe},51:{f:Vi},60:{},61:{f:vPe},64:{f:Si},65:{f:wPe},66:{f:Vi},77:{},80:{},81:{},82:{},85:{f:Vi},89:{},90:{},91:{},92:{f:dPe},93:{f:WPe},94:{},95:{f:Si},96:{},97:{},99:{f:Si},125:{f:nee},128:{f:IPe},129:{f:fPe},130:{f:Vi},131:{f:Si},132:{f:Si},133:{f:hPe},134:{},140:{f:KPe},141:{f:Vi},144:{},146:{f:YPe},151:{},152:{},153:{},154:{},155:{},156:{f:Vi},157:{},158:{},160:{f:nOe},161:{f:JPe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:APe},190:{f:CPe},193:{f:af},197:{},198:{},199:{},200:{},201:{},202:{f:Si},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vi},220:{},221:{f:Si},222:{},224:{f:jPe},225:{f:uPe},226:{f:af},227:{},229:{f:qPe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:pPe},253:{f:TPe},255:{f:mPe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:KJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Si},353:{f:af},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:PPe},431:{f:Si},432:{},433:{},434:{},437:{},438:{f:HPe},439:{f:Si},440:{f:GPe},441:{},442:{f:Mb},443:{},444:{f:Vi},445:{},446:{},448:{f:af},449:{f:yPe,r:2},450:{f:af},512:{f:u9},513:{f:tOe},515:{f:RPe},516:{f:EPe},517:{f:d9},519:{f:rOe},520:{f:gPe},523:{},545:{f:m9},549:{f:c9},566:{},574:{f:bPe},638:{f:kPe},659:{},1048:{},1054:{f:NPe},1084:{},1212:{f:MPe},2048:{f:QPe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:G2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:af},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ZPe,r:12},2173:{f:AFe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Si,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:LPe,r:12},2197:{},2198:{f:_Fe,r:12},2199:{},2200:{},2201:{},2202:{f:UPe,r:12},2203:{f:af},2204:{},2205:{},2206:{},2207:{},2211:{f:xPe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:eOe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:XPe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:u9},1:{},2:{f:oOe},3:{f:aOe},4:{f:sOe},5:{f:d9},7:{f:lOe},8:{},9:{f:G2},11:{},22:{f:Vi},30:{f:SPe},31:{},32:{},33:{f:m9},36:{},37:{f:c9},50:{f:cOe},62:{},52:{},67:{},68:{f:Vi},69:{},86:{},126:{},127:{f:iOe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:uOe},223:{},234:{},354:{},421:{},518:{f:gA},521:{f:G2},536:{f:p9},547:{f:h9},561:{},579:{},1030:{f:gA},1033:{f:G2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ql(e,t,n,r){var i=t;if(!isNaN(i)){var s=(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&FJ(n)&&e.push(n)}}function S9(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,l=s&&s.index||e.length,c=R5e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var m=c[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var v=m.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var g=v[l].trim();if(g.match(/<t[dh]/i)){for(var b=g,w=0;b.charAt(0)=="<"&&(w=b.indexOf(">"))>-1;)b=b.slice(w+1);for(var T=0;T<y.length;++T){var k=y[T];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,T=-1)}var _=fn(g.slice(0,g.indexOf(">")));h=_.colspan?+_.colspan:1,((f=+_.rowspan)>1||h>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var N=_.t||_["data-t"]||"";if(!b.length){d+=h;continue}if(b=TJ(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var C={t:"s",v:b};n.raw||!b.trim().length||N=="s"||(b==="TRUE"?C={t:"b",v:!0}:b==="FALSE"?C={t:"b",v:!1}:isNaN(hc(b))?isNaN(Q0(b).getDate())||(C={t:"d",v:Ns(b)},n.cellDates||(C={t:"n",v:Ka(C.v)}),C.z=n.dateNF||En[14]):C={t:"n",v:hc(b)}),n.dense?(r[u]||(r[u]=[]),r[u][d]=C):r[xn({r:u,c:d})]=C,d+=h}}}}return r["!ref"]=ur(p),y.length&&(r["!merges"]=y),r}function cMe(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>o)&&!(i[u].e.r<n||i[u].e.c<o)){if(i[u].s.r<n||i[u].s.c<o){l=-1;break}l=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(l<0)){var d=xn({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||sR(f.w||(Ed(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+d,s.push(K5e("td",h,p))}}var y="<tr>";return y+s.join("")+"</tr>"}var uMe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dMe="</body></html>";function fMe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return jh(S9(n[0],t),t);var r=TR();return n.forEach(function(i,s){ER(r,S9(i,t),"Sheet"+(s+1))}),r}function hMe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function pMe(e,t){var n=t||{},r=n.header!=null?n.header:uMe,i=n.footer!=null?n.footer:dMe,s=[r],o=Ex(e["!ref"]);n.dense=Array.isArray(e),s.push(hMe(e,o,n));for(var l=o.s.r;l<=o.e.r;++l)s.push(cMe(e,o,l,n));return s.push("</table>"+i),s.join("")}function Aee(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Wa(r.origin):r.origin;i=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=Ex(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),y=0,m=0,x=0,v=0,g=0,b=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&m<c;++y){var w=l[y];if(k9(w)){if(r.display)continue;p[m]={hidden:!0}}var T=w.children;for(x=v=0;x<T.length;++x){var k=T[x];if(!(r.display&&k9(k))){var _=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):TJ(k.innerHTML),N=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==v+s&&C.s.r<m+i&&m+i<=C.e.r&&(v=C.e.c+1-s,h=-1)}b=+k.getAttribute("colspan")||1,((g=+k.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+i,c:v+s},e:{r:m+i+(g||1)-1,c:v+s+(b||1)-1}});var I={t:"s",v:_},j=k.getAttribute("data-t")||k.getAttribute("t")||"";_!=null&&(_.length==0?I.t=j||"z":r.raw||_.trim().length==0||j=="s"||(_==="TRUE"?I={t:"b",v:!0}:_==="FALSE"?I={t:"b",v:!1}:isNaN(hc(_))?isNaN(Q0(_).getDate())||(I={t:"d",v:Ns(_)},r.cellDates||(I={t:"n",v:Ka(I.v)}),I.z=r.dateNF||En[14]):I={t:"n",v:hc(_)})),I.z===void 0&&N!=null&&(I.z=N);var E="",D=k.getElementsByTagName("A");if(D&&D.length)for(var R=0;R<D.length&&!(D[R].hasAttribute("href")&&(E=D[R].getAttribute("href"),E.charAt(0)!="#"));++R);E&&E.charAt(0)!="#"&&(I.l={Target:E}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+s]=I):e[xn({c:v+s,r:m+i})]=I,u.e.c<v+s&&(u.e.c=v+s),v+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+i),e["!ref"]=ur(u),m>=c&&(e["!fullref"]=ur((u.e.r=l.length-y+m-1+i,u))),e}function Cee(e,t){var n=t||{},r=n.dense?[]:{};return Aee(r,e,t)}function mMe(e,t){return jh(Cee(e,t),t)}function k9(e){var t="",n=gMe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function gMe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xMe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=pr(t.replace(/<[^>]*>/g,""));return[n]}var A9={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Dee(e,t){var n=t||{},r=aR(e),i=[],s,o,l={name:""},c="",u=0,d,f,h={},p=[],y=n.dense?[]:{},m,x,v={value:""},g="",b=0,w=[],T=-1,k=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,C={},I=[],j={},E=0,D=0,R=[],M=1,U=1,z=[],G={Names:[]},F={},W=["",""],O=[],P={},B="",K=0,Q=!1,L=!1,ee=0;for(R1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=R1.exec(r);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(_.e.c>=_.s.c&&_.e.r>=_.s.r?y["!ref"]=ur(_):y["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=_.e.r&&(y["!fullref"]=y["!ref"],_.e.r=n.sheetRows-1,y["!ref"]=ur(_)),I.length&&(y["!merges"]=I),R.length&&(y["!rows"]=R),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=y,L=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=fn(m[0],!1),T=k=-1,_.s.r=_.s.c=1e7,_.e.r=_.e.c=0,y=n.dense?[]:{},I=[],R=[],L=!0);break;case"table-row-group":m[1]==="/"?--N:++N;break;case"table-row":case"":if(m[1]==="/"){T+=M,M=1;break}if(f=fn(m[0],!1),f.?T=f.-1:T==-1&&(T=0),M=+f["number-rows-repeated"]||1,M<10)for(ee=0;ee<M;++ee)N>0&&(R[T+ee]={level:N});k=-1;break;case"covered-table-cell":m[1]!=="/"&&++k,n.sheetStubs&&(n.dense?(y[T]||(y[T]=[]),y[T][k]={t:"z"}):y[xn({r:T,c:k})]={t:"z"}),g="",w=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++k,v=fn(m[0],!1),U=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&n.cellFormula!=!1&&(x.f=_9(pr(v.formula))),(v.||v["value-type"])=="string"&&(x.t="s",x.v=pr(v["string-value"]||""),n.dense?(y[T]||(y[T]=[]),y[T][k]=x):y[xn({r:T,c:k})]=x),k+=U-1;else if(m[1]!=="/"){++k,g="",b=0,w=[],U=1;var ge=M?T+M-1:T;if(k>_.e.c&&(_.e.c=k),k<_.s.c&&(_.s.c=k),T<_.s.r&&(_.s.r=T),ge>_.e.r&&(_.e.r=ge),v=fn(m[0],!1),O=[],P={},x={t:v.||v["value-type"],v:null},n.cellFormula)if(v.formula&&(v.formula=pr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(E=parseInt(v["number-matrix-rows-spanned"],10)||0,D=parseInt(v["number-matrix-columns-spanned"],10)||0,j={s:{r:T,c:k},e:{r:T+E-1,c:k+D-1}},x.F=ur(j),z.push([j,x.F])),v.formula)x.f=_9(v.formula);else for(ee=0;ee<z.length;++ee)T>=z[ee][0].s.r&&T<=z[ee][0].e.r&&k>=z[ee][0].s.c&&k<=z[ee][0].e.c&&(x.F=z[ee][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(E=parseInt(v["number-rows-spanned"],10)||0,D=parseInt(v["number-columns-spanned"],10)||0,j={s:{r:T,c:k},e:{r:T+E-1,c:k+D-1}},I.push(j)),v["number-columns-repeated"]&&(U=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=ni(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=Ns(v["date-value"]),n.cellDates||(x.t="n",x.v=Ka(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=D5e(v["time-value"])/86400,n.cellDates&&(x.t="d",x.v=_N(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(g=pr(v["string-value"]),w=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(Q=!1,x.t==="s"&&(x.v=g||"",w.length&&(x.R=w),Q=b==0),F.Target&&(x.l=F),O.length>0&&(x.c=O,O=[]),g&&n.cellText!==!1&&(x.w=g),Q&&(x.t="z",delete x.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=T))for(var he=0;he<M;++he){if(U=parseInt(v["number-columns-repeated"]||"1",10),n.dense)for(y[T+he]||(y[T+he]=[]),y[T+he][k]=he==0?x:Us(x);--U>0;)y[T+he][k+U]=Us(x);else for(y[xn({r:T+he,c:k})]=x;--U>0;)y[xn({r:T+he,c:k+U})]=Us(x);_.e.c<=k&&(_.e.c=k)}U=parseInt(v["number-columns-repeated"]||"1",10),k+=U-1,U=0,x={},g="",w=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s;P.t=g,w.length&&(P.R=w),P.a=B,O.push(P)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);B="",K=0,g="",b=0,w=[];break;case"creator":m[1]==="/"?B=r.slice(K,m.index):K=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);g="",b=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(C[l.name]=c,(s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&(c="",l=fn(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=fn(m[0],!1),c+=A9[m[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=fn(m[0],!1),c+=A9[m[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":o=fn(m[0],!1),W=xA(o["cell-range-address"]);var be={Name:o.name,Ref:W[0]+"!"+W[1]};L&&(be.Sheet=p.length),G.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!v||!v["string-value"])){var Oe=xMe(r.slice(b,m.index));g=(g.length>0?g+`
`:"")+Oe[0]}else fn(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{W=xA(fn(m[0])["target-range-address"]),h[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(F=fn(m[0],!1),!F.href)break;F.Target=pr(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(W=xA(F.Target.slice(1)),F.Target="#"+W[0]+"!"+W[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(m)}}var Z={Sheets:h,SheetNames:p,Workbook:G};return n.bookSheets&&delete Z.Sheets,Z}function C9(e,t){t=t||{},pl(e,"META-INF/manifest.xml")&&RRe(Bi(e,"META-INF/manifest.xml"),t);var n=Wo(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=Dee(qr(n),t);return pl(e,"meta.xml")&&(r.Props=WJ(Bi(e,"meta.xml"))),r}function D9(e,t){return Dee(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function vR(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function u4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):qr(Rm(e))}function d4(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function j9(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function yMe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function L1(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function cs(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function da(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=L1(e,n),s=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(s){case 0:{for(var c=n[0];e[n[0]++]>=128;);l=e.slice(c,n[0])}break;case 5:o=4,l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=L1(e,n),l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:l,type:s};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function bR(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function vMe(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=L1(e,r),s=da(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:cs(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=da(l.data),u=cs(c[3][0].data);o.messages.push({meta:c,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=cs(s[3][0].data)>>>0>0),n.push(o)}return n}function bMe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=L1(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[n[0]],l>1&&(o|=t[n[0]+1]<<8),l>2&&(o|=t[n[0]+2]<<16),l>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[n[0]]>>2&7)+4,c=(t[n[0]++]&224)<<3,c|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,s==2?(c=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(c=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[d4(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=d4(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function wMe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(bMe(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return d4(t)}function _Me(e,t,n,r){var i=vR(e),s=i.getUint32(4,!0),o=(r>1?12:8)+j9(s&(r>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=i.getUint32(o,!0),o+=4),o+=j9(s&(r>1?12288:4096))*4,s&16&&(c=i.getUint32(o,!0),o+=4),s&32&&(u=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:n[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function TMe(e,t,n){var r=vR(e),i=r.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(c=yMe(e,s),s+=16),i&2&&(u=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(l=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function EMe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return _Me(e,t,n,e[0]);case 5:return TMe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function th(e){var t=da(e);return L1(t[1][0].data)}function I9(e,t){var n=da(t.data),r=cs(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var l=da(o.data),c=cs(l[1][0].data)>>>0;switch(r){case 1:s[c]=u4(l[3][0].data);break;case 8:{var u=e[th(l[9][0].data)][0],d=da(u.data),f=e[th(d[1][0].data)][0],h=cs(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=da(f.data);s[c]=p[3].map(function(y){return u4(y.data)}).join("")}break}}),s}function NMe(e,t){var n,r,i,s,o,l,c,u,d,f,h,p,y,m,x=da(e),v=cs(x[1][0].data)>>>0,g=cs(x[2][0].data)>>>0,b=((r=(n=x[8])==null?void 0:n[0])==null?void 0:r.data)&&cs(x[8][0].data)>0||!1,w,T;if((s=(i=x[7])==null?void 0:i[0])!=null&&s.data&&t!=0)w=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,T=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)w=(p=(h=x[4])==null?void 0:h[0])==null?void 0:p.data,T=(m=(y=x[3])==null?void 0:y[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=b?4:1,_=vR(w),N=[],C=0;C<w.length/2;++C){var I=_.getUint16(C*2,!0);I<65535&&N.push([C,I])}if(N.length!=g)throw"Expected ".concat(g," cells, found ").concat(N.length);var j=[];for(C=0;C<N.length-1;++C)j[N[C][0]]=T.subarray(N[C][1]*k,N[C+1][1]*k);return N.length>=1&&(j[N[N.length-1][0]]=T.subarray(N[N.length-1][1]*k)),{R:v,cells:j}}function SMe(e,t){var n,r=da(t.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?cs(r[7][0].data)>>>0>0?1:0:-1,s=bR(r[5],function(o){return NMe(o,i)});return{nrows:cs(r[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function kMe(e,t,n){var r,i=da(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(cs(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(cs(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=ur(s);var o=da(i[4][0].data),l=I9(e,e[th(o[4][0].data)][0]),c=(r=o[17])!=null&&r[0]?I9(e,e[th(o[17][0].data)][0]):[],u=da(o[3][0].data),d=0;u[1].forEach(function(f){var h=da(f.data),p=e[th(h[2][0].data)][0],y=cs(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var m=SMe(e,p);m.data.forEach(function(x,v){x.forEach(function(g,b){var w=xn({r:d+v,c:b}),T=EMe(g,l,c);T&&(n[w]=T)})}),d+=m.nrows})}function AMe(e,t){var n=da(t.data),r={"!ref":"A1"},i=e[th(n[2][0].data)],s=cs(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return kMe(e,i[0],r),r}function CMe(e,t){var n,r=da(t.data),i={name:(n=r[1])!=null&&n[0]?u4(r[1][0].data):"",sheets:[]},s=bR(r[2],th);return s.forEach(function(o){e[o].forEach(function(l){var c=cs(l.meta[1][0].data);c==6e3&&i.sheets.push(AMe(e,l))})}),i}function DMe(e,t){var n=TR(),r=da(t.data),i=bR(r[1],th);if(i.forEach(function(s){e[s].forEach(function(o){var l=cs(o.meta[1][0].data);if(l==2){var c=CMe(e,o);c.sheets.forEach(function(u,d){ER(n,u,d==0?c.name:c.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function vA(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=wMe(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=vMe(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((i=(r=(n=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&cs(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=cs(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return DMe(s,l)}function jMe(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function wR(e){jMe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function IMe(e){return Vg.WS.indexOf(e)>-1?"sheet":e==Vg.CS?"chart":e==Vg.DS?"dialog":e==Vg.MS?"macro":e&&e.length?e:"sheet"}function RMe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,IMe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function PMe(e,t,n,r,i,s,o,l,c,u,d,f){try{s[r]=kv(Wo(e,n,!0),t);var h=Bi(e,t),p;switch(l){case"sheet":p=BLe(h,t,i,c,s[r],u,d,f);break;case"chart":if(p=VLe(h,t,i,c,s[r],u,d,f),!p||!p["!drawel"])break;var y=Zy(p["!drawel"].Target,t),m=s4(y),x=UFe(Wo(e,y,!0),kv(Wo(e,m,!0),y)),v=Zy(x,y),g=s4(v);p=TLe(Wo(e,v,!0),v,c,kv(Wo(e,g,!0),v),u,p);break;case"macro":p=qLe(h,t,i,c,s[r],u,d,f);break;case"dialog":p=WLe(h,t,i,c,s[r],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[r]=p;var b=[];s&&s[r]&&bu(s[r]).forEach(function(w){var T="";if(s[r][w].Type==Vg.CMNT){T=Zy(s[r][w].Target,t);var k=GLe(Bi(e,T,!0),T,c);if(!k||!k.length)return;x9(p,k,!1)}s[r][w].Type==Vg.TCMNT&&(T=Zy(s[r][w].Target,t),b=b.concat(VFe(Bi(e,T,!0),c)))}),b&&b.length&&x9(p,b,!0,c.people||[])}catch(w){if(c.WTF)throw w}}function ul(e){return e.charAt(0)=="/"?e.slice(1):e}function OMe(e,t){if(pJ(),t=t||{},wR(t),pl(e,"META-INF/manifest.xml")||pl(e,"objectdata.xml"))return C9(e,t);if(pl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof vA<"u"){if(e.FileIndex)return vA(e);var n=cr.utils.cfb_new();return zU(e).forEach(function(R){F5e(n,R,O5e(e,R))}),vA(n)}throw new Error("Unsupported NUMBERS file")}if(!pl(e,"[Content_Types].xml"))throw pl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):pl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=zU(e),i=jRe(Wo(e,"[Content_Types].xml")),s=!1,o,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",Bi(e,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!Bi(e,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Dv=[],i.sst)try{Dv=HLe(Bi(e,ul(i.sst)),i.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&i.themes.length&&(c=$Le(Wo(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=zLe(Bi(e,ul(i.style)),i.style,c,t))}i.links.map(function(R){try{var M=kv(Wo(e,s4(ul(R))),R);return KLe(Bi(e,ul(R)),M,R,t)}catch{}});var d=ULe(Bi(e,ul(i.workbooks[0])),i.workbooks[0],t),f={},h="";i.coreprops.length&&(h=Bi(e,ul(i.coreprops[0]),!0),h&&(f=WJ(h)),i.extprops.length!==0&&(h=Bi(e,ul(i.extprops[0]),!0),h&&FRe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(h=Wo(e,ul(i.custprops[0]),!0),h&&(p=MRe(h,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(M){return M.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var m={};t.bookDeps&&i.calcchain&&(m=QLe(Bi(e,ul(i.calcchain)),i.calcchain));var x=0,v={},g,b;{var w=d.Sheets;f.Worksheets=w.length,f.SheetNames=[];for(var T=0;T!=w.length;++T)f.SheetNames[T]=w[T].name}var k=s?"bin":"xml",_=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,_+1)+"_rels/"+i.workbooks[0].slice(_+1)+".rels").replace(/^\//,"");pl(e,N)||(N="xl/_rels/workbook."+k+".rels");var C=kv(Wo(e,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=XLe(Bi(e,ul(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=qFe(Bi(e,ul(i.people[0])),t)),C&&(C=RMe(C,d.Sheets));var I=Bi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var j="sheet";if(C&&C[x]?(g="xl/"+C[x][1].replace(/[\/]?xl\//,""),pl(e,g)||(g=C[x][1]),pl(e,g)||(g=N.replace(/_rels\/.*$/,"")+C[x][1]),j=C[x][2]):(g="xl/worksheets/sheet"+(x+1-I)+"."+k,g=g.replace(/sheet0\./,"sheet.")),b=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==x&&(E=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==f.SheetNames[x].toLowerCase()&&(E=1);if(!E)continue e}}PMe(e,g,b,f.SheetNames[x],x,v,o,j,t,d,c,u)}return y={Directory:i,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:o,SheetNames:f.SheetNames,Strings:Dv,Styles:u,Themes:c,SSF:Us(En)},t&&t.bookFiles&&(e.files?(y.keys=r,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(R,M){R=R.replace(/^Root Entry[\/]/,""),y.keys.push(R),y.files[R]=e.FileIndex[M]}))),t&&t.bookVBA&&(i.vba.length>0?y.vbaraw=Bi(e,ul(i.vba[0]),!0):i.defaults&&i.defaults.bin===HFe&&(y.vbaraw=Bi(e,"xl/vbaProject.bin",!0))),y}function FMe(e,t){var n=t||{},r="Workbook",i=cr.find(e,r);try{if(r="/!DataSpaces/Version",i=cr.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(AOe(i.content),r="/!DataSpaces/DataSpaceMap",i=cr.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=DOe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=cr.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=jOe(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=cr.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);ROe(i.content)}catch{}if(r="/EncryptionInfo",i=cr.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=POe(i.content);if(r="/EncryptedPackage",i=cr.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,n.password||"",n);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function _R(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=el(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function LMe(e,t){return cr.find(e,"EncryptedPackage")?FMe(e,t):kee(e,t)}function MMe(e,t){var n,r=e,i=t||{};return i.type||(i.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n=bJ(r,i),OMe(n,i)}function jee(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return l4(e.slice(n),t);default:break e}return P1.to_workbook(e,t)}function UMe(e,t){var n="",r=_R(e,t);switch(t.type){case"base64":n=el(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=um(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=qr(n)),t.type="binary",jee(n,t)}function BMe(e,t){var n=e;return t.type=="base64"&&(n=el(n)),n=D1.utils.decode(1200,n.slice(2),"str"),t.type="binary",jee(n,t)}function VMe(e){return e.match(/[^\x00-\x7F]/)?Jy(e):e}function bA(e,t,n,r){return r?(n.type="string",P1.to_workbook(e,n)):P1.to_workbook(t,n)}function kT(e,t){nJ();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return kT(new Uint8Array(e),(n=Us(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),a0={},n.dateNF&&(a0.dateNF=n.dateNF),n.type||(n.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=tr?"buffer":"binary",r=A5e(e),typeof Uint8Array<"u"&&!tr&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=VMe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return n=Us(n),n.type="array",kT(eR(r),n)}switch((i=_R(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return LMe(cr.read(r,n),n);break;case 9:if(i[1]<=8)return kee(r,n);break;case 60:return l4(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return mOe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return hOe.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?MMe(r,n):bA(e,r,n,s);case 239:return i[3]===60?l4(r,n):bA(e,r,n,s);case 255:if(i[1]===254)return BMe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Cv.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Cv.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return g9.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return HOe.to_workbook(r,n);break;case 10:case 13:case 32:return UMe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return dOe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?g9.to_workbook(r,n):bA(e,r,n,s)}function qMe(e,t,n,r,i,s,o,l){var c=Bs(n),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!o||e[n])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[n][p]:e[r[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var m=y.v;switch(y.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[p]!=null){if(m==null)if(y.t=="e"&&m===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&m===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?m:Ed(y,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function f4(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof d){case"string":c=bi(d);break;case"number":c=bi(e["!ref"]),c.s.r=d;break;default:c=d}r>0&&(i=0);var f=Bs(c.s.r),h=[],p=[],y=0,m=0,x=Array.isArray(e),v=c.s.r,g=0,b={};x&&!e[v]&&(e[v]=[]);var w=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(g=c.s.c;g<=c.e.c;++g)if(!(w[g]||{}).hidden)switch(h[g]=ls(g),n=x?e[v][g]:e[h[g]+f],r){case 1:s[g]=g-c.s.c;break;case 2:s[g]=h[g];break;case 3:s[g]=u.header[g-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=Ed(n,null,u),m=b[o]||0,!m)b[o]=1;else{do l=o+"_"+m++;while(b[l]);b[o]=m,b[l]=1}s[g]=l}for(v=c.s.r+i;v<=c.e.r;++v)if(!(T[v]||{}).hidden){var k=qMe(e,c,v,h,r,s,x,u);(k.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=k.row)}return p.length=y,p}var R9=/"/g;function WMe(e,t,n,r,i,s,o,l){for(var c=!0,u=[],d="",f=Bs(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var p=l.dense?(e[n]||[])[h]:e[r[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Ed(p,null,l));for(var y=0,m=0;y!==d.length;++y)if((m=d.charCodeAt(y))===i||m===s||m===34||l.forceQuotes){d='"'+d.replace(R9,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(R9,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function Iee(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=bi(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(h[y]||{}).hidden||(f[y]=ls(y));for(var m=0,x=i.s.r;x<=i.e.r;++x)(p[x]||{}).hidden||(d=WMe(e,i,x,f,o,c,s,r),d!=null&&(r.strip&&(d=d.replace(u,"")),(d||r.blankrows!==!1)&&n.push((m++?l:"")+d)));return delete r.dense,n.join("")}function zMe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=Iee(e,t);return n}function $Me(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=bi(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=i.s.c;l<=i.e.c;++l)o[l]=ls(l);for(var d=i.s.r;d<=i.e.r;++d)for(s=Bs(d),l=i.s.c;l<=i.e.c;++l)if(t=o[l]+s,n=u?(e[d]||[])[l]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=t+"="+r}return c}function Ree(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,l=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Wa(r.origin):r.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(s["!ref"]){var f=bi(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+i)}else o==-1&&(o=0,d.e.r=t.length-1+i);var h=r.header||[],p=0;t.forEach(function(m,x){bu(m).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var g=m[v],b="z",w="",T=xn({c:l+p,r:o+x+i});u=M1(s,T),g&&typeof g=="object"&&!(g instanceof Date)?s[T]=g:(typeof g=="number"?b="n":typeof g=="boolean"?b="b":typeof g=="string"?b="s":g instanceof Date?(b="d",r.cellDates||(b="n",g=Ka(g)),w=r.dateNF||En[14]):g===null&&r.nullError&&(b="e",g=0),u?(u.t=b,u.v=g,delete u.w,delete u.R,w&&(u.z=w)):s[T]=u={t:b,v:g},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var y=Bs(o);if(i)for(p=0;p<h.length;++p)s[ls(p+l)+y]={t:"s",v:h[p]};return s["!ref"]=ur(d),s}function HMe(e,t){return Ree(null,e,t)}function M1(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Wa(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?M1(e,xn(t)):M1(e,xn({r:t,c:n||0}))}function GMe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function TR(){return{SheetNames:[],Sheets:{}}}function ER(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(jLe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function QMe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=GMe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function KMe(e,t){return e.z=t,e}function Pee(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function XMe(e,t,n){return Pee(e,"#"+t,n)}function YMe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function ZMe(e,t,n,r){for(var i=typeof t!="string"?t:bi(t),s=typeof t=="string"?t:ur(t),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var c=M1(e,o,l);c.t="n",c.F=s,delete c.v,o==i.s.r&&l==i.s.c&&(c.f=n,r&&(c.D=!0))}return e}var Oee={encode_col:ls,encode_row:Bs,encode_cell:xn,encode_range:ur,decode_col:cR,decode_row:lR,split_cell:uRe,decode_cell:Wa,decode_range:Ex,format_cell:Ed,sheet_add_aoa:MJ,sheet_add_json:Ree,sheet_add_dom:Aee,aoa_to_sheet:Nx,json_to_sheet:HMe,table_to_sheet:Cee,table_to_book:mMe,sheet_to_csv:Iee,sheet_to_txt:zMe,sheet_to_json:f4,sheet_to_html:pMe,sheet_to_formulae:$Me,sheet_to_row_object_array:f4,sheet_get_cell:M1,book_new:TR,book_append_sheet:ER,book_set_sheet_visibility:QMe,cell_set_number_format:KMe,cell_set_hyperlink:Pee,cell_set_internal_link:XMe,cell_add_comment:YMe,sheet_set_array_formula:ZMe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Ul={},NR="1.13.7",P9=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},SN=Array.prototype,SR=Object.prototype,O9=typeof Symbol<"u"?Symbol.prototype:null,JMe=SN.push,qb=SN.slice,U1=SR.toString,eUe=SR.hasOwnProperty,Fee=typeof ArrayBuffer<"u",tUe=typeof DataView<"u",nUe=Array.isArray,F9=Object.keys,L9=Object.create,M9=Fee&&ArrayBuffer.isView,rUe=isNaN,iUe=isFinite,Lee=!{toString:null}.propertyIsEnumerable("toString"),U9=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],sUe=Math.pow(2,53)-1;function Xa(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=r,e.apply(this,s)}}function Ih(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function Mee(e){return e===null}function kR(e){return e===void 0}function AR(e){return e===!0||e===!1||U1.call(e)==="[object Boolean]"}function Uee(e){return!!(e&&e.nodeType===1)}function wa(e){var t="[object "+e+"]";return function(n){return U1.call(n)===t}}const kN=wa("String"),CR=wa("Number"),Bee=wa("Date"),Vee=wa("RegExp"),qee=wa("Error"),DR=wa("Symbol"),jR=wa("ArrayBuffer");var Wee=wa("Function"),aUe=P9.document&&P9.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof aUe!="function"&&(Wee=function(e){return typeof e=="function"||!1});const va=Wee,zee=wa("Object");var $ee=tUe&&(!/\[native code\]/.test(String(DataView))||zee(new DataView(new ArrayBuffer(8)))),IR=typeof Map<"u"&&zee(new Map),oUe=wa("DataView");function lUe(e){return e!=null&&va(e.getInt8)&&jR(e.buffer)}const B1=$ee?lUe:oUe,Rh=nUe||wa("Array");function Ph(e,t){return e!=null&&eUe.call(e,t)}var h4=wa("Arguments");(function(){h4(arguments)||(h4=function(e){return Ph(e,"callee")})})();const AN=h4;function Hee(e){return!DR(e)&&iUe(e)&&!isNaN(parseFloat(e))}function RR(e){return CR(e)&&rUe(e)}function PR(e){return function(){return e}}function Gee(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=sUe}}function Qee(e){return function(t){return t==null?void 0:t[e]}}const AT=Qee("byteLength"),cUe=Gee(AT);var uUe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function dUe(e){return M9?M9(e)&&!B1(e):cUe(e)&&uUe.test(U1.call(e))}const OR=Fee?dUe:PR(!1),Eo=Qee("length");function fUe(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function Kee(e,t){t=fUe(t);var n=U9.length,r=e.constructor,i=va(r)&&r.prototype||SR,s="constructor";for(Ph(e,s)&&!t.contains(s)&&t.push(s);n--;)s=U9[n],s in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}function fs(e){if(!Ih(e))return[];if(F9)return F9(e);var t=[];for(var n in e)Ph(e,n)&&t.push(n);return Lee&&Kee(e,t),t}function Xee(e){if(e==null)return!0;var t=Eo(e);return typeof t=="number"&&(Rh(e)||kN(e)||AN(e))?t===0:Eo(fs(e))===0}function FR(e,t){var n=fs(t),r=n.length;if(e==null)return!r;for(var i=Object(e),s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}function Er(e){if(e instanceof Er)return e;if(!(this instanceof Er))return new Er(e);this._wrapped=e}Er.VERSION=NR;Er.prototype.value=function(){return this._wrapped};Er.prototype.valueOf=Er.prototype.toJSON=Er.prototype.value;Er.prototype.toString=function(){return String(this._wrapped)};function B9(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,AT(e))}var V9="[object DataView]";function p4(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:Yee(e,t,n,r)}function Yee(e,t,n,r){e instanceof Er&&(e=e._wrapped),t instanceof Er&&(t=t._wrapped);var i=U1.call(e);if(i!==U1.call(t))return!1;if($ee&&i=="[object Object]"&&B1(e)){if(!B1(t))return!1;i=V9}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return O9.valueOf.call(e)===O9.valueOf.call(t);case"[object ArrayBuffer]":case V9:return Yee(B9(e),B9(t),n,r)}var s=i==="[object Array]";if(!s&&OR(e)){var o=AT(e);if(o!==AT(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(va(l)&&l instanceof l&&va(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),s){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!p4(e[u],t[u],n,r))return!1}else{var d=fs(e),f;if(u=d.length,fs(t).length!==u)return!1;for(;u--;)if(f=d[u],!(Ph(t,f)&&p4(e[f],t[f],n,r)))return!1}return n.pop(),r.pop(),!0}function Zee(e,t){return p4(e,t)}function Sx(e){if(!Ih(e))return[];var t=[];for(var n in e)t.push(n);return Lee&&Kee(e,t),t}function LR(e){var t=Eo(e);return function(n){if(n==null)return!1;var r=Sx(n);if(Eo(r))return!1;for(var i=0;i<t;i++)if(!va(n[e[i]]))return!1;return e!==tte||!va(n[MR])}}var MR="forEach",Jee="has",UR=["clear","delete"],ete=["get",Jee,"set"],hUe=UR.concat(MR,ete),tte=UR.concat(ete),pUe=["add"].concat(UR,MR,Jee);const nte=IR?LR(hUe):wa("Map"),rte=IR?LR(tte):wa("WeakMap"),ite=IR?LR(pUe):wa("Set"),ste=wa("WeakSet");function Mm(e){for(var t=fs(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function ate(e){for(var t=fs(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function BR(e){for(var t={},n=fs(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function V1(e){var t=[];for(var n in e)va(e[n])&&t.push(n);return t.sort()}function VR(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=e(s),l=o.length,c=0;c<l;c++){var u=o[c];(!t||n[u]===void 0)&&(n[u]=s[u])}return n}}const qR=VR(Sx),X0=VR(fs),WR=VR(Sx,!0);function mUe(){return function(){}}function ote(e){if(!Ih(e))return{};if(L9)return L9(e);var t=mUe();t.prototype=e;var n=new t;return t.prototype=null,n}function lte(e,t){var n=ote(e);return t&&X0(n,t),n}function cte(e){return Ih(e)?Rh(e)?e.slice():qR({},e):e}function ute(e,t){return t(e),e}function zR(e){return Rh(e)?e:[e]}Er.toPath=zR;function Wb(e){return Er.toPath(e)}function $R(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}function HR(e,t,n){var r=$R(e,Wb(t));return kR(r)?n:r}function dte(e,t){t=Wb(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!Ph(e,i))return!1;e=e[i]}return!!n}function CN(e){return e}function fm(e){return e=X0({},e),function(t){return FR(t,e)}}function DN(e){return e=Wb(e),function(t){return $R(t,e)}}function zb(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,s){return e.call(t,r,i,s)};case 4:return function(r,i,s,o){return e.call(t,r,i,s,o)}}return function(){return e.apply(t,arguments)}}function fte(e,t,n){return e==null?CN:va(e)?zb(e,t,n):Ih(e)&&!Rh(e)?fm(e):DN(e)}function jN(e,t){return fte(e,t,1/0)}Er.iteratee=jN;function So(e,t,n){return Er.iteratee!==jN?Er.iteratee(e,t):fte(e,t,n)}function hte(e,t,n){t=So(t,n);for(var r=fs(e),i=r.length,s={},o=0;o<i;o++){var l=r[o];s[l]=t(e[l],l,e)}return s}function GR(){}function pte(e){return e==null?GR:function(t){return HR(e,t)}}function mte(e,t,n){var r=Array(Math.max(0,e));t=zb(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function CT(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Y0=Date.now||function(){return new Date().getTime()};function gte(e){var t=function(s){return e[s]},n="(?:"+fs(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,t):s}}const xte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},yte=gte(xte),gUe=BR(xte),vte=gte(gUe),bte=Er.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var wA=/(.)^/,xUe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},yUe=/\\|'|\r|\n|\u2028|\u2029/g;function vUe(e){return"\\"+xUe[e]}var bUe=/^\s*(\w|\$)+\s*$/;function wte(e,t,n){!t&&n&&(t=n),t=WR({},t,Er.templateSettings);var r=RegExp([(t.escape||wA).source,(t.interpolate||wA).source,(t.evaluate||wA).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(u,d,f,h,p){return s+=e.slice(i,p).replace(yUe,vUe),i=p+u.length,d?s+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),u}),s+=`';
`;var o=t.variable;if(o){if(!bUe.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var l;try{l=new Function(o,"_",s)}catch(u){throw u.source=s,u}var c=function(u){return l.call(this,u,Er)};return c.source="function("+o+`){
`+s+"}",c}function _te(e,t,n){t=Wb(t);var r=t.length;if(!r)return va(n)?n.call(e):n;for(var i=0;i<r;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=n,i=r),e=va(s)?s.call(e):s}return e}var wUe=0;function Tte(e){var t=++wUe+"";return e?e+t:t}function Ete(e){var t=Er(e);return t._chain=!0,t}function Nte(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var s=ote(e.prototype),o=e.apply(s,i);return Ih(o)?o:s}var Um=Xa(function(e,t){var n=Um.placeholder,r=function(){for(var i=0,s=t.length,o=Array(s),l=0;l<s;l++)o[l]=t[l]===n?arguments[i++]:t[l];for(;i<arguments.length;)o.push(arguments[i++]);return Nte(e,r,this,this,o)};return r});Um.placeholder=Er;const QR=Xa(function(e,t,n){if(!va(e))throw new TypeError("Bind must be called on a function");var r=Xa(function(i){return Nte(e,r,t,this,n.concat(i))});return r}),rl=Gee(Eo);function Bm(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,s=0,o=Eo(e);s<o;s++){var l=e[s];if(rl(l)&&(Rh(l)||AN(l)))if(t>1)Bm(l,t-1,n,r),i=r.length;else for(var c=0,u=l.length;c<u;)r[i++]=l[c++];else n||(r[i++]=l)}return r}const Ste=Xa(function(e,t){t=Bm(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=QR(e[r],e)}return e});function kte(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return Ph(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n}const KR=Xa(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),Ate=Um(KR,Er,1);function Cte(e,t,n){var r,i,s,o,l=0;n||(n={});var c=function(){l=n.leading===!1?0:Y0(),r=null,o=e.apply(i,s),r||(i=s=null)},u=function(){var d=Y0();!l&&n.leading===!1&&(l=d);var f=t-(d-l);return i=this,s=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),l=d,o=e.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(c,f)),o};return u.cancel=function(){clearTimeout(r),l=0,r=i=s=null},u}function Dte(e,t,n){var r,i,s,o,l,c=function(){var d=Y0()-i;t>d?r=setTimeout(c,t-d):(r=null,n||(o=e.apply(l,s)),r||(s=l=null))},u=Xa(function(d){return l=this,s=d,i=Y0(),r||(r=setTimeout(c,t),n&&(o=e.apply(l,s))),o});return u.cancel=function(){clearTimeout(r),r=s=l=null},u}function jte(e,t){return Um(t,e)}function IN(e){return function(){return!e.apply(this,arguments)}}function Ite(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Rte(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function XR(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Pte=Um(XR,2);function YR(e,t,n){t=So(t,n);for(var r=fs(e),i,s=0,o=r.length;s<o;s++)if(i=r[s],t(e[i],i,e))return i}function Ote(e){return function(t,n,r){n=So(n,r);for(var i=Eo(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}const RN=Ote(1),ZR=Ote(-1);function JR(e,t,n,r){n=So(n,r,1);for(var i=n(t),s=0,o=Eo(e);s<o;){var l=Math.floor((s+o)/2);n(e[l])<i?s=l+1:o=l}return s}function Fte(e,t,n){return function(r,i,s){var o=0,l=Eo(r);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+l,o):l=s>=0?Math.min(s+1,l):s+l+1;else if(n&&s&&l)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(qb.call(r,o,l),RR),s>=0?s+o:-1;for(s=e>0?o:l-1;s>=0&&s<l;s+=e)if(r[s]===i)return s;return-1}}const eP=Fte(1,RN,JR),Lte=Fte(-1,ZR);function q1(e,t,n){var r=rl(e)?RN:YR,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}function Mte(e,t){return q1(e,fm(t))}function Tc(e,t,n){t=zb(t,n);var r,i;if(rl(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=fs(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e}function Nd(e,t,n){t=So(t,n);for(var r=!rl(e)&&fs(e),i=(r||e).length,s=Array(i),o=0;o<i;o++){var l=r?r[o]:o;s[o]=t(e[l],l,e)}return s}function Ute(e){var t=function(n,r,i,s){var o=!rl(n)&&fs(n),l=(o||n).length,c=e>0?0:l-1;for(s||(i=n[o?o[c]:c],c+=e);c>=0&&c<l;c+=e){var u=o?o[c]:c;i=r(i,n[u],u,n)}return i};return function(n,r,i,s){var o=arguments.length>=3;return t(n,zb(r,s,4),i,o)}}const o0=Ute(1),DT=Ute(-1);function vh(e,t,n){var r=[];return t=So(t,n),Tc(e,function(i,s,o){t(i,s,o)&&r.push(i)}),r}function Bte(e,t,n){return vh(e,IN(So(t)),n)}function jT(e,t,n){t=So(t,n);for(var r=!rl(e)&&fs(e),i=(r||e).length,s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0}function IT(e,t,n){t=So(t,n);for(var r=!rl(e)&&fs(e),i=(r||e).length,s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1}function Cl(e,t,n,r){return rl(e)||(e=Mm(e)),(typeof n!="number"||r)&&(n=0),eP(e,t,n)>=0}const Vte=Xa(function(e,t,n){var r,i;return va(t)?i=t:(t=Wb(t),r=t.slice(0,-1),t=t[t.length-1]),Nd(e,function(s){var o=i;if(!o){if(r&&r.length&&(s=$R(s,r)),s==null)return;o=s[t]}return o==null?o:o.apply(s,n)})});function PN(e,t){return Nd(e,DN(t))}function qte(e,t){return vh(e,fm(t))}function tP(e,t,n){var r=-1/0,i=-1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=rl(e)?e:Mm(e);for(var l=0,c=e.length;l<c;l++)s=e[l],s!=null&&s>r&&(r=s)}else t=So(t,n),Tc(e,function(u,d,f){o=t(u,d,f),(o>i||o===-1/0&&r===-1/0)&&(r=u,i=o)});return r}function Wte(e,t,n){var r=1/0,i=1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=rl(e)?e:Mm(e);for(var l=0,c=e.length;l<c;l++)s=e[l],s!=null&&s<r&&(r=s)}else t=So(t,n),Tc(e,function(u,d,f){o=t(u,d,f),(o<i||o===1/0&&r===1/0)&&(r=u,i=o)});return r}var _Ue=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function nP(e){return e?Rh(e)?qb.call(e):kN(e)?e.match(_Ue):rl(e)?Nd(e,CN):Mm(e):[]}function rP(e,t,n){if(t==null||n)return rl(e)||(e=Mm(e)),e[CT(e.length-1)];var r=nP(e),i=Eo(r);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var l=CT(o,s),c=r[o];r[o]=r[l],r[l]=c}return r.slice(0,t)}function zte(e){return rP(e,1/0)}function $te(e,t,n){var r=0;return t=So(t,n),PN(Nd(e,function(i,s,o){return{value:i,index:r++,criteria:t(i,s,o)}}).sort(function(i,s){var o=i.criteria,l=s.criteria;if(o!==l){if(o>l||o===void 0)return 1;if(o<l||l===void 0)return-1}return i.index-s.index}),"value")}function ON(e,t){return function(n,r,i){var s=t?[[],[]]:{};return r=So(r,i),Tc(n,function(o,l){var c=r(o,l,n);e(s,o,c)}),s}}const Hte=ON(function(e,t,n){Ph(e,n)?e[n].push(t):e[n]=[t]}),Gte=ON(function(e,t,n){e[n]=t}),Qte=ON(function(e,t,n){Ph(e,n)?e[n]++:e[n]=1}),Kte=ON(function(e,t,n){e[n?0:1].push(t)},!0);function Xte(e){return e==null?0:rl(e)?e.length:fs(e).length}function TUe(e,t,n){return t in n}const iP=Xa(function(e,t){var n={},r=t[0];if(e==null)return n;va(r)?(t.length>1&&(r=zb(r,t[1])),t=Sx(e)):(r=TUe,t=Bm(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],l=e[o];r(l,o,e)&&(n[o]=l)}return n}),Yte=Xa(function(e,t){var n=t[0],r;return va(n)?(n=IN(n),t.length>1&&(r=t[1])):(t=Nd(Bm(t,!1,!1),String),n=function(i,s){return!Cl(t,s)}),iP(e,n,r)});function sP(e,t,n){return qb.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}function l0(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:sP(e,e.length-t)}function Ip(e,t,n){return qb.call(e,t==null||n?1:t)}function Zte(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:Ip(e,Math.max(0,e.length-t))}function Jte(e){return vh(e,Boolean)}function ene(e,t){return Bm(e,t,!1)}const aP=Xa(function(e,t){return t=Bm(t,!0,!0),vh(e,function(n){return!Cl(t,n)})}),tne=Xa(function(e,t){return aP(e,t)});function W1(e,t,n,r){AR(t)||(r=n,n=t,t=!1),n!=null&&(n=So(n,r));for(var i=[],s=[],o=0,l=Eo(e);o<l;o++){var c=e[o],u=n?n(c,o,e):c;t&&!n?((!o||s!==u)&&i.push(c),s=u):n?Cl(s,u)||(s.push(u),i.push(c)):Cl(i,c)||i.push(c)}return i}const nne=Xa(function(e){return W1(Bm(e,!0,!0))});function rne(e){for(var t=[],n=arguments.length,r=0,i=Eo(e);r<i;r++){var s=e[r];if(!Cl(t,s)){var o;for(o=1;o<n&&Cl(arguments[o],s);o++);o===n&&t.push(s)}}return t}function z1(e){for(var t=e&&tP(e,Eo).length||0,n=Array(t),r=0;r<t;r++)n[r]=PN(e,r);return n}const ine=Xa(z1);function sne(e,t){for(var n={},r=0,i=Eo(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function ane(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),s=0;s<r;s++,e+=n)i[s]=e;return i}function one(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(qb.call(e,r,r+=t));return n}function oP(e,t){return e._chain?Er(t).chain():t}function lP(e){return Tc(V1(e),function(t){var n=Er[t]=e[t];Er.prototype[t]=function(){var r=[this._wrapped];return JMe.apply(r,arguments),oP(this,n.apply(Er,r))}}),Er}Tc(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=SN[e];Er.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),oP(this,n)}});Tc(["concat","join","slice"],function(e){var t=SN[e];Er.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),oP(this,n)}});const EUe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:NR,after:Rte,all:jT,allKeys:Sx,any:IT,assign:X0,before:XR,bind:QR,bindAll:Ste,chain:Ete,chunk:one,clone:cte,collect:Nd,compact:Jte,compose:Ite,constant:PR,contains:Cl,countBy:Qte,create:lte,debounce:Dte,default:Er,defaults:WR,defer:Ate,delay:KR,detect:q1,difference:aP,drop:Ip,each:Tc,escape:yte,every:jT,extend:qR,extendOwn:X0,filter:vh,find:q1,findIndex:RN,findKey:YR,findLastIndex:ZR,findWhere:Mte,first:l0,flatten:ene,foldl:o0,foldr:DT,forEach:Tc,functions:V1,get:HR,groupBy:Hte,has:dte,head:l0,identity:CN,include:Cl,includes:Cl,indexBy:Gte,indexOf:eP,initial:sP,inject:o0,intersection:rne,invert:BR,invoke:Vte,isArguments:AN,isArray:Rh,isArrayBuffer:jR,isBoolean:AR,isDataView:B1,isDate:Bee,isElement:Uee,isEmpty:Xee,isEqual:Zee,isError:qee,isFinite:Hee,isFunction:va,isMap:nte,isMatch:FR,isNaN:RR,isNull:Mee,isNumber:CR,isObject:Ih,isRegExp:Vee,isSet:ite,isString:kN,isSymbol:DR,isTypedArray:OR,isUndefined:kR,isWeakMap:rte,isWeakSet:ste,iteratee:jN,keys:fs,last:Zte,lastIndexOf:Lte,map:Nd,mapObject:hte,matcher:fm,matches:fm,max:tP,memoize:kte,methods:V1,min:Wte,mixin:lP,negate:IN,noop:GR,now:Y0,object:sne,omit:Yte,once:Pte,pairs:ate,partial:Um,partition:Kte,pick:iP,pluck:PN,property:DN,propertyOf:pte,random:CT,range:ane,reduce:o0,reduceRight:DT,reject:Bte,rest:Ip,restArguments:Xa,result:_te,sample:rP,select:vh,shuffle:zte,size:Xte,some:IT,sortBy:$te,sortedIndex:JR,tail:Ip,take:l0,tap:ute,template:wte,templateSettings:bte,throttle:Cte,times:mte,toArray:nP,toPath:zR,transpose:z1,unescape:vte,union:nne,uniq:W1,unique:W1,uniqueId:Tte,unzip:z1,values:Mm,where:qte,without:tne,wrap:jte,zip:ine},Symbol.toStringTag,{value:"Module"}));var m4=lP(EUe);m4._=m4;const NUe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:NR,after:Rte,all:jT,allKeys:Sx,any:IT,assign:X0,before:XR,bind:QR,bindAll:Ste,chain:Ete,chunk:one,clone:cte,collect:Nd,compact:Jte,compose:Ite,constant:PR,contains:Cl,countBy:Qte,create:lte,debounce:Dte,default:m4,defaults:WR,defer:Ate,delay:KR,detect:q1,difference:aP,drop:Ip,each:Tc,escape:yte,every:jT,extend:qR,extendOwn:X0,filter:vh,find:q1,findIndex:RN,findKey:YR,findLastIndex:ZR,findWhere:Mte,first:l0,flatten:ene,foldl:o0,foldr:DT,forEach:Tc,functions:V1,get:HR,groupBy:Hte,has:dte,head:l0,identity:CN,include:Cl,includes:Cl,indexBy:Gte,indexOf:eP,initial:sP,inject:o0,intersection:rne,invert:BR,invoke:Vte,isArguments:AN,isArray:Rh,isArrayBuffer:jR,isBoolean:AR,isDataView:B1,isDate:Bee,isElement:Uee,isEmpty:Xee,isEqual:Zee,isError:qee,isFinite:Hee,isFunction:va,isMap:nte,isMatch:FR,isNaN:RR,isNull:Mee,isNumber:CR,isObject:Ih,isRegExp:Vee,isSet:ite,isString:kN,isSymbol:DR,isTypedArray:OR,isUndefined:kR,isWeakMap:rte,isWeakSet:ste,iteratee:jN,keys:fs,last:Zte,lastIndexOf:Lte,map:Nd,mapObject:hte,matcher:fm,matches:fm,max:tP,memoize:kte,methods:V1,min:Wte,mixin:lP,negate:IN,noop:GR,now:Y0,object:sne,omit:Yte,once:Pte,pairs:ate,partial:Um,partition:Kte,pick:iP,pluck:PN,property:DN,propertyOf:pte,random:CT,range:ane,reduce:o0,reduceRight:DT,reject:Bte,rest:Ip,restArguments:Xa,result:_te,sample:rP,select:vh,shuffle:zte,size:Xte,some:IT,sortBy:$te,sortedIndex:JR,tail:Ip,take:l0,tap:ute,template:wte,templateSettings:bte,throttle:Cte,times:mte,toArray:nP,toPath:zR,transpose:z1,unescape:vte,union:nne,uniq:W1,unique:W1,uniqueId:Tte,unzip:z1,values:Mm,where:qte,without:tne,wrap:jte,zip:ine},Symbol.toStringTag,{value:"Module"})),Ri=Uie(NUe);var cP={},ks={},lne={exports:{}},Y2={exports:{}},q9;function kx(){if(q9)return Y2.exports;q9=1;var e=function(){return this===void 0}();if(e)Y2.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(d,f){var h=Object.getOwnPropertyDescriptor(d,f);return!!(!h||h.writable||h.set)}};else{var t={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(d){var f=[];for(var h in d)t.call(d,h)&&f.push(h);return f},s=function(d,f){return{value:d[f]}},o=function(d,f,h){return d[f]=h.value,d},l=function(d){return d},c=function(d){try{return Object(d).constructor.prototype}catch{return r}},u=function(d){try{return n.call(d)==="[object Array]"}catch{return!1}};Y2.exports={isArray:u,keys:i,names:i,defineProperty:o,getDescriptor:s,freeze:l,getPrototypeOf:c,isES5:e,propertyIsWritable:function(){return!0}}}return Y2.exports}var _A,W9;function Wr(){if(W9)return _A;W9=1;var e={},t=kx(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof on<"u"||on!==void 0?on:null;function o(){try{var B=i;return i=null,B.apply(this,arguments)}catch(K){return r.e=K,r}}function l(B){return i=B,o}var c=function(B,K){var Q={}.hasOwnProperty;function L(){this.constructor=B,this.constructor$=K;for(var ee in K.prototype)Q.call(K.prototype,ee)&&ee.charAt(ee.length-1)!=="$"&&(this[ee+"$"]=K.prototype[ee])}return L.prototype=K.prototype,B.prototype=new L,B.prototype};function u(B){return B==null||B===!0||B===!1||typeof B=="string"||typeof B=="number"}function d(B){return typeof B=="function"||typeof B=="object"&&B!==null}function f(B){return u(B)?new Error(_(B)):B}function h(B,K){var Q=B.length,L=new Array(Q+1),ee;for(ee=0;ee<Q;++ee)L[ee]=B[ee];return L[ee]=K,L}function p(B,K,Q){if(t.isES5){var L=Object.getOwnPropertyDescriptor(B,K);if(L!=null)return L.get==null&&L.set==null?L.value:Q}else return{}.hasOwnProperty.call(B,K)?B[K]:void 0}function y(B,K,Q){if(u(B))return B;var L={value:Q,configurable:!0,enumerable:!1,writable:!0};return t.defineProperty(B,K,L),B}function m(B){throw B}var x=function(){var B=[Array.prototype,Object.prototype,Function.prototype],K=function(ee){for(var ge=0;ge<B.length;++ge)if(B[ge]===ee)return!0;return!1};if(t.isES5){var Q=Object.getOwnPropertyNames;return function(ee){for(var ge=[],he=Object.create(null);ee!=null&&!K(ee);){var be;try{be=Q(ee)}catch{return ge}for(var Oe=0;Oe<be.length;++Oe){var Z=be[Oe];if(!he[Z]){he[Z]=!0;var Ie=Object.getOwnPropertyDescriptor(ee,Z);Ie!=null&&Ie.get==null&&Ie.set==null&&ge.push(Z)}}ee=t.getPrototypeOf(ee)}return ge}}else{var L={}.hasOwnProperty;return function(ee){if(K(ee))return[];var ge=[];e:for(var he in ee)if(L.call(ee,he))ge.push(he);else{for(var be=0;be<B.length;++be)if(L.call(B[be],he))continue e;ge.push(he)}return ge}}}(),v=/this\s*\.\s*\S+\s*=/;function g(B){try{if(typeof B=="function"){var K=t.names(B.prototype),Q=t.isES5&&K.length>1,L=K.length>0&&!(K.length===1&&K[0]==="constructor"),ee=v.test(B+"")&&t.names(B).length>0;if(Q||L||ee)return!0}return!1}catch{return!1}}function b(B){return B}var w=/^[a-z$_][a-z$_0-9]*$/i;function T(B){return w.test(B)}function k(B,K,Q){for(var L=new Array(B),ee=0;ee<B;++ee)L[ee]=K+ee+Q;return L}function _(B){try{return B+""}catch{return"[no string representation]"}}function N(B){return B!==null&&typeof B=="object"&&typeof B.message=="string"&&typeof B.name=="string"}function C(B){try{y(B,"isOperational",!0)}catch{}}function I(B){return B==null?!1:B instanceof Error.__BluebirdErrorTypes__.OperationalError||B.isOperational===!0}function j(B){return N(B)&&t.propertyIsWritable(B,"stack")}var E=function(){return"stack"in new Error?function(B){return j(B)?B:new Error(_(B))}:function(B){if(j(B))return B;try{throw new Error(_(B))}catch(K){return K}}}();function D(B){return{}.toString.call(B)}function R(B,K,Q){for(var L=t.names(B),ee=0;ee<L.length;++ee){var ge=L[ee];if(Q(ge))try{t.defineProperty(K,ge,t.getDescriptor(B,ge))}catch{}}}var M=function(B){return t.isArray(B)?B:null};if(typeof Symbol<"u"&&Symbol.iterator){var U=typeof Array.from=="function"?function(B){return Array.from(B)}:function(B){for(var K=[],Q=B[Symbol.iterator](),L;!(L=Q.next()).done;)K.push(L.value);return K};M=function(B){return t.isArray(B)?B:B!=null&&typeof B[Symbol.iterator]=="function"?U(B):null}}var z=typeof process<"u"&&D(process).toLowerCase()==="[object process]",G=typeof process<"u"&&typeof e<"u";function F(B){return G?e[B]:void 0}function W(){if(typeof Promise=="function")try{var B=new Promise(function(){});if({}.toString.call(B)==="[object Promise]")return Promise}catch{}}function O(B,K){return B.bind(K)}var P={isClass:g,isIdentifier:T,inheritedDataKeys:x,getDataPropertyOrDefault:p,thrower:m,isArray:t.isArray,asArray:M,notEnumerableProp:y,isPrimitive:u,isObject:d,isError:N,canEvaluate:n,errorObj:r,tryCatch:l,inherits:c,withAppended:h,maybeWrapAsError:f,toFastProperties:b,filledRange:k,toString:_,canAttachTrace:j,ensureErrorObject:E,originatesFromRejection:I,markAsOriginatingFromRejection:C,classString:D,copyDescriptors:R,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:z,hasEnvVariables:G,env:F,global:s,getNativePromise:W,domainBind:O};P.isRecentNode=P.isNode&&function(){var B=process.versions.node.split(".").map(Number);return B[0]===0&&B[1]>10||B[0]>0}(),P.isNode&&P.toFastProperties(process);try{throw new Error}catch(B){P.lastLineError=B}return _A=P,_A}var Z2={exports:{}},TA,z9;function SUe(){if(z9)return TA;z9=1;var e=Wr(),t,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=e.getNativePromise();if(e.isNode&&typeof MutationObserver>"u"){var i=on.setImmediate,s=process.nextTick;t=e.isRecentNode?function(l){i.call(on,l)}:function(l){s.call(process,l)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var o=r.resolve();t=function(l){o.then(l)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?t=function(){var l=document.createElement("div"),c={attributes:!0},u=!1,d=document.createElement("div"),f=new MutationObserver(function(){l.classList.toggle("foo"),u=!1});f.observe(d,c);var h=function(){u||(u=!0,d.classList.toggle("foo"))};return function(y){var m=new MutationObserver(function(){m.disconnect(),y()});m.observe(l,c),h()}}():typeof setImmediate<"u"?t=function(l){setImmediate(l)}:typeof setTimeout<"u"?t=function(l){setTimeout(l,0)}:t=n;return TA=t,TA}var EA,$9;function kUe(){if($9)return EA;$9=1;function e(n,r,i,s,o){for(var l=0;l<o;++l)i[l+s]=n[l+r],n[l+r]=void 0}function t(n){this._capacity=n,this._length=0,this._front=0}return t.prototype._willBeOverCapacity=function(n){return this._capacity<n},t.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},t.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var o=this._front+s-3;this._checkCapacity(s);var l=this._capacity-1;this[o+0&l]=n,this[o+1&l]=r,this[o+2&l]=i,this._length=s},t.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},t.prototype.length=function(){return this._length},t.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},t.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,o=i+s&r-1;e(this,0,this,r,o)},EA=t,EA}var H9;function AUe(){if(H9)return Z2.exports;H9=1;var e;try{throw new Error}catch(c){e=c}var t=SUe(),n=kUe(),r=Wr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=t}i.prototype.setScheduler=function(c){var u=this._schedule;return this._schedule=c,this._customScheduler=!0,u},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(c,u){u?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},i.prototype.throwLater=function(c,u){if(arguments.length===1&&(u=c,c=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){c(u)},0);else try{this._schedule(function(){c(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(c,u,d){this._lateQueue.push(c,u,d),this._queueTick()}function o(c,u,d){this._normalQueue.push(c,u,d),this._queueTick()}function l(c){this._normalQueue._pushOne(c),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(c,u,d){this._trampolineEnabled?s.call(this,c,u,d):this._schedule(function(){setTimeout(function(){c.call(u,d)},100)})},i.prototype.invoke=function(c,u,d){this._trampolineEnabled?o.call(this,c,u,d):this._schedule(function(){c.call(u,d)})},i.prototype.settlePromises=function(c){this._trampolineEnabled?l.call(this,c):this._schedule(function(){c._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=o,i.prototype.settlePromises=l),i.prototype._drainQueue=function(c){for(;c.length()>0;){var u=c.shift();if(typeof u!="function"){u._settlePromises();continue}var d=c.shift(),f=c.shift();u.call(d,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Z2.exports=i,Z2.exports.firstLineError=e,Z2.exports}var NA,G9;function bh(){if(G9)return NA;G9=1;var e=kx(),t=e.freeze,n=Wr(),r=n.inherits,i=n.notEnumerableProp;function s(v,g){function b(w){if(!(this instanceof b))return new b(w);i(this,"message",typeof w=="string"?w:g),i(this,"name",v),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(b,Error),b}var o,l,c=s("Warning","warning"),u=s("CancellationError","cancellation error"),d=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{o=TypeError,l=RangeError}catch{o=s("TypeError","type error"),l=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);e.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var y=0;f.prototype.toString=function(){var v=Array(y*4+1).join(" "),g=`
`+v+`AggregateError of:
`;y++,v=Array(y*4+1).join(" ");for(var b=0;b<this.length;++b){for(var w=this[b]===this?"[Circular AggregateError]":this[b]+"",T=w.split(`
`),k=0;k<T.length;++k)T[k]=v+T[k];w=T.join(`
`),g+=w+`
`}return y--,g};function m(v){if(!(this instanceof m))return new m(v);i(this,"name","OperationalError"),i(this,"message",v),this.cause=v,this.isOperational=!0,v instanceof Error?(i(this,"message",v.message),i(this,"stack",v.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(m,Error);var x=Error.__BluebirdErrorTypes__;return x||(x=t({CancellationError:u,TimeoutError:d,OperationalError:m,RejectionError:m,AggregateError:f}),e.defineProperty(Error,"__BluebirdErrorTypes__",{value:x,writable:!1,enumerable:!1,configurable:!1})),NA={Error,TypeError:o,RangeError:l,CancellationError:x.CancellationError,OperationalError:x.OperationalError,TimeoutError:x.TimeoutError,AggregateError:x.AggregateError,Warning:c},NA}var SA,Q9;function CUe(){return Q9||(Q9=1,SA=function(e,t){var n=Wr(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof e)return f;var p=l(f);if(p===r){h&&h._pushContext();var y=e.reject(p.e);return h&&h._popContext(),y}else if(typeof p=="function"){if(u(f)){var y=new e(t);return f._then(y._fulfill,y._reject,void 0,y,null),y}return d(f,p,h)}}return f}function o(f){return f.then}function l(f){try{return o(f)}catch(h){return r.e=h,r}}var c={}.hasOwnProperty;function u(f){try{return c.call(f,"_promise0")}catch{return!1}}function d(f,h,p){var y=new e(t),m=y;p&&p._pushContext(),y._captureStackTrace(),p&&p._popContext();var x=!0,v=n.tryCatch(h).call(f,g,b);x=!1,y&&v===r&&(y._rejectCallback(v.e,!0,!0),y=null);function g(w){y&&(y._resolveCallback(w),y=null)}function b(w){y&&(y._rejectCallback(w,x,!0),y=null)}return m}return s}),SA}var kA,K9;function DUe(){return K9||(K9=1,kA=function(e,t,n,r,i){var s=Wr();s.isArray;function o(c){switch(c){case-2:return[];case-3:return{}}}function l(c){var u=this._promise=new e(t);c instanceof e&&u._propagateFrom(c,3),u._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(l,i),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function c(u,d){var f=n(this._values,this._promise);if(f instanceof e){f=f._target();var h=f._bitField;if(this._values=f,h&50397184)if(h&33554432)f=f._value();else return h&16777216?this._reject(f._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),f._then(c,this._reject,void 0,this,d)}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){d===-5?this._resolveEmptyArray():this._resolve(o(d));return}this._iterate(f)},l.prototype._iterate=function(c){var u=this.getActualLength(c.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var d=this._promise,f=!1,h=null,p=0;p<u;++p){var y=n(c[p],d);y instanceof e?(y=y._target(),h=y._bitField):h=null,f?h!==null&&y.suppressUnhandledRejections():h!==null?h&50397184?h&33554432?f=this._promiseFulfilled(y._value(),p):h&16777216?f=this._promiseRejected(y._reason(),p):f=this._promiseCancelled(p):(y._proxy(this,p),this._values[p]=y):f=this._promiseFulfilled(y,p)}f||d._setAsyncGuaranteed()},l.prototype._isResolved=function(){return this._values===null},l.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},l.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},l.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},l.prototype._promiseFulfilled=function(c,u){this._values[u]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof e)c.cancel();else for(var u=0;u<c.length;++u)c[u]instanceof e&&c[u].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(c){return c},l}),kA}var AA,X9;function jUe(){return X9||(X9=1,AA=function(e){var t=!1,n=[];e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var o=n.pop(),l=o._promiseCreated;return o._promiseCreated=null,l}return null};function i(){if(t)return new r}function s(){var o=n.length-1;if(o>=0)return n[o]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var o=e.prototype._pushContext,l=e.prototype._popContext,c=e._peekContext,u=e.prototype._peekContext,d=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=o,e.prototype._popContext=l,e._peekContext=c,e.prototype._peekContext=u,e.prototype._promiseCreated=d,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=s,e.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),AA}var CA,Y9;function IUe(){return Y9||(Y9=1,CA=function(e,t){var n=e._getDomain,r=e._async,i=bh().Warning,s=Wr(),o=s.canAttachTrace,l,c,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,y=!1,m,x=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),v=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(x||s.env("BLUEBIRD_WARNINGS"))),g=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(x||s.env("BLUEBIRD_LONG_STACK_TRACES"))),b=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(v||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var oe=this._target();oe._bitField=oe._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){Z("rejectionHandled",l,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var oe=this._settledValue();this._setUnhandledRejectionIsNotified(),Z("unhandledRejection",c,oe,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},e.prototype._warn=function(oe,ae,fe){return K(oe,ae,fe||this)},e.onPossiblyUnhandledRejection=function(oe){var ae=n();c=typeof oe=="function"?ae===null?oe:s.domainBind(ae,oe):void 0},e.onUnhandledRejectionHandled=function(oe){var ae=n();l=typeof oe=="function"?ae===null?oe:s.domainBind(ae,oe):void 0};var w=function(){};e.longStackTraces=function(){if(r.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!te.longStackTraces&&ke()){var oe=e.prototype._captureStackTrace,ae=e.prototype._attachExtraTrace;te.longStackTraces=!0,w=function(){if(r.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);e.prototype._captureStackTrace=oe,e.prototype._attachExtraTrace=ae,t.deactivateLongStackTraces(),r.enableTrampoline(),te.longStackTraces=!1},e.prototype._captureStackTrace=W,e.prototype._attachExtraTrace=O,t.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return te.longStackTraces&&ke()};var T=function(){try{if(typeof CustomEvent=="function"){var oe=new CustomEvent("CustomEvent");return s.global.dispatchEvent(oe),function(ae,fe){var Ae=new CustomEvent(ae.toLowerCase(),{detail:fe,cancelable:!0});return!s.global.dispatchEvent(Ae)}}else if(typeof Event=="function"){var oe=new Event("CustomEvent");return s.global.dispatchEvent(oe),function(fe,Ae){var Me=new Event(fe.toLowerCase(),{cancelable:!0});return Me.detail=Ae,!s.global.dispatchEvent(Me)}}else{var oe=document.createEvent("CustomEvent");return oe.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(oe),function(fe,Ae){var Me=document.createEvent("CustomEvent");return Me.initCustomEvent(fe.toLowerCase(),!1,!0,Ae),!s.global.dispatchEvent(Me)}}}catch{}return function(){return!1}}(),k=function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(oe){var ae="on"+oe.toLowerCase(),fe=s.global[ae];return fe?(fe.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function _(oe,ae){return{promise:ae}}var N={promiseCreated:_,promiseFulfilled:_,promiseRejected:_,promiseResolved:_,promiseCancelled:_,promiseChained:function(oe,ae,fe){return{promise:ae,child:fe}},warning:function(oe,ae){return{warning:ae}},unhandledRejection:function(oe,ae,fe){return{reason:ae,promise:fe}},rejectionHandled:_},C=function(oe){var ae=!1;try{ae=k.apply(null,arguments)}catch(Ae){r.throwLater(Ae),ae=!0}var fe=!1;try{fe=T(oe,N[oe].apply(null,arguments))}catch(Ae){r.throwLater(Ae),fe=!0}return fe||ae};e.config=function(oe){if(oe=Object(oe),"longStackTraces"in oe&&(oe.longStackTraces?e.longStackTraces():!oe.longStackTraces&&e.hasLongStackTraces()&&w()),"warnings"in oe){var ae=oe.warnings;te.warnings=!!ae,b=te.warnings,s.isObject(ae)&&"wForgottenReturn"in ae&&(b=!!ae.wForgottenReturn)}if("cancellation"in oe&&oe.cancellation&&!te.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=M,e.prototype._propagateFrom=U,e.prototype._onCancel=D,e.prototype._setOnCancel=R,e.prototype._attachCancellationCallback=E,e.prototype._execute=j,G=U,te.cancellation=!0}return"monitoring"in oe&&(oe.monitoring&&!te.monitoring?(te.monitoring=!0,e.prototype._fireEvent=C):!oe.monitoring&&te.monitoring&&(te.monitoring=!1,e.prototype._fireEvent=I)),e};function I(){return!1}e.prototype._fireEvent=I,e.prototype._execute=function(oe,ae,fe){try{oe(ae,fe)}catch(Ae){return Ae}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(oe){},e.prototype._attachCancellationCallback=function(oe){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(oe,ae){};function j(oe,ae,fe){var Ae=this;try{oe(ae,fe,function(Me){if(typeof Me!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Me));Ae._attachCancellationCallback(Me)})}catch(Me){return Me}}function E(oe){if(!this._isCancellable())return this;var ae=this._onCancel();ae!==void 0?s.isArray(ae)?ae.push(oe):this._setOnCancel([ae,oe]):this._setOnCancel(oe)}function D(){return this._onCancelField}function R(oe){this._onCancelField=oe}function M(){this._cancellationParent=void 0,this._onCancelField=void 0}function U(oe,ae){if(ae&1){this._cancellationParent=oe;var fe=oe._branchesRemainingToCancel;fe===void 0&&(fe=0),oe._branchesRemainingToCancel=fe+1}ae&2&&oe._isBound()&&this._setBoundTo(oe._boundTo)}function z(oe,ae){ae&2&&oe._isBound()&&this._setBoundTo(oe._boundTo)}var G=z;function F(){var oe=this._boundTo;return oe!==void 0&&oe instanceof e?oe.isFulfilled()?oe.value():void 0:oe}function W(){this._trace=new Y(this._peekContext())}function O(oe,ae){if(o(oe)){var fe=this._trace;if(fe!==void 0&&ae&&(fe=fe._parent),fe!==void 0)fe.attachExtraTrace(oe);else if(!oe.__stackCleaned__){var Ae=be(oe);s.notEnumerableProp(oe,"stack",Ae.message+`
`+Ae.stack.join(`
`)),s.notEnumerableProp(oe,"__stackCleaned__",!0)}}}function P(oe,ae,fe,Ae,Me){if(oe===void 0&&ae!==null&&b){if(Me!==void 0&&Me._returnedNonUndefined()||!(Ae._bitField&65535))return;fe&&(fe=fe+" ");var Ve="",ot="";if(ae._trace){for(var Fe=ae._trace.stack.split(`
`),je=ge(Fe),Ge=je.length-1;Ge>=0;--Ge){var Je=je[Ge];if(!d.test(Je)){var kt=Je.match(f);kt&&(Ve="at "+kt[1]+":"+kt[2]+":"+kt[3]+" ");break}}if(je.length>0){for(var Qt=je[0],Ge=0;Ge<Fe.length;++Ge)if(Fe[Ge]===Qt){Ge>0&&(ot=`
`+Fe[Ge-1]);break}}}var Mt="a promise was created in a "+fe+"handler "+Ve+"but was not returned from it, see http://goo.gl/rRqMUw"+ot;Ae._warn(Mt,!0,ae)}}function B(oe,ae){var fe=oe+" is deprecated and will be removed in a future version.";return ae&&(fe+=" Use "+ae+" instead."),K(fe)}function K(oe,ae,fe){if(te.warnings){var Ae=new i(oe),Me;if(ae)fe._attachExtraTrace(Ae);else if(te.longStackTraces&&(Me=e._peekContext()))Me.attachExtraTrace(Ae);else{var Ve=be(Ae);Ae.stack=Ve.message+`
`+Ve.stack.join(`
`)}C("warning",Ae)||Oe(Ae,"",!0)}}function Q(oe,ae){for(var fe=0;fe<ae.length-1;++fe)ae[fe].push("From previous event:"),ae[fe]=ae[fe].join(`
`);return fe<ae.length&&(ae[fe]=ae[fe].join(`
`)),oe+`
`+ae.join(`
`)}function L(oe){for(var ae=0;ae<oe.length;++ae)(oe[ae].length===0||ae+1<oe.length&&oe[ae][0]===oe[ae+1][0])&&(oe.splice(ae,1),ae--)}function ee(oe){for(var ae=oe[0],fe=1;fe<oe.length;++fe){for(var Ae=oe[fe],Me=ae.length-1,Ve=ae[Me],ot=-1,Fe=Ae.length-1;Fe>=0;--Fe)if(Ae[Fe]===Ve){ot=Fe;break}for(var Fe=ot;Fe>=0;--Fe){var je=Ae[Fe];if(ae[Me]===je)ae.pop(),Me--;else break}ae=Ae}}function ge(oe){for(var ae=[],fe=0;fe<oe.length;++fe){var Ae=oe[fe],Me=Ae==="    (No stack trace)"||h.test(Ae),Ve=Me&&xe(Ae);Me&&!Ve&&(y&&Ae.charAt(0)!==" "&&(Ae="    "+Ae),ae.push(Ae))}return ae}function he(oe){for(var ae=oe.stack.replace(/\s+$/g,"").split(`
`),fe=0;fe<ae.length;++fe){var Ae=ae[fe];if(Ae==="    (No stack trace)"||h.test(Ae))break}return fe>0&&oe.name!="SyntaxError"&&(ae=ae.slice(fe)),ae}function be(oe){var ae=oe.stack,fe=oe.toString();return ae=typeof ae=="string"&&ae.length>0?he(oe):["    (No stack trace)"],{message:fe,stack:oe.name=="SyntaxError"?ae:ge(ae)}}function Oe(oe,ae,fe){if(typeof console<"u"){var Ae;if(s.isObject(oe)){var Me=oe.stack;Ae=ae+p(Me,oe)}else Ae=ae+String(oe);typeof m=="function"?m(Ae,fe):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ae)}}function Z(oe,ae,fe,Ae){var Me=!1;try{typeof ae=="function"&&(Me=!0,oe==="rejectionHandled"?ae(Ae):ae(fe,Ae))}catch(Ve){r.throwLater(Ve)}oe==="unhandledRejection"?!C(oe,fe,Ae)&&!Me&&Oe(fe,"Unhandled rejection "):C(oe,Ae)}function Ie(oe){var ae;if(typeof oe=="function")ae="[function "+(oe.name||"anonymous")+"]";else{ae=oe&&typeof oe.toString=="function"?oe.toString():s.toString(oe);var fe=/\[object [a-zA-Z0-9$_]+\]/;if(fe.test(ae))try{var Ae=JSON.stringify(oe);ae=Ae}catch{}ae.length===0&&(ae="(empty array)")}return"(<"+V(ae)+">, no stack trace)"}function V(oe){var ae=41;return oe.length<ae?oe:oe.substr(0,ae-3)+"..."}function ke(){return typeof le=="function"}var xe=function(){return!1},re=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function J(oe){var ae=oe.match(re);if(ae)return{fileName:ae[1],line:parseInt(ae[2],10)}}function pe(oe,ae){if(ke()){for(var fe=oe.stack.split(`
`),Ae=ae.stack.split(`
`),Me=-1,Ve=-1,ot,Fe,je=0;je<fe.length;++je){var Ge=J(fe[je]);if(Ge){ot=Ge.fileName,Me=Ge.line;break}}for(var je=0;je<Ae.length;++je){var Ge=J(Ae[je]);if(Ge){Fe=Ge.fileName,Ve=Ge.line;break}}Me<0||Ve<0||!ot||!Fe||ot!==Fe||Me>=Ve||(xe=function(Je){if(u.test(Je))return!0;var kt=J(Je);return!!(kt&&kt.fileName===ot&&Me<=kt.line&&kt.line<=Ve)})}}function Y(oe){this._parent=oe,this._promisesCreated=0;var ae=this._length=1+(oe===void 0?0:oe._length);le(this,Y),ae>32&&this.uncycle()}s.inherits(Y,Error),t.CapturedTrace=Y,Y.prototype.uncycle=function(){var oe=this._length;if(!(oe<2)){for(var ae=[],fe={},Ae=0,Me=this;Me!==void 0;++Ae)ae.push(Me),Me=Me._parent;oe=this._length=Ae;for(var Ae=oe-1;Ae>=0;--Ae){var Ve=ae[Ae].stack;fe[Ve]===void 0&&(fe[Ve]=Ae)}for(var Ae=0;Ae<oe;++Ae){var ot=ae[Ae].stack,Fe=fe[ot];if(Fe!==void 0&&Fe!==Ae){Fe>0&&(ae[Fe-1]._parent=void 0,ae[Fe-1]._length=1),ae[Ae]._parent=void 0,ae[Ae]._length=1;var je=Ae>0?ae[Ae-1]:this;Fe<oe-1?(je._parent=ae[Fe+1],je._parent.uncycle(),je._length=je._parent._length+1):(je._parent=void 0,je._length=1);for(var Ge=je._length+1,Je=Ae-2;Je>=0;--Je)ae[Je]._length=Ge,Ge++;return}}}},Y.prototype.attachExtraTrace=function(oe){if(!oe.__stackCleaned__){this.uncycle();for(var ae=be(oe),fe=ae.message,Ae=[ae.stack],Me=this;Me!==void 0;)Ae.push(ge(Me.stack.split(`
`))),Me=Me._parent;ee(Ae),L(Ae),s.notEnumerableProp(oe,"stack",Q(fe,Ae)),s.notEnumerableProp(oe,"__stackCleaned__",!0)}};var le=function(){var ae=/^\s*at\s*/,fe=function(ot,Fe){return typeof ot=="string"?ot:Fe.name!==void 0&&Fe.message!==void 0?Fe.toString():Ie(Fe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=ae,p=fe;var Ae=Error.captureStackTrace;return xe=function(ot){return u.test(ot)},function(ot,Fe){Error.stackTraceLimit+=6,Ae(ot,Fe),Error.stackTraceLimit-=6}}var Me=new Error;if(typeof Me.stack=="string"&&Me.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=fe,y=!0,function(Fe){Fe.stack=new Error().stack};var Ve;try{throw new Error}catch(ot){Ve="stack"in ot}return!("stack"in Me)&&Ve&&typeof Error.stackTraceLimit=="number"?(h=ae,p=fe,function(Fe){Error.stackTraceLimit+=6;try{throw new Error}catch(je){Fe.stack=je.stack}Error.stackTraceLimit-=6}):(p=function(ot,Fe){return typeof ot=="string"?ot:(typeof Fe=="object"||typeof Fe=="function")&&Fe.name!==void 0&&Fe.message!==void 0?Fe.toString():Ie(Fe)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(m=function(oe){console.warn(oe)},s.isNode&&process.stderr.isTTY?m=function(oe,ae){var fe=ae?"\x1B[33m":"\x1B[31m";console.warn(fe+oe+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(m=function(oe,ae){console.warn("%c"+oe,ae?"color: darkorange":"color: red")}));var te={warnings:v,longStackTraces:!1,cancellation:!1,monitoring:!1};return g&&e.longStackTraces(),{longStackTraces:function(){return te.longStackTraces},warnings:function(){return te.warnings},cancellation:function(){return te.cancellation},monitoring:function(){return te.monitoring},propagateFromFunction:function(){return G},boundValueFunction:function(){return F},checkForgottenReturns:P,setBounds:pe,warn:K,deprecated:B,CapturedTrace:Y,fireDomEvent:T,fireGlobalEvent:k}}),CA}var DA,Z9;function RUe(){return Z9||(Z9=1,DA=function(e,t){var n=Wr(),r=e.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(f){this.finallyHandler=f}o.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function c(){return d.call(this,this.promise._target()._settledValue())}function u(f){if(!l(this,f))return i.e=f,i}function d(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var y=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(y!==void 0){h._setReturnedNonUndefined();var m=t(y,h);if(m instanceof e){if(this.cancelPromise!=null)if(m._isCancelled()){var x=new r("late cancellation observer");return h._attachExtraTrace(x),i.e=x,i}else m.isPending()&&m._attachCancellationCallback(new o(this));return m._then(c,u,void 0,this,void 0)}}}return h.isRejected()?(l(this),i.e=f,i):(l(this),f)}return e.prototype._passThrough=function(f,h,p,y){return typeof f!="function"?this.then():this._then(p,y,void 0,new s(this,h,f),void 0)},e.prototype.lastly=e.prototype.finally=function(f){return this._passThrough(f,0,d,d)},e.prototype.tap=function(f){return this._passThrough(f,1,d)},s}),DA}var jA,J9;function PUe(){return J9||(J9=1,jA=function(e){var t=Wr(),n=kx().keys,r=t.tryCatch,i=t.errorObj;function s(o,l,c){return function(u){var d=c._boundValue();e:for(var f=0;f<o.length;++f){var h=o[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(u instanceof h)return r(l).call(d,u)}else if(typeof h=="function"){var p=r(h).call(d,u);if(p===i)return p;if(p)return r(l).call(d,u)}else if(t.isObject(u)){for(var y=n(h),m=0;m<y.length;++m){var x=y[m];if(h[x]!=u[x])continue e}return r(l).call(d,u)}}return e}}return s}),jA}var IA,eB;function cne(){if(eB)return IA;eB=1;var e=Wr(),t=e.maybeWrapAsError,n=bh(),r=n.OperationalError,i=kx();function s(u){return u instanceof Error&&i.getPrototypeOf(u)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function l(u){var d;if(s(u)){d=new r(u),d.name=u.name,d.message=u.message,d.stack=u.stack;for(var f=i.keys(u),h=0;h<f.length;++h){var p=f[h];o.test(p)||(d[p]=u[p])}return d}return e.markAsOriginatingFromRejection(u),u}function c(u,d){return function(f,h){if(u!==null){if(f){var p=l(t(f));u._attachExtraTrace(p),u._reject(p)}else if(!d)u._fulfill(h);else{for(var y=arguments.length,m=new Array(Math.max(y-1,0)),x=1;x<y;++x)m[x-1]=arguments[x];u._fulfill(m)}u=null}}}return IA=c,IA}var RA,tB;function OUe(){return tB||(tB=1,RA=function(e,t,n,r,i){var s=Wr(),o=s.tryCatch;e.method=function(l){if(typeof l!="function")throw new e.TypeError("expecting a function but got "+s.classString(l));return function(){var c=new e(t);c._captureStackTrace(),c._pushContext();var u=o(l).apply(this,arguments),d=c._popContext();return i.checkForgottenReturns(u,d,"Promise.method",c),c._resolveFromSyncValue(u),c}},e.attempt=e.try=function(l){if(typeof l!="function")return r("expecting a function but got "+s.classString(l));var c=new e(t);c._captureStackTrace(),c._pushContext();var u;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],f=arguments[2];u=s.isArray(d)?o(l).apply(f,d):o(l).call(f,d)}else u=o(l)();var h=c._popContext();return i.checkForgottenReturns(u,h,"Promise.try",c),c._resolveFromSyncValue(u),c},e.prototype._resolveFromSyncValue=function(l){l===s.errorObj?this._rejectCallback(l.e,!1):this._resolveCallback(l,!0)}}),RA}var PA,nB;function FUe(){return nB||(nB=1,PA=function(e,t,n,r){var i=!1,s=function(u,d){this._reject(d)},o=function(u,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(s,s,null,this,u)},l=function(u,d){this._bitField&50397184||this._resolveCallback(d.target)},c=function(u,d){d.promiseRejectionQueued||this._reject(u)};e.prototype.bind=function(u){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var d=n(u),f=new e(t);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(d),d instanceof e){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:d};h._then(t,o,void 0,f,p),d._then(l,c,void 0,f,p),f._setOnCancel(d)}else f._resolveCallback(h);return f},e.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return(this._bitField&2097152)===2097152},e.bind=function(u,d){return e.resolve(d).bind(u)}}),PA}var OA,rB;function LUe(){return rB||(rB=1,OA=function(e,t,n,r){var i=Wr(),s=i.tryCatch,o=i.errorObj,l=e._async;e.prototype.break=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var c=this,u=c;c._isCancellable();){if(!c._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var d=c._cancellationParent;if(d==null||!d._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),u=c,c=d}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(c,u){if(i.isArray(c))for(var d=0;d<c.length;++d)this._doInvokeOnCancel(c[d],u);else if(c!==void 0)if(typeof c=="function"){if(!u){var f=s(c).call(this._boundValue());f===o&&(this._attachExtraTrace(f.e),l.throwLater(f.e))}}else c._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,c)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),OA}var FA,iB;function MUe(){return iB||(iB=1,FA=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},e.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),FA}var LA,sB;function UUe(){return sB||(sB=1,LA=function(e){function t(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=t.prototype.isPending=function(){return(this._bitField&50397184)===0},l=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return s.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return l.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),r.call(c)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}),LA}var MA,aB;function BUe(){return aB||(aB=1,MA=function(e,t,n,r,i,s){var o=Wr(),l=o.canEvaluate,c=o.tryCatch,u=o.errorObj,d;if(l){for(var f=function(g){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,g))},h=function(g){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,g))},p=function(g){for(var b=new Array(g),w=0;w<b.length;++w)b[w]="this.p"+(w+1);var T=b.join(" = ")+" = null;",k=`var promise;
`+b.map(function(I){return`                                                         
	                promise = `+I+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),_=b.join(", "),N="Holder$"+g,C=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return C=C.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,g).replace(/\[ThePassedArguments\]/g,_).replace(/\[TheProperties\]/g,T).replace(/\[CancellationCode\]/g,k),new Function("tryCatch","errorObj","Promise","async",C)(c,u,e,i)},y=[],m=[],x=[],v=0;v<8;++v)y.push(p(v+1)),m.push(f(v+1)),x.push(h(v+1));d=function(g){this._reject(g)}}e.join=function(){var g=arguments.length-1,b;if(g>0&&typeof arguments[g]=="function"&&(b=arguments[g],g<=8&&l)){var R=new e(r);R._captureStackTrace();for(var w=y[g-1],T=new w(b),k=m,_=0;_<g;++_){var N=n(arguments[_],R);if(N instanceof e){N=N._target();var C=N._bitField;C&50397184?C&33554432?k[_].call(R,N._value(),T):C&16777216?R._reject(N._reason()):R._cancel():(N._then(k[_],d,void 0,R,T),x[_](N,T),T.asyncNeeded=!1)}else k[_].call(R,N,T)}if(!R._isFateSealed()){if(T.asyncNeeded){var I=s();I!==null&&(T.fn=o.domainBind(I,T.fn))}R._setAsyncGuaranteed(),R._setOnCancel(T)}return R}for(var j=arguments.length,E=new Array(j),D=0;D<j;++D)E[D]=arguments[D];b&&E.pop();var R=new t(E).promise();return b!==void 0?R.spread(b):R}}),MA}var UA,oB;function VUe(){return oB||(oB=1,UA=function(e,t,n,r,i,s){var o=e._getDomain,l=Wr(),c=l.tryCatch,u=l.errorObj,d=e._async;function f(p,y,m,x){this.constructor$(p),this._promise._captureStackTrace();var v=o();this._callback=v===null?y:l.domainBind(v,y),this._preservedValues=x===i?new Array(this.length()):null,this._limit=m,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}l.inherits(f,t),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,y){var m=this._values,x=this.length(),v=this._preservedValues,g=this._limit;if(y<0){if(y=y*-1-1,m[y]=p,g>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(g>=1&&this._inFlight>=g)return m[y]=p,this._queue.push(y),!1;v!==null&&(v[y]=p);var b=this._promise,w=this._callback,T=b._boundValue();b._pushContext();var k=c(w).call(T,p,y,x),_=b._popContext();if(s.checkForgottenReturns(k,_,v!==null?"Promise.filter":"Promise.map",b),k===u)return this._reject(k.e),!0;var N=r(k,this._promise);if(N instanceof e){N=N._target();var C=N._bitField;if(C&50397184)if(C&33554432)k=N._value();else return C&16777216?(this._reject(N._reason()),!0):(this._cancel(),!0);else return g>=1&&this._inFlight++,m[y]=N,N._proxy(this,(y+1)*-1),!1}m[y]=k}var I=++this._totalResolved;return I>=x?(v!==null?this._filter(m,v):this._resolve(m),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,y=this._limit,m=this._values;p.length>0&&this._inFlight<y;){if(this._isResolved())return;var x=p.pop();this._promiseFulfilled(m[x],x)}},f.prototype._filter=function(p,y){for(var m=y.length,x=new Array(m),v=0,g=0;g<m;++g)p[g]&&(x[v++]=y[g]);x.length=v,this._resolve(x)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,y,m,x){if(typeof y!="function")return n("expecting a function but got "+l.classString(y));var v=0;if(m!==void 0)if(typeof m=="object"&&m!==null){if(typeof m.concurrency!="number")return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(m.concurrency)));v=m.concurrency}else return e.reject(new TypeError("options argument must be an object but it is "+l.classString(m)));return v=typeof v=="number"&&isFinite(v)&&v>=1?v:0,new f(p,y,v,x).promise()}e.prototype.map=function(p,y){return h(this,p,y,null)},e.map=function(p,y,m,x){return h(p,y,m,x)}}),UA}var BA,lB;function qUe(){if(lB)return BA;lB=1;var e=Object.create;if(e){var t=e(null),n=e(null);t[" size"]=n[" size"]=0}return BA=function(r){var i=Wr(),s=i.canEvaluate,o=i.isIdentifier,l,c;{var u=function(x){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,x))(h)},d=function(x){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",x))},f=function(x,v,g){var b=g[x];if(typeof b!="function"){if(!o(x))return null;if(b=v(x),g[x]=b,g[" size"]++,g[" size"]>512){for(var w=Object.keys(g),T=0;T<256;++T)delete g[w[T]];g[" size"]=w.length-256}}return b};l=function(x){return f(x,u,t)},c=function(x){return f(x,d,n)}}function h(x,v){var g;if(x!=null&&(g=x[v]),typeof g!="function"){var b="Object "+i.classString(x)+" has no method '"+i.toString(v)+"'";throw new r.TypeError(b)}return g}function p(x){var v=this.pop(),g=h(x,v);return g.apply(x,this)}r.prototype.call=function(x){for(var v=arguments.length,g=new Array(Math.max(v-1,0)),b=1;b<v;++b)g[b-1]=arguments[b];if(s){var w=l(x);if(w!==null)return this._then(w,void 0,void 0,g,void 0)}return g.push(x),this._then(p,void 0,void 0,g,void 0)};function y(x){return x[this]}function m(x){var v=+this;return v<0&&(v=Math.max(0,v+x.length)),x[v]}r.prototype.get=function(x){var v=typeof x=="number",g;if(v)g=m;else if(s){var b=c(x);g=b!==null?b:y}else g=y;return this._then(g,void 0,void 0,x,void 0)}},BA}var VA,cB;function WUe(){return cB||(cB=1,VA=function(e,t,n,r,i,s){var o=Wr(),l=bh().TypeError,c=Wr().inherits,u=o.errorObj,d=o.tryCatch,f={};function h(b){setTimeout(function(){throw b},0)}function p(b){var w=n(b);return w!==b&&typeof b._isDisposable=="function"&&typeof b._getDisposer=="function"&&b._isDisposable()&&w._setDisposable(b._getDisposer()),w}function y(b,w){var T=0,k=b.length,_=new e(i);function N(){if(T>=k)return _._fulfill();var C=p(b[T++]);if(C instanceof e&&C._isDisposable()){try{C=n(C._getDisposer().tryDispose(w),b.promise)}catch(I){return h(I)}if(C instanceof e)return C._then(N,h,null,null,null)}N()}return N(),_}function m(b,w,T){this._data=b,this._promise=w,this._context=T}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},m.prototype.tryDispose=function(b){var w=this.resource(),T=this._context;T!==void 0&&T._pushContext();var k=w!==f?this.doDispose(w,b):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,k},m.isDisposer=function(b){return b!=null&&typeof b.resource=="function"&&typeof b.tryDispose=="function"};function x(b,w,T){this.constructor$(b,w,T)}c(x,m),x.prototype.doDispose=function(b,w){var T=this.data();return T.call(b,b,w)};function v(b){return m.isDisposer(b)?(this.resources[this.index]._setDisposable(b),b.promise()):b}function g(b){this.length=b,this.promise=null,this[b-1]=null}g.prototype._resultCancelled=function(){for(var b=this.length,w=0;w<b;++w){var T=this[w];T instanceof e&&T.cancel()}},e.using=function(){var b=arguments.length;if(b<2)return t("you must pass at least 2 arguments to Promise.using");var w=arguments[b-1];if(typeof w!="function")return t("expecting a function but got "+o.classString(w));var T,k=!0;b===2&&Array.isArray(arguments[0])?(T=arguments[0],b=T.length,k=!1):(T=arguments,b--);for(var _=new g(b),N=0;N<b;++N){var C=T[N];if(m.isDisposer(C)){var I=C;C=C.promise(),C._setDisposable(I)}else{var j=n(C);j instanceof e&&(C=j._then(v,null,null,{resources:_,index:N},void 0))}_[N]=C}for(var E=new Array(_.length),N=0;N<E.length;++N)E[N]=e.resolve(_[N]).reflect();var D=e.all(E).then(function(M){for(var U=0;U<M.length;++U){var z=M[U];if(z.isRejected())return u.e=z.error(),u;if(!z.isFulfilled()){D.cancel();return}M[U]=z.value()}R._pushContext(),w=d(w);var G=k?w.apply(void 0,M):w(M),F=R._popContext();return s.checkForgottenReturns(G,F,"Promise.using",R),G}),R=D.lastly(function(){var M=new e.PromiseInspection(D);return y(_,M)});return _.promise=R,R._setOnCancel(_),R},e.prototype._setDisposable=function(b){this._bitField=this._bitField|131072,this._disposer=b},e.prototype._isDisposable=function(){return(this._bitField&131072)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(b){if(typeof b=="function")return new x(b,this,r());throw new l}}),VA}var qA,uB;function zUe(){return uB||(uB=1,qA=function(e,t,n){var r=Wr(),i=e.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(f){return l(+this).thenReturn(f)},l=e.delay=function(f,h){var p,y;return h!==void 0?(p=e.resolve(h)._then(o,null,null,f,void 0),n.cancellation()&&h instanceof e&&p._setOnCancel(h)):(p=new e(t),y=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(y)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};e.prototype.delay=function(f){return l(f,this)};var c=function(f,h,p){var y;typeof h!="string"?h instanceof Error?y=h:y=new i("operation timed out"):y=new i(h),r.markAsOriginatingFromRejection(y),f._attachExtraTrace(y),f._reject(y),p!=null&&p.cancel()};function u(f){return clearTimeout(this.handle),f}function d(f){throw clearTimeout(this.handle),f}e.prototype.timeout=function(f,h){f=+f;var p,y,m=new s(setTimeout(function(){p.isPending()&&c(p,h,y)},f));return n.cancellation()?(y=this.then(),p=y._then(u,d,void 0,m,void 0),p._setOnCancel(m)):p=this._then(u,d,void 0,m,void 0),p}}),qA}var WA,dB;function $Ue(){return dB||(dB=1,WA=function(e,t,n,r,i,s){var o=bh(),l=o.TypeError,c=Wr(),u=c.errorObj,d=c.tryCatch,f=[];function h(y,m,x){for(var v=0;v<m.length;++v){x._pushContext();var g=d(m[v])(y);if(x._popContext(),g===u){x._pushContext();var b=e.reject(u.e);return x._popContext(),b}var w=r(g,x);if(w instanceof e)return w}return null}function p(y,m,x,v){if(s.cancellation()){var g=new e(n),b=this._finallyPromise=new e(n);this._promise=g.lastly(function(){return b}),g._captureStackTrace(),g._setOnCancel(this)}else{var w=this._promise=new e(n);w._captureStackTrace()}this._stack=v,this._generatorFunction=y,this._receiver=m,this._generator=void 0,this._yieldHandlers=typeof x=="function"?[x].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var y=typeof this._generator.return<"u",m;if(y)this._promise._pushContext(),m=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var x=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=x,this._promise._attachExtraTrace(x),this._promise._pushContext(),m=d(this._generator.throw).call(this._generator,x),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(m)}},p.prototype._promiseFulfilled=function(y){this._yieldedPromise=null,this._promise._pushContext();var m=d(this._generator.next).call(this._generator,y);this._promise._popContext(),this._continue(m)},p.prototype._promiseRejected=function(y){this._yieldedPromise=null,this._promise._attachExtraTrace(y),this._promise._pushContext();var m=d(this._generator.throw).call(this._generator,y);this._promise._popContext(),this._continue(m)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var y=this._yieldedPromise;this._yieldedPromise=null,y.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(y){var m=this._promise;if(y===u)return this._cleanup(),this._cancellationPhase?m.cancel():m._rejectCallback(y.e,!1);var x=y.value;if(y.done===!0)return this._cleanup(),this._cancellationPhase?m.cancel():m._resolveCallback(x);var v=r(x,this._promise);if(!(v instanceof e)&&(v=h(v,this._yieldHandlers,this._promise),v===null)){this._promiseRejected(new l(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",x)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}v=v._target();var g=v._bitField;g&50397184?g&33554432?e._async.invoke(this._promiseFulfilled,this,v._value()):g&16777216?e._async.invoke(this._promiseRejected,this,v._reason()):this._promiseCancelled():(this._yieldedPromise=v,v._proxy(this,null))},e.coroutine=function(y,m){if(typeof y!="function")throw new l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var x=Object(m).yieldHandler,v=p,g=new Error().stack;return function(){var b=y.apply(this,arguments),w=new v(void 0,void 0,x,g),T=w.promise();return w._generator=b,w._promiseFulfilled(void 0),T}},e.coroutine.addYieldHandler=function(y){if(typeof y!="function")throw new l("expecting a function but got "+c.classString(y));f.push(y)},e.spawn=function(y){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof y!="function")return t(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=new p(y,this),x=m.promise();return m._run(e.spawn),x}}),WA}var zA,fB;function HUe(){return fB||(fB=1,zA=function(e){var t=Wr(),n=e._async,r=t.tryCatch,i=t.errorObj;function s(c,u){var d=this;if(!t.isArray(c))return o.call(d,c,u);var f=r(u).apply(d._boundValue(),[null].concat(c));f===i&&n.throwLater(f.e)}function o(c,u){var d=this,f=d._boundValue(),h=c===void 0?r(u).call(f,null):r(u).call(f,null,c);h===i&&n.throwLater(h.e)}function l(c,u){var d=this;if(!c){var f=new Error(c+"");f.cause=c,c=f}var h=r(u).call(d._boundValue(),c);h===i&&n.throwLater(h.e)}e.prototype.asCallback=e.prototype.nodeify=function(c,u){if(typeof c=="function"){var d=o;u!==void 0&&Object(u).spread&&(d=s),this._then(d,l,void 0,this,c)}return this}}),zA}var $A,hB;function GUe(){return hB||(hB=1,$A=function(e,t){var n={},r=Wr(),i=cne(),s=r.withAppended,o=r.maybeWrapAsError,l=r.canEvaluate,c=bh().TypeError,u="Async",d={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(D){return r.isIdentifier(D)&&D.charAt(0)!=="_"&&D!=="constructor"};function y(D){return!h.test(D)}function m(D){try{return D.__isPromisified__===!0}catch{return!1}}function x(D,R,M){var U=r.getDataPropertyOrDefault(D,R+M,d);return U?m(U):!1}function v(D,R,M){for(var U=0;U<D.length;U+=2){var z=D[U];if(M.test(z)){for(var G=z.replace(M,""),F=0;F<D.length;F+=2)if(D[F]===G)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",R))}}}function g(D,R,M,U){for(var z=r.inheritedDataKeys(D),G=[],F=0;F<z.length;++F){var W=z[F],O=D[W],P=U===p?!0:p(W);typeof O=="function"&&!m(O)&&!x(D,W,R)&&U(W,O,D,P)&&G.push(W,O)}return v(G,R,M),G}var b=function(D){return D.replace(/([$])/,"\\$")},w;{var T=function(D){for(var R=[D],M=Math.max(0,D-1-3),U=D-1;U>=M;--U)R.push(U);for(var U=D+1;U<=3;++U)R.push(U);return R},k=function(D){return r.filledRange(D,"_arg","")},_=function(D){return r.filledRange(Math.max(D,3),"_arg","")},N=function(D){return typeof D.length=="number"?Math.max(Math.min(D.length,1024),0):0};w=function(D,R,M,U,z,G){var F=Math.max(0,N(U)-1),W=T(F),O=typeof D=="string"||R===n;function P(L){var ee=k(L).join(", "),ge=L>0?", ":"",he;return O?he=`ret = callback.call(this, {{args}}, nodeback); break;
`:he=R===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,he.replace("{{args}}",ee).replace(", ",ge)}function B(){for(var L="",ee=0;ee<W.length;++ee)L+="case "+W[ee]+":"+P(W[ee]);return L+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",O?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),L}var K=typeof D=="string"?"this != null ? this['"+D+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+G+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",B()).replace("[GetFunctionCode]",K);return Q=Q.replace("Parameters",_(F)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(e,U,R,s,o,i,r.tryCatch,r.errorObj,r.notEnumerableProp,t)}}function C(D,R,M,U,z,G){var F=function(){return this}(),W=D;typeof W=="string"&&(D=U);function O(){var P=R;R===n&&(P=this);var B=new e(t);B._captureStackTrace();var K=typeof W=="string"&&this!==F?this[W]:D,Q=i(B,G);try{K.apply(P,s(arguments,Q))}catch(L){B._rejectCallback(o(L),!0,!0)}return B._isFateSealed()||B._setAsyncGuaranteed(),B}return r.notEnumerableProp(O,"__isPromisified__",!0),O}var I=l?w:C;function j(D,R,M,U,z){for(var G=new RegExp(b(R)+"$"),F=g(D,R,G,M),W=0,O=F.length;W<O;W+=2){var P=F[W],B=F[W+1],K=P+R;if(U===I)D[K]=I(P,n,P,B,R,z);else{var Q=U(B,function(){return I(P,n,P,B,R,z)});r.notEnumerableProp(Q,"__isPromisified__",!0),D[K]=Q}}return r.toFastProperties(D),D}function E(D,R,M){return I(D,R,void 0,D,null,M)}e.promisify=function(D,R){if(typeof D!="function")throw new c("expecting a function but got "+r.classString(D));if(m(D))return D;R=Object(R);var M=R.context===void 0?n:R.context,U=!!R.multiArgs,z=E(D,M,U);return r.copyDescriptors(D,z,y),z},e.promisifyAll=function(D,R){if(typeof D!="function"&&typeof D!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);R=Object(R);var M=!!R.multiArgs,U=R.suffix;typeof U!="string"&&(U=u);var z=R.filter;typeof z!="function"&&(z=p);var G=R.promisifier;if(typeof G!="function"&&(G=I),!r.isIdentifier(U))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var F=r.inheritedDataKeys(D),W=0;W<F.length;++W){var O=D[F[W]];F[W]!=="constructor"&&r.isClass(O)&&(j(O.prototype,U,z,G,M),j(O,U,z,G,M))}return j(D,U,z,G,M)}}),$A}var HA,pB;function QUe(){return pB||(pB=1,HA=function(e,t,n,r){var i=Wr(),s=i.isObject,o=kx(),l;typeof Map=="function"&&(l=Map);var c=function(){var h=0,p=0;function y(m,x){this[h]=m,this[h+p]=x,h++}return function(x){p=x.size,h=0;var v=new Array(x.size*2);return x.forEach(y,v),v}}(),u=function(h){for(var p=new l,y=h.length/2|0,m=0;m<y;++m){var x=h[y+m],v=h[m];p.set(x,v)}return p};function d(h){var p=!1,y;if(l!==void 0&&h instanceof l)y=c(h),p=!0;else{var m=o.keys(h),x=m.length;y=new Array(x*2);for(var v=0;v<x;++v){var g=m[v];y[v]=h[g],y[v+x]=g}}this.constructor$(y),this._isMap=p,this._init$(void 0,-3)}i.inherits(d,t),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var y=++this._totalResolved;if(y>=this._length){var m;if(this._isMap)m=u(this._values);else{m={};for(var x=this.length(),v=0,g=this.length();v<g;++v)m[this._values[v+x]]=this._values[v]}return this._resolve(m),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(h){return h>>1};function f(h){var p,y=n(h);if(s(y))y instanceof e?p=y._then(e.props,void 0,void 0,void 0,void 0):p=new d(y).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return y instanceof e&&p._propagateFrom(y,2),p}e.prototype.props=function(){return f(this)},e.props=function(h){return f(h)}}),HA}var GA,mB;function KUe(){return mB||(mB=1,GA=function(e,t,n,r){var i=Wr(),s=function(l){return l.then(function(c){return o(c,l)})};function o(l,c){var u=n(l);if(u instanceof e)return s(u);if(l=i.asArray(l),l===null)return r("expecting an array or an iterable object but got "+i.classString(l));var d=new e(t);c!==void 0&&d._propagateFrom(c,3);for(var f=d._fulfill,h=d._reject,p=0,y=l.length;p<y;++p){var m=l[p];m===void 0&&!(p in l)||e.cast(m)._then(f,h,void 0,d,null)}return d}e.race=function(l){return o(l,void 0)},e.prototype.race=function(){return o(this,void 0)}}),GA}var QA,gB;function XUe(){return gB||(gB=1,QA=function(e,t,n,r,i,s){var o=e._getDomain,l=Wr(),c=l.tryCatch;function u(y,m,x,v){this.constructor$(y);var g=o();this._fn=g===null?m:l.domainBind(g,m),x!==void 0&&(x=e.resolve(x),x._attachCancellationCallback(this)),this._initialValue=x,this._currentCancellable=null,v===i?this._eachValues=Array(this._length):v===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}l.inherits(u,t),u.prototype._gotAccum=function(y){this._eachValues!==void 0&&this._eachValues!==null&&y!==i&&this._eachValues.push(y)},u.prototype._eachComplete=function(y){return this._eachValues!==null&&this._eachValues.push(y),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(y){this._promise._resolveCallback(y),this._values=null},u.prototype._resultCancelled=function(y){if(y===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},u.prototype._iterate=function(y){this._values=y;var m,x,v=y.length;if(this._initialValue!==void 0?(m=this._initialValue,x=0):(m=e.resolve(y[0]),x=1),this._currentCancellable=m,!m.isRejected())for(;x<v;++x){var g={accum:null,value:y[x],index:x,length:v,array:this};m=m._then(h,void 0,void 0,g,void 0)}this._eachValues!==void 0&&(m=m._then(this._eachComplete,void 0,void 0,this,void 0)),m._then(d,d,void 0,m,this)},e.prototype.reduce=function(y,m){return f(this,y,m,null)},e.reduce=function(y,m,x,v){return f(y,m,x,v)};function d(y,m){this.isFulfilled()?m._resolve(y):m._reject(y)}function f(y,m,x,v){if(typeof m!="function")return n("expecting a function but got "+l.classString(m));var g=new u(y,m,x,v);return g.promise()}function h(y){this.accum=y,this.array._gotAccum(y);var m=r(this.value,this.array._promise);return m instanceof e?(this.array._currentCancellable=m,m._then(p,void 0,void 0,this,void 0)):p.call(this,m)}function p(y){var m=this.array,x=m._promise,v=c(m._fn);x._pushContext();var g;m._eachValues!==void 0?g=v.call(x._boundValue(),y,this.index,this.length):g=v.call(x._boundValue(),this.accum,y,this.index,this.length),g instanceof e&&(m._currentCancellable=g);var b=x._popContext();return s.checkForgottenReturns(g,b,m._eachValues!==void 0?"Promise.each":"Promise.reduce",x),g}}),QA}var KA,xB;function YUe(){return xB||(xB=1,KA=function(e,t,n){var r=e.PromiseInspection,i=Wr();function s(o){this.constructor$(o)}i.inherits(s,t),s.prototype._promiseResolved=function(o,l){this._values[o]=l;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,l){var c=new r;return c._bitField=33554432,c._settledValueField=o,this._promiseResolved(l,c)},s.prototype._promiseRejected=function(o,l){var c=new r;return c._bitField=16777216,c._settledValueField=o,this._promiseResolved(l,c)},e.settle=function(o){return n.deprecated(".settle()",".reflect()"),new s(o).promise()},e.prototype.settle=function(){return e.settle(this)}}),KA}var XA,yB;function ZUe(){return yB||(yB=1,XA=function(e,t,n){var r=Wr(),i=bh().RangeError,s=bh().AggregateError,o=r.isArray,l={};function c(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(c,t),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=o(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(d){this._howMany=d},c.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||this._values==null?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new s,f=this.length();f<this._values.length;++f)this._values[f]!==l&&d.push(this._values[f]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(d){this._values.push(d)},c.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(d){var f="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new i(f)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(d,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new c(d),p=h.promise();return h.setHowMany(f),h.init(),p}e.some=function(d,f){return u(d,f)},e.prototype.some=function(d){return u(this,d)},e._SomePromiseArray=c}),XA}var YA,vB;function JUe(){return vB||(vB=1,YA=function(e,t){var n=e.map;e.prototype.filter=function(r,i){return n(this,r,i,t)},e.filter=function(r,i,s){return n(r,i,s,t)}}),YA}var ZA,bB;function e9e(){return bB||(bB=1,ZA=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}function s(o,l){return n(o,l,t,t)}e.prototype.each=function(o){return n(this,o,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(o){return n(this,o,t,t)},e.each=function(o,l){return n(o,l,t,0)._then(i,void 0,void 0,o,void 0)},e.mapSeries=s}),ZA}var JA,wB;function t9e(){return wB||(wB=1,JA=function(e){var t=e._SomePromiseArray;function n(r){var i=new t(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}e.any=function(r){return n(r)},e.prototype.any=function(){return n(this)}}),JA}(function(e){e.exports=function(){var t=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new E.PromiseInspection(this._target())},r=function(U){return E.reject(new h(U))};function i(){}var s={},o=Wr(),l;o.isNode?l=function(){var U=process.domain;return U===void 0&&(U=null),U}:l=function(){return null},o.notEnumerableProp(E,"_getDomain",l);var c=kx(),u=AUe(),d=new u;c.defineProperty(E,"_async",{value:d});var f=bh(),h=E.TypeError=f.TypeError;E.RangeError=f.RangeError;var p=E.CancellationError=f.CancellationError;E.TimeoutError=f.TimeoutError,E.OperationalError=f.OperationalError,E.RejectionError=f.OperationalError,E.AggregateError=f.AggregateError;var y=function(){},m={},x={},v=CUe()(E,y),g=DUe()(E,y,v,r,i),b=jUe()(E),w=b.create,T=IUe()(E,b);T.CapturedTrace;var k=RUe()(E,v),_=PUe()(x),N=cne(),C=o.errorObj,I=o.tryCatch;function j(U,z){if(typeof z!="function")throw new h("expecting a function but got "+o.classString(z));if(U.constructor!==E)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function E(U){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,U!==y&&(j(this,U),this._resolveFromExecutor(U)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}E.prototype.toString=function(){return"[object Promise]"},E.prototype.caught=E.prototype.catch=function(U){var z=arguments.length;if(z>1){var G=new Array(z-1),F=0,W;for(W=0;W<z-1;++W){var O=arguments[W];if(o.isObject(O))G[F++]=O;else return r("expecting an object but got A catch statement predicate "+o.classString(O))}return G.length=F,U=arguments[W],this.then(void 0,_(G,U,this))}return this.then(void 0,U)},E.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},E.prototype.then=function(U,z){if(T.warnings()&&arguments.length>0&&typeof U!="function"&&typeof z!="function"){var G=".then() only accepts functions but was passed: "+o.classString(U);arguments.length>1&&(G+=", "+o.classString(z)),this._warn(G)}return this._then(U,z,void 0,void 0,void 0)},E.prototype.done=function(U,z){var G=this._then(U,z,void 0,void 0,void 0);G._setIsFinal()},E.prototype.spread=function(U){return typeof U!="function"?r("expecting a function but got "+o.classString(U)):this.all()._then(U,void 0,void 0,m,void 0)},E.prototype.toJSON=function(){var U={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(U.fulfillmentValue=this.value(),U.isFulfilled=!0):this.isRejected()&&(U.rejectionReason=this.reason(),U.isRejected=!0),U},E.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new g(this).promise()},E.prototype.error=function(U){return this.caught(o.originatesFromRejection,U)},E.getNewLibraryCopy=e.exports,E.is=function(U){return U instanceof E},E.fromNode=E.fromCallback=function(U){var z=new E(y);z._captureStackTrace();var G=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,F=I(U)(N(z,G));return F===C&&z._rejectCallback(F.e,!0),z._isFateSealed()||z._setAsyncGuaranteed(),z},E.all=function(U){return new g(U).promise()},E.cast=function(U){var z=v(U);return z instanceof E||(z=new E(y),z._captureStackTrace(),z._setFulfilled(),z._rejectionHandler0=U),z},E.resolve=E.fulfilled=E.cast,E.reject=E.rejected=function(U){var z=new E(y);return z._captureStackTrace(),z._rejectCallback(U,!0),z},E.setScheduler=function(U){if(typeof U!="function")throw new h("expecting a function but got "+o.classString(U));return d.setScheduler(U)},E.prototype._then=function(U,z,G,F,W){var O=W!==void 0,P=O?W:new E(y),B=this._target(),K=B._bitField;O||(P._propagateFrom(this,3),P._captureStackTrace(),F===void 0&&this._bitField&2097152&&(K&50397184?F=this._boundValue():F=B===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,P));var Q=l();if(K&50397184){var L,ee,ge=B._settlePromiseCtx;K&33554432?(ee=B._rejectionHandler0,L=U):K&16777216?(ee=B._fulfillmentHandler0,L=z,B._unsetRejectionIsUnhandled()):(ge=B._settlePromiseLateCancellationObserver,ee=new p("late cancellation observer"),B._attachExtraTrace(ee),L=z),d.invoke(ge,B,{handler:Q===null?L:typeof L=="function"&&o.domainBind(Q,L),promise:P,receiver:F,value:ee})}else B._addCallbacks(U,z,P,F,Q);return P},E.prototype._length=function(){return this._bitField&65535},E.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},E.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},E.prototype._setLength=function(U){this._bitField=this._bitField&-65536|U&65535},E.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},E.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},E.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},E.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},E.prototype._isFinal=function(){return(this._bitField&4194304)>0},E.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},E.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},E.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},E.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},E.prototype._receiverAt=function(U){var z=U===0?this._receiver0:this[U*4-4+3];if(z!==s)return z===void 0&&this._isBound()?this._boundValue():z},E.prototype._promiseAt=function(U){return this[U*4-4+2]},E.prototype._fulfillmentHandlerAt=function(U){return this[U*4-4+0]},E.prototype._rejectionHandlerAt=function(U){return this[U*4-4+1]},E.prototype._boundValue=function(){},E.prototype._migrateCallback0=function(U){U._bitField;var z=U._fulfillmentHandler0,G=U._rejectionHandler0,F=U._promise0,W=U._receiverAt(0);W===void 0&&(W=s),this._addCallbacks(z,G,F,W,null)},E.prototype._migrateCallbackAt=function(U,z){var G=U._fulfillmentHandlerAt(z),F=U._rejectionHandlerAt(z),W=U._promiseAt(z),O=U._receiverAt(z);O===void 0&&(O=s),this._addCallbacks(G,F,W,O,null)},E.prototype._addCallbacks=function(U,z,G,F,W){var O=this._length();if(O>=65531&&(O=0,this._setLength(0)),O===0)this._promise0=G,this._receiver0=F,typeof U=="function"&&(this._fulfillmentHandler0=W===null?U:o.domainBind(W,U)),typeof z=="function"&&(this._rejectionHandler0=W===null?z:o.domainBind(W,z));else{var P=O*4-4;this[P+2]=G,this[P+3]=F,typeof U=="function"&&(this[P+0]=W===null?U:o.domainBind(W,U)),typeof z=="function"&&(this[P+1]=W===null?z:o.domainBind(W,z))}return this._setLength(O+1),O},E.prototype._proxy=function(U,z){this._addCallbacks(void 0,void 0,z,U,null)},E.prototype._resolveCallback=function(U,z){if(!(this._bitField&117506048)){if(U===this)return this._rejectCallback(t(),!1);var G=v(U,this);if(!(G instanceof E))return this._fulfill(U);z&&this._propagateFrom(G,2);var F=G._target();if(F===this){this._reject(t());return}var W=F._bitField;if(W&50397184)if(W&33554432)this._fulfill(F._value());else if(W&16777216)this._reject(F._reason());else{var B=new p("late cancellation observer");F._attachExtraTrace(B),this._reject(B)}else{var O=this._length();O>0&&F._migrateCallback0(this);for(var P=1;P<O;++P)F._migrateCallbackAt(this,P);this._setFollowing(),this._setLength(0),this._setFollowee(F)}}},E.prototype._rejectCallback=function(U,z,G){var F=o.ensureErrorObject(U),W=F===U;if(!W&&!G&&T.warnings()){var O="a promise was rejected with a non-error: "+o.classString(U);this._warn(O,!0)}this._attachExtraTrace(F,z?W:!1),this._reject(U)},E.prototype._resolveFromExecutor=function(U){var z=this;this._captureStackTrace(),this._pushContext();var G=!0,F=this._execute(U,function(W){z._resolveCallback(W)},function(W){z._rejectCallback(W,G)});G=!1,this._popContext(),F!==void 0&&z._rejectCallback(F,!0)},E.prototype._settlePromiseFromHandler=function(U,z,G,F){var W=F._bitField;if(!(W&65536)){F._pushContext();var O;z===m?!G||typeof G.length!="number"?(O=C,O.e=new h("cannot .spread() a non-array: "+o.classString(G))):O=I(U).apply(this._boundValue(),G):O=I(U).call(z,G);var P=F._popContext();W=F._bitField,!(W&65536)&&(O===x?F._reject(G):O===C?F._rejectCallback(O.e,!1):(T.checkForgottenReturns(O,P,"",F,this),F._resolveCallback(O)))}},E.prototype._target=function(){for(var U=this;U._isFollowing();)U=U._followee();return U},E.prototype._followee=function(){return this._rejectionHandler0},E.prototype._setFollowee=function(U){this._rejectionHandler0=U},E.prototype._settlePromise=function(U,z,G,F){var W=U instanceof E,O=this._bitField,P=(O&134217728)!==0;O&65536?(W&&U._invokeInternalOnCancel(),G instanceof k&&G.isFinallyHandler()?(G.cancelPromise=U,I(z).call(G,F)===C&&U._reject(C.e)):z===n?U._fulfill(n.call(G)):G instanceof i?G._promiseCancelled(U):W||U instanceof g?U._cancel():G.cancel()):typeof z=="function"?W?(P&&U._setAsyncGuaranteed(),this._settlePromiseFromHandler(z,G,F,U)):z.call(G,F,U):G instanceof i?G._isResolved()||(O&33554432?G._promiseFulfilled(F,U):G._promiseRejected(F,U)):W&&(P&&U._setAsyncGuaranteed(),O&33554432?U._fulfill(F):U._reject(F))},E.prototype._settlePromiseLateCancellationObserver=function(U){var z=U.handler,G=U.promise,F=U.receiver,W=U.value;typeof z=="function"?G instanceof E?this._settlePromiseFromHandler(z,F,W,G):z.call(F,W,G):G instanceof E&&G._reject(W)},E.prototype._settlePromiseCtx=function(U){this._settlePromise(U.promise,U.handler,U.receiver,U.value)},E.prototype._settlePromise0=function(U,z,G){var F=this._promise0,W=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(F,U,W,z)},E.prototype._clearCallbackDataAtIndex=function(U){var z=U*4-4;this[z+2]=this[z+3]=this[z+0]=this[z+1]=void 0},E.prototype._fulfill=function(U){var z=this._bitField;if(!((z&117506048)>>>16)){if(U===this){var G=t();return this._attachExtraTrace(G),this._reject(G)}this._setFulfilled(),this._rejectionHandler0=U,(z&65535)>0&&(z&134217728?this._settlePromises():d.settlePromises(this))}},E.prototype._reject=function(U){var z=this._bitField;if(!((z&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=U,this._isFinal())return d.fatalError(U,o.isNode);(z&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},E.prototype._fulfillPromises=function(U,z){for(var G=1;G<U;G++){var F=this._fulfillmentHandlerAt(G),W=this._promiseAt(G),O=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(W,F,O,z)}},E.prototype._rejectPromises=function(U,z){for(var G=1;G<U;G++){var F=this._rejectionHandlerAt(G),W=this._promiseAt(G),O=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(W,F,O,z)}},E.prototype._settlePromises=function(){var U=this._bitField,z=U&65535;if(z>0){if(U&16842752){var G=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,G,U),this._rejectPromises(z,G)}else{var F=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,F,U),this._fulfillPromises(z,F)}this._setLength(0)}this._clearCancellationData()},E.prototype._settledValue=function(){var U=this._bitField;if(U&33554432)return this._rejectionHandler0;if(U&16777216)return this._fulfillmentHandler0};function D(U){this.promise._resolveCallback(U)}function R(U){this.promise._rejectCallback(U,!1)}E.defer=E.pending=function(){T.deprecated("Promise.defer","new Promise");var U=new E(y);return{promise:U,resolve:D,reject:R}},o.notEnumerableProp(E,"_makeSelfResolutionError",t),OUe()(E,y,v,r,T),FUe()(E,y,v,T),LUe()(E,g,r,T),MUe()(E),UUe()(E),BUe()(E,g,v,y,d,l),E.Promise=E,E.version="3.4.7",VUe()(E,g,r,v,y,T),qUe()(E),WUe()(E,r,v,w,y,T),zUe()(E,y,T),$Ue()(E,r,y,v,i,T),HUe()(E),GUe()(E,y),QUe()(E,g,v,r),KUe()(E,y,v,r),XUe()(E,g,r,v,y,T),YUe()(E,g,T),ZUe()(E,g,r),JUe()(E,y),e9e()(E,y),t9e()(E),o.toFastProperties(E),o.toFastProperties(E.prototype);function M(U){var z=new E(y);z._fulfillmentHandler0=U,z._rejectionHandler0=U,z._promise0=U,z._receiver0=U}return M({a:1}),M({b:2}),M({c:3}),M(1),M(function(){}),M(void 0),M(!1),M(new E(y)),T.setBounds(u.firstLineError,o.lastLineError),E}})(lne);var n9e=lne.exports,r9e=Ri,No=n9e();ks.defer=i9e;ks.when=No.resolve;ks.resolve=No.resolve;ks.all=No.all;ks.props=No.props;ks.reject=No.reject;ks.promisify=No.promisify;ks.mapSeries=No.mapSeries;ks.attempt=No.attempt;ks.nfcall=function(e){var t=Array.prototype.slice.call(arguments,1),n=No.promisify(e);return n.apply(null,t)};No.prototype.fail=No.prototype.caught;No.prototype.also=function(e){return this.then(function(t){var n=r9e.extend({},t,e(t));return No.props(n)})};function i9e(){var e,t,n=new No.Promise(function(r,i){e=r,t=i});return{resolve:e,reject:t,promise:n}}var Gn={},s9e=Ri,Ws=Gn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function a9e(e,t){return t=t||{},{type:Ws.document,children:e,notes:t.notes||new FN({}),comments:t.comments||[]}}function o9e(e,t){t=t||{};var n=t.indent||{};return{type:Ws.paragraph,children:e,styleId:t.styleId||null,styleName:t.styleName||null,numbering:t.numbering||null,alignment:t.alignment||null,indent:{start:n.start||null,end:n.end||null,firstLine:n.firstLine||null,hanging:n.hanging||null}}}function l9e(e,t){return t=t||{},{type:Ws.run,children:e,styleId:t.styleId||null,styleName:t.styleName||null,isBold:!!t.isBold,isUnderline:!!t.isUnderline,isItalic:!!t.isItalic,isStrikethrough:!!t.isStrikethrough,isAllCaps:!!t.isAllCaps,isSmallCaps:!!t.isSmallCaps,verticalAlignment:t.verticalAlignment||une.baseline,font:t.font||null,fontSize:t.fontSize||null,highlight:t.highlight||null}}var une={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function c9e(e){return{type:Ws.text,value:e}}function u9e(){return{type:Ws.tab}}function d9e(e){return{type:Ws.checkbox,checked:e.checked}}function f9e(e,t){return{type:Ws.hyperlink,children:e,href:t.href,anchor:t.anchor,targetFrame:t.targetFrame}}function h9e(e){return{type:Ws.noteReference,noteType:e.noteType,noteId:e.noteId}}function FN(e){this._notes=s9e.indexBy(e,function(t){return dne(t.noteType,t.noteId)})}FN.prototype.resolve=function(e){return this.findNoteByKey(dne(e.noteType,e.noteId))};FN.prototype.findNoteByKey=function(e){return this._notes[e]||null};function p9e(e){return{type:Ws.note,noteType:e.noteType,noteId:e.noteId,body:e.body}}function m9e(e){return{type:Ws.commentReference,commentId:e.commentId}}function g9e(e){return{type:Ws.comment,commentId:e.commentId,body:e.body,authorName:e.authorName,authorInitials:e.authorInitials}}function dne(e,t){return e+"-"+t}function x9e(e){return{type:Ws.image,read:function(t){return t?e.readImage(t):e.readImage().then(function(n){return Buffer.from(n)})},readAsArrayBuffer:function(){return e.readImage()},readAsBase64String:function(){return e.readImage("base64")},readAsBuffer:function(){return e.readImage().then(function(t){return Buffer.from(t)})},altText:e.altText,contentType:e.contentType}}function y9e(e,t){return t=t||{},{type:Ws.table,children:e,styleId:t.styleId||null,styleName:t.styleName||null}}function v9e(e,t){return t=t||{},{type:Ws.tableRow,children:e,isHeader:t.isHeader||!1}}function b9e(e,t){return t=t||{},{type:Ws.tableCell,children:e,colSpan:t.colSpan==null?1:t.colSpan,rowSpan:t.rowSpan==null?1:t.rowSpan}}function uP(e){return{type:Ws.break,breakType:e}}function w9e(e){return{type:Ws.bookmarkStart,name:e.name}}Gn.document=Gn.Document=a9e;Gn.paragraph=Gn.Paragraph=o9e;Gn.run=Gn.Run=l9e;Gn.text=Gn.Text=c9e;Gn.tab=Gn.Tab=u9e;Gn.checkbox=Gn.Checkbox=d9e;Gn.Hyperlink=f9e;Gn.noteReference=Gn.NoteReference=h9e;Gn.Notes=FN;Gn.Note=p9e;Gn.commentReference=m9e;Gn.comment=g9e;Gn.Image=x9e;Gn.Table=y9e;Gn.TableRow=v9e;Gn.TableCell=b9e;Gn.lineBreak=uP("line");Gn.pageBreak=uP("page");Gn.columnBreak=uP("column");Gn.BookmarkStart=w9e;Gn.verticalAlignment=une;var il={},$1=Ri;il.Result=wu;il.success=_9e;il.warning=T9e;il.error=E9e;function wu(e,t){this.value=e,this.messages=t||[]}wu.prototype.map=function(e){return new wu(e(this.value),this.messages)};wu.prototype.flatMap=function(e){var t=e(this.value);return new wu(t.value,dP([this,t]))};wu.prototype.flatMapThen=function(e){var t=this;return e(this.value).then(function(n){return new wu(n.value,dP([t,n]))})};wu.combine=function(e){var t=$1.flatten($1.pluck(e,"value")),n=dP(e);return new wu(t,n)};function _9e(e){return new wu(e,[])}function T9e(e){return{type:"warning",message:e}}function E9e(e){return{type:"error",message:e.message,error:e}}function dP(e){var t=[];return $1.flatten($1.pluck(e,"messages"),!0).forEach(function(n){N9e(t,n)||t.push(n)}),t}function N9e(e,t){return $1.find(e,S9e.bind(null,t))!==void 0}function S9e(e,t){return e.type===t.type&&e.message===t.message}var $b={},LN={};LN.byteLength=C9e;LN.toByteArray=j9e;LN.fromByteArray=P9e;var Jc=[],ml=[],k9e=typeof Uint8Array<"u"?Uint8Array:Array,eC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var lg=0,A9e=eC.length;lg<A9e;++lg)Jc[lg]=eC[lg],ml[eC.charCodeAt(lg)]=lg;ml[45]=62;ml[95]=63;function fne(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function C9e(e){var t=fne(e),n=t[0],r=t[1];return(n+r)*3/4-r}function D9e(e,t,n){return(t+n)*3/4-n}function j9e(e){var t,n=fne(e),r=n[0],i=n[1],s=new k9e(D9e(e,r,i)),o=0,l=i>0?r-4:r,c;for(c=0;c<l;c+=4)t=ml[e.charCodeAt(c)]<<18|ml[e.charCodeAt(c+1)]<<12|ml[e.charCodeAt(c+2)]<<6|ml[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=ml[e.charCodeAt(c)]<<2|ml[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=ml[e.charCodeAt(c)]<<10|ml[e.charCodeAt(c+1)]<<4|ml[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function I9e(e){return Jc[e>>18&63]+Jc[e>>12&63]+Jc[e>>6&63]+Jc[e&63]}function R9e(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(I9e(r));return i.join("")}function P9e(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,l=n-r;o<l;o+=s)i.push(R9e(e,o,o+s>l?l:o+s));return r===1?(t=e[n-1],i.push(Jc[t>>2]+Jc[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Jc[t>>10]+Jc[t>>4&63]+Jc[t<<2&63]+"=")),i.join("")}function J2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hne={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,d){if(!i[u]){if(!r[u]){var f=typeof J2=="function"&&J2;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(y){var m=r[u][1][y];return o(m||y)},p,p.exports,n,r,i,s)}return i[u].exports}for(var l=typeof J2=="function"&&J2,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,d,f,h,p,y,m,x=[],v=0,g=c.length,b=g,w=s.getTypeOf(c)!=="string";v<c.length;)b=g-v,f=w?(u=c[v++],d=v<g?c[v++]:0,v<g?c[v++]:0):(u=c.charCodeAt(v++),d=v<g?c.charCodeAt(v++):0,v<g?c.charCodeAt(v++):0),h=u>>2,p=(3&u)<<4|d>>4,y=1<b?(15&d)<<2|f>>6:64,m=2<b?63&f:64,x.push(l.charAt(h)+l.charAt(p)+l.charAt(y)+l.charAt(m));return x.join("")},i.decode=function(c){var u,d,f,h,p,y,m=0,x=0,v="data:";if(c.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var g,b=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&b--,c.charAt(c.length-2)===l.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=o.uint8array?new Uint8Array(0|b):new Array(0|b);m<c.length;)u=l.indexOf(c.charAt(m++))<<2|(h=l.indexOf(c.charAt(m++)))>>4,d=(15&h)<<4|(p=l.indexOf(c.charAt(m++)))>>2,f=(3&p)<<6|(y=l.indexOf(c.charAt(m++))),g[x++]=u,p!==64&&(g[x++]=d),y!==64&&(g[x++]=f);return g}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,f,h,p,y){this.compressedSize=d,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=y}u.prototype={getContentWorker:function(){var d=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,f,h){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(u,d,f,h){var p=o,y=h+f;u^=-1;for(var m=h;m<y;m++)u=u>>>8^p[255&(u^d[m])];return-1^u}(0|c,l,l.length,0):function(u,d,f,h){var p=o,y=h+f;u^=-1;for(var m=h;m<y;m++)u=u>>>8^p[255&(u^d.charCodeAt(m))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=s?"uint8array":"array";function d(f,h){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new d("Deflate",f)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,y){var m,x="";for(m=0;m<y;m++)x+=String.fromCharCode(255&p),p>>>=8;return x}function o(p,y,m,x,v,g){var b,w,T=p.file,k=p.compression,_=g!==u.utf8encode,N=l.transformTo("string",g(T.name)),C=l.transformTo("string",u.utf8encode(T.name)),I=T.comment,j=l.transformTo("string",g(I)),E=l.transformTo("string",u.utf8encode(I)),D=C.length!==T.name.length,R=E.length!==I.length,M="",U="",z="",G=T.dir,F=T.date,W={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(W.crc32=p.crc32,W.compressedSize=p.compressedSize,W.uncompressedSize=p.uncompressedSize);var O=0;y&&(O|=8),_||!D&&!R||(O|=2048);var P=0,B=0;G&&(P|=16),v==="UNIX"?(B=798,P|=function(Q,L){var ee=Q;return Q||(ee=L?16893:33204),(65535&ee)<<16}(T.unixPermissions,G)):(B=20,P|=function(Q){return 63&(Q||0)}(T.dosPermissions)),b=F.getUTCHours(),b<<=6,b|=F.getUTCMinutes(),b<<=5,b|=F.getUTCSeconds()/2,w=F.getUTCFullYear()-1980,w<<=4,w|=F.getUTCMonth()+1,w<<=5,w|=F.getUTCDate(),D&&(U=s(1,1)+s(d(N),4)+C,M+="up"+s(U.length,2)+U),R&&(z=s(1,1)+s(d(j),4)+E,M+="uc"+s(z.length,2)+z);var K="";return K+=`
\0`,K+=s(O,2),K+=k.magic,K+=s(b,2),K+=s(w,2),K+=s(W.crc32,4),K+=s(W.compressedSize,4),K+=s(W.uncompressedSize,4),K+=s(N.length,2),K+=s(M.length,2),{fileRecord:f.LOCAL_FILE_HEADER+K+N+M,dirRecord:f.CENTRAL_FILE_HEADER+s(B,2)+K+s(j.length,2)+"\0\0\0\0"+s(P,4)+s(x,4)+N+M+j}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),f=n("../signature");function h(p,y,m,x){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=x,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,c),h.prototype.push=function(p){var y=p.meta.percent||0,m=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-x-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var y=this.streamFiles&&!p.file.dir;if(y){var m=o(p,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var y=this.streamFiles&&!p.file.dir,m=o(p,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:function(x){return f.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-p,x=function(v,g,b,w,T){var k=l.transformTo("string",T(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(g,4)+s(b,4)+s(k.length,2)+k}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var y=this;return p.on("data",function(m){y.processChunk(m)}),p.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),p.on("error",function(m){y.error(m)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var y=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var m=0;m<y.length;m++)try{y[m].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,y=0;y<p.length;y++)p[y].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(l,c,u){var d=new o(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{l.forEach(function(h,p){f++;var y=function(g,b){var w=g||b,T=s[w];if(!T)throw new Error(w+" is not a valid compression method !");return T}(p.options.compression,c.compression),m=p.options.compressionOptions||c.compressionOptions||{},x=p.dir,v=p.date;p._compressWorker(y,m).withStreamInfo("file",{name:h,dir:x,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function f(h){return new o.Promise(function(p,y){var m=h.decompressed.getContentWorker().pipe(new u);m.on("error",function(x){y(x)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var y=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var x=new c(p);return x.load(m),x}).then(function(m){var x=[o.Promise.resolve(m)],v=m.files;if(p.checkCRC32)for(var g=0;g<v.length;g++)x.push(f(v[g]));return o.Promise.all(x)}).then(function(m){for(var x=m.shift(),v=x.files,g=0;g<v.length;g++){var b=v[g],w=b.fileNameStr,T=s.resolve(b.fileNameStr);y.file(T,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:p.createFolders}),b.dir||(y.file(T).unsafeOriginalName=w)}return x.zipComment.length&&(y.comment=x.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function l(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(l,o),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(l,c,u){s.call(this,c),this._helper=l;var d=this;l.on("data",function(f,h){d.push(f)||d._helper.pause(),u&&u(h)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(T,k,_){var N,C=l.getTypeOf(k),I=l.extend(_||{},d);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(T=v(T)),I.createFolders&&(N=x(T))&&g.call(this,N,!0);var j=C==="string"&&I.binary===!1&&I.base64===!1;_&&_.binary!==void 0||(I.binary=!j),(k instanceof f&&k.uncompressedSize===0||I.dir||!k||k.length===0)&&(I.base64=!1,I.binary=!0,k="",I.compression="STORE",C="string");var E=null;E=k instanceof f||k instanceof c?k:y.isNode&&y.isStream(k)?new m(T,k):l.prepareContent(T,k,I.binary,I.optimizedBinaryString,I.base64);var D=new h(T,E,I);this.files[T]=D}var o=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),y=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),x=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var k=T.lastIndexOf("/");return 0<k?T.substring(0,k):""},v=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},g=function(T,k){return k=k!==void 0?k:d.createFolders,T=v(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:k}),this.files[T]};function b(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var k,_,N;for(k in this.files)N=this.files[k],(_=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&T(_,N)},filter:function(T){var k=[];return this.forEach(function(_,N){T(_,N)&&k.push(N)}),k},file:function(T,k,_){if(arguments.length!==1)return T=this.root+T,s.call(this,T,k,_),this;if(b(T)){var N=T;return this.filter(function(I,j){return!j.dir&&N.test(I)})}var C=this.files[this.root+T];return C&&!C.dir?C:null},folder:function(T){if(!T)return this;if(b(T))return this.filter(function(C,I){return I.dir&&T.test(C)});var k=this.root+T,_=g.call(this,k),N=this.clone();return N.root=_.name,N},remove:function(T){T=this.root+T;var k=this.files[T];if(k||(T.slice(-1)!=="/"&&(T+="/"),k=this.files[T]),k&&!k.dir)delete this.files[T];else for(var _=this.filter(function(C,I){return I.name.slice(0,T.length)===T}),N=0;N<_.length;N++)delete this.files[_[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var k,_={};try{if((_=l.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");l.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var N=_.comment||this.comment||"";k=p.generateWorker(this,_,N)}catch(C){(k=new c("error")).error(C)}return new u(k,_.type||"string",_.mimeType)},generateAsync:function(T,k){return this.generateInternalStream(T).accumulate(k)},generateNodeStream:function(T,k){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(k)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),f=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),f=l.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&d===h[2]&&f===h[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(f):o.uint8array?new d(s.transformTo("uint8array",f)):new l(s.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,o),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function l(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=s.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,m){return new d.Promise(function(x,v){var g=[],b=y._internalType,w=y._outputType,T=y._mimeType;y.on("data",function(k,_){g.push(k),m&&m(_)}).on("error",function(k){g=[],v(k)}).on("end",function(){try{var k=function(_,N,C){switch(_){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),C);case"base64":return c.encode(N);default:return s.transformTo(_,N)}}(w,function(_,N){var C,I=0,j=null,E=0;for(C=0;C<N.length;C++)E+=N[C].length;switch(_){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(j=new Uint8Array(E),C=0;C<N.length;C++)j.set(N[C],I),I+=N[C].length;return j;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+_+"'")}}(b,g),T);x(k)}catch(_){v(_)}g=[]}).resume()})}function p(y,m,x){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=x,s.checkSupport(v),this._worker=y.pipe(new o(v)),y.lock()}catch(g){this._worker=new l("error"),this._worker.error(g)}}p.prototype={accumulate:function(y){return h(this,y)},on:function(y,m){var x=this;return y==="data"?this._worker.on(y,function(v){m.call(x,v.data,v.meta)}):this._worker.on(y,function(){s.delay(m,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?l.newBufferFrom(p,"utf-8"):function(y){var m,x,v,g,b,w=y.length,T=0;for(g=0;g<w;g++)(64512&(x=y.charCodeAt(g)))==55296&&g+1<w&&(64512&(v=y.charCodeAt(g+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),g++),T+=x<128?1:x<2048?2:x<65536?3:4;for(m=o.uint8array?new Uint8Array(T):new Array(T),g=b=0;b<T;g++)(64512&(x=y.charCodeAt(g)))==55296&&g+1<w&&(64512&(v=y.charCodeAt(g+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),g++),x<128?m[b++]=x:(x<2048?m[b++]=192|x>>>6:(x<65536?m[b++]=224|x>>>12:(m[b++]=240|x>>>18,m[b++]=128|x>>>12&63),m[b++]=128|x>>>6&63),m[b++]=128|63&x);return m}(p)},i.utf8decode=function(p){return o.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(y){var m,x,v,g,b=y.length,w=new Array(2*b);for(m=x=0;m<b;)if((v=y[m++])<128)w[x++]=v;else if(4<(g=u[v]))w[x++]=65533,m+=g-1;else{for(v&=g===2?31:g===3?15:7;1<g&&m<b;)v=v<<6|63&y[m++],g--;1<g?w[x++]=65533:v<65536?w[x++]=v:(v-=65536,w[x++]=55296|v>>10&1023,w[x++]=56320|1023&v)}return w.length!==x&&(w.subarray?w=w.subarray(0,x):w.length=x),s.applyFromCharCode(w)}(p=s.transformTo(o.uint8array?"uint8array":"array",p))},s.inherits(f,c),f.prototype.processChunk=function(p){var y=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var x=function(g,b){var w;for((b=b||g.length)>g.length&&(b=g.length),w=b-1;0<=w&&(192&g[w])==128;)w--;return w<0||w===0?b:w+u[g[w]]>b?w:b}(y),v=y;x!==y.length&&(o.uint8array?(v=y.subarray(0,x),this.leftOver=y.subarray(x,y.length)):(v=y.slice(0,x),this.leftOver=y.slice(x,y.length))),this.push({data:i.utf8decode(v),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(m){return m}function d(m,x){for(var v=0;v<m.length;++v)x[v]=255&m.charCodeAt(v);return x}n("setimmediate"),i.newBlob=function(m,x){i.checkSupport("blob");try{return new Blob([m],{type:x})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,x,v){var g=[],b=0,w=m.length;if(w<=v)return String.fromCharCode.apply(null,m);for(;b<w;)x==="array"||x==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(b,Math.min(b+v,w)))):g.push(String.fromCharCode.apply(null,m.subarray(b,Math.min(b+v,w)))),b+=v;return g.join("")},stringifyByChar:function(m){for(var x="",v=0;v<m.length;v++)x+=String.fromCharCode(m[v]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(m){var x=65536,v=i.getTypeOf(m),g=!0;if(v==="uint8array"?g=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(g=f.applyCanBeUsed.nodebuffer),g)for(;1<x;)try{return f.stringifyByChunk(m,v,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(m)}function p(m,x){for(var v=0;v<m.length;v++)x[v]=m[v];return x}i.applyFromCharCode=h;var y={};y.string={string:u,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,l.allocBuffer(m.length))}},y.array={string:h,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return l.newBufferFrom(m)}},y.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return l.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return l.newBufferFrom(m)}},y.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,x){if(x=x||"",!m)return x;i.checkSupport(m);var v=i.getTypeOf(x);return y[v][m](x)},i.resolve=function(m){for(var x=m.split("/"),v=[],g=0;g<x.length;g++){var b=x[g];b==="."||b===""&&g!==0&&g!==x.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var x,v,g="";for(v=0;v<(m||"").length;v++)g+="\\x"+((x=m.charCodeAt(v))<16?"0":"")+x.toString(16).toUpperCase();return g},i.delay=function(m,x,v){setImmediate(function(){m.apply(v||null,x||[])})},i.inherits=function(m,x){function v(){}v.prototype=x.prototype,m.prototype=new v},i.extend=function(){var m,x,v={};for(m=0;m<arguments.length;m++)for(x in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],x)&&v[x]===void 0&&(v[x]=arguments[m][x]);return v},i.prepareContent=function(m,x,v,g,b){return c.Promise.resolve(x).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(T,k){var _=new FileReader;_.onload=function(N){T(N.target.result)},_.onerror=function(N){k(N.target.error)},_.readAsArrayBuffer(w)}):w}).then(function(w){var T=i.getTypeOf(w);return T?(T==="arraybuffer"?w=i.transformTo("uint8array",w):T==="string"&&(b?w=o.decode(w):v&&g!==!0&&(w=function(k){return d(k,s.uint8array?new Uint8Array(k.length):new Array(k.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===h;return this.reader.setIndex(p),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",p=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var y=h-p;if(0<y)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),f=n("./support");function h(p,y){this.options=p,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var y,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(x){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===x)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,y,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var y=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(y),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var y,m,x,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)y=p.readInt(2),m=p.readInt(2),x=p.readData(m),this.extraFields[y]={id:y,length:m,value:x};p.setIndex(v)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var v=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var y=s(p.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var y=s(p.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(y,m,x){this.name=y,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=m,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(y){var m=null,x="string";try{if(!y)throw new Error("No output type specified.");var v=(x=y.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),m=this._decompressWorker();var g=!this._dataBinary;g&&!v&&(m=m.pipe(new c.Utf8EncodeWorker)),!g&&v&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(b){(m=new d("error")).error(b)}return new o(m,x,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(x,y,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var u=0,d=new c(y),f=s.document.createTextNode("");d.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var h=new s.MessageChannel;h.port1.onmessage=y,o=function(){h.port2.postMessage(0)}}var p=[];function y(){var m,x;l=!0;for(var v=p.length;v;){for(x=p,p=[],m=-1;++m<v;)x[m]();v=p.length}l=!1}r.exports=function(m){p.push(m)!==1||l||o()}}).call(this,typeof on<"u"?on:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==o&&m(this,v)}function h(v,g,b){this.promise=v,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function p(v,g,b){s(function(){var w;try{w=g(b)}catch(T){return l.reject(v,T)}w===v?l.reject(v,new TypeError("Cannot resolve promise with itself")):l.resolve(v,w)})}function y(v){var g=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof g=="function")return function(){g.apply(v,arguments)}}function m(v,g){var b=!1;function w(_){b||(b=!0,l.reject(v,_))}function T(_){b||(b=!0,l.resolve(v,_))}var k=x(function(){g(T,w)});k.status==="error"&&w(k.value)}function x(v,g){var b={};try{b.value=v(g),b.status="success"}catch(w){b.status="error",b.value=w}return b}(r.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var g=this.constructor;return this.then(function(b){return g.resolve(v()).then(function(){return b})},function(b){return g.resolve(v()).then(function(){throw b})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,g){if(typeof v!="function"&&this.state===u||typeof g!="function"&&this.state===c)return this;var b=new this.constructor(o);return this.state!==d?p(b,this.state===u?v:g,this.outcome):this.queue.push(new h(b,v,g)),b},h.prototype.callFulfilled=function(v){l.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){l.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},l.resolve=function(v,g){var b=x(y,g);if(b.status==="error")return l.reject(v,b.value);var w=b.value;if(w)m(v,w);else{v.state=u,v.outcome=g;for(var T=-1,k=v.queue.length;++T<k;)v.queue[T].callFulfilled(g)}return v},l.reject=function(v,g){v.state=c,v.outcome=g;for(var b=-1,w=v.queue.length;++b<w;)v.queue[b].callRejected(g);return v},f.resolve=function(v){return v instanceof this?v:l.resolve(new this(o),v)},f.reject=function(v){var g=new this(o);return l.reject(g,v)},f.all=function(v){var g=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,w=!1;if(!b)return this.resolve([]);for(var T=new Array(b),k=0,_=-1,N=new this(o);++_<b;)C(v[_],_);return N;function C(I,j){g.resolve(I).then(function(E){T[j]=E,++k!==b||w||(w=!0,l.resolve(N,T))},function(E){w||(w=!0,l.reject(N,E))})}},f.race=function(v){var g=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,w=!1;if(!b)return this.resolve([]);for(var T=-1,k=new this(o);++T<b;)_=v[T],g.resolve(_).then(function(N){w||(w=!0,l.resolve(k,N))},function(N){w||(w=!0,l.reject(k,N))});var _;return k}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,f=0,h=-1,p=0,y=8;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(b!==f)throw new Error(c[b]);if(g.header&&s.deflateSetHeader(this.strm,g.header),g.dictionary){var w;if(w=typeof g.dictionary=="string"?l.string2buf(g.dictionary):d.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(b=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(c[b]);this._dict_set=!0}}function x(v,g){var b=new m(g);if(b.push(v,!0),b.err)throw b.msg||c[b.err];return b.result}m.prototype.push=function(v,g){var b,w,T=this.strm,k=this.options.chunkSize;if(this.ended)return!1;w=g===~~g?g:g===!0?4:0,typeof v=="string"?T.input=l.string2buf(v):d.call(v)==="[object ArrayBuffer]"?T.input=new Uint8Array(v):T.input=v,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(k),T.next_out=0,T.avail_out=k),(b=s.deflate(T,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(T.output,T.next_out))):this.onData(o.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&b!==1);return w===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(T.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=x,i.deflateRaw=function(v,g){return(g=g||{}).raw=!0,x(v,g)},i.gzip=function(v,g){return(g=g||{}).gzip=!0,x(v,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||m&&m.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,x.windowBits);if(v!==c.Z_OK)throw new Error(u[v]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function y(m,x){var v=new p(x);if(v.push(m,!0),v.err)throw v.msg||u[v.err];return v.result}p.prototype.push=function(m,x){var v,g,b,w,T,k,_=this.strm,N=this.options.chunkSize,C=this.options.dictionary,I=!1;if(this.ended)return!1;g=x===~~x?x:x===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?_.input=l.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(N),_.next_out=0,_.avail_out=N),(v=s.inflate(_,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(k=typeof C=="string"?l.string2buf(C):h.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,v=s.inflateSetDictionary(this.strm,k)),v===c.Z_BUF_ERROR&&I===!0&&(v=c.Z_OK,I=!1),v!==c.Z_STREAM_END&&v!==c.Z_OK)return this.onEnd(v),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&v!==c.Z_STREAM_END&&(_.avail_in!==0||g!==c.Z_FINISH&&g!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=l.utf8border(_.output,_.next_out),w=_.next_out-b,T=l.buf2string(_.output,b),_.next_out=w,_.avail_out=N-w,w&&o.arraySet(_.output,_.output,b,w,0),this.onData(T)):this.onData(o.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(I=!0)}while((0<_.avail_in||_.avail_out===0)&&v!==c.Z_STREAM_END);return v===c.Z_STREAM_END&&(g=c.Z_FINISH),g===c.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c.Z_OK):g!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(_.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=y,i.inflateRaw=function(m,x){return(x=x||{}).raw=!0,y(m,x)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,d,f,h){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+f),h);else for(var p=0;p<f;p++)c[h+p]=u[d+p]},flattenChunks:function(c){var u,d,f,h,p,y;for(u=f=0,d=c.length;u<d;u++)f+=c[u].length;for(y=new Uint8Array(f),u=h=0,d=c.length;u<d;u++)p=c[u],y.set(p,h),h+=p.length;return y}},l={arraySet:function(c,u,d,f,h){for(var p=0;p<f;p++)c[h+p]=u[d+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(f,h){if(h<65537&&(f.subarray&&l||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",y=0;y<h;y++)p+=String.fromCharCode(f[y]);return p}c[254]=c[254]=1,i.string2buf=function(f){var h,p,y,m,x,v=f.length,g=0;for(m=0;m<v;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),m++),g+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(g),m=x=0;x<g;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),m++),p<128?h[x++]=p:(p<2048?h[x++]=192|p>>>6:(p<65536?h[x++]=224|p>>>12:(h[x++]=240|p>>>18,h[x++]=128|p>>>12&63),h[x++]=128|p>>>6&63),h[x++]=128|63&p);return h},i.buf2binstring=function(f){return d(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,y=h.length;p<y;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,y,m,x,v=h||f.length,g=new Array(2*v);for(p=y=0;p<v;)if((m=f[p++])<128)g[y++]=m;else if(4<(x=c[m]))g[y++]=65533,p+=x-1;else{for(m&=x===2?31:x===3?15:7;1<x&&p<v;)m=m<<6|63&f[p++],x--;1<x?g[y++]=65533:m<65536?g[y++]=m:(m-=65536,g[y++]=55296|m>>10&1023,g[y++]=56320|1023&m)}return d(g,y)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+c[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,l,c){for(var u=65535&s|0,d=s>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;d=d+(u=u+o[c++]|0)|0,--f;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l,c,u){var d=s,f=u+c;o^=-1;for(var h=u;h<f;h++)o=o>>>8^d[255&(o^l[h])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),f=0,h=4,p=0,y=-2,m=-1,x=4,v=2,g=8,b=9,w=286,T=30,k=19,_=2*w+1,N=15,C=3,I=258,j=I+C+1,E=42,D=113,R=1,M=2,U=3,z=4;function G(V,ke){return V.msg=d[ke],ke}function F(V){return(V<<1)-(4<V?9:0)}function W(V){for(var ke=V.length;0<=--ke;)V[ke]=0}function O(V){var ke=V.state,xe=ke.pending;xe>V.avail_out&&(xe=V.avail_out),xe!==0&&(o.arraySet(V.output,ke.pending_buf,ke.pending_out,xe,V.next_out),V.next_out+=xe,ke.pending_out+=xe,V.total_out+=xe,V.avail_out-=xe,ke.pending-=xe,ke.pending===0&&(ke.pending_out=0))}function P(V,ke){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ke),V.block_start=V.strstart,O(V.strm)}function B(V,ke){V.pending_buf[V.pending++]=ke}function K(V,ke){V.pending_buf[V.pending++]=ke>>>8&255,V.pending_buf[V.pending++]=255&ke}function Q(V,ke){var xe,re,J=V.max_chain_length,pe=V.strstart,Y=V.prev_length,le=V.nice_match,te=V.strstart>V.w_size-j?V.strstart-(V.w_size-j):0,oe=V.window,ae=V.w_mask,fe=V.prev,Ae=V.strstart+I,Me=oe[pe+Y-1],Ve=oe[pe+Y];V.prev_length>=V.good_match&&(J>>=2),le>V.lookahead&&(le=V.lookahead);do if(oe[(xe=ke)+Y]===Ve&&oe[xe+Y-1]===Me&&oe[xe]===oe[pe]&&oe[++xe]===oe[pe+1]){pe+=2,xe++;do;while(oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&oe[++pe]===oe[++xe]&&pe<Ae);if(re=I-(Ae-pe),pe=Ae-I,Y<re){if(V.match_start=ke,le<=(Y=re))break;Me=oe[pe+Y-1],Ve=oe[pe+Y]}}while((ke=fe[ke&ae])>te&&--J!=0);return Y<=V.lookahead?Y:V.lookahead}function L(V){var ke,xe,re,J,pe,Y,le,te,oe,ae,fe=V.w_size;do{if(J=V.window_size-V.lookahead-V.strstart,V.strstart>=fe+(fe-j)){for(o.arraySet(V.window,V.window,fe,fe,0),V.match_start-=fe,V.strstart-=fe,V.block_start-=fe,ke=xe=V.hash_size;re=V.head[--ke],V.head[ke]=fe<=re?re-fe:0,--xe;);for(ke=xe=fe;re=V.prev[--ke],V.prev[ke]=fe<=re?re-fe:0,--xe;);J+=fe}if(V.strm.avail_in===0)break;if(Y=V.strm,le=V.window,te=V.strstart+V.lookahead,oe=J,ae=void 0,ae=Y.avail_in,oe<ae&&(ae=oe),xe=ae===0?0:(Y.avail_in-=ae,o.arraySet(le,Y.input,Y.next_in,ae,te),Y.state.wrap===1?Y.adler=c(Y.adler,le,ae,te):Y.state.wrap===2&&(Y.adler=u(Y.adler,le,ae,te)),Y.next_in+=ae,Y.total_in+=ae,ae),V.lookahead+=xe,V.lookahead+V.insert>=C)for(pe=V.strstart-V.insert,V.ins_h=V.window[pe],V.ins_h=(V.ins_h<<V.hash_shift^V.window[pe+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[pe+C-1])&V.hash_mask,V.prev[pe&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=pe,pe++,V.insert--,!(V.lookahead+V.insert<C)););}while(V.lookahead<j&&V.strm.avail_in!==0)}function ee(V,ke){for(var xe,re;;){if(V.lookahead<j){if(L(V),V.lookahead<j&&ke===f)return R;if(V.lookahead===0)break}if(xe=0,V.lookahead>=C&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,xe=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),xe!==0&&V.strstart-xe<=V.w_size-j&&(V.match_length=Q(V,xe)),V.match_length>=C)if(re=l._tr_tally(V,V.strstart-V.match_start,V.match_length-C),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=C){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,xe=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else re=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(re&&(P(V,!1),V.strm.avail_out===0))return R}return V.insert=V.strstart<C-1?V.strstart:C-1,ke===h?(P(V,!0),V.strm.avail_out===0?U:z):V.last_lit&&(P(V,!1),V.strm.avail_out===0)?R:M}function ge(V,ke){for(var xe,re,J;;){if(V.lookahead<j){if(L(V),V.lookahead<j&&ke===f)return R;if(V.lookahead===0)break}if(xe=0,V.lookahead>=C&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,xe=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=C-1,xe!==0&&V.prev_length<V.max_lazy_match&&V.strstart-xe<=V.w_size-j&&(V.match_length=Q(V,xe),V.match_length<=5&&(V.strategy===1||V.match_length===C&&4096<V.strstart-V.match_start)&&(V.match_length=C-1)),V.prev_length>=C&&V.match_length<=V.prev_length){for(J=V.strstart+V.lookahead-C,re=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-C),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=J&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,xe=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=C-1,V.strstart++,re&&(P(V,!1),V.strm.avail_out===0))return R}else if(V.match_available){if((re=l._tr_tally(V,0,V.window[V.strstart-1]))&&P(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return R}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(re=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<C-1?V.strstart:C-1,ke===h?(P(V,!0),V.strm.avail_out===0?U:z):V.last_lit&&(P(V,!1),V.strm.avail_out===0)?R:M}function he(V,ke,xe,re,J){this.good_length=V,this.max_lazy=ke,this.nice_length=xe,this.max_chain=re,this.func=J}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*T+1)),this.bl_tree=new o.Buf16(2*(2*k+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*w+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(V){var ke;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=v,(ke=V.state).pending=0,ke.pending_out=0,ke.wrap<0&&(ke.wrap=-ke.wrap),ke.status=ke.wrap?E:D,V.adler=ke.wrap===2?0:1,ke.last_flush=f,l._tr_init(ke),p):G(V,y)}function Z(V){var ke=Oe(V);return ke===p&&function(xe){xe.window_size=2*xe.w_size,W(xe.head),xe.max_lazy_match=s[xe.level].max_lazy,xe.good_match=s[xe.level].good_length,xe.nice_match=s[xe.level].nice_length,xe.max_chain_length=s[xe.level].max_chain,xe.strstart=0,xe.block_start=0,xe.lookahead=0,xe.insert=0,xe.match_length=xe.prev_length=C-1,xe.match_available=0,xe.ins_h=0}(V.state),ke}function Ie(V,ke,xe,re,J,pe){if(!V)return y;var Y=1;if(ke===m&&(ke=6),re<0?(Y=0,re=-re):15<re&&(Y=2,re-=16),J<1||b<J||xe!==g||re<8||15<re||ke<0||9<ke||pe<0||x<pe)return G(V,y);re===8&&(re=9);var le=new be;return(V.state=le).strm=V,le.wrap=Y,le.gzhead=null,le.w_bits=re,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=J+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+C-1)/C),le.window=new o.Buf8(2*le.w_size),le.head=new o.Buf16(le.hash_size),le.prev=new o.Buf16(le.w_size),le.lit_bufsize=1<<J+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new o.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=ke,le.strategy=pe,le.method=xe,Z(V)}s=[new he(0,0,0,0,function(V,ke){var xe=65535;for(xe>V.pending_buf_size-5&&(xe=V.pending_buf_size-5);;){if(V.lookahead<=1){if(L(V),V.lookahead===0&&ke===f)return R;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var re=V.block_start+xe;if((V.strstart===0||V.strstart>=re)&&(V.lookahead=V.strstart-re,V.strstart=re,P(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-j&&(P(V,!1),V.strm.avail_out===0))return R}return V.insert=0,ke===h?(P(V,!0),V.strm.avail_out===0?U:z):(V.strstart>V.block_start&&(P(V,!1),V.strm.avail_out),R)}),new he(4,4,8,4,ee),new he(4,5,16,8,ee),new he(4,6,32,32,ee),new he(4,4,16,16,ge),new he(8,16,32,32,ge),new he(8,16,128,128,ge),new he(8,32,128,256,ge),new he(32,128,258,1024,ge),new he(32,258,258,4096,ge)],i.deflateInit=function(V,ke){return Ie(V,ke,g,15,8,0)},i.deflateInit2=Ie,i.deflateReset=Z,i.deflateResetKeep=Oe,i.deflateSetHeader=function(V,ke){return V&&V.state?V.state.wrap!==2?y:(V.state.gzhead=ke,p):y},i.deflate=function(V,ke){var xe,re,J,pe;if(!V||!V.state||5<ke||ke<0)return V?G(V,y):y;if(re=V.state,!V.output||!V.input&&V.avail_in!==0||re.status===666&&ke!==h)return G(V,V.avail_out===0?-5:y);if(re.strm=V,xe=re.last_flush,re.last_flush=ke,re.status===E)if(re.wrap===2)V.adler=0,B(re,31),B(re,139),B(re,8),re.gzhead?(B(re,(re.gzhead.text?1:0)+(re.gzhead.hcrc?2:0)+(re.gzhead.extra?4:0)+(re.gzhead.name?8:0)+(re.gzhead.comment?16:0)),B(re,255&re.gzhead.time),B(re,re.gzhead.time>>8&255),B(re,re.gzhead.time>>16&255),B(re,re.gzhead.time>>24&255),B(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),B(re,255&re.gzhead.os),re.gzhead.extra&&re.gzhead.extra.length&&(B(re,255&re.gzhead.extra.length),B(re,re.gzhead.extra.length>>8&255)),re.gzhead.hcrc&&(V.adler=u(V.adler,re.pending_buf,re.pending,0)),re.gzindex=0,re.status=69):(B(re,0),B(re,0),B(re,0),B(re,0),B(re,0),B(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),B(re,3),re.status=D);else{var Y=g+(re.w_bits-8<<4)<<8;Y|=(2<=re.strategy||re.level<2?0:re.level<6?1:re.level===6?2:3)<<6,re.strstart!==0&&(Y|=32),Y+=31-Y%31,re.status=D,K(re,Y),re.strstart!==0&&(K(re,V.adler>>>16),K(re,65535&V.adler)),V.adler=1}if(re.status===69)if(re.gzhead.extra){for(J=re.pending;re.gzindex<(65535&re.gzhead.extra.length)&&(re.pending!==re.pending_buf_size||(re.gzhead.hcrc&&re.pending>J&&(V.adler=u(V.adler,re.pending_buf,re.pending-J,J)),O(V),J=re.pending,re.pending!==re.pending_buf_size));)B(re,255&re.gzhead.extra[re.gzindex]),re.gzindex++;re.gzhead.hcrc&&re.pending>J&&(V.adler=u(V.adler,re.pending_buf,re.pending-J,J)),re.gzindex===re.gzhead.extra.length&&(re.gzindex=0,re.status=73)}else re.status=73;if(re.status===73)if(re.gzhead.name){J=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>J&&(V.adler=u(V.adler,re.pending_buf,re.pending-J,J)),O(V),J=re.pending,re.pending===re.pending_buf_size)){pe=1;break}pe=re.gzindex<re.gzhead.name.length?255&re.gzhead.name.charCodeAt(re.gzindex++):0,B(re,pe)}while(pe!==0);re.gzhead.hcrc&&re.pending>J&&(V.adler=u(V.adler,re.pending_buf,re.pending-J,J)),pe===0&&(re.gzindex=0,re.status=91)}else re.status=91;if(re.status===91)if(re.gzhead.comment){J=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>J&&(V.adler=u(V.adler,re.pending_buf,re.pending-J,J)),O(V),J=re.pending,re.pending===re.pending_buf_size)){pe=1;break}pe=re.gzindex<re.gzhead.comment.length?255&re.gzhead.comment.charCodeAt(re.gzindex++):0,B(re,pe)}while(pe!==0);re.gzhead.hcrc&&re.pending>J&&(V.adler=u(V.adler,re.pending_buf,re.pending-J,J)),pe===0&&(re.status=103)}else re.status=103;if(re.status===103&&(re.gzhead.hcrc?(re.pending+2>re.pending_buf_size&&O(V),re.pending+2<=re.pending_buf_size&&(B(re,255&V.adler),B(re,V.adler>>8&255),V.adler=0,re.status=D)):re.status=D),re.pending!==0){if(O(V),V.avail_out===0)return re.last_flush=-1,p}else if(V.avail_in===0&&F(ke)<=F(xe)&&ke!==h)return G(V,-5);if(re.status===666&&V.avail_in!==0)return G(V,-5);if(V.avail_in!==0||re.lookahead!==0||ke!==f&&re.status!==666){var le=re.strategy===2?function(te,oe){for(var ae;;){if(te.lookahead===0&&(L(te),te.lookahead===0)){if(oe===f)return R;break}if(te.match_length=0,ae=l._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,ae&&(P(te,!1),te.strm.avail_out===0))return R}return te.insert=0,oe===h?(P(te,!0),te.strm.avail_out===0?U:z):te.last_lit&&(P(te,!1),te.strm.avail_out===0)?R:M}(re,ke):re.strategy===3?function(te,oe){for(var ae,fe,Ae,Me,Ve=te.window;;){if(te.lookahead<=I){if(L(te),te.lookahead<=I&&oe===f)return R;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=C&&0<te.strstart&&(fe=Ve[Ae=te.strstart-1])===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]){Me=te.strstart+I;do;while(fe===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]&&fe===Ve[++Ae]&&Ae<Me);te.match_length=I-(Me-Ae),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=C?(ae=l._tr_tally(te,1,te.match_length-C),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(ae=l._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),ae&&(P(te,!1),te.strm.avail_out===0))return R}return te.insert=0,oe===h?(P(te,!0),te.strm.avail_out===0?U:z):te.last_lit&&(P(te,!1),te.strm.avail_out===0)?R:M}(re,ke):s[re.level].func(re,ke);if(le!==U&&le!==z||(re.status=666),le===R||le===U)return V.avail_out===0&&(re.last_flush=-1),p;if(le===M&&(ke===1?l._tr_align(re):ke!==5&&(l._tr_stored_block(re,0,0,!1),ke===3&&(W(re.head),re.lookahead===0&&(re.strstart=0,re.block_start=0,re.insert=0))),O(V),V.avail_out===0))return re.last_flush=-1,p}return ke!==h?p:re.wrap<=0?1:(re.wrap===2?(B(re,255&V.adler),B(re,V.adler>>8&255),B(re,V.adler>>16&255),B(re,V.adler>>24&255),B(re,255&V.total_in),B(re,V.total_in>>8&255),B(re,V.total_in>>16&255),B(re,V.total_in>>24&255)):(K(re,V.adler>>>16),K(re,65535&V.adler)),O(V),0<re.wrap&&(re.wrap=-re.wrap),re.pending!==0?p:1)},i.deflateEnd=function(V){var ke;return V&&V.state?(ke=V.state.status)!==E&&ke!==69&&ke!==73&&ke!==91&&ke!==103&&ke!==D&&ke!==666?G(V,y):(V.state=null,ke===D?G(V,-3):p):y},i.deflateSetDictionary=function(V,ke){var xe,re,J,pe,Y,le,te,oe,ae=ke.length;if(!V||!V.state||(pe=(xe=V.state).wrap)===2||pe===1&&xe.status!==E||xe.lookahead)return y;for(pe===1&&(V.adler=c(V.adler,ke,ae,0)),xe.wrap=0,ae>=xe.w_size&&(pe===0&&(W(xe.head),xe.strstart=0,xe.block_start=0,xe.insert=0),oe=new o.Buf8(xe.w_size),o.arraySet(oe,ke,ae-xe.w_size,xe.w_size,0),ke=oe,ae=xe.w_size),Y=V.avail_in,le=V.next_in,te=V.input,V.avail_in=ae,V.next_in=0,V.input=ke,L(xe);xe.lookahead>=C;){for(re=xe.strstart,J=xe.lookahead-(C-1);xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[re+C-1])&xe.hash_mask,xe.prev[re&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=re,re++,--J;);xe.strstart=re,xe.lookahead=C-1,L(xe)}return xe.strstart+=xe.lookahead,xe.block_start=xe.strstart,xe.insert=xe.lookahead,xe.lookahead=0,xe.match_length=xe.prev_length=C-1,xe.match_available=0,V.next_in=le,V.input=te,V.avail_in=Y,xe.wrap=pe,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var l,c,u,d,f,h,p,y,m,x,v,g,b,w,T,k,_,N,C,I,j,E,D,R,M;l=s.state,c=s.next_in,R=s.input,u=c+(s.avail_in-5),d=s.next_out,M=s.output,f=d-(o-s.avail_out),h=d+(s.avail_out-257),p=l.dmax,y=l.wsize,m=l.whave,x=l.wnext,v=l.window,g=l.hold,b=l.bits,w=l.lencode,T=l.distcode,k=(1<<l.lenbits)-1,_=(1<<l.distbits)-1;e:do{b<15&&(g+=R[c++]<<b,b+=8,g+=R[c++]<<b,b+=8),N=w[g&k];t:for(;;){if(g>>>=C=N>>>24,b-=C,(C=N>>>16&255)===0)M[d++]=65535&N;else{if(!(16&C)){if(!(64&C)){N=w[(65535&N)+(g&(1<<C)-1)];continue t}if(32&C){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}I=65535&N,(C&=15)&&(b<C&&(g+=R[c++]<<b,b+=8),I+=g&(1<<C)-1,g>>>=C,b-=C),b<15&&(g+=R[c++]<<b,b+=8,g+=R[c++]<<b,b+=8),N=T[g&_];n:for(;;){if(g>>>=C=N>>>24,b-=C,!(16&(C=N>>>16&255))){if(!(64&C)){N=T[(65535&N)+(g&(1<<C)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(j=65535&N,b<(C&=15)&&(g+=R[c++]<<b,(b+=8)<C&&(g+=R[c++]<<b,b+=8)),p<(j+=g&(1<<C)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(g>>>=C,b-=C,(C=d-f)<j){if(m<(C=j-C)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(D=v,(E=0)===x){if(E+=y-C,C<I){for(I-=C;M[d++]=v[E++],--C;);E=d-j,D=M}}else if(x<C){if(E+=y+x-C,(C-=x)<I){for(I-=C;M[d++]=v[E++],--C;);if(E=0,x<I){for(I-=C=x;M[d++]=v[E++],--C;);E=d-j,D=M}}}else if(E+=x-C,C<I){for(I-=C;M[d++]=v[E++],--C;);E=d-j,D=M}for(;2<I;)M[d++]=D[E++],M[d++]=D[E++],M[d++]=D[E++],I-=3;I&&(M[d++]=D[E++],1<I&&(M[d++]=D[E++]))}else{for(E=d-j;M[d++]=M[E++],M[d++]=M[E++],M[d++]=M[E++],2<(I-=3););I&&(M[d++]=M[E++],1<I&&(M[d++]=M[E++]))}break}}break}}while(c<u&&d<h);c-=I=b>>3,g&=(1<<(b-=I<<3))-1,s.next_in=c,s.next_out=d,s.avail_in=c<u?u-c+5:5-(c-u),s.avail_out=d<h?h-d+257:257-(d-h),l.hold=g,l.bits=b}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,f=2,h=0,p=-2,y=1,m=852,x=592;function v(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(E){var D;return E&&E.state?(D=E.state,E.total_in=E.total_out=D.total=0,E.msg="",D.wrap&&(E.adler=1&D.wrap),D.mode=y,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new s.Buf32(m),D.distcode=D.distdyn=new s.Buf32(x),D.sane=1,D.back=-1,h):p}function w(E){var D;return E&&E.state?((D=E.state).wsize=0,D.whave=0,D.wnext=0,b(E)):p}function T(E,D){var R,M;return E&&E.state?(M=E.state,D<0?(R=0,D=-D):(R=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?p:(M.window!==null&&M.wbits!==D&&(M.window=null),M.wrap=R,M.wbits=D,w(E))):p}function k(E,D){var R,M;return E?(M=new g,(E.state=M).window=null,(R=T(E,D))!==h&&(E.state=null),R):p}var _,N,C=!0;function I(E){if(C){var D;for(_=new s.Buf32(512),N=new s.Buf32(32),D=0;D<144;)E.lens[D++]=8;for(;D<256;)E.lens[D++]=9;for(;D<280;)E.lens[D++]=7;for(;D<288;)E.lens[D++]=8;for(u(d,E.lens,0,288,_,0,E.work,{bits:9}),D=0;D<32;)E.lens[D++]=5;u(f,E.lens,0,32,N,0,E.work,{bits:5}),C=!1}E.lencode=_,E.lenbits=9,E.distcode=N,E.distbits=5}function j(E,D,R,M){var U,z=E.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new s.Buf8(z.wsize)),M>=z.wsize?(s.arraySet(z.window,D,R-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(M<(U=z.wsize-z.wnext)&&(U=M),s.arraySet(z.window,D,R-M,U,z.wnext),(M-=U)?(s.arraySet(z.window,D,R-M,M,0),z.wnext=M,z.whave=z.wsize):(z.wnext+=U,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=U))),0}i.inflateReset=w,i.inflateReset2=T,i.inflateResetKeep=b,i.inflateInit=function(E){return k(E,15)},i.inflateInit2=k,i.inflate=function(E,D){var R,M,U,z,G,F,W,O,P,B,K,Q,L,ee,ge,he,be,Oe,Z,Ie,V,ke,xe,re,J=0,pe=new s.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return p;(R=E.state).mode===12&&(R.mode=13),G=E.next_out,U=E.output,W=E.avail_out,z=E.next_in,M=E.input,F=E.avail_in,O=R.hold,P=R.bits,B=F,K=W,ke=h;e:for(;;)switch(R.mode){case y:if(R.wrap===0){R.mode=13;break}for(;P<16;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(2&R.wrap&&O===35615){pe[R.check=0]=255&O,pe[1]=O>>>8&255,R.check=l(R.check,pe,2,0),P=O=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&O)<<8)+(O>>8))%31){E.msg="incorrect header check",R.mode=30;break}if((15&O)!=8){E.msg="unknown compression method",R.mode=30;break}if(P-=4,V=8+(15&(O>>>=4)),R.wbits===0)R.wbits=V;else if(V>R.wbits){E.msg="invalid window size",R.mode=30;break}R.dmax=1<<V,E.adler=R.check=1,R.mode=512&O?10:12,P=O=0;break;case 2:for(;P<16;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(R.flags=O,(255&R.flags)!=8){E.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){E.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=O>>8&1),512&R.flags&&(pe[0]=255&O,pe[1]=O>>>8&255,R.check=l(R.check,pe,2,0)),P=O=0,R.mode=3;case 3:for(;P<32;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}R.head&&(R.head.time=O),512&R.flags&&(pe[0]=255&O,pe[1]=O>>>8&255,pe[2]=O>>>16&255,pe[3]=O>>>24&255,R.check=l(R.check,pe,4,0)),P=O=0,R.mode=4;case 4:for(;P<16;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}R.head&&(R.head.xflags=255&O,R.head.os=O>>8),512&R.flags&&(pe[0]=255&O,pe[1]=O>>>8&255,R.check=l(R.check,pe,2,0)),P=O=0,R.mode=5;case 5:if(1024&R.flags){for(;P<16;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}R.length=O,R.head&&(R.head.extra_len=O),512&R.flags&&(pe[0]=255&O,pe[1]=O>>>8&255,R.check=l(R.check,pe,2,0)),P=O=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(F<(Q=R.length)&&(Q=F),Q&&(R.head&&(V=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,M,z,Q,V)),512&R.flags&&(R.check=l(R.check,M,Q,z)),F-=Q,z+=Q,R.length-=Q),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(F===0)break e;for(Q=0;V=M[z+Q++],R.head&&V&&R.length<65536&&(R.head.name+=String.fromCharCode(V)),V&&Q<F;);if(512&R.flags&&(R.check=l(R.check,M,Q,z)),F-=Q,z+=Q,V)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(F===0)break e;for(Q=0;V=M[z+Q++],R.head&&V&&R.length<65536&&(R.head.comment+=String.fromCharCode(V)),V&&Q<F;);if(512&R.flags&&(R.check=l(R.check,M,Q,z)),F-=Q,z+=Q,V)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;P<16;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(O!==(65535&R.check)){E.msg="header crc mismatch",R.mode=30;break}P=O=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),E.adler=R.check=0,R.mode=12;break;case 10:for(;P<32;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}E.adler=R.check=v(O),P=O=0,R.mode=11;case 11:if(R.havedict===0)return E.next_out=G,E.avail_out=W,E.next_in=z,E.avail_in=F,R.hold=O,R.bits=P,2;E.adler=R.check=1,R.mode=12;case 12:if(D===5||D===6)break e;case 13:if(R.last){O>>>=7&P,P-=7&P,R.mode=27;break}for(;P<3;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}switch(R.last=1&O,P-=1,3&(O>>>=1)){case 0:R.mode=14;break;case 1:if(I(R),R.mode=20,D!==6)break;O>>>=2,P-=2;break e;case 2:R.mode=17;break;case 3:E.msg="invalid block type",R.mode=30}O>>>=2,P-=2;break;case 14:for(O>>>=7&P,P-=7&P;P<32;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if((65535&O)!=(O>>>16^65535)){E.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&O,P=O=0,R.mode=15,D===6)break e;case 15:R.mode=16;case 16:if(Q=R.length){if(F<Q&&(Q=F),W<Q&&(Q=W),Q===0)break e;s.arraySet(U,M,z,Q,G),F-=Q,z+=Q,W-=Q,G+=Q,R.length-=Q;break}R.mode=12;break;case 17:for(;P<14;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(R.nlen=257+(31&O),O>>>=5,P-=5,R.ndist=1+(31&O),O>>>=5,P-=5,R.ncode=4+(15&O),O>>>=4,P-=4,286<R.nlen||30<R.ndist){E.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;P<3;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}R.lens[Y[R.have++]]=7&O,O>>>=3,P-=3}for(;R.have<19;)R.lens[Y[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,xe={bits:R.lenbits},ke=u(0,R.lens,0,19,R.lencode,0,R.work,xe),R.lenbits=xe.bits,ke){E.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;he=(J=R.lencode[O&(1<<R.lenbits)-1])>>>16&255,be=65535&J,!((ge=J>>>24)<=P);){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(be<16)O>>>=ge,P-=ge,R.lens[R.have++]=be;else{if(be===16){for(re=ge+2;P<re;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(O>>>=ge,P-=ge,R.have===0){E.msg="invalid bit length repeat",R.mode=30;break}V=R.lens[R.have-1],Q=3+(3&O),O>>>=2,P-=2}else if(be===17){for(re=ge+3;P<re;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}P-=ge,V=0,Q=3+(7&(O>>>=ge)),O>>>=3,P-=3}else{for(re=ge+7;P<re;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}P-=ge,V=0,Q=11+(127&(O>>>=ge)),O>>>=7,P-=7}if(R.have+Q>R.nlen+R.ndist){E.msg="invalid bit length repeat",R.mode=30;break}for(;Q--;)R.lens[R.have++]=V}}if(R.mode===30)break;if(R.lens[256]===0){E.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,xe={bits:R.lenbits},ke=u(d,R.lens,0,R.nlen,R.lencode,0,R.work,xe),R.lenbits=xe.bits,ke){E.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,xe={bits:R.distbits},ke=u(f,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,xe),R.distbits=xe.bits,ke){E.msg="invalid distances set",R.mode=30;break}if(R.mode=20,D===6)break e;case 20:R.mode=21;case 21:if(6<=F&&258<=W){E.next_out=G,E.avail_out=W,E.next_in=z,E.avail_in=F,R.hold=O,R.bits=P,c(E,K),G=E.next_out,U=E.output,W=E.avail_out,z=E.next_in,M=E.input,F=E.avail_in,O=R.hold,P=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;he=(J=R.lencode[O&(1<<R.lenbits)-1])>>>16&255,be=65535&J,!((ge=J>>>24)<=P);){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(he&&!(240&he)){for(Oe=ge,Z=he,Ie=be;he=(J=R.lencode[Ie+((O&(1<<Oe+Z)-1)>>Oe)])>>>16&255,be=65535&J,!(Oe+(ge=J>>>24)<=P);){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}O>>>=Oe,P-=Oe,R.back+=Oe}if(O>>>=ge,P-=ge,R.back+=ge,R.length=be,he===0){R.mode=26;break}if(32&he){R.back=-1,R.mode=12;break}if(64&he){E.msg="invalid literal/length code",R.mode=30;break}R.extra=15&he,R.mode=22;case 22:if(R.extra){for(re=R.extra;P<re;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}R.length+=O&(1<<R.extra)-1,O>>>=R.extra,P-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;he=(J=R.distcode[O&(1<<R.distbits)-1])>>>16&255,be=65535&J,!((ge=J>>>24)<=P);){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(!(240&he)){for(Oe=ge,Z=he,Ie=be;he=(J=R.distcode[Ie+((O&(1<<Oe+Z)-1)>>Oe)])>>>16&255,be=65535&J,!(Oe+(ge=J>>>24)<=P);){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}O>>>=Oe,P-=Oe,R.back+=Oe}if(O>>>=ge,P-=ge,R.back+=ge,64&he){E.msg="invalid distance code",R.mode=30;break}R.offset=be,R.extra=15&he,R.mode=24;case 24:if(R.extra){for(re=R.extra;P<re;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}R.offset+=O&(1<<R.extra)-1,O>>>=R.extra,P-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){E.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(W===0)break e;if(Q=K-W,R.offset>Q){if((Q=R.offset-Q)>R.whave&&R.sane){E.msg="invalid distance too far back",R.mode=30;break}L=Q>R.wnext?(Q-=R.wnext,R.wsize-Q):R.wnext-Q,Q>R.length&&(Q=R.length),ee=R.window}else ee=U,L=G-R.offset,Q=R.length;for(W<Q&&(Q=W),W-=Q,R.length-=Q;U[G++]=ee[L++],--Q;);R.length===0&&(R.mode=21);break;case 26:if(W===0)break e;U[G++]=R.length,W--,R.mode=21;break;case 27:if(R.wrap){for(;P<32;){if(F===0)break e;F--,O|=M[z++]<<P,P+=8}if(K-=W,E.total_out+=K,R.total+=K,K&&(E.adler=R.check=R.flags?l(R.check,U,K,G-K):o(R.check,U,K,G-K)),K=W,(R.flags?O:v(O))!==R.check){E.msg="incorrect data check",R.mode=30;break}P=O=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;P<32;){if(F===0)break e;F--,O+=M[z++]<<P,P+=8}if(O!==(4294967295&R.total)){E.msg="incorrect length check",R.mode=30;break}P=O=0}R.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return p}return E.next_out=G,E.avail_out=W,E.next_in=z,E.avail_in=F,R.hold=O,R.bits=P,(R.wsize||K!==E.avail_out&&R.mode<30&&(R.mode<27||D!==4))&&j(E,E.output,E.next_out,K-E.avail_out)?(R.mode=31,-4):(B-=E.avail_in,K-=E.avail_out,E.total_in+=B,E.total_out+=K,R.total+=K,R.wrap&&K&&(E.adler=R.check=R.flags?l(R.check,U,K,E.next_out-K):o(R.check,U,K,E.next_out-K)),E.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(B==0&&K===0||D===4)&&ke===h&&(ke=-5),ke)},i.inflateEnd=function(E){if(!E||!E.state)return p;var D=E.state;return D.window&&(D.window=null),E.state=null,h},i.inflateGetHeader=function(E,D){var R;return E&&E.state&&2&(R=E.state).wrap?((R.head=D).done=!1,h):p},i.inflateSetDictionary=function(E,D){var R,M=D.length;return E&&E.state?(R=E.state).wrap!==0&&R.mode!==11?p:R.mode===11&&o(1,D,M,0)!==R.check?-3:j(E,D,M,M)?(R.mode=31,-4):(R.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,f,h,p,y,m,x,v){var g,b,w,T,k,_,N,C,I,j=v.bits,E=0,D=0,R=0,M=0,U=0,z=0,G=0,F=0,W=0,O=0,P=null,B=0,K=new s.Buf16(16),Q=new s.Buf16(16),L=null,ee=0;for(E=0;E<=15;E++)K[E]=0;for(D=0;D<p;D++)K[f[h+D]]++;for(U=j,M=15;1<=M&&K[M]===0;M--);if(M<U&&(U=M),M===0)return y[m++]=20971520,y[m++]=20971520,v.bits=1,0;for(R=1;R<M&&K[R]===0;R++);for(U<R&&(U=R),E=F=1;E<=15;E++)if(F<<=1,(F-=K[E])<0)return-1;if(0<F&&(d===0||M!==1))return-1;for(Q[1]=0,E=1;E<15;E++)Q[E+1]=Q[E]+K[E];for(D=0;D<p;D++)f[h+D]!==0&&(x[Q[f[h+D]]++]=D);if(_=d===0?(P=L=x,19):d===1?(P=o,B-=257,L=l,ee-=257,256):(P=c,L=u,-1),E=R,k=m,G=D=O=0,w=-1,T=(W=1<<(z=U))-1,d===1&&852<W||d===2&&592<W)return 1;for(;;){for(N=E-G,I=x[D]<_?(C=0,x[D]):x[D]>_?(C=L[ee+x[D]],P[B+x[D]]):(C=96,0),g=1<<E-G,R=b=1<<z;y[k+(O>>G)+(b-=g)]=N<<24|C<<16|I|0,b!==0;);for(g=1<<E-1;O&g;)g>>=1;if(g!==0?(O&=g-1,O+=g):O=0,D++,--K[E]==0){if(E===M)break;E=f[h+x[D]]}if(U<E&&(O&T)!==w){for(G===0&&(G=U),k+=R,F=1<<(z=E-G);z+G<M&&!((F-=K[z+G])<=0);)z++,F<<=1;if(W+=1<<z,d===1&&852<W||d===2&&592<W)return 1;y[w=O&T]=U<<24|z<<16|k-m|0}}return O!==0&&(y[k+O]=E-G<<24|64<<16|0),v.bits=U,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,l=1;function c(J){for(var pe=J.length;0<=--pe;)J[pe]=0}var u=0,d=29,f=256,h=f+1+d,p=30,y=19,m=2*h+1,x=15,v=16,g=7,b=256,w=16,T=17,k=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(h+2));c(j);var E=new Array(2*p);c(E);var D=new Array(512);c(D);var R=new Array(256);c(R);var M=new Array(d);c(M);var U,z,G,F=new Array(p);function W(J,pe,Y,le,te){this.static_tree=J,this.extra_bits=pe,this.extra_base=Y,this.elems=le,this.max_length=te,this.has_stree=J&&J.length}function O(J,pe){this.dyn_tree=J,this.max_code=0,this.stat_desc=pe}function P(J){return J<256?D[J]:D[256+(J>>>7)]}function B(J,pe){J.pending_buf[J.pending++]=255&pe,J.pending_buf[J.pending++]=pe>>>8&255}function K(J,pe,Y){J.bi_valid>v-Y?(J.bi_buf|=pe<<J.bi_valid&65535,B(J,J.bi_buf),J.bi_buf=pe>>v-J.bi_valid,J.bi_valid+=Y-v):(J.bi_buf|=pe<<J.bi_valid&65535,J.bi_valid+=Y)}function Q(J,pe,Y){K(J,Y[2*pe],Y[2*pe+1])}function L(J,pe){for(var Y=0;Y|=1&J,J>>>=1,Y<<=1,0<--pe;);return Y>>>1}function ee(J,pe,Y){var le,te,oe=new Array(x+1),ae=0;for(le=1;le<=x;le++)oe[le]=ae=ae+Y[le-1]<<1;for(te=0;te<=pe;te++){var fe=J[2*te+1];fe!==0&&(J[2*te]=L(oe[fe]++,fe))}}function ge(J){var pe;for(pe=0;pe<h;pe++)J.dyn_ltree[2*pe]=0;for(pe=0;pe<p;pe++)J.dyn_dtree[2*pe]=0;for(pe=0;pe<y;pe++)J.bl_tree[2*pe]=0;J.dyn_ltree[2*b]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function he(J){8<J.bi_valid?B(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function be(J,pe,Y,le){var te=2*pe,oe=2*Y;return J[te]<J[oe]||J[te]===J[oe]&&le[pe]<=le[Y]}function Oe(J,pe,Y){for(var le=J.heap[Y],te=Y<<1;te<=J.heap_len&&(te<J.heap_len&&be(pe,J.heap[te+1],J.heap[te],J.depth)&&te++,!be(pe,le,J.heap[te],J.depth));)J.heap[Y]=J.heap[te],Y=te,te<<=1;J.heap[Y]=le}function Z(J,pe,Y){var le,te,oe,ae,fe=0;if(J.last_lit!==0)for(;le=J.pending_buf[J.d_buf+2*fe]<<8|J.pending_buf[J.d_buf+2*fe+1],te=J.pending_buf[J.l_buf+fe],fe++,le===0?Q(J,te,pe):(Q(J,(oe=R[te])+f+1,pe),(ae=_[oe])!==0&&K(J,te-=M[oe],ae),Q(J,oe=P(--le),Y),(ae=N[oe])!==0&&K(J,le-=F[oe],ae)),fe<J.last_lit;);Q(J,b,pe)}function Ie(J,pe){var Y,le,te,oe=pe.dyn_tree,ae=pe.stat_desc.static_tree,fe=pe.stat_desc.has_stree,Ae=pe.stat_desc.elems,Me=-1;for(J.heap_len=0,J.heap_max=m,Y=0;Y<Ae;Y++)oe[2*Y]!==0?(J.heap[++J.heap_len]=Me=Y,J.depth[Y]=0):oe[2*Y+1]=0;for(;J.heap_len<2;)oe[2*(te=J.heap[++J.heap_len]=Me<2?++Me:0)]=1,J.depth[te]=0,J.opt_len--,fe&&(J.static_len-=ae[2*te+1]);for(pe.max_code=Me,Y=J.heap_len>>1;1<=Y;Y--)Oe(J,oe,Y);for(te=Ae;Y=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Oe(J,oe,1),le=J.heap[1],J.heap[--J.heap_max]=Y,J.heap[--J.heap_max]=le,oe[2*te]=oe[2*Y]+oe[2*le],J.depth[te]=(J.depth[Y]>=J.depth[le]?J.depth[Y]:J.depth[le])+1,oe[2*Y+1]=oe[2*le+1]=te,J.heap[1]=te++,Oe(J,oe,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(Ve,ot){var Fe,je,Ge,Je,kt,Qt,Mt=ot.dyn_tree,Mn=ot.max_code,sn=ot.stat_desc.static_tree,Qn=ot.stat_desc.has_stree,qn=ot.stat_desc.extra_bits,nr=ot.stat_desc.extra_base,Cn=ot.stat_desc.max_length,Pn=0;for(Je=0;Je<=x;Je++)Ve.bl_count[Je]=0;for(Mt[2*Ve.heap[Ve.heap_max]+1]=0,Fe=Ve.heap_max+1;Fe<m;Fe++)Cn<(Je=Mt[2*Mt[2*(je=Ve.heap[Fe])+1]+1]+1)&&(Je=Cn,Pn++),Mt[2*je+1]=Je,Mn<je||(Ve.bl_count[Je]++,kt=0,nr<=je&&(kt=qn[je-nr]),Qt=Mt[2*je],Ve.opt_len+=Qt*(Je+kt),Qn&&(Ve.static_len+=Qt*(sn[2*je+1]+kt)));if(Pn!==0){do{for(Je=Cn-1;Ve.bl_count[Je]===0;)Je--;Ve.bl_count[Je]--,Ve.bl_count[Je+1]+=2,Ve.bl_count[Cn]--,Pn-=2}while(0<Pn);for(Je=Cn;Je!==0;Je--)for(je=Ve.bl_count[Je];je!==0;)Mn<(Ge=Ve.heap[--Fe])||(Mt[2*Ge+1]!==Je&&(Ve.opt_len+=(Je-Mt[2*Ge+1])*Mt[2*Ge],Mt[2*Ge+1]=Je),je--)}}(J,pe),ee(oe,Me,J.bl_count)}function V(J,pe,Y){var le,te,oe=-1,ae=pe[1],fe=0,Ae=7,Me=4;for(ae===0&&(Ae=138,Me=3),pe[2*(Y+1)+1]=65535,le=0;le<=Y;le++)te=ae,ae=pe[2*(le+1)+1],++fe<Ae&&te===ae||(fe<Me?J.bl_tree[2*te]+=fe:te!==0?(te!==oe&&J.bl_tree[2*te]++,J.bl_tree[2*w]++):fe<=10?J.bl_tree[2*T]++:J.bl_tree[2*k]++,oe=te,Me=(fe=0)===ae?(Ae=138,3):te===ae?(Ae=6,3):(Ae=7,4))}function ke(J,pe,Y){var le,te,oe=-1,ae=pe[1],fe=0,Ae=7,Me=4;for(ae===0&&(Ae=138,Me=3),le=0;le<=Y;le++)if(te=ae,ae=pe[2*(le+1)+1],!(++fe<Ae&&te===ae)){if(fe<Me)for(;Q(J,te,J.bl_tree),--fe!=0;);else te!==0?(te!==oe&&(Q(J,te,J.bl_tree),fe--),Q(J,w,J.bl_tree),K(J,fe-3,2)):fe<=10?(Q(J,T,J.bl_tree),K(J,fe-3,3)):(Q(J,k,J.bl_tree),K(J,fe-11,7));oe=te,Me=(fe=0)===ae?(Ae=138,3):te===ae?(Ae=6,3):(Ae=7,4)}}c(F);var xe=!1;function re(J,pe,Y,le){K(J,(u<<1)+(le?1:0),3),function(te,oe,ae,fe){he(te),B(te,ae),B(te,~ae),s.arraySet(te.pending_buf,te.window,oe,ae,te.pending),te.pending+=ae}(J,pe,Y)}i._tr_init=function(J){xe||(function(){var pe,Y,le,te,oe,ae=new Array(x+1);for(te=le=0;te<d-1;te++)for(M[te]=le,pe=0;pe<1<<_[te];pe++)R[le++]=te;for(R[le-1]=te,te=oe=0;te<16;te++)for(F[te]=oe,pe=0;pe<1<<N[te];pe++)D[oe++]=te;for(oe>>=7;te<p;te++)for(F[te]=oe<<7,pe=0;pe<1<<N[te]-7;pe++)D[256+oe++]=te;for(Y=0;Y<=x;Y++)ae[Y]=0;for(pe=0;pe<=143;)j[2*pe+1]=8,pe++,ae[8]++;for(;pe<=255;)j[2*pe+1]=9,pe++,ae[9]++;for(;pe<=279;)j[2*pe+1]=7,pe++,ae[7]++;for(;pe<=287;)j[2*pe+1]=8,pe++,ae[8]++;for(ee(j,h+1,ae),pe=0;pe<p;pe++)E[2*pe+1]=5,E[2*pe]=L(pe,5);U=new W(j,_,f+1,h,x),z=new W(E,N,0,p,x),G=new W(new Array(0),C,0,y,g)}(),xe=!0),J.l_desc=new O(J.dyn_ltree,U),J.d_desc=new O(J.dyn_dtree,z),J.bl_desc=new O(J.bl_tree,G),J.bi_buf=0,J.bi_valid=0,ge(J)},i._tr_stored_block=re,i._tr_flush_block=function(J,pe,Y,le){var te,oe,ae=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(fe){var Ae,Me=4093624447;for(Ae=0;Ae<=31;Ae++,Me>>>=1)if(1&Me&&fe.dyn_ltree[2*Ae]!==0)return o;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return l;for(Ae=32;Ae<f;Ae++)if(fe.dyn_ltree[2*Ae]!==0)return l;return o}(J)),Ie(J,J.l_desc),Ie(J,J.d_desc),ae=function(fe){var Ae;for(V(fe,fe.dyn_ltree,fe.l_desc.max_code),V(fe,fe.dyn_dtree,fe.d_desc.max_code),Ie(fe,fe.bl_desc),Ae=y-1;3<=Ae&&fe.bl_tree[2*I[Ae]+1]===0;Ae--);return fe.opt_len+=3*(Ae+1)+5+5+4,Ae}(J),te=J.opt_len+3+7>>>3,(oe=J.static_len+3+7>>>3)<=te&&(te=oe)):te=oe=Y+5,Y+4<=te&&pe!==-1?re(J,pe,Y,le):J.strategy===4||oe===te?(K(J,2+(le?1:0),3),Z(J,j,E)):(K(J,4+(le?1:0),3),function(fe,Ae,Me,Ve){var ot;for(K(fe,Ae-257,5),K(fe,Me-1,5),K(fe,Ve-4,4),ot=0;ot<Ve;ot++)K(fe,fe.bl_tree[2*I[ot]+1],3);ke(fe,fe.dyn_ltree,Ae-1),ke(fe,fe.dyn_dtree,Me-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,ae+1),Z(J,J.dyn_ltree,J.dyn_dtree)),ge(J),le&&he(J)},i._tr_tally=function(J,pe,Y){return J.pending_buf[J.d_buf+2*J.last_lit]=pe>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&pe,J.pending_buf[J.l_buf+J.last_lit]=255&Y,J.last_lit++,pe===0?J.dyn_ltree[2*Y]++:(J.matches++,pe--,J.dyn_ltree[2*(R[Y]+f+1)]++,J.dyn_dtree[2*P(pe)]++),J.last_lit===J.lit_bufsize-1},i._tr_align=function(J){K(J,2,3),Q(J,b,j),function(pe){pe.bi_valid===16?(B(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,l){if(!o.setImmediate){var c,u,d,f,h=1,p={},y=!1,m=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,c={}.toString.call(o.process)==="[object process]"?function(w){process.nextTick(function(){g(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,T=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=T,w}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(w){o.postMessage(f+w,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(w){g(w.data)},function(w){d.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(w){var T=m.createElement("script");T.onreadystatechange=function(){g(w),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):function(w){setTimeout(g,0,w)},x.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var T=new Array(arguments.length-1),k=0;k<T.length;k++)T[k]=arguments[k+1];var _={callback:w,args:T};return p[h]=_,c(h),h++},x.clearImmediate=v}function v(w){delete p[w]}function g(w){if(y)setTimeout(g,0,w);else{var T=p[w];if(T){y=!0;try{(function(k){var _=k.callback,N=k.args;switch(N.length){case 0:_();break;case 1:_(N[0]);break;case 2:_(N[0],N[1]);break;case 3:_(N[0],N[1],N[2]);break;default:_.apply(l,N)}})(T)}finally{v(w),y=!1}}}}function b(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(f)===0&&g(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof on<"u"?on:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hne);var O9e=hne.exports,F9e=LN,L9e=O9e;$b.openArrayBuffer=M9e;$b.splitPath=U9e;$b.joinPath=B9e;function M9e(e){return L9e.loadAsync(e).then(function(t){function n(o){return t.file(o)!==null}function r(o,l){return t.file(o).async("uint8array").then(function(c){if(l==="base64")return F9e.fromByteArray(c);if(l){var u=new TextDecoder(l);return u.decode(c)}else return c})}function i(o,l){t.file(o,l)}function s(){return t.generateAsync({type:"arraybuffer"})}return{exists:n,read:r,write:i,toArrayBuffer:s}})}function U9e(e){var t=e.lastIndexOf("/");return t===-1?{dirname:"",basename:e}:{dirname:e.substring(0,t),basename:e.substring(t+1)}}function B9e(){var e=Array.prototype.filter.call(arguments,function(n){return n}),t=[];return e.forEach(function(n){/^\//.test(n)?t=[n]:t.push(n)}),t.join("/")}var fP={},Ld={},Ax={},MN=Ri;Ax.Element=Cx;Ax.element=function(e,t,n){return new Cx(e,t,n)};Ax.text=function(e){return{type:"text",value:e}};var pne=Ax.emptyElement={first:function(){return null},firstOrEmpty:function(){return pne},attributes:{},children:[]};function Cx(e,t,n){this.type="element",this.name=e,this.attributes=t||{},this.children=n||[]}Cx.prototype.first=function(e){return MN.find(this.children,function(t){return t.name===e})};Cx.prototype.firstOrEmpty=function(e){return this.first(e)||pne};Cx.prototype.getElementsByTagName=function(e){var t=MN.filter(this.children,function(n){return n.name===e});return mne(t)};Cx.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var V9e={getElementsByTagName:function(e){return mne(MN.flatten(this.map(function(t){return t.getElementsByTagName(e)},!0)))}};function mne(e){return MN.extend(e,V9e)}var gne={},hP={},UN={},ku={},Md={};function q9e(e,t,n){if(n===void 0&&(n=Array.prototype),e&&typeof n.find=="function")return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}}function pP(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function W9e(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var xne=pP({HTML:"text/html",isHTML:function(e){return e===xne.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),yne=pP({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===yne.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Md.assign=W9e;Md.find=q9e;Md.freeze=pP;Md.MIME_TYPE=xne;Md.NAMESPACE=yne;var vne=Md,mu=vne.find,H1=vne.NAMESPACE;function z9e(e){return e!==""}function $9e(e){return e?e.split(/[\t\n\f\r ]+/).filter(z9e):[]}function H9e(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function _B(e){if(!e)return[];var t=$9e(e);return Object.keys(t.reduce(H9e,{}))}function G9e(e){return function(t){return e&&e.indexOf(t)!==-1}}function Hb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function ko(e,t){var n=e.prototype;if(!(n instanceof t)){let i=function(){};var r=i;i.prototype=t.prototype,i=new i,Hb(n,i),e.prototype=n=i}n.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),n.constructor=e)}var Ao={},Dl=Ao.ELEMENT_NODE=1,Z0=Ao.ATTRIBUTE_NODE=2,RT=Ao.TEXT_NODE=3,bne=Ao.CDATA_SECTION_NODE=4,wne=Ao.ENTITY_REFERENCE_NODE=5,Q9e=Ao.ENTITY_NODE=6,_ne=Ao.PROCESSING_INSTRUCTION_NODE=7,Tne=Ao.COMMENT_NODE=8,Ene=Ao.DOCUMENT_NODE=9,Nne=Ao.DOCUMENT_TYPE_NODE=10,Sd=Ao.DOCUMENT_FRAGMENT_NODE=11,K9e=Ao.NOTATION_NODE=12,_a={},Ss={};_a.INDEX_SIZE_ERR=(Ss[1]="Index size error",1);_a.DOMSTRING_SIZE_ERR=(Ss[2]="DOMString size error",2);var po=_a.HIERARCHY_REQUEST_ERR=(Ss[3]="Hierarchy request error",3);_a.WRONG_DOCUMENT_ERR=(Ss[4]="Wrong document",4);_a.INVALID_CHARACTER_ERR=(Ss[5]="Invalid character",5);_a.NO_DATA_ALLOWED_ERR=(Ss[6]="No data allowed",6);_a.NO_MODIFICATION_ALLOWED_ERR=(Ss[7]="No modification allowed",7);var Sne=_a.NOT_FOUND_ERR=(Ss[8]="Not found",8);_a.NOT_SUPPORTED_ERR=(Ss[9]="Not supported",9);var TB=_a.INUSE_ATTRIBUTE_ERR=(Ss[10]="Attribute in use",10);_a.INVALID_STATE_ERR=(Ss[11]="Invalid state",11);_a.SYNTAX_ERR=(Ss[12]="Syntax error",12);_a.INVALID_MODIFICATION_ERR=(Ss[13]="Invalid modification",13);_a.NAMESPACE_ERR=(Ss[14]="Invalid namespace",14);_a.INVALID_ACCESS_ERR=(Ss[15]="Invalid access",15);function ji(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,Ss[e]),this.message=Ss[e],Error.captureStackTrace&&Error.captureStackTrace(this,ji);return n.code=e,t&&(this.message=this.message+": "+t),n}ji.prototype=Error.prototype;Hb(_a,ji);function fd(){}fd.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)qg(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function J0(e,t){this._node=e,this._refresh=t,mP(this)}function mP(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(Mne(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];Hb(n,e),e._inc=t}}J0.prototype.item=function(e){return mP(this),this[e]||null};ko(J0,fd);function PT(){}function kne(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function EB(e,t,n,r){if(r?t[kne(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&Dne(i,e,r),X9e(i,e,n))}}function NB(e,t,n){var r=kne(t,n);if(r>=0){for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var s=e.ownerDocument;s&&(Dne(s,e,n),n.ownerElement=null)}}else throw new ji(Sne,new Error(e.tagName+"@"+n))}PT.prototype={length:0,item:fd.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new ji(TB);var n=this.getNamedItem(e.nodeName);return EB(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t=e.ownerElement,n;if(t&&t!=this._ownerElement)throw new ji(TB);return n=this.getNamedItemNS(e.namespaceURI,e.localName),EB(this._ownerElement,this,e,n),n},removeNamedItem:function(e){var t=this.getNamedItem(e);return NB(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return NB(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}};function Ane(){}Ane.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new Gb;if(r.implementation=this,r.childNodes=new fd,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new BN;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}};function Dr(){}Dr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return OT(this,e,t)},replaceChild:function(e,t){OT(this,e,t,Ine),t&&this.removeChild(t)},removeChild:function(e){return jne(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return g4(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==RT&&e.nodeType==RT?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r}t=t.nodeType==Z0?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==Z0?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function Cne(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Hb(Ao,Dr);Hb(Ao,Dr.prototype);function G1(e,t){if(t(e))return!0;if(e=e.firstChild)do if(G1(e,t))return!0;while(e=e.nextSibling)}function Gb(){this.ownerDocument=this}function X9e(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===H1.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function Dne(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;i===H1.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function gP(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function jne(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,gP(e.ownerDocument,e),t}function Y9e(e){return e&&(e.nodeType===Dr.DOCUMENT_NODE||e.nodeType===Dr.DOCUMENT_FRAGMENT_NODE||e.nodeType===Dr.ELEMENT_NODE)}function Z9e(e){return e&&(gu(e)||xP(e)||kd(e)||e.nodeType===Dr.DOCUMENT_FRAGMENT_NODE||e.nodeType===Dr.COMMENT_NODE||e.nodeType===Dr.PROCESSING_INSTRUCTION_NODE)}function kd(e){return e&&e.nodeType===Dr.DOCUMENT_TYPE_NODE}function gu(e){return e&&e.nodeType===Dr.ELEMENT_NODE}function xP(e){return e&&e.nodeType===Dr.TEXT_NODE}function SB(e,t){var n=e.childNodes||[];if(mu(n,gu)||kd(t))return!1;var r=mu(n,kd);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function kB(e,t){var n=e.childNodes||[];function r(s){return gu(s)&&s!==t}if(mu(n,r))return!1;var i=mu(n,kd);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function J9e(e,t,n){if(!Y9e(e))throw new ji(po,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new ji(Sne,"child not in parent");if(!Z9e(t)||kd(t)&&e.nodeType!==Dr.DOCUMENT_NODE)throw new ji(po,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function eBe(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Dr.DOCUMENT_FRAGMENT_NODE){var s=i.filter(gu);if(s.length>1||mu(i,xP))throw new ji(po,"More than one element or text in fragment");if(s.length===1&&!SB(e,n))throw new ji(po,"Element in fragment can not be inserted before doctype")}if(gu(t)&&!SB(e,n))throw new ji(po,"Only one element can be added and only after doctype");if(kd(t)){if(mu(r,kd))throw new ji(po,"Only one doctype is allowed");var o=mu(r,gu);if(n&&r.indexOf(o)<r.indexOf(n))throw new ji(po,"Doctype can only be inserted before an element");if(!n&&o)throw new ji(po,"Doctype can not be appended since element is present")}}function Ine(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Dr.DOCUMENT_FRAGMENT_NODE){var s=i.filter(gu);if(s.length>1||mu(i,xP))throw new ji(po,"More than one element or text in fragment");if(s.length===1&&!kB(e,n))throw new ji(po,"Element in fragment can not be inserted before doctype")}if(gu(t)&&!kB(e,n))throw new ji(po,"Only one element can be added and only after doctype");if(kd(t)){let c=function(u){return kd(u)&&u!==n};var l=c;if(mu(r,c))throw new ji(po,"Only one doctype is allowed");var o=mu(r,gu);if(n&&r.indexOf(o)<r.indexOf(n))throw new ji(po,"Doctype can only be inserted before an element")}}function OT(e,t,n,r){J9e(e,t,n),e.nodeType===Dr.DOCUMENT_NODE&&(r||eBe)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Sd){var s=t.firstChild;if(s==null)return t;var o=t.lastChild}else s=o=t;var l=n?n.previousSibling:e.lastChild;s.previousSibling=l,o.nextSibling=n,l?l.nextSibling=s:e.firstChild=s,n==null?e.lastChild=o:n.previousSibling=o;do{s.parentNode=e;var c=e.ownerDocument||e;Q1(s,c)}while(s!==o&&(s=s.nextSibling));return gP(e.ownerDocument||e,e),t.nodeType==Sd&&(t.firstChild=t.lastChild=null),t}function Q1(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===Dl&&e.attributes)for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);r&&(r.ownerDocument=t)}for(var i=e.firstChild;i;)Q1(i,t),i=i.nextSibling}}function tBe(e,t){t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,gP(e.ownerDocument,e,t);var n=e.ownerDocument||e;return Q1(t,n),t}Gb.prototype={nodeName:"#document",nodeType:Ene,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Sd){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return OT(this,e,t),Q1(e,this),this.documentElement===null&&e.nodeType===Dl&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),jne(this,e)},replaceChild:function(e,t){OT(this,e,t,Ine),Q1(e,this),t&&this.removeChild(t),gu(e)&&(this.documentElement=e)},importNode:function(e,t){return Lne(this,e,t)},getElementById:function(e){var t=null;return G1(this.documentElement,function(n){if(n.nodeType==Dl&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=_B(e);return new J0(this,function(n){var r=[];return t.length>0&&G1(n.documentElement,function(i){if(i!==n&&i.nodeType===Dl){var s=i.getAttribute("class");if(s){var o=e===s;if(!o){var l=_B(s);o=t.every(G9e(l))}o&&r.push(i)}}}),r})},createElement:function(e){var t=new hm;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new fd;var n=t.attributes=new PT;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new VN;return e.ownerDocument=this,e.childNodes=new fd,e},createTextNode:function(e){var t=new yP;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new vP;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new bP;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new _P;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new FT;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new wP;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new hm,r=t.split(":"),i=n.attributes=new PT;return n.childNodes=new fd,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new FT,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}};ko(Gb,Dr);function hm(){this._nsMap={}}hm.prototype={nodeType:Dl,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Sd?this.insertBefore(e,null):tBe(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new J0(this,function(t){var n=[];return G1(t,function(r){r!==t&&r.nodeType==Dl&&(e==="*"||r.tagName==e)&&n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new J0(this,function(n){var r=[];return G1(n,function(i){i!==n&&i.nodeType===Dl&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&r.push(i)}),r})}};Gb.prototype.getElementsByTagName=hm.prototype.getElementsByTagName;Gb.prototype.getElementsByTagNameNS=hm.prototype.getElementsByTagNameNS;ko(hm,Dr);function FT(){}FT.prototype.nodeType=Z0;ko(FT,Dr);function Qb(){}Qb.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Ss[po])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};ko(Qb,Dr);function yP(){}yP.prototype={nodeName:"#text",nodeType:RT,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};ko(yP,Qb);function vP(){}vP.prototype={nodeName:"#comment",nodeType:Tne};ko(vP,Qb);function bP(){}bP.prototype={nodeName:"#cdata-section",nodeType:bne};ko(bP,Qb);function BN(){}BN.prototype.nodeType=Nne;ko(BN,Dr);function Rne(){}Rne.prototype.nodeType=K9e;ko(Rne,Dr);function Pne(){}Pne.prototype.nodeType=Q9e;ko(Pne,Dr);function wP(){}wP.prototype.nodeType=wne;ko(wP,Dr);function VN(){}VN.prototype.nodeName="#document-fragment";VN.prototype.nodeType=Sd;ko(VN,Dr);function _P(){}_P.prototype.nodeType=_ne;ko(_P,Dr);function One(){}One.prototype.serializeToString=function(e,t,n){return Fne.call(e,t,n)};Dr.prototype.toString=Fne;function Fne(e,t){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return qg(this,n,e,t,o),n.join("")}function AB(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i||r==="xml"&&i===H1.XML||i===H1.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===r)return o.namespace!==i}return!0}function tC(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,Cne),'"')}function qg(e,t,n,r,i){if(i||(i=[]),r)if(e=r(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case Dl:var s=e.attributes,o=s.length,v=e.firstChild,l=e.tagName;n=H1.isHTML(e.namespaceURI)||n;var c=l;if(!n&&!e.prefix&&e.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.prefix===""&&h.namespace===e.namespaceURI){u=h.namespace;break}}if(u!==e.namespaceURI)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.namespace===e.namespaceURI){h.prefix&&(c=h.prefix+":"+l);break}}}t.push("<",c);for(var p=0;p<o;p++){var y=s.item(p);y.prefix=="xmlns"?i.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&i.push({prefix:"",namespace:y.value})}for(var p=0;p<o;p++){var y=s.item(p);if(AB(y,n,i)){var m=y.prefix||"",x=y.namespaceURI;tC(t,m?"xmlns:"+m:"xmlns",x),i.push({prefix:m,namespace:x})}qg(y,t,n,r,i)}if(l===c&&AB(e,n,i)){var m=e.prefix||"",x=e.namespaceURI;tC(t,m?"xmlns:"+m:"xmlns",x),i.push({prefix:m,namespace:x})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;v;)v.data?t.push(v.data):qg(v,t,n,r,i.slice()),v=v.nextSibling;else for(;v;)qg(v,t,n,r,i.slice()),v=v.nextSibling;t.push("</",c,">")}else t.push("/>");return;case Ene:case Sd:for(var v=e.firstChild;v;)qg(v,t,n,r,i.slice()),v=v.nextSibling;return;case Z0:return tC(t,e.name,e.value);case RT:return t.push(e.data.replace(/[<&>]/g,Cne));case bne:return t.push("<![CDATA[",e.data,"]]>");case Tne:return t.push("<!--",e.data,"-->");case Nne:var g=e.publicId,b=e.systemId;if(t.push("<!DOCTYPE ",e.name),g)t.push(" PUBLIC ",g),b&&b!="."&&t.push(" ",b),t.push(">");else if(b&&b!=".")t.push(" SYSTEM ",b,">");else{var w=e.internalSubset;w&&t.push(" [",w,"]"),t.push(">")}return;case _ne:return t.push("<?",e.target," ",e.data,"?>");case wne:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Lne(e,t,n){var r;switch(t.nodeType){case Dl:r=t.cloneNode(!1),r.ownerDocument=e;case Sd:break;case Z0:n=!0;break}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(Lne(e,i,n)),i=i.nextSibling;return r}function g4(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(t.childNodes&&(r.childNodes=new fd),r.ownerDocument=e,r.nodeType){case Dl:var o=t.attributes,l=r.attributes=new PT,c=o.length;l._ownerElement=r;for(var u=0;u<c;u++)r.setAttributeNode(g4(e,o.item(u),!0));break;case Z0:n=!0}if(n)for(var d=t.firstChild;d;)r.appendChild(g4(e,d,n)),d=d.nextSibling;return r}function Mne(e,t,n){e[t]=n}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case Dl:case Sd:var n=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};var tze=e;Object.defineProperty(J0.prototype,"length",{get:function(){return mP(this),this.$$length}}),Object.defineProperty(Dr.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case Dl:case Sd:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),Mne=function(t,n,r){t["$$"+n]=r}}}catch{}ku.DocumentType=BN;ku.DOMException=ji;ku.DOMImplementation=Ane;ku.Element=hm;ku.Node=Dr;ku.NodeList=fd;ku.XMLSerializer=One;var qN={},Une={};(function(e){var t=Md.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(Une);var TP={},K1=Md.NAMESPACE,x4=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,CB=new RegExp("[\\-\\.0-9"+x4.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),DB=new RegExp("^"+x4.source+CB.source+"*(?::"+x4.source+CB.source+"*)?$"),Ty=0,of=1,cg=2,Ey=3,ug=4,dg=5,Ny=6,ew=7;function ex(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ex)}ex.prototype=new Error;ex.prototype.name=ex.name;function Bne(){}Bne.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),Vne(t,t={}),nBe(e,t,n,r,this.errorHandler),r.endDocument()}};function nBe(e,t,n,r,i){function s(U){if(U>65535){U-=65536;var z=55296+(U>>10),G=56320+(U&1023);return String.fromCharCode(z,G)}else return String.fromCharCode(U)}function o(U){var z=U.slice(1,-1);return Object.hasOwnProperty.call(n,z)?n[z]:z.charAt(0)==="#"?s(parseInt(z.substr(1).replace("x","0x"))):(i.error("entity not found:"+U),U)}function l(U){if(U>m){var z=e.substring(m,U).replace(/&#?\w+;/g,o);h&&c(m),r.characters(z,0,U-m),m=U}}function c(U,z){for(;U>=d&&(z=f.exec(e));)u=z.index,d=u+z[0].length,h.lineNumber++;h.columnNumber=U-u+1}for(var u=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,p=[{currentNSMap:t}],y={},m=0;;){try{var x=e.indexOf("<",m);if(x<0){if(!e.substr(m).match(/^\s*$/)){var v=r.doc,g=v.createTextNode(e.substr(m));v.appendChild(g),r.currentElement=g}return}switch(x>m&&l(x),e.charAt(x+1)){case"/":var j=e.indexOf(">",x+3),b=e.substring(x+2,j).replace(/[ \t\n\r]+$/g,""),w=p.pop();j<0?(b=e.substring(x+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+w.tagName),j=x+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),j=x+1+b.length);var T=w.localNSMap,k=w.tagName==b,_=k||w.tagName&&w.tagName.toLowerCase()==b.toLowerCase();if(_){if(r.endElement(w.uri,w.localName,b),T)for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&r.endPrefixMapping(N);k||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+w.tagName)}else p.push(w);j++;break;case"?":h&&c(x),j=oBe(e,x,r);break;case"!":h&&c(x),j=aBe(e,x,r,i);break;default:h&&c(x);var C=new qne,I=p[p.length-1].currentNSMap,j=rBe(e,x,C,I,o,i),E=C.length;if(!C.closed&&sBe(e,j,C.tagName,y)&&(C.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),h&&E){for(var D=jB(h,{}),R=0;R<E;R++){var M=C[R];c(M.offset),M.locator=jB(h,{})}r.locator=D,IB(C,r,I)&&p.push(C),r.locator=h}else IB(C,r,I)&&p.push(C);K1.isHTML(C.uri)&&!C.closed?j=iBe(e,j,C.tagName,o,r):j++}}catch(U){if(U instanceof ex)throw U;i.error("element parse error: "+U),j=-1}j>m?m=j:l(Math.max(x,m)+1)}}function jB(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function rBe(e,t,n,r,i,s){function o(h,p,y){n.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),n.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),y)}for(var l,c,u=++t,d=Ty;;){var f=e.charAt(u);switch(f){case"=":if(d===of)l=e.slice(t,u),d=Ey;else if(d===cg)d=Ey;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===Ey||d===of)if(d===of&&(s.warning('attribute value must after "="'),l=e.slice(t,u)),t=u+1,u=e.indexOf(f,t),u>0)c=e.slice(t,u),o(l,c,t-1),d=dg;else throw new Error("attribute value no end '"+f+"' match");else if(d==ug)c=e.slice(t,u),o(l,c,t),s.warning('attribute "'+l+'" missed start quot('+f+")!!"),t=u+1,d=dg;else throw new Error('attribute value must after "="');break;case"/":switch(d){case Ty:n.setTagName(e.slice(t,u));case dg:case Ny:case ew:d=ew,n.closed=!0;case ug:case of:break;case cg:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==Ty&&n.setTagName(e.slice(t,u)),u;case">":switch(d){case Ty:n.setTagName(e.slice(t,u));case dg:case Ny:case ew:break;case ug:case of:c=e.slice(t,u),c.slice(-1)==="/"&&(n.closed=!0,c=c.slice(0,-1));case cg:d===cg&&(c=l),d==ug?(s.warning('attribute "'+c+'" missed quot(")!'),o(l,c,t)):((!K1.isHTML(r[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),o(c,c,t));break;case Ey:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(d){case Ty:n.setTagName(e.slice(t,u)),d=Ny;break;case of:l=e.slice(t,u),d=cg;break;case ug:var c=e.slice(t,u);s.warning('attribute "'+c+'" missed quot(")!!'),o(l,c,t);case dg:d=Ny;break}else switch(d){case cg:n.tagName,(!K1.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),o(l,l,t),t=u,d=of;break;case dg:s.warning('attribute space is required"'+l+'"!!');case Ny:d=of,t=u;break;case Ey:d=ug,t=u;break;case ew:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function IB(e,t,n){for(var r=e.tagName,i=null,f=e.length;f--;){var s=e[f],o=s.qName,l=s.value,h=o.indexOf(":");if(h>0)var c=s.prefix=o.slice(0,h),u=o.slice(h+1),d=c==="xmlns"&&u;else u=o,c=null,d=o==="xmlns"&&"";s.localName=u,d!==!1&&(i==null&&(i={},Vne(n,n={})),n[d]=i[d]=l,s.uri=K1.XMLNS,t.startPrefixMapping(d,l))}for(var f=e.length;f--;){s=e[f];var c=s.prefix;c&&(c==="xml"&&(s.uri=K1.XML),c!=="xmlns"&&(s.uri=n[c||""]))}var h=r.indexOf(":");h>0?(c=e.prefix=r.slice(0,h),u=e.localName=r.slice(h+1)):(c=null,u=e.localName=r);var p=e.uri=n[c||""];if(t.startElement(p,u,r,e),e.closed){if(t.endElement(p,u,r),i)for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&t.endPrefixMapping(c)}else return e.currentNSMap=n,e.localNSMap=i,!0}function iBe(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=e.indexOf("</"+n+">",t),o=e.substring(t+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),s)}return t+1}function sBe(e,t,n,r){var i=r[n];return i==null&&(i=e.lastIndexOf("</"+n+">"),i<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function Vne(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function aBe(e,t,n,r){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var s=e.indexOf("-->",t+4);return s>t?(n.comment(e,t+4,s-t-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var s=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,s-t-9),n.endCDATA(),s+3}var o=lBe(e,t),l=o.length;if(l>1&&/!doctype/i.test(o[0][0])){var c=o[1][0],u=!1,d=!1;l>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],d=l>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var f=o[l-1];return n.startDTD(c,u,d),n.endDTD(),f.index+f[0].length}}return-1}function oBe(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function qne(){this.attributeNames={}}qne.prototype={setTagName:function(e){if(!DB.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!DB.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function lBe(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}TP.XMLReader=Bne;TP.ParseError=ex;var cBe=Md,uBe=ku,RB=Une,Wne=TP,dBe=uBe.DOMImplementation,PB=cBe.NAMESPACE,fBe=Wne.ParseError,hBe=Wne.XMLReader;function zne(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function $ne(e){this.options=e||{locator:{}}}$ne.prototype.parseFromString=function(e,t){var n=this.options,r=new hBe,i=n.domBuilder||new Kb,s=n.errorHandler,o=n.locator,l=n.xmlns||{},c=/\/x?html?$/.test(t),u=c?RB.HTML_ENTITIES:RB.XML_ENTITIES;o&&i.setDocumentLocator(o),r.errorHandler=pBe(s,i,o),r.domBuilder=n.domBuilder||i,c&&(l[""]=PB.HTML),l.xml=l.xml||PB.XML;var d=n.normalizeLineEndings||zne;return e&&typeof e=="string"?r.parse(d(e),l,u):r.errorHandler.error("invalid doc source"),i.doc};function pBe(e,t,n){if(!e){if(t instanceof Kb)return t;e=t}var r={},i=e instanceof Function;n=n||{};function s(o){var l=e[o];!l&&i&&(l=e.length==2?function(c){e(o,c)}:e),r[o]=l&&function(c){l("[xmldom "+o+"]	"+c+y4(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Kb(){this.cdata=!1}function fg(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Kb.prototype={startDocument:function(){this.doc=new dBe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),o=r.length;tw(this,s),this.currentElement=s,this.locator&&fg(this.locator,s);for(var l=0;l<o;l++){var e=r.getURI(l),c=r.getValue(l),n=r.getQName(l),u=i.createAttributeNS(e,n);this.locator&&fg(r.getLocator(l),u),u.value=u.nodeValue=c,s.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&fg(this.locator,n),tw(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=OB.apply(this,arguments),e){if(this.cdata)var r=this.doc.createCDATASection(e);else var r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&fg(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=OB.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&fg(this.locator,r),tw(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&fg(this.locator,i),tw(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,y4(this.locator))},error:function(e){console.error("[xmldom error]	"+e,y4(this.locator))},fatalError:function(e){throw new fBe(e,this.locator)}};function y4(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function OB(e,t,n){return typeof e=="string"?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Kb.prototype[e]=function(){return null}});function tw(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}qN.__DOMHandler=Kb;qN.normalizeLineEndings=zne;qN.DOMParser=$ne;var Hne=ku;UN.DOMImplementation=Hne.DOMImplementation;UN.XMLSerializer=Hne.XMLSerializer;UN.DOMParser=qN.DOMParser;var mBe=UN,gBe=ku;function xBe(e){var t=null,n=new mBe.DOMParser({errorHandler:function(i,s){t={level:i,message:s}}}),r=n.parseFromString(e);if(t===null)return r;throw new Error(t.level+": "+t.message)}hP.parseFromString=xBe;hP.Node=gBe.Node;var nC=ks,FB=Ri,Gne=hP,Qne=Ax,yBe=Qne.Element;gne.readString=vBe;var LB=Gne.Node;function vBe(e,t){t=t||{};try{var n=Gne.parseFromString(e,"text/xml")}catch(o){return nC.reject(o)}if(n.documentElement.tagName==="parsererror")return nC.resolve(new Error(n.documentElement.textContent));function r(o){switch(o.nodeType){case LB.ELEMENT_NODE:return i(o);case LB.TEXT_NODE:return Qne.text(o.nodeValue)}}function i(o){var l=s(o),c=[];FB.forEach(o.childNodes,function(d){var f=r(d);f&&c.push(f)});var u={};return FB.forEach(o.attributes,function(d){u[s(d)]=d.value}),new yBe(l,u,c)}function s(o){if(o.namespaceURI){var l=t[o.namespaceURI],c;return l?c=l+":":c="{"+o.namespaceURI+"}",c+o.localName}else return o.localName}return nC.resolve(r(n.documentElement))}var Kne={},ev={},Lu={},MB;function Oh(){return MB||(MB=1,(function(){var e,t,n,r,i,s,o,l=[].slice,c={}.hasOwnProperty;e=function(){var u,d,f,h,p,y;if(y=arguments[0],p=2<=arguments.length?l.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(u=0,f=p.length;u<f;u++)if(h=p[u],h!=null)for(d in h)c.call(h,d)&&(y[d]=h[d]);return y},i=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},s=function(u){var d;return!!u&&((d=typeof u)=="function"||d==="object")},n=function(u){return i(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var d;if(n(u))return!u.length;for(d in u)if(c.call(u,d))return!1;return!0},o=function(u){var d,f;return s(u)&&(f=Object.getPrototypeOf(u))&&(d=f.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},t=function(u){return i(u.valueOf)?u.valueOf():u},Lu.assign=e,Lu.isFunction=i,Lu.isObject=s,Lu.isArray=n,Lu.isEmpty=r,Lu.isPlainObject=o,Lu.getValue=t}).call(on)),Lu}var rC={exports:{}},iC={exports:{}},sC={exports:{}},aC={exports:{}},UB;function Xne(){return UB||(UB=1,(function(){aC.exports=function(){function e(t,n,r){if(this.options=t.options,this.stringify=t.stringify,this.parent=t,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},e.prototype.debugInfo=function(t){return t=t||this.name,t==null?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},e}()}).call(on)),aC.exports}var BB;function WN(){return BB||(BB=1,(function(){var e,t,n,r,i,s,o=function(c,u){for(var d in u)l.call(u,d)&&(c[d]=u[d]);function f(){this.constructor=c}return f.prototype=u.prototype,c.prototype=new f,c.__super__=u.prototype,c},l={}.hasOwnProperty;s=Oh(),i=s.isObject,r=s.isFunction,n=s.getValue,t=Co(),e=Xne(),sC.exports=function(c){o(u,c);function u(d,f,h){if(u.__super__.constructor.call(this,d),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return u.prototype.clone=function(){var d,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)l.call(p,f)&&(d=p[f],h.attributes[f]=d.clone());return h.children=[],this.children.forEach(function(y){var m;return m=y.clone(),m.parent=h,h.children.push(m)}),h},u.prototype.attribute=function(d,f){var h,p;if(d!=null&&(d=n(d)),i(d))for(h in d)l.call(d,h)&&(p=d[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[d]=new e(this,d,f));return this},u.prototype.removeAttribute=function(d){var f,h,p;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=n(d),Array.isArray(d))for(h=0,p=d.length;h<p;h++)f=d[h],delete this.attributes[f];else delete this.attributes[d];return this},u.prototype.toString=function(d){return this.options.writer.set(d).element(this)},u.prototype.att=function(d,f){return this.attribute(d,f)},u.prototype.a=function(d,f){return this.attribute(d,f)},u}(t)}).call(on)),sC.exports}var oC={exports:{}},VB;function zN(){return VB||(VB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),oC.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i}(e)}).call(on)),oC.exports}var lC={exports:{}},qB;function $N(){return qB||(qB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),lC.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i}(e)}).call(on)),lC.exports}var cC={exports:{}},WB;function HN(){return WB||(WB=1,(function(){var e,t,n=function(i,s){for(var o in s)r.call(s,o)&&(i[o]=s[o]);function l(){this.constructor=i}return l.prototype=s.prototype,i.prototype=new l,i.__super__=s.prototype,i},r={}.hasOwnProperty;t=Oh().isObject,e=Co(),cC.exports=function(i){n(s,i);function s(o,l,c,u){var d;s.__super__.constructor.call(this,o),t(l)&&(d=l,l=d.version,c=d.encoding,u=d.standalone),l||(l="1.0"),this.version=this.stringify.xmlVersion(l),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return s.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},s}(e)}).call(on)),cC.exports}var uC={exports:{}},dC={exports:{}},zB;function GN(){return zB||(zB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),dC.exports=function(r){t(i,r);function i(s,o,l,c,u,d){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(d&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(l),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=u}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i}(e)}).call(on)),dC.exports}var fC={exports:{}},$B;function QN(){return $B||($B=1,(function(){var e,t,n=function(i,s){for(var o in s)r.call(s,o)&&(i[o]=s[o]);function l(){this.constructor=i}return l.prototype=s.prototype,i.prototype=new l,i.__super__=s.prototype,i},r={}.hasOwnProperty;t=Oh().isObject,e=Co(),fC.exports=function(i){n(s,i);function s(o,l,c,u){if(s.__super__.constructor.call(this,o),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!l,this.name=this.stringify.eleName(c),!t(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},s}(e)}).call(on)),fC.exports}var hC={exports:{}},HB;function KN(){return HB||(HB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),hC.exports=function(r){t(i,r);function i(s,o,l){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(l)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i}(e)}).call(on)),hC.exports}var pC={exports:{}},GB;function XN(){return GB||(GB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),pC.exports=function(r){t(i,r);function i(s,o,l){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i}(e)}).call(on)),pC.exports}var QB;function YN(){return QB||(QB=1,(function(){var e,t,n,r,i,s,o=function(c,u){for(var d in u)l.call(u,d)&&(c[d]=u[d]);function f(){this.constructor=c}return f.prototype=u.prototype,c.prototype=new f,c.__super__=u.prototype,c},l={}.hasOwnProperty;s=Oh().isObject,i=Co(),e=GN(),n=QN(),t=KN(),r=XN(),uC.exports=function(c){o(u,c);function u(d,f,h){var p,y;u.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(y=[f,h],h=y[0],f=y[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return u.prototype.element=function(d,f){var h;return h=new t(this,d,f),this.children.push(h),this},u.prototype.attList=function(d,f,h,p,y){var m;return m=new e(this,d,f,h,p,y),this.children.push(m),this},u.prototype.entity=function(d,f){var h;return h=new n(this,!1,d,f),this.children.push(h),this},u.prototype.pEntity=function(d,f){var h;return h=new n(this,!0,d,f),this.children.push(h),this},u.prototype.notation=function(d,f){var h;return h=new r(this,d,f),this.children.push(h),this},u.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},u.prototype.ele=function(d,f){return this.element(d,f)},u.prototype.att=function(d,f,h,p,y){return this.attList(d,f,h,p,y)},u.prototype.ent=function(d,f){return this.entity(d,f)},u.prototype.pent=function(d,f){return this.pEntity(d,f)},u.prototype.not=function(d,f){return this.notation(d,f)},u.prototype.up=function(){return this.root()||this.documentObject},u}(i)}).call(on)),uC.exports}var mC={exports:{}},KB;function ZN(){return KB||(KB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),mC.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i}(e)}).call(on)),mC.exports}var gC={exports:{}},XB;function JN(){return XB||(XB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),gC.exports=function(r){t(i,r);function i(s,o){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i}(e)}).call(on)),gC.exports}var xC={exports:{}},YB;function eS(){return YB||(YB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),xC.exports=function(r){t(i,r);function i(s,o,l){if(i.__super__.constructor.call(this,s),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),l&&(this.value=this.stringify.insValue(l))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i}(e)}).call(on)),xC.exports}var yC={exports:{}},ZB;function EP(){return ZB||(ZB=1,(function(){var e,t=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function o(){this.constructor=r}return o.prototype=i.prototype,r.prototype=new o,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=Co(),yC.exports=function(r){t(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i}(e)}).call(on)),yC.exports}var JB;function Co(){return JB||(JB=1,(function(){var e,t,n,r,i,s,o,l,c,u,d,f,h,p,y={}.hasOwnProperty;p=Oh(),h=p.isObject,f=p.isFunction,d=p.isEmpty,u=p.getValue,s=null,e=null,t=null,n=null,r=null,l=null,c=null,o=null,i=null,iC.exports=function(){function m(x){this.parent=x,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=WN(),e=zN(),t=$N(),n=HN(),r=YN(),l=ZN(),c=JN(),o=eS(),i=EP())}return m.prototype.element=function(x,v,g){var b,w,T,k,_,N,C,I,j,E,D;if(N=null,v===null&&g==null&&(j=[{},null],v=j[0],g=j[1]),v==null&&(v={}),v=u(v),h(v)||(E=[v,g],g=E[0],v=E[1]),x!=null&&(x=u(x)),Array.isArray(x))for(T=0,C=x.length;T<C;T++)w=x[T],N=this.element(w);else if(f(x))N=this.element(x.apply());else if(h(x)){for(_ in x)if(y.call(x,_))if(D=x[_],f(D)&&(D=D.apply()),h(D)&&d(D)&&(D=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&_.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(_.substr(this.stringify.convertAttKey.length),D);else if(!this.options.separateArrayItems&&Array.isArray(D))for(k=0,I=D.length;k<I;k++)w=D[k],b={},b[_]=w,N=this.element(b);else h(D)?(N=this.element(_),N.element(D)):N=this.element(_,D)}else this.options.skipNullNodes&&g===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&x.indexOf(this.stringify.convertTextKey)===0?N=this.text(g):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&x.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(g):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&x.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(g):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&x.indexOf(this.stringify.convertRawKey)===0?N=this.raw(g):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&x.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(x.substr(this.stringify.convertPIKey.length),g):N=this.node(x,v,g);if(N==null)throw new Error("Could not create any elements with: "+x+". "+this.debugInfo());return N},m.prototype.insertBefore=function(x,v,g){var b,w,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(x));return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w),b=this.parent.element(x,v,g),Array.prototype.push.apply(this.parent.children,T),b},m.prototype.insertAfter=function(x,v,g){var b,w,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(x));return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w+1),b=this.parent.element(x,v,g),Array.prototype.push.apply(this.parent.children,T),b},m.prototype.remove=function(){var x;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return x=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[x,x-x+1].concat([])),this.parent},m.prototype.node=function(x,v,g){var b,w;return x!=null&&(x=u(x)),v||(v={}),v=u(v),h(v)||(w=[v,g],g=w[0],v=w[1]),b=new s(this,x,v),g!=null&&b.text(g),this.children.push(b),b},m.prototype.text=function(x){var v;return v=new c(this,x),this.children.push(v),this},m.prototype.cdata=function(x){var v;return v=new e(this,x),this.children.push(v),this},m.prototype.comment=function(x){var v;return v=new t(this,x),this.children.push(v),this},m.prototype.commentBefore=function(x){var v,g;return v=this.parent.children.indexOf(this),g=this.parent.children.splice(v),this.parent.comment(x),Array.prototype.push.apply(this.parent.children,g),this},m.prototype.commentAfter=function(x){var v,g;return v=this.parent.children.indexOf(this),g=this.parent.children.splice(v+1),this.parent.comment(x),Array.prototype.push.apply(this.parent.children,g),this},m.prototype.raw=function(x){var v;return v=new l(this,x),this.children.push(v),this},m.prototype.dummy=function(){var x;return x=new i(this),this.children.push(x),x},m.prototype.instruction=function(x,v){var g,b,w,T,k;if(x!=null&&(x=u(x)),v!=null&&(v=u(v)),Array.isArray(x))for(T=0,k=x.length;T<k;T++)g=x[T],this.instruction(g);else if(h(x))for(g in x)y.call(x,g)&&(b=x[g],this.instruction(g,b));else f(v)&&(v=v.apply()),w=new o(this,x,v),this.children.push(w);return this},m.prototype.instructionBefore=function(x,v){var g,b;return g=this.parent.children.indexOf(this),b=this.parent.children.splice(g),this.parent.instruction(x,v),Array.prototype.push.apply(this.parent.children,b),this},m.prototype.instructionAfter=function(x,v){var g,b;return g=this.parent.children.indexOf(this),b=this.parent.children.splice(g+1),this.parent.instruction(x,v),Array.prototype.push.apply(this.parent.children,b),this},m.prototype.declaration=function(x,v,g){var b,w;return b=this.document(),w=new n(b,x,v,g),b.children[0]instanceof n?b.children[0]=w:b.children.unshift(w),b.root()||b},m.prototype.doctype=function(x,v){var g,b,w,T,k,_,N,C,I,j;for(b=this.document(),w=new r(b,x,v),I=b.children,T=k=0,N=I.length;k<N;T=++k)if(g=I[T],g instanceof r)return b.children[T]=w,w;for(j=b.children,T=_=0,C=j.length;_<C;T=++_)if(g=j[T],g.isRoot)return b.children.splice(T,0,w),w;return b.children.push(w),w},m.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},m.prototype.root=function(){var x;for(x=this;x;){if(x.isDocument)return x.rootObject;if(x.isRoot)return x;x=x.parent}},m.prototype.document=function(){var x;for(x=this;x;){if(x.isDocument)return x;x=x.parent}},m.prototype.end=function(x){return this.document().end(x)},m.prototype.prev=function(){var x;for(x=this.parent.children.indexOf(this);x>0&&this.parent.children[x-1].isDummy;)x=x-1;if(x<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[x-1]},m.prototype.next=function(){var x;for(x=this.parent.children.indexOf(this);x<this.parent.children.length-1&&this.parent.children[x+1].isDummy;)x=x+1;if(x===-1||x===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[x+1]},m.prototype.importDocument=function(x){var v;return v=x.root().clone(),v.parent=this,v.isRoot=!1,this.children.push(v),this},m.prototype.debugInfo=function(x){var v,g;return x=x||this.name,x==null&&!((v=this.parent)!=null&&v.name)?"":x==null?"parent: <"+this.parent.name+">":(g=this.parent)!=null&&g.name?"node: <"+x+">, parent: <"+this.parent.name+">":"node: <"+x+">"},m.prototype.ele=function(x,v,g){return this.element(x,v,g)},m.prototype.nod=function(x,v,g){return this.node(x,v,g)},m.prototype.txt=function(x){return this.text(x)},m.prototype.dat=function(x){return this.cdata(x)},m.prototype.com=function(x){return this.comment(x)},m.prototype.ins=function(x,v){return this.instruction(x,v)},m.prototype.doc=function(){return this.document()},m.prototype.dec=function(x,v,g){return this.declaration(x,v,g)},m.prototype.dtd=function(x,v){return this.doctype(x,v)},m.prototype.e=function(x,v,g){return this.element(x,v,g)},m.prototype.n=function(x,v,g){return this.node(x,v,g)},m.prototype.t=function(x){return this.text(x)},m.prototype.d=function(x){return this.cdata(x)},m.prototype.c=function(x){return this.comment(x)},m.prototype.r=function(x){return this.raw(x)},m.prototype.i=function(x,v){return this.instruction(x,v)},m.prototype.u=function(){return this.up()},m.prototype.importXMLBuilder=function(x){return this.importDocument(x)},m}()}).call(on)),iC.exports}var vC={exports:{}},e7;function Yne(){return e7||(e7=1,(function(){var e=function(n,r){return function(){return n.apply(r,arguments)}},t={}.hasOwnProperty;vC.exports=function(){function n(r){this.assertLegalChar=e(this.assertLegalChar,this);var i,s,o;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)t.call(s,i)&&(o=s[i],this[i]=o)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(on)),vC.exports}var bC={exports:{}},wC={exports:{}},t7;function Zne(){return t7||(t7=1,(function(){var e={}.hasOwnProperty;wC.exports=function(){function t(n){var r,i,s,o,l,c,u,d,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(o=n.newline)!=null?o:`
`,this.offset=(l=n.offset)!=null?l:0,this.dontprettytextnodes=(c=n.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=n.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=n.writer||{};for(r in d)e.call(d,r)&&(f=d[r],this[r]=f)}return t.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)e.call(i,r)&&(s=i[r],this[r]=s);return this},t.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},t}()}).call(on)),wC.exports}var n7;function NP(){return n7||(n7=1,(function(){var e,t,n,r,i,s,o,l,c,u,d,f,h,p,y=function(x,v){for(var g in v)m.call(v,g)&&(x[g]=v[g]);function b(){this.constructor=x}return b.prototype=v.prototype,x.prototype=new b,x.__super__=v.prototype,x},m={}.hasOwnProperty;o=HN(),l=YN(),e=zN(),t=$N(),u=WN(),f=ZN(),h=JN(),d=eS(),c=EP(),n=GN(),r=KN(),i=QN(),s=XN(),p=Zne(),bC.exports=function(x){y(v,x);function v(g){v.__super__.constructor.call(this,g)}return v.prototype.document=function(g){var b,w,T,k,_;for(this.textispresent=!1,k="",_=g.children,w=0,T=_.length;w<T;w++)b=_[w],!(b instanceof c)&&(k+=(function(){switch(!1){case!(b instanceof o):return this.declaration(b);case!(b instanceof l):return this.docType(b);case!(b instanceof t):return this.comment(b);case!(b instanceof d):return this.processingInstruction(b);default:return this.element(b,0)}}).call(this));return this.pretty&&k.slice(-this.newline.length)===this.newline&&(k=k.slice(0,-this.newline.length)),k},v.prototype.attribute=function(g){return" "+g.name+'="'+g.value+'"'},v.prototype.cdata=function(g,b){return this.space(b)+"<![CDATA["+g.text+"]]>"+this.newline},v.prototype.comment=function(g,b){return this.space(b)+"<!-- "+g.text+" -->"+this.newline},v.prototype.declaration=function(g,b){var w;return w=this.space(b),w+='<?xml version="'+g.version+'"',g.encoding!=null&&(w+=' encoding="'+g.encoding+'"'),g.standalone!=null&&(w+=' standalone="'+g.standalone+'"'),w+=this.spacebeforeslash+"?>",w+=this.newline,w},v.prototype.docType=function(g,b){var w,T,k,_,N;if(b||(b=0),_=this.space(b),_+="<!DOCTYPE "+g.root().name,g.pubID&&g.sysID?_+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.sysID&&(_+=' SYSTEM "'+g.sysID+'"'),g.children.length>0){for(_+=" [",_+=this.newline,N=g.children,T=0,k=N.length;T<k;T++)w=N[T],_+=(function(){switch(!1){case!(w instanceof n):return this.dtdAttList(w,b+1);case!(w instanceof r):return this.dtdElement(w,b+1);case!(w instanceof i):return this.dtdEntity(w,b+1);case!(w instanceof s):return this.dtdNotation(w,b+1);case!(w instanceof e):return this.cdata(w,b+1);case!(w instanceof t):return this.comment(w,b+1);case!(w instanceof d):return this.processingInstruction(w,b+1);default:throw new Error("Unknown DTD node type: "+w.constructor.name)}}).call(this);_+="]"}return _+=this.spacebeforeslash+">",_+=this.newline,_},v.prototype.element=function(g,b){var w,T,k,_,N,C,I,j,E,D,R,M,U;b||(b=0),U=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),M=this.space(b),j="",j+=M+"<"+g.name,E=g.attributes;for(I in E)m.call(E,I)&&(w=E[I],j+=this.attribute(w));if(g.children.length===0||g.children.every(function(z){return z.value===""}))this.allowEmpty?j+="></"+g.name+">"+this.newline:j+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&g.children.length===1&&g.children[0].value!=null)j+=">",j+=g.children[0].value,j+="</"+g.name+">"+this.newline;else{if(this.dontprettytextnodes){for(D=g.children,k=0,N=D.length;k<N;k++)if(T=D[k],T.value!=null){this.textispresent++,U=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,M=this.space(b)),j+=">"+this.newline,R=g.children,_=0,C=R.length;_<C;_++)T=R[_],j+=(function(){switch(!1){case!(T instanceof e):return this.cdata(T,b+1);case!(T instanceof t):return this.comment(T,b+1);case!(T instanceof u):return this.element(T,b+1);case!(T instanceof f):return this.raw(T,b+1);case!(T instanceof h):return this.text(T,b+1);case!(T instanceof d):return this.processingInstruction(T,b+1);case!(T instanceof c):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);U&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),j+=M+"</"+g.name+">"+this.newline}return j},v.prototype.processingInstruction=function(g,b){var w;return w=this.space(b)+"<?"+g.target,g.value&&(w+=" "+g.value),w+=this.spacebeforeslash+"?>"+this.newline,w},v.prototype.raw=function(g,b){return this.space(b)+g.value+this.newline},v.prototype.text=function(g,b){return this.space(b)+g.value+this.newline},v.prototype.dtdAttList=function(g,b){var w;return w=this.space(b)+"<!ATTLIST "+g.elementName+" "+g.attributeName+" "+g.attributeType,g.defaultValueType!=="#DEFAULT"&&(w+=" "+g.defaultValueType),g.defaultValue&&(w+=' "'+g.defaultValue+'"'),w+=this.spacebeforeslash+">"+this.newline,w},v.prototype.dtdElement=function(g,b){return this.space(b)+"<!ELEMENT "+g.name+" "+g.value+this.spacebeforeslash+">"+this.newline},v.prototype.dtdEntity=function(g,b){var w;return w=this.space(b)+"<!ENTITY",g.pe&&(w+=" %"),w+=" "+g.name,g.value?w+=' "'+g.value+'"':(g.pubID&&g.sysID?w+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.sysID&&(w+=' SYSTEM "'+g.sysID+'"'),g.nData&&(w+=" NDATA "+g.nData)),w+=this.spacebeforeslash+">"+this.newline,w},v.prototype.dtdNotation=function(g,b){var w;return w=this.space(b)+"<!NOTATION "+g.name,g.pubID&&g.sysID?w+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.pubID?w+=' PUBLIC "'+g.pubID+'"':g.sysID&&(w+=' SYSTEM "'+g.sysID+'"'),w+=this.spacebeforeslash+">"+this.newline,w},v.prototype.openNode=function(g,b){var w,T,k,_;if(b||(b=0),g instanceof u){k=this.space(b)+"<"+g.name,_=g.attributes;for(T in _)m.call(_,T)&&(w=_[T],k+=this.attribute(w));return k+=(g.children?">":"/>")+this.newline,k}else return k=this.space(b)+"<!DOCTYPE "+g.rootNodeName,g.pubID&&g.sysID?k+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.sysID&&(k+=' SYSTEM "'+g.sysID+'"'),k+=(g.children?" [":">")+this.newline,k},v.prototype.closeNode=function(g,b){switch(b||(b=0),!1){case!(g instanceof u):return this.space(b)+"</"+g.name+">"+this.newline;case!(g instanceof l):return this.space(b)+"]>"+this.newline}},v}(p)}).call(on)),bC.exports}var r7;function bBe(){return r7||(r7=1,(function(){var e,t,n,r,i=function(o,l){for(var c in l)s.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},s={}.hasOwnProperty;r=Oh().isPlainObject,e=Co(),n=Yne(),t=NP(),rC.exports=function(o){i(l,o);function l(c){l.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new t),this.options=c,this.stringify=new n(c),this.isDocument=!0}return l.prototype.end=function(c){var u;return c?r(c)&&(u=c,c=this.options.writer.set(u)):c=this.options.writer,c.document(this)},l.prototype.toString=function(c){return this.options.writer.set(c).document(this)},l}(e)}).call(on)),rC.exports}var _C={exports:{}},i7;function wBe(){return i7||(i7=1,(function(){var e,t,n,r,i,s,o,l,c,u,d,f,h,p,y,m,x,v,g,b,w={}.hasOwnProperty;b=Oh(),v=b.isObject,x=b.isFunction,g=b.isPlainObject,m=b.getValue,u=WN(),t=zN(),n=$N(),f=ZN(),y=JN(),d=eS(),l=HN(),c=YN(),r=GN(),s=QN(),i=KN(),o=XN(),e=Xne(),p=Yne(),h=NP(),_C.exports=function(){function T(k,_,N){var C;this.name="?xml",k||(k={}),k.writer?g(k.writer)&&(C=k.writer,k.writer=new h(C)):k.writer=new h(k),this.options=k,this.writer=k.writer,this.stringify=new p(k),this.onDataCallback=_||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(k,_,N){var C,I;if(k==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(k));return this.openCurrent(),k=m(k),_===null&&N==null&&(C=[{},null],_=C[0],N=C[1]),_==null&&(_={}),_=m(_),v(_)||(I=[_,N],N=I[0],_=I[1]),this.currentNode=new u(this,k,_),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},T.prototype.element=function(k,_,N){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(k,_,N)},T.prototype.attribute=function(k,_){var N,C;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(k));if(k!=null&&(k=m(k)),v(k))for(N in k)w.call(k,N)&&(C=k[N],this.attribute(N,C));else x(_)&&(_=_.apply()),(!this.options.skipNullAttributes||_!=null)&&(this.currentNode.attributes[k]=new e(this,k,_));return this},T.prototype.text=function(k){var _;return this.openCurrent(),_=new y(this,k),this.onData(this.writer.text(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(k){var _;return this.openCurrent(),_=new t(this,k),this.onData(this.writer.cdata(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(k){var _;return this.openCurrent(),_=new n(this,k),this.onData(this.writer.comment(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(k){var _;return this.openCurrent(),_=new f(this,k),this.onData(this.writer.raw(_,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(k,_){var N,C,I,j,E;if(this.openCurrent(),k!=null&&(k=m(k)),_!=null&&(_=m(_)),Array.isArray(k))for(N=0,j=k.length;N<j;N++)C=k[N],this.instruction(C);else if(v(k))for(C in k)w.call(k,C)&&(I=k[C],this.instruction(C,I));else x(_)&&(_=_.apply()),E=new d(this,k,_),this.onData(this.writer.processingInstruction(E,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(k,_,N){var C;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return C=new l(this,k,_,N),this.onData(this.writer.declaration(C,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(k,_,N){if(this.openCurrent(),k==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,_,N),this.currentNode.rootNodeName=k,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(k,_){var N;return this.openCurrent(),N=new i(this,k,_),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(k,_,N,C,I){var j;return this.openCurrent(),j=new r(this,k,_,N,C,I),this.onData(this.writer.dtdAttList(j,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(k,_){var N;return this.openCurrent(),N=new s(this,!1,k,_),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(k,_){var N;return this.openCurrent(),N=new s(this,!0,k,_),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(k,_){var N;return this.openCurrent(),N=new o(this,k,_),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(k){if(!k.isOpen)return!this.root&&this.currentLevel===0&&k instanceof u&&(this.root=k),this.onData(this.writer.openNode(k,this.currentLevel),this.currentLevel),k.isOpen=!0},T.prototype.closeNode=function(k){if(!k.isClosed)return this.onData(this.writer.closeNode(k,this.currentLevel),this.currentLevel),k.isClosed=!0},T.prototype.onData=function(k,_){return this.documentStarted=!0,this.onDataCallback(k,_+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(k){return k==null?"":"node: <"+k+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(k,_,N){return this.node(k,_,N)},T.prototype.txt=function(k){return this.text(k)},T.prototype.dat=function(k){return this.cdata(k)},T.prototype.com=function(k){return this.comment(k)},T.prototype.ins=function(k,_){return this.instruction(k,_)},T.prototype.dec=function(k,_,N){return this.declaration(k,_,N)},T.prototype.dtd=function(k,_,N){return this.doctype(k,_,N)},T.prototype.e=function(k,_,N){return this.element(k,_,N)},T.prototype.n=function(k,_,N){return this.node(k,_,N)},T.prototype.t=function(k){return this.text(k)},T.prototype.d=function(k){return this.cdata(k)},T.prototype.c=function(k){return this.comment(k)},T.prototype.r=function(k){return this.raw(k)},T.prototype.i=function(k,_){return this.instruction(k,_)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(k,_){return this.entity(k,_)},T.prototype.pent=function(k,_){return this.pEntity(k,_)},T.prototype.not=function(k,_){return this.notation(k,_)},T}()}).call(on)),_C.exports}var TC={exports:{}},s7;function _Be(){return s7||(s7=1,(function(){var e,t,n,r,i,s,o,l,c,u,d,f,h,p,y=function(x,v){for(var g in v)m.call(v,g)&&(x[g]=v[g]);function b(){this.constructor=x}return b.prototype=v.prototype,x.prototype=new b,x.__super__=v.prototype,x},m={}.hasOwnProperty;o=HN(),l=YN(),e=zN(),t=$N(),u=WN(),f=ZN(),h=JN(),d=eS(),c=EP(),n=GN(),r=KN(),i=QN(),s=XN(),p=Zne(),TC.exports=function(x){y(v,x);function v(g,b){v.__super__.constructor.call(this,b),this.stream=g}return v.prototype.document=function(g){var b,w,T,k,_,N,C,I;for(N=g.children,w=0,k=N.length;w<k;w++)b=N[w],b.isLastRootNode=!1;for(g.children[g.children.length-1].isLastRootNode=!0,C=g.children,I=[],T=0,_=C.length;T<_;T++)if(b=C[T],!(b instanceof c))switch(!1){case!(b instanceof o):I.push(this.declaration(b));break;case!(b instanceof l):I.push(this.docType(b));break;case!(b instanceof t):I.push(this.comment(b));break;case!(b instanceof d):I.push(this.processingInstruction(b));break;default:I.push(this.element(b))}return I},v.prototype.attribute=function(g){return this.stream.write(" "+g.name+'="'+g.value+'"')},v.prototype.cdata=function(g,b){return this.stream.write(this.space(b)+"<![CDATA["+g.text+"]]>"+this.endline(g))},v.prototype.comment=function(g,b){return this.stream.write(this.space(b)+"<!-- "+g.text+" -->"+this.endline(g))},v.prototype.declaration=function(g,b){return this.stream.write(this.space(b)),this.stream.write('<?xml version="'+g.version+'"'),g.encoding!=null&&this.stream.write(' encoding="'+g.encoding+'"'),g.standalone!=null&&this.stream.write(' standalone="'+g.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(g))},v.prototype.docType=function(g,b){var w,T,k,_;if(b||(b=0),this.stream.write(this.space(b)),this.stream.write("<!DOCTYPE "+g.root().name),g.pubID&&g.sysID?this.stream.write(' PUBLIC "'+g.pubID+'" "'+g.sysID+'"'):g.sysID&&this.stream.write(' SYSTEM "'+g.sysID+'"'),g.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(g)),_=g.children,T=0,k=_.length;T<k;T++)switch(w=_[T],!1){case!(w instanceof n):this.dtdAttList(w,b+1);break;case!(w instanceof r):this.dtdElement(w,b+1);break;case!(w instanceof i):this.dtdEntity(w,b+1);break;case!(w instanceof s):this.dtdNotation(w,b+1);break;case!(w instanceof e):this.cdata(w,b+1);break;case!(w instanceof t):this.comment(w,b+1);break;case!(w instanceof d):this.processingInstruction(w,b+1);break;default:throw new Error("Unknown DTD node type: "+w.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(g))},v.prototype.element=function(g,b){var w,T,k,_,N,C,I,j;b||(b=0),j=this.space(b),this.stream.write(j+"<"+g.name),C=g.attributes;for(N in C)m.call(C,N)&&(w=C[N],this.attribute(w));if(g.children.length===0||g.children.every(function(E){return E.value===""}))this.allowEmpty?this.stream.write("></"+g.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&g.children.length===1&&g.children[0].value!=null)this.stream.write(">"),this.stream.write(g.children[0].value),this.stream.write("</"+g.name+">");else{for(this.stream.write(">"+this.newline),I=g.children,k=0,_=I.length;k<_;k++)switch(T=I[k],!1){case!(T instanceof e):this.cdata(T,b+1);break;case!(T instanceof t):this.comment(T,b+1);break;case!(T instanceof u):this.element(T,b+1);break;case!(T instanceof f):this.raw(T,b+1);break;case!(T instanceof h):this.text(T,b+1);break;case!(T instanceof d):this.processingInstruction(T,b+1);break;case!(T instanceof c):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(j+"</"+g.name+">")}return this.stream.write(this.endline(g))},v.prototype.processingInstruction=function(g,b){return this.stream.write(this.space(b)+"<?"+g.target),g.value&&this.stream.write(" "+g.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(g))},v.prototype.raw=function(g,b){return this.stream.write(this.space(b)+g.value+this.endline(g))},v.prototype.text=function(g,b){return this.stream.write(this.space(b)+g.value+this.endline(g))},v.prototype.dtdAttList=function(g,b){return this.stream.write(this.space(b)+"<!ATTLIST "+g.elementName+" "+g.attributeName+" "+g.attributeType),g.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+g.defaultValueType),g.defaultValue&&this.stream.write(' "'+g.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(g))},v.prototype.dtdElement=function(g,b){return this.stream.write(this.space(b)+"<!ELEMENT "+g.name+" "+g.value),this.stream.write(this.spacebeforeslash+">"+this.endline(g))},v.prototype.dtdEntity=function(g,b){return this.stream.write(this.space(b)+"<!ENTITY"),g.pe&&this.stream.write(" %"),this.stream.write(" "+g.name),g.value?this.stream.write(' "'+g.value+'"'):(g.pubID&&g.sysID?this.stream.write(' PUBLIC "'+g.pubID+'" "'+g.sysID+'"'):g.sysID&&this.stream.write(' SYSTEM "'+g.sysID+'"'),g.nData&&this.stream.write(" NDATA "+g.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(g))},v.prototype.dtdNotation=function(g,b){return this.stream.write(this.space(b)+"<!NOTATION "+g.name),g.pubID&&g.sysID?this.stream.write(' PUBLIC "'+g.pubID+'" "'+g.sysID+'"'):g.pubID?this.stream.write(' PUBLIC "'+g.pubID+'"'):g.sysID&&this.stream.write(' SYSTEM "'+g.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(g))},v.prototype.endline=function(g){return g.isLastRootNode?"":this.newline},v}(p)}).call(on)),TC.exports}(function(){var e,t,n,r,i,s,o;o=Oh(),i=o.assign,s=o.isFunction,e=bBe(),t=wBe(),r=NP(),n=_Be(),ev.create=function(l,c,u,d){var f,h;if(l==null)throw new Error("Root element needs a name.");return d=i({},c,u,d),f=new e(d),h=f.element(l),d.headless||(f.declaration(d),(d.pubID!=null||d.sysID!=null)&&f.doctype(d)),h},ev.begin=function(l,c,u){var d;return s(l)&&(d=[l,c],c=d[0],u=d[1],l={}),c?new t(l,c,u):new e(l)},ev.stringWriter=function(l){return new r(l)},ev.streamWriter=function(l,c){return new n(l,c)}}).call(on);var a7=Ri,TBe=ev;Kne.writeString=EBe;function EBe(e,t){var n=a7.invert(t),r={element:s,text:NBe};function i(c,u){return r[u.type](c,u)}function s(c,u){var d=c.element(o(u.name),u.attributes);u.children.forEach(function(f){i(d,f)})}function o(c){var u=/^\{(.*)\}(.*)$/.exec(c);if(u){var d=n[u[1]];return d+(d===""?"":":")+u[2]}else return c}function l(c){var u=TBe.create(o(c.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return a7.forEach(t,function(d,f){var h="xmlns"+(f===""?"":":"+f);u.attribute(h,d)}),c.children.forEach(function(d){i(u,d)}),u.end()}return l(e)}function NBe(e,t){e.text(t.value)}var tS=Ax;Ld.Element=tS.Element;Ld.element=tS.element;Ld.emptyElement=tS.emptyElement;Ld.text=tS.text;Ld.readString=gne.readString;Ld.writeString=Kne.writeString;var SBe=Ri,kBe=ks,ABe=Ld;fP.read=Jne;fP.readXmlFromZipFile=DBe;var CBe={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function Jne(e){return ABe.readString(e,CBe).then(function(t){return ere(t)[0]})}function DBe(e,t){return e.exists(t)?e.read(t,"utf-8").then(jBe).then(Jne):kBe.resolve(null)}function jBe(e){return e.replace(/^\uFEFF/g,"")}function ere(e){return e.type==="element"?e.name==="mc:AlternateContent"?e.firstOrEmpty("mc:Fallback").children:(e.children=SBe.flatten(e.children.map(ere,!0)),[e]):[e]}var SP={},nh={},kP={};Object.defineProperty(kP,"__esModule",{value:!0});var IBe=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];kP.default=IBe;var RBe=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nh,"__esModule",{value:!0});nh.hex=nh.dec=nh.codePoint=void 0;var PBe=RBe(kP),tre={},OBe=String.fromCodePoint?String.fromCodePoint:UBe;for(var EC=0,o7=PBe.default;EC<o7.length;EC++){var NC=o7[EC],l7=parseInt(NC["Unicode dec"],10),FBe={codePoint:l7,string:OBe(l7)};tre[NC["Typeface name"].toUpperCase()+"_"+NC["Dingbat dec"]]=FBe}function AP(e,t){return tre[e.toUpperCase()+"_"+t]}nh.codePoint=AP;function LBe(e,t){return AP(e,parseInt(t,10))}nh.dec=LBe;function MBe(e,t){return AP(e,parseInt(t,16))}nh.hex=MBe;function UBe(e){if(e<=65535)return String.fromCharCode(e);var t=Math.floor((e-65536)/1024)+55296,n=(e-65536)%1024+56320;return String.fromCharCode(t,n)}var Fh={},c7=Ri;Fh.paragraph=BBe;Fh.run=VBe;Fh._elements=nre;Fh._elementsOfType=CP;Fh.getDescendantsOfType=qBe;Fh.getDescendants=rre;function BBe(e){return CP("paragraph",e)}function VBe(e){return CP("run",e)}function CP(e,t){return nre(function(n){return n.type===e?t(n):n})}function nre(e){return function t(n){if(n.children){var r=c7.map(n.children,t);n=c7.extend(n,{children:r})}return e(n)}}function qBe(e,t){return rre(e).filter(function(n){return n.type===t})}function rre(e){var t=[];return ire(e,function(n){t.push(n)}),t}function ire(e,t){e.children&&e.children.forEach(function(n){ire(n,t),t(n)})}var DP={};DP.uriToZipEntryName=WBe;DP.replaceFragment=zBe;function WBe(e,t){return t.charAt(0)==="/"?t.substr(1):e+"/"+t}function zBe(e,t){var n=e.indexOf("#");return n!==-1&&(e=e.substring(0,n)),e+"#"+t}SP.createBodyReader=HBe;SP._readNumberingProperties=are;var u7=nh,vl=Ri,Gr=Gn,sre=il.Result,Mu=il.warning,$Be=Ld,d7=Fh,f7=DP;function HBe(e){return{readXmlElement:function(t){return new h7(e).readXmlElement(t)},readXmlElements:function(t){return new h7(e).readXmlElements(t)}}}function h7(e){var t=[],n=[],r=[],i=e.relationships,s=e.contentTypes,o=e.docxFile,l=e.files,c=e.numbering,u=e.styles;function d(Z){var Ie=Z.map(f);return p7(Ie)}function f(Z){if(Z.type==="element"){var Ie=U[Z.name];if(Ie)return Ie(Z);if(!Object.prototype.hasOwnProperty.call(QBe,Z.name)){var V=Mu("An unrecognised element was ignored: "+Z.name);return Sy([V])}}return hg()}function h(Z){return b(Z).map(function(Ie){return{type:"paragraphProperties",styleId:Ie.styleId,styleName:Ie.name,alignment:Z.firstOrEmpty("w:jc").attributes["w:val"],numbering:are(Ie.styleId,Z.firstOrEmpty("w:numPr"),c),indent:p(Z.firstOrEmpty("w:ind"))}})}function p(Z){return{start:Z.attributes["w:start"]||Z.attributes["w:left"],end:Z.attributes["w:end"]||Z.attributes["w:right"],firstLine:Z.attributes["w:firstLine"],hanging:Z.attributes["w:hanging"]}}function y(Z){return w(Z).map(function(Ie){var V=Z.firstOrEmpty("w:sz").attributes["w:val"],ke=/^[0-9]+$/.test(V)?parseInt(V,10)/2:null;return{type:"runProperties",styleId:Ie.styleId,styleName:Ie.name,verticalAlignment:Z.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Z.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:ke,isBold:x(Z.first("w:b")),isUnderline:m(Z.first("w:u")),isItalic:x(Z.first("w:i")),isStrikethrough:x(Z.first("w:strike")),isAllCaps:x(Z.first("w:caps")),isSmallCaps:x(Z.first("w:smallCaps")),highlight:g(Z.firstOrEmpty("w:highlight").attributes["w:val"])}})}function m(Z){if(Z){var Ie=Z.attributes["w:val"];return Ie!==void 0&&Ie!=="false"&&Ie!=="0"&&Ie!=="none"}else return!1}function x(Z){if(Z){var Ie=Z.attributes["w:val"];return Ie!=="false"&&Ie!=="0"}else return!1}function v(Z){return Z!=="false"&&Z!=="0"}function g(Z){return!Z||Z==="none"?null:Z}function b(Z){return k(Z,"w:pStyle","Paragraph",u.findParagraphStyleById)}function w(Z){return k(Z,"w:rStyle","Run",u.findCharacterStyleById)}function T(Z){return k(Z,"w:tblStyle","Table",u.findTableStyleById)}function k(Z,Ie,V,ke){var xe=[],re=Z.first(Ie),J=null,pe=null;if(re&&(J=re.attributes["w:val"],J)){var Y=ke(J);Y?pe=Y.name:xe.push(Oe(V,J))}return nw({styleId:J,name:pe},xe)}function _(Z){var Ie=Z.attributes["w:fldCharType"];if(Ie==="begin")t.push({type:"begin",fldChar:Z}),n=[];else if(Ie==="end"){var V=t.pop();if(V.type==="begin"&&(V=C(V)),V.type==="checkbox")return Mo(Gr.checkbox({checked:V.checked}))}else if(Ie==="separate"){var ke=t.pop(),xe=C(ke);t.push(xe)}return hg()}function N(){var Z=vl.last(t.filter(function(Ie){return Ie.type==="hyperlink"}));return Z?Z.options:null}function C(Z){return I(n.join(""),Z.type==="begin"?Z.fldChar:$Be.emptyElement)}function I(Z,Ie){var V=/\s*HYPERLINK "(.*)"/.exec(Z);if(V)return{type:"hyperlink",options:{href:V[1]}};var ke=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Z);if(ke)return{type:"hyperlink",options:{anchor:ke[1]}};var xe=/\s*FORMCHECKBOX\s*/.exec(Z);if(xe){var re=Ie.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),J=re.first("w:checked"),pe=J==null?x(re.first("w:default")):x(J);return{type:"checkbox",checked:pe}}return{type:"unknown"}}function j(Z){return n.push(Z.text()),hg()}function E(Z){var Ie=Z.attributes["w:font"],V=Z.attributes["w:char"],ke=u7.hex(Ie,V);return ke==null&&/^F0..$/.test(V)&&(ke=u7.hex(Ie,V.substring(2))),ke==null?Sy([Mu("A w:sym element with an unsupported character was ignored: char "+V+" in font "+Ie)]):Mo(new Gr.Text(ke.string))}function D(Z){return function(Ie){var V=Ie.attributes["w:id"];return Mo(new Gr.NoteReference({noteType:Z,noteId:V}))}}function R(Z){return Mo(Gr.commentReference({commentId:Z.attributes["w:id"]}))}function M(Z){return d(Z.children)}var U={"w:p":function(Z){var Ie=Z.firstOrEmpty("w:pPr"),V=!!Ie.firstOrEmpty("w:rPr").first("w:del");if(V)return Z.children.forEach(function(xe){r.push(xe)}),hg();var ke=Z.children;return r.length>0&&(ke=r.concat(ke),r=[]),qs.map(h(Ie),d(ke),function(xe,re){return new Gr.Paragraph(re,xe)}).insertExtra()},"w:r":function(Z){return qs.map(y(Z.firstOrEmpty("w:rPr")),d(Z.children),function(Ie,V){var ke=N();return ke!==null&&(V=[new Gr.Hyperlink(V,ke)]),new Gr.Run(V,Ie)})},"w:fldChar":_,"w:instrText":j,"w:t":function(Z){return Mo(new Gr.Text(Z.text()))},"w:tab":function(Z){return Mo(new Gr.Tab)},"w:noBreakHyphen":function(){return Mo(new Gr.Text(""))},"w:softHyphen":function(Z){return Mo(new Gr.Text(""))},"w:sym":E,"w:hyperlink":function(Z){var Ie=Z.attributes["r:id"],V=Z.attributes["w:anchor"];return d(Z.children).map(function(ke){function xe(J){var pe=Z.attributes["w:tgtFrame"]||null;return new Gr.Hyperlink(ke,vl.extend({targetFrame:pe},J))}if(Ie){var re=i.findTargetByRelationshipId(Ie);return V&&(re=f7.replaceFragment(re,V)),xe({href:re})}else return V?xe({anchor:V}):ke})},"w:tbl":z,"w:tr":F,"w:tc":W,"w:footnoteReference":D("footnote"),"w:endnoteReference":D("endnote"),"w:commentReference":R,"w:br":function(Z){var Ie=Z.attributes["w:type"];return Ie==null||Ie==="textWrapping"?Mo(Gr.lineBreak):Ie==="page"?Mo(Gr.pageBreak):Ie==="column"?Mo(Gr.columnBreak):Sy([Mu("Unsupported break type: "+Ie)])},"w:bookmarkStart":function(Z){var Ie=Z.attributes["w:name"];return Ie==="_GoBack"?hg():Mo(new Gr.BookmarkStart({name:Ie}))},"mc:AlternateContent":function(Z){return M(Z.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Z){var Ie=d(Z.firstOrEmpty("w:sdtContent").children);return Ie.map(function(V){var ke=Z.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(ke){var xe=ke.first("wordml:checked"),re=!!xe&&v(xe.attributes["wordml:val"]),J=Gr.checkbox({checked:re}),pe=!1,Y=V.map(d7._elementsOfType(Gr.types.text,function(le){return le.value.length>0&&!pe?(pe=!0,J):le}));return pe?Y:J}else return V})},"w:ins":M,"w:object":M,"w:smartTag":M,"w:drawing":M,"w:pict":function(Z){return M(Z).toExtra()},"v:roundrect":M,"v:shape":M,"v:textbox":M,"w:txbxContent":M,"wp:inline":K,"wp:anchor":K,"v:imagedata":ge,"v:group":M,"v:rect":M};return{readXmlElement:f,readXmlElements:d};function z(Z){var Ie=G(Z.firstOrEmpty("w:tblPr"));return d(Z.children).flatMap(P).flatMap(function(V){return Ie.map(function(ke){return Gr.Table(V,ke)})})}function G(Z){return T(Z).map(function(Ie){return{styleId:Ie.styleId,styleName:Ie.name}})}function F(Z){var Ie=Z.firstOrEmpty("w:trPr"),V=!!Ie.first("w:del");if(V)return hg();var ke=!!Ie.first("w:tblHeader");return d(Z.children).map(function(xe){return Gr.TableRow(xe,{isHeader:ke})})}function W(Z){return d(Z.children).map(function(Ie){var V=Z.firstOrEmpty("w:tcPr"),ke=V.firstOrEmpty("w:gridSpan").attributes["w:val"],xe=ke?parseInt(ke,10):1,re=Gr.TableCell(Ie,{colSpan:xe});return re._vMerge=O(V),re})}function O(Z){var Ie=Z.first("w:vMerge");if(Ie){var V=Ie.attributes["w:val"];return V==="continue"||!V}else return null}function P(Z){var Ie=vl.any(Z,function(xe){return xe.type!==Gr.types.tableRow});if(Ie)return B(Z),nw(Z,[Mu("unexpected non-row element in table, cell merging may be incorrect")]);var V=vl.any(Z,function(xe){return vl.any(xe.children,function(re){return re.type!==Gr.types.tableCell})});if(V)return B(Z),nw(Z,[Mu("unexpected non-cell element in table row, cell merging may be incorrect")]);var ke={};return Z.forEach(function(xe){var re=0;xe.children.forEach(function(J){J._vMerge&&ke[re]?ke[re].rowSpan++:(ke[re]=J,J._vMerge=!1),re+=J.colSpan})}),Z.forEach(function(xe){xe.children=xe.children.filter(function(re){return!re._vMerge}),xe.children.forEach(function(re){delete re._vMerge})}),Mo(Z)}function B(Z){Z.forEach(function(Ie){var V=d7.getDescendantsOfType(Ie,Gr.types.tableCell);V.forEach(function(ke){delete ke._vMerge})})}function K(Z){var Ie=Z.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return p7(Ie.map(Q.bind(null,Z)))}function Q(Z,Ie){var V=Z.first("wp:docPr").attributes,ke=L(V.descr)?V.title:V.descr,xe=ee(Ie);return xe===null?Sy([Mu("Could not find image file for a:blip element")]):be(xe,ke)}function L(Z){return Z==null||/^\s*$/.test(Z)}function ee(Z){var Ie=Z.attributes["r:embed"],V=Z.attributes["r:link"];if(Ie)return he(Ie);if(V){var ke=i.findTargetByRelationshipId(V);return{path:ke,read:l.read.bind(l,ke)}}else return null}function ge(Z){var Ie=Z.attributes["r:id"];return Ie?be(he(Ie),Z.attributes["o:title"]):Sy([Mu("A v:imagedata element without a relationship ID was ignored")])}function he(Z){var Ie=f7.uriToZipEntryName("word",i.findTargetByRelationshipId(Z));return{path:Ie,read:o.read.bind(o,Ie)}}function be(Z,Ie){var V=s.findContentType(Z.path),ke=Gr.Image({readImage:Z.read,altText:Ie,contentType:V}),xe=GBe[V]?[]:Mu("Image of type "+V+" is unlikely to display in web browsers");return nw(ke,xe)}function Oe(Z,Ie){return Mu(Z+" style with ID "+Ie+" was referenced but not defined in the document")}}function are(e,t,n){var r=t.firstOrEmpty("w:ilvl").attributes["w:val"],i=t.firstOrEmpty("w:numId").attributes["w:val"];if(r!==void 0&&i!==void 0)return n.findLevel(i,r);if(e!=null){var s=n.findLevelByParagraphStyleId(e);if(s!=null)return s}return i!==void 0?n.findLevel(i,"0"):null}var GBe={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},QBe={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function Sy(e){return new qs(null,null,e)}function hg(){return new qs(null)}function Mo(e){return new qs(e)}function nw(e,t){return new qs(e,null,t)}function qs(e,t,n){this.value=e||[],this.extra=t||[],this._result=new sre({element:this.value,extra:t},n),this.messages=this._result.messages}qs.prototype.toExtra=function(){return new qs(null,nS(this.extra,this.value),this.messages)};qs.prototype.insertExtra=function(){var e=this.extra;return e&&e.length?new qs(nS(this.value,e),null,this.messages):this};qs.prototype.map=function(e){var t=this._result.map(function(n){return e(n.element)});return new qs(t.value,this.extra,t.messages)};qs.prototype.flatMap=function(e){var t=this._result.flatMap(function(n){return e(n.element)._result});return new qs(t.value.element,nS(this.extra,t.value.extra),t.messages)};qs.map=function(e,t,n){return new qs(n(e.value,t.value),nS(e.extra,t.extra),e.messages.concat(t.messages))};function p7(e){var t=sre.combine(vl.pluck(e,"_result"));return new qs(vl.flatten(vl.pluck(t.value,"element")),vl.filter(vl.flatten(vl.pluck(t.value,"extra")),KBe),t.messages)}function nS(e,t){return vl.flatten([e,t])}function KBe(e){return e}var ore={};ore.DocumentXmlReader=ZBe;var XBe=Gn,YBe=il.Result;function ZBe(e){var t=e.bodyReader;function n(r){var i=r.first("w:body");if(i==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var s=t.readXmlElements(i.children).map(function(o){return new XBe.Document(o,{notes:e.notes,comments:e.comments})});return new YBe(s.value,s.messages)}return{convertXmlToDocument:n}}var rS={};rS.readRelationships=JBe;rS.defaultValue=new jP([]);rS.Relationships=jP;function JBe(e){var t=[];return e.children.forEach(function(n){if(n.name==="relationships:Relationship"){var r={relationshipId:n.attributes.Id,target:n.attributes.Target,type:n.attributes.Type};t.push(r)}}),new jP(t)}function jP(e){var t={};e.forEach(function(r){t[r.relationshipId]=r.target});var n={};return e.forEach(function(r){n[r.type]||(n[r.type]=[]),n[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return t[r]},findTargetsByType:function(r){return n[r]||[]}}}var IP={};IP.readContentTypesFromXml=t7e;var e7e={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};IP.defaultContentTypes=lre({},{});function t7e(e){var t={},n={};return e.children.forEach(function(r){if(r.name==="content-types:Default"&&(t[r.attributes.Extension]=r.attributes.ContentType),r.name==="content-types:Override"){var i=r.attributes.PartName;i.charAt(0)==="/"&&(i=i.substring(1)),n[i]=r.attributes.ContentType}}),lre(n,t)}function lre(e,t){return{findContentType:function(n){var r=e[n];if(r)return r;var i=n.split("."),s=i[i.length-1];if(t.hasOwnProperty(s))return t[s];var o=e7e[s.toLowerCase()];return o?"image/"+o:null}}}var iS={},rw=Ri;iS.readNumberingXml=n7e;iS.Numbering=RP;iS.defaultNumbering=new RP({},{});function RP(e,t,n){var r=rw.flatten(rw.values(t).map(function(l){return rw.values(l.levels)})),i=rw.indexBy(r.filter(function(l){return l.paragraphStyleId!=null}),"paragraphStyleId");function s(l,c){var u=e[l];if(u){var d=t[u.abstractNumId];if(d){if(d.numStyleLink==null)return t[u.abstractNumId].levels[c];var f=n.findNumberingStyleById(d.numStyleLink);return s(f.numId,c)}else return null}else return null}function o(l){return i[l]||null}return{findLevel:s,findLevelByParagraphStyleId:o}}function n7e(e,t){if(!t||!t.styles)throw new Error("styles is missing");var n=r7e(e),r=s7e(e);return new RP(r,n,t.styles)}function r7e(e){var t={};return e.getElementsByTagName("w:abstractNum").forEach(function(n){var r=n.attributes["w:abstractNumId"];t[r]=i7e(n)}),t}function i7e(e){var t={},n=null;e.getElementsByTagName("w:lvl").forEach(function(i){var s=i.attributes["w:ilvl"],o=i.firstOrEmpty("w:numFmt").attributes["w:val"],l=o!=="bullet",c=i.firstOrEmpty("w:pStyle").attributes["w:val"];s===void 0?n={isOrdered:l,level:"0",paragraphStyleId:c}:t[s]={isOrdered:l,level:s,paragraphStyleId:c}}),n!==null&&t[n.level]===void 0&&(t[n.level]=n);var r=e.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:t,numStyleLink:r}}function s7e(e){var t={};return e.getElementsByTagName("w:num").forEach(function(n){var r=n.attributes["w:numId"],i=n.first("w:abstractNumId").attributes["w:val"];t[r]={abstractNumId:i}}),t}var sS={};sS.readStylesXml=a7e;sS.Styles=X1;sS.defaultStyles=new X1({},{});function X1(e,t,n,r){return{findParagraphStyleById:function(i){return e[i]},findCharacterStyleById:function(i){return t[i]},findTableStyleById:function(i){return n[i]},findNumberingStyleById:function(i){return r[i]}}}X1.EMPTY=new X1({},{},{},{});function a7e(e){var t={},n={},r={},i={},s={paragraph:t,character:n,table:r,numbering:i};return e.getElementsByTagName("w:style").forEach(function(o){var l=o7e(o),c=s[l.type];c&&c[l.styleId]===void 0&&(c[l.styleId]=l)}),new X1(t,n,r,i)}function o7e(e){var t=e.attributes["w:type"];if(t==="numbering")return c7e(t,e);var n=cre(e),r=l7e(e);return{type:t,styleId:n,name:r}}function l7e(e){var t=e.first("w:name");return t?t.attributes["w:val"]:null}function c7e(e,t){var n=cre(t),r=t.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:e,numId:r,styleId:n}}function cre(e){return e.attributes["w:styleId"]}var PP={},u7e=Gn,d7e=il.Result;PP.createFootnotesReader=ure.bind(on,"footnote");PP.createEndnotesReader=ure.bind(on,"endnote");function ure(e,t){function n(s){return d7e.combine(s.getElementsByTagName("w:"+e).filter(r).map(i))}function r(s){var o=s.attributes["w:type"];return o!=="continuationSeparator"&&o!=="separator"}function i(s){var o=s.attributes["w:id"];return t.readXmlElements(s.children).map(function(l){return u7e.Note({noteType:e,noteId:o,body:l})})}return n}var dre={},f7e=Gn,h7e=il.Result;function p7e(e){function t(r){return h7e.combine(r.getElementsByTagName("w:comment").map(n))}function n(r){var i=r.attributes["w:id"];function s(o){return(r.attributes[o]||"").trim()||null}return e.readXmlElements(r.children).map(function(o){return f7e.comment({commentId:i,body:o,authorName:s("w:author"),authorInitials:s("w:initials")})})}return t}dre.createCommentsReader=p7e;var fre={},m7e=ks;fre.Files=g7e;function g7e(){function e(t){return m7e.reject(new Error("could not open external image: '"+t+`'
cannot open linked files from a web browser`))}return{read:e}}cP.read=T7e;cP._findPartPaths=pre;var x7e=ks,y7e=Gn,SC=il.Result,LT=$b,hre=fP.readXmlFromZipFile,v7e=SP.createBodyReader,b7e=ore.DocumentXmlReader,tx=rS,m7=IP,g7=iS,x7=sS,y7=PP,w7e=dre,_7e=fre.Files;function T7e(e,t,n){t=t||{},n=n||{};var r=new _7e({externalFileAccess:n.externalFileAccess,relativeToFile:t.path});return x7e.props({contentTypes:N7e(e),partPaths:pre(e),docxFile:e,files:r}).also(function(i){return{styles:k7e(e,i.partPaths.styles)}}).also(function(i){return{numbering:S7e(e,i.partPaths.numbering,i.styles)}}).also(function(i){return{footnotes:iw(i.partPaths.footnotes,i,function(s,o){return o?y7.createFootnotesReader(s)(o):new SC([])}),endnotes:iw(i.partPaths.endnotes,i,function(s,o){return o?y7.createEndnotesReader(s)(o):new SC([])}),comments:iw(i.partPaths.comments,i,function(s,o){return o?w7e.createCommentsReader(s)(o):new SC([])})}}).also(function(i){return{notes:i.footnotes.flatMap(function(s){return i.endnotes.map(function(o){return new y7e.Notes(s.concat(o))})})}}).then(function(i){return iw(i.partPaths.mainDocument,i,function(s,o){return i.notes.flatMap(function(l){return i.comments.flatMap(function(c){var u=new b7e({bodyReader:s,notes:l,comments:c});return u.convertXmlToDocument(o)})})})})}function pre(e){return A7e(e).then(function(t){var n=v7({docxFile:e,relationships:t,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!e.exists(n))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return Dx({filename:mre(n),readElement:tx.readRelationships,defaultValue:tx.defaultValue})(e).then(function(r){function i(s){return v7({docxFile:e,relationships:r,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+s,basePath:LT.splitPath(n).dirname,fallbackPath:"word/"+s+".xml"})}return{mainDocument:n,comments:i("comments"),endnotes:i("endnotes"),footnotes:i("footnotes"),numbering:i("numbering"),styles:i("styles")}})})}function v7(e){var t=e.docxFile,n=e.relationships,r=e.relationshipType,i=e.basePath,s=e.fallbackPath,o=n.findTargetsByType(r),l=o.map(function(u){return E7e(LT.joinPath(i,u),"/")}),c=l.filter(function(u){return t.exists(u)});return c.length===0?s:c[0]}function E7e(e,t){return e.substring(0,t.length)===t?e.substring(t.length):e}function Dx(e){return function(t){return hre(t,e.filename).then(function(n){return n?e.readElement(n):e.defaultValue})}}function iw(e,t,n){var r=Dx({filename:mre(e),readElement:tx.readRelationships,defaultValue:tx.defaultValue});return r(t.docxFile).then(function(i){var s=new v7e({relationships:i,contentTypes:t.contentTypes,docxFile:t.docxFile,numbering:t.numbering,styles:t.styles,files:t.files});return hre(t.docxFile,e).then(function(o){return n(s,o)})})}function mre(e){var t=LT.splitPath(e);return LT.joinPath(t.dirname,"_rels",t.basename+".rels")}var N7e=Dx({filename:"[Content_Types].xml",readElement:m7.readContentTypesFromXml,defaultValue:m7.defaultContentTypes});function S7e(e,t,n){return Dx({filename:t,readElement:function(r){return g7.readNumberingXml(r,{styles:n})},defaultValue:g7.defaultNumbering})(e)}function k7e(e,t){return Dx({filename:t,readElement:x7.readStylesXml,defaultValue:x7.defaultStyles})(e)}var A7e=Dx({filename:"_rels/.rels",readElement:tx.readRelationships,defaultValue:tx.defaultValue}),OP={},C7e=Ri,D7e=ks,Y1=Ld;OP.writeStyleMap=I7e;OP.readStyleMap=O7e;var j7e="http://schemas.zwobble.org/mammoth/style-map",MT="mammoth/style-map",gre="/"+MT;function I7e(e,t){return e.write(MT,t),R7e(e).then(function(){return P7e(e)})}function R7e(e){var t="word/_rels/document.xml.rels",n="http://schemas.openxmlformats.org/package/2006/relationships",r="{"+n+"}Relationship";return e.read(t,"utf8").then(Y1.readString).then(function(i){var s=i.children;xre(s,r,"Id",{Id:"rMammothStyleMap",Type:j7e,Target:gre});var o={"":n};return e.write(t,Y1.writeString(i,o))})}function P7e(e){var t="[Content_Types].xml",n="http://schemas.openxmlformats.org/package/2006/content-types",r="{"+n+"}Override";return e.read(t,"utf8").then(Y1.readString).then(function(i){var s=i.children;xre(s,r,"PartName",{PartName:gre,ContentType:"text/prs.mammoth.style-map"});var o={"":n};return e.write(t,Y1.writeString(i,o))})}function xre(e,t,n,r){var i=C7e.find(e,function(s){return s.name===t&&s.attributes[n]===r[n]});i?i.attributes=r:e.push(Y1.element(t,r))}function O7e(e){return e.exists(MT)?e.read(MT,"utf8"):D7e.resolve(null)}var FP={},Kh={},Uu={},lf={},b7;function yre(){if(b7)return lf;b7=1;var e=oS();function t(c,u,d){return r(e.element(c,u,{fresh:!1}),d)}function n(c,u,d){var f=e.element(c,u,{fresh:!0});return r(f,d)}function r(c,u){return{type:"element",tag:c,children:u||[]}}function i(c){return{type:"text",value:c}}var s={type:"forceWrite"};lf.freshElement=n,lf.nonFreshElement=t,lf.elementWithTag=r,lf.text=i,lf.forceWrite=s;var o={br:!0,hr:!0,img:!0,input:!0};function l(c){return c.children.length===0&&o[c.tag.tagName]}return lf.isVoidElement=l,lf}var kC,w7;function F7e(){if(w7)return kC;w7=1;var e=Ri,t=yre();function n(m){return r(u(m))}function r(m){var x=[];return m.map(i).forEach(function(v){c(x,v)}),x}function i(m){return s[m.type](m)}var s={element:o,text:l,forceWrite:l};function o(m){return t.elementWithTag(m.tag,r(m.children))}function l(m){return m}function c(m,x){var v=m[m.length-1];x.type==="element"&&!x.tag.fresh&&v&&v.type==="element"&&x.tag.matchesElement(v.tag)?(x.tag.separator&&c(v.children,t.text(x.tag.separator)),x.children.forEach(function(g){c(v.children,g)})):m.push(x)}function u(m){return d(m,function(x){return f[x.type](x)})}function d(m,x){return e.flatten(e.map(m,x),!0)}var f={element:p,text:y,forceWrite:h};function h(m){return[m]}function p(m){var x=u(m.children);return x.length===0&&!t.isVoidElement(m)?[]:[t.elementWithTag(m.tag,x)]}function y(m){return m.value.length===0?[]:[m]}return kC=n,kC}var _7;function aS(){if(_7)return Uu;_7=1;var e=yre();Uu.freshElement=e.freshElement,Uu.nonFreshElement=e.nonFreshElement,Uu.elementWithTag=e.elementWithTag,Uu.text=e.text,Uu.forceWrite=e.forceWrite,Uu.simplify=F7e();function t(o,l){l.forEach(function(c){n(o,c)})}function n(o,l){r[l.type](o,l)}var r={element:i,text:s,forceWrite:function(){}};function i(o,l){e.isVoidElement(l)?o.selfClosing(l.tag.tagName,l.tag.attributes):(o.open(l.tag.tagName,l.tag.attributes),t(o,l.children),o.close(l.tag.tagName))}function s(o,l){o.text(l.value)}return Uu.write=t,Uu}var T7;function oS(){if(T7)return Kh;T7=1;var e=Ri,t=aS();Kh.topLevelElement=n,Kh.elements=r,Kh.element=s;function n(l,c){return r([s(l,c,{fresh:!0})])}function r(l){return new i(l.map(function(c){return e.isString(c)?s(c):c}))}function i(l){this._elements=l}i.prototype.wrap=function(c){for(var u=c(),d=this._elements.length-1;d>=0;d--)u=this._elements[d].wrapNodes(u);return u};function s(l,c,u){return u=u||{},new o(l,c,u)}function o(l,c,u){var d={};e.isArray(l)?(l.forEach(function(f){d[f]=!0}),l=l[0]):d[l]=!0,this.tagName=l,this.tagNames=d,this.attributes=c||{},this.fresh=u.fresh,this.separator=u.separator}return o.prototype.matchesElement=function(l){return this.tagNames[l.tagName]&&e.isEqual(this.attributes||{},l.attributes||{})},o.prototype.wrap=function(c){return this.wrapNodes(c())},o.prototype.wrapNodes=function(c){return[t.elementWithTag(this,c)]},Kh.empty=r([]),Kh.ignore={wrap:function(){return[]}},Kh}var LP={};(function(e){var t=Ri,n=ks,r=aS();e.imgElement=i;function i(s){return function(o,l){return n.when(s(o)).then(function(c){var u={};return o.altText&&(u.alt=o.altText),t.extend(u,c),[r.freshElement("img",u)]})}}e.inline=e.imgElement,e.dataUri=i(function(s){return s.readAsBase64String().then(function(o){return{src:"data:"+s.contentType+";base64,"+o}})})})(LP);var vre={},bre={},wre=Ri;bre.writer=L7e;function L7e(e){return e=e||{},e.prettyPrint?M7e():_re()}var sw={div:!0,p:!0,ul:!0,li:!0};function M7e(){var e=0,t="  ",n=[],r=!0,i=!1,s=_re();function o(y,m){sw[y]&&h(),n.push(y),s.open(y,m),sw[y]&&e++,r=!1}function l(y){sw[y]&&(e--,h()),n.pop(),s.close(y)}function c(y){f();var m=p()?y:y.replace(`
`,`
`+t);s.text(m)}function u(y,m){h(),s.selfClosing(y,m)}function d(){return n.length===0||sw[n[n.length-1]]}function f(){i||(h(),i=!0)}function h(){if(i=!1,!r&&d()&&!p()){s._append(`
`);for(var y=0;y<e;y++)s._append(t)}}function p(){return wre.some(n,function(y){return y==="pre"})}return{asString:s.asString,open:o,close:l,text:c,selfClosing:u}}function _re(){var e=[];function t(c,u){var d=i(u);e.push("<"+c+d+">")}function n(c){e.push("</"+c+">")}function r(c,u){var d=i(u);e.push("<"+c+d+" />")}function i(c){return wre.map(c,function(u,d){return" "+d+'="'+B7e(u)+'"'}).join("")}function s(c){e.push(U7e(c))}function o(c){e.push(c)}function l(){return e.join("")}return{asString:l,open:t,close:n,text:s,selfClosing:r,_append:o}}function U7e(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function B7e(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Tre={},V7e=Ri;function E7(e){return UT(e,e)}function UT(e,t){return function(){return{start:e,end:t}}}function q7e(e){var t=e.href||"";return t?{start:"[",end:"]("+t+")",anchorPosition:"before"}:{}}function W7e(e){var t=e.src||"",n=e.alt||"";return t||n?{start:"!["+n+"]("+t+")"}:{}}function N7(e){return function(t,n){return{start:n?`
`:"",end:n?"":`
`,list:{isOrdered:e.isOrdered,indent:n?n.indent+1:0,count:0}}}}function z7e(e,t,n){t=t||{indent:0,isOrdered:!1,count:0},t.count++,n.hasClosed=!1;var r=t.isOrdered?t.count+".":"-",i=Nre("	",t.indent)+r+" ";return{start:i,end:function(){if(!n.hasClosed)return n.hasClosed=!0,`
`}}}var Ere={p:UT("",`

`),br:UT("",`  
`),ul:N7({isOrdered:!1}),ol:N7({isOrdered:!0}),li:z7e,strong:E7("__"),em:E7("*"),a:q7e,img:W7e};(function(){for(var e=1;e<=6;e++)Ere["h"+e]=UT(Nre("#",e)+" ",`

`)})();function Nre(e,t){return new Array(t+1).join(e)}function $7e(){var e=[],t=[],n=null,r={};function i(d,f){f=f||{};var h=Ere[d]||function(){return{}},p=h(f,n,r);t.push({end:p.end,list:n}),p.list&&(n=p.list);var y=p.anchorPosition==="before";y&&s(f),e.push(p.start||""),y||s(f)}function s(d){d.id&&e.push('<a id="'+d.id+'"></a>')}function o(d){var f=t.pop();n=f.list;var h=V7e.isFunction(f.end)?f.end():f.end;e.push(h||"")}function l(d,f){i(d,f),o()}function c(d){e.push(H7e(d))}function u(){return e.join("")}return{asString:u,open:i,close:o,text:c,selfClosing:l}}Tre.writer=$7e;function H7e(e){return e.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var G7e=bre,Q7e=Tre;vre.writer=K7e;function K7e(e){return e=e||{},e.outputFormat==="markdown"?Q7e.writer():G7e.writer(e)}var gf=Ri,S7=ks,qw=Gn,dl=oS(),v4=il,X7e=LP,Zn=aS(),Y7e=vre;FP.DocumentConverter=Z7e;function Z7e(e){return{convertToHtml:function(t){var n=gf.indexBy(t.type===qw.types.document?t.comments:[],"commentId"),r=new J7e(e,n);return r.convertToHtml(t)}}}function J7e(e,t){var n=1,r=[],i=[];e=gf.extend({ignoreEmptyParagraphs:!0},e);var s=e.idPrefix===void 0?"":e.idPrefix,o=e.ignoreEmptyParagraphs,l=dl.topLevelElement("p"),c=e.styleMap||[];function u(G){var F=[],W=f(G,F,{}),O=[];Sre(W,function(B){B.type==="deferred"&&O.push(B)});var P={};return S7.mapSeries(O,function(B){return B.value().then(function(K){P[B.id]=K})}).then(function(){function B(Q){return AC(Q,function(L){return L.type==="deferred"?P[L.id]:L.children?[gf.extend({},L,{children:B(L.children)})]:[L]})}var K=Y7e.writer({prettyPrint:e.prettyPrint,outputFormat:e.outputFormat});return Zn.write(K,Zn.simplify(B(W))),new v4.Result(K.asString(),F)})}function d(G,F,W){return AC(G,function(O){return f(O,F,W)})}function f(G,F,W){if(!W)throw new Error("options not set");var O=z[G.type];return O?O(G,F,W):[]}function h(G,F,W){return p(G,F).wrap(function(){var O=d(G.children,F,W);return o?O:[Zn.forceWrite].concat(O)})}function p(G,F){var W=v(G);return W?W.to:(G.styleId&&F.push(k7("paragraph",G)),l)}function y(G,F,W){var O=function(){return d(G.children,F,W)},P=[];if(G.highlight!==null){var B=x({type:"highlight",color:G.highlight});B&&P.push(B)}G.isSmallCaps&&P.push(m("smallCaps")),G.isAllCaps&&P.push(m("allCaps")),G.isStrikethrough&&P.push(m("strikethrough","s")),G.isUnderline&&P.push(m("underline")),G.verticalAlignment===qw.verticalAlignment.subscript&&P.push(dl.element("sub",{},{fresh:!1})),G.verticalAlignment===qw.verticalAlignment.superscript&&P.push(dl.element("sup",{},{fresh:!1})),G.isItalic&&P.push(m("italic","em")),G.isBold&&P.push(m("bold","strong"));var K=dl.empty,Q=v(G);return Q?K=Q.to:G.styleId&&F.push(k7("run",G)),P.push(K),P.forEach(function(L){O=L.wrap.bind(L,O)}),O()}function m(G,F){var W=x({type:G});return W||(F?dl.element(F,{},{fresh:!1}):dl.empty)}function x(G,F){var W=v(G);return W?W.to:F}function v(G){for(var F=0;F<c.length;F++)if(c[F].from.matches(G))return c[F]}function g(G){return function(F,W){return S7.attempt(function(){return G(F,W)}).caught(function(O){return W.push(v4.error(O)),[]})}}function b(G){return T(G.noteType,G.noteId)}function w(G){return k(G.noteType,G.noteId)}function T(G,F){return _(G+"-"+F)}function k(G,F){return _(G+"-ref-"+F)}function _(G){return s+G}var N=dl.elements([dl.element("table",{},{fresh:!0})]);function C(G,F,W){return x(G,N).wrap(function(){return I(G,F,W)})}function I(G,F,W){var O=gf.findIndex(G.children,function(Q){return!Q.type===qw.types.tableRow||!Q.isHeader});O===-1&&(O=G.children.length);var P;if(O===0)P=d(G.children,F,gf.extend({},W,{isTableHeader:!1}));else{var B=d(G.children.slice(0,O),F,gf.extend({},W,{isTableHeader:!0})),K=d(G.children.slice(O),F,gf.extend({},W,{isTableHeader:!1}));P=[Zn.freshElement("thead",{},B),Zn.freshElement("tbody",{},K)]}return[Zn.forceWrite].concat(P)}function j(G,F,W){var O=d(G.children,F,W);return[Zn.freshElement("tr",{},[Zn.forceWrite].concat(O))]}function E(G,F,W){var O=W.isTableHeader?"th":"td",P=d(G.children,F,W),B={};return G.colSpan!==1&&(B.colspan=G.colSpan.toString()),G.rowSpan!==1&&(B.rowspan=G.rowSpan.toString()),[Zn.freshElement(O,B,[Zn.forceWrite].concat(P))]}function D(G,F,W){return x(G,dl.ignore).wrap(function(){var O=t[G.commentId],P=i.length+1,B="["+nVe(O)+P+"]";return i.push({label:B,comment:O}),[Zn.freshElement("a",{href:"#"+T("comment",G.commentId),id:k("comment",G.commentId)},[Zn.text(B)])]})}function R(G,F,W){var O=G.label,P=G.comment,B=d(P.body,F,W).concat([Zn.nonFreshElement("p",{},[Zn.text(" "),Zn.freshElement("a",{href:"#"+k("comment",P.commentId)},[Zn.text("")])])]);return[Zn.freshElement("dt",{id:T("comment",P.commentId)},[Zn.text("Comment "+O)]),Zn.freshElement("dd",{},B)]}function M(G,F,W){return U(G).wrap(function(){return[]})}function U(G){var F=v(G);return F?F.to:G.breakType==="line"?dl.topLevelElement("br"):dl.empty}var z={document:function(G,F,W){var O=d(G.children,F,W),P=r.map(function(K){return G.notes.resolve(K)}),B=d(P,F,W);return O.concat([Zn.freshElement("ol",{},B),Zn.freshElement("dl",{},AC(i,function(K){return R(K,F,W)}))])},paragraph:h,run:y,text:function(G,F,W){return[Zn.text(G.value)]},tab:function(G,F,W){return[Zn.text("	")]},hyperlink:function(G,F,W){var O=G.anchor?"#"+_(G.anchor):G.href,P={href:O};G.targetFrame!=null&&(P.target=G.targetFrame);var B=d(G.children,F,W);return[Zn.nonFreshElement("a",P,B)]},checkbox:function(G){var F={type:"checkbox"};return G.checked&&(F.checked="checked"),[Zn.freshElement("input",F)]},bookmarkStart:function(G,F,W){var O=Zn.freshElement("a",{id:_(G.name)},[Zn.forceWrite]);return[O]},noteReference:function(G,F,W){r.push(G);var O=Zn.freshElement("a",{href:"#"+b(G),id:w(G)},[Zn.text("["+n+++"]")]);return[Zn.freshElement("sup",{},[O])]},note:function(G,F,W){var O=d(G.body,F,W),P=Zn.elementWithTag(dl.element("p",{},{fresh:!1}),[Zn.text(" "),Zn.freshElement("a",{href:"#"+w(G)},[Zn.text("")])]),B=O.concat([P]);return Zn.freshElement("li",{id:b(G)},B)},commentReference:D,comment:R,image:tVe(g(e.convertImage||X7e.dataUri)),table:C,tableRow:j,tableCell:E,break:M};return{convertToHtml:u}}var eVe=1;function tVe(e){return function(t,n,r){return[{type:"deferred",id:eVe++,value:function(){return e(t,n,r)}}]}}function k7(e,t){return v4.warning("Unrecognised "+e+" style: '"+t.styleName+"' (Style ID: "+t.styleId+")")}function AC(e,t){return gf.flatten(e.map(t),!0)}function Sre(e,t){e.forEach(function(n){t(n),n.children&&Sre(n.children,t)})}var nVe=FP.commentAuthorLabel=function(t){return t.authorInitials||""},kre={},rVe=Gn;function Are(e){if(e.type==="text")return e.value;if(e.type===rVe.types.tab)return"	";var t=e.type==="paragraph"?`

`:"";return(e.children||[]).map(Are).join("")+t}kre.convertElementToRawText=Are;var lS={},kc={},Cre={},Dre={exports:{}},nx=Dre.exports=function(e,t){this._tokens=e,this._startIndex=t||0};nx.prototype.head=function(){return this._tokens[this._startIndex]};nx.prototype.tail=function(e){return new nx(this._tokens,this._startIndex+1)};nx.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};nx.prototype.end=function(){return this._tokens[this._tokens.length-1]};nx.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)};var iVe=Dre.exports,sVe=iVe;Cre.Parser=function(e){var t=function(n,r){return n(new sVe(r))};return{parseTokens:t}};var MP={},jre={};(function(e){e.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return e.none},flatMap:function(){return e.none},filter:function(){return e.none},toArray:function(){return[]},orElse:t,valueOrElse:t});function t(r){return typeof r=="function"?r():r}e.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:e.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},e.isOption=function(r){return r===e.none||r instanceof n},e.fromNullable=function(r){return r==null?e.none:new n(r)}})(jre);var UP={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new fa({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new fa({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new fa({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new fa({status:"cut",remaining:e,errors:[]})}},fa=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};fa.prototype.map=function(e){return this._hasValue?new fa({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};fa.prototype.changeRemaining=function(e){return new fa({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})};fa.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};fa.prototype.isFailure=function(){return this._status==="failure"};fa.prototype.isError=function(){return this._status==="error"};fa.prototype.isCut=function(){return this._status==="cut"};fa.prototype.value=function(){return this._value};fa.prototype.remaining=function(){return this._remaining};fa.prototype.source=function(){return this._source};fa.prototype.errors=function(){return this._errors};var BP={};BP.error=function(e){return new cS(e)};var cS=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};cS.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual};cS.prototype.lineNumber=function(){return this._location.lineNumber()};cS.prototype.characterNumber=function(){return this._location.characterNumber()};var Ire={};Ire.fromArray=function(e){var t=0,n=function(){return t<e.length};return new pm({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var pm=function(e){this._iterator=e};pm.prototype.map=function(e){var t=this._iterator;return new pm({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})};pm.prototype.filter=function(e){var t=this._iterator,n=!1,r=!1,i,s=function(){if(!n)for(n=!0,r=!1;t.hasNext()&&!r;)i=t.next(),r=e(i)};return new pm({hasNext:function(){return s(),r},next:function(){s();var o=i;return n=!1,o}})};pm.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null};pm.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e};(function(e){var t=Ri,n=jre,r=UP,i=BP,s=Ire;e.token=function(h,p){var y=p!==void 0;return function(m){var x=m.head();if(x&&x.name===h&&(!y||x.value===p))return r.success(x.value,m.tail(),x.source);var v=d({name:h,value:p});return f(m,v)}},e.tokenOfType=function(h){return e.token(h)},e.firstOf=function(h,p){return t.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(y){return s.fromArray(p).map(function(m){return m(y)}).filter(function(m){return m.isSuccess()||m.isError()}).first()||f(y,h)}},e.then=function(h,p){return function(y){var m=h(y);return m.map||console.log(m),m.map(p)}},e.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(m){var x=t.foldl(h,function(g,b){var w=g.result,T=g.hasCut;if(!w.isSuccess())return{result:w,hasCut:T};var k=b(w.remaining());if(k.isCut())return{result:w,hasCut:!0};if(k.isSuccess()){var _;b.isCaptured?_=w.value().withValue(b,k.value()):_=w.value();var N=k.remaining(),C=m.to(N);return{result:r.success(_,N,C),hasCut:T}}else return T?{result:r.error(k.errors(),k.remaining()),hasCut:T}:{result:k,hasCut:T}},{result:r.success(new o,m),hasCut:!1}).result,v=m.to(x.remaining());return x.map(function(g){return g.withValue(e.sequence.source,v)})};p.head=function(){var m=t.find(h,y);return e.then(p,e.sequence.extract(m))},p.map=function(m){return e.then(p,function(x){return m.apply(this,x.toArray())})};function y(m){return m.isCaptured}return p};var o=function(h,p){this._values=h||{},this._valuesArray=p||[]};o.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var y=t.clone(this._values);y[h.captureName]=p;var m=this._valuesArray.concat([p]);return new o(y,m)},o.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},e.sequence.capture=function(h,p){var y=function(){return h.apply(this,arguments)};return y.captureName=p,y.isCaptured=!0,y},e.sequence.extract=function(h){return function(p){return p.get(h)}},e.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(y){var m=p.map(function(x){return y.get(x)});return h.apply(this,m)}},e.sequence.source={captureName:"source"},e.sequence.cut=function(){return function(h){return r.cut(h)}},e.optional=function(h){return function(p){var y=h(p);return y.isSuccess()?y.map(n.some):y.isFailure()?r.success(n.none,p):y}},e.zeroOrMoreWithSeparator=function(h,p){return u(h,p,!1)},e.oneOrMoreWithSeparator=function(h,p){return u(h,p,!0)};var l=e.zeroOrMore=function(h){return function(p){for(var y=[],m;(m=h(p))&&m.isSuccess();)p=m.remaining(),y.push(m.value());return m.isError()?m:r.success(y,p)}};e.oneOrMore=function(h){return e.oneOrMoreWithSeparator(h,c)};function c(h){return r.success(null,h)}var u=function(h,p,y){return function(m){var x=h(m);if(x.isSuccess()){var v=e.sequence.capture(h,"main"),g=l(e.then(e.sequence(p,v),e.sequence.extract(v))),b=g(x.remaining());return r.success([x.value()].concat(b.value()),b.remaining())}else return y||x.isError()?x:r.success([],m)}};e.leftAssociative=function(h,p,y){var m;y?m=[{func:y,rule:p}]:m=p,m=m.map(function(v){return e.then(v.rule,function(g){return function(b,w){return v.func(b,g,w)}})});var x=e.firstOf.apply(null,["rules"].concat(m));return function(v){var g=v,b=h(v);if(!b.isSuccess())return b;for(var w=x(b.remaining());w.isSuccess();){var T=w.remaining(),k=g.to(w.remaining()),_=w.value();b=r.success(_(b.value(),k),T,k),w=x(b.remaining())}return w.isError()?w:b}},e.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},e.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var d=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var y,m=h.head();return m?y=i.error({expected:p,actual:d(m),location:m.source}):y=i.error({expected:p,actual:"end of tokens"}),r.failure([y],h)}})(MP);var Rre={exports:{}};Rre.exports=function(e,t){var n={asString:function(){return e},range:function(r,i){return new mm(e,t,r,i)}};return n};var mm=function(e,t,n,r){this._string=e,this._description=t,this._startIndex=n,this._endIndex=r};mm.prototype.to=function(e){return new mm(this._string,this._description,this._startIndex,e._endIndex)};mm.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber};mm.prototype.lineNumber=function(){return this._position().lineNumber};mm.prototype.characterNumber=function(){return this._position().characterNumber};mm.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},r=1;n()!==-1&&n()<this._startIndex;)t=n()+1,r+=1;var i=this._startIndex-t+1;return{lineNumber:r,characterNumber:i}};var Pre=Rre.exports,Ore=function(e,t,n){this.name=e,this.value=t,n&&(this.source=n)},Fre={};(function(e){var t=MP,n=UP;e.parser=function(s,o,l){var c={rule:h,leftAssociative:p,rightAssociative:y},u=new r(l.map(f)),d=t.firstOf(s,o);function f(v){return{name:v.name,rule:i(v.ruleBuilder.bind(null,c))}}function h(){return m(u)}function p(v){return m(u.untilExclusive(v))}function y(v){return m(u.untilInclusive(v))}function m(v){return x.bind(null,v)}function x(v,g){var b=d(g);return b.isSuccess()?v.apply(b):b}return c};function r(s){function o(f){return new r(s.slice(0,c().indexOf(f)))}function l(f){return new r(s.slice(0,c().indexOf(f)+1))}function c(){return s.map(function(f){return f.name})}function u(f){for(var h,p;;)if(h=d(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function d(f){return t.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:u,untilExclusive:o,untilInclusive:l}}e.infix=function(s,o){function l(c){return e.infix(s,function(u){var d=o(u);return function(f){var h=d(f);return h.map(function(p){return function(y,m){return c(y,p,m)}})}})}return{name:s,ruleBuilder:o,map:l}};var i=function(s){var o;return function(l){return o||(o=s()),o(l)}}})(Fre);var Lre={},CC=Ore,aVe=Pre;Lre.RegexTokeniser=oVe;function oVe(e){e=e.map(function(i){return{name:i.name,regex:new RegExp(i.regex.source,"g")}});function t(i,s){for(var o=new aVe(i,s),l=0,c=[];l<i.length;){var u=n(i,l,o);l=u.endIndex,c.push(u.token)}return c.push(r(i,o)),c}function n(i,s,o){for(var l=0;l<e.length;l++){var c=e[l].regex;c.lastIndex=s;var u=c.exec(i);if(u){var f=s+u[0].length;if(u.index===s&&f>s){var d=u[1],h=new CC(e[l].name,d,o.range(s,f));return{token:h,endIndex:f}}}}var f=s+1,h=new CC("unrecognisedCharacter",i.substring(s,f),o.range(s,f));return{token:h,endIndex:f}}function r(i,s){return new CC("end",null,s.range(i.length,i.length))}return{tokenise:t}}kc.Parser=Cre.Parser;kc.rules=MP;kc.errors=BP;kc.results=UP;kc.StringSource=Pre;kc.Token=Ore;kc.bottomUp=Fre;kc.RegexTokeniser=Lre.RegexTokeniser;kc.rule=function(e){var t;return function(n){return t||(t=e()),t(n)}};var zs={};zs.paragraph=lVe;zs.run=cVe;zs.table=uVe;zs.bold=new Ac("bold");zs.italic=new Ac("italic");zs.underline=new Ac("underline");zs.strikethrough=new Ac("strikethrough");zs.allCaps=new Ac("allCaps");zs.smallCaps=new Ac("smallCaps");zs.highlight=dVe;zs.commentReference=new Ac("commentReference");zs.lineBreak=new uS({breakType:"line"});zs.pageBreak=new uS({breakType:"page"});zs.columnBreak=new uS({breakType:"column"});zs.equalTo=hVe;zs.startsWith=pVe;function lVe(e){return new Ac("paragraph",e)}function cVe(e){return new Ac("run",e)}function uVe(e){return new Ac("table",e)}function dVe(e){return new Mre(e)}function Ac(e,t){t=t||{},this._elementType=e,this._styleId=t.styleId,this._styleName=t.styleName,t.list&&(this._listIndex=t.list.levelIndex,this._listIsOrdered=t.list.isOrdered)}Ac.prototype.matches=function(e){return e.type===this._elementType&&(this._styleId===void 0||e.styleId===this._styleId)&&(this._styleName===void 0||e.styleName&&this._styleName.operator(this._styleName.operand,e.styleName))&&(this._listIndex===void 0||fVe(e,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===e.breakType)};function Mre(e){e=e||{},this._color=e.color}Mre.prototype.matches=function(e){return e.type==="highlight"&&(this._color===void 0||e.color===this._color)};function uS(e){e=e||{},this._breakType=e.breakType}uS.prototype.matches=function(e){return e.type==="break"&&(this._breakType===void 0||e.breakType===this._breakType)};function fVe(e,t,n){return e.numbering&&e.numbering.level==t&&e.numbering.isOrdered==n}function hVe(e){return{operator:mVe,operand:e}}function pVe(e){return{operator:gVe,operand:e}}function mVe(e,t){return e.toUpperCase()===t.toUpperCase()}function gVe(e,t){return t.toUpperCase().indexOf(e.toUpperCase())===0}var Ure={},xVe=kc,yVe=xVe.RegexTokeniser;Ure.tokenise=vVe;var A7="'((?:\\\\.|[^'])*)";function vVe(e){var t="(?:[a-zA-Z\\-_]|\\\\.)",n=new yVe([{name:"identifier",regex:new RegExp("("+t+"(?:"+t+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(A7+"'")},{name:"unterminated-string",regex:new RegExp(A7)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return n.tokenise(e)}var bVe=Ri,lt=kc,ra=zs,Ww=oS(),wVe=Ure.tokenise,DC=il;lS.readHtmlPath=NVe;lS.readDocumentMatcher=EVe;lS.readStyle=_Ve;function _Ve(e){return VP(RVe,e)}function TVe(){return lt.rules.sequence(lt.rules.sequence.capture(Bre()),lt.rules.tokenOfType("whitespace"),lt.rules.tokenOfType("arrow"),lt.rules.sequence.capture(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("whitespace"),lt.rules.sequence.capture(Vre())).head())),lt.rules.tokenOfType("end")).map(function(e,t){return{from:e,to:t.valueOrElse(Ww.empty)}})}function EVe(e){return VP(Bre(),e)}function Bre(){var e=lt.rules.sequence,t=function(k,_){return lt.rules.then(lt.rules.token("identifier",k),function(){return _})},n=t("p",ra.paragraph),r=t("r",ra.run),i=lt.rules.firstOf("p or r or table",n,r),s=lt.rules.sequence(lt.rules.tokenOfType("dot"),lt.rules.sequence.cut(),lt.rules.sequence.capture(dS)).map(function(k){return{styleId:k}}),o=lt.rules.firstOf("style name matcher",lt.rules.then(lt.rules.sequence(lt.rules.tokenOfType("equals"),lt.rules.sequence.cut(),lt.rules.sequence.capture(Wg)).head(),function(k){return{styleName:ra.equalTo(k)}}),lt.rules.then(lt.rules.sequence(lt.rules.tokenOfType("startsWith"),lt.rules.sequence.cut(),lt.rules.sequence.capture(Wg)).head(),function(k){return{styleName:ra.startsWith(k)}})),l=lt.rules.sequence(lt.rules.tokenOfType("open-square-bracket"),lt.rules.sequence.cut(),lt.rules.token("identifier","style-name"),lt.rules.sequence.capture(o),lt.rules.tokenOfType("close-square-bracket")).head(),c=lt.rules.firstOf("list type",t("ordered-list",{isOrdered:!0}),t("unordered-list",{isOrdered:!1})),u=e(lt.rules.tokenOfType("colon"),e.capture(c),e.cut(),lt.rules.tokenOfType("open-paren"),e.capture(SVe),lt.rules.tokenOfType("close-paren")).map(function(k,_){return{list:{isOrdered:k.isOrdered,levelIndex:_-1}}});function d(k){var _=lt.rules.firstOf.apply(lt.rules.firstOf,["matcher suffix"].concat(k)),N=lt.rules.zeroOrMore(_);return lt.rules.then(N,function(C){var I={};return C.forEach(function(j){bVe.extend(I,j)}),I})}var f=e(e.capture(i),e.capture(d([s,l,u]))).map(function(k,_){return k(_)}),h=e(lt.rules.token("identifier","table"),e.capture(d([s,l]))).map(function(k){return ra.table(k)}),p=t("b",ra.bold),y=t("i",ra.italic),m=t("u",ra.underline),x=t("strike",ra.strikethrough),v=t("all-caps",ra.allCaps),g=t("small-caps",ra.smallCaps),b=e(lt.rules.token("identifier","highlight"),lt.rules.sequence.capture(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("open-square-bracket"),lt.rules.sequence.cut(),lt.rules.token("identifier","color"),lt.rules.tokenOfType("equals"),lt.rules.sequence.capture(Wg),lt.rules.tokenOfType("close-square-bracket")).head()))).map(function(k){return ra.highlight({color:k.valueOrElse(void 0)})}),w=t("comment-reference",ra.commentReference),T=e(lt.rules.token("identifier","br"),e.cut(),lt.rules.tokenOfType("open-square-bracket"),lt.rules.token("identifier","type"),lt.rules.tokenOfType("equals"),e.capture(Wg),lt.rules.tokenOfType("close-square-bracket")).map(function(k){switch(k){case"line":return ra.lineBreak;case"page":return ra.pageBreak;case"column":return ra.columnBreak}});return lt.rules.firstOf("element type",f,h,p,y,m,x,v,g,b,w,T)}function NVe(e){return VP(Vre(),e)}function Vre(){var e=lt.rules.sequence.capture,t=lt.rules.tokenOfType("whitespace"),n=lt.rules.then(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("colon"),lt.rules.token("identifier","fresh"))),function(o){return o.map(function(){return!0}).valueOrElse(!1)}),r=lt.rules.then(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("colon"),lt.rules.token("identifier","separator"),lt.rules.tokenOfType("open-paren"),e(Wg),lt.rules.tokenOfType("close-paren")).head()),function(o){return o.valueOrElse("")}),i=lt.rules.oneOrMoreWithSeparator(dS,lt.rules.tokenOfType("choice")),s=lt.rules.sequence(e(i),e(lt.rules.zeroOrMore(DVe)),e(n),e(r)).map(function(o,l,c,u){var d={},f={};return l.forEach(function(h){h.append&&d[h.name]?d[h.name]+=" "+h.value:d[h.name]=h.value}),c&&(f.fresh=!0),u&&(f.separator=u),Ww.element(o,d,f)});return lt.rules.firstOf("html path",lt.rules.then(lt.rules.tokenOfType("bang"),function(){return Ww.ignore}),lt.rules.then(lt.rules.zeroOrMoreWithSeparator(s,lt.rules.sequence(t,lt.rules.tokenOfType("gt"),t)),Ww.elements))}var dS=lt.rules.then(lt.rules.tokenOfType("identifier"),qre),SVe=lt.rules.tokenOfType("integer"),Wg=lt.rules.then(lt.rules.tokenOfType("string"),qre),kVe={n:`
`,r:"\r",t:"	"};function qre(e){return e.replace(/\\(.)/g,function(t,n){return kVe[n]||n})}var AVe=lt.rules.sequence(lt.rules.tokenOfType("open-square-bracket"),lt.rules.sequence.cut(),lt.rules.sequence.capture(dS),lt.rules.tokenOfType("equals"),lt.rules.sequence.capture(Wg),lt.rules.tokenOfType("close-square-bracket")).map(function(e,t){return{name:e,value:t,append:!1}}),CVe=lt.rules.sequence(lt.rules.tokenOfType("dot"),lt.rules.sequence.cut(),lt.rules.sequence.capture(dS)).map(function(e){return{name:"class",value:e,append:!0}}),DVe=lt.rules.firstOf("attribute or class",AVe,CVe);function VP(e,t){var n=wVe(t),r=lt.Parser(),i=r.parseTokens(e,n);return i.isSuccess()?DC.success(i.value()):new DC.Result(null,[DC.warning(jVe(t,i))])}function jVe(e,t){return"Did not understand this style mapping, so ignored it: "+e+`
`+t.errors().map(IVe).join(`
`)}function IVe(e){return"Error was at character number "+e.characterNumber()+": Expected "+e.expected+" but got "+e.actual}var RVe=TVe(),fS={};fS.readOptions=FVe;var Wre=Ri,PVe=fS._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],OVe=fS._standardOptions={externalFileAccess:!1,transformDocument:LVe,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function FVe(e){return e=e||{},Wre.extend({},OVe,e,{customStyleMap:C7(e.styleMap),readStyleMap:function(){var t=this.customStyleMap;return this.includeEmbeddedStyleMap&&(t=t.concat(C7(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(t=t.concat(PVe)),t}})}function C7(e){return e?Wre.isString(e)?e.split(`
`).map(function(t){return t.trim()}).filter(function(t){return t!==""&&t.charAt(0)!=="#"}):e:[]}function LVe(e){return e}var zre={},D7=ks,MVe=$b;zre.openZip=UVe;function UVe(e){return e.arrayBuffer?D7.resolve(MVe.openArrayBuffer(e.arrayBuffer)):D7.reject(new Error("Could not find file in options"))}var $re={},BVe=oS(),VVe=aS();$re.element=qVe;function qVe(e){return function(t){return VVe.elementWithTag(BVe.element(e),[t])}}var WVe=Ri,Hre=cP,qP=OP,zVe=FP.DocumentConverter,$Ve=kre.convertElementToRawText,HVe=lS.readStyle,GVe=fS.readOptions,hS=zre,QVe=il.Result;Ul.convertToHtml=KVe;Ul.convertToMarkdown=XVe;Ul.convert=WP;Ul.extractRawText=eqe;Ul.images=LP;Ul.transforms=Fh;Ul.underline=$re;Ul.embedStyleMap=tqe;Ul.readEmbeddedStyleMap=YVe;function KVe(e,t){return WP(e,t)}function XVe(e,t){var n=Object.create(t||{});return n.outputFormat="markdown",WP(e,n)}function WP(e,t){return t=GVe(t),hS.openZip(e).tap(function(n){return qP.readStyleMap(n).then(function(r){t.embeddedStyleMap=r})}).then(function(n){return Hre.read(n,e,t).then(function(r){return r.map(t.transformDocument)}).then(function(r){return ZVe(r,t)})})}function YVe(e){return hS.openZip(e).then(qP.readStyleMap)}function ZVe(e,t){var n=JVe(t.readStyleMap()),r=WVe.extend({},t,{styleMap:n.value}),i=new zVe(r);return e.flatMapThen(function(s){return n.flatMapThen(function(o){return i.convertToHtml(s)})})}function JVe(e){return QVe.combine((e||[]).map(HVe)).map(function(t){return t.filter(function(n){return!!n})})}function eqe(e){return hS.openZip(e).then(Hre.read).then(function(t){return t.map($Ve)})}function tqe(e,t){return hS.openZip(e).tap(function(n){return qP.writeStyleMap(n,t)}).then(function(n){return n.toArrayBuffer()}).then(function(n){return{toArrayBuffer:function(){return n},toBuffer:function(){return Buffer.from(n)}}})}Ul.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Gre,setPrototypeOf:j7,isFrozen:nqe,getPrototypeOf:rqe,getOwnPropertyDescriptor:iqe}=Object;let{freeze:Ya,seal:Fl,create:b4}=Object,{apply:w4,construct:_4}=typeof Reflect<"u"&&Reflect;Ya||(Ya=function(t){return t});Fl||(Fl=function(t){return t});w4||(w4=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return t.apply(n,i)});_4||(_4=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const aw=Za(Array.prototype.forEach),sqe=Za(Array.prototype.lastIndexOf),I7=Za(Array.prototype.pop),ky=Za(Array.prototype.push),aqe=Za(Array.prototype.splice),zw=Za(String.prototype.toLowerCase),jC=Za(String.prototype.toString),IC=Za(String.prototype.match),Ay=Za(String.prototype.replace),oqe=Za(String.prototype.indexOf),lqe=Za(String.prototype.trim),Xl=Za(Object.prototype.hasOwnProperty),Aa=Za(RegExp.prototype.test),Cy=cqe(TypeError);function Za(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return w4(e,t,r)}}function cqe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _4(e,n)}}function Fn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zw;j7&&j7(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(nqe(t)||(t[r]=s),i=s)}e[i]=!0}return e}function uqe(e){for(let t=0;t<e.length;t++)Xl(e,t)||(e[t]=null);return e}function qc(e){const t=b4(null);for(const[n,r]of Gre(e))Xl(e,n)&&(Array.isArray(r)?t[n]=uqe(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=qc(r):t[n]=r);return t}function Dy(e,t){for(;e!==null;){const r=iqe(e,t);if(r){if(r.get)return Za(r.get);if(typeof r.value=="function")return Za(r.value)}e=rqe(e)}function n(){return null}return n}const R7=Ya(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),RC=Ya(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PC=Ya(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dqe=Ya(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),OC=Ya(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fqe=Ya(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P7=Ya(["#text"]),O7=Ya(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),FC=Ya(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F7=Ya(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ow=Ya(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hqe=Fl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pqe=Fl(/<%[\w\W]*|[\w\W]*%>/gm),mqe=Fl(/\$\{[\w\W]*/gm),gqe=Fl(/^data-[\-\w.\u00B7-\uFFFF]+$/),xqe=Fl(/^aria-[\-\w]+$/),Qre=Fl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yqe=Fl(/^(?:\w+script|data):/i),vqe=Fl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kre=Fl(/^html$/i),bqe=Fl(/^[a-z][.\w]*(-[.\w]+)+$/i);var L7=Object.freeze({__proto__:null,ARIA_ATTR:xqe,ATTR_WHITESPACE:vqe,CUSTOM_ELEMENT:bqe,DATA_ATTR:gqe,DOCTYPE_NAME:Kre,ERB_EXPR:pqe,IS_ALLOWED_URI:Qre,IS_SCRIPT_OR_DATA:yqe,MUSTACHE_EXPR:hqe,TMPLIT_EXPR:mqe});const jy={element:1,text:3,progressingInstruction:7,comment:8,document:9},wqe=function(){return typeof window>"u"?null:window},_qe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},M7=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xre(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wqe();const t=ue=>Xre(ue);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==jy.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=e,y=c.prototype,m=Dy(y,"cloneNode"),x=Dy(y,"remove"),v=Dy(y,"nextSibling"),g=Dy(y,"childNodes"),b=Dy(y,"parentNode");if(typeof o=="function"){const ue=n.createElement("template");ue.content&&ue.content.ownerDocument&&(n=ue.content.ownerDocument)}let w,T="";const{implementation:k,createNodeIterator:_,createDocumentFragment:N,getElementsByTagName:C}=n,{importNode:I}=r;let j=M7();t.isSupported=typeof Gre=="function"&&typeof b=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:E,ERB_EXPR:D,TMPLIT_EXPR:R,DATA_ATTR:M,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:F}=L7;let{IS_ALLOWED_URI:W}=L7,O=null;const P=Fn({},[...R7,...RC,...PC,...OC,...P7]);let B=null;const K=Fn({},[...O7,...FC,...F7,...ow]);let Q=Object.seal(b4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),L=null,ee=null;const ge=Object.seal(b4(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let he=!0,be=!0,Oe=!1,Z=!0,Ie=!1,V=!0,ke=!1,xe=!1,re=!1,J=!1,pe=!1,Y=!1,le=!0,te=!1;const oe="user-content-";let ae=!0,fe=!1,Ae={},Me=null;const Ve=Fn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ot=null;const Fe=Fn({},["audio","video","img","source","image","track"]);let je=null;const Ge=Fn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",kt="http://www.w3.org/2000/svg",Qt="http://www.w3.org/1999/xhtml";let Mt=Qt,Mn=!1,sn=null;const Qn=Fn({},[Je,kt,Qt],jC);let qn=Fn({},["mi","mo","mn","ms","mtext"]),nr=Fn({},["annotation-xml"]);const Cn=Fn({},["title","style","font","a","script"]);let Pn=null;const Wt=["application/xhtml+xml","text/html"],rr="text/html";let ln=null,Dn=null;const Or=n.createElement("form"),dr=function(de){return de instanceof RegExp||de instanceof Function},_n=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Dn&&Dn===de)){if((!de||typeof de!="object")&&(de={}),de=qc(de),Pn=Wt.indexOf(de.PARSER_MEDIA_TYPE)===-1?rr:de.PARSER_MEDIA_TYPE,ln=Pn==="application/xhtml+xml"?jC:zw,O=Xl(de,"ALLOWED_TAGS")?Fn({},de.ALLOWED_TAGS,ln):P,B=Xl(de,"ALLOWED_ATTR")?Fn({},de.ALLOWED_ATTR,ln):K,sn=Xl(de,"ALLOWED_NAMESPACES")?Fn({},de.ALLOWED_NAMESPACES,jC):Qn,je=Xl(de,"ADD_URI_SAFE_ATTR")?Fn(qc(Ge),de.ADD_URI_SAFE_ATTR,ln):Ge,ot=Xl(de,"ADD_DATA_URI_TAGS")?Fn(qc(Fe),de.ADD_DATA_URI_TAGS,ln):Fe,Me=Xl(de,"FORBID_CONTENTS")?Fn({},de.FORBID_CONTENTS,ln):Ve,L=Xl(de,"FORBID_TAGS")?Fn({},de.FORBID_TAGS,ln):qc({}),ee=Xl(de,"FORBID_ATTR")?Fn({},de.FORBID_ATTR,ln):qc({}),Ae=Xl(de,"USE_PROFILES")?de.USE_PROFILES:!1,he=de.ALLOW_ARIA_ATTR!==!1,be=de.ALLOW_DATA_ATTR!==!1,Oe=de.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ie=de.SAFE_FOR_TEMPLATES||!1,V=de.SAFE_FOR_XML!==!1,ke=de.WHOLE_DOCUMENT||!1,J=de.RETURN_DOM||!1,pe=de.RETURN_DOM_FRAGMENT||!1,Y=de.RETURN_TRUSTED_TYPE||!1,re=de.FORCE_BODY||!1,le=de.SANITIZE_DOM!==!1,te=de.SANITIZE_NAMED_PROPS||!1,ae=de.KEEP_CONTENT!==!1,fe=de.IN_PLACE||!1,W=de.ALLOWED_URI_REGEXP||Qre,Mt=de.NAMESPACE||Qt,qn=de.MATHML_TEXT_INTEGRATION_POINTS||qn,nr=de.HTML_INTEGRATION_POINTS||nr,Q=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&dr(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&dr(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(be=!1),pe&&(J=!0),Ae&&(O=Fn({},P7),B=[],Ae.html===!0&&(Fn(O,R7),Fn(B,O7)),Ae.svg===!0&&(Fn(O,RC),Fn(B,FC),Fn(B,ow)),Ae.svgFilters===!0&&(Fn(O,PC),Fn(B,FC),Fn(B,ow)),Ae.mathMl===!0&&(Fn(O,OC),Fn(B,F7),Fn(B,ow))),de.ADD_TAGS&&(typeof de.ADD_TAGS=="function"?ge.tagCheck=de.ADD_TAGS:(O===P&&(O=qc(O)),Fn(O,de.ADD_TAGS,ln))),de.ADD_ATTR&&(typeof de.ADD_ATTR=="function"?ge.attributeCheck=de.ADD_ATTR:(B===K&&(B=qc(B)),Fn(B,de.ADD_ATTR,ln))),de.ADD_URI_SAFE_ATTR&&Fn(je,de.ADD_URI_SAFE_ATTR,ln),de.FORBID_CONTENTS&&(Me===Ve&&(Me=qc(Me)),Fn(Me,de.FORBID_CONTENTS,ln)),de.ADD_FORBID_CONTENTS&&(Me===Ve&&(Me=qc(Me)),Fn(Me,de.ADD_FORBID_CONTENTS,ln)),ae&&(O["#text"]=!0),ke&&Fn(O,["html","head","body"]),O.table&&(Fn(O,["tbody"]),delete L.tbody),de.TRUSTED_TYPES_POLICY){if(typeof de.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof de.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=de.TRUSTED_TYPES_POLICY,T=w.createHTML("")}else w===void 0&&(w=_qe(p,i)),w!==null&&typeof T=="string"&&(T=w.createHTML(""));Ya&&Ya(de),Dn=de}},ir=Fn({},[...RC,...PC,...dqe]),jn=Fn({},[...OC,...fqe]),Kn=function(de){let Re=b(de);(!Re||!Re.tagName)&&(Re={namespaceURI:Mt,tagName:"template"});const We=zw(de.tagName),Qe=zw(Re.tagName);return sn[de.namespaceURI]?de.namespaceURI===kt?Re.namespaceURI===Qt?We==="svg":Re.namespaceURI===Je?We==="svg"&&(Qe==="annotation-xml"||qn[Qe]):!!ir[We]:de.namespaceURI===Je?Re.namespaceURI===Qt?We==="math":Re.namespaceURI===kt?We==="math"&&nr[Qe]:!!jn[We]:de.namespaceURI===Qt?Re.namespaceURI===kt&&!nr[Qe]||Re.namespaceURI===Je&&!qn[Qe]?!1:!jn[We]&&(Cn[We]||!ir[We]):!!(Pn==="application/xhtml+xml"&&sn[de.namespaceURI]):!1},Xn=function(de){ky(t.removed,{element:de});try{b(de).removeChild(de)}catch{x(de)}},br=function(de,Re){try{ky(t.removed,{attribute:Re.getAttributeNode(de),from:Re})}catch{ky(t.removed,{attribute:null,from:Re})}if(Re.removeAttribute(de),de==="is")if(J||pe)try{Xn(Re)}catch{}else try{Re.setAttribute(de,"")}catch{}},ce=function(de){let Re=null,We=null;if(re)de="<remove></remove>"+de;else{const pt=IC(de,/^[\r\n\t ]+/);We=pt&&pt[0]}Pn==="application/xhtml+xml"&&Mt===Qt&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");const Qe=w?w.createHTML(de):de;if(Mt===Qt)try{Re=new h().parseFromString(Qe,Pn)}catch{}if(!Re||!Re.documentElement){Re=k.createDocument(Mt,"template",null);try{Re.documentElement.innerHTML=Mn?T:Qe}catch{}}const Ze=Re.body||Re.documentElement;return de&&We&&Ze.insertBefore(n.createTextNode(We),Ze.childNodes[0]||null),Mt===Qt?C.call(Re,ke?"html":"body")[0]:ke?Re.documentElement:Ze},Ne=function(de){return _.call(de.ownerDocument||de,de,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ve=function(de){return de instanceof f&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof d)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},_e=function(de){return typeof l=="function"&&de instanceof l};function ie(ue,de,Re){aw(ue,We=>{We.call(t,de,Re,Dn)})}const me=function(de){let Re=null;if(ie(j.beforeSanitizeElements,de,null),ve(de))return Xn(de),!0;const We=ln(de.nodeName);if(ie(j.uponSanitizeElement,de,{tagName:We,allowedTags:O}),V&&de.hasChildNodes()&&!_e(de.firstElementChild)&&Aa(/<[/\w!]/g,de.innerHTML)&&Aa(/<[/\w!]/g,de.textContent)||de.nodeType===jy.progressingInstruction||V&&de.nodeType===jy.comment&&Aa(/<[/\w]/g,de.data))return Xn(de),!0;if(!(ge.tagCheck instanceof Function&&ge.tagCheck(We))&&(!O[We]||L[We])){if(!L[We]&&se(We)&&(Q.tagNameCheck instanceof RegExp&&Aa(Q.tagNameCheck,We)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(We)))return!1;if(ae&&!Me[We]){const Qe=b(de)||de.parentNode,Ze=g(de)||de.childNodes;if(Ze&&Qe){const pt=Ze.length;for(let Kt=pt-1;Kt>=0;--Kt){const Tt=m(Ze[Kt],!0);Tt.__removalCount=(de.__removalCount||0)+1,Qe.insertBefore(Tt,v(de))}}}return Xn(de),!0}return de instanceof c&&!Kn(de)||(We==="noscript"||We==="noembed"||We==="noframes")&&Aa(/<\/no(script|embed|frames)/i,de.innerHTML)?(Xn(de),!0):(Ie&&de.nodeType===jy.text&&(Re=de.textContent,aw([E,D,R],Qe=>{Re=Ay(Re,Qe," ")}),de.textContent!==Re&&(ky(t.removed,{element:de.cloneNode()}),de.textContent=Re)),ie(j.afterSanitizeElements,de,null),!1)},De=function(de,Re,We){if(le&&(Re==="id"||Re==="name")&&(We in n||We in Or))return!1;if(!(be&&!ee[Re]&&Aa(M,Re))){if(!(he&&Aa(U,Re))){if(!(ge.attributeCheck instanceof Function&&ge.attributeCheck(Re,de))){if(!B[Re]||ee[Re]){if(!(se(de)&&(Q.tagNameCheck instanceof RegExp&&Aa(Q.tagNameCheck,de)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(de))&&(Q.attributeNameCheck instanceof RegExp&&Aa(Q.attributeNameCheck,Re)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(Re,de))||Re==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&Aa(Q.tagNameCheck,We)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(We))))return!1}else if(!je[Re]){if(!Aa(W,Ay(We,G,""))){if(!((Re==="src"||Re==="xlink:href"||Re==="href")&&de!=="script"&&oqe(We,"data:")===0&&ot[de])){if(!(Oe&&!Aa(z,Ay(We,G,"")))){if(We)return!1}}}}}}}return!0},se=function(de){return de!=="annotation-xml"&&IC(de,F)},Te=function(de){ie(j.beforeSanitizeAttributes,de,null);const{attributes:Re}=de;if(!Re||ve(de))return;const We={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B,forceKeepAttr:void 0};let Qe=Re.length;for(;Qe--;){const Ze=Re[Qe],{name:pt,namespaceURI:Kt,value:Tt}=Ze,Nt=ln(pt),kn=Tt;let bn=pt==="value"?kn:lqe(kn);if(We.attrName=Nt,We.attrValue=bn,We.keepAttr=!0,We.forceKeepAttr=void 0,ie(j.uponSanitizeAttribute,de,We),bn=We.attrValue,te&&(Nt==="id"||Nt==="name")&&(br(pt,de),bn=oe+bn),V&&Aa(/((--!?|])>)|<\/(style|title|textarea)/i,bn)){br(pt,de);continue}if(Nt==="attributename"&&IC(bn,"href")){br(pt,de);continue}if(We.forceKeepAttr)continue;if(!We.keepAttr){br(pt,de);continue}if(!Z&&Aa(/\/>/i,bn)){br(pt,de);continue}Ie&&aw([E,D,R],zr=>{bn=Ay(bn,zr," ")});const ps=ln(de.nodeName);if(!De(ps,Nt,bn)){br(pt,de);continue}if(w&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Kt)switch(p.getAttributeType(ps,Nt)){case"TrustedHTML":{bn=w.createHTML(bn);break}case"TrustedScriptURL":{bn=w.createScriptURL(bn);break}}if(bn!==kn)try{Kt?de.setAttributeNS(Kt,pt,bn):de.setAttribute(pt,bn),ve(de)?Xn(de):I7(t.removed)}catch{br(pt,de)}}ie(j.afterSanitizeAttributes,de,null)},Ee=function ue(de){let Re=null;const We=Ne(de);for(ie(j.beforeSanitizeShadowDOM,de,null);Re=We.nextNode();)ie(j.uponSanitizeShadowNode,Re,null),me(Re),Te(Re),Re.content instanceof s&&ue(Re.content);ie(j.afterSanitizeShadowDOM,de,null)};return t.sanitize=function(ue){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=null,We=null,Qe=null,Ze=null;if(Mn=!ue,Mn&&(ue="<!-->"),typeof ue!="string"&&!_e(ue))if(typeof ue.toString=="function"){if(ue=ue.toString(),typeof ue!="string")throw Cy("dirty is not a string, aborting")}else throw Cy("toString is not a function");if(!t.isSupported)return ue;if(xe||_n(de),t.removed=[],typeof ue=="string"&&(fe=!1),fe){if(ue.nodeName){const Tt=ln(ue.nodeName);if(!O[Tt]||L[Tt])throw Cy("root node is forbidden and cannot be sanitized in-place")}}else if(ue instanceof l)Re=ce("<!---->"),We=Re.ownerDocument.importNode(ue,!0),We.nodeType===jy.element&&We.nodeName==="BODY"||We.nodeName==="HTML"?Re=We:Re.appendChild(We);else{if(!J&&!Ie&&!ke&&ue.indexOf("<")===-1)return w&&Y?w.createHTML(ue):ue;if(Re=ce(ue),!Re)return J?null:Y?T:""}Re&&re&&Xn(Re.firstChild);const pt=Ne(fe?ue:Re);for(;Qe=pt.nextNode();)me(Qe),Te(Qe),Qe.content instanceof s&&Ee(Qe.content);if(fe)return ue;if(J){if(pe)for(Ze=N.call(Re.ownerDocument);Re.firstChild;)Ze.appendChild(Re.firstChild);else Ze=Re;return(B.shadowroot||B.shadowrootmode)&&(Ze=I.call(r,Ze,!0)),Ze}let Kt=ke?Re.outerHTML:Re.innerHTML;return ke&&O["!doctype"]&&Re.ownerDocument&&Re.ownerDocument.doctype&&Re.ownerDocument.doctype.name&&Aa(Kre,Re.ownerDocument.doctype.name)&&(Kt="<!DOCTYPE "+Re.ownerDocument.doctype.name+`>
`+Kt),Ie&&aw([E,D,R],Tt=>{Kt=Ay(Kt,Tt," ")}),w&&Y?w.createHTML(Kt):Kt},t.setConfig=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_n(ue),xe=!0},t.clearConfig=function(){Dn=null,xe=!1},t.isValidAttribute=function(ue,de,Re){Dn||_n({});const We=ln(ue),Qe=ln(de);return De(We,Qe,Re)},t.addHook=function(ue,de){typeof de=="function"&&ky(j[ue],de)},t.removeHook=function(ue,de){if(de!==void 0){const Re=sqe(j[ue],de);return Re===-1?void 0:aqe(j[ue],Re,1)[0]}return I7(j[ue])},t.removeHooks=function(ue){j[ue]=[]},t.removeAllHooks=function(){j=M7()},t}var Yre=Xre();const Tqe={ALLOWED_TAGS:["p","br","span","div","strong","b","em","i","u","s","strike","del","ins","sub","sup","mark","h1","h2","h3","h4","h5","h6","ul","ol","li","table","thead","tbody","tfoot","tr","th","td","caption","colgroup","col","a","img","embed","object","iframe","blockquote","pre","code","article","section","header","footer","aside","nav","main","figure","figcaption","hr","abbr","address","cite","q"],ALLOWED_ATTR:["class","id","style","title","lang","dir","href","target","rel","src","alt","width","height","loading","type","allowfullscreen","frameborder","allow","sandbox","colspan","rowspan","scope","headers","data-*"],ALLOWED_URI_REGEXP:/^(?:(?:https?|mailto|tel|blob|data):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i,FORBID_TAGS:["script","style","form","input","button","textarea","select"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur","onchange","onsubmit"],ADD_TAGS:[],ADD_ATTR:[],SANITIZE_DOM:!0,KEEP_CONTENT:!0},Eqe={ADD_TAGS:["iframe","style","script","canvas","meta"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling","charset","type","async","defer"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur"],FORCE_BODY:!0};function Nqe(e){return e?Yre.sanitize(e,Tqe):""}function Sqe(e){return e?/<script|<canvas|<style/.test(e)?e.replace(/\s+on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,""):Yre.sanitize(e,Eqe):""}function kqe(e,t){return e?t!=null&&t.isAdmin||(t==null?void 0:t.source)==="admin"||(t==null?void 0:t.source)==="library"?Sqe(e):Nqe(e):""}const pS="library-subjects",mS="library-topics",zP="library-subtopics",jx="library-packs",Xb="library-mcqs",gS="library-notes",Zre="library-downloads";async function Aqe(e){await bt(Ye(Le,pS,e.id),e)}async function Cqe(e){await _o(Ye(Le,pS,e))}function Dqe(e){return vr(Dt(Le,pS),t=>{const n=t.docs.map(r=>r.data());e(n.sort((r,i)=>(r.order||0)-(i.order||0)))})}async function jqe(e){await bt(Ye(Le,mS,e.id),e)}async function Iqe(e){await _o(Ye(Le,mS,e))}function Rqe(e){return vr(Dt(Le,mS),t=>{const n=t.docs.map(r=>r.data());e(n.sort((r,i)=>(r.order||0)-(i.order||0)))})}async function Pqe(e){await bt(Ye(Le,zP,e.id),e)}async function Oqe(e){await _o(Ye(Le,zP,e))}function Fqe(e){return vr(Dt(Le,zP),t=>{const n=t.docs.map(r=>r.data());e(n.sort((r,i)=>(r.order||0)-(i.order||0)))})}async function Lqe(e){await bt(Ye(Le,jx,e.id),e)}async function Iy(e,t){const n=Ye(Le,jx,e),r=await kh(n);r.exists()&&await bt(n,{...r.data(),...t,updatedAt:Date.now()})}async function Mqe(){const e=Yt(Dt(Le,jx));return(await Bn(e)).docs.map(n=>n.data())}async function Uqe(e){await _o(Ye(Le,jx,e))}function Bqe(e){return vr(Dt(Le,jx),t=>{const n=t.docs.map(r=>r.data());e(n)})}async function Vqe(e){await bt(Ye(Le,Xb,e.id),e)}async function qqe(e){const t=Ua(Le);e.forEach(n=>{t.set(Ye(Le,Xb,n.id),n)}),await t.commit()}async function U7(e){await _o(Ye(Le,Xb,e))}function Wqe(e){return vr(Dt(Le,Xb),t=>{const n=t.docs.map(r=>r.data());e(n)})}async function zqe(e){await bt(Ye(Le,gS,e.id),e)}async function B7(e){await _o(Ye(Le,gS,e))}function $qe(e){return vr(Dt(Le,gS),t=>{const n=t.docs.map(r=>r.data());e(n)})}async function Hqe(e){await bt(Ye(Le,Zre,e.id),e)}function Gqe(e,t){return vr(Dt(Le,Zre),n=>{const r=n.docs.map(i=>i.data());t(r.filter(i=>i.userId===e))})}function Qqe(e){const t=[];return t.push(Dqe(e.onSubjects)),t.push(Rqe(e.onTopics)),e.onSubtopics&&t.push(Fqe(e.onSubtopics)),t.push(Bqe(e.onPacks)),t.push(Wqe(e.onMcqs)),t.push($qe(e.onNotes)),()=>{t.forEach(n=>n())}}async function Kqe(){if((await Mqe()).length>0){console.log("Library data already exists in Firebase");return}console.log("Initializing library sample data to Firebase...");const t=Date.now(),n=[{id:"sub1",name:"",nameEn:"Bengali",icon:"",order:1,isActive:!0,createdAt:t},{id:"sub2",name:"English",nameEn:"English",icon:"",order:2,isActive:!0,createdAt:t},{id:"sub3",name:"",nameEn:"Mathematics",icon:"",order:3,isActive:!0,createdAt:t},{id:"sub4",name:" ",nameEn:"General Knowledge",icon:"",order:4,isActive:!0,createdAt:t},{id:"sub5",name:"",nameEn:"Science",icon:"",order:5,isActive:!0,createdAt:t}],r=[{id:"top1",subjectId:"sub1",name:"",nameEn:"Grammar",order:1,isActive:!0,createdAt:t},{id:"top2",subjectId:"sub1",name:"",nameEn:"Literature",order:2,isActive:!0,createdAt:t},{id:"top3",subjectId:"sub1",name:"",nameEn:"Essay",order:3,isActive:!0,createdAt:t},{id:"top4",subjectId:"sub2",name:"Grammar",order:1,isActive:!0,createdAt:t},{id:"top5",subjectId:"sub2",name:"Vocabulary",order:2,isActive:!0,createdAt:t},{id:"top6",subjectId:"sub3",name:"",nameEn:"Arithmetic",order:1,isActive:!0,createdAt:t},{id:"top7",subjectId:"sub3",name:"",nameEn:"Algebra",order:2,isActive:!0,createdAt:t},{id:"top8",subjectId:"sub4",name:" ",nameEn:"Indian History",order:1,isActive:!0,createdAt:t},{id:"top9",subjectId:"sub4",name:"",nameEn:"Geography",order:2,isActive:!0,createdAt:t}],i=Ua(Le);n.forEach(d=>i.set(Ye(Le,pS,d.id),d)),r.forEach(d=>i.set(Ye(Le,mS,d.id),d)),await i.commit(),console.log("Subjects and Topics uploaded");const s=[{id:"pack1",subjectId:"sub1",topicId:"top1",title:"  - ",description:", ,    + MCQ",tags:["","","SSC","WBCS"],contentType:"mcq",mcqCount:50,notesCount:0,pricing:"free",downloadCount:1250,rating:4.5,isActive:!0,isFeatured:!0,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack2",subjectId:"sub1",topicId:"top1",title:" - MCQ ",description:", , ,  ",tags:["",""],contentType:"mcq",mcqCount:40,notesCount:0,pricing:"free",downloadCount:890,isActive:!0,isFeatured:!1,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack3",subjectId:"sub1",topicId:"top2",title:"  - ",description:"     MCQ  ",tags:["","",""],contentType:"both",mcqCount:30,notesCount:5,pricing:"paid",price:49,downloadCount:450,rating:4.8,isActive:!0,isFeatured:!0,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack4",subjectId:"sub2",topicId:"top4",title:"Tense - Complete Guide",description:"All tenses with rules and 100+ MCQs",tags:["Tense","Grammar","SSC"],contentType:"both",mcqCount:60,notesCount:3,pricing:"free",downloadCount:2100,rating:4.7,isActive:!0,isFeatured:!0,createdBy:"admin",createdAt:t,updatedAt:t},{id:"pack5",subjectId:"sub4",topicId:"top8",title:" ",description:"    MCQ",tags:["","","WBCS"],contentType:"mcq",mcqCount:80,notesCount:0,pricing:"paid",price:29,downloadCount:670,isActive:!0,isFeatured:!1,createdBy:"admin",createdAt:t,updatedAt:t}],o=Ua(Le);s.forEach(d=>o.set(Ye(Le,jx,d.id),d)),await o.commit(),console.log("Content Packs uploaded");const l=Ua(Le);[{id:"lmcq1",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:0,explanation:" +  =  ()",difficulty:"easy",createdAt:t},{id:"lmcq2",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:1,explanation:" +  =  (:  +  = )",difficulty:"easy",createdAt:t},{id:"lmcq3",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:2,explanation:" +  =  ()",difficulty:"medium",createdAt:t},{id:"lmcq4",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:2,explanation:" +  =  ( )",difficulty:"medium",createdAt:t},{id:"lmcq5",packId:"pack1",subjectId:"sub1",topicId:"top1",question:'""    ?',options:[" + "," + "," + "," + "],correctIndex:0,explanation:" +  =  (:  +  = )",difficulty:"medium",createdAt:t},{id:"lmcq6",packId:"pack4",subjectId:"sub2",topicId:"top4",question:'Which tense is used: "She has been working here since 2010"?',options:["Present Perfect","Present Perfect Continuous","Past Perfect","Past Continuous"],correctIndex:1,explanation:"Present Perfect Continuous is used for actions started in past and continuing.",difficulty:"medium",createdAt:t},{id:"lmcq7",packId:"pack4",subjectId:"sub2",topicId:"top4",question:'Choose the correct form: "By next year, I ___ here for 5 years."',options:["will work","will be working","will have been working","would work"],correctIndex:2,explanation:"Future Perfect Continuous for duration up to a point in future.",difficulty:"hard",createdAt:t}].forEach(d=>l.set(Ye(Le,Xb,d.id),d)),[{id:"lnote1",packId:"pack4",subjectId:"sub2",topicId:"top4",title:"Introduction to Tenses",content:`<h2>What is Tense?</h2>
<p>Tense tells us about the <strong>time of an action</strong>. In English, there are three main tenses:</p>
<ul>
  <li><strong>Present Tense</strong> - Action happening now</li>
  <li><strong>Past Tense</strong> - Action that happened before</li>
  <li><strong>Future Tense</strong> - Action that will happen</li>
</ul>
<p>Each tense has 4 forms: Simple, Continuous, Perfect, and Perfect Continuous.</p>`,order:1,createdAt:t},{id:"lnote2",packId:"pack3",subjectId:"sub1",topicId:"top2",title:"  - ",content:`<h2>  (-)</h2>
<p>        <strong> </strong>       </p>
<h3> :</h3>
<ul>
  <li>:   , , </li>
  <li>:   </li>
  <li>: , </li>
</ul>`,order:1,createdAt:t}].forEach(d=>l.set(Ye(Le,gS,d.id),d)),await l.commit(),console.log("Library sample data initialized to Firebase!")}const Xr=jd()(km((e,t)=>({subjects:[],topics:[],subtopics:[],contentPacks:[],mcqs:[],notes:[],userDownloads:[],selectedSubjectId:null,selectedTopicId:null,selectedSubtopicId:null,searchQuery:"",filterPricing:"all",isLoading:!1,isInitialized:!1,setSubjects:n=>e({subjects:n}),setTopics:n=>e({topics:n}),setSubtopics:n=>e({subtopics:n}),setContentPacks:n=>e({contentPacks:n}),setMcqs:n=>e({mcqs:n}),setNotes:n=>e({notes:n}),setUserDownloads:n=>e({userDownloads:n}),setSelectedSubject:n=>e({selectedSubjectId:n,selectedTopicId:null,selectedSubtopicId:null}),setSelectedTopic:n=>e({selectedTopicId:n,selectedSubtopicId:null}),setSelectedSubtopic:n=>e({selectedSubtopicId:n}),setSearchQuery:n=>e({searchQuery:n}),setFilterPricing:n=>e({filterPricing:n}),setIsLoading:n=>e({isLoading:n}),setIsInitialized:n=>e({isInitialized:n}),getTopicsBySubject:n=>(t().topics||[]).filter(i=>i&&i.subjectId===n&&i.isActive),getSubtopicsByTopic:n=>(t().subtopics||[]).filter(i=>i&&i.topicId===n&&i.isActive),getPacksByTopic:n=>{const{contentPacks:r,filterPricing:i,searchQuery:s}=t();return(r||[]).filter(o=>!(!o||o.topicId!==n||!o.isActive||i!=="all"&&o.pricing!==i||s&&o.title&&!o.title.toLowerCase().includes(s.toLowerCase())))},getPacksBySubtopic:n=>{const{contentPacks:r,filterPricing:i,searchQuery:s}=t();return(r||[]).filter(o=>!(!o||o.subtopicId!==n||!o.isActive||i!=="all"&&o.pricing!==i||s&&o.title&&!o.title.toLowerCase().includes(s.toLowerCase())))},getPacksBySubject:n=>{const{contentPacks:r,filterPricing:i,searchQuery:s}=t();return(r||[]).filter(o=>!(!o||o.subjectId!==n||!o.isActive||i!=="all"&&o.pricing!==i||s&&o.title&&!o.title.toLowerCase().includes(s.toLowerCase())))},getMcqsByPack:n=>(t().mcqs||[]).filter(i=>i&&i.packId===n),getNotesByPack:n=>(t().notes||[]).filter(i=>i&&i.packId===n),addDownload:async n=>{await Hqe(n),e(r=>({userDownloads:[...r.userDownloads,n]}))},hasDownloaded:(n,r)=>t().userDownloads.some(i=>i.packId===n&&i.userId===r),initSampleData:async()=>{const n=t();if(!(n.isInitialized&&n.subjects.length>0)){e({isLoading:!0});try{await Kqe(),e({isInitialized:!0})}catch(r){console.error("Error initializing library data:",r)}finally{e({isLoading:!1})}}},subscribeToLibrary:()=>(e({isLoading:!0}),Qqe({onSubjects:r=>e({subjects:r}),onTopics:r=>e({topics:r}),onSubtopics:r=>e({subtopics:r}),onPacks:r=>e({contentPacks:r}),onMcqs:r=>e({mcqs:r}),onNotes:r=>e({notes:r,isLoading:!1,isInitialized:!0})})),subscribeToDownloads:n=>Gqe(n,r=>{e({userDownloads:r})})}),{name:"library-storage",partialize:e=>({selectedSubjectId:e.selectedSubjectId,selectedTopicId:e.selectedTopicId,filterPricing:e.filterPricing})}));function Jre({groupId:e,contentId:t,contentType:n,contentTitle:r,creatorId:i,creatorName:s,questionId:o,questionText:l,trigger:c}){const u=_i(b=>b.user),d=sa(b=>b.addContentReport),[f,h]=S.useState(!1),[p,y]=S.useState(""),[m,x]=S.useState(!1),v=()=>{if(!u||!p.trim())return;const b={id:an(),groupId:e,contentId:t,contentType:n,contentTitle:r,reportedBy:u.id,reportedByName:u.displayName,creatorId:i,creatorName:s,message:p.trim(),questionId:o,status:"pending",createdAt:Date.now()};d(b),x(!0),setTimeout(()=>{h(!1),x(!1),y("")},2e3)},g={note:"Notes",quiz:"Quiz",mcq:"Question"};return a.jsxs(is,{open:f,onOpenChange:h,children:[a.jsx(jTe,{asChild:!0,children:c||a.jsxs(ye,{variant:"ghost",size:"sm",className:"text-orange-500 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20",children:[a.jsx(h5,{className:"w-4 h-4 mr-1"}),"Report"]})}),a.jsxs(Wi,{className:"sm:max-w-md",children:[a.jsxs(zi,{children:[a.jsxs($i,{className:"flex items-center gap-2",children:[a.jsx(dx,{className:"w-5 h-5 text-orange-500"}),"Report for Correction"]}),a.jsxs(im,{children:[g[n],": ",a.jsx("span",{className:"font-medium",children:r}),a.jsx("br",{}),a.jsxs("span",{className:"text-xs",children:["Created by: ",s]})]})]}),m?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:a.jsx(tT,{className:"w-8 h-8 text-green-600"})}),a.jsx("p",{className:"text-lg font-medium text-green-600",children:"Report Submitted!"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s," will be notified"]})]}):a.jsxs("div",{className:"space-y-4",children:[l&&a.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[a.jsx("span",{className:"font-medium",children:"Question:"})," ",l]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"What needs to be corrected?"}),a.jsx(lr,{value:p,onChange:b=>y(b.target.value),placeholder:"Describe the issue... e.g., 'Wrong answer marked', 'Spelling error', 'Incorrect information'",rows:4,className:"resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ye,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),a.jsxs(ye,{onClick:v,disabled:!p.trim(),className:"bg-orange-500 hover:bg-orange-600",children:[a.jsx(tT,{className:"w-4 h-4 mr-2"}),"Submit Report"]})]})]})]})]})}function Xqe({questions:e,quizItem:t,timeLimit:n,onBack:r}){const i=_i(R=>R.user),s=sa(R=>R.addQuizResult),o=sa(R=>R.getLeaderboard),l=sa(R=>R.getUserQuizHistory),c=sa(R=>R.getQuizResultsByQuiz),[u,d]=S.useState(0),[f,h]=S.useState(new Array(e.length).fill(null)),[p,y]=S.useState(n?n*60:0),[m]=S.useState(Date.now()),[x,v]=S.useState(!1),[g,b]=S.useState(!1),[w,T]=S.useState(!1),[k,_]=S.useState(null),N=e[u];S.useEffect(()=>{if(x||!n)return;const R=setInterval(()=>{y(M=>M<=1?(clearInterval(R),E(),0):M-1)},1e3);return()=>clearInterval(R)},[x,n]);const C=R=>{if(x)return;const M=[...f];M[u]=R,h(M)},I=()=>{u<e.length-1&&d(u+1)},j=()=>{u>0&&d(u-1)},E=S.useCallback(()=>{if(!i)return;const R=Math.floor((Date.now()-m)/1e3);let M=0,U=0,z=0;const G=e.map((W,O)=>{const P=f[O];return P===null?z++:P===W.correctIndex?M++:U++,{questionId:W.id,selected:P,correct:W.correctIndex}}),F={id:an(),groupId:t.groupId,quizItemId:t.id,quizTitle:t.title,userId:i.id,userName:i.displayName,score:Math.round(M/e.length*100),correct:M,wrong:U,unanswered:z,total:e.length,timeTaken:R,answers:G,createdAt:Date.now()};s(F),_(F),v(!0)},[f,e,m,i,t,s]),D=R=>{const M=Math.floor(R/60),U=R%60;return`${M}:${U.toString().padStart(2,"0")}`};if(w){const R=o(t.id);return a.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Ma,{className:"h-5 w-5 text-yellow-500"})," Leaderboard"]}),a.jsx(ye,{variant:"outline",onClick:()=>T(!1),children:"Back to Results"})]}),a.jsxs(ut,{children:[a.jsxs(Wn,{children:[a.jsx(Jn,{children:t.title}),a.jsxs(ac,{children:[R.length," participants"]})]}),a.jsx(Ht,{children:R.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No results yet"}):a.jsx("div",{className:"space-y-2",children:R.map((M,U)=>a.jsxs("div",{className:Rt("flex items-center gap-3 p-3 rounded-lg",U===0&&"bg-yellow-500/10 border border-yellow-500",U===1&&"bg-gray-300/10 border border-gray-400",U===2&&"bg-orange-500/10 border border-orange-400",U>2&&"bg-muted",M.userId===(i==null?void 0:i.id)&&"ring-2 ring-primary"),children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-background font-bold",children:U===0?a.jsx(Gk,{className:"h-5 w-5 text-yellow-500"}):U===1?a.jsx(Gk,{className:"h-5 w-5 text-gray-400"}):U===2?a.jsx(Gk,{className:"h-5 w-5 text-orange-400"}):U+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:M.userName}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[M.correct,"/",M.total," correct  ",D(M.timeTaken)]})]}),a.jsxs("div",{className:Rt("text-xl font-bold",M.score>=70?"text-green-500":M.score>=40?"text-yellow-500":"text-red-500"),children:[M.score,"%"]})]},M.id))})})]}),a.jsx(ye,{variant:"outline",className:"w-full",onClick:r,children:"Back to Course"})]})}if(x&&!g&&k){const{correct:R,wrong:M,unanswered:U,score:z}=k,G=l(t.groupId,(i==null?void 0:i.id)||"",10),F=c(t.id),W=F.length>0?Math.round(F.reduce((P,B)=>P+B.score,0)/F.length):0,O=G.length>0?Math.round(G.reduce((P,B)=>P+B.score,0)/G.length):z;return a.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:a.jsxs(ut,{children:[a.jsxs(Wn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4",children:a.jsx(Ma,{className:Rt("h-16 w-16",z>=70?"text-yellow-500":z>=40?"text-blue-500":"text-muted-foreground")})}),a.jsx(Jn,{className:"text-2xl",children:"Quiz Complete!"}),a.jsx(ac,{children:t.title})]}),a.jsxs(Ht,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold text-primary",children:[z,"%"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Your Score"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[a.jsx(em,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:R}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Correct"})]}),a.jsxs("div",{className:"p-4 bg-red-500/10 rounded-lg",children:[a.jsx(od,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:M}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Wrong"})]}),a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx(er,{className:"h-6 w-6 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:U}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-4",children:[a.jsx(tm,{className:"h-4 w-4"})," Progress Analytics"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-primary/10 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-primary",children:[O,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Average"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[W,"%"]}),a.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1",children:[a.jsx(qa,{className:"h-3 w-3"})," Group Average"]})]})]}),G.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Your Last ",Math.min(G.length,10)," Attempts"]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute w-full border-t-2 border-dashed border-blue-500 z-10",style:{bottom:`${W}%`},title:`Group Avg: ${W}%`,children:a.jsxs("span",{className:"absolute right-0 -top-4 text-xs text-blue-500 bg-background px-1",children:["Group ",W,"%"]})}),a.jsx("div",{className:"flex items-end justify-between gap-1 h-32",children:[...G].reverse().map((P,B)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:Rt("w-full rounded-t transition-all",P.score>=W?"bg-green-500":"bg-orange-500"),style:{height:`${P.score}%`},title:`${P.score}%`}),a.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:B+1})]},P.id))})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[a.jsx("span",{children:"Oldest"}),a.jsx("span",{className:"text-green-500",children:" Above Avg"}),a.jsx("span",{className:"text-orange-500",children:" Below Avg"}),a.jsx("span",{children:"Latest"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(ye,{variant:"outline",onClick:r,children:[a.jsx(Nl,{className:"h-4 w-4 mr-2"})," Back"]}),a.jsxs(ye,{variant:"outline",onClick:()=>T(!0),children:[a.jsx(Ma,{className:"h-4 w-4 mr-2"})," Leaderboard"]}),a.jsx(ye,{variant:"outline",className:"col-span-2",onClick:()=>b(!0),children:"View Solutions"})]})]})]})})}return g?a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"View Solutions"}),a.jsx(ye,{variant:"outline",onClick:()=>b(!1),children:"Back to Results"})]}),e.map((R,M)=>{const U=f[M],z=U===R.correctIndex,G=U!==null&&U!==R.correctIndex;return a.jsx(ut,{className:Rt(z&&"border-green-500",G&&"border-red-500"),children:a.jsxs(Ht,{className:"pt-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("p",{className:"font-medium flex-1",children:["Q",M+1,". ",R.question]}),a.jsx(Jre,{groupId:t.groupId,contentId:t.id,contentType:"mcq",contentTitle:t.title,creatorId:R.createdBy,creatorName:R.createdByName,questionId:R.id,questionText:R.question,trigger:a.jsx(ye,{variant:"ghost",size:"sm",className:"text-orange-500 hover:text-orange-600 h-8 px-2",children:a.jsx(h5,{className:"w-3 h-3"})})})]}),a.jsx("div",{className:"space-y-2",children:R.options.map((F,W)=>a.jsxs("div",{className:Rt("p-2 rounded border text-sm",W===R.correctIndex&&"bg-green-500/10 border-green-500",U===W&&W!==R.correctIndex&&"bg-red-500/10 border-red-500"),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+W),"."]}),F,W===R.correctIndex&&a.jsx(em,{className:"h-4 w-4 text-green-500 inline ml-2"}),U===W&&W!==R.correctIndex&&a.jsx(od,{className:"h-4 w-4 text-red-500 inline ml-2"})]},W))}),U===null&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You did not answer this question."})]})},R.id)}),a.jsx(ye,{variant:"outline",className:"w-full",onClick:r,children:"Back to Course"})]}):a.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:t.title}),a.jsxs("div",{className:"flex items-center gap-4",children:[n&&a.jsxs("div",{className:Rt("flex items-center gap-2 px-3 py-1 rounded-full",p<60?"bg-red-500/10 text-red-500":"bg-muted"),children:[a.jsx(er,{className:"h-4 w-4"}),a.jsx("span",{className:"font-mono font-bold",children:D(p)})]}),a.jsx(ye,{variant:"destructive",size:"sm",onClick:E,children:"Submit"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Question ",u+1," of ",e.length]}),a.jsxs("span",{children:[f.filter(R=>R!==null).length," answered"]})]}),a.jsx(Ob,{value:(u+1)/e.length*100})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((R,M)=>a.jsx("button",{onClick:()=>d(M),className:Rt("h-8 w-8 rounded-full text-sm font-medium transition-colors",M===u&&"bg-primary text-primary-foreground",M!==u&&f[M]!==null&&"bg-green-500 text-white",M!==u&&f[M]===null&&"bg-muted hover:bg-muted/80"),children:M+1},M))}),a.jsxs(ut,{children:[a.jsx(Wn,{children:a.jsxs(Jn,{className:"text-lg",children:["Q",u+1,". ",N.question]})}),a.jsx(Ht,{className:"space-y-3",children:N.options.map((R,M)=>a.jsxs("button",{onClick:()=>C(M),className:Rt("w-full p-4 rounded-lg border text-left transition-all flex items-center gap-3",f[u]===M?"border-primary bg-primary/10":"hover:border-primary/50 hover:bg-muted/50"),children:[a.jsx("span",{className:Rt("h-8 w-8 rounded-full flex items-center justify-center font-medium",f[u]===M?"bg-primary text-primary-foreground":"bg-muted"),children:String.fromCharCode(65+M)}),a.jsx("span",{children:R})]},M))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ye,{variant:"outline",onClick:j,disabled:u===0,children:[a.jsx(Nl,{className:"h-4 w-4 mr-2"})," Previous"]}),u===e.length-1?a.jsx(ye,{onClick:E,children:"Submit Quiz"}):a.jsxs(ye,{onClick:I,children:["Next ",a.jsx(d5,{className:"h-4 w-4 ml-2"})]})]})]})}function Yqe({activeSubTab:e,setActiveSubTab:t}){var dO,fO;const n=_i(q=>q.user),{myGroups:r,setMyGroups:i,activeGroupId:s,setActiveGroup:o,addGroup:l,removeGroup:c,updateGroup:u,topics:d,subTopics:f,contentItems:h,groupMCQs:p,questionCategories:y,addTopic:m,removeTopic:x,updateTopic:v,addSubTopic:g,removeSubTopic:b,updateSubTopic:w,assignSubTopic:T,addContentItem:k,updateContentItem:_,removeContentItem:N,addGroupMCQ:C,updateGroupMCQ:I,removeGroupMCQ:j,addQuestionCategory:E,removeQuestionCategory:D,createDeleteRequest:R,voteOnDeleteRequest:M,resolveDeleteRequest:U,deleteRequests:z,getTopicsByGroup:G,getMCQsByCategory:F,getCategoriesByGroup:W,getSubTopicsByTopic:O,getContentBySubTopic:P,getMCQsByGroup:B,getLatestNotes:K,getReportsByCreator:Q,resolveContentReport:L,findGroupByCode:ee,getQuizResultsByUser:ge,getLeaderboard:he,getUserQuizHistory:be,quizResults:Oe,liveTests:Z,liveTestResults:Ie,addLiveTest:V,updateLiveTest:ke,removeLiveTest:xe,getLiveTestsByGroup:re,getUpcomingLiveTests:J,getActiveLiveTest:pe,getPastLiveTests:Y,addLiveTestResult:le,updateLiveTestResult:te,getLiveTestResultsByTest:oe,getUserLiveTestResult:ae,getLiveTestLeaderboard:fe,setAutoLiveTestConfig:Ae,getAutoLiveTestConfig:Me,loadGroupFromFirebase:Ve,subscribeToGroup:ot}=sa(),[Fe,je]=S.useState(!1),[Ge,Je]=S.useState(!1),[kt,Qt]=S.useState([]),[Mt,Mn]=S.useState(!1),[sn,Qn]=S.useState(null),[qn,nr]=S.useState(""),[Cn,Pn]=S.useState(""),[Wt,rr]=S.useState(""),[ln,Dn]=S.useState(""),[Or,dr]=S.useState(null),[_n,ir]=S.useState(!1),[jn,Kn]=S.useState(null),[Xn,br]=S.useState(""),[ce,Ne]=S.useState("note"),[ve,_e]=S.useState("choose"),[ie,me]=S.useState(!1),[De,se]=S.useState(""),[Te,Ee]=S.useState(""),[ue,de]=S.useState(""),[Re,We]=S.useState(""),[Qe,Ze]=S.useState([]),[pt,Kt]=S.useState(0),[Tt,Nt]=S.useState(!1),[kn,bn]=S.useState(null),[ps,zr]=S.useState(""),[no,Nr]=S.useState(""),[Do,Jr]=S.useState(["","","",""]),[jo,ms]=S.useState(0),[$s,Hs]=S.useState(null),[Ce,vt]=S.useState(null),[un,zt]=S.useState(""),[In,On]=S.useState(["","","",""]),[Gs,fr]=S.useState(0),[Io,Ro]=S.useState(""),[si,ro]=S.useState("upcoming"),[io,Bl]=S.useState(null),[Cc,Ir]=S.useState(null),[Au,sr]=S.useState(!1),[ai,gs]=S.useState(null),[ei,Vl]=S.useState([]),[Pi,xs]=S.useState(0),[sl,Yi]=S.useState({}),[Qs,As]=S.useState(0),[ql,Ta]=S.useState(!1),[al,Vm]=S.useState(!1),[Wl,Cu]=S.useState(""),[Ud,Lh]=S.useState(""),[Rr,Ix]=S.useState(""),[Mh,qm]=S.useState(""),[Bd,Wm]=S.useState(""),[Dc,zm]=S.useState("30"),[Ea,Uh]=S.useState("auto"),[Vd,jc]=S.useState([]),[Pe,it]=S.useState("20"),[Et,At]=S.useState(!0),[Cs,Rx]=S.useState(!0),[qd,Ds]=S.useState(!0),[Zi,ol]=S.useState("schedule"),[Wd,Bh]=S.useState(!1),[Px,zd]=S.useState("Daily Practice Test"),[Ox,$m]=S.useState([]),[Ic,Hm]=S.useState("10:00"),[Fx,Gm]=S.useState("22:00"),[Lx,$d]=S.useState("30"),[Ks,Qm]=S.useState("20"),[Mx,Rc]=S.useState([0,1,2,3,4,5,6]),[A,H]=S.useState(!0),[ne,we]=S.useState(!0),[qe,Xe]=S.useState(!0),[yt,Sr]=S.useState("23:00"),[Oi,ar]=S.useState(!0),[Mr,Ti]=S.useState("single"),[Pc,Xs]=S.useState(null),[Na,hi]=S.useState([]),[pi,ys]=S.useState(""),[ll,Hd]=S.useState(!1),[Ux,Sa]=S.useState(""),[Nn,Vh]=S.useState(null),[Xt,$r]=S.useState(""),[Gd,Bx]=S.useState("new"),[Qd,Km]=S.useState(""),[Vx,Kd]=S.useState(!1),[Oc,Xd]=S.useState("all"),[Po,Fc]=S.useState([]),[Ji,Xm]=S.useState(null),{subjects:qx,topics:xS,assets:Lc,selectedSubjectId:qh,selectedTopicId:Wx,setSelectedSubject:yS,setSelectedTopic:zx,getTopicsBySubject:Yb,getSubtopicsByTopic:vS}=_c(),{subjects:$x,topics:bS,contentPacks:Hx,mcqs:$P,notes:wS,selectedSubjectId:Yd,selectedTopicId:Wh,filterPricing:Zd,setSelectedSubject:Zb,setSelectedTopic:Gx,setFilterPricing:Jb,getTopicsBySubject:X,getPacksBySubject:Be,getPacksByTopic:at,getMcqsByPack:mt,getNotesByPack:dt,addDownload:jt,hasDownloaded:yr,initSampleData:Ys}=Xr(),[wr,es]=S.useState(null),[Oo,zh]=S.useState(!1),[Du,e2]=S.useState(!1),[tie,_S]=S.useState(!1),[nie,TS]=S.useState(!1),[HP,ES]=S.useState(null),[GP,Qx]=S.useState([]),[NS,QP]=S.useState(""),[SS,KP]=S.useState(""),[t2,XP]=S.useState(["","","",""]),[kS,YP]=S.useState(0),[AS,rie]=S.useState(""),[CS,ZP]=S.useState([]),[$h,Hh]=S.useState([]),[BWe,VWe]=S.useState(!1),[n2,DS]=S.useState("manual"),[ju,JP]=S.useState(""),[Kx,jS]=S.useState(""),eO={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["link","image"],["clean"]]},iie=async q=>{try{const Se=Ye(Le,"groups",q),Ue=await kh(Se);if(Ue.exists()){const Ni=Ue.data();u(Ni)}const $e=sa.getState().topics,ze=sa.getState().contentItems,ct=sa.getState().groupMCQs,wt=sa.getState().questionCategories,Pt=Yt(Dt(Le,"topics"),Jt("groupId","==",q));(await Bn(Pt)).forEach(Ni=>{const ts=Ni.data();$e.find(Tn=>Tn.id===ts.id)?v(ts):m(ts)});const gn=Yt(Dt(Le,"contentItems"),Jt("groupId","==",q));(await Bn(gn)).forEach(Ni=>{const ts=Ni.data();ze.find(Tn=>Tn.id===ts.id)?_(ts):k(ts)});const Ei=Yt(Dt(Le,"mcqs"),Jt("groupId","==",q));(await Bn(Ei)).forEach(Ni=>{const ts=Ni.data();ct.find(Tn=>Tn.id===ts.id)||C(ts)});const Pu=Yt(Dt(Le,"categories"),Jt("groupId","==",q));(await Bn(Pu)).forEach(Ni=>{const ts=Ni.data();wt.find(Tn=>Tn.id===ts.id)||E(ts)})}catch(Se){console.error("Error syncing from Firestore:",Se)}};S.useEffect(()=>{if(s){Ve(s);const q=ot(s);return()=>q()}},[s]),S.useEffect(()=>{if(s){const q=Me(s);q?(Bh(q.enabled),zd(q.title),$m(q.categoryIds),Hm(q.startTime),Gm(q.endTime),$d(q.duration.toString()),Qm(q.questionCount.toString()),Rc(q.activeDays),H(q.autoReleaseResult),we(q.showSolution),Xe(q.showLeaderboard)):(Bh(!1),zd("Daily Practice Test"),$m([]),Hm("10:00"),Gm("22:00"),$d("30"),Qm("20"),Rc([0,1,2,3,4,5,6]))}},[s]),S.useEffect(()=>{$x.length===0&&Ys()},[]),S.useEffect(()=>{(async()=>{if(n!=null&&n.id)try{const Se=Yt(Dt(Le,"groups"),Jt("memberIds","array-contains",n.id)),Ue=await Bn(Se),$e=[];Ue.forEach(ze=>{$e.push({id:ze.id,...ze.data()})}),$e.length>0&&i($e)}catch(Se){console.error("Error loading groups from Firebase:",Se)}})()},[n==null?void 0:n.id]);const sie=q=>{const Se=q.match(/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)/);if(Se)return`https://drive.google.com/file/d/${Se[1]}/preview`;const Ue=q.match(/drive\.google\.com\/open\?id=([a-zA-Z0-9_-]+)/);if(Ue)return`https://drive.google.com/file/d/${Ue[1]}/preview`;const $e=q.match(/docs\.google\.com\/document\/d\/([a-zA-Z0-9_-]+)/);if($e)return`https://docs.google.com/document/d/${$e[1]}/preview`;const ze=q.match(/docs\.google\.com\/spreadsheets\/d\/([a-zA-Z0-9_-]+)/);if(ze)return`https://docs.google.com/spreadsheets/d/${ze[1]}/preview`;const ct=q.match(/docs\.google\.com\/presentation\/d\/([a-zA-Z0-9_-]+)/);return ct?`https://docs.google.com/presentation/d/${ct[1]}/embed`:q},gt=S.useMemo(()=>r.find(q=>q.id===s),[r,s]),so=(gt==null?void 0:gt.adminId)===(n==null?void 0:n.id),zl=s?d.filter(q=>q.groupId===s).sort((q,Se)=>q.order-Se.order):[],Iu=S.useMemo(()=>s?B(s):[],[s,p]),ao=S.useMemo(()=>s?W(s):[],[s,y]),tO=S.useMemo(()=>s?K(s,5):[],[s,h]),Xx=S.useMemo(()=>s?z.filter(q=>q.groupId===s&&q.status==="pending"):[],[s,z]),IS=S.useMemo(()=>n?Q(n.id).filter(q=>q.groupId===s):[],[n,s]),aie=()=>{if(!gt||!n)return"member";const q=gt.members.find(Se=>Se.userId===n.id);return(q==null?void 0:q.role)||"member"},oie=q=>{var Se;return n?so?!0:((Se=q.assignedMembers)==null?void 0:Se.includes(n.id))||!1:!1},RS=(q,Se,Ue)=>{if(!gt||!n)return;const $e=aie(),ze={id:an(),groupId:gt.id,targetType:q,targetId:Se,targetName:Ue,requesterId:n.id,requesterName:n.displayName,requesterRole:$e,approvedBy:[],rejectedBy:[],status:"pending",createdAt:Date.now()};R(ze),alert("Delete request created! It will be reviewed.")},lie=q=>{if(!gt)return{canResolve:!1,approved:!1};const Se=gt.members.length,Ue=Math.ceil(Se*.5);if(q.requesterRole==="member"||q.requesterRole==="moderator"){if(q.approvedBy.some(ct=>gt.members.find(wt=>wt.userId===ct&&wt.role==="admin")))return{canResolve:!0,approved:!0};if(q.rejectedBy.some(ct=>gt.members.find(wt=>wt.userId===ct&&wt.role==="admin")))return{canResolve:!0,approved:!1}}if(q.requesterRole==="admin"){if(q.approvedBy.length>=Ue)return{canResolve:!0,approved:!0};if(q.rejectedBy.length>Se-Ue)return{canResolve:!0,approved:!1}}return{canResolve:!1,approved:!1}},cie=q=>{q.targetType==="group"?c(q.targetId):q.targetType==="topic"?x(q.targetId):N(q.targetId),U(q.id,!0)},nO=async()=>{if(!NS.trim()||!s)return;const q={id:an(),groupId:s,name:NS.trim(),createdAt:Date.now()};E(q),QP("");try{await bt(Ye(Le,"categories",q.id),q)}catch(Se){console.error("Error saving category to Firestore:",Se)}},uie=async()=>{if(!SS.trim()||!AS||!s||!n)return;if(t2.some(Se=>!Se.trim())){alert("Please fill all options");return}const q={id:an(),groupId:s,categoryId:AS,question:SS.trim(),options:t2.map(Se=>Se.trim()),correctIndex:kS,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now()};C(q),KP(""),XP(["","","",""]),YP(0);try{await bt(Ye(Le,"mcqs",q.id),q)}catch(Se){console.error("Error saving MCQ to Firestore:",Se)}},die=async q=>{Hd(!0),Sa("");try{const Se=await q.arrayBuffer(),Ue=kT(Se),$e=Ue.SheetNames[0],ze=Ue.Sheets[$e],ct=Oee.sheet_to_json(ze,{header:1});if(!ct.find(pn=>pn.some(gn=>gn))){Sa("Empty file or no header found");return}const Pt=[];for(let pn=1;pn<ct.length;pn++){const gn=ct[pn];if(!gn||!gn[0])continue;const Fo=String(gn[0]||"").trim(),Ei=String(gn[1]||"").trim(),Ym=String(gn[2]||"").trim(),Pu=String(gn[3]||"").trim(),js=String(gn[4]||"").trim(),Ni=String(gn[5]||"").trim().toUpperCase(),ts=gn[6]?String(gn[6]).trim():void 0,Lo=gn[7]?String(gn[7]).trim().toLowerCase():void 0;if(!Fo||!Ei||!Ym||!Pu||!js)continue;let Tn=0;Ni==="A"||Ni==="1"?Tn=0:Ni==="B"||Ni==="2"?Tn=1:Ni==="C"||Ni==="3"?Tn=2:(Ni==="D"||Ni==="4")&&(Tn=3);let $l;Lo==="easy"||Lo===""?$l="easy":Lo==="medium"||Lo===""?$l="medium":(Lo==="hard"||Lo==="")&&($l="hard"),Pt.push({question:Fo,options:[Ei,Ym,Pu,js],correctIndex:Tn,explanation:ts,difficulty:$l})}Pt.length===0?Sa("No valid questions found. Format: Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4) | Explanation | Difficulty"):hi(Pt)}catch(Se){console.error("Excel parse error:",Se),Sa("Error parsing Excel file")}finally{Hd(!1)}},fie=async q=>{Hd(!0),Sa("");try{const Se=await q.arrayBuffer(),$e=(await Ul.extractRawText({arrayBuffer:Se})).value,ze=[],ct=$e.split(/(?=\n\s*(?:\d+|[]+)[\.\)]\s*)/g);for(const wt of ct){if(!wt.trim())continue;const Pt=wt.split(`
`).map(js=>js.trim()).filter(js=>js);if(Pt.length<5)continue;const pn=Pt[0].replace(/^(?:\d+|[]+)[\.\)]\s*/,"").trim();if(!pn)continue;const gn=[/^[1AaA][\.\)\s]/,/^[2BbB][\.\)\s]/,/^[3CcC][\.\)\s]/,/^[4DdD][\.\)\s]/],Fo=["","","",""];let Ei=0,Ym,Pu;for(const js of Pt.slice(1)){const Ni=js.match(/(?:Ans|Answer|| |Correct)[:\s]*([1234AaBbCcDd])/i);if(Ni){const Tn=Ni[1].toUpperCase();Tn==="1"||Tn===""||Tn==="A"?Ei=0:Tn==="2"||Tn===""||Tn==="B"?Ei=1:Tn==="3"||Tn===""||Tn==="C"?Ei=2:(Tn==="4"||Tn===""||Tn==="D")&&(Ei=3);continue}const ts=js.match(/(?:Exp|Explanation||Solution)[:\s]*(.*)/i);if(ts&&ts[1].trim()){Ym=ts[1].trim();continue}const Lo=js.match(/(?:Diff|Difficulty|Level|)[:\s]*(.*)/i);if(Lo){const Tn=Lo[1].trim().toLowerCase();Tn==="easy"||Tn===""?Pu="easy":Tn==="medium"||Tn===""?Pu="medium":(Tn==="hard"||Tn==="")&&(Pu="hard");continue}if(js.startsWith("*")){const Tn=js.substring(1).trim();for(let $l=0;$l<gn.length;$l++)if(gn[$l].test(Tn)){Fo[$l]=Tn.replace(gn[$l],"").trim(),Ei=$l;break}continue}for(let Tn=0;Tn<gn.length;Tn++)if(gn[Tn].test(js)){Fo[Tn]=js.replace(gn[Tn],"").trim();break}}pn&&Fo.every(js=>js)&&ze.push({question:pn,options:Fo,correctIndex:Ei,explanation:Ym,difficulty:Pu})}ze.length===0?Sa("No valid questions found. Check the format."):hi(ze)}catch(Se){console.error("Word parse error:",Se),Sa("Error parsing Word file")}finally{Hd(!1)}},hie=q=>{var $e,ze;const Se=($e=q.target.files)==null?void 0:$e[0];if(!Se)return;Xs(Se),hi([]),Sa("");const Ue=(ze=Se.name.split(".").pop())==null?void 0:ze.toLowerCase();Ue==="xlsx"||Ue==="xls"?die(Se):Ue==="docx"?fie(Se):Sa("Unsupported file type. Use .xlsx, .xls, or .docx")},pie=async()=>{if(!(!pi||!s||!n||Na.length===0)){Hd(!0);try{for(const q of Na){const Se={id:an(),groupId:s,categoryId:pi,question:q.question,options:q.options,correctIndex:q.correctIndex,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),explanation:q.explanation,difficulty:q.difficulty};C(Se),await bt(Ye(Le,"mcqs",Se.id),Se)}alert(` ${Na.length} questions uploaded successfully!`),Xs(null),hi([]),ys("")}catch(q){console.error("Error saving questions:",q),Sa("Error saving questions to database")}finally{Hd(!1)}}},mie=q=>{ZP(Se=>Se.includes(q)?Se.filter(Ue=>Ue!==q):[...Se,q])},gie=async()=>{if(!qn.trim()||!n)return;const q={id:an(),name:qn.trim(),description:Cn.trim(),groupCode:Math.random().toString(36).substring(2,8).toUpperCase(),adminId:n.id,adminName:n.displayName,memberIds:[n.id],members:[{userId:n.id,name:n.displayName,role:"admin",joinedAt:Date.now()}],createdAt:Date.now()};try{await bt(Ye(Le,"groups",q.id),q)}catch(Se){console.error("Error saving to Firestore:",Se)}l(q),o(q.id),nr(""),Pn(""),je(!1)},xie=async()=>{if(!Wt.trim()||!n)return;let q=await ee(Wt.trim());if(!q){alert("Invalid group code. Please check and try again.");return}if(q.memberIds.includes(n.id)){alert("You are already a member of this group!"),rr(""),Je(!1),o(q.id);return}const Se={...q,memberIds:[...q.memberIds,n.id],members:[...q.members,{userId:n.id,name:n.displayName,role:"member",joinedAt:Date.now()}]};try{await P0(Ye(Le,"groups",Se.id),{memberIds:Se.memberIds,members:Se.members})}catch(Ue){console.error("Error updating Firestore:",Ue)}u(Se),r.some(Ue=>Ue.id===Se.id)||l(Se),o(Se.id),rr(""),Je(!1),alert(`Successfully joined "${q.name}"!`)},rO=async q=>{const Se=q||ln;if(!Se.trim()||!s)return;const Ue={id:an(),groupId:s,name:Se.trim(),order:zl.length+1,createdAt:Date.now()};m(Ue),Dn("")},Yx=q=>{Ne(q),se(""),Ee(""),de(""),We(""),zh(!1),Ze([]),me(!0)},yie=q=>{const $e=Array.from(q.target.files||[]).filter(ze=>{const ct=ze.type==="application/pdf"||ze.type.startsWith("image/"),wt=ze.size<=10*1024*1024;return ct&&wt}).slice(0,10);Ze(ze=>[...ze,...$e].slice(0,10))},vie=q=>{Ze(Se=>Se.filter((Ue,$e)=>$e!==q))},bie=async()=>{if(Qe.length===0)return[];Nt(!0);const q=[];try{for(let Se=0;Se<Qe.length;Se++){const Ue=Qe[Se],$e=an(),ze=WH(hj,`group-files/${s}/${$e}_${Ue.name}`);await VH(ze,Ue);const ct=await qH(ze);q.push(ct),Kt(Math.round((Se+1)/Qe.length*100))}}catch(Se){console.error("Upload error:",Se),alert("Error uploading files. Please try again.")}return Nt(!1),Kt(0),q},wie=async()=>{if(!De.trim()||!s||!n||!jn)return;let q="note";ce==="quiz"&&(q="quiz");let Se=Te;if(ce==="link"&&(Se=`<iframe src="${sie(ue)}" width="100%" height="500" frameborder="0" allow="autoplay"></iframe>`),ce==="quiz"&&(n2==="auto"&&ju&&Kx?Se=JSON.stringify({timeLimit:Re?parseInt(Re):null,mode:"auto",categoryId:ju,questionCount:parseInt(Kx)}):Se=JSON.stringify({timeLimit:Re?parseInt(Re):null,mode:"manual",questionIds:$h})),ce==="note"&&Qe.length>0){const ct=await bie();ct.length>0&&(Se=ct.map((Pt,pn)=>{const gn=Qe[pn];return gn.type==="application/pdf"?`<div class="pdf-container mb-4"><embed src="${Pt}" type="application/pdf" width="100%" height="600px" /><p><a href="${Pt}" target="_blank" class="text-blue-500 underline"> ${gn.name}</a></p></div>`:`<div class="image-container mb-4"><img src="${Pt}" alt="${gn.name}" style="max-width:100%;height:auto;" /><p class="text-sm text-gray-500">${gn.name}</p></div>`}).join(`
`)+(Se?`
<div class="notes-content mt-4">${Se}</div>`:""))}const Ue=h.filter(ct=>ct.topicId===jn),$e=Ue.length>0?Math.max(...Ue.map(ct=>ct.order??0)):0,ze={id:an(),subTopicId:"",topicId:jn,groupId:s,type:q,title:De.trim(),content:Se,source:"user",order:$e+1,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),updatedAt:Date.now()};k(ze);try{await bt(Ye(Le,"contentItems",ze.id),ze)}catch(ct){console.error("Error saving content to Firestore:",ct),alert(" Content save   !   ")}se(""),Ee(""),de(""),We(""),Hh([]),DS("manual"),JP(""),jS(""),Ze([]),me(!1),ir(!1),Kn(null)},{addSingleMCQ:qWe}=_c(),_ie=q=>{vt(q),zt(q.question),On([...q.options]),fr(q.correctIndex),Ro(q.explanation||"")},Tie=async()=>{if(!Ce||!un.trim()||In.some(Se=>!Se.trim()))return;const q={...Ce,question:un.trim(),options:In.map(Se=>Se.trim()),correctIndex:Gs,explanation:Io.trim()||void 0};I(q),q.assetRef&&G3e(q.id),vt(null)},iO=()=>{gt&&(navigator.clipboard.writeText(gt.groupCode),alert("Group code copied!"))},Eie=async()=>{if(gt)try{await bt(Ye(Le,"groups",gt.id),gt),alert("Group synced to cloud! Now others can join with the code.")}catch(q){console.error("Error syncing to Firestore:",q),alert("Error syncing. Please try again.")}},Nie=async()=>{if(!(!gt||!s))try{await bt(Ye(Le,"groups",gt.id),gt);const q=d.filter(ze=>ze.groupId===s);for(const ze of q)await bt(Ye(Le,"topics",ze.id),ze);const Se=h.filter(ze=>ze.groupId===s);for(const ze of Se)await bt(Ye(Le,"contentItems",ze.id),ze);const Ue=p.filter(ze=>ze.groupId===s);for(const ze of Ue)await bt(Ye(Le,"mcqs",ze.id),ze);const $e=y.filter(ze=>ze.groupId===s);for(const ze of $e)await bt(Ye(Le,"categories",ze.id),ze);alert(`Synced to cloud!
- ${q.length} chapters
- ${Se.length} content items
- ${Ue.length} MCQs
- ${$e.length} categories`)}catch(q){console.error("Error syncing all to Firestore:",q),alert("Error syncing. Please try again.")}},Sie=q=>{Qt(Se=>Se.includes(q)?Se.filter(Ue=>Ue!==q):[...Se,q])},kie=q=>{const Se=zl.findIndex(Ue=>Ue.id===q.id);if(Se>0){const Ue=zl[Se-1];v({...q,order:Ue.order}),v({...Ue,order:q.order})}},Aie=q=>{const Se=zl.findIndex(Ue=>Ue.id===q.id);if(Se<zl.length-1){const Ue=zl[Se+1];v({...q,order:Ue.order}),v({...Ue,order:q.order})}},PS=S.useMemo(()=>s?J(s):[],[s,Z]),Ru=S.useMemo(()=>{if(s)return pe(s)},[s,Z]),sO=S.useMemo(()=>s?Y(s):[],[s,Z]),Cie=q=>{if(!s||!n)return;const Se=q.startDate&&q.startTimeStr?new Date(`${q.startDate}T${q.startTimeStr}`).getTime():Date.now(),Ue=q.endDate&&q.endTimeStr?new Date(`${q.endDate}T${q.endTimeStr}`).getTime():Se+24*60*60*1e3;let $e=[],ze=[];if(q.source==="library"){if(!q.librarySubjectId){alert("Please select a subject from Asset Library");return}let Pt=Lc.filter(pn=>pn.type==="mcq"&&pn.subjectId===q.librarySubjectId);q.libraryTopicId&&(Pt=Pt.filter(pn=>pn.topicId===q.libraryTopicId)),q.librarySubtopicId&&(Pt=Pt.filter(pn=>pn.subtopicId===q.librarySubtopicId)),Pt.forEach(pn=>{var gn;"quizQuestions"in pn&&((gn=pn.quizQuestions)==null||gn.forEach(Ei=>{ze.push({id:Ei.id||`${pn.id}-${Math.random()}`,question:Ei.question,options:Ei.options,correctIndex:Ei.correctIndex,difficulty:Ei.difficulty||"medium"})}))})}else ze=[...Iu],q.categoryIds.length>0&&(ze=Iu.filter(Pt=>q.categoryIds.includes(Pt.categoryId||"")));if(q.difficulty&&q.difficulty!=="all"&&(ze=ze.filter(Pt=>(Pt.difficulty||"medium")===q.difficulty)),ze.length===0){alert("No questions available for the selected criteria");return}$e=[...ze].sort(()=>Math.random()-.5).slice(0,q.questionCount).map(Pt=>Pt.id);const wt={id:an(),groupId:s,title:q.title,startTime:Se,endTime:Ue,duration:q.duration,questionMode:"auto",categoryIds:q.categoryIds,questionCount:q.questionCount,questionIds:$e,autoReleaseResult:!0,showSolution:q.showSolution,showLeaderboard:q.showLeaderboard??!0,status:"scheduled",createdBy:n.id,createdByName:n.displayName||"Admin",createdAt:Date.now(),resultReleaseTime:q.endTimeStr,source:q.source==="library"?"library":"group",librarySubjectId:q.librarySubjectId,libraryTopicId:q.libraryTopicId,librarySubtopicId:q.librarySubtopicId,difficulty:q.difficulty};V(wt),alert("Live Test scheduled successfully!")},Die=q=>{confirm("Delete this test?")&&xe(q)},jie=q=>{if(!s||!n)return;const Se=q.source==="library";if(q.enabled&&!Se&&q.categoryIds.length===0){alert("Please select at least one category for Auto Test");return}if(q.enabled&&Se&&!q.librarySubjectId){alert("Please select a subject from Asset Library");return}const Ue={id:`auto-${s}`,groupId:s,enabled:q.enabled,title:q.title,categoryIds:q.categoryIds,startTime:q.startTime,endTime:q.endTime,duration:q.duration,questionCount:q.questionCount,activeDays:q.activeDays,autoReleaseResult:!0,showSolution:q.showSolution,showLeaderboard:q.showLeaderboard,resultReleaseTime:q.endTime,showDetailedAnalysis:q.showDetailedAnalysis,source:q.source==="library"?"library":"group",librarySubjectId:q.librarySubjectId,libraryTopicId:q.libraryTopicId,librarySubtopicId:q.librarySubtopicId,difficulty:q.difficulty,createdBy:n.id,createdAt:(en==null?void 0:en.createdAt)||Date.now(),updatedAt:Date.now()};Ae(Ue),alert(" Auto Test Settings saved!")},Zx=S.useMemo(()=>{if(!s)return!1;const q=Me(s);if(!q||!q.enabled)return!1;const Se=new Date,Ue=Se.getDay();if(!q.activeDays.includes(Ue))return!1;const $e=Se.getHours()*60+Se.getMinutes(),[ze,ct]=q.startTime.split(":").map(Number),[wt,Pt]=q.endTime.split(":").map(Number),pn=ze*60+ct,gn=wt*60+Pt;return $e>=pn&&$e<=gn},[s,Wd]),en=S.useMemo(()=>s?Me(s):null,[s,Wd]),Jx=S.useMemo(()=>{if(!s||!n||!(en!=null&&en.enabled))return!1;const q=new Date,Se=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}-${String(q.getDate()).padStart(2,"0")}`;return Ie.filter($e=>{if($e.userId!==n.id||!$e.liveTestId.startsWith("auto-")||$e.status!=="submitted")return!1;const ze=new Date($e.submittedAt||$e.startedAt);return`${ze.getFullYear()}-${String(ze.getMonth()+1).padStart(2,"0")}-${String(ze.getDate()).padStart(2,"0")}`===Se}).length>0},[s,n,en,Ie]),Iie=q=>{const Se=ae(q.id,n.id);if(Se&&Se.status!=="in-progress"){alert("You have already submitted this test");return}const Ue=p.filter(ze=>q.questionIds.includes(ze.id));if(Ue.length===0){alert("No questions found for this test");return}const $e=[...Ue].sort(()=>Math.random()-.5);if(Vl($e),xs(0),Yi((Se==null?void 0:Se.answers.reduce((ze,ct)=>(ct.selected!==null&&(ze[ct.questionId]=ct.selected),ze),{}))||{}),As((Se==null?void 0:Se.startedAt)||Date.now()),gs(q),!Se){const ze={id:an(),liveTestId:q.id,groupId:q.groupId,userId:n.id,userName:n.displayName||"User",startedAt:Date.now(),score:0,correct:0,wrong:0,unanswered:q.questionIds.length,total:q.questionIds.length,timeTaken:0,answers:q.questionIds.map(ct=>{var wt;return{questionId:ct,selected:null,correct:((wt=p.find(Pt=>Pt.id===ct))==null?void 0:wt.correctIndex)||0}}),status:"in-progress"};le(ze)}},aO=()=>{if(!ai)return;const q=Math.round((Date.now()-Qs)/1e3);let Se=0,Ue=0,$e=0;const ze=ei.map(Pt=>{const pn=sl[Pt.id]!==void 0?sl[Pt.id]:null;return pn===null?$e++:pn===Pt.correctIndex?Se++:Ue++,{questionId:Pt.id,selected:pn,correct:Pt.correctIndex}}),ct=Math.round(Se/ei.length*100),wt=ae(ai.id,n.id);if(wt){const Pt={...wt,submittedAt:Date.now(),score:ct,correct:Se,wrong:Ue,unanswered:$e,timeTaken:q,answers:ze,status:"submitted"};te(Pt),Ir(Pt),ai.resultReleaseTime&&!uO(ai.resultReleaseTime)&&alert(` Test submitted successfully!

 Result will be available at ${OS(ai.resultReleaseTime)}`)}gs(null),Vl([]),ro("results")},oO=(q,Se)=>Date.now()<q.endTime?!1:q.resultReleaseTime?uO(q.resultReleaseTime,Se):!!(q.autoReleaseResult&&Date.now()>q.endTime||q.status==="result-released"),lO=q=>ae(q,(n==null?void 0:n.id)||""),cO=q=>{const Se=q-Date.now();if(Se<=0)return"Started";const Ue=Math.floor(Se/(1e3*60*60*24)),$e=Math.floor(Se%(1e3*60*60*24)/(1e3*60*60)),ze=Math.floor(Se%(1e3*60*60)/(1e3*60));return Ue>0?`${Ue}d ${$e}h`:$e>0?`${$e}h ${ze}m`:`${ze}m`},Rie=(q,Se)=>{const $e=Math.min(q.endTime,Se+q.duration*60*1e3)-Date.now();if($e<=0)return"0:00";const ze=Math.floor($e/6e4),ct=Math.floor($e%6e4/1e3);return`${ze}:${String(ct).padStart(2,"0")}`},uO=(q,Se)=>{if(!q)return!0;const Ue=new Date;if(Se){const wt=new Date(Se),Pt=new Date;if(Pt.setHours(0,0,0,0),wt.setHours(0,0,0,0),wt<Pt)return!0}const[$e,ze]=q.split(":").map(Number),ct=new Date;return ct.setHours($e,ze,0,0),Ue>=ct},OS=q=>{if(!q)return"";const[Se,Ue]=q.split(":").map(Number),$e=Se>=12?"PM":"AM";return`${Se>12?Se-12:Se===0?12:Se}:${String(Ue).padStart(2,"0")} ${$e}`},Pie=q=>{try{const Se=JSON.parse(q.content);let Ue=[];if(Se.mode==="auto"){const{categoryId:$e,questionCount:ze}=Se;let ct;if($e==="all"?ct=p.filter(Pt=>Pt.groupId===(gt==null?void 0:gt.id)):ct=p.filter(Pt=>Pt.groupId===(gt==null?void 0:gt.id)&&Pt.categoryId===$e),ct.length===0){alert("No questions available in this category.");return}const wt=[...ct].sort(()=>Math.random()-.5);Ue=wt.slice(0,Math.min(ze,wt.length))}else{const $e=Se.questionIds||[];if($e.length===0){alert("No questions in this quiz. Edit the quiz to add questions.");return}Ue=p.filter(ze=>$e.includes(ze.id)),Ue=[...Ue].sort(()=>Math.random()-.5)}if(Ue.length===0){alert("Questions not found. They may have been deleted.");return}es({item:q,questions:Ue,timeLimit:Se.timeLimit||null})}catch{alert("Invalid quiz data")}},Oie=q=>{var Se,Ue;try{const $e=JSON.parse(q.content);if($e.mode==="auto"){const ze=$e.categoryId==="all"?"All Categories":((Se=ao.find(ct=>ct.id===$e.categoryId))==null?void 0:Se.name)||"Unknown";return{timeLimit:$e.timeLimit,questionCount:$e.questionCount,mode:"auto",categoryName:ze}}return{timeLimit:$e.timeLimit,questionCount:((Ue=$e.questionIds)==null?void 0:Ue.length)||0,mode:"manual"}}catch{return{timeLimit:null,questionCount:0}}};return wr?a.jsx("div",{className:"p-6",children:a.jsx(Xqe,{questions:wr.questions,quizItem:wr.item,timeLimit:wr.timeLimit||void 0,onBack:()=>es(null)})}):a.jsxs("div",{className:"p-4 sm:p-6 space-y-4 -mx-4 sm:mx-0",children:[a.jsxs("div",{className:"hidden sm:flex flex-row items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Group Study"}),a.jsxs(Bt,{value:s||"",onValueChange:q=>o(q||null),children:[a.jsx(Ft,{className:"w-[200px] h-9",children:a.jsx(Vt,{placeholder:"Select Group"})}),a.jsx(Lt,{children:r.map(q=>a.jsx(Ke,{value:q.id,children:q.name},q.id))})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{onClick:()=>je(!0),size:"sm",children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Create"]}),a.jsxs(ye,{variant:"outline",onClick:()=>Je(!0),size:"sm",children:[a.jsx(Bg,{className:"h-4 w-4 mr-1"})," Join"]})]})]}),a.jsxs("div",{className:"sm:hidden flex items-center gap-2",children:[a.jsxs(Bt,{value:s||"",onValueChange:q=>o(q||null),children:[a.jsx(Ft,{className:"flex-1 h-8 text-xs",children:a.jsx(Vt,{placeholder:"Select Group"})}),a.jsx(Lt,{children:r.map(q=>a.jsx(Ke,{value:q.id,children:q.name},q.id))})]}),a.jsx(ye,{onClick:()=>je(!0),size:"sm",className:"h-8 px-2",children:a.jsx(rn,{className:"h-4 w-4"})}),a.jsx(ye,{variant:"outline",onClick:()=>Je(!0),size:"sm",className:"h-8 px-2",children:a.jsx(Bg,{className:"h-4 w-4"})})]}),s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 p-2 sm:p-3 bg-muted/50 rounded-lg flex-wrap text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx("code",{className:"bg-background px-2 py-0.5 rounded font-mono text-xs",children:gt==null?void 0:gt.groupCode}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:iO,children:a.jsx(pM,{className:"h-3 w-3"})}),so&&a.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-500",onClick:Eie,title:"Sync to cloud",children:a.jsx(lc,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qa,{className:"h-3.5 w-3.5 text-muted-foreground"}),a.jsx("span",{className:"text-xs sm:text-sm",children:gt==null?void 0:gt.members.length})]}),so&&a.jsxs("span",{className:"flex items-center gap-1 text-xs sm:text-sm text-primary",children:[a.jsx(Hy,{className:"h-3 w-3"})," Admin"]}),Xx.length>0&&a.jsxs(ye,{variant:"outline",size:"sm",className:"ml-auto relative h-7 text-xs",onClick:()=>_S(!0),children:[a.jsx(Z_,{className:"h-3.5 w-3.5 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Delete Requests"}),a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center text-[10px]",children:Xx.length})]})]}),a.jsxs(G0,{value:e,onValueChange:q=>t(q),children:[a.jsxs(am,{className:"hidden lg:grid w-full grid-cols-4 h-auto p-1",children:[a.jsxs(Ai,{value:"whats-new",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx($E,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"What's New"})]}),a.jsxs(Ai,{value:"course",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(Br,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Course"})]}),a.jsxs(Ai,{value:"live-test",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(id,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Live Test"})]}),a.jsxs(Ai,{value:"settings",className:"text-xs sm:text-sm py-2 px-1 sm:px-3",children:[a.jsx(Qi,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),a.jsxs(Ci,{value:"whats-new",className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2",children:[a.jsxs(ut,{children:[a.jsx(Wn,{className:"pb-2 sm:pb-4",children:a.jsxs(Jn,{className:"text-base sm:text-lg flex items-center gap-2",children:[a.jsx(Lr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500"})," Latest Notes"]})}),a.jsx(Ht,{children:tO.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No notes yet"}):a.jsx("div",{className:"space-y-2",children:tO.map(q=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:()=>Qn(q),children:[a.jsx("h4",{className:"font-medium text-sm",children:q.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",q.createdByName]})]},q.id))})})]}),a.jsxs(ut,{children:[a.jsx(Wn,{className:"pb-2 sm:pb-4",children:a.jsxs(Jn,{className:"text-base sm:text-lg flex items-center gap-2",children:[a.jsx(ru,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"})," Latest MCQs"]})}),a.jsx(Ht,{children:Iu.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No MCQs yet"}):a.jsx("div",{className:"space-y-2",children:Iu.slice(0,5).map(q=>a.jsxs("div",{className:"p-2 sm:p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:()=>{t("course")},children:[a.jsx("h4",{className:"font-medium text-xs sm:text-sm line-clamp-1",children:q.question}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["by ",q.createdByName]})]},q.id))})})]})]}),IS.length>0&&a.jsxs(ut,{className:"border-orange-500/50 bg-orange-50/50 dark:bg-orange-900/10",children:[a.jsx(Wn,{className:"pb-2 sm:pb-4",children:a.jsxs(Jn,{className:"text-base sm:text-lg flex items-center gap-2 text-orange-600",children:[a.jsx($u,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Correction ",a.jsx("span",{className:"hidden sm:inline",children:"Requests"})," (",IS.length,")"]})}),a.jsx(Ht,{className:"space-y-2 sm:space-y-3",children:IS.map(q=>a.jsxs("div",{className:"p-2 sm:p-3 bg-white dark:bg-background rounded-lg border space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-xs sm:text-sm truncate",children:q.contentTitle}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:["by ",q.reportedByName,"  ",new Date(q.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:"text-[10px] sm:text-xs bg-orange-500/20 text-orange-600 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded whitespace-nowrap",children:q.contentType==="note"?"Notes":q.contentType==="quiz"?"Quiz":"Q"})]}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2 rounded line-clamp-2",children:q.message}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50 h-7 text-xs px-2",onClick:()=>L(q.id,"resolved"),children:[a.jsx(mo,{className:"h-3 w-3 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Fixed"})]}),a.jsxs(ye,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50 h-7 text-xs px-2",onClick:()=>L(q.id,"dismissed"),children:[a.jsx(od,{className:"h-3 w-3 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Dismiss"})]})]})]},q.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[a.jsxs(ut,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-primary",children:zl.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Chapters"})]}),a.jsxs(ut,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-500",children:h.filter(q=>q.groupId===s&&q.type==="note").length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Notes"})]}),a.jsxs(ut,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-500",children:Iu.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"MCQs"})]}),a.jsxs(ut,{className:"p-2 sm:p-4 text-center",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-500",children:gt==null?void 0:gt.members.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Members"})]})]})]}),a.jsxs(Ci,{value:"course",className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Course Contents"}),a.jsxs(ye,{variant:Mt?"default":"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>Mn(!Mt),children:[a.jsx(fo,{className:"h-3.5 w-3.5 sm:mr-1.5"}),a.jsx("span",{className:"hidden sm:inline",children:Mt?"Exit Edit":"Edit Mode"})]})]}),Mt&&so&&a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 hover:bg-muted/50 rounded cursor-pointer border-b",onClick:()=>{const q=prompt("Enter chapter name:");q!=null&&q.trim()&&rO(q)},children:[a.jsx(rn,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden bg-card",children:zl.length===0?a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:["No chapters yet. ",so&&Mt&&'Click "Add new chapter" above!']}):zl.map(q=>{var ct;const Se=kt.includes(q.id),Ue=h.filter(wt=>wt.topicId===q.id).sort((wt,Pt)=>(wt.order??wt.createdAt)-(Pt.order??Pt.createdAt)),$e=oie(q),ze=(ct=q.assignedMembers)==null?void 0:ct.map(wt=>{var Pt;return((Pt=gt==null?void 0:gt.members.find(pn=>pn.userId===wt))==null?void 0:Pt.name)||"Unknown"}).join(", ");return a.jsxs("div",{className:"border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center hover:bg-muted/30",children:[a.jsxs("button",{className:"flex-1 flex items-center gap-2 p-3 text-left",onClick:()=>Sie(q.id),children:[Se?a.jsx(Ba,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Va,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"font-semibold",children:q.name}),q.assignedMembers&&q.assignedMembers.length>0&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",ze,")"]})]}),Mt&&(so||$e)&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 mr-2",children:a.jsx(sd,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",children:[so&&a.jsxs(Un,{onClick:()=>{const wt=prompt("Enter new chapter name:",q.name);wt!=null&&wt.trim()&&v({...q,name:wt.trim()})},children:[a.jsx(fo,{className:"h-4 w-4 mr-2"})," Rename"]}),$e&&a.jsxs(Un,{onClick:()=>{Kn(q.id),ir(!0)},children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Add content"]}),so&&a.jsxs(a.Fragment,{children:[a.jsxs(Un,{onClick:()=>{ES(q.id),Qx(q.assignedMembers||[]),TS(!0)},children:[a.jsx(Bg,{className:"h-4 w-4 mr-2"})," Assign members"]}),a.jsxs(Un,{onClick:()=>kie(q),children:[a.jsx(w1,{className:"h-4 w-4 mr-2"})," Move up"]}),a.jsxs(Un,{onClick:()=>Aie(q),children:[a.jsx(b1,{className:"h-4 w-4 mr-2"})," Move down"]}),a.jsxs(Un,{className:"text-orange-500",onClick:()=>RS("topic",q.id,q.name),children:[a.jsx($u,{className:"h-4 w-4 mr-2"})," Request Delete"]})]})]})]})]}),Se&&a.jsxs("div",{className:"bg-muted/20",children:[Mt&&$e&&a.jsx("div",{className:"flex items-center gap-4 py-2 px-8 border-b",children:a.jsxs("div",{className:"flex items-center gap-2 hover:bg-muted/30 cursor-pointer text-sm px-2 py-1 rounded",onClick:()=>{Kn(q.id),ir(!0)},children:[a.jsx(rn,{className:"h-3 w-3 text-primary"}),a.jsx("span",{className:"text-primary",children:"Add content"})]})}),Ue.length===0?a.jsxs("p",{className:"px-8 py-4 text-sm text-muted-foreground",children:["No content yet. ",Mt&&$e&&'Click "Add content" to start!']}):a.jsx(a.Fragment,{children:Ue.map((wt,Pt)=>{const pn=wt.type==="quiz"?Oie(wt):null;return a.jsxs("div",{className:"flex items-center hover:bg-muted/30 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex-1 flex items-center gap-2 py-2 px-8 cursor-pointer",onClick:()=>{wt.type==="quiz"?Pie(wt):wt.type==="note"&&Qn(wt)},children:[wt.type==="note"&&wt.content?a.jsx(Lr,{className:"h-4 w-4 text-blue-500"}):wt.type==="quiz"?a.jsx(ru,{className:"h-4 w-4 text-green-500"}):a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"text-sm",children:wt.title}),pn&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",pn.questionCount," Q",pn.timeLimit?`, ${pn.timeLimit}min`:"",pn.mode==="auto"&&a.jsx(xM,{className:"h-3 w-3 inline ml-1"}),")"]})]}),Mt&&$e&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 mr-2",children:a.jsx(sd,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(Un,{onClick:()=>{const gn=prompt("Enter new name:",wt.title);gn!=null&&gn.trim()&&_({...wt,title:gn.trim(),updatedAt:Date.now()})},children:[a.jsx(fo,{className:"h-4 w-4 mr-2"})," Rename"]}),a.jsxs(Un,{onClick:()=>bn(wt),children:[a.jsx(Lr,{className:"h-4 w-4 mr-2"})," Edit content"]}),a.jsxs(Un,{onClick:()=>{Kn(q.id),ir(!0)},children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Add content"]}),a.jsxs(Un,{disabled:Pt===0,onClick:()=>{if(Pt>0){const gn=Ue[Pt-1],Fo=wt.order??Pt,Ei=gn.order??Pt-1;_({...wt,order:Ei,updatedAt:Date.now()}),_({...gn,order:Fo,updatedAt:Date.now()})}},children:[a.jsx(w1,{className:"h-4 w-4 mr-2"})," Move up"]}),a.jsxs(Un,{disabled:Pt===Ue.length-1,onClick:()=>{if(Pt<Ue.length-1){const gn=Ue[Pt+1],Fo=wt.order??Pt,Ei=gn.order??Pt+1;_({...wt,order:Ei,updatedAt:Date.now()}),_({...gn,order:Fo,updatedAt:Date.now()})}},children:[a.jsx(b1,{className:"h-4 w-4 mr-2"})," Move down"]}),a.jsxs(Un,{className:"text-orange-500",onClick:()=>RS("content",wt.id,wt.title),children:[a.jsx($u,{className:"h-4 w-4 mr-2"})," Request Delete"]})]})]})]},wt.id)})})]})]},q.id)})}),Mt&&so&&zl.length>0&&a.jsxs("div",{className:"flex items-center gap-2 py-3 px-3 hover:bg-primary/10 rounded cursor-pointer border border-dashed",onClick:()=>{const q=prompt("Enter chapter name:");q!=null&&q.trim()&&rO(q)},children:[a.jsx(rn,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-primary font-medium",children:"Add new chapter"})]})]}),a.jsx(Ci,{value:"live-test",className:"space-y-4",children:ai?a.jsxs(ut,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-sm",children:[a.jsxs("span",{className:"font-medium",children:["Q ",Pi+1,"/",ei.length]}),a.jsxs("span",{className:"text-red-500 font-medium",children:[a.jsx(er,{className:"h-3.5 w-3.5 inline mr-1"}),Rie(ai,Qs)]})]}),a.jsxs(ye,{variant:"destructive",size:"sm",className:"h-8 text-xs",onClick:aO,children:[a.jsx(mo,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Submit"})]})]}),(()=>{const q=Object.keys(sl).length;return a.jsxs("div",{className:"mb-3 sm:mb-4",children:[a.jsxs("button",{onClick:()=>Ta(!ql),className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg hover:bg-muted transition-colors w-full justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J_,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Questions"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs bg-primary/20 px-2 py-0.5 rounded",children:[q,"/",ei.length]}),a.jsx(Ba,{className:`h-4 w-4 transition-transform ${ql?"rotate-180":""}`})]})]}),a.jsx($n,{children:ql&&a.jsxs(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-2 p-2 sm:p-3 bg-muted/30 rounded-lg",children:ei.map((Se,Ue)=>a.jsx("button",{onClick:()=>{xs(Ue),Ta(!1)},className:`min-w-[28px] w-7 h-7 sm:w-8 sm:h-8 rounded text-xs sm:text-sm font-medium transition-colors ${Pi===Ue?"bg-primary text-primary-foreground":sl[ei[Ue].id]!==void 0?"bg-green-500 text-white":"bg-background border"}`,children:Ue+1},Ue))}),a.jsxs("div",{className:"flex gap-3 mt-2 px-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 bg-green-500 rounded"})," Answered"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 border rounded"})," Unanswered"]})]})]})})]})})(),a.jsx("h3",{className:"text-base sm:text-lg font-medium mb-3 sm:mb-4",children:(dO=ei[Pi])==null?void 0:dO.question}),a.jsx("div",{className:"space-y-2",children:(fO=ei[Pi])==null?void 0:fO.options.map((q,Se)=>a.jsxs("div",{className:`p-2.5 sm:p-3 border rounded cursor-pointer transition-colors text-sm ${sl[ei[Pi].id]===Se?"border-primary bg-primary/10":"hover:bg-muted"}`,onClick:()=>Yi(Ue=>({...Ue,[ei[Pi].id]:Se})),children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+Se),"."]})," ",q]},Se))}),a.jsxs("div",{className:"flex justify-between pt-3 sm:pt-4",children:[a.jsxs(ye,{variant:"outline",size:"sm",className:"h-8 text-xs sm:text-sm",disabled:Pi===0,onClick:()=>xs(q=>q-1),children:[a.jsx(f5,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})]}),Pi<ei.length-1?a.jsxs(ye,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>xs(q=>q+1),children:[a.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),a.jsx(Va,{className:"h-4 w-4"})]}):a.jsxs(ye,{size:"sm",className:"h-8 text-xs sm:text-sm",onClick:aO,children:[a.jsx(mo,{className:"h-3.5 w-3.5 mr-1"})," Submit"]})]})]}):Au&&Cc?a.jsxs(ut,{className:"p-3 sm:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"View Solutions"}),a.jsxs(ye,{variant:"outline",size:"sm",className:"h-8",onClick:()=>sr(!1),children:[a.jsx(dn,{className:"h-3.5 w-3.5 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]}),a.jsx("div",{className:"space-y-4 sm:space-y-6",children:Cc.answers.map((q,Se)=>{const Ue=p.find(ct=>ct.id===q.questionId);if(!Ue)return null;const $e=q.selected===q.correct,ze=q.selected===null;return a.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${$e?"border-green-500 bg-green-50 dark:bg-green-950/20":ze?"border-gray-400 bg-gray-50 dark:bg-gray-950/20":"border-red-500 bg-red-50 dark:bg-red-950/20"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[a.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:["Q",Se+1,"."]}),$e?a.jsxs("span",{className:"text-green-600 text-xs sm:text-sm flex items-center",children:[a.jsx(ua,{className:"h-3.5 w-3.5 mr-1"})," Correct"]}):ze?a.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm flex items-center",children:[a.jsx(nK,{className:"h-3.5 w-3.5 mr-1"})," Skipped"]}):a.jsxs("span",{className:"text-red-600 text-xs sm:text-sm flex items-center",children:[a.jsx(od,{className:"h-3.5 w-3.5 mr-1"})," Wrong"]})]}),a.jsx("p",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:Ue.question}),a.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:Ue.options.map((ct,wt)=>a.jsxs("div",{className:`p-1.5 sm:p-2 rounded text-xs sm:text-sm ${wt===q.correct?"bg-green-200 dark:bg-green-900 font-medium":q.selected===wt&&!$e?"bg-red-200 dark:bg-red-900":""}`,children:[a.jsxs("span",{className:"font-medium mr-1.5 sm:mr-2",children:[String.fromCharCode(65+wt),"."]}),ct,wt===q.correct&&a.jsx(mo,{className:"h-3.5 w-3.5 inline ml-1.5 text-green-600"}),q.selected===wt&&!$e&&a.jsx(dn,{className:"h-3.5 w-3.5 inline ml-1.5 text-red-600"})]},wt))})]},q.questionId)})})]}):a.jsxs(a.Fragment,{children:[(en==null?void 0:en.enabled)&&a.jsx(ut,{className:`border-2 ${Jx?"border-green-500 bg-green-50 dark:bg-green-900/20":Zx?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20"}`,children:a.jsxs(Ht,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[Jx?a.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold text-sm",children:" Done"}):Zx?a.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-sm animate-pulse",children:" LIVE"}):a.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 bg-yellow-500 rounded-full"}),a.jsxs("div",{children:[a.jsx("h4",{className:`font-semibold text-sm sm:text-base ${Jx?"text-green-700 dark:text-green-400":Zx?"text-red-700 dark:text-red-400":"text-yellow-700 dark:text-yellow-400"}`,children:en.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[en.questionCount," Q  ",en.duration," min"]})]})]}),Jx?a.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:[" Today's test completed! Result at ",en.endTime]}):Zx?a.jsxs(ye,{size:"sm",className:"h-8 text-xs sm:text-sm w-full sm:w-auto bg-red-600 hover:bg-red-700",onClick:()=>{let q=[];if(en.source==="library"){let ze=Lc.filter(ct=>ct.type==="mcq"&&ct.subjectId===en.librarySubjectId);en.libraryTopicId&&(ze=ze.filter(ct=>ct.topicId===en.libraryTopicId)),en.librarySubtopicId&&(ze=ze.filter(ct=>ct.subtopicId===en.librarySubtopicId)),ze.forEach(ct=>{var wt;"quizQuestions"in ct&&((wt=ct.quizQuestions)==null||wt.forEach(pn=>{q.push({id:pn.id||`${ct.id}-${Math.random()}`,question:pn.question,options:pn.options,correctIndex:pn.correctIndex,explanation:pn.explanation,difficulty:pn.difficulty||"medium"})}))})}else q=Iu.filter(ze=>en.categoryIds.length===0||en.categoryIds.includes(ze.categoryId||""));en.difficulty&&en.difficulty!=="all"&&(q=q.filter(ze=>(ze.difficulty||"medium")===en.difficulty));const Se=Math.min(en.questionCount,q.length),$e=[...q].sort(()=>Math.random()-.5).slice(0,Se);if($e.length===0){alert("No questions available for the selected criteria");return}Vl($e),gs({id:`auto-${Date.now()}`,groupId:s,title:en.title,startTime:Date.now(),endTime:Date.now()+en.duration*60*1e3,duration:en.duration,questionMode:"auto",categoryIds:en.categoryIds,questionCount:en.questionCount,questionIds:$e.map(ze=>ze.id),autoReleaseResult:en.autoReleaseResult,showSolution:en.showSolution,showLeaderboard:en.showLeaderboard,status:"active",createdBy:"auto",createdByName:"Auto Test",createdAt:Date.now()}),As(Date.now()),xs(0),Yi({})},children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Start Now!"]}):a.jsxs("span",{className:"text-xs text-yellow-700 dark:text-yellow-400 font-medium",children:[" Available: ",en.startTime," - ",en.endTime]})]}),Zx&&!Jx&&a.jsxs("p",{className:"text-xs text-red-600/70 dark:text-red-400/70 mt-2",children:[" Live now! Available until ",en.endTime," today"]})]})}),a.jsxs("div",{className:"flex gap-2 border-b pb-2 mb-4",children:[a.jsxs(ye,{variant:si==="upcoming"?"default":"ghost",size:"sm",onClick:()=>ro("upcoming"),children:[a.jsx(er,{className:"h-4 w-4 mr-1"})," Upcoming"]}),Ru&&a.jsxs(ye,{variant:si==="active"?"default":"ghost",size:"sm",onClick:()=>ro("active"),className:"bg-green-500 hover:bg-green-600 text-white",children:[a.jsx(Oa,{className:"h-4 w-4 mr-1"})," Active Now!"]}),a.jsxs(ye,{variant:si==="past"?"default":"ghost",size:"sm",onClick:()=>ro("past"),children:[a.jsx(Ug,{className:"h-4 w-4 mr-1"})," Past Tests"]}),a.jsxs(ye,{variant:si==="results"?"default":"ghost",size:"sm",onClick:()=>ro("results"),children:[a.jsx(Ma,{className:"h-4 w-4 mr-1"})," My Results"]})]}),si==="upcoming"&&a.jsx("div",{className:"space-y-4",children:PS.length===0?a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(er,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for scheduled tests"})]}):PS.map(q=>a.jsx(ut,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:q.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Sl,{className:"h-4 w-4 inline mr-1"})," ",new Date(q.startTime).toLocaleDateString()]}),a.jsxs("span",{children:[a.jsx(er,{className:"h-4 w-4 inline mr-1"})," ",new Date(q.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("span",{children:[a.jsx(hh,{className:"h-4 w-4 inline mr-1"})," ",q.questionIds.length," questions"]}),a.jsxs("span",{children:[a.jsx(er,{className:"h-4 w-4 inline mr-1"})," ",q.duration," min"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-primary",children:cO(q.startTime)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"until start"})]})]})},q.id))}),si==="active"&&Ru&&a.jsxs(ut,{className:"p-6 border-2 border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-semibold",children:"LIVE NOW"})]}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:Ru.title}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:Ru.questionIds.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Questions"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:Ru.duration}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-red-500",children:cO(Ru.endTime)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Remaining"})]}),a.jsxs("div",{className:"text-center p-3 bg-muted rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:oe(Ru.id).filter(q=>q.status==="submitted").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Submitted"})]})]}),(()=>{const q=lO(Ru.id);return(q==null?void 0:q.status)==="submitted"?a.jsxs("div",{className:"text-center p-4 bg-green-100 dark:bg-green-900/30 rounded",children:[a.jsx(ua,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),a.jsx("p",{className:"font-medium",children:"You have submitted this test"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Result will be available after test ends"})]}):a.jsxs(ye,{size:"lg",className:"w-full",onClick:()=>Iie(Ru),children:[a.jsx(Oa,{className:"h-5 w-5 mr-2"}),(q==null?void 0:q.status)==="in-progress"?"Continue Test":"Start Test"]})})()]}),si==="past"&&a.jsx("div",{className:"space-y-4",children:sO.length===0?a.jsxs(ut,{className:"p-8 text-center",children:[a.jsx(Ug,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Tests"}),a.jsx("p",{className:"text-muted-foreground",children:"Completed tests will appear here"})]}):sO.map(q=>{const Se=lO(q.id),Ue=fe(q.id),$e=oO(q,Se==null?void 0:Se.submittedAt);return a.jsxs(ut,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:q.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(q.endTime).toLocaleDateString(),"  ",q.questionIds.length," questions"]})]}),a.jsx("div",{className:"text-right",children:Se&&$e?a.jsxs("div",{className:`text-2xl font-bold ${Se.score>=80?"text-green-500":Se.score>=50?"text-yellow-500":"text-red-500"}`,children:[Se.score,"%"]}):Se&&q.resultReleaseTime?a.jsxs("div",{className:"text-sm text-orange-500 flex items-center gap-1",children:[a.jsx(er,{className:"h-4 w-4"}),"Result at ",OS(q.resultReleaseTime)]}):Se?a.jsx("span",{className:"text-sm text-muted-foreground",children:"Result pending"}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Not attempted"})})]}),$e&&a.jsxs("div",{className:"flex gap-2 mt-3",children:[Se&&q.showSolution&&a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>{Ir(Se),sr(!0)},children:[a.jsx(yc,{className:"h-4 w-4 mr-1"})," View Solutions"]}),q.showLeaderboard&&Ue.length>0&&a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>{Bl(q),ro("results")},children:[a.jsx(Ma,{className:"h-4 w-4 mr-1"})," Leaderboard"]})]}),Se&&!$e&&q.resultReleaseTime&&a.jsxs("div",{className:"mt-3 p-2 bg-orange-50 dark:bg-orange-900/20 rounded text-sm text-orange-600 dark:text-orange-400 flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4"}),"Test submitted! Result will be available at ",OS(q.resultReleaseTime)]})]},q.id)})}),si==="results"&&a.jsx("div",{className:"space-y-4",children:io?a.jsxs(ut,{children:[a.jsx(Wn,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Jn,{className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-5 w-5 text-yellow-500"}),io.title," - Leaderboard"]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>Bl(null),children:a.jsx(dn,{className:"h-4 w-4"})})]})}),a.jsx(Ht,{children:(()=>{const q=fe(io.id);return q.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No results yet"}):a.jsx("div",{className:"space-y-2",children:q.map((Se,Ue)=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded ${Ue===0?"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300":Ue===1?"bg-gray-100 dark:bg-gray-800/50 border border-gray-300":Ue===2?"bg-orange-100 dark:bg-orange-900/30 border border-orange-300":"bg-muted/30"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${Ue===0?"bg-yellow-500 text-white":Ue===1?"bg-gray-400 text-white":Ue===2?"bg-orange-500 text-white":"bg-muted text-muted-foreground"}`,children:Ue+1}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[Se.userName,Se.userId===(n==null?void 0:n.id)&&a.jsx("span",{className:"text-xs text-primary ml-1",children:"(You)"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.floor(Se.timeTaken/60),":",String(Se.timeTaken%60).padStart(2,"0"),"  ",Se.correct,"/",Se.total," correct"]})]})]}),a.jsxs("div",{className:"text-xl font-bold",children:[Se.score,"%"]})]},Se.id))})})()})]}):a.jsxs(ut,{children:[a.jsx(Wn,{children:a.jsx(Jn,{children:"My Live Test Results"})}),a.jsx(Ht,{children:(()=>{const q=Ie.filter(Se=>Se.userId===(n==null?void 0:n.id)&&Se.status==="submitted");return q.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No results yet. Take a live test!"}):a.jsx("div",{className:"space-y-2",children:q.sort((Se,Ue)=>(Ue.submittedAt||0)-(Se.submittedAt||0)).map(Se=>{const Ue=Z.find(ze=>ze.id===Se.liveTestId);if(!Ue)return null;const $e=oO(Ue);return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Ue.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Se.submittedAt?new Date(Se.submittedAt).toLocaleDateString():"","  ",Se.correct,"/",Se.total," correct"]})]}),a.jsx("div",{className:"flex items-center gap-3",children:$e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`text-xl font-bold ${Se.score>=80?"text-green-500":Se.score>=50?"text-yellow-500":"text-red-500"}`,children:[Se.score,"%"]}),Ue.showSolution&&a.jsx(ye,{size:"sm",variant:"outline",onClick:()=>{Ir(Se),sr(!0)},children:a.jsx(yc,{className:"h-4 w-4"})})]}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Result pending"})})]},Se.id)})})})()})]})})]})}),a.jsxs(Ci,{value:"settings",className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),a.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Group Settings"})]}),a.jsxs(ut,{className:"border-2",children:[a.jsx(Wn,{className:"pb-2 sm:pb-3 px-3 sm:px-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[a.jsxs(Jn,{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(qa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500"}),"Members",a.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs px-2 py-0.5 rounded-full",children:gt==null?void 0:gt.members.length})]}),a.jsxs(ye,{variant:"outline",size:"sm",onClick:iO,className:"h-7 text-xs",children:[a.jsx(pM,{className:"h-3 w-3 sm:mr-1.5"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Invite Code"})]})]})}),a.jsx(Ht,{className:"pt-0 px-3 sm:px-6",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:gt==null?void 0:gt.members.map(q=>{const Se=q.userId===(n==null?void 0:n.id),Ue=gt.members.filter($e=>$e.role==="admin").length===1&&q.role==="admin";return a.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-2.5 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mf,{className:"h-7 w-7 sm:h-8 sm:w-8",children:a.jsx(Uf,{className:"text-xs sm:text-sm",children:q.name.charAt(0)})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-xs sm:text-sm leading-tight",children:[q.name," ",Se&&a.jsx("span",{className:"text-muted-foreground",children:"(You)"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground capitalize",children:q.role})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[q.role==="admin"&&a.jsx(Hy,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-yellow-500"}),so&&!Se&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(sd,{className:"h-3.5 w-3.5"})})}),a.jsxs(pu,{align:"end",className:"w-40",children:[q.role!=="admin"&&a.jsxs(Un,{onClick:()=>{const $e=gt.members.map(ze=>ze.userId===q.userId?{...ze,role:"admin"}:ze);u({...gt,members:$e})},children:[a.jsx(Hy,{className:"h-3.5 w-3.5 mr-2 text-yellow-500"}),"Make Admin"]}),q.role==="admin"&&!Ue&&a.jsxs(Un,{onClick:()=>{const $e=gt.members.map(ze=>ze.userId===q.userId?{...ze,role:"member"}:ze);u({...gt,members:$e})},children:[a.jsx(qa,{className:"h-3.5 w-3.5 mr-2"}),"Make Member"]}),q.role!=="moderator"&&a.jsxs(Un,{onClick:()=>{const $e=gt.members.map(ze=>ze.userId===q.userId?{...ze,role:"moderator"}:ze);u({...gt,members:$e})},children:[a.jsx(Qi,{className:"h-3.5 w-3.5 mr-2 text-blue-500"}),"Make Moderator"]}),a.jsxs(Un,{className:"text-red-600 focus:text-red-600",onClick:()=>{if(confirm(`Remove ${q.name} from this group?`)){const $e=gt.members.filter(ct=>ct.userId!==q.userId),ze=gt.memberIds.filter(ct=>ct!==q.userId);u({...gt,members:$e,memberIds:ze})}},children:[a.jsx(kr,{className:"h-3.5 w-3.5 mr-2"}),"Remove"]})]})]})]})]},q.userId)})})})]}),so&&a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"p-4 border-2 border-green-200 dark:border-green-800",children:a.jsx(eJ,{context:"group",contextId:s||void 0,categories:ao.map(q=>({id:q.id,name:q.name,questionCount:Iu.filter(Se=>Se.categoryId===q.id).length})),scheduledTests:PS.map(q=>({id:q.id,title:q.title,duration:q.duration,questionCount:q.questionIds.length,showSolution:q.showSolution,status:q.status,createdAt:q.createdAt,categoryIds:q.categoryIds||[],difficulty:q.difficulty})),autoTestConfig:en?{id:en.id,enabled:en.enabled,title:en.title,categoryIds:en.categoryIds,startTime:en.startTime,endTime:en.endTime,duration:en.duration,questionCount:en.questionCount,activeDays:en.activeDays,showSolution:en.showSolution,showLeaderboard:en.showLeaderboard,resultReleaseTime:en.resultReleaseTime||en.endTime,showDetailedAnalysis:en.showDetailedAnalysis??!0,difficulty:en.difficulty||"all",createdAt:en.createdAt,updatedAt:en.updatedAt}:null,totalMCQCount:Iu.length,onCreateTest:Cie,onDeleteTest:Die,onSaveAutoConfig:jie,showSourceSelector:!0,showDateTimeScheduling:!0,isAdmin:so,assetSubjects:qx,getTopicsForSubject:q=>Yb(q),getSubtopicsForTopic:q=>vS(q),getLibraryMCQCount:(q,Se,Ue)=>{let $e=Lc.filter(ze=>ze.type==="mcq"&&ze.subjectId===q);return Se&&($e=$e.filter(ze=>ze.topicId===Se)),Ue&&($e=$e.filter(ze=>ze.subtopicId===Ue)),$e.length}})}),a.jsxs(ut,{className:"border-2 border-purple-200 dark:border-purple-800",children:[a.jsxs(Wn,{className:"pb-3",children:[a.jsxs(Jn,{className:"flex items-center gap-2 text-base",children:[a.jsx(id,{className:"h-5 w-5 text-purple-500"}),"Question Bank",a.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs px-2 py-0.5 rounded-full",children:[Iu.length," questions"]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ao.length," categories"]})]}),a.jsxs(Ht,{className:"pt-0 space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(nt,{placeholder:"New category name...",value:NS,onChange:q=>QP(q.target.value),onKeyDown:q=>q.key==="Enter"&&nO(),className:"flex-1"}),a.jsxs(ye,{onClick:nO,size:"sm",children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Add"]})]}),a.jsxs("div",{className:"flex gap-1 p-1 bg-muted rounded-lg",children:[a.jsx("button",{onClick:()=>Ti("single"),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${Mr==="single"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Single"}),a.jsx("button",{onClick:()=>Ti("group"),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${Mr==="group"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Group"}),a.jsx("button",{onClick:()=>Ti("instant"),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${Mr==="instant"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:" Instant"})]}),Mr==="single"&&ao.length>0&&a.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Add Single Question (MCQ)"}),a.jsx(lr,{placeholder:"Enter your question here...",value:SS,onChange:q=>KP(q.target.value),rows:2,className:"text-sm"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[0,1,2,3].map(q=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("input",{type:"radio",name:"qbCorrect",checked:kS===q,onChange:()=>YP(q),className:"w-3.5 h-3.5"}),a.jsxs("span",{className:`font-medium text-sm w-5 ${kS===q?"text-green-600":""}`,children:[q+1,"."]}),a.jsx(nt,{placeholder:`Option ${q+1}`,value:t2[q],onChange:Se=>{const Ue=[...t2];Ue[q]=Se.target.value,XP(Ue)},className:"flex-1 h-8 text-sm"})]},q))}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Bt,{value:AS,onValueChange:rie,children:[a.jsx(Ft,{className:"w-40 h-8 text-sm",children:a.jsx(Vt,{placeholder:"Category"})}),a.jsx(Lt,{children:ao.map(q=>a.jsx(Ke,{value:q.id,children:q.name},q.id))})]}),a.jsxs(ye,{onClick:uie,size:"sm",children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Add Question"]})]})]}),Mr==="group"&&a.jsxs("div",{className:"p-3 border rounded-lg bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:" Bulk Upload Questions"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload Excel (.xlsx) or Word (.docx) file"})]}),a.jsxs("div",{className:"text-xs bg-white dark:bg-gray-900 p-3 rounded border space-y-2",children:[a.jsx("p",{className:"font-medium",children:" Excel Format (8 columns):"}),a.jsx("p",{className:"text-muted-foreground pl-2",children:"Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4) | Explanation | Difficulty (easy/medium/hard)"}),a.jsx("p",{className:"font-medium mt-2",children:" Word Format:"}),a.jsx("div",{className:"text-muted-foreground pl-2 whitespace-pre-line",children:`1. Question text here
1) Option 1
2) Option 2
3) Option 3
4) Option 4
Ans: 1
Exp:  (optional)
Diff: medium (optional)`})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls,.docx",onChange:hie,className:"text-xs file:mr-2 file:py-1.5 file:px-3 file:rounded file:border-0 file:text-xs file:bg-blue-500 file:text-white hover:file:bg-blue-600"}),Pc&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",Pc.name]})]}),ll&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(_r,{className:"h-5 w-5 animate-spin mx-auto text-blue-500"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Parsing file..."})]}),Ux&&a.jsxs("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-xs",children:[" ",Ux]}),Na.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:[" ",Na.length," questions parsed"]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{Xs(null),hi([])},className:"h-6 text-xs",children:"Clear"})]}),a.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-2 bg-white dark:bg-gray-900",children:[Na.slice(0,5).map((q,Se)=>a.jsxs("div",{className:"text-xs border-b pb-2 last:border-0",children:[a.jsxs("p",{className:"font-medium truncate",children:[Se+1,". ",q.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:q.options.map((Ue,$e)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${$e===q.correctIndex?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[$e+1,". ",Ue.slice(0,15),Ue.length>15?"...":""]},$e))})]},Se)),Na.length>5&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",Na.length-5," more questions..."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Bt,{value:pi,onValueChange:ys,children:[a.jsx(Ft,{className:"w-40 h-8 text-xs",children:a.jsx(Vt,{placeholder:"Select Category"})}),a.jsx(Lt,{children:ao.map(q=>a.jsx(Ke,{value:q.id,children:q.name},q.id))})]}),a.jsxs(ye,{onClick:pie,disabled:!pi||ll,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(lc,{className:"h-4 w-4 mr-1"}),"Save All (",Na.length,")"]})]})]}),ao.length===0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 text-center",children:" Add a category first before uploading"})]}),Mr==="instant"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xc,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"font-medium",children:"Content Library"})]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[Hx.length," acks available"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:Yd||"",onChange:q=>{Zb(q.target.value||null),Gx(null)},children:[a.jsx("option",{value:"",children:"All Subjects"}),$x.map(q=>a.jsxs("option",{value:q.id,children:[q.icon," ",q.name]},q.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:Wh||"",onChange:q=>Gx(q.target.value||null),disabled:!Yd,children:[a.jsx("option",{value:"",children:"All Topics"}),Yd&&X(Yd).map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:Zd,onChange:q=>Jb(q.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"free",children:" Free Only"}),a.jsx("option",{value:"paid",children:" Paid Only"})]})]}),a.jsx("div",{className:"grid gap-2 max-h-[350px] overflow-y-auto",children:(()=>{let q=Hx;return Yd&&(q=Be(Yd)),Wh&&(q=at(Wh)),Zd!=="all"&&(q=q.filter(Se=>Se.pricing===Zd)),q.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(z0,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No content packs found"}),a.jsx("p",{className:"text-xs mt-1",children:"Try changing your filters"})]}):q.map(Se=>{const Ue=$x.find(ct=>ct.id===Se.subjectId),$e=bS.find(ct=>ct.id===Se.topicId),ze=n?yr(Se.id,n.id):!1;return a.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all hover:shadow-md ${(Nn==null?void 0:Nn.id)===Se.id?"border-primary bg-primary/5":"hover:border-primary/50"} ${ze?"opacity-60":""}`,onClick:()=>Vh(Se),children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:Se.contentType==="mcq"?"":Se.contentType==="notes"?"":""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:Se.title}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ue==null?void 0:Ue.icon," ",Ue==null?void 0:Ue.name,"  ",$e==null?void 0:$e.name]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:Se.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-[10px]",children:[Se.mcqCount>0&&a.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded",children:[Se.mcqCount," MCQs"]}),Se.notesCount>0&&a.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded",children:[Se.notesCount," Notes"]}),a.jsxs("span",{className:"text-muted-foreground",children:[" ",Se.downloadCount]}),ze&&a.jsx("span",{className:"text-green-600 font-medium",children:" Downloaded"})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:Se.pricing==="free"?a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:"FREE"}):a.jsxs("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded",children:["",Se.price]})})]})},Se.id)})})()}),Nn&&a.jsxs("div",{className:"p-4 border-2 border-primary rounded-lg bg-primary/5 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:Nn.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Nn.mcqCount>0&&`${Nn.mcqCount} MCQs`,Nn.mcqCount>0&&Nn.notesCount>0&&"  ",Nn.notesCount>0&&`${Nn.notesCount} Notes`]})]}),a.jsx("button",{onClick:()=>Vh(null),className:"text-muted-foreground hover:text-foreground",children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"bg-background rounded-md p-2 max-h-[120px] overflow-y-auto",children:[a.jsx("p",{className:"text-[10px] font-medium text-muted-foreground mb-1",children:"Preview:"}),Nn.mcqCount>0&&a.jsxs("div",{className:"space-y-1",children:[mt(Nn.id).slice(0,3).map((q,Se)=>a.jsxs("p",{className:"text-xs truncate",children:[Se+1,". ",q.question]},q.id)),Nn.mcqCount>3&&a.jsxs("p",{className:"text-[10px] text-muted-foreground italic",children:["+",Nn.mcqCount-3," more questions..."]})]}),Nn.notesCount>0&&a.jsx("div",{className:"space-y-1 mt-2",children:dt(Nn.id).slice(0,2).map(q=>a.jsxs("p",{className:"text-xs truncate",children:[" ",q.title]},q.id))})]}),Nn.mcqCount>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs font-medium flex-1",children:"MCQs Download to:"}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background flex-1",value:Gd,onChange:q=>Bx(q.target.value),children:[a.jsx("option",{value:"new",children:"New Category"}),a.jsx("option",{value:"merge",children:"Existing Category"})]})]}),Gd==="new"?a.jsx(nt,{placeholder:"New category name...",value:Qd,onChange:q=>Km(q.target.value),className:"h-8 text-sm"}):a.jsxs("select",{className:"w-full text-xs px-2 py-1.5 border rounded bg-background",value:Xt,onChange:q=>$r(q.target.value),children:[a.jsx("option",{value:"",children:"Select category..."}),ao.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]})]}),a.jsx(ye,{className:"w-full",disabled:(n?yr(Nn.id,n.id):!0)||Nn.mcqCount>0&&Gd==="new"&&!Qd.trim()||Nn.mcqCount>0&&Gd==="merge"&&!Xt,onClick:()=>{if(!s||!n)return;if(Nn.mcqCount>0){const $e=mt(Nn.id);let ze=Xt;if(Gd==="new"){const ct=`cat_${Date.now()}`;E({id:ct,groupId:s,name:Qd.trim(),createdAt:Date.now()}),ze=ct}$e.forEach(ct=>{C({id:`mcq_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,groupId:s,categoryId:ze,question:ct.question,options:ct.options,correctIndex:ct.correctIndex,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now()})})}if(Nn.notesCount>0){const $e=dt(Nn.id),ze=`topic_${Date.now()}`;m({id:ze,groupId:s,name:Nn.title,order:zl.length,createdAt:Date.now()}),$e.forEach((ct,wt)=>{k({id:`content_${Date.now()}_${wt}`,topicId:ze,subTopicId:"",groupId:s,type:"note",title:ct.title,content:ct.content,source:"library",order:wt,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),updatedAt:Date.now()})})}jt({id:`dl_${Date.now()}`,userId:n.id,packId:Nn.id,packTitle:Nn.title,subjectId:Nn.subjectId,topicId:Nn.topicId,pricing:Nn.pricing,downloadedAt:Date.now()});const q=Nn.mcqCount>0?`${Nn.mcqCount} MCQs`:"",Se=Nn.notesCount>0?`${Nn.notesCount} Notes`:"";alert(` ${q}${q&&Se?" and ":""}${Se} downloaded successfully!`),Vh(null),$r(""),Km(""),Bx("new")},children:n&&yr(Nn.id,n.id)?a.jsx(a.Fragment,{children:" Already Downloaded"}):Nn.pricing==="paid"?a.jsxs(a.Fragment,{children:[" Buy for ",Nn.price]}):a.jsxs(a.Fragment,{children:[a.jsx(xc,{className:"h-4 w-4 mr-2"}),"Download Free"]})})]})]}),Mr==="single"&&ao.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add a category first to start adding questions."}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:ao.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No categories yet. Add a category first."}):ao.map(q=>{const Se=F(q.id),Ue=CS.includes(q.id);return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-muted/50 cursor-pointer hover:bg-muted",onClick:()=>mie(q.id),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[Ue?a.jsx(Ba,{className:"h-4 w-4"}):a.jsx(Va,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium text-sm",children:q.name}),a.jsx("span",{className:"text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded-full",children:Se.length})]}),a.jsx(ye,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 h-6 w-6 p-0",onClick:$e=>{$e.stopPropagation(),confirm(`Delete category "${q.name}" and all its questions?`)&&D(q.id)},children:a.jsx(kr,{className:"h-3.5 w-3.5"})})]}),Ue&&a.jsx("div",{className:"divide-y max-h-[200px] overflow-y-auto",children:Se.length===0?a.jsx("p",{className:"text-xs text-muted-foreground p-2.5",children:"No questions"}):Se.map(($e,ze)=>a.jsx("div",{className:"p-2.5 hover:bg-muted/30",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium truncate",children:[ze+1,". ",$e.question,$e.assetRef&&a.jsx("span",{className:"ml-1 text-green-500",title:"Synced with Library",children:""})]}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-0.5 text-[10px] text-muted-foreground",children:$e.options.map((ct,wt)=>a.jsxs("span",{className:`truncate ${wt===$e.correctIndex?"text-green-600 font-medium":""}`,children:[wt+1,". ",ct," ",wt===$e.correctIndex&&""]},wt))})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>_ie($e),className:"text-blue-500 hover:text-blue-700",title:"Edit MCQ",children:a.jsx(fo,{className:"h-3.5 w-3.5"})}),a.jsx("button",{onClick:()=>{confirm("Delete this question?")&&j($e.id)},className:"text-red-500 hover:text-red-700",title:"Delete MCQ",children:a.jsx(kr,{className:"h-3.5 w-3.5"})})]})]})},$e.id))})]},q.id)})})]})]}),a.jsxs(ut,{className:"border-2 border-orange-200 dark:border-orange-800",children:[a.jsx(Wn,{className:"pb-3",children:a.jsxs(Jn,{className:"flex items-center gap-2 text-base",children:[a.jsx(Qi,{className:"h-5 w-5 text-orange-500"}),"Group Configuration"]})}),a.jsxs(Ht,{className:"pt-0 space-y-4",children:[a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Group Name"}),a.jsx(nt,{value:(gt==null?void 0:gt.name)||"",onChange:q=>gt&&u({...gt,name:q.target.value}),className:"h-9"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),a.jsx(nt,{value:(gt==null?void 0:gt.description)||"",onChange:q=>gt&&u({...gt,description:q.target.value}),className:"h-9",placeholder:"Optional"})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ye,{onClick:Nie,size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(lc,{className:"h-4 w-4 mr-1.5"}),"Sync to Cloud"]}),a.jsxs(ye,{variant:"outline",size:"sm",className:"text-purple-600 border-purple-300 hover:bg-purple-50 dark:hover:bg-purple-950",onClick:()=>{if(confirm("This will clear all local data and re-download from cloud. Continue?")){const q=sa.getState();sa.setState({topics:q.topics.filter(Se=>Se.groupId!==s),contentItems:q.contentItems.filter(Se=>Se.groupId!==s),groupMCQs:q.groupMCQs.filter(Se=>Se.groupId!==s),questionCategories:q.questionCategories.filter(Se=>Se.groupId!==s)}),iie(s),alert("Data cleared and re-syncing from cloud!")}},children:[a.jsx(_r,{className:"h-4 w-4 mr-1.5"}),"Resync Data"]})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Sync uploads content to cloud  Resync fixes duplicate content issues"})]}),a.jsxs("div",{className:"pt-3 border-t",children:[a.jsxs(ye,{variant:"outline",size:"sm",className:"text-red-500 border-red-300 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>RS("group",gt.id,gt.name),children:[a.jsx($u,{className:"h-4 w-4 mr-1.5"}),"Delete Group"]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1.5",children:"Requires 50% member approval"})]})]})]})]})]})]})]}):a.jsxs(ut,{className:"p-8 sm:p-12 text-center",children:[a.jsx(qa,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:r.length===0?"No Groups Yet":"Select a Group"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:r.length===0?"Create a new group or join an existing one!":"Choose a group from the dropdown above"})]}),Fe&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(ut,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl mx-0 sm:mx-4",children:[a.jsx(Wn,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Jn,{className:"text-lg",children:"Create New Group"}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:hidden",onClick:()=>je(!1),children:a.jsx(dn,{className:"h-4 w-4"})})]})}),a.jsxs(Ht,{className:"space-y-3 pb-6",children:[a.jsx(nt,{className:"h-10",placeholder:"Group Name",value:qn,onChange:q=>nr(q.target.value)}),a.jsx(nt,{className:"h-10",placeholder:"Description (optional)",value:Cn,onChange:q=>Pn(q.target.value)}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ye,{variant:"outline",className:"flex-1 h-10",onClick:()=>je(!1),children:"Cancel"}),a.jsx(ye,{className:"flex-1 h-10",onClick:gie,children:"Create"})]})]})]})}),Ge&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(ut,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl mx-0 sm:mx-4",children:[a.jsx(Wn,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Jn,{className:"text-lg",children:"Join Group"}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:hidden",onClick:()=>Je(!1),children:a.jsx(dn,{className:"h-4 w-4"})})]})}),a.jsxs(Ht,{className:"space-y-3 pb-6",children:[a.jsx(nt,{className:"h-12 text-center text-xl tracking-widest font-mono uppercase",placeholder:"Enter Code",value:Wt,onChange:q=>rr(q.target.value.toUpperCase()),maxLength:6}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Enter the 6-character group code"}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ye,{variant:"outline",className:"flex-1 h-10",onClick:()=>Je(!1),children:"Cancel"}),a.jsx(ye,{className:"flex-1 h-10",onClick:xie,children:"Join"})]})]})]})}),kn&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(ut,{className:"w-full sm:max-w-2xl h-[95vh] sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col rounded-t-2xl sm:rounded-xl",children:[a.jsxs(Wn,{className:"flex-row items-center justify-between py-3 px-4",children:[a.jsxs(Jn,{className:"text-base sm:text-lg truncate pr-2",children:["Edit: ",kn.title]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ye,{variant:Du?"default":"outline",size:"sm",onClick:()=>e2(!Du),className:"h-8",children:[a.jsx(hM,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Source"})]}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:hidden",onClick:()=>{bn(null),e2(!1)},children:a.jsx(dn,{className:"h-4 w-4"})})]})]}),a.jsx(Ht,{className:"flex-1 overflow-y-auto space-y-4",children:Du?a.jsxs("div",{children:[a.jsx(lr,{placeholder:"Enter HTML code here...",value:kn.content,onChange:q=>bn({...kn,content:q.target.value}),className:"font-mono text-sm min-h-[350px]"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" You can add HTML, iFrame, embed codes for games, videos etc."})]}):a.jsx("div",{className:"border rounded-md overflow-hidden",children:a.jsx(gh,{theme:"snow",value:kn.content,onChange:q=>bn({...kn,content:q}),modules:eO,style:{height:"300px"}})})}),a.jsxs("div",{className:"p-4 border-t flex gap-2 justify-end mt-12",children:[a.jsx(ye,{variant:"outline",onClick:()=>{bn(null),e2(!1)},children:"Cancel"}),a.jsx(ye,{onClick:async()=>{const q={...kn,updatedAt:Date.now()};_(q);try{await bt(Ye(Le,"contentItems",q.id),q)}catch(Se){console.error("Error updating content in Firestore:",Se),alert(" Firestore  update   !")}bn(null),e2(!1)},children:"Save"})]})]})}),_n&&jn&&!ie&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:a.jsxs(ut,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h3",{className:"font-semibold text-lg",children:ve==="choose"?"Add Content":ve==="manual"?"Create new item":"Import from Library"}),a.jsxs("div",{className:"flex items-center gap-1",children:[ve!=="choose"&&a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>_e("choose"),children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{ir(!1),Kn(null),br(""),Ne("note"),_e("choose")},children:a.jsx(dn,{className:"h-4 w-4"})})]})]}),a.jsxs(Ht,{className:"p-4",children:[ve==="choose"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>_e("manual"),children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:a.jsx(rn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-lg",children:"Manually"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create new content from scratch"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>{ir(!1),_e("choose"),Kd(!0),Xm(jn)},children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:a.jsx(ss,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-lg",children:"Import from Library"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Import MCQs or Notes from your library"})]})]})]}),ve==="manual"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>Yx("heading"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(iK,{className:"h-4 w-4 text-purple-500"})," Heading"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define chapter section headings"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>Yx("note"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(Lr,{className:"h-4 w-4 text-blue-500"})," PDF / Images"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload PDF or image files"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>Yx("text"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(uK,{className:"h-4 w-4 text-orange-500"})," Text"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add custom text or iFrame and HTML"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>Yx("link"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(lK,{className:"h-4 w-4 text-cyan-500"})," Link (Video, Website etc.)"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add link which will be embedded in iFrame"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded hover:bg-primary/10 cursor-pointer border border-transparent hover:border-primary/30 transition-colors",onClick:()=>Yx("quiz"),children:[a.jsx("div",{className:"mt-0.5 w-4 h-4 rounded-full border-2 border-primary"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(ru,{className:"h-4 w-4 text-green-500"})," Quiz"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Learners can attempt any time & get results"})]})]})]})]})]})}),ie&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:a.jsxs(ut,{className:"w-full max-w-lg",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsxs("h3",{className:"font-semibold text-lg",children:[ce==="heading"&&"New heading",ce==="text"&&"New text content",ce==="link"&&"New link",ce==="quiz"&&"New quiz",ce==="note"&&"New PDF / Notes"]}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>me(!1),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs(Ht,{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:[ce==="heading"?"Heading name":"Title"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(nt,{placeholder:ce==="heading"?"New heading":"Title",value:De,onChange:q=>se(q.target.value),autoFocus:!0})]}),ce==="link"&&a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:["URL ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(nt,{placeholder:"https://...",value:ue,onChange:q=>de(q.target.value)})]}),ce==="text"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsxs(ye,{variant:Oo?"default":"outline",size:"sm",onClick:()=>zh(!Oo),className:"h-7 text-xs",children:[a.jsx(hM,{className:"h-3 w-3 mr-1"})," Source"]})]}),Oo?a.jsx(lr,{placeholder:"Enter HTML code here...",value:Te,onChange:q=>Ee(q.target.value),className:"font-mono text-sm min-h-[250px]"}):a.jsx("div",{className:"border rounded-md overflow-hidden",children:a.jsx(gh,{theme:"snow",value:Te,onChange:Ee,modules:eO,style:{height:"200px"}})}),Oo&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" You can add HTML, iFrame, embed codes for games, videos etc."})]}),ce==="note"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Upload PDF or Images ",a.jsx("span",{className:"text-muted-foreground text-xs",children:"(Max 10 files, 10MB each)"})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center hover:border-primary/50 transition-colors",children:[a.jsx("input",{type:"file",multiple:!0,accept:".pdf,image/*",onChange:yie,className:"hidden",id:"file-upload"}),a.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[a.jsx(lc,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload PDF or Images"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, PNG, JPG, GIF up to 10MB"})]})]}),Qe.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("p",{className:"text-sm font-medium",children:[Qe.length," file(s) selected:"]}),Qe.map((q,Se)=>a.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded p-2 text-sm",children:[a.jsxs("span",{className:"truncate flex-1",children:[q.type==="application/pdf"?"":""," ",q.name]}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>vie(Se),children:a.jsx(dn,{className:"h-4 w-4"})})]},Se))]}),Tt&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Uploading..."}),a.jsxs("span",{children:[pt,"%"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${pt}%`}})})]})]})}),ce==="quiz"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:["Time Limit (in minutes) ",a.jsx("span",{className:"text-muted-foreground text-xs",children:"Keep blank for no time limit"})]}),a.jsx(nt,{type:"number",placeholder:"Time Limit (in minutes)",value:Re,onChange:q=>We(q.target.value)})]}),a.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Questions from Bank"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[$h.length," selected"]})]}),ao.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No questions in Question Bank. Add questions from Settings  Question Bank first."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(ye,{type:"button",size:"sm",variant:n2==="manual"?"default":"outline",onClick:()=>DS("manual"),children:"Manual Select"}),a.jsx(ye,{type:"button",size:"sm",variant:n2==="auto"?"default":"outline",onClick:()=>DS("auto"),children:"Auto Random"})]}),n2==="auto"?a.jsxs("div",{className:"space-y-3 p-3 bg-background rounded border",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Select Category"}),a.jsxs("select",{className:"w-full border rounded p-2 text-sm bg-background",value:ju,onChange:q=>JP(q.target.value),children:[a.jsx("option",{value:"",children:"-- Select Category --"}),a.jsx("option",{value:"all",children:"All Categories"}),ao.map(q=>{const Se=p.filter(Ue=>Ue.groupId===(gt==null?void 0:gt.id)&&Ue.categoryId===q.id).length;return a.jsxs("option",{value:q.id,children:[q.name," (",Se," questions)"]},q.id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Number of Questions"}),a.jsx(nt,{type:"number",placeholder:"Enter number of questions",value:Kx,onChange:q=>jS(q.target.value),min:"1"}),ju&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Available: ",ju==="all"?p.filter(q=>q.groupId===(gt==null?void 0:gt.id)).length:p.filter(q=>q.groupId===(gt==null?void 0:gt.id)&&q.categoryId===ju).length," questions"]})]}),a.jsxs(ye,{type:"button",size:"sm",className:"w-full",disabled:!ju||!Kx,onClick:()=>{const q=parseInt(Kx);if(!q||q<1)return;let Se;ju==="all"?Se=p.filter(ze=>ze.groupId===(gt==null?void 0:gt.id)):Se=p.filter(ze=>ze.groupId===(gt==null?void 0:gt.id)&&ze.categoryId===ju);const Ue=[...Se].sort(()=>Math.random()-.5),$e=Ue.slice(0,Math.min(q,Ue.length));Hh($e.map(ze=>ze.id)),jS("")},children:[a.jsx(xM,{className:"h-4 w-4 mr-2"})," Generate Random Selection"]})]}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:ao.map(q=>{const Se=p.filter(Ue=>Ue.groupId===(gt==null?void 0:gt.id)&&Ue.categoryId===q.id);return Se.length===0?null:a.jsxs("div",{className:"border rounded bg-background",children:[a.jsxs("button",{type:"button",className:"w-full flex items-center justify-between p-2 hover:bg-muted/50",onClick:()=>{ZP(Ue=>Ue.includes(q.id)?Ue.filter($e=>$e!==q.id):[...Ue,q.id])},children:[a.jsx("span",{className:"font-medium text-sm",children:q.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[Se.length," questions"]}),CS.includes(q.id)?a.jsx(Ba,{className:"h-4 w-4"}):a.jsx(Va,{className:"h-4 w-4"})]})]}),CS.includes(q.id)&&a.jsxs("div",{className:"border-t p-2 space-y-1",children:[a.jsx("button",{type:"button",className:"text-xs text-primary hover:underline mb-2",onClick:()=>{const Ue=Se.map(ze=>ze.id),$e=Ue.every(ze=>$h.includes(ze));Hh($e?ze=>ze.filter(ct=>!Ue.includes(ct)):ze=>[...new Set([...ze,...Ue])])},children:Se.every(Ue=>$h.includes(Ue.id))?"Deselect All":"Select All"}),Se.map(Ue=>a.jsxs("label",{className:"flex items-start gap-2 p-1 hover:bg-muted/30 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:$h.includes(Ue.id),onChange:$e=>{$e.target.checked?Hh(ze=>[...ze,Ue.id]):Hh(ze=>ze.filter(ct=>ct!==Ue.id))},className:"mt-1"}),a.jsx("span",{className:"text-sm",children:Ue.question})]},Ue.id))]})]},q.id)})}),$h.length>0&&a.jsxs("button",{type:"button",className:"text-xs text-red-500 hover:underline mt-2",onClick:()=>Hh([]),children:["Clear Selection (",$h.length,")"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t mt-8",children:[a.jsx(ye,{variant:"outline",onClick:()=>me(!1),disabled:Tt,children:"Cancel"}),a.jsx(ye,{onClick:wie,disabled:Tt,children:Tt?"Uploading...":"Submit"})]})]})}),sn&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50",children:a.jsxs(ut,{className:"w-full sm:max-w-4xl h-[95vh] sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col rounded-t-2xl sm:rounded-xl sm:mx-4",children:[a.jsxs(Wn,{className:"flex flex-row items-center justify-between border-b py-3 px-4",children:[a.jsxs(Jn,{className:"flex items-center gap-2 text-base sm:text-lg truncate",children:[a.jsx(Lr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500 shrink-0"}),a.jsx("span",{className:"truncate",children:sn.title})]}),a.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 shrink-0",onClick:()=>Qn(null),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsx(Ht,{className:"overflow-y-auto p-4 sm:p-6 flex-1",children:sn.type==="note"&&sn.content?a.jsx("div",{className:`prose prose-sm dark:prose-invert max-w-none
                    prose-headings:text-foreground 
                    prose-p:text-foreground 
                    prose-strong:text-foreground 
                    prose-li:text-foreground
                    prose-a:text-primary
                    [&_h1]:text-2xl [&_h1]:font-bold [&_h1]:mb-4
                    [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:mb-3
                    [&_h3]:text-lg [&_h3]:font-medium [&_h3]:mb-2
                    [&_p]:mb-3 [&_p]:leading-relaxed
                    [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:mb-3
                    [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:mb-3
                    [&_li]:mb-1
                    [&_blockquote]:border-l-4 [&_blockquote]:border-primary [&_blockquote]:pl-4 [&_blockquote]:italic
                    [&_code]:bg-muted [&_code]:px-1 [&_code]:rounded
                    [&_pre]:bg-muted [&_pre]:p-4 [&_pre]:rounded-lg [&_pre]:overflow-x-auto
                    [&_table]:w-full [&_table]:border-collapse
                    [&_th]:border [&_th]:border-border [&_th]:p-2 [&_th]:bg-muted
                    [&_td]:border [&_td]:border-border [&_td]:p-2`,dangerouslySetInnerHTML:{__html:kqe(sn.content,{source:sn.source,isAdmin:sn.source==="library"})}}):a.jsx("p",{className:"text-muted-foreground",children:"No content available"})}),a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-between gap-2 p-3 sm:p-4 border-t",children:[a.jsx(Jre,{groupId:sn.groupId,contentId:sn.id,contentType:"note",contentTitle:sn.title,creatorId:sn.createdBy,creatorName:sn.createdByName}),a.jsxs("div",{className:"flex gap-2",children:[(so||sn.createdBy===(n==null?void 0:n.id))&&a.jsxs(ye,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none h-9",onClick:()=>{bn(sn),zr(sn.content||""),Qn(null)},children:[a.jsx(fo,{className:"h-4 w-4 sm:mr-1"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),a.jsx(ye,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none h-9",onClick:()=>Qn(null),children:"Close"})]})]})]})}),tie&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50",children:a.jsxs(ut,{className:"w-full sm:max-w-lg h-[85vh] sm:h-auto sm:max-h-[80vh] overflow-hidden flex flex-col rounded-t-2xl sm:rounded-xl",children:[a.jsxs(Wn,{className:"flex flex-row items-center justify-between py-3 px-4",children:[a.jsxs(Jn,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx($u,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-500"}),"Delete Requests"]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>_S(!1),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsx(Ht,{className:"overflow-y-auto",children:Xx.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No pending delete requests"}):a.jsx("div",{className:"space-y-4",children:Xx.map(q=>{const{canResolve:Se,approved:Ue}=lie(q),$e=q.approvedBy.includes((n==null?void 0:n.id)||"")||q.rejectedBy.includes((n==null?void 0:n.id)||""),ze=(gt==null?void 0:gt.members.length)||1,ct=Math.ceil(ze*.5);return a.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${q.targetType==="group"?"border-red-300 bg-red-50/30":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:q.targetName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:q.targetType==="group"?" Entire Group":q.targetType==="topic"?"Chapter":"Content Item"})]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${q.requesterRole==="admin"?"bg-primary/20 text-primary":"bg-muted"}`,children:q.requesterRole})]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{children:["Requested by: ",a.jsx("span",{className:"font-medium",children:q.requesterName})]}),a.jsx("p",{className:"text-muted-foreground text-xs",children:new Date(q.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"bg-muted/50 rounded p-2 text-sm",children:q.requesterRole==="admin"?a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"Admin request: Needs 50% member approval"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Approved: ",q.approvedBy.length,"/",ct," required"]})]}):a.jsx("p",{children:"Member request: Needs Admin approval"})}),!$e&&n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{size:"sm",variant:"outline",className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",onClick:()=>M(q.id,n.id,!0),children:[a.jsx(mo,{className:"h-4 w-4 mr-1"})," Approve"]}),a.jsxs(ye,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-600 hover:bg-red-50",onClick:()=>M(q.id,n.id,!1),children:[a.jsx(od,{className:"h-4 w-4 mr-1"})," Reject"]})]}),$e&&a.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"You have voted on this request"}),Se&&Ue&&so&&a.jsxs(ye,{size:"sm",variant:"destructive",className:"w-full",onClick:()=>{cie(q),Xx.length<=1&&_S(!1)},children:[a.jsx(kr,{className:"h-4 w-4 mr-1"})," Execute Delete"]}),Se&&!Ue&&a.jsx(ye,{size:"sm",variant:"outline",className:"w-full",onClick:()=>U(q.id,!1),children:"Mark as Rejected"})]},q.id)})})})]})}),nie&&HP&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50",children:a.jsxs(ut,{className:"w-full sm:max-w-md rounded-t-2xl sm:rounded-xl",children:[a.jsx(Wn,{className:"py-3 px-4",children:a.jsxs(Jn,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Bg,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Assign Members"]})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select members who can edit this chapter:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:gt==null?void 0:gt.members.map(q=>a.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:GP.includes(q.userId),onChange:Se=>{Se.target.checked?Qx(Ue=>[...Ue,q.userId]):Qx(Ue=>Ue.filter($e=>$e!==q.userId))},className:"w-4 h-4 rounded"}),a.jsx(Mf,{className:"h-8 w-8",children:a.jsx(Uf,{className:"bg-primary/10 text-primary",children:q.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:q.name}),a.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:q.role})]}),q.role==="admin"&&a.jsx(Hy,{className:"h-4 w-4 text-yellow-500 ml-auto"})]},q.userId))}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(ye,{variant:"outline",onClick:()=>{TS(!1),ES(null),Qx([])},children:"Cancel"}),a.jsx(ye,{onClick:()=>{const q=d.find(Se=>Se.id===HP);q&&v({...q,assignedMembers:GP}),TS(!1),ES(null),Qx([])},children:"Save"})]})]})]})}),Vx&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(ut,{className:"w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsx(Wn,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Jn,{className:"flex items-center gap-2",children:[a.jsx(ss,{className:"h-5 w-5 text-purple-600"}),"Import from Library"]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{Kd(!1),Fc([]),Xm(null)},children:a.jsx(dn,{className:"h-4 w-4"})})]})}),a.jsxs(Ht,{className:"flex-1 overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-1 p-1 bg-muted rounded",children:[a.jsx("button",{onClick:()=>Xd("all"),className:`px-2 py-1 rounded text-xs ${Oc==="all"?"bg-background shadow":""}`,children:"All"}),a.jsx("button",{onClick:()=>Xd("mcq"),className:`px-2 py-1 rounded text-xs ${Oc==="mcq"?"bg-background shadow":""}`,children:"MCQs"}),a.jsx("button",{onClick:()=>Xd("note"),className:`px-2 py-1 rounded text-xs ${Oc==="note"?"bg-background shadow":""}`,children:"Notes"}),a.jsx("button",{onClick:()=>Xd("url"),className:`px-2 py-1 rounded text-xs ${Oc==="url"?"bg-background shadow":""}`,children:"Links"}),a.jsx("button",{onClick:()=>Xd("pdf"),className:`px-2 py-1 rounded text-xs ${Oc==="pdf"?"bg-background shadow":""}`,children:"PDFs"}),a.jsx("button",{onClick:()=>Xd("video"),className:`px-2 py-1 rounded text-xs ${Oc==="video"?"bg-background shadow":""}`,children:"Videos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Bt,{value:qh||"all",onValueChange:q=>yS(q==="all"?null:q),children:[a.jsx(Ft,{className:"flex-1 h-9",children:a.jsx(Vt,{placeholder:"All Subjects"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Subjects"}),qx.map(q=>a.jsx(Ke,{value:q.id,children:q.name},q.id))]})]}),qh&&a.jsxs(Bt,{value:Wx||"all",onValueChange:q=>zx(q==="all"?null:q),children:[a.jsx(Ft,{className:"flex-1 h-9",children:a.jsx(Vt,{placeholder:"All Topics"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Topics"}),Yb(qh).map(q=>a.jsx(Ke,{value:q.id,children:q.name},q.id))]})]})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:Lc.length===0?a.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No assets in your library yet.",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Go to Library tab to add content!"})]}):Lc.filter(q=>!(Oc!=="all"&&q.type!==Oc||qh&&q.subjectId!==qh||Wx&&q.topicId!==Wx)).map(q=>{var Se,Ue,$e;return a.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-muted/50 ${Po.includes(q.id)?"border-primary bg-primary/5":""}`,children:[a.jsx("input",{type:"checkbox",checked:Po.includes(q.id),onChange:ze=>{ze.target.checked?Fc([...Po,q.id]):Fc(Po.filter(ct=>ct!==q.id))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${q.type==="mcq"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":q.type==="note"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":q.type==="url"?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":q.type==="pdf"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":q.type==="video"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}`,children:q.type.toUpperCase()}),a.jsx("span",{className:"text-xs text-muted-foreground",children:(Se=qx.find(ze=>ze.id===q.subjectId))==null?void 0:Se.name})]}),a.jsx("p",{className:"text-sm mt-1 truncate",children:q.type==="mcq"?((Ue=q.question)==null?void 0:Ue.substring(0,80))+((($e=q.question)==null?void 0:$e.length)>80?"...":""):q.title})]})]},q.id)})}),Po.length>0&&a.jsxs("p",{className:"text-sm text-primary font-medium",children:[" ",Po.length," item(s) selected"]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[a.jsx(ye,{variant:"outline",onClick:()=>{Kd(!1),Fc([]),Xm(null)},children:"Cancel"}),a.jsxs(ye,{disabled:Po.length===0,onClick:async()=>{var q;if(!(!Ji||!s||!n)){for(const Se of Po){const Ue=Lc.find($e=>$e.id===Se);if(Ue){if(Ue.type==="mcq"){const $e={id:an(),groupId:s,categoryId:((q=y[0])==null?void 0:q.id)||"",subTopicId:Ji,question:Ue.question,options:Ue.options,correctIndex:Ue.correctIndex,explanation:Ue.explanation,difficulty:Ue.difficulty,createdBy:n.id,createdByName:n.displayName,createdAt:Date.now()};C($e),await bt(Ye(Le,"mcqs",$e.id),$e)}else if(Ue.type==="note"){const $e={id:an(),subTopicId:Ji,topicId:Ji,groupId:s,type:"note",title:Ue.title,content:Ue.content,source:"library",createdBy:n.id,createdByName:n.displayName,createdAt:Date.now(),updatedAt:Date.now()};k($e),await bt(Ye(Le,"content-items",$e.id),$e)}}}alert(` ${Po.length} item(s) imported successfully!`),Kd(!1),Fc([]),Xm(null)}},children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Import (",Po.length,")"]})]})]})]})}),Ce&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>vt(null),children:a.jsxs(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-background rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto p-4",onClick:q=>q.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(fo,{className:"h-4 w-4"})," Edit MCQ",Ce.assetRef&&a.jsx("span",{className:"text-xs text-green-500",children:"( Library Synced)"})]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>vt(null),children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Question"}),a.jsx(lr,{value:un,onChange:q=>zt(q.target.value),placeholder:"Enter question...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options"}),In.map((q,Se)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"editCorrect",checked:Gs===Se,onChange:()=>fr(Se),className:"h-4 w-4"}),a.jsx(nt,{value:q,onChange:Ue=>{const $e=[...In];$e[Se]=Ue.target.value,On($e)},placeholder:`Option ${Se+1}`})]},Se))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Explanation (Optional)"}),a.jsx(lr,{value:Io,onChange:q=>Ro(q.target.value),placeholder:"Explain the correct answer...",rows:2})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(ye,{variant:"outline",onClick:()=>vt(null),children:"Cancel"}),a.jsxs(ye,{onClick:Tie,disabled:!un.trim()||In.some(q=>!q.trim()),children:[a.jsx(_r,{className:"h-4 w-4 mr-1"})," Save ",Ce.assetRef&&"& Sync"]})]})]})]})})]})}function Zqe({onClose:e,existingProfile:t}){var te,oe,ae,fe,Ae,Me,Ve,ot;const{user:n}=_i(),{addTeacher:r,updateTeacher:i}=Sc(),[s,o]=S.useState((t==null?void 0:t.displayName)||(n==null?void 0:n.displayName)||""),[l,c]=S.useState((t==null?void 0:t.bio)||""),[u,d]=S.useState((t==null?void 0:t.photoURL)||(n==null?void 0:n.photoURL)||""),[f,h]=S.useState((t==null?void 0:t.phone)||""),[p,y]=S.useState((t==null?void 0:t.website)||""),[m,x]=S.useState((t==null?void 0:t.offlineAddress)||""),[v,g]=S.useState((t==null?void 0:t.qualifications)||[]),[b,w]=S.useState(""),[T,k]=S.useState((t==null?void 0:t.certificates)||[]),[_,N]=S.useState({name:"",institution:"",year:"",documentURL:""}),[C,I]=S.useState((t==null?void 0:t.subjects)||[]),[j,E]=S.useState(""),[D,R]=S.useState(((te=t==null?void 0:t.experience)==null?void 0:te.toString())||""),M=(t==null?void 0:t.gsJoinedAt)||(t==null?void 0:t.createdAt)||new Date,U=S.useMemo(()=>{const Fe=new Date(M),Ge=new Date().getTime()-Fe.getTime();return Math.floor(Ge/(1e3*60*60*24*30))},[M]),[z,G]=S.useState({youtube:((oe=t==null?void 0:t.socialLinks)==null?void 0:oe.youtube)||"",facebook:((ae=t==null?void 0:t.socialLinks)==null?void 0:ae.facebook)||"",twitter:((fe=t==null?void 0:t.socialLinks)==null?void 0:fe.twitter)||"",linkedin:((Ae=t==null?void 0:t.socialLinks)==null?void 0:Ae.linkedin)||"",instagram:((Me=t==null?void 0:t.socialLinks)==null?void 0:Me.instagram)||""}),[F,W]=S.useState((t==null?void 0:t.consultationEnabled)||!1),[O,P]=S.useState(((Ve=t==null?void 0:t.consultationRate)==null?void 0:Ve.toString())||""),[B,K]=S.useState(((ot=t==null?void 0:t.consultationDuration)==null?void 0:ot.toString())||"30"),[Q,L]=S.useState(!1),[ee,ge]=S.useState(""),[he,be]=S.useState("basic");S.useRef(null),S.useRef(null);const Oe=Fe=>{if(Fe<1)return"New";if(Fe<12)return`${Fe} month${Fe>1?"s":""}`;const je=Math.floor(Fe/12),Ge=Fe%12;return Ge===0?`${je} year${je>1?"s":""}`:`${je} year${je>1?"s":""} ${Ge} month${Ge>1?"s":""}`},Z=()=>{b.trim()&&(g([...v,b.trim()]),w(""))},Ie=Fe=>{g(v.filter((je,Ge)=>Ge!==Fe))},V=()=>{if(_.name.trim()){const Fe={id:`cert_${Date.now()}`,name:_.name.trim(),institution:_.institution.trim()||void 0,year:_.year.trim()||void 0,documentURL:_.documentURL.trim()||void 0,isVerified:!1};k([...T,Fe]),N({name:"",institution:"",year:"",documentURL:""})}},ke=Fe=>{k(T.filter(je=>je.id!==Fe))},xe=()=>{const Fe=prompt("Enter certificate document URL (image or PDF):");Fe&&N({..._,documentURL:Fe})},re=()=>{j.trim()&&!C.includes(j.trim())&&(I([...C,j.trim()]),E(""))},J=Fe=>{I(C.filter((je,Ge)=>Ge!==Fe))},pe=()=>{const Fe=prompt("Enter photo URL:");Fe&&d(Fe)},Y=async()=>{if(n){if(!s.trim()){ge("Display name is required");return}if(!l.trim()){ge("Bio is required");return}if(C.length===0){ge("Add at least one subject");return}L(!0),ge("");try{const Fe={userId:n.id,email:n.email||"",displayName:s.trim(),bio:l.trim(),photoURL:u||void 0,phone:f.trim()||void 0,website:p.trim()||void 0,offlineAddress:m.trim()||void 0,qualifications:v,certificates:T,subjects:C,experience:D?parseInt(D):void 0,gsExperience:U,gsJoinedAt:(t==null?void 0:t.gsJoinedAt)||(t==null?void 0:t.createdAt)||new Date,rating:(t==null?void 0:t.rating)||0,totalRatings:(t==null?void 0:t.totalRatings)||0,totalStudents:(t==null?void 0:t.totalStudents)||0,totalCourses:(t==null?void 0:t.totalCourses)||0,totalEarnings:(t==null?void 0:t.totalEarnings)||0,isVerified:(t==null?void 0:t.isVerified)||!1,verificationStatus:(t==null?void 0:t.verificationStatus)||(T.length>0?"pending":void 0),isActive:!0,socialLinks:Object.fromEntries(Object.entries(z).filter(([je,Ge])=>Ge.trim())),consultationEnabled:F,consultationRate:O?parseFloat(O):void 0,consultationDuration:B?parseInt(B):void 0};t?i(t.id,Fe):r({id:`teacher_${n.id}`,...Fe,createdAt:new Date,updatedAt:new Date}),e()}catch{ge("Failed to save profile. Please try again.")}finally{L(!1)}}},le=[{id:"basic",label:"Basic Info",icon:Cp},{id:"qualifications",label:"Qualification Certificate",icon:yu},{id:"consultation",label:"Consultation",icon:T1}];return a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(dn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 overflow-hidden border-2 border-white/40",children:u?a.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Cp,{className:"w-10 h-10 text-white/60"})})}),a.jsx("button",{onClick:pe,className:"absolute bottom-0 right-0 p-2 bg-white text-indigo-600 rounded-full shadow-lg hover:bg-gray-100 transition-colors",title:"Upload Photo",children:a.jsx(tK,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Teacher Profile":"Create Teacher Profile"}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Set up your profile to start teaching"}),t&&a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-white/20 rounded-full text-xs font-medium",children:[a.jsx(e0,{className:"w-3.5 h-3.5"}),"GS Experience: ",Oe(U)]}),t.isVerified&&a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-emerald-500/30 rounded-full text-xs font-medium",children:[a.jsx(E1,{className:"w-3 h-3"}),"Verified"]})]})]})]}),a.jsx("div",{className:"flex gap-2 mt-6 -mb-6 relative z-10",children:le.map(Fe=>a.jsxs("button",{onClick:()=>be(Fe.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-xl font-medium text-sm transition-all ${he===Fe.id?"bg-white dark:bg-gray-900 text-indigo-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[a.jsx(Fe.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:Fe.label})]},Fe.id))})]}),a.jsx($n,{children:ee&&a.jsxs(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-50 dark:bg-red-900/30 px-6 py-3 flex items-center gap-2 text-red-600 dark:text-red-400",children:[a.jsx(dx,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:ee})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:a.jsxs($n,{mode:"wait",children:[he==="basic"&&a.jsxs(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-5",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Profile Photo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden border-2 border-dashed border-gray-300 dark:border-gray-600",children:u?a.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(p5,{className:"w-8 h-8 text-gray-400"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(ye,{type:"button",variant:"outline",size:"sm",onClick:pe,className:"mb-2",children:[a.jsx(lc,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x400px, JPG or PNG"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:s,onChange:Fe=>o(Fe.target.value),placeholder:"Your full name",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio *"}),a.jsx(lr,{value:l,onChange:Fe=>c(Fe.target.value),placeholder:"Tell students about yourself, your teaching style, and experience...",rows:4,className:"resize-none"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length,"/500 characters"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(K2e,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:f,onChange:Fe=>h(Fe.target.value),placeholder:"+91 XXXXX XXXXX",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(zE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:p,onChange:Fe=>y(Fe.target.value),placeholder:"https://yourwebsite.com",className:"pl-10"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Offline Teaching Address (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(z2e,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx(lr,{value:m,onChange:Fe=>x(Fe.target.value),placeholder:"Enter your coaching center or offline teaching address...",rows:2,className:"pl-10 resize-none"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This helps students find you for offline classes"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Offline Teaching Experience (Years)"}),a.jsxs("div",{className:"relative",children:[a.jsx(L2e,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{type:"number",value:D,onChange:Fe=>R(Fe.target.value),placeholder:"e.g., 5",min:"0",max:"50",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GS Platform Experience"}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded-lg",children:[a.jsx(e0,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),a.jsx("span",{className:"text-indigo-700 dark:text-indigo-300 font-medium",children:t?Oe(U):"New Teacher"})]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated based on your GS journey"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Social Links (Optional)"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(z).map(([Fe,je])=>a.jsx(nt,{value:je,onChange:Ge=>G({...z,[Fe]:Ge.target.value}),placeholder:`${Fe.charAt(0).toUpperCase()+Fe.slice(1)} URL`,className:"text-sm"},Fe))})]})]},"basic"),he==="qualifications"&&a.jsxs(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subjects You Teach *"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:j,onChange:Fe=>E(Fe.target.value),placeholder:"e.g., Mathematics, Physics",className:"pl-10",onKeyDown:Fe=>Fe.key==="Enter"&&re()})]}),a.jsx(ye,{onClick:re,size:"sm",className:"px-4",children:a.jsx(rn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.map((Fe,je)=>a.jsxs(st.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-full text-sm",children:[Fe,a.jsx("button",{onClick:()=>J(je),className:"p-0.5 hover:bg-indigo-200 dark:hover:bg-indigo-800 rounded-full",children:a.jsx(dn,{className:"w-3 h-3"})})]},je)),C.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No subjects added yet"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Qualifications"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(q0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:b,onChange:Fe=>w(Fe.target.value),placeholder:"e.g., M.Sc. in Physics, B.Ed.",className:"pl-10",onKeyDown:Fe=>Fe.key==="Enter"&&Z()})]}),a.jsx(ye,{onClick:Z,size:"sm",className:"px-4",children:a.jsx(rn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[v.map((Fe,je)=>a.jsxs(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ua,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Fe})]}),a.jsx("button",{onClick:()=>Ie(je),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:a.jsx(kr,{className:"w-4 h-4"})})]},je)),v.length===0&&a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx(yu,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Add your qualifications to build trust"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Certificates for Verification"}),a.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(E1,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"Get Verified Badge"}),a.jsx("p",{className:"text-amber-600 dark:text-amber-400",children:"Upload your certificates to get verified by admin. Verified teachers get a badge that builds trust with students."})]})]})}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl mb-4 space-y-3",children:[a.jsx(nt,{value:_.name,onChange:Fe=>N({..._,name:Fe.target.value}),placeholder:"Certificate name (e.g., B.Ed. Certificate)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(nt,{value:_.institution,onChange:Fe=>N({..._,institution:Fe.target.value}),placeholder:"Institution (optional)"}),a.jsx(nt,{value:_.year,onChange:Fe=>N({..._,year:Fe.target.value}),placeholder:"Year (optional)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(nt,{value:_.documentURL,onChange:Fe=>N({..._,documentURL:Fe.target.value}),placeholder:"Document URL (link to certificate image/PDF)",className:"flex-1"}),a.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:xe,className:"px-3",children:a.jsx(lc,{className:"w-4 h-4"})})]}),a.jsxs(ye,{onClick:V,disabled:!_.name.trim(),className:"w-full",children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Certificate"]})]}),T.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:["Your Certificates (",T.length,")"]}),a.jsx("div",{className:"space-y-2",children:T.map(Fe=>a.jsxs(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mM,{className:"w-5 h-5 text-indigo-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Fe.name}),(Fe.institution||Fe.year)&&a.jsxs("p",{className:"text-xs text-gray-500",children:[Fe.institution,Fe.institution&&Fe.year?"  ":"",Fe.year]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[Fe.isVerified?a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[a.jsx(e0,{className:"w-3 h-3"}),"Verified"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-600 dark:text-amber-400",children:[a.jsx(er,{className:"w-3 h-3"}),"Pending Verification"]}),Fe.documentURL&&a.jsx("a",{href:Fe.documentURL,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:"View Document"})]})]})]}),a.jsx("button",{onClick:()=>ke(Fe.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:a.jsx(kr,{className:"w-4 h-4"})})]},Fe.id))})]}),T.length===0&&a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx(mM,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No certificates added yet"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add certificates above to get verified"})]})]})]},"qualifications"),he==="consultation"&&a.jsxs(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/30 dark:to-indigo-900/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:a.jsx(T1,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Enable 1-on-1 Consultation"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow students to book private sessions with you"})]})]}),a.jsx(Hi,{checked:F,onCheckedChange:W})]}),a.jsx($n,{children:F&&a.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate per Session ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(nt,{type:"number",value:O,onChange:Fe=>P(Fe.target.value),placeholder:"500",min:"0",className:"pl-8"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session Duration (minutes)"}),a.jsxs("div",{className:"relative",children:[a.jsx(er,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsxs("select",{value:B,onChange:Fe=>K(Fe.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"15",children:"15 minutes"}),a.jsx("option",{value:"30",children:"30 minutes"}),a.jsx("option",{value:"45",children:"45 minutes"}),a.jsx("option",{value:"60",children:"60 minutes"}),a.jsx("option",{value:"90",children:"90 minutes"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sl,{className:"w-5 h-5 text-indigo-500"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[B," min session"]})]}),a.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:["",O||"0"]})]})]})]})}),!F&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx($E,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsxs("p",{className:"text-sm",children:["Enable consultation to offer personal guidance",a.jsx("br",{}),"and earn extra income"]})]})]},"consultation")]})}),a.jsx("div",{className:"p-6 border-t dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:e,disabled:Q,children:"Cancel"}),a.jsx(ye,{onClick:Y,disabled:Q,className:"min-w-[120px]",children:Q?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ho,{className:"w-4 h-4"}),"Save Profile"]})})]})})]})})}const Jqe=["Science","Mathematics","Languages","Computer Science","Business","Arts","Music","Health & Fitness","Personal Development","Test Preparation","Competitive Exams","School Education","Other"],eWe=[{value:"beginner",label:"Beginner",description:"No prior knowledge needed"},{value:"intermediate",label:"Intermediate",description:"Some basics required"},{value:"advanced",label:"Advanced",description:"Strong foundation needed"},{value:"all",label:"All Levels",description:"Suitable for everyone"}];function tWe({onClose:e,existingCourse:t}){var Ve,ot,Fe;const{user:n}=_i(),{addCourse:r,updateCourse:i,teachers:s,teacherProfile:o}=Sc(),l=s.find(je=>je.userId===(n==null?void 0:n.id))??((o==null?void 0:o.userId)===(n==null?void 0:n.id)?o:void 0),[c,u]=S.useState("basic"),[d,f]=S.useState((t==null?void 0:t.title)||""),[h,p]=S.useState((t==null?void 0:t.subtitle)||""),[y,m]=S.useState((t==null?void 0:t.description)||""),[x,v]=S.useState((t==null?void 0:t.thumbnail)||""),[g,b]=S.useState((t==null?void 0:t.category)||""),[w,T]=S.useState((t==null?void 0:t.level)||"beginner"),[k,_]=S.useState((t==null?void 0:t.language)||"English"),[N,C]=S.useState((t==null?void 0:t.whatYouWillLearn)||[""]),[I,j]=S.useState((t==null?void 0:t.requirements)||[""]),[E,D]=S.useState((t==null?void 0:t.tags)||[]),[R,M]=S.useState(""),[U,z]=S.useState(((Ve=t==null?void 0:t.price)==null?void 0:Ve.toString())||""),[G,F]=S.useState(((ot=t==null?void 0:t.discountPrice)==null?void 0:ot.toString())||""),[W,O]=S.useState((t==null?void 0:t.currency)||"INR"),[P,B]=S.useState((t==null?void 0:t.isPublished)||!1),[K,Q]=S.useState((t==null?void 0:t.hasCertificate)||!1),[L,ee]=S.useState((t==null?void 0:t.hasPreview)!==!1),[ge,he]=S.useState(((Fe=t==null?void 0:t.estimatedDuration)==null?void 0:Fe.toString())||""),[be,Oe]=S.useState(!1),[Z,Ie]=S.useState(""),V=[{id:"basic",label:"Basic Info",icon:Br},{id:"content",label:"Content",icon:Lr},{id:"pricing",label:"Pricing",icon:Mw},{id:"settings",label:"Settings",icon:Fj}],ke=V.findIndex(je=>je.id===c),xe=()=>{C([...N,""])},re=(je,Ge)=>{const Je=[...N];Je[je]=Ge,C(Je)},J=je=>{C(N.filter((Ge,Je)=>Je!==je))},pe=()=>{j([...I,""])},Y=(je,Ge)=>{const Je=[...I];Je[je]=Ge,j(Je)},le=je=>{j(I.filter((Ge,Je)=>Je!==je))},te=()=>{R.trim()&&!E.includes(R.trim())&&(D([...E,R.trim()]),M(""))},oe=je=>{D(E.filter((Ge,Je)=>Je!==je))},ae=je=>{switch(je){case"basic":if(!d.trim())return Ie("Course title is required"),!1;if(!g)return Ie("Please select a category"),!1;break;case"content":break;case"pricing":if(!U||parseFloat(U)<0)return Ie("Please set a valid price"),!1;if(G&&parseFloat(G)>=parseFloat(U))return Ie("Discount price must be less than original price"),!1;break}return Ie(""),!0},fe=()=>{if(!ae(c))return;const je=ke+1;je<V.length&&u(V[je].id)},Ae=()=>{const je=ke-1;je>=0&&(u(V[je].id),Ie(""))},Me=async()=>{if(!n||!l){Ie("Teacher profile not found");return}for(const je of V)if(!ae(je.id)){u(je.id);return}Oe(!0),Ie("");try{const je={teacherId:l.id,teacherName:l.displayName,teacherPhoto:l.photoURL,title:d.trim(),subtitle:h.trim()||void 0,description:y.trim(),thumbnail:x.trim()||void 0,category:g,level:w,language:k,price:parseFloat(U),discountPrice:G?parseFloat(G):void 0,currency:W,isPublished:P,hasCertificate:K,hasPreview:L,whatYouWillLearn:N.filter(Ge=>Ge.trim()),requirements:I.filter(Ge=>Ge.trim()),tags:E,totalSections:(t==null?void 0:t.totalSections)||0,totalLessons:(t==null?void 0:t.totalLessons)||0,totalDuration:(t==null?void 0:t.totalDuration)||0,estimatedDuration:ge?parseInt(ge):void 0,rating:(t==null?void 0:t.rating)||0,totalReviews:(t==null?void 0:t.totalReviews)||0,totalStudents:(t==null?void 0:t.totalStudents)||0};t?i({...t,...je,updatedAt:new Date}):r({id:`course_${Date.now()}`,...je,createdAt:new Date,updatedAt:new Date}),e()}catch{Ie("Failed to save course. Please try again.")}finally{Oe(!1)}};return a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(dn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(yu,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Course":"Create New Course"}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Share your knowledge with students"})]})]}),a.jsx("div",{className:"flex items-center justify-between mt-6 -mb-6 relative z-10",children:V.map((je,Ge)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{Ge<=ke&&u(je.id)},className:`flex items-center gap-2 px-4 py-2 rounded-t-xl font-medium text-sm transition-all ${c===je.id?"bg-white dark:bg-gray-900 text-emerald-600":Ge<ke?"bg-emerald-500 text-white":"bg-white/20 text-white/70"}`,children:[Ge<ke?a.jsx(ua,{className:"w-4 h-4"}):a.jsx(je.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:je.label})]}),Ge<V.length-1&&a.jsx("div",{className:`flex-1 h-0.5 mx-2 ${Ge<ke?"bg-emerald-400":"bg-white/30"}`})]},je.id))})]}),a.jsx($n,{children:Z&&a.jsxs(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-50 dark:bg-red-900/30 px-6 py-3 flex items-center gap-2 text-red-600 dark:text-red-400",children:[a.jsx(dx,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:Z})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs($n,{mode:"wait",children:[c==="basic"&&a.jsxs(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course Title *"}),a.jsx(nt,{value:d,onChange:je=>f(je.target.value),placeholder:"e.g., Complete Mathematics for Class 10",maxLength:100}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/100 characters"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle (Optional)"}),a.jsx(nt,{value:h,onChange:je=>p(je.target.value),placeholder:"A brief tagline for your course",maxLength:150})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),a.jsx(lr,{value:y,onChange:je=>m(je.target.value),placeholder:"Describe what students will learn, what's included, and who this course is for...",rows:5,className:"resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),a.jsxs("select",{value:g,onChange:je=>b(je.target.value),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Select category"}),Jqe.map(je=>a.jsx("option",{value:je,children:je},je))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),a.jsxs("select",{value:k,onChange:je=>_(je.target.value),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"English",children:"English"}),a.jsx("option",{value:"Hindi",children:"Hindi"}),a.jsx("option",{value:"Bengali",children:"Bengali"}),a.jsx("option",{value:"Tamil",children:"Tamil"}),a.jsx("option",{value:"Telugu",children:"Telugu"}),a.jsx("option",{value:"Marathi",children:"Marathi"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Course Level *"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:eWe.map(je=>a.jsxs("button",{onClick:()=>T(je.value),className:`p-3 rounded-xl border-2 text-left transition-all ${w===je.value?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30":"border-gray-200 dark:border-gray-700 hover:border-emerald-300"}`,children:[a.jsx("p",{className:`font-medium text-sm ${w===je.value?"text-emerald-600":"text-gray-900 dark:text-white"}`,children:je.label}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:je.description})]},je.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Thumbnail URL (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(p5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:x,onChange:je=>v(je.target.value),placeholder:"https://example.com/course-image.jpg",className:"pl-10"})]}),x&&a.jsx("div",{className:"mt-3 rounded-xl overflow-hidden",children:a.jsx("img",{src:x,alt:"Thumbnail preview",className:"w-full h-40 object-cover"})})]})]},"basic"),c==="content"&&a.jsxs(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What Students Will Learn (Optional)"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Add learning outcomes to describe what students will achieve"}),a.jsx("div",{className:"space-y-2",children:N.map((je,Ge)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-10 flex items-center justify-center",children:a.jsx(ua,{className:"w-5 h-5 text-emerald-500"})}),a.jsx(nt,{value:je,onChange:Je=>re(Ge,Je.target.value),placeholder:`Learning outcome ${Ge+1}`}),N.length>1&&a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>J(Ge),className:"text-gray-400 hover:text-red-500",children:a.jsx(dn,{className:"w-4 h-4"})})]},Ge))}),a.jsxs(ye,{variant:"outline",size:"sm",onClick:xe,className:"mt-3",children:[a.jsx($E,{className:"w-4 h-4 mr-2"}),"Add Learning Outcome"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Requirements (Optional)"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"What do students need before starting?"}),a.jsx("div",{className:"space-y-2",children:I.map((je,Ge)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(nt,{value:je,onChange:Je=>Y(Ge,Je.target.value),placeholder:`Requirement ${Ge+1}`}),I.length>1&&a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>le(Ge),className:"text-gray-400 hover:text-red-500",children:a.jsx(dn,{className:"w-4 h-4"})})]},Ge))}),a.jsx(ye,{variant:"outline",size:"sm",onClick:pe,className:"mt-3",children:"Add Requirement"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Fj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{value:R,onChange:je=>M(je.target.value),placeholder:"Add a tag",className:"pl-10",onKeyDown:je=>je.key==="Enter"&&te()})]}),a.jsx(ye,{onClick:te,size:"sm",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:E.map((je,Ge)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 rounded-full text-sm",children:["#",je,a.jsx("button",{onClick:()=>oe(Ge),className:"hover:text-red-500",children:a.jsx(dn,{className:"w-3 h-3"})})]},Ge))})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Content types you can add:"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{icon:Zc,label:"Video Lessons"},{icon:Lr,label:"Notes"},{icon:kl,label:"Mock Tests"},{icon:fh,label:"Resources"}].map(je=>a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(je.icon,{className:"w-4 h-4 text-emerald-500"}),a.jsx("span",{children:je.label})]},je.label))})]})]},"content"),c==="pricing"&&a.jsxs(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course Price *"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("select",{value:W,onChange:je=>O(je.target.value),className:"w-24 px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",children:[a.jsx("option",{value:"INR",children:" INR"}),a.jsx("option",{value:"USD",children:"$ USD"}),a.jsx("option",{value:"BDT",children:" BDT"})]}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{type:"number",value:U,onChange:je=>z(je.target.value),placeholder:"999",min:"0",className:"pl-10"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Discount Price (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Mw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{type:"number",value:G,onChange:je=>F(je.target.value),placeholder:"499",min:"0",className:"pl-10"})]}),G&&U&&a.jsx("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/30 rounded-lg",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Students save ",Math.round((1-parseFloat(G)/parseFloat(U))*100),"% (",W==="INR"?"":W==="BDT"?"":"$",parseFloat(U)-parseFloat(G),")"]})})]}),a.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-2xl border border-emerald-200 dark:border-emerald-800",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-3",children:"Price Preview"}),a.jsx("div",{className:"flex items-end gap-3",children:G?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-3xl font-bold text-emerald-600",children:[W==="INR"?"":W==="BDT"?"":"$",G]}),a.jsxs("span",{className:"text-xl text-gray-400 line-through",children:[W==="INR"?"":W==="BDT"?"":"$",U]})]}):a.jsxs("span",{className:"text-3xl font-bold text-emerald-600",children:[W==="INR"?"":W==="BDT"?"":"$",U||"0"]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Make it Free?"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Set price to 0 for free courses"})]}),a.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{z("0"),F("")},children:"Set Free"})]})]},"pricing"),c==="settings"&&a.jsxs(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estimated Course Duration (hours)"}),a.jsxs("div",{className:"relative",children:[a.jsx(er,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{type:"number",value:ge,onChange:je=>he(je.target.value),placeholder:"e.g., 10",min:"1",className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center",children:L?a.jsx(yc,{className:"w-5 h-5 text-blue-600"}):a.jsx(rK,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Enable Preview"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Let students preview some content before buying"})]})]}),a.jsx(Hi,{checked:L,onCheckedChange:ee})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/50 rounded-lg flex items-center justify-center",children:a.jsx(yu,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Students get a certificate after completing"})]})]}),a.jsx(Hi,{checked:K,onCheckedChange:Q})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-xl border-2 border-emerald-200 dark:border-emerald-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center",children:P?a.jsx(zE,{className:"w-5 h-5 text-white"}):a.jsx(m5,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Publish Course"}),a.jsx("p",{className:"text-sm text-gray-500",children:P?"Course is visible to students":"Course is hidden, only you can see it"})]})]}),a.jsx(Hi,{checked:P,onCheckedChange:B})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Course Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Title"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:d||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Category"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:g||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Level"}),a.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:w})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Price"}),a.jsxs("span",{className:"text-emerald-600 font-bold",children:[W==="INR"?"":W==="BDT"?"":"$",G||U||"0"]})]})]})]})]},"settings")]})}),a.jsx("div",{className:"p-6 border-t dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(ye,{variant:"outline",onClick:Ae,disabled:ke===0||be,children:[a.jsx(f5,{className:"w-4 h-4 mr-1"}),"Back"]}),ke<V.length-1?a.jsxs(ye,{onClick:fe,children:["Next",a.jsx(Va,{className:"w-4 h-4 ml-1"})]}):a.jsx(ye,{onClick:Me,disabled:be,className:"min-w-[140px]",children:be?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ho,{className:"w-4 h-4"}),t?"Update Course":"Create Course"]})})]})})]})})}const LC={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},nWe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function rWe({courseId:e,onBack:t,onEnroll:n}){const{user:r}=_i(),{courses:i,teachers:s,sections:o,lessons:l,enrollments:c,reviews:u,addEnrollment:d,addReview:f,updateCourse:h,updateReview:p,markLessonComplete:y,getSectionsByCourse:m,getLessonsBySection:x,isEnrolled:v,getEnrollmentsByStudent:g}=Sc(),b=i.find(Y=>Y.id===e),w=b?s.find(Y=>Y.id===b.teacherId):null,T=b?m(b.id):[],k=b?u.filter(Y=>Y.courseId===b.id):[],_=r?v(e,r.id):!1,N=r?g(r.id).find(Y=>Y.courseId===e):null,C=r?k.find(Y=>Y.studentId===r.id):null,[I,j]=S.useState([]),[E,D]=S.useState("overview"),[R,M]=S.useState(!1),[U,z]=S.useState(!1),[G,F]=S.useState(5),[W,O]=S.useState(""),[P,B]=S.useState(0),[K,Q]=S.useState(!1),[L,ee]=S.useState(null),[ge,he]=S.useState(null),[be,Oe]=S.useState(""),Z=r&&b&&r.id===b.teacherId,Ie=(N==null?void 0:N.completedLessonIds)||[],V=Y=>{j(le=>le.includes(Y)?le.filter(te=>te!==Y):[...le,Y])},ke=()=>{if(!r||!b||!W.trim())return;const Y={id:`review_${Date.now()}`,courseId:b.id,studentId:r.id,studentName:r.displayName||"Anonymous",studentPhoto:r.photoURL,rating:G,review:W.trim(),isVerifiedPurchase:_,helpfulCount:0,reportCount:0,status:"published",createdAt:Date.now(),updatedAt:Date.now()};f(Y);const le=[...k,Y],te=le.reduce((oe,ae)=>oe+ae.rating,0)/le.length;h({...b,rating:Math.round(te*10)/10,totalReviews:le.length}),O(""),F(5),z(!1)},xe=S.useMemo(()=>{const Y=T.flatMap(fe=>x(fe.id)),le=Y.reduce((fe,Ae)=>fe+(Ae.duration||0),0),te=Y.filter(fe=>fe.type==="video").length,oe=Y.filter(fe=>fe.type==="quiz").length,ae=Y.filter(fe=>fe.isPreviewable).length;return{totalLessons:Y.length,totalDuration:le,videoLessons:te,quizLessons:oe,previewLessons:ae}},[T,x]),re=Y=>{if(Y<60)return`${Y}m`;const le=Math.floor(Y/60),te=Y%60;return te>0?`${le}h ${te}m`:`${le}h`},J=()=>{if(!r||!b||!w)return;const Y={id:`enrollment_${Date.now()}`,courseId:b.id,courseTitle:b.title,teacherId:w.id,teacherName:w.displayName,studentId:r.id,studentName:r.displayName||"Student",studentEmail:r.email||"",pricing:b.price===0?"free":"paid",pricePaid:b.discountPrice||b.price,progress:0,completedLessons:0,lastAccessedAt:Date.now(),status:"active",enrolledAt:Date.now()};d(Y),h({...b,totalStudents:b.totalStudents+1}),M(!1),Q(!0),setTimeout(()=>Q(!1),3e3)},pe=Y=>{switch(Y){case"video":return Zc;case"note":return Lr;case"quiz":return kl;case"link":return fh;case"live-class":return Sl;default:return Lr}};return b?a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[a.jsx("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-white/80 hover:text-white mb-6 transition-colors",children:[a.jsx(Nl,{className:"w-5 h-5"}),"Back to Courses"]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs(st.div,{variants:LC,initial:"hidden",animate:"visible",className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm",children:b.category}),a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm capitalize",children:b.level}),b.hasCertificate&&a.jsxs("span",{className:"px-3 py-1 bg-amber-500/80 rounded-full text-sm flex items-center gap-1",children:[a.jsx(q0,{className:"w-3 h-3"}),"Certificate"]})]}),a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:b.title}),b.subtitle&&a.jsx("p",{className:"text-lg text-white/80",children:b.subtitle}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($c,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),a.jsx("span",{className:"font-semibold",children:b.rating.toFixed(1)}),a.jsxs("span",{className:"text-white/70",children:["(",b.totalReviews," reviews)"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-white/80",children:[a.jsx(qa,{className:"w-4 h-4"}),a.jsxs("span",{children:[b.totalStudents," students"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-white/80",children:[a.jsx(er,{className:"w-4 h-4"}),a.jsx("span",{children:re(xe.totalDuration)})]}),a.jsxs("div",{className:"flex items-center gap-1 text-white/80",children:[a.jsx(Zc,{className:"w-4 h-4"}),a.jsxs("span",{children:[xe.totalLessons," lessons"]})]})]}),w&&a.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 overflow-hidden",children:w.photoURL?a.jsx("img",{src:w.photoURL,alt:w.displayName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-lg font-medium",children:w.displayName[0]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[w.displayName,w.isVerified&&a.jsx(e0,{className:"w-4 h-4 text-blue-400"})]}),a.jsx("p",{className:"text-sm text-white/70",children:w.subjects.slice(0,2).join(", ")})]})]})]}),a.jsx(st.div,{variants:LC,initial:"hidden",animate:"visible",className:"lg:col-span-1",children:a.jsxs(ut,{className:"sticky top-6 overflow-hidden border-0 shadow-2xl",children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-gray-800",children:[b.thumbnail?a.jsx("img",{src:b.thumbnail,alt:b.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(yu,{className:"w-16 h-16 text-gray-400"})}),b.hasPreview&&xe.previewLessons>0&&a.jsx("button",{className:"absolute inset-0 flex items-center justify-center bg-black/40 hover:bg-black/50 transition-colors",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-white flex items-center justify-center",children:a.jsx(X2e,{className:"w-10 h-10 text-indigo-600"})})})]}),a.jsxs(Ht,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-baseline gap-3",children:[a.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:b.price===0?"Free":a.jsxs(a.Fragment,{children:[b.currency==="INR"?"":b.currency==="BDT"?"":"$",b.discountPrice||b.price]})}),b.discountPrice&&b.price>0&&a.jsxs("span",{className:"text-lg text-gray-400 line-through",children:[b.currency==="INR"?"":b.currency==="BDT"?"":"$",b.price]}),b.discountPrice&&a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-sm font-medium rounded",children:[Math.round((1-b.discountPrice/b.price)*100),"% OFF"]})]}),_?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ye,{className:"w-full",size:"lg",children:[a.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Continue Learning"]}),N&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Your progress"}),a.jsxs("span",{className:"font-medium",children:[Math.round(N.progress),"%"]})]}),a.jsx(Ob,{value:N.progress,className:"h-2"})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx(ye,{className:"w-full",size:"lg",onClick:()=>M(!0),children:b.price===0?"Enroll for Free":"Enroll Now"}),a.jsxs(ye,{variant:"outline",className:"w-full",children:[a.jsx(W2e,{className:"w-4 h-4 mr-2"}),"Add to Wishlist"]})]}),a.jsxs("div",{className:"pt-4 space-y-3 border-t dark:border-gray-800",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"This course includes:"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Zc,{className:"w-4 h-4 text-indigo-500"}),xe.videoLessons," video lessons"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(kl,{className:"w-4 h-4 text-indigo-500"}),xe.quizLessons," quizzes"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"w-4 h-4 text-indigo-500"}),re(xe.totalDuration)," total content"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(zE,{className:"w-4 h-4 text-indigo-500"}),"Full lifetime access"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(xc,{className:"w-4 h-4 text-indigo-500"}),"Downloadable resources"]}),b.hasCertificate&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(q0,{className:"w-4 h-4 text-amber-500"}),"Certificate of completion"]})]})]}),a.jsx("div",{className:"pt-4 border-t dark:border-gray-800",children:a.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-indigo-600 transition-colors",onClick:async()=>{const Y=window.location.href,le=b.title,te=b.description.slice(0,100)+"...";if(navigator.share)try{await navigator.share({title:le,text:te,url:Y})}catch{}else try{await navigator.clipboard.writeText(Y),alert("Link copied to clipboard!")}catch{const ae=document.createElement("textarea");ae.value=Y,document.body.appendChild(ae),ae.select(),document.execCommand("copy"),document.body.removeChild(ae),alert("Link copied to clipboard!")}},children:[a.jsx(Z2e,{className:"w-4 h-4"}),"Share this course"]})})]})]})})]})]})}),a.jsx("div",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b dark:border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsx("div",{className:"flex gap-6 overflow-x-auto",children:["overview","curriculum","reviews"].map(Y=>a.jsx("button",{onClick:()=>D(Y),className:`py-4 px-2 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${E===Y?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-white"}`,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:a.jsx("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:a.jsx("div",{className:"lg:col-span-2",children:a.jsxs($n,{mode:"wait",children:[E==="overview"&&a.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"About this course"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line",children:b.description})]}),b.whatYouWillLearn&&b.whatYouWillLearn.length>0&&a.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-2xl",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(hh,{className:"w-5 h-5 text-indigo-600"}),"What you'll learn"]}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:b.whatYouWillLearn.map((Y,le)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ua,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:Y})]},le))})]}),b.requirements&&b.requirements.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(dK,{className:"w-5 h-5 text-amber-500"}),"Requirements"]}),a.jsx("ul",{className:"space-y-2",children:b.requirements.map((Y,le)=>a.jsxs("li",{className:"flex items-start gap-3 text-gray-600 dark:text-gray-400",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mt-2"}),Y]},le))})]}),w&&a.jsxs("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-2xl border dark:border-gray-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Your Instructor"}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden flex-shrink-0",children:w.photoURL?a.jsx("img",{src:w.photoURL,alt:w.displayName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-medium text-gray-500",children:w.displayName[0]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white flex items-center gap-2",children:[w.displayName,w.isVerified&&a.jsx(e0,{className:"w-5 h-5 text-blue-500"})]}),a.jsx("p",{className:"text-gray-500 text-sm",children:w.subjects.join(", ")}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx($c,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),w.rating.toFixed(1)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(qa,{className:"w-4 h-4"}),w.totalStudents," students"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Br,{className:"w-4 h-4"}),w.totalCourses," courses"]})]}),a.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400 text-sm line-clamp-3",children:w.bio})]})]})]})]},"overview"),E==="curriculum"&&a.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Course Content"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[T.length," sections  ",xe.totalLessons," lessons "," ",re(xe.totalDuration)]})]}),T.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[a.jsx(Br,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No content available yet"})]}):a.jsx(st.div,{variants:nWe,initial:"hidden",animate:"visible",className:"space-y-3",children:T.sort((Y,le)=>Y.order-le.order).map((Y,le)=>{const te=x(Y.id).sort((ae,fe)=>ae.order-fe.order),oe=I.includes(Y.id);return a.jsxs(st.div,{variants:LC,className:"border dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-gray-900",children:[a.jsxs("button",{onClick:()=>V(Y.id),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 font-medium text-sm flex items-center justify-center",children:le+1}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:Y.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[te.length," lessons"]})]})]}),oe?a.jsx(Tv,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ba,{className:"w-5 h-5 text-gray-400"})]}),a.jsx($n,{children:oe&&a.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t dark:border-gray-800",children:te.map((ae,fe)=>{const Ae=pe(ae.type),Me=!_&&!ae.isPreviewable,Ve=Ie.includes(ae.id);return a.jsxs("div",{onClick:()=>{Me||ee(ae)},className:`p-4 flex items-center justify-between border-b dark:border-gray-800 last:border-0 ${Me?"opacity-60":"hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${Ve?"bg-green-100 dark:bg-green-900/50 text-green-600":ae.type==="video"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600":ae.type==="quiz"?"bg-amber-100 dark:bg-amber-900/50 text-amber-600":"bg-gray-100 dark:bg-gray-800 text-gray-600"}`,children:Ve?a.jsx(mo,{className:"w-4 h-4"}):a.jsx(Ae,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium text-sm ${Ve?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"}`,children:ae.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{className:"capitalize",children:ae.type}),ae.duration&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:re(ae.duration)})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ae.isPreviewable&&!_&&a.jsx("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 text-xs rounded-full",children:"Preview"}),Me?a.jsx(m5,{className:"w-4 h-4 text-gray-400"}):a.jsx(Oa,{className:"w-4 h-4 text-indigo-600"})]})]},ae.id)})})})]},Y.id)})})]},"curriculum"),E==="reviews"&&a.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[a.jsx("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-2xl border dark:border-gray-800",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-5xl font-bold text-gray-900 dark:text-white",children:b.rating.toFixed(1)}),a.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[1,2,3,4,5].map(Y=>a.jsx($c,{className:`w-5 h-5 ${Y<=Math.round(b.rating)?"text-amber-400 fill-amber-400":"text-gray-300"}`},Y))}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[b.totalReviews," reviews"]})]}),r&&!C&&a.jsxs(ye,{onClick:()=>z(!0),className:"ml-auto",children:[a.jsx($c,{className:"w-4 h-4 mr-2"}),"Write a Review"]})]})}),U&&a.jsxs(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-6 bg-white dark:bg-gray-900 rounded-2xl border dark:border-gray-800",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Write Your Review"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Your Rating"}),a.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(Y=>a.jsx("button",{type:"button",onClick:()=>F(Y),onMouseEnter:()=>B(Y),onMouseLeave:()=>B(0),className:"p-1 transition-transform hover:scale-110",children:a.jsx($c,{className:`w-8 h-8 ${Y<=(P||G)?"text-amber-400 fill-amber-400":"text-gray-300"}`})},Y)),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:G===5?"Excellent!":G===4?"Very Good":G===3?"Good":G===2?"Fair":"Poor"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Your Review"}),a.jsx("textarea",{value:W,onChange:Y=>O(Y.target.value),placeholder:"Share your experience with this course...",className:"w-full h-32 p-3 rounded-lg border dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{variant:"outline",onClick:()=>{z(!1),O(""),F(5)},children:"Cancel"}),a.jsx(ye,{onClick:ke,disabled:!W.trim(),children:"Submit Review"})]})]}),k.length===0&&!U?a.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[a.jsx(Qk,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No reviews yet"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Be the first to review this course!"}),r&&a.jsxs(ye,{onClick:()=>z(!0),className:"mt-4",children:[a.jsx($c,{className:"w-4 h-4 mr-2"}),"Write a Review"]})]}):k.length>0&&a.jsx("div",{className:"space-y-4",children:k.map(Y=>a.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-xl border dark:border-gray-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-sm font-medium",children:Y.studentName[0]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Y.studentName}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(le=>a.jsx($c,{className:`w-4 h-4 ${le<=Y.rating?"text-amber-400 fill-amber-400":"text-gray-300"}`},le))})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:Y.review}),Y.teacherReply&&a.jsxs("div",{className:"mt-3 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border-l-4 border-indigo-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(e0,{className:"w-4 h-4 text-indigo-600"}),a.jsx("span",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-400",children:"Teacher's Response"})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:Y.teacherReply})]}),Z&&!Y.teacherReply&&a.jsx(a.Fragment,{children:ge===Y.id?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("textarea",{value:be,onChange:le=>Oe(le.target.value),placeholder:"Write your response...",className:"w-full p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700 text-sm resize-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{he(null),Oe("")},children:"Cancel"}),a.jsxs(ye,{size:"sm",disabled:!be.trim(),onClick:()=>{p({...Y,teacherReply:be.trim(),teacherRepliedAt:Date.now(),updatedAt:Date.now()}),he(null),Oe("")},children:[a.jsx(Qk,{className:"w-4 h-4 mr-1"}),"Reply"]})]})]}):a.jsxs(ye,{variant:"ghost",size:"sm",className:"mt-2 text-indigo-600",onClick:()=>he(Y.id),children:[a.jsx(Qk,{className:"w-4 h-4 mr-1"}),"Reply as Teacher"]})})]})]})},Y.id))})]},"reviews")]})})})}),a.jsx($n,{children:R&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>M(!1),children:a.jsx(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:Y=>Y.stopPropagation(),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center mx-auto mb-4",children:a.jsx(yu,{className:"w-8 h-8 text-indigo-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:b.price===0?"Free Enrollment":"Enroll in Course"}),a.jsx("p",{className:"text-gray-500 mb-6",children:b.price===0?"Start learning today for free!":`Get full access for ${b.currency==="INR"?"":b.currency==="BDT"?"":"$"}${b.discountPrice||b.price}`}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ye,{className:"w-full",size:"lg",onClick:J,children:b.price===0?"Enroll for Free":"Proceed to Payment"}),a.jsx(ye,{variant:"outline",className:"w-full",onClick:()=>M(!1),children:"Cancel"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-4 flex items-center justify-center gap-1",children:[a.jsx(ewe,{className:"w-4 h-4"}),"30-day money-back guarantee"]})]})})})}),a.jsx($n,{children:K&&a.jsxs(st.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg flex items-center gap-3",children:[a.jsx(ua,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Successfully enrolled! Start learning now."})]})}),a.jsx($n,{children:L&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>ee(null),children:a.jsxs(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:Y=>Y.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-800 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${L.type==="video"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600":L.type==="quiz"?"bg-amber-100 dark:bg-amber-900/50 text-amber-600":"bg-gray-100 dark:bg-gray-800 text-gray-600"}`,children:L.type==="video"?a.jsx(Zc,{className:"w-5 h-5"}):L.type==="quiz"?a.jsx(kl,{className:"w-5 h-5"}):a.jsx(Lr,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:L.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[L.type==="video"?"Video Lesson":L.type==="quiz"?"Quiz":"Reading Material",L.duration&&`  ${re(L.duration)}`]})]})]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>ee(null),children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:L.type==="video"&&L.content?a.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden",children:L.content.includes("youtube.com")||L.content.includes("youtu.be")?a.jsx("iframe",{src:L.content.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/"),className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):L.content.includes("vimeo.com")?a.jsx("iframe",{src:L.content.replace("vimeo.com","player.vimeo.com/video"),className:"w-full h-full",allowFullScreen:!0}):a.jsx("video",{src:L.content,className:"w-full h-full",controls:!0})}):L.type==="note"&&L.content?a.jsx("div",{className:"prose dark:prose-invert max-w-none",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:L.content}})}):L.type==="pdf"&&L.content?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"PDF Document"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Click below to open the PDF."}),a.jsx(ye,{onClick:()=>window.open(L.content,"_blank"),children:"Open PDF"})]}):L.type==="link"&&L.content?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fh,{className:"w-16 h-16 text-indigo-500 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"External Resource"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"This lesson links to an external resource."}),a.jsx(ye,{onClick:()=>window.open(L.content,"_blank"),children:"Open Link"})]}):L.type==="live-class"?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Zc,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Live Class"}),L.liveClassStartTime&&a.jsxs("p",{className:"text-gray-500 mb-4",children:["Scheduled: ",new Date(L.liveClassStartTime).toLocaleString()]}),L.liveClassLink&&a.jsx(ye,{onClick:()=>window.open(L.liveClassLink,"_blank"),children:"Join Live Class"})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Content not available"})]})}),_&&N&&a.jsxs("div",{className:"p-4 border-t dark:border-gray-800 flex items-center justify-between bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("div",{className:"flex items-center gap-2",children:Ie.includes(L.id)?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Completed"})]}):a.jsx("span",{className:"text-gray-500",children:"Mark this lesson as complete"})}),a.jsx(ye,{onClick:async()=>{Ie.includes(L.id)||await y(N.id,L.id),ee(null)},className:Ie.includes(L.id)?"bg-green-600 hover:bg-green-700":"",children:Ie.includes(L.id)?a.jsxs(a.Fragment,{children:[a.jsx(mo,{className:"w-4 h-4 mr-2"}),"Done"]}):a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 mr-2"}),"Mark as Complete"]})})]})]})})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Br,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Course not found"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"This course may have been removed"}),a.jsxs(ye,{onClick:t,className:"mt-4",children:[a.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})})}const V7=[{type:"note",label:"Notes",icon:Lr,color:"blue"},{type:"quiz",label:"Quiz",icon:ru,color:"green"},{type:"live-test",label:"Live Test",icon:$0,color:"cyan"},{type:"video",label:"Video",icon:Zc,color:"purple"},{type:"link",label:"External Link",icon:fh,color:"orange"},{type:"pdf",label:"PDF",icon:_1,color:"red"},{type:"live-class",label:"Live Class",icon:Sl,color:"pink"}],q7={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]};function iWe({courseId:e,onBack:t}){var De;const{courses:n,updateCourse:r}=Sc(),{user:i}=_i(),{subjects:s,topics:o}=Xr(),l=n.find(se=>se.id===e),[c,u]=S.useState(!1),[d,f]=S.useState(new Set),[h,p]=S.useState(!1),[y,m]=S.useState(""),[x,v]=S.useState(null),[g,b]=S.useState(null),[w,T]=S.useState(""),[k,_]=S.useState(""),[N,C]=S.useState([]),[I,j]=S.useState(""),[E,D]=S.useState(["","","",""]),[R,M]=S.useState(0),[U,z]=S.useState(null),[G,F]=S.useState(""),[W,O]=S.useState(""),[P,B]=S.useState(null),[K,Q]=S.useState(null),[L,ee]=S.useState(""),[ge,he]=S.useState(null),[be,Oe]=S.useState(""),[Z,Ie]=S.useState(!1),[V,ke]=S.useState([]),[xe,re]=S.useState(""),[J,pe]=S.useState("all"),[Y,le]=S.useState(""),[te,oe]=S.useState(""),[ae,fe]=S.useState(!1),[Ae,Me]=S.useState(null),[Ve,ot]=S.useState(!1),[Fe,je]=S.useState([]),[Ge,Je]=S.useState("all"),{subjects:kt,topics:Qt,assets:Mt,selectedSubjectId:Mn,selectedTopicId:sn,setSelectedSubject:Qn,setSelectedTopic:qn,getTopicsBySubject:nr}=_c();S.useEffect(()=>{(async()=>{fe(!0);try{const Ee=(await Bn(Dt(Le,"course-assets"))).docs.map(ue=>ue.data()).filter(ue=>!ue.courseId||ue.courseId==="global"||ue.courseId===e);ke(Ee.sort((ue,de)=>de.createdAt-ue.createdAt))}catch(Te){console.error("Error loading assets",Te)}finally{fe(!1)}})()},[e]);const Cn=S.useMemo(()=>V.filter(se=>!(J!=="all"&&se.type!==J||Y&&se.subjectId!==Y||te&&se.topicId!==te||xe&&!se.title.toLowerCase().includes(xe.toLowerCase()))),[V,J,Y,te,xe]),Pn=S.useMemo(()=>Y?o.filter(se=>se.subjectId===Y&&se.isActive):o.filter(se=>se.isActive),[Y,o]);if(S.useEffect(()=>{l!=null&&l.sections&&f(new Set(l.sections.map(se=>se.id)))},[l==null?void 0:l.id,l==null?void 0:l.sections]),!l)return a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("p",{className:"text-gray-500",children:"Course not found"}),a.jsx(ye,{onClick:t,className:"mt-4",children:"Go Back"})]});const Wt=l.sections||[],rr=se=>{f(Te=>{const Ee=new Set(Te);return Ee.has(se)?Ee.delete(se):Ee.add(se),Ee})},ln=()=>{if(!y.trim())return;const se={id:`section-${Date.now()}`,title:y.trim(),lessons:[],order:Wt.length};r({...l,sections:[...Wt,se]}),m(""),p(!1),f(Te=>new Set([...Te,se.id]))},Dn=()=>{var de;if(!x||!g||!w.trim())return;const se={id:`lesson-${Date.now()}`,title:w.trim(),type:g,content:g==="quiz"||g==="live-test"?"":k,quizQuestions:g==="quiz"||g==="live-test"?N:void 0,duration:0,order:((de=Wt.find(Re=>Re.id===x))==null?void 0:de.lessons.length)||0},Te=Wt.map(Re=>Re.id===x?{...Re,lessons:[...Re.lessons,se]}:Re);r({...l,sections:Te});const Ee=an(),ue={id:Ee,title:w.trim(),type:g,content:g==="quiz"||g==="live-test"?"":k,quizQuestions:g==="quiz"||g==="live-test"?N:void 0,courseId:"global",createdAt:Date.now(),createdBy:i==null?void 0:i.id,createdByName:i==null?void 0:i.displayName};ke(Re=>[ue,...Re]),bt(Ye(Le,"course-assets",Ee),ue).catch(Re=>console.error("Error saving asset",Re)),v(null),b(null),T(""),_(""),C([])},Or=()=>{if(!I.trim()||E.some(Te=>!Te.trim()))return;const se={id:`q-${Date.now()}`,question:I.trim(),options:E.map(Te=>Te.trim()),correctIndex:R};C([...N,se]),j(""),D(["","","",""]),M(0)},dr=se=>{const Te=Wt.filter(Ee=>Ee.id!==se);r({...l,sections:Te})},_n=se=>{if(se===0)return;const Te=[...Wt];[Te[se-1],Te[se]]=[Te[se],Te[se-1]],Te.forEach((Ee,ue)=>Ee.order=ue),r({...l,sections:Te})},ir=se=>{if(se===Wt.length-1)return;const Te=[...Wt];[Te[se],Te[se+1]]=[Te[se+1],Te[se]],Te.forEach((Ee,ue)=>Ee.order=ue),r({...l,sections:Te})},jn=se=>{if(!L.trim())return;const Te=Wt.map(Ee=>Ee.id===se?{...Ee,title:L.trim()}:Ee);r({...l,sections:Te}),Q(null),ee("")},Kn=(se,Te)=>{var de;const Ee={id:`lesson-${Date.now()}`,title:se.title,type:se.type,content:se.content||"",quizQuestions:se.quizQuestions,duration:0,order:((de=Wt.find(Re=>Re.id===Te))==null?void 0:de.lessons.length)||0},ue=Wt.map(Re=>Re.id===Te?{...Re,lessons:[...Re.lessons,Ee]}:Re);r({...l,sections:ue}),Ie(!1),Me(null)},Xn=(se,Te)=>{var Qe;let Ee="note",ue="",de;se.type==="mcq"?(Ee="quiz",de=se.quizQuestions||[]):se.type==="note"?(Ee="note",ue=se.content||""):se.type==="url"&&(Ee="note",ue=`<a href="${se.url}" target="_blank">${se.title}</a>

${se.description||""}`);const Re={id:`lesson-${Date.now()}`,title:se.title,type:Ee,content:ue,quizQuestions:de,duration:0,order:((Qe=Wt.find(Ze=>Ze.id===Te))==null?void 0:Qe.lessons.length)||0},We=Wt.map(Ze=>Ze.id===Te?{...Ze,lessons:[...Ze.lessons,Re]}:Ze);r({...l,sections:We}),Me(null)},br=(se,Te)=>{const Ee=Wt.map(ue=>ue.id===se?{...ue,lessons:ue.lessons.filter(de=>de.id!==Te)}:ue);r({...l,sections:Ee})},ce=(se,Te)=>{if(!be.trim())return;const Ee=Wt.map(ue=>ue.id===se?{...ue,lessons:ue.lessons.map(de=>de.id===Te?{...de,title:be.trim()}:de)}:ue);r({...l,sections:Ee}),he(null),Oe("")},Ne=(se,Te)=>{if(Te===0)return;const Ee=Wt.map(ue=>{if(ue.id===se){const de=[...ue.lessons];return[de[Te-1],de[Te]]=[de[Te],de[Te-1]],{...ue,lessons:de}}return ue});r({...l,sections:Ee})},ve=(se,Te,Ee)=>{if(Te>=Ee-1)return;const ue=Wt.map(de=>{if(de.id===se){const Re=[...de.lessons];return[Re[Te],Re[Te+1]]=[Re[Te+1],Re[Te]],{...de,lessons:Re}}return de});r({...l,sections:ue})},_e=se=>{if(!U)return;const Te=Wt.map(Ee=>Ee.id===se?{...Ee,lessons:Ee.lessons.map(ue=>ue.id===U.id?{...ue,title:G,content:W}:ue)}:Ee);r({...l,sections:Te}),z(null)},ie=se=>{switch(se){case"note":return a.jsx(Lr,{className:"w-4 h-4"});case"quiz":return a.jsx(ru,{className:"w-4 h-4"});case"live-test":return a.jsx($0,{className:"w-4 h-4"});case"video":return a.jsx(Zc,{className:"w-4 h-4"});case"link":return a.jsx(fh,{className:"w-4 h-4"});case"pdf":return a.jsx(_1,{className:"w-4 h-4"});case"live-class":return a.jsx(Sl,{className:"w-4 h-4"});default:return a.jsx(Lr,{className:"w-4 h-4"})}},me=se=>{switch(se){case"note":return"text-blue-500 bg-blue-100 dark:bg-blue-900/30";case"quiz":return"text-green-500 bg-green-100 dark:bg-green-900/30";case"live-test":return"text-cyan-500 bg-cyan-100 dark:bg-cyan-900/30";case"video":return"text-purple-500 bg-purple-100 dark:bg-purple-900/30";case"link":return"text-orange-500 bg-orange-100 dark:bg-orange-900/30";case"pdf":return"text-red-500 bg-red-100 dark:bg-red-900/30";case"live-class":return"text-pink-500 bg-pink-100 dark:bg-pink-900/30";default:return"text-gray-500 bg-gray-100 dark:bg-gray-900/30"}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b dark:border-gray-800",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ye,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(Nl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l.title}),a.jsx("p",{className:"text-sm text-gray-500",children:"Course Content Manager"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[c&&a.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>Ie(!0),className:"gap-2",children:[a.jsx(ss,{className:"w-4 h-4"}),"View Library"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-sm font-medium ${c?"text-gray-400":"text-blue-600"}`,children:"Display"}),a.jsx(Hi,{checked:c,onCheckedChange:u}),a.jsx("span",{className:`text-sm font-medium ${c?"text-orange-600":"text-gray-400"}`,children:"Edit Mode"})]})]})]})})}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"space-y-4",children:[Wt.map((se,Te)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${c?"bg-orange-50 dark:bg-orange-900/20":"bg-gray-50 dark:bg-gray-900/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("button",{onClick:()=>rr(se.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:d.has(se.id)?a.jsx(Ba,{className:"w-5 h-5"}):a.jsx(Va,{className:"w-5 h-5"})}),K===se.id?a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(nt,{value:L,onChange:Ee=>ee(Ee.target.value),className:"h-8",autoFocus:!0,onKeyDown:Ee=>{Ee.key==="Enter"&&jn(se.id),Ee.key==="Escape"&&Q(null)}}),a.jsx(ye,{size:"sm",onClick:()=>jn(se.id),children:a.jsx(ho,{className:"w-4 h-4"})}),a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Q(null),children:a.jsx(dn,{className:"w-4 h-4"})})]}):a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:se.title}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",se.lessons.length," items)"]})]}),c&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(sd,{className:"w-4 h-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(Un,{onClick:()=>{Q(se.id),ee(se.title)},children:[a.jsx(fo,{className:"w-4 h-4 mr-2"}),"Rename"]}),Te>0&&a.jsxs(Un,{onClick:()=>_n(Te),children:[a.jsx(w1,{className:"w-4 h-4 mr-2"}),"Move Up"]}),Te<Wt.length-1&&a.jsxs(Un,{onClick:()=>ir(Te),children:[a.jsx(b1,{className:"w-4 h-4 mr-2"}),"Move Down"]}),a.jsxs(Un,{onClick:()=>dr(se.id),className:"text-red-600",children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),"Delete Topic"]})]})]})]}),a.jsx($n,{children:d.has(se.id)&&a.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsxs("div",{className:"p-4 space-y-2",children:[se.lessons.length===0&&!c&&a.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No content in this topic yet"}),se.lessons.map((Ee,ue)=>a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-all ${c?"bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800":"bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900"}`,children:[a.jsx("div",{className:`p-2 rounded-lg ${me(Ee.type)}`,children:ie(Ee.type)}),ge===Ee.id?a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(nt,{value:be,onChange:de=>Oe(de.target.value),className:"h-8",autoFocus:!0,onKeyDown:de=>{de.key==="Enter"&&ce(se.id,Ee.id),de.key==="Escape"&&he(null)}}),a.jsx(ye,{size:"sm",onClick:()=>ce(se.id,Ee.id),children:a.jsx(ho,{className:"w-4 h-4"})})]}):a.jsxs("button",{onClick:()=>!c&&B(Ee),className:"flex-1 text-left",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ee.title}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2 capitalize",children:["(",Ee.type,")"]})]}),c&&a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(sd,{className:"w-4 h-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(Un,{onClick:()=>{he(Ee.id),Oe(Ee.title)},children:[a.jsx(fo,{className:"w-4 h-4 mr-2"}),"Rename"]}),a.jsxs(Un,{onClick:()=>{z(Ee),F(Ee.title),O(Ee.content||"")},children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Edit content"]}),a.jsxs(Un,{onClick:()=>Ne(se.id,ue),disabled:ue===0,children:[a.jsx(w1,{className:"w-4 h-4 mr-2"}),"Move up"]}),a.jsxs(Un,{onClick:()=>ve(se.id,ue,se.lessons.length),disabled:ue>=se.lessons.length-1,children:[a.jsx(b1,{className:"w-4 h-4 mr-2"}),"Move down"]}),a.jsxs(Un,{onClick:()=>br(se.id,Ee.id),className:"text-red-600",children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),!c&&a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>B(Ee),children:a.jsx(yc,{className:"w-4 h-4"})})]},Ee.id)),c&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>v(se.id),className:"flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 border-dashed border-orange-300 dark:border-orange-700 text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:[a.jsx(rn,{className:"w-4 h-4"}),"Add content"]}),a.jsxs("button",{onClick:()=>{Me(se.id),ot(!0)},className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg border-2 border-dashed border-purple-300 dark:border-purple-700 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",children:[a.jsx(ss,{className:"w-4 h-4"}),"Import from Library"]})]})]})})})]},se.id)),c&&a.jsx("div",{className:"mt-4",children:h?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Add New Topic"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(nt,{placeholder:"Topic title...",value:y,onChange:se=>m(se.target.value),onKeyDown:se=>{se.key==="Enter"&&ln(),se.key==="Escape"&&p(!1)},autoFocus:!0}),a.jsxs(ye,{onClick:ln,children:[a.jsx(ho,{className:"w-4 h-4 mr-2"}),"Add"]}),a.jsx(ye,{variant:"ghost",onClick:()=>p(!1),children:a.jsx(dn,{className:"w-4 h-4"})})]})]}):a.jsxs(ye,{onClick:()=>p(!0),className:"w-full bg-orange-500 hover:bg-orange-600",children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Topic"]})})]}),Wt.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-600 dark:text-gray-400",children:"No content yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Enable Edit Mode to start adding topics and content"}),!c&&a.jsx(ye,{onClick:()=>u(!0),children:"Enable Edit Mode"})]})]}),a.jsx($n,{children:x&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>v(null),children:a.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Add Content"}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>{v(null),b(null)},children:a.jsx(dn,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"p-6",children:g?a.jsxs("div",{className:"space-y-4",children:[a.jsx(nt,{placeholder:"Content title...",value:w,onChange:se=>T(se.target.value)}),g==="note"&&a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border",children:a.jsx(gh,{theme:"snow",value:k,onChange:_,modules:q7,className:"min-h-[200px]"})}),g==="video"&&a.jsx(nt,{placeholder:"Video URL (YouTube, Vimeo, etc.)",value:k,onChange:se=>_(se.target.value)}),g==="link"&&a.jsx(nt,{placeholder:"External URL",value:k,onChange:se=>_(se.target.value)}),g==="pdf"&&a.jsx(nt,{placeholder:"PDF URL",value:k,onChange:se=>_(se.target.value)}),g==="live-class"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(nt,{placeholder:"Live class URL (Zoom, Meet, etc.)",value:k,onChange:se=>_(se.target.value)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Add the meeting link for your live class"})]}),g==="quiz"&&a.jsxs("div",{className:"space-y-4",children:[N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium",children:["Questions (",N.length,")"]}),N.map((se,Te)=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm",children:[Te+1,". ",se.question]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>C(N.filter(Ee=>Ee.id!==se.id)),children:a.jsx(kr,{className:"w-4 h-4 text-red-500"})})]},se.id))]}),a.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-xl space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Add Question"}),a.jsx(lr,{placeholder:"Enter question...",value:I,onChange:se=>j(se.target.value)}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map((se,Te)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>M(Te),className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${R===Te?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:String.fromCharCode(65+Te)}),a.jsx(nt,{placeholder:`Option ${String.fromCharCode(65+Te)}`,value:se,onChange:Ee=>{const ue=[...E];ue[Te]=Ee.target.value,D(ue)},className:"flex-1"})]},Te))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click the letter to mark correct answer (green = correct)"}),a.jsxs(ye,{onClick:Or,className:"w-full",children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),g==="live-test"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:a.jsxs("div",{className:"flex items-center gap-2 text-cyan-700 dark:text-cyan-300",children:[a.jsx($0,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Live Test - Students will be timed"})]})}),N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium",children:["Questions (",N.length,")"]}),N.map((se,Te)=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm",children:[Te+1,". ",se.question]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>C(N.filter(Ee=>Ee.id!==se.id)),children:a.jsx(kr,{className:"w-4 h-4 text-red-500"})})]},se.id))]}),a.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-xl space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Add Question"}),a.jsx(lr,{placeholder:"Enter question...",value:I,onChange:se=>j(se.target.value)}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map((se,Te)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>M(Te),className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${R===Te?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:String.fromCharCode(65+Te)}),a.jsx(nt,{placeholder:`Option ${String.fromCharCode(65+Te)}`,value:se,onChange:Ee=>{const ue=[...E];ue[Te]=Ee.target.value,D(ue)},className:"flex-1"})]},Te))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click the letter to mark correct answer (green = correct)"}),a.jsxs(ye,{onClick:Or,className:"w-full",children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>b(null),className:"flex-1",children:"Back"}),a.jsxs(ye,{onClick:Dn,disabled:!w.trim()||(g==="quiz"||g==="live-test")&&N.length===0,className:"flex-1",children:[a.jsx(ho,{className:"w-4 h-4 mr-2"}),"Save Content"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Select content type:"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:V7.map(se=>a.jsxs("button",{onClick:()=>b(se.type),className:"p-4 rounded-xl border-2 hover:border-blue-400 transition-all flex flex-col items-center gap-2",children:[a.jsx("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-gray-700",children:a.jsx(se.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-medium",children:se.label})]},se.type))})]})})]})})}),a.jsx($n,{children:U&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>z(null),children:a.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Edit Content"}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>z(null),children:a.jsx(dn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx(nt,{placeholder:"Title",value:G,onChange:se=>F(se.target.value)}),U.type==="note"&&a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border",children:a.jsx(gh,{theme:"snow",value:W,onChange:O,modules:q7,className:"min-h-[200px]"})}),(U.type==="video"||U.type==="link"||U.type==="pdf"||U.type==="live-class")&&a.jsx(nt,{placeholder:"URL",value:W,onChange:se=>O(se.target.value)}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>z(null),className:"flex-1",children:"Cancel"}),a.jsxs(ye,{onClick:()=>{const se=Wt.find(Te=>Te.lessons.some(Ee=>Ee.id===U.id));se&&_e(se.id)},className:"flex-1",children:[a.jsx(ho,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})})}),a.jsx($n,{children:P&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>B(null),children:a.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${me(P.type)}`,children:ie(P.type)}),a.jsx("h2",{className:"text-xl font-bold",children:P.title})]}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>B(null),children:a.jsx(dn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6",children:[P.type==="note"&&a.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:P.content||""}}),P.type==="video"&&P.content&&a.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-black",children:P.content.includes("youtube")||P.content.includes("youtu.be")?a.jsx("iframe",{src:P.content.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/"),className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[a.jsx(Oa,{className:"w-16 h-16 mb-4"}),a.jsxs("a",{href:P.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-2",children:["Open Video ",a.jsx(Hk,{className:"w-4 h-4"})]})]})}),P.type==="link"&&P.content&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fh,{className:"w-16 h-16 text-orange-400 mx-auto mb-4"}),a.jsxs("a",{href:P.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-lg flex items-center justify-center gap-2",children:["Open Link ",a.jsx(Hk,{className:"w-5 h-5"})]})]}),P.type==="pdf"&&P.content&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(_1,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),a.jsxs("a",{href:P.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-lg flex items-center justify-center gap-2",children:["Open PDF ",a.jsx(Hk,{className:"w-5 h-5"})]})]}),P.type==="live-class"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Sl,{className:"w-16 h-16 text-pink-400 mx-auto mb-4"}),P.content?a.jsxs("a",{href:P.content,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600",children:[a.jsx(Oa,{className:"w-5 h-5"}),"Join Live Class"]}):a.jsx("p",{className:"text-gray-500",children:"No meeting link available"})]}),P.type==="quiz"&&P.quizQuestions&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold",children:["Quiz: ",P.quizQuestions.length," Questions"]})}),P.quizQuestions.map((se,Te)=>a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[a.jsxs("p",{className:"font-medium mb-3",children:[Te+1,". ",se.question]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:se.options.map((Ee,ue)=>a.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm ${ue===se.correctIndex?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200 border border-green-300 dark:border-green-700":"bg-white dark:bg-gray-800 border dark:border-gray-700"}`,children:[a.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+ue),"."]}),Ee,ue===se.correctIndex&&a.jsx(ua,{className:"w-4 h-4 inline ml-2 text-green-600"})]},ue))})]},se.id))]})]})]})})}),a.jsx($n,{children:Z&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>{Ie(!1),Me(null)},children:a.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-6 h-6 text-indigo-500"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Asset Library"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Browse and load saved content into your course"})]})]}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>{Ie(!1),Me(null)},children:a.jsx(dn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-4 border-b dark:border-gray-700 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(nt,{value:xe,onChange:se=>re(se.target.value),placeholder:"Search assets...",className:"pl-9"})]}),a.jsxs(Bt,{value:J,onValueChange:se=>pe(se),children:[a.jsx(Ft,{className:"w-[140px]",children:a.jsx(Vt,{placeholder:"Type"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Types"}),V7.map(se=>a.jsx(Ke,{value:se.type,children:se.label},se.type))]})]}),a.jsxs(Bt,{value:Y||"__all__",onValueChange:se=>{le(se==="__all__"?"":se),oe("")},children:[a.jsx(Ft,{className:"w-[140px]",children:a.jsx(Vt,{placeholder:"Subject"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"__all__",children:"All Subjects"}),s.map(se=>a.jsxs(Ke,{value:se.id,children:[se.icon," ",se.name]},se.id))]})]}),a.jsxs(Bt,{value:te||"__all__",onValueChange:se=>oe(se==="__all__"?"":se),disabled:!Y,children:[a.jsx(Ft,{className:"w-[140px]",children:a.jsx(Vt,{placeholder:"Topic"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"__all__",children:"All Topics"}),Pn.map(se=>a.jsx(Ke,{value:se.id,children:se.name},se.id))]})]})]}),!Ae&&Wt.length>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Load to:"}),a.jsxs(Bt,{value:Ae||"__none__",onValueChange:se=>Me(se==="__none__"?null:se),children:[a.jsx(Ft,{className:"w-[200px]",children:a.jsx(Vt,{placeholder:"Select section"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"__none__",children:"Select a section..."}),Wt.map(se=>a.jsx(Ke,{value:se.id,children:se.title},se.id))]})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ae?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading assets..."}):Cn.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Br,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No assets found"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Content you add to courses will appear here"})]}):a.jsx("div",{className:"grid gap-3",children:Cn.map(se=>{const Te=s.find(ue=>ue.id===se.subjectId),Ee=o.find(ue=>ue.id===se.topicId);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl border dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700 transition-colors",children:[a.jsx("div",{className:`p-2 rounded-lg ${me(se.type)}`,children:ie(se.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:se.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[a.jsx("span",{className:"capitalize",children:se.type}),Te&&a.jsxs("span",{children:[" ",Te.name]}),Ee&&a.jsxs("span",{children:[" ",Ee.name]}),se.quizQuestions&&a.jsxs("span",{children:[" ",se.quizQuestions.length," questions"]})]})]}),a.jsxs(ye,{size:"sm",disabled:!Ae,onClick:()=>Ae&&Kn(se,Ae),className:"gap-1",children:[a.jsx(xc,{className:"w-4 h-4"}),"Load"]})]},se.id)})})}),a.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[V.length," total assets  Content added to courses is auto-saved here"]})})]})})}),a.jsx($n,{children:Ve&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>ot(!1),children:a.jsxs(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[85vh] overflow-hidden shadow-2xl",onClick:se=>se.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center justify-between bg-gradient-to-r from-purple-500 to-pink-500",children:[a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(ss,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold",children:"Personal Asset Library"})]}),a.jsx("button",{onClick:()=>ot(!1),className:"text-white/80 hover:text-white",children:a.jsx(dn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-3 border-b dark:border-gray-700 flex flex-wrap gap-2",children:[{type:"all",label:"All",icon:""},{type:"mcq",label:"MCQ",icon:""},{type:"note",label:"Notes",icon:""}].map(({type:se,label:Te,icon:Ee})=>a.jsxs("button",{onClick:()=>Je(se),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${Ge===se?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[Ee," ",Te]},se))}),a.jsx("div",{className:"p-4 overflow-y-auto",style:{maxHeight:"calc(85vh - 160px)"},children:Mt.filter(se=>Ge==="all"||se.type===Ge).length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(ss,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"font-medium",children:"No assets available"}),a.jsx("p",{className:"text-sm",children:"Add content to your Personal Library first"})]}):a.jsx("div",{className:"space-y-2",children:Mt.filter(se=>Ge==="all"||se.type===Ge).map(se=>{const Te=kt.find(ue=>ue.id===se.subjectId),Ee=Qt.find(ue=>ue.id===se.topicId);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${se.type==="mcq"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":se.type==="note"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:se.type==="mcq"?"":se.type==="note"?"":""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:se.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[a.jsx("span",{className:"capitalize",children:se.type}),Te&&a.jsxs("span",{children:[" ",Te.name]}),Ee&&a.jsxs("span",{children:[" ",Ee.name]}),se.type==="mcq"&&se.quizQuestions&&a.jsxs("span",{children:[" ",se.quizQuestions.length," questions"]})]})]}),a.jsxs(ye,{size:"sm",disabled:!Ae,onClick:()=>{Ae&&(Xn(se,Ae),ot(!1))},className:"gap-1",children:[a.jsx(xc,{className:"w-4 h-4"}),"Import"]})]},se.id)})})}),Ae&&a.jsx("div",{className:"p-3 border-t dark:border-gray-700 bg-purple-50 dark:bg-purple-900/20",children:a.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300 text-center",children:[" Importing to: ",((De=Wt.find(se=>se.id===Ae))==null?void 0:De.title)||"Selected Section"]})})]})})})]})}function sWe({courseId:e}){const{user:t}=_i(),{liveTests:n,mcqs:r,addLiveTest:i,updateLiveTest:s,removeLiveTest:o,getLiveTestsByCourse:l,getMCQsByLesson:c}=Sc(),[u,d]=S.useState("schedule"),[f,h]=S.useState(!1),[p,y]=S.useState(""),[m,x]=S.useState(""),[v,g]=S.useState(""),[b,w]=S.useState(""),[T,k]=S.useState(""),[_,N]=S.useState("30"),[C,I]=S.useState("20"),[j,E]=S.useState(!0),[D,R]=S.useState(!0),[M,U]=S.useState(!0),[z,G]=S.useState(!0),[F,W]=S.useState(!1),[O,P]=S.useState(!1),[B,K]=S.useState("Daily Practice Test"),[Q,L]=S.useState("10:00"),[ee,ge]=S.useState("22:00"),[he,be]=S.useState("30"),[Oe,Z]=S.useState("20"),[Ie,V]=S.useState([0,1,2,3,4,5,6]),[ke,xe]=S.useState("23:00"),[re,J]=S.useState(!0),[pe,Y]=S.useState(!0),le=S.useMemo(()=>e?n.filter(je=>je.courseId===e):n,[n,e]),te=S.useMemo(()=>{const je=Date.now();return le.filter(Ge=>Ge.startTime>je).sort((Ge,Je)=>Ge.startTime-Je.startTime)},[le]),oe=S.useMemo(()=>{const je=Date.now();return le.filter(Ge=>Ge.startTime<=je&&Ge.endTime>je&&Ge.status==="active").sort((Ge,Je)=>Ge.startTime-Je.startTime)},[le]),ae=S.useMemo(()=>{const je=Date.now();return le.filter(Ge=>Ge.endTime<=je).sort((Ge,Je)=>Je.endTime-Ge.endTime)},[le]),fe=S.useMemo(()=>r.filter(je=>{var Ge;return!e||((Ge=je.lessonId)==null?void 0:Ge.startsWith(e))}),[r,e]),Ae=()=>{y(""),x(""),g(""),w(""),k(""),N("30"),I("20"),E(!0),R(!0),U(!0),G(!0),W(!1),h(!1)},Me=()=>{if(!p.trim()||!m||!v||!b||!T){alert("Please fill in all required fields");return}const je=new Date(`${m}T${v}`).getTime(),Ge=new Date(`${b}T${T}`).getTime();if(je>=Ge){alert("End time must be after start time");return}const Je=Math.min(parseInt(C),fe.length);[...fe].sort(()=>Math.random()-.5).slice(0,Je).map(Mt=>Mt.id);const Qt={id:`live-test-${Date.now()}`,courseId:e||"",title:p.trim(),description:"",startTime:je,endTime:Ge,duration:parseInt(_),totalQuestions:Je,totalMarks:Je,passingMarks:Math.ceil(Je*.4),negativeMarking:F,negativeMarksPerQuestion:F?.25:0,shuffleQuestions:z,autoReleaseResult:j,showSolutions:D,showLeaderboard:M,status:"scheduled",isPublished:!0,order:le.length,createdAt:Date.now()};i(Qt),Ae()},Ve=je=>new Date(je).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ot=je=>{const Ge=Date.now(),Je=je-Ge;if(Je<=0)return"Started";const kt=Math.floor(Je/(1e3*60*60*24)),Qt=Math.floor(Je%(1e3*60*60*24)/(1e3*60*60)),Mt=Math.floor(Je%(1e3*60*60)/(1e3*60));return kt>0?`${kt}d ${Qt}h`:Qt>0?`${Qt}h ${Mt}m`:`${Mt}m`},Fe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{variant:u==="schedule"?"default":"outline",size:"sm",onClick:()=>d("schedule"),className:"flex-1 sm:flex-none",children:[a.jsx(Sl,{className:"h-4 w-4 mr-1.5"}),"Schedule Tests"]}),a.jsxs(ye,{variant:u==="auto"?"default":"outline",size:"sm",onClick:()=>d("auto"),className:"flex-1 sm:flex-none",children:[a.jsx(_r,{className:"h-4 w-4 mr-1.5"}),"Auto Daily",O&&a.jsx("span",{className:"ml-1.5 w-2 h-2 bg-green-500 rounded-full"})]})]}),u==="schedule"&&a.jsxs("div",{className:"space-y-4",children:[f?a.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold",children:"Schedule New Live Test"}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:Ae,children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title *"}),a.jsx(nt,{placeholder:"e.g., Weekly Quiz #1",value:p,onChange:je=>y(je.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Date *"}),a.jsx(nt,{type:"date",value:m,onChange:je=>x(je.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time *"}),a.jsx(nt,{type:"time",value:v,onChange:je=>g(je.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Date *"}),a.jsx(nt,{type:"date",value:b,onChange:je=>w(je.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time *"}),a.jsx(nt,{type:"time",value:T,onChange:je=>k(je.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Duration"}),a.jsxs(Bt,{value:_,onValueChange:N,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"15",children:"15 minutes"}),a.jsx(Ke,{value:"30",children:"30 minutes"}),a.jsx(Ke,{value:"45",children:"45 minutes"}),a.jsx(Ke,{value:"60",children:"60 minutes"}),a.jsx(Ke,{value:"90",children:"90 minutes"}),a.jsx(Ke,{value:"120",children:"120 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Question Count"}),a.jsxs(Bt,{value:C,onValueChange:I,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"10",children:"10 Questions"}),a.jsx(Ke,{value:"20",children:"20 Questions"}),a.jsx(Ke,{value:"30",children:"30 Questions"}),a.jsx(Ke,{value:"50",children:"50 Questions"}),a.jsx(Ke,{value:"100",children:"100 Questions"})]})]})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[fe.length," questions available in your question bank"]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Settings"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Auto-release result after test ends"}),a.jsx(Hi,{checked:j,onCheckedChange:E})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show solutions after submission"}),a.jsx(Hi,{checked:D,onCheckedChange:R})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Show leaderboard"}),a.jsx(Hi,{checked:M,onCheckedChange:U})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Shuffle questions"}),a.jsx(Hi,{checked:z,onCheckedChange:G})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Negative marking"}),a.jsx(Hi,{checked:F,onCheckedChange:W})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ye,{variant:"outline",onClick:Ae,className:"flex-1",children:"Cancel"}),a.jsxs(ye,{onClick:Me,className:"flex-1",children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Create Test"]})]})]}):a.jsxs(ye,{onClick:()=>h(!0),className:"w-full",children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Schedule New Live Test"]}),te.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-sm text-muted-foreground",children:["Upcoming Tests (",te.length,")"]}),te.map(je=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:je.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Sl,{className:"h-3 w-3 inline mr-1"}),Ve(je.startTime)]}),a.jsxs("span",{children:[a.jsx($0,{className:"h-3 w-3 inline mr-1"}),je.duration," min"]}),a.jsxs("span",{children:[a.jsx(hh,{className:"h-3 w-3 inline mr-1"}),je.totalQuestions," Qs"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:ot(je.startTime)}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>o(je.id),children:a.jsx(kr,{className:"h-4 w-4 text-red-500"})})]})]})},je.id))]}),oe.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-sm text-green-600",children:["Active Now (",oe.length,")"]}),oe.map(je=>a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"LIVE"})]}),a.jsx("h5",{className:"font-medium",children:je.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(er,{className:"h-3 w-3 inline mr-1"}),"Ends ",Ve(je.endTime)]}),a.jsxs("span",{children:[a.jsx(hh,{className:"h-3 w-3 inline mr-1"}),je.totalQuestions," Qs"]})]})]},je.id))]}),ae.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-sm text-muted-foreground",children:["Past Tests (",ae.length,")"]}),ae.slice(0,5).map(je=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border opacity-70",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:je.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[a.jsx(Sl,{className:"h-3 w-3 inline mr-1"}),Ve(je.endTime)]}),a.jsxs("span",{className:"text-green-600",children:[a.jsx(ua,{className:"h-3 w-3 inline mr-1"}),"Completed"]})]})]}),a.jsxs(ye,{variant:"ghost",size:"sm",children:[a.jsx(yc,{className:"h-4 w-4 mr-1"})," Results"]})]})},je.id))]}),le.length===0&&!f&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx($0,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"No live tests scheduled yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Create your first live test to engage students"})]})]}),u==="auto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Auto Daily Test"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate daily practice tests"})]}),a.jsx(Hi,{checked:O,onCheckedChange:P})]}),O&&a.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Title"}),a.jsx(nt,{placeholder:"Daily Practice Test",value:B,onChange:je=>K(je.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),a.jsx(nt,{type:"time",value:Q,onChange:je=>L(je.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time"}),a.jsx(nt,{type:"time",value:ee,onChange:je=>ge(je.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Duration"}),a.jsxs(Bt,{value:he,onValueChange:be,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"15",children:"15 minutes"}),a.jsx(Ke,{value:"30",children:"30 minutes"}),a.jsx(Ke,{value:"45",children:"45 minutes"}),a.jsx(Ke,{value:"60",children:"60 minutes"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Questions"}),a.jsxs(Bt,{value:Oe,onValueChange:Z,children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"10",children:"10 Questions"}),a.jsx(Ke,{value:"20",children:"20 Questions"}),a.jsx(Ke,{value:"30",children:"30 Questions"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Active Days"}),a.jsx("div",{className:"flex gap-2",children:Fe.map((je,Ge)=>a.jsx("button",{onClick:()=>{Ie.includes(Ge)?V(Ie.filter(Je=>Je!==Ge)):V([...Ie,Ge])},className:`w-10 h-10 rounded-lg text-xs font-medium transition-colors ${Ie.includes(Ge)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:je},je))})]}),a.jsx(Y3e,{context:"coaching",disabled:!O,resultReleaseTime:ke,showLeaderboard:re,showDetailedAnalysis:pe,onResultReleaseTimeChange:xe,onShowLeaderboardChange:J,onShowDetailedAnalysisChange:Y}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-700 dark:text-green-400",children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:["Auto test will run daily from ",Q," to ",ee]})]})]}),!O&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(_r,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Auto daily test is disabled"}),a.jsx("p",{className:"text-xs mt-1",children:"Enable to automatically create practice tests"})]})]})]})}function aWe({courseId:e}){const{user:t}=_i(),{mcqs:n,addMCQ:r,updateMCQ:i,removeMCQ:s}=Sc(),{subjects:o,topics:l,contentPacks:c,selectedSubjectId:u,selectedTopicId:d,filterPricing:f,setSelectedSubject:h,setSelectedTopic:p,setFilterPricing:y,getTopicsBySubject:m,getPacksBySubject:x,getPacksByTopic:v,getMcqsByPack:g,addDownload:b,hasDownloaded:w}=Xr(),[T,k]=S.useState("single"),[_,N]=S.useState(""),[C,I]=S.useState(""),[j,E]=S.useState(""),[D,R]=S.useState(""),[M,U]=S.useState([]),[z,G]=S.useState([]),[F,W]=S.useState(""),[O,P]=S.useState(["","","",""]),[B,K]=S.useState(0),[Q,L]=S.useState(""),[ee,ge]=S.useState(null),[he,be]=S.useState([]),[Oe,Z]=S.useState(""),[Ie,V]=S.useState(!1),[ke,xe]=S.useState(""),[re,J]=S.useState(""),[pe,Y]=S.useState([]),[le,te]=S.useState(""),[oe,ae]=S.useState("file"),[fe,Ae]=S.useState(null),[Me,Ve]=S.useState(""),[ot,Fe]=S.useState("new"),[je,Ge]=S.useState(""),[Je,kt]=S.useState(null),[Qt,Mt]=S.useState(""),[Mn,sn]=S.useState(["","","",""]),[Qn,qn]=S.useState(0),[nr,Cn]=S.useState("");S.useEffect(()=>{(async()=>{try{const me=Yt(Dt(Le,"coaching-categories"),Jt("courseId","==",e||"global")),se=(await Bn(me)).docs.map(Te=>Te.data());se.length&&U(se.sort((Te,Ee)=>Ee.createdAt-Te.createdAt))}catch(me){console.error("Error loading categories",me)}})()},[e]);const Pn=S.useMemo(()=>_?l.filter(ie=>ie.subjectId===_&&ie.isActive):[],[_,l]),Wt=ie=>{const me=o.find(Te=>Te.id===ie.subjectId),De=l.find(Te=>Te.id===ie.topicId),se=ie.subtopic?`  ${ie.subtopic}`:"";return`${(me==null?void 0:me.name)||"Subject"} > ${(De==null?void 0:De.name)||"Topic"}${se}  ${ie.name}`},rr=ie=>n.filter(me=>me.categoryId===ie),ln=ie=>{G(me=>me.includes(ie)?me.filter(De=>De!==ie):[...me,ie])},Dn=async()=>{if(!_||!C){alert("Select Subject and Topic first");return}if(!D.trim()){alert("Enter category name");return}const ie={id:an(),name:D.trim(),subjectId:_,topicId:C,subtopic:j.trim()||void 0,createdAt:Date.now()};U(me=>[...me,ie]),R(""),E("");try{await bt(Ye(Le,"coaching-categories",ie.id),{...ie,courseId:e||"global",userId:t==null?void 0:t.id})}catch(me){console.error("Error saving category:",me)}},{addSingleMCQ:Or}=_c(),dr=async()=>{if(!F.trim()||!Q||!t)return;if(O.some(se=>!se.trim())){alert("Please fill all options");return}const{assetId:ie,questionId:me}=Or(F.trim(),O.map(se=>se.trim()),B,t.id,"coaching-subject","coaching-topic",void 0,"medium",void 0),De={id:an(),courseId:e||"",lessonId:"",question:F.trim(),options:O.map(se=>se.trim()),correctIndex:B,marks:1,negativeMarks:0,difficulty:"medium",order:n.length};De.categoryId=Q,De.createdBy=t.id,De.createdByName=t.displayName,De.createdAt=Date.now(),De.assetRef=`${ie}:${me}`,r(De),W(""),P(["","","",""]),K(0);try{await bt(Ye(Le,"coaching-mcqs",De.id),De)}catch(se){console.error("Error saving MCQ:",se)}},_n=async ie=>{V(!0),xe("");try{const me=await ie.arrayBuffer(),De=kT(me),se=De.SheetNames[0],Te=De.Sheets[se],Ee=Oee.sheet_to_json(Te,{header:1});if(!Ee.find(Re=>Re.some(We=>We))){xe("Empty file or no header found");return}const de=[];for(let Re=1;Re<Ee.length;Re++){const We=Ee[Re];if(!We||!We[0])continue;const Qe=String(We[0]||"").trim(),Ze=String(We[1]||"").trim(),pt=String(We[2]||"").trim(),Kt=String(We[3]||"").trim(),Tt=String(We[4]||"").trim(),Nt=String(We[5]||"").trim().toUpperCase();if(!Qe||!Ze||!pt||!Kt||!Tt)continue;let kn=0;Nt==="A"||Nt==="1"?kn=0:Nt==="B"||Nt==="2"?kn=1:Nt==="C"||Nt==="3"?kn=2:(Nt==="D"||Nt==="4")&&(kn=3),de.push({question:Qe,options:[Ze,pt,Kt,Tt],correctIndex:kn})}de.length===0?xe("No valid questions found. Format: Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4)"):be(de)}catch(me){console.error("Excel parse error:",me),xe("Error parsing Excel file")}finally{V(!1)}},ir=async ie=>{V(!0),xe("");try{const me=await ie.arrayBuffer(),se=(await Ul.extractRawText({arrayBuffer:me})).value,Te=[],Ee=se.split(/(?=\n\s*(?:\d+|[]+)[\.\)]\s*)/g);for(const ue of Ee){if(!ue.trim())continue;const de=ue.split(`
`).map(pt=>pt.trim()).filter(pt=>pt);if(de.length<5)continue;const Re=de[0].replace(/^(?:\d+|[]+)[\.\)]\s*/,"").trim();if(!Re)continue;const We=[/^[1AaA][\.\)\s]/,/^[2BbB][\.\)\s]/,/^[3CcC][\.\)\s]/,/^[4DdD][\.\)\s]/],Qe=["","","",""];let Ze=0;for(const pt of de.slice(1)){const Kt=pt.match(/(?:Ans|Answer|| |Correct)[:\s]*([1234AaBbCcDd])/i);if(Kt){const Tt=Kt[1].toUpperCase();Tt==="1"||Tt===""||Tt==="A"?Ze=0:Tt==="2"||Tt===""||Tt==="B"?Ze=1:Tt==="3"||Tt===""||Tt==="C"?Ze=2:(Tt==="4"||Tt===""||Tt==="D")&&(Ze=3);continue}if(pt.startsWith("*")){const Tt=pt.substring(1).trim();for(let Nt=0;Nt<We.length;Nt++)if(We[Nt].test(Tt)){Qe[Nt]=Tt.replace(We[Nt],"").trim(),Ze=Nt;break}continue}for(let Tt=0;Tt<We.length;Tt++)if(We[Tt].test(pt)){Qe[Tt]=pt.replace(We[Tt],"").trim();break}}Re&&Qe.every(pt=>pt)&&Te.push({question:Re,options:Qe,correctIndex:Ze})}Te.length===0?xe("No valid questions found. Check the format."):be(Te)}catch(me){console.error("Word parse error:",me),xe("Error parsing Word file")}finally{V(!1)}},jn=()=>{if(!re.trim()){te("Please enter JSON data");return}te("");try{const ie=JSON.parse(re);if(!Array.isArray(ie)){te("JSON must be an array of questions");return}const me=[];for(const De of ie){const se=De.question||De.q||De.text||"",Te=De.options||De.opts||De.choices||[];let Ee=0;if(typeof De.correctIndex=="number")Ee=De.correctIndex;else if(typeof De.correct=="number")Ee=De.correct;else if(typeof De.answer=="number")Ee=De.answer-1;else if(typeof De.ans=="number")Ee=De.ans-1;else if(typeof De.correct=="string"){const Re=De.correct.toUpperCase();Re==="A"||Re==="1"?Ee=0:Re==="B"||Re==="2"?Ee=1:Re==="C"||Re==="3"?Ee=2:(Re==="D"||Re==="4")&&(Ee=3)}const ue=De.explanation||De.exp||De.explain||De.solution||"";let de;if(De.difficulty||De.diff||De.level){const Re=(De.difficulty||De.diff||De.level||"").toLowerCase();Re==="easy"||Re==="e"||Re==="1"?de="easy":Re==="medium"||Re==="m"||Re==="2"||Re==="moderate"?de="medium":(Re==="hard"||Re==="h"||Re==="3"||Re==="difficult")&&(de="hard")}se&&Te.length>=4&&me.push({question:se,options:Te.slice(0,4),correctIndex:Ee,explanation:ue||void 0,difficulty:de})}if(me.length===0){te("No valid questions found in JSON");return}Y(me)}catch{te("Invalid JSON format")}},Kn=ie=>{var se,Te;const me=(se=ie.target.files)==null?void 0:se[0];if(!me)return;ge(me),be([]),xe("");const De=(Te=me.name.split(".").pop())==null?void 0:Te.toLowerCase();if(De==="xlsx"||De==="xls")_n(me);else if(De==="docx")ir(me);else if(De==="json"){const Ee=new FileReader;Ee.onload=ue=>{var de;J(((de=ue.target)==null?void 0:de.result)||""),ae("text")},Ee.readAsText(me)}else xe("Unsupported file type. Use .xlsx, .xls, .docx, or .json")},Xn=async ie=>{if(!(!Oe||!t||ie.length===0)){V(!0);try{for(const me of ie){const De={id:an(),courseId:e||"",lessonId:"",question:me.question,options:me.options,correctIndex:me.correctIndex,marks:1,negativeMarks:0,difficulty:me.difficulty||"medium",order:n.length};De.categoryId=Oe,De.createdBy=t.id,De.createdByName=t.displayName,De.createdAt=Date.now(),me.explanation&&(De.explanation=me.explanation),r(De),await bt(Ye(Le,"coaching-mcqs",De.id),De)}alert(` ${ie.length} questions uploaded successfully!`),ge(null),be([]),Y([]),Z("")}catch(me){console.error("Error saving questions:",me),xe("Error saving questions to database")}finally{V(!1)}}},br=async()=>{if(!fe||!t)return;let ie="";if(ot==="new"){if(!je.trim()){alert("Please enter a category name");return}if(!_||!C){alert("Select Subject and Topic above for new category");return}const De={id:an(),name:je.trim(),subjectId:_,topicId:C,subtopic:j.trim()||void 0,createdAt:Date.now()};U(se=>[...se,De]),ie=De.id,await bt(Ye(Le,"coaching-categories",De.id),{...De,courseId:e||"global",userId:t.id})}else{if(!Me){alert("Please select a category");return}ie=Me}const me=g(fe.id);for(const De of me){const se={id:an(),courseId:e||"",lessonId:"",question:De.question,options:De.options,correctIndex:De.correctIndex,explanation:De.explanation,marks:1,negativeMarks:0,difficulty:"medium",order:n.length};se.categoryId=ie,se.createdBy=t.id,se.createdByName=t.displayName,se.createdAt=Date.now(),se.sourcePackId=fe.id,r(se),await bt(Ye(Le,"coaching-mcqs",se.id),se)}b({id:an(),userId:t.id,packId:fe.id,packTitle:fe.title,subjectId:fe.subjectId,topicId:fe.topicId,pricing:fe.pricing,pricePaid:fe.pricing==="paid"?fe.price:0,downloadedAt:Date.now()}),alert(` ${me.length} questions downloaded to your Question Bank!`),Ae(null),Ge(""),Ve("")},ce=ie=>{kt(ie),Mt(ie.question),sn([...ie.options]),qn(ie.correctIndex),Cn(ie.categoryId||"")},Ne=async()=>{if(!Je||!Qt.trim()||Mn.some(me=>!me.trim()))return;const ie={...Je,question:Qt.trim(),options:Mn.map(me=>me.trim()),correctIndex:Qn};ie.categoryId=nr,i(ie);try{await bt(Ye(Le,"coaching-mcqs",ie.id),ie),ie.assetRef&&Q3e(ie.id)}catch(me){console.error("Error updating MCQ:",me)}kt(null)},ve=async ie=>{confirm("Delete this question?")&&s(ie)},_e=(ie,me,De="Select Category")=>a.jsxs(Bt,{value:ie,onValueChange:me,children:[a.jsx(Ft,{className:"w-60 h-8 text-sm",children:a.jsx(Vt,{placeholder:De})}),a.jsx(Lt,{children:M.map(se=>a.jsx(Ke,{value:se.id,children:Wt(se)},se.id))})]});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 border rounded-lg bg-muted/40 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Add category by Subject > Topic > Subtopic (optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-center",children:[a.jsxs(Bt,{value:_,onValueChange:ie=>{N(ie),I("")},children:[a.jsx(Ft,{className:"h-9 text-sm",children:a.jsx(Vt,{placeholder:"Select Subject"})}),a.jsx(Lt,{children:o.map(ie=>a.jsxs(Ke,{value:ie.id,children:[ie.icon?`${ie.icon} `:"",ie.name]},ie.id))})]}),a.jsxs(Bt,{value:C,onValueChange:I,disabled:!_,children:[a.jsx(Ft,{className:"h-9 text-sm",children:a.jsx(Vt,{placeholder:"Select Topic"})}),a.jsx(Lt,{children:Pn.map(ie=>a.jsx(Ke,{value:ie.id,children:ie.name},ie.id))})]}),a.jsx(nt,{placeholder:"Subtopic (optional)",value:j,onChange:ie=>E(ie.target.value),className:"h-9 text-sm"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(nt,{placeholder:"Category name",value:D,onChange:ie=>R(ie.target.value),className:"h-9 text-sm"}),a.jsxs(ye,{size:"sm",onClick:Dn,className:"h-9",children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Add"]})]})]})]}),a.jsx("div",{className:"flex gap-1 p-1 bg-muted rounded-lg",children:["single","group","instant"].map(ie=>a.jsxs("button",{onClick:()=>k(ie),className:`flex-1 px-2 py-1.5 rounded text-xs font-medium transition-colors ${T===ie?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[ie==="single"&&" Single",ie==="group"&&" Group",ie==="instant"&&" Instant"]},ie))}),T==="single"&&(M.length===0?a.jsx("p",{className:"text-xs text-amber-600 text-center py-3",children:"Add a category first (Subject > Topic > Subtopic)"}):a.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Add Single Question (MCQ)"}),a.jsx(lr,{value:F,onChange:ie=>W(ie.target.value),rows:2,className:"text-sm",placeholder:"Question"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[0,1,2,3].map(ie=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("input",{type:"radio",checked:B===ie,onChange:()=>K(ie),className:"w-3.5 h-3.5"}),a.jsxs("span",{className:`font-medium text-sm w-5 ${B===ie?"text-green-600":""}`,children:[ie+1,"."]}),a.jsx(nt,{value:O[ie],onChange:me=>{const De=[...O];De[ie]=me.target.value,P(De)},className:"flex-1 h-8 text-sm",placeholder:`Option ${ie+1}`})]},ie))}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_e(Q,L),a.jsxs(ye,{size:"sm",onClick:dr,children:[a.jsx(rn,{className:"h-4 w-4 mr-1"})," Add Question"]})]})]})),T==="group"&&a.jsxs("div",{className:"p-3 border rounded-lg bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:" Bulk Upload Questions"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select Subject > Topic > Subtopic, then upload Excel (.xlsx), Word (.docx), or JSON"})]}),a.jsxs("div",{className:"text-xs bg-white dark:bg-gray-900 p-3 rounded border space-y-2",children:[a.jsx("p",{className:"font-medium",children:" Excel Format (8 columns):"}),a.jsx("p",{className:"text-muted-foreground pl-2",children:"Question | Option 1 | Option 2 | Option 3 | Option 4 | Correct (1/2/3/4) | Explanation | Difficulty (easy/medium/hard)"}),a.jsx("p",{className:"font-medium mt-2",children:" Word Format:"}),a.jsx("div",{className:"text-muted-foreground pl-2 whitespace-pre-line",children:`1. Question
1) Option 1
2) Option 2
3) Option 3
4) Option 4
Ans: 1
Exp: Explanation here
Diff: medium`}),a.jsx("p",{className:"font-medium mt-2",children:" JSON Array Format:"}),a.jsxs("div",{className:"text-muted-foreground pl-2 text-[10px] font-mono",children:["[",'{"question":"Q1","options":["A","B","C","D"],"correctIndex":0,"explanation":"","difficulty":"medium"}',"]"]})]}),a.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded",children:[a.jsxs("button",{onClick:()=>ae("file"),className:`flex-1 px-2 py-1 rounded text-xs ${oe==="file"?"bg-background shadow":""}`,children:[a.jsx(V2e,{className:"h-3 w-3 inline mr-1"}),"File Upload"]}),a.jsxs("button",{onClick:()=>ae("text"),className:`flex-1 px-2 py-1 rounded text-xs ${oe==="text"?"bg-background shadow":""}`,children:[a.jsx(Lr,{className:"h-3 w-3 inline mr-1"}),"JSON Text"]})]}),oe==="file"&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls,.docx,.json",onChange:Kn,className:"text-xs file:mr-2 file:py-1.5 file:px-3 file:rounded file:border-0 file:text-xs file:bg-blue-500 file:text-white hover:file:bg-blue-600"}),ee&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",ee.name]})]}),oe==="text"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(lr,{value:re,onChange:ie=>J(ie.target.value),rows:4,className:"text-xs font-mono",placeholder:"Paste JSON array..."}),a.jsxs(ye,{onClick:jn,size:"sm",variant:"outline",className:"w-full",children:[a.jsx(_r,{className:"h-3 w-3 mr-1"})," Parse JSON"]}),le&&a.jsxs("p",{className:"text-xs text-red-500",children:[" ",le]})]}),Ie&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(_r,{className:"h-5 w-5 animate-spin mx-auto text-blue-500"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Processing..."})]}),ke&&a.jsxs("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-xs",children:[" ",ke]}),he.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:[" ",he.length," questions parsed"]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{ge(null),be([])},className:"h-6 text-xs",children:"Clear"})]}),a.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-2 bg-white dark:bg-gray-900",children:[he.slice(0,5).map((ie,me)=>a.jsxs("div",{className:"text-xs border-b pb-2 last:border-0",children:[a.jsxs("p",{className:"font-medium truncate",children:[me+1,". ",ie.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ie.options.map((De,se)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${se===ie.correctIndex?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[se+1,". ",De.slice(0,15),De.length>15?"...":""]},se))})]},me)),he.length>5&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",he.length-5," more..."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_e(Oe,Z,"Save to Category"),a.jsxs(ye,{onClick:()=>Xn(he),disabled:!Oe||Ie,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(lc,{className:"h-4 w-4 mr-1"}),"Save All (",he.length,")"]})]})]}),pe.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:[" ",pe.length," questions parsed from JSON"]}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{J(""),Y([])},className:"h-6 text-xs",children:"Clear"})]}),a.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2 border rounded p-2 bg-white dark:bg-gray-900",children:[pe.slice(0,5).map((ie,me)=>a.jsxs("div",{className:"text-xs border-b pb-2 last:border-0",children:[a.jsxs("p",{className:"font-medium truncate",children:[me+1,". ",ie.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ie.options.map((De,se)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${se===ie.correctIndex?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[se+1,". ",De.slice(0,15),De.length>15?"...":""]},se))})]},me)),pe.length>5&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",pe.length-5," more..."]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_e(Oe,Z,"Save to Category"),a.jsxs(ye,{onClick:()=>Xn(pe),disabled:!Oe||Ie,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(lc,{className:"h-4 w-4 mr-1"}),"Save All (",pe.length,")"]})]})]}),M.length===0&&a.jsx("p",{className:"text-xs text-amber-600 text-center",children:" Add category with Subject & Topic first"})]}),T==="instant"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xc,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"font-medium",children:"Content Library"})]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.length," packs available"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:u||"",onChange:ie=>{h(ie.target.value||null),p(null)},children:[a.jsx("option",{value:"",children:"All Subjects"}),o.map(ie=>a.jsxs("option",{value:ie.id,children:[ie.icon," ",ie.name]},ie.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:d||"",onChange:ie=>p(ie.target.value||null),disabled:!u,children:[a.jsx("option",{value:"",children:"All Topics"}),u&&m(u).map(ie=>a.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background",value:f,onChange:ie=>y(ie.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"free",children:" Free"}),a.jsx("option",{value:"paid",children:" Paid"})]})]}),a.jsx("div",{className:"grid gap-2 max-h-[350px] overflow-y-auto",children:(()=>{let ie=c;return u&&(ie=x(u)),d&&(ie=v(d)),f!=="all"&&(ie=ie.filter(me=>me.pricing===f)),ie.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(z0,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No content packs found"}),a.jsx("p",{className:"text-xs mt-1",children:"Try changing filters"})]}):ie.map(me=>{const De=o.find(Ee=>Ee.id===me.subjectId),se=l.find(Ee=>Ee.id===me.topicId),Te=t?w(me.id,t.id):!1;return a.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all hover:shadow-md ${(fe==null?void 0:fe.id)===me.id?"border-primary bg-primary/5":"hover:border-primary/50"} ${Te?"opacity-60":""}`,onClick:()=>Ae(me),children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:me.title}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[De==null?void 0:De.icon," ",De==null?void 0:De.name,"  ",se==null?void 0:se.name]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:me.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-[10px]",children:[me.mcqCount>0&&a.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded",children:[me.mcqCount," MCQs"]}),a.jsxs("span",{className:"text-muted-foreground",children:[" ",me.downloadCount]}),Te&&a.jsx("span",{className:"text-green-600 font-medium",children:" Downloaded"})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:me.pricing==="free"?a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:"FREE"}):a.jsxs("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded",children:["",me.price]})})]})},me.id)})})()}),fe&&a.jsxs("div",{className:"p-4 border-2 border-primary rounded-lg bg-primary/5 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:fe.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[fe.mcqCount," MCQs"]})]}),a.jsx("button",{onClick:()=>Ae(null),className:"text-muted-foreground hover:text-foreground",children:a.jsx(dn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"bg-background rounded-md p-2 max-h-[120px] overflow-y-auto",children:[a.jsx("p",{className:"text-[10px] font-medium text-muted-foreground mb-1",children:"Preview:"}),a.jsxs("div",{className:"space-y-1",children:[g(fe.id).slice(0,3).map((ie,me)=>a.jsxs("p",{className:"text-xs truncate",children:[me+1,". ",ie.question]},ie.id)),fe.mcqCount>3&&a.jsxs("p",{className:"text-[10px] text-muted-foreground italic",children:["+",fe.mcqCount-3," more..."]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs font-medium flex-1",children:"Download to:"}),a.jsxs("select",{className:"text-xs px-2 py-1.5 border rounded bg-background flex-1",value:ot,onChange:ie=>Fe(ie.target.value),children:[a.jsx("option",{value:"new",children:"New Category"}),a.jsx("option",{value:"merge",children:"Existing Category"})]})]}),ot==="new"?a.jsx(nt,{placeholder:"New category name...",value:je,onChange:ie=>Ge(ie.target.value),className:"h-8 text-sm"}):a.jsxs("select",{className:"w-full text-xs px-2 py-1.5 border rounded bg-background",value:Me,onChange:ie=>Ve(ie.target.value),children:[a.jsx("option",{value:"",children:"Select category..."}),M.map(ie=>a.jsx("option",{value:ie.id,children:Wt(ie)},ie.id))]})]}),a.jsxs(ye,{className:"w-full",onClick:br,disabled:ot==="new"?!je:!Me,children:[a.jsx(xc,{className:"h-4 w-4 mr-2"})," Download ",fe.mcqCount," MCQs"]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(yc,{className:"h-4 w-4"}),"All Questions (",n.length,")"]})}),M.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No categories yet. Add a category to start."}):a.jsx("div",{className:"space-y-2",children:M.map(ie=>{const me=rr(ie.id),De=z.includes(ie.id),se=o.find(Ee=>Ee.id===ie.subjectId),Te=l.find(Ee=>Ee.id===ie.topicId);return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>ln(ie.id),className:"w-full flex items-center justify-between p-3 bg-muted/30 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[De?a.jsx(Ba,{className:"h-4 w-4"}):a.jsx(Va,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium text-sm",children:Wt(ie)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:se==null?void 0:se.name}),a.jsxs("span",{children:[" ",Te==null?void 0:Te.name]}),ie.subtopic&&a.jsxs("span",{children:[" ",ie.subtopic]}),a.jsx("span",{className:"bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:me.length})]})]}),a.jsx($n,{children:De&&a.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsx("div",{className:"p-2 space-y-2 max-h-[300px] overflow-y-auto",children:me.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No questions in this category"}):me.map((Ee,ue)=>a.jsx("div",{className:"p-2 bg-background rounded border text-xs",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium",children:[ue+1,". ",Ee.question]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ee.options.map((de,Re)=>a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${Re===Ee.correctIndex?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:[Re+1,". ",de.slice(0,20),de.length>20?"...":""]},Re))})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>ce(Ee),className:"h-6 w-6 p-0",children:a.jsx(Kc,{className:"h-3 w-3"})}),a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>ve(Ee.id),className:"h-6 w-6 p-0 text-red-500",children:a.jsx(kr,{className:"h-3 w-3"})})]})]})},Ee.id))})})})]},ie.id)})})]}),a.jsx($n,{children:Je&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>kt(null),children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-lg p-4 w-full max-w-md shadow-xl",onClick:ie=>ie.stopPropagation(),children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Kc,{className:"h-4 w-4"}),"Edit Question"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(lr,{value:Qt,onChange:ie=>Mt(ie.target.value),rows:2,className:"text-sm",placeholder:"Question"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[0,1,2,3].map(ie=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"radio",checked:Qn===ie,onChange:()=>qn(ie),className:"w-3 h-3"}),a.jsx(nt,{value:Mn[ie],onChange:me=>{const De=[...Mn];De[ie]=me.target.value,sn(De)},className:"h-8 text-xs",placeholder:`Option ${ie+1}`})]},ie))}),_e(nr,Cn)]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(ye,{variant:"outline",size:"sm",onClick:()=>kt(null),className:"flex-1",children:"Cancel"}),a.jsxs(ye,{size:"sm",onClick:Ne,className:"flex-1",children:[a.jsx(_r,{className:"h-4 w-4 mr-1"}),"Save"]})]})]})})})]})}function oWe({courseId:e}){const{user:t}=_i(),{enrollments:n,myCourses:r,courses:i}=Sc(),[s,o]=S.useState("overview"),[l,c]=S.useState(""),[u,d]=S.useState("all"),[f,h]=S.useState("all"),[p,y]=S.useState("recent"),[m,x]=S.useState(null),[v,g]=S.useState(!1),[b,w]=S.useState(!1),[T,k]=S.useState(""),[_,N]=S.useState(""),[C,I]=S.useState(""),[j,E]=S.useState(""),[D,R]=S.useState("full"),[M,U]=S.useState([{id:"1",name:"Rahim Ahmed",email:"rahim@example.com",phone:"+880 1712-345678",enrolledAt:Date.now()-30*24*60*60*1e3,lastActiveAt:Date.now()-2*60*60*1e3,totalProgress:75,coursesEnrolled:2,testsCompleted:8,avgScore:82,status:"active"},{id:"2",name:"Fatima Begum",email:"fatima@example.com",enrolledAt:Date.now()-45*24*60*60*1e3,lastActiveAt:Date.now()-24*60*60*1e3,totalProgress:45,coursesEnrolled:1,testsCompleted:4,avgScore:68,status:"active"},{id:"3",name:"Karim Hossain",email:"karim@example.com",phone:"+880 1823-456789",enrolledAt:Date.now()-60*24*60*60*1e3,lastActiveAt:Date.now()-7*24*60*60*1e3,totalProgress:90,coursesEnrolled:3,testsCompleted:15,avgScore:91,status:"active"},{id:"4",name:"Nusrat Jahan",email:"nusrat@example.com",enrolledAt:Date.now()-90*24*60*60*1e3,lastActiveAt:Date.now()-30*24*60*60*1e3,totalProgress:20,coursesEnrolled:1,testsCompleted:2,avgScore:55,status:"inactive"}]),z=S.useMemo(()=>{let L=[...M];if(l.trim()){const ee=l.toLowerCase();L=L.filter(ge=>ge.name.toLowerCase().includes(ee)||ge.email.toLowerCase().includes(ee))}switch(u!=="all"&&(L=L.filter(ee=>ee.status===u)),p){case"name":L.sort((ee,ge)=>ee.name.localeCompare(ge.name));break;case"progress":L.sort((ee,ge)=>ge.totalProgress-ee.totalProgress);break;case"recent":L.sort((ee,ge)=>(ge.lastActiveAt||0)-(ee.lastActiveAt||0));break;case"score":L.sort((ee,ge)=>ge.avgScore-ee.avgScore);break}return L},[M,l,u,p]),G=S.useMemo(()=>({totalStudents:M.length,activeStudents:M.filter(L=>L.status==="active").length,avgProgress:Math.round(M.reduce((L,ee)=>L+ee.totalProgress,0)/M.length),avgScore:Math.round(M.reduce((L,ee)=>L+ee.avgScore,0)/M.length),topPerformer:M.reduce((L,ee)=>L.avgScore>ee.avgScore?L:ee)}),[M]),F=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),W=L=>{const ge=Date.now()-L,he=Math.floor(ge/(1e3*60)),be=Math.floor(ge/(1e3*60*60)),Oe=Math.floor(ge/(1e3*60*60*24));return he<60?`${he}m ago`:be<24?`${be}h ago`:Oe<7?`${Oe}d ago`:F(L)},O=()=>{if(!T.trim()||!_.trim()){alert("Please fill in name and email");return}const L={id:`student-${Date.now()}`,name:_.trim(),email:T.trim(),phone:C.trim()||void 0,enrolledAt:Date.now(),lastActiveAt:Date.now(),totalProgress:0,coursesEnrolled:1,testsCompleted:0,avgScore:0,status:"active"};U([L,...M]),N(""),k(""),I(""),E(""),o("students")},P=L=>{confirm("Are you sure you want to remove this student?")&&U(M.filter(ee=>ee.id!==L))},B=L=>{U(M.map(ee=>ee.id===L?{...ee,status:ee.status==="active"?"inactive":"active"}:ee))},K=L=>{switch(L){case"active":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"inactive":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300";case"blocked":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}},Q=L=>L>=75?"bg-green-500":L>=50?"bg-blue-500":L>=25?"bg-yellow-500":"bg-red-500";return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-1 p-1 bg-muted/50 rounded-lg overflow-x-auto",children:[a.jsxs("button",{onClick:()=>o("overview"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${s==="overview"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[a.jsx(W0,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),a.jsxs("button",{onClick:()=>o("students"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${s==="students"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[a.jsx(qa,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Students"})]}),a.jsxs("button",{onClick:()=>o("add"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${s==="add"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[a.jsx(rn,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Add"})]}),a.jsxs("button",{onClick:()=>o("analytics"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${s==="analytics"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[a.jsx(tm,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]})]}),s==="overview"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qa,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Total Students"})]}),a.jsx("p",{className:"text-xl font-bold",children:G.totalStudents}),a.jsxs("p",{className:"text-[10px] text-green-600",children:[G.activeStudents," active"]})]}),a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(tm,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Avg Progress"})]}),a.jsxs("p",{className:"text-xl font-bold",children:[G.avgProgress,"%"]}),a.jsx(Ob,{value:G.avgProgress,className:"h-1 mt-1.5"})]}),a.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ma,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Avg Score"})]}),a.jsxs("p",{className:"text-xl font-bold",children:[G.avgScore,"%"]})]}),a.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Hy,{className:"h-4 w-4 text-amber-500"}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Top Performer"})]}),a.jsx("p",{className:"text-sm font-bold truncate",children:G.topPerformer.name}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[G.topPerformer.avgScore,"% avg"]})]})]}),a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[a.jsx(q0,{className:"h-4 w-4 text-amber-500"}),"Top Performers"]}),a.jsx("div",{className:"space-y-1.5",children:M.sort((L,ee)=>ee.avgScore-L.avgScore).slice(0,3).map((L,ee)=>a.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-muted/50 rounded",children:[a.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${ee===0?"bg-amber-500 text-white":ee===1?"bg-gray-400 text-white":"bg-amber-700 text-white"}`,children:ee+1}),a.jsx(Mf,{className:"h-6 w-6",children:a.jsx(Uf,{className:"text-xs",children:L.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium truncate",children:L.name}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[L.avgScore,"%"]})]})]},L.id))})]}),a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4 text-blue-500"}),"Recent Activity"]}),a.jsx("div",{className:"space-y-1",children:M.sort((L,ee)=>(ee.lastActiveAt||0)-(L.lastActiveAt||0)).slice(0,5).map(L=>a.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-muted/50 rounded text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mf,{className:"h-5 w-5",children:a.jsx(Uf,{className:"text-[10px]",children:L.name.charAt(0)})}),a.jsx("span",{className:"truncate",children:L.name})]}),a.jsx("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap ml-2",children:L.lastActiveAt?W(L.lastActiveAt):"Never"})]},L.id))})]})]}),s==="students"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ad,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(nt,{placeholder:"Search...",value:l,onChange:L=>c(L.target.value),className:"pl-8 h-9 text-sm"})]}),a.jsxs(Bt,{value:u,onValueChange:L=>d(L),children:[a.jsx(Ft,{className:"w-20 h-9 text-xs",children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All"}),a.jsx(Ke,{value:"active",children:"Active"}),a.jsx(Ke,{value:"inactive",children:"Inactive"})]})]}),a.jsxs(Bt,{value:p,onValueChange:L=>y(L),children:[a.jsx(Ft,{className:"w-24 h-9 text-xs",children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"recent",children:"Recent"}),a.jsx(Ke,{value:"name",children:"Name"}),a.jsx(Ke,{value:"progress",children:"Progress"}),a.jsx(Ke,{value:"score",children:"Score"})]})]})]}),a.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:z.length===0?a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx(qa,{className:"h-10 w-10 mx-auto mb-2 opacity-30"}),a.jsx("p",{className:"text-xs",children:"No students found"})]}):z.map(L=>a.jsx("div",{className:"p-3 border rounded-lg bg-background hover:bg-muted/30 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-2.5",children:[a.jsx(Mf,{className:"h-9 w-9",children:a.jsx(Uf,{className:"text-sm",children:L.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:L.name}),a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${K(L.status)}`,children:L.status})]}),a.jsx("p",{className:"text-[11px] text-muted-foreground truncate",children:L.email}),a.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Br,{className:"h-3 w-3"})," ",L.coursesEnrolled]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ma,{className:"h-3 w-3"})," ",L.avgScore,"%"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(er,{className:"h-3 w-3"})," ",L.lastActiveAt?W(L.lastActiveAt):"N/A"]})]}),a.jsxs("div",{className:"mt-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between text-[10px] mb-0.5",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[L.totalProgress,"%"]})]}),a.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${Q(L.totalProgress)} transition-all`,style:{width:`${L.totalProgress}%`}})})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{x(L),g(!0)},children:a.jsx(yc,{className:"h-4 w-4"})}),a.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>B(L.id),children:L.status==="active"?a.jsx(dx,{className:"h-4 w-4 text-yellow-500"}):a.jsx(ua,{className:"h-4 w-4 text-green-500"})}),a.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500",onClick:()=>P(L.id),children:a.jsx(rwe,{className:"h-4 w-4"})})]})]})},L.id))}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Showing ",z.length," of ",M.length," students"]})]}),s==="add"&&a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Bg,{className:"h-5 w-5 text-blue-500"}),a.jsx("h4",{className:"font-medium",children:"Add New Student"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Full Name *"}),a.jsx(nt,{placeholder:"Enter student's full name",value:_,onChange:L=>N(L.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Email Address *"}),a.jsx(nt,{type:"email",placeholder:"student@example.com",value:T,onChange:L=>k(L.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),a.jsx(nt,{type:"tel",placeholder:"+880 1XXX-XXXXXX",value:C,onChange:L=>I(L.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Enroll to Course"}),a.jsxs(Bt,{value:j,onValueChange:E,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select a course"})}),a.jsx(Lt,{children:r.length>0?r.map(L=>a.jsx(Ke,{value:L.id,children:L.title},L.id)):a.jsx(Ke,{value:"demo",children:"Demo Course"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Access Type"}),a.jsxs(Bt,{value:D,onValueChange:L=>R(L),children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"full",children:"Full Access - All content"}),a.jsx(Ke,{value:"limited",children:"Limited Access - Selected content only"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Send Welcome Email"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Student will receive login instructions"})]}),a.jsx(Hi,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>o("students"),className:"flex-1",children:"Cancel"}),a.jsxs(ye,{onClick:O,className:"flex-1",children:[a.jsx(Bg,{className:"h-4 w-4 mr-2"})," Add Student"]})]})]}),s==="analytics"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(W0,{className:"h-4 w-4 text-blue-500"}),"Completion Rate Distribution"]}),a.jsx("div",{className:"space-y-3",children:[{label:"0-25%",count:M.filter(L=>L.totalProgress<25).length,color:"bg-red-500"},{label:"25-50%",count:M.filter(L=>L.totalProgress>=25&&L.totalProgress<50).length,color:"bg-yellow-500"},{label:"50-75%",count:M.filter(L=>L.totalProgress>=50&&L.totalProgress<75).length,color:"bg-blue-500"},{label:"75-100%",count:M.filter(L=>L.totalProgress>=75).length,color:"bg-green-500"}].map(L=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs w-16",children:L.label}),a.jsx("div",{className:"flex-1 h-4 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${L.color} transition-all`,style:{width:`${L.count/M.length*100}%`}})}),a.jsx("span",{className:"text-xs w-8 text-right",children:L.count})]},L.label))})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(hh,{className:"h-4 w-4 text-purple-500"}),"Score Distribution"]}),a.jsx("div",{className:"space-y-3",children:[{label:"Excellent (80+)",count:M.filter(L=>L.avgScore>=80).length,color:"bg-green-500"},{label:"Good (60-79)",count:M.filter(L=>L.avgScore>=60&&L.avgScore<80).length,color:"bg-blue-500"},{label:"Average (40-59)",count:M.filter(L=>L.avgScore>=40&&L.avgScore<60).length,color:"bg-yellow-500"},{label:"Needs Help (<40)",count:M.filter(L=>L.avgScore<40).length,color:"bg-red-500"}].map(L=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs w-28",children:L.label}),a.jsx("div",{className:"flex-1 h-4 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${L.color} transition-all`,style:{width:`${L.count/M.length*100}%`}})}),a.jsx("span",{className:"text-xs w-8 text-right",children:L.count})]},L.label))})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4 text-amber-500"}),"Activity Status"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:M.filter(L=>L.lastActiveAt&&L.lastActiveAt>Date.now()-24*60*60*1e3).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Today"})]}),a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:M.filter(L=>L.lastActiveAt&&L.lastActiveAt>Date.now()-7*24*60*60*1e3).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This Week"})]}),a.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:M.filter(L=>!L.lastActiveAt||L.lastActiveAt<Date.now()-7*24*60*60*1e3).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive"})]})]})]}),a.jsxs(ye,{variant:"outline",className:"w-full",children:[a.jsx(xc,{className:"h-4 w-4 mr-2"})," Export Student Data (CSV)"]})]}),a.jsx($n,{children:v&&m&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>g(!1),children:a.jsxs(st.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-background rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Student Details"}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>g(!1),children:a.jsx(dn,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Mf,{className:"h-16 w-16",children:a.jsx(Uf,{className:"text-xl",children:m.name.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-lg",children:m.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m.email}),m.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:m.phone})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[m.totalProgress,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Progress"})]}),a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[m.avgScore,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Score"})]}),a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:m.coursesEnrolled}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Courses"})]}),a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:m.testsCompleted}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tests Done"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium mb-2",children:"Timeline"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),a.jsx("span",{children:F(m.enrolledAt)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Last Active"}),a.jsx("span",{children:m.lastActiveAt?W(m.lastActiveAt):"Never"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ye,{variant:"outline",className:"w-full",onClick:()=>w(!0),children:[a.jsx(Qi,{className:"h-4 w-4 mr-2"})," Customize Course Plan"]}),a.jsxs(ye,{variant:"outline",className:"w-full",children:[a.jsx(eT,{className:"h-4 w-4 mr-2"})," Send Message"]})]})]})]})})})]})}const Rv={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},MC={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},lWe=[{id:"course_1",teacherId:"teacher_1",teacherName:"Dr. Rahman",title:"BCS Bengali Literature Complete",subtitle:"From Charyapada to Modern Literature",description:"Complete preparation for BCS exam",category:"BCS",level:"all",language:"Bengali",price:999,discountPrice:499,currency:"BDT",totalSections:12,totalLessons:85,totalDuration:1200,rating:4.8,totalReviews:234,totalStudents:1250,hasPreview:!0,hasCertificate:!0,isPublished:!0,tags:["BCS","Bengali","Literature"],whatYouWillLearn:["Ancient Literature","Medieval Literature","Modern Literature"],requirements:["Can read Bengali"],createdAt:new Date,updatedAt:new Date},{id:"course_2",teacherId:"teacher_1",teacherName:"Prof. Karim",title:"Bank Job Mathematics",subtitle:"All Math Topics - Easy Method",description:"Complete Mathematics course for Bank Jobs",category:"Bank Job",level:"intermediate",language:"Bengali",price:799,currency:"BDT",totalSections:8,totalLessons:64,totalDuration:900,rating:4.6,totalReviews:156,totalStudents:890,hasPreview:!0,hasCertificate:!0,isPublished:!0,tags:["Bank","Math"],whatYouWillLearn:["Percentage","Profit-Loss","Interest"],requirements:["Basic Math"],createdAt:new Date,updatedAt:new Date},{id:"course_3",teacherId:"teacher_2",teacherName:"Ms. Fatima",title:"English Grammar Mastery",subtitle:"From Basics to Advanced",description:"Complete English Grammar course",category:"English",level:"beginner",language:"English",price:0,currency:"BDT",totalSections:10,totalLessons:72,totalDuration:800,rating:4.9,totalReviews:312,totalStudents:2100,hasPreview:!0,hasCertificate:!1,isPublished:!0,tags:["English","Grammar","Free"],whatYouWillLearn:["Parts of Speech","Tenses","Voice"],requirements:["Basic English reading"],createdAt:new Date,updatedAt:new Date}];function W7({course:e,onView:t,onEdit:n,onManage:r,isTeacher:i=!1}){return a.jsxs(st.div,{variants:Rv,whileHover:{y:-4},className:"group bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-indigo-500 to-purple-600 overflow-hidden",children:[e.thumbnail?a.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(yu,{className:"w-16 h-16 text-white/30"})}),a.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[e.price===0&&a.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white text-xs font-medium rounded-full",children:"Free"}),e.discountPrice&&e.price>0&&a.jsxs("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-medium rounded-full",children:[Math.round((1-e.discountPrice/e.price)*100),"% OFF"]})]}),e.hasPreview&&a.jsx("button",{onClick:t,className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/40 transition-colors",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all",children:a.jsx(Oa,{className:"w-5 h-5 text-indigo-600 ml-1"})})}),i&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("button",{onClick:s=>{s.stopPropagation(),n==null||n()},className:"p-2 bg-white/90 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(sd,{className:"w-4 h-4 text-gray-600"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 text-xs font-medium rounded",children:e.category}),a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:e.level})]}),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 mb-2 cursor-pointer hover:text-indigo-600 transition-colors",onClick:t,children:e.title}),e.teacherName&&a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:e.teacherName}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx($c,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),e.rating.toFixed(1)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(qa,{className:"w-4 h-4"}),e.totalStudents]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(er,{className:"w-4 h-4"}),Math.floor(e.totalDuration/60),"h"]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t dark:border-gray-800",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.price===0?"Free":a.jsxs(a.Fragment,{children:[e.currency==="BDT"?"":"$",e.discountPrice||e.price]})}),e.discountPrice&&e.price>0&&a.jsxs("span",{className:"text-sm text-gray-400 line-through",children:[e.currency==="BDT"?"":"$",e.price]})]}),i?a.jsxs(ye,{size:"sm",onClick:r,children:[a.jsx(Br,{className:"w-4 h-4 mr-1"}),"Manage"]}):a.jsxs(ye,{size:"sm",variant:"outline",onClick:t,children:["View ",a.jsx(Va,{className:"w-4 h-4 ml-1"})]})]})]})]})}function lw({icon:e,label:t,value:n,trend:r,color:i}){const s={indigo:"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600",emerald:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600",amber:"bg-amber-100 dark:bg-amber-900/50 text-amber-600",rose:"bg-rose-100 dark:bg-rose-900/50 text-rose-600"};return a.jsxs(st.div,{variants:Rv,className:"bg-white dark:bg-gray-900 rounded-xl sm:rounded-2xl p-3 sm:p-5 border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 sm:justify-between",children:[a.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl ${s[i]}`,children:a.jsx(e,{className:"w-4 h-4 sm:w-6 sm:h-6"})}),a.jsxs("div",{className:"flex-1 min-w-0 sm:hidden",children:[a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:n}),a.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:t})]}),r&&a.jsxs("span",{className:"hidden sm:flex items-center gap-1 text-xs text-emerald-600 bg-emerald-100 dark:bg-emerald-900/50 px-2 py-1 rounded-full",children:[a.jsx(tm,{className:"w-3 h-3"}),r]})]}),a.jsxs("div",{className:"mt-3 hidden sm:block",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n}),a.jsx("p",{className:"text-sm text-gray-500",children:t})]}),r&&a.jsxs("span",{className:"flex sm:hidden items-center gap-1 text-[10px] text-emerald-600 mt-1",children:[a.jsx(tm,{className:"w-2.5 h-2.5"}),r]})]})}function cWe({activeSubTab:e,setActiveSubTab:t}){const{user:n}=_i(),{courses:r,teachers:i,myCourses:s,teacherProfile:o,loadFromFirestore:l}=Sc(),c=Pb(),[u,d]=S.useState(""),[f,h]=S.useState("all"),[p,y]=S.useState("grid"),[m,x]=S.useState(!1),[v,g]=S.useState(!1),[b,w]=S.useState(null),[T,k]=S.useState(null),[_,N]=S.useState(null),[C,I]=S.useState(!1),[j,E]=S.useState("all"),[D,R]=S.useState("all"),[M,U]=S.useState("all"),[z,G]=S.useState("popular"),[F,W]=S.useState("all"),[O,P]=S.useState(null),[B,K]=S.useState({students:!0,liveTest:!1,questionBank:!1}),Q=xe=>{K(re=>({...re,[xe]:!re[xe]}))};S.useEffect(()=>{n!=null&&n.id&&l(n.id)},[n==null?void 0:n.id,l]);const L=i.find(xe=>xe.userId===(n==null?void 0:n.id))??((o==null?void 0:o.userId)===(n==null?void 0:n.id)?o:void 0),ee=!!L,ge=r.length>0?r:[...r,...lWe],he=S.useMemo(()=>{const xe=new Set;return ge.forEach(re=>re.teacherName&&xe.add(re.teacherName)),Array.from(xe).sort()},[ge]),be="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),Oe=S.useMemo(()=>{let xe=ge.filter(re=>{const J=u.toLowerCase().trim(),pe=!J||re.title.toLowerCase().includes(J)||re.category.toLowerCase().includes(J)||re.teacherName&&re.teacherName.toLowerCase().includes(J)||re.tags&&re.tags.some(Ae=>Ae.toLowerCase().includes(J)),Y=f==="all"||re.category===f,le=j==="all"||re.level===j,te=D==="all"||D==="free"&&re.price===0||D==="paid"&&re.price>0,oe=M==="all"||re.rating>=parseFloat(M),ae=F==="all"||re.teacherName===F,fe=!O||re.title.toUpperCase().startsWith(O)||re.teacherName&&re.teacherName.toUpperCase().startsWith(O);return pe&&Y&&le&&te&&oe&&ae&&fe&&re.isPublished});switch(z){case"popular":xe.sort((re,J)=>J.totalStudents-re.totalStudents);break;case"rating":xe.sort((re,J)=>J.rating-re.rating);break;case"newest":xe.sort((re,J)=>new Date(J.createdAt).getTime()-new Date(re.createdAt).getTime());break;case"price-low":xe.sort((re,J)=>(re.discountPrice||re.price)-(J.discountPrice||J.price));break;case"price-high":xe.sort((re,J)=>(J.discountPrice||J.price)-(re.discountPrice||re.price));break;case"title-az":xe.sort((re,J)=>re.title.localeCompare(J.title));break;case"title-za":xe.sort((re,J)=>J.title.localeCompare(re.title));break;case"teacher-az":xe.sort((re,J)=>(re.teacherName||"").localeCompare(J.teacherName||""));break}return xe},[ge,u,f,j,D,M,F,O,z]),Z=["all",...new Set(ge.map(xe=>xe.category))],Ie=[j,D,M,F].filter(xe=>xe!=="all").length+(O?1:0),V=()=>{E("all"),R("all"),U("all"),W("all"),P(null),G("popular")},ke={totalCourses:s.length,totalStudents:s.reduce((xe,re)=>xe+(re.totalStudents||0),0),totalRevenue:s.reduce((xe,re)=>xe+(re.discountPrice||re.price)*(re.totalStudents||0),0),avgRating:s.length>0?(s.reduce((xe,re)=>xe+(re.rating||0),0)/s.length).toFixed(1):0};return b?a.jsx(rWe,{courseId:b,onBack:()=>w(null)}):_?a.jsx(iWe,{courseId:_,onBack:()=>N(null)}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 -mx-4 sm:mx-0",children:[a.jsx("div",{className:"hidden sm:block bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(yu,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Coaching Desk"}),a.jsx("p",{className:"text-white/80 text-sm",children:e==="browse"?"Learn from the best":"Manage your courses"})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-1 bg-white/10 rounded-xl p-1",children:[a.jsxs("button",{onClick:()=>t("browse"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="browse"?"bg-white text-indigo-600":"text-white hover:bg-white/10"}`,children:[a.jsx(Br,{className:"w-4 h-4 inline mr-2"}),"Browse"]}),a.jsxs("button",{onClick:()=>t("my-courses"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="my-courses"||e==="settings"?"bg-white text-indigo-600":"text-white hover:bg-white/10"}`,children:[a.jsx(nwe,{className:"w-4 h-4 inline mr-2"}),"My Courses"]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[(e==="my-courses"||e==="settings")&&a.jsxs(st.div,{variants:MC,initial:"hidden",animate:"visible",className:"space-y-4 sm:space-y-6",children:[ee&&e==="my-courses"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 lg:grid-cols-4",children:[a.jsx(lw,{icon:Br,label:"Courses",value:ke.totalCourses,color:"indigo"}),a.jsx(lw,{icon:qa,label:"Students",value:ke.totalStudents.toLocaleString(),trend:"+12%",color:"emerald"}),a.jsx(lw,{icon:Mw,label:"Revenue",value:`${ke.totalRevenue.toLocaleString()}`,trend:"+8%",color:"amber"}),a.jsx(lw,{icon:$c,label:"Rating",value:ke.avgRating,color:"rose"})]})}),a.jsxs(G0,{value:e==="settings"?"settings":"courses",onValueChange:xe=>t(xe==="settings"?"settings":"my-courses"),className:"w-full",children:[a.jsxs(am,{className:"hidden lg:grid w-full grid-cols-2 mb-6",children:[a.jsxs(Ai,{value:"courses",children:[a.jsx(Br,{className:"h-4 w-4 mr-2"})," My Courses"]}),a.jsxs(Ai,{value:"settings",children:[a.jsx(Qi,{className:"h-4 w-4 mr-2"})," Settings"]})]}),a.jsx(Ci,{value:"courses",className:"space-y-4 sm:space-y-6",children:ee?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-5 gap-1.5 sm:hidden",children:[a.jsxs("button",{onClick:()=>g(!0),className:"flex flex-col items-center gap-1 p-2 bg-primary text-primary-foreground rounded-xl",children:[a.jsx(rn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-medium",children:"New"})]}),a.jsxs("button",{onClick:()=>x(!0),className:"flex flex-col items-center gap-1 p-2 bg-muted rounded-xl",children:[a.jsx(Qi,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px]",children:"Profile"})]}),a.jsxs("button",{onClick:async()=>{try{await uA(o,s),c.success("Cloud Sync !","  data cloud  save ")}catch(xe){console.error("Sync failed:",xe),c.error("Sync !",xe.message)}},className:"flex flex-col items-center gap-1 p-2 bg-muted rounded-xl",children:[a.jsx($k,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px]",children:"Sync"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 p-2 bg-muted rounded-xl",children:[a.jsx(W0,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px]",children:"Report"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 p-2 bg-muted rounded-xl",children:[a.jsx(T1,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px]",children:"Message"})]})]}),a.jsxs("div",{className:"hidden sm:flex gap-2 flex-wrap",children:[a.jsxs(ye,{size:"sm",onClick:()=>g(!0),children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create Course"]}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>x(!0),children:[a.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),a.jsxs(ye,{size:"sm",variant:"outline",onClick:async()=>{try{await uA(o,s),c.success("Cloud Sync !","  data cloud  save ")}catch(xe){console.error("Sync failed:",xe),c.error("Sync !",xe.message)}},children:[a.jsx($k,{className:"w-4 h-4 mr-2"}),"Sync"]}),a.jsxs(ye,{size:"sm",variant:"outline",children:[a.jsx(W0,{className:"w-4 h-4 mr-2"}),"Analytics"]}),a.jsxs(ye,{size:"sm",variant:"outline",children:[a.jsx(T1,{className:"w-4 h-4 mr-2"}),"Messages"]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"My Courses"}),s.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(xe=>a.jsx(W7,{course:xe,isTeacher:!0,onView:()=>w(xe.id),onEdit:()=>{k(xe),g(!0)},onManage:()=>N(xe.id)},xe.id))}):a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-900 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700",children:[a.jsx(Br,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No courses yet"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first course and start teaching!"}),a.jsxs(ye,{onClick:()=>g(!0),children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create Course"]})]})]})]}):a.jsx(st.div,{variants:Rv,className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:a.jsx(q0,{className:"w-8 h-8 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Complete Your Teacher Profile"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Set up your teacher profile to start creating courses."}),a.jsxs(ye,{onClick:()=>x(!0),children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Complete Profile"]})]})]})})}),a.jsx(Ci,{value:"settings",className:"space-y-6",children:ee?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[a.jsxs(ye,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>x(!0),children:[a.jsx(Qi,{className:"w-4 h-4 mr-1.5"}),"Edit Profile"]}),a.jsxs(ye,{size:"sm",variant:"outline",className:"flex-1",onClick:async()=>{try{await uA(o,s),c.success("Synced!","Data saved to cloud")}catch(xe){c.error("Sync Failed",xe.message)}},children:[a.jsx($k,{className:"w-4 h-4 mr-1.5"}),"Sync"]})]}),a.jsxs(ut,{className:"border border-indigo-200 dark:border-indigo-800 overflow-hidden",children:[a.jsxs("button",{onClick:()=>Q("students"),className:"w-full px-3 py-2.5 flex items-center justify-between bg-indigo-50 dark:bg-indigo-900/30 hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qa,{className:"h-4 w-4 text-indigo-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Students"})]}),B.students?a.jsx(Tv,{className:"h-4 w-4"}):a.jsx(Ba,{className:"h-4 w-4"})]}),a.jsx($n,{children:B.students&&a.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:a.jsx(Ht,{className:"pt-3 px-3",children:a.jsx(oWe,{})})})})]}),a.jsxs(ut,{className:"border border-cyan-200 dark:border-cyan-800 overflow-hidden",children:[a.jsxs("button",{onClick:()=>Q("liveTest"),className:"w-full px-3 py-2.5 flex items-center justify-between bg-cyan-50 dark:bg-cyan-900/30 hover:bg-cyan-100 dark:hover:bg-cyan-900/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($0,{className:"h-4 w-4 text-cyan-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Live Tests"})]}),B.liveTest?a.jsx(Tv,{className:"h-4 w-4"}):a.jsx(Ba,{className:"h-4 w-4"})]}),a.jsx($n,{children:B.liveTest&&a.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:a.jsx(Ht,{className:"pt-3",children:a.jsx(sWe,{})})})})]}),a.jsxs(ut,{className:"border border-green-200 dark:border-green-800 overflow-hidden",children:[a.jsxs("button",{onClick:()=>Q("questionBank"),className:"w-full px-3 py-2.5 flex items-center justify-between bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ru,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Question Bank"})]}),B.questionBank?a.jsx(Tv,{className:"h-4 w-4"}):a.jsx(Ba,{className:"h-4 w-4"})]}),a.jsx($n,{children:B.questionBank&&a.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:a.jsx(Ht,{className:"pt-3",children:a.jsx(aWe,{})})})})]})]}):a.jsx(st.div,{variants:Rv,className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:a.jsx(q0,{className:"w-8 h-8 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Complete Your Teacher Profile"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Set up your teacher profile to access settings and manage your courses."}),a.jsxs(ye,{onClick:()=>x(!0),children:[a.jsx(rn,{className:"w-4 h-4 mr-2"}),"Complete Profile"]})]})]})})})]})]}),e==="browse"&&a.jsxs(st.div,{variants:MC,initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsxs(st.div,{variants:Rv,className:"bg-white dark:bg-gray-900 rounded-xl sm:rounded-2xl p-3 sm:p-4 border border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex gap-2 sm:hidden",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ad,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(nt,{placeholder:"Search courses...",value:u,onChange:xe=>d(xe.target.value),className:"pl-8 h-9 text-sm"})]}),a.jsx("button",{onClick:()=>I(!C),className:`p-2 rounded-lg transition-all ${C?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:a.jsx(yM,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 dark:bg-gray-800 rounded-lg p-0.5",children:[a.jsx("button",{onClick:()=>y("grid"),className:`p-1.5 rounded ${p==="grid"?"bg-white dark:bg-gray-700 shadow-sm":""}`,children:a.jsx(J_,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y("list"),className:`p-1.5 rounded ${p==="list"?"bg-white dark:bg-gray-700 shadow-sm":""}`,children:a.jsx(gM,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"hidden sm:flex flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(nt,{placeholder:"Search courses, teachers, subjects...",value:u,onChange:xe=>d(xe.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>I(!C),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${C?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[a.jsx(yM,{className:"w-4 h-4"}),"Filters",Ie>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-white text-indigo-600 rounded-full",children:Ie})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded ${p==="grid"?"bg-white dark:bg-gray-700 shadow-sm":""}`,children:a.jsx(J_,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded ${p==="list"?"bg-white dark:bg-gray-700 shadow-sm":""}`,children:a.jsx(gM,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"flex items-center gap-1.5 sm:gap-2 overflow-x-auto pb-1 mt-3 sm:mt-4 scrollbar-thin -mx-1 px-1",children:Z.map(xe=>a.jsx("button",{onClick:()=>h(xe),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full sm:rounded-lg text-xs sm:text-sm font-medium whitespace-nowrap transition-all ${f===xe?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:xe==="all"?"All":xe},xe))})]}),a.jsx($n,{children:C&&a.jsx(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q2e,{className:"w-5 h-5 text-indigo-600"}),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"})]}),Ie>0&&a.jsxs("button",{onClick:V,className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[a.jsx(dn,{className:"w-4 h-4"})," Clear all"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Teacher"}),a.jsxs("select",{value:F,onChange:xe=>W(xe.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Teachers"}),he.map(xe=>a.jsx("option",{value:xe,children:xe},xe))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Level"}),a.jsxs("select",{value:j,onChange:xe=>E(xe.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Levels"}),a.jsx("option",{value:"beginner",children:"Beginner"}),a.jsx("option",{value:"intermediate",children:"Intermediate"}),a.jsx("option",{value:"advanced",children:"Advanced"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Price"}),a.jsxs("select",{value:D,onChange:xe=>R(xe.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Prices"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"paid",children:"Paid"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Rating"}),a.jsxs("select",{value:M,onChange:xe=>U(xe.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Ratings"}),a.jsx("option",{value:"4.5",children:"4.5+ "}),a.jsx("option",{value:"4",children:"4+ "}),a.jsx("option",{value:"3.5",children:"3.5+ "})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1.5 block",children:"Sort By"}),a.jsxs("select",{value:z,onChange:xe=>G(xe.target.value),className:"w-full px-3 py-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"title-az",children:"Title: A-Z"}),a.jsx("option",{value:"title-za",children:"Title: Z-A"}),a.jsx("option",{value:"teacher-az",children:"Teacher: A-Z"})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("label",{className:"text-xs font-medium text-gray-500 mb-2 block",children:"Browse by Letter (Course/Teacher)"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx("button",{onClick:()=>P(null),className:`w-8 h-8 text-xs font-medium rounded-lg transition-all ${O?"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":"bg-indigo-600 text-white"}`,children:"All"}),be.map(xe=>a.jsx("button",{onClick:()=>P(O===xe?null:xe),className:`w-8 h-8 text-xs font-medium rounded-lg transition-all ${O===xe?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/30"}`,children:xe},xe))]})]})]})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:f==="all"?"All Courses":f}),O&&a.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 rounded-lg",children:['Starting with "',O,'"']})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Oe.length," courses found"]})]}),Oe.length===0?a.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[a.jsx(Br,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No courses found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filters"}),Ie>0&&a.jsx("button",{onClick:V,className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Clear all filters"})]}):a.jsx(st.div,{variants:MC,initial:"hidden",animate:"visible",className:p==="grid"?"grid sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Oe.map(xe=>a.jsx(W7,{course:xe,onView:()=>w(xe.id)},xe.id))})]})]})]}),a.jsxs($n,{children:[m&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",onClick:()=>x(!1),children:a.jsx(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:xe=>xe.stopPropagation(),children:a.jsx(Zqe,{onClose:()=>x(!1),existingProfile:L||void 0})})}),v&&a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",onClick:()=>{g(!1),k(null)},children:a.jsx(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:xe=>xe.stopPropagation(),children:a.jsx(tWe,{onClose:()=>{g(!1),k(null)},existingCourse:T||void 0})})})]})]})}function uWe({open:e,onOpenChange:t}){var g,b;const{user:n,setUser:r}=_i(),i=Pb(),[s,o]=S.useState((n==null?void 0:n.displayName)||""),[l,c]=S.useState((n==null?void 0:n.institution)||""),[u,d]=S.useState(null),[f,h]=S.useState(null),[p,y]=S.useState(!1),m=w=>{var k;const T=(k=w.target.files)==null?void 0:k[0];if(T){if(T.size>2*1024*1024){i.error("  "," MB    ");return}if(!T.type.startsWith("image/")){i.error("  ","   ");return}d(T);const _=new FileReader;_.onload=N=>{var C;h((C=N.target)==null?void 0:C.result)},_.readAsDataURL(T)}},x=async()=>{if(!(!n||n.isGuest)){y(!0);try{let w=n.photoURL;if(u&&hj){const k=WH(hj,`avatars/${n.id}/${Date.now()}_${u.name}`),_=await VH(k,u);w=await qH(_.ref)}const T=Ye(Le,"users",n.id);await P0(T,{displayName:s.trim()||n.displayName,institution:l.trim(),photoURL:w,lastActive:new Date}),Fs.currentUser&&await xue(Fs.currentUser,{displayName:s.trim()||n.displayName,photoURL:w}),r({...n,displayName:s.trim()||n.displayName,institution:l.trim(),photoURL:w}),i.success("Profile Updated!","Your information has been saved successfully"),t(!1)}catch(w){console.error("Error updating profile:",w),i.error("Error","Failed to update profile")}finally{y(!1)}}},v=w=>{w&&(o((n==null?void 0:n.displayName)||""),c((n==null?void 0:n.institution)||""),d(null),h(null)),t(w)};return a.jsx(is,{open:e,onOpenChange:v,children:a.jsxs(Wi,{className:"sm:max-w-md",children:[a.jsxs(zi,{children:[a.jsxs($i,{className:"flex items-center gap-2",children:[a.jsx(Cp,{className:"h-5 w-5"}),"Edit Profile"]}),a.jsx(im,{children:"Update your name, institution and photo"})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(st.div,{whileHover:{scale:1.05},className:"h-24 w-24 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center overflow-hidden border-4 border-background shadow-lg",children:f||n!=null&&n.photoURL?a.jsx("img",{src:f||(n==null?void 0:n.photoURL),alt:"Profile",className:"h-full w-full object-cover"}):a.jsx("span",{className:"text-3xl font-bold text-primary",children:((g=n==null?void 0:n.displayName)==null?void 0:g[0])||((b=n==null?void 0:n.email)==null?void 0:b[0])||"U"})}),a.jsx("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center cursor-pointer hover:bg-primary/90 transition-colors shadow-md",children:a.jsx(tK,{className:"h-4 w-4"})}),a.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",onChange:m,className:"hidden"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:" MB  JPG, PNG"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Cp,{className:"h-4 w-4 text-muted-foreground"}),""]}),a.jsx(nt,{value:s,onChange:w=>o(w.target.value),placeholder:" ",maxLength:50})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(M2e,{className:"h-4 w-4 text-muted-foreground"}),""]}),a.jsx(nt,{value:l,onChange:w=>c(w.target.value),placeholder:" //",maxLength:100})]})]}),a.jsxs(T5,{children:[a.jsx(ye,{variant:"outline",onClick:()=>t(!1),disabled:p,children:""}),a.jsxs(ye,{onClick:x,disabled:p,children:[p?a.jsx(fx,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(ho,{className:"h-4 w-4 mr-2"})," "]})]})]})})}function dWe({open:e,onOpenChange:t}){var v;const{user:n,logout:r}=_i(),i=Pb(),[s,o]=S.useState("confirm"),[l,c]=S.useState(""),[u,d]=S.useState(""),[f,h]=S.useState(!1),p=(v=Fs.currentUser)==null?void 0:v.providerData.some(g=>g.providerId==="google.com"),y=async()=>{if(!Fs.currentUser)return!1;try{if(p){const g=new rc;await Wue(Fs.currentUser,g)}else{if(!l)return i.error(" ","    "),!1;const g=_m.credential(Fs.currentUser.email||"",l);await due(Fs.currentUser,g)}return!0}catch(g){return console.error("Re-authentication error:",g),g.code==="auth/wrong-password"?i.error(" ","  "):g.code==="auth/popup-closed-by-user"?i.error(" ","Google -   "):i.error(" ","  "),!1}},m=async()=>{if(!(!n||!Fs.currentUser)){if(u!=="DELETE"){i.error(" ","DELETE ");return}h(!0);try{if(!await y()){h(!1);return}const b=Ua(Le);b.delete(Ye(Le,"users",n.id));try{const w=Yt(Dt(Le,"testResults"),Jt("userId","==",n.id));(await Bn(w)).forEach(k=>{b.delete(k.ref)})}catch(w){console.warn("Could not delete test results:",w)}try{const w=Yt(Dt(Le,"liveTestResults"),Jt("userId","==",n.id));(await Bn(w)).forEach(k=>{b.delete(k.ref)})}catch(w){console.warn("Could not delete live test results:",w)}await b.commit(),await _ue(Fs.currentUser),r(),i.success("  ","     "),t(!1)}catch(g){console.error("Delete account error:",g),g.code==="auth/requires-recent-login"?(o("reauthenticate"),i.warning("  ","    ")):i.error(" ","   ")}finally{h(!1)}}},x=g=>{g||(o("confirm"),c(""),d("")),t(g)};return a.jsx(is,{open:e,onOpenChange:x,children:a.jsxs(Wi,{className:"sm:max-w-md",children:[a.jsxs(zi,{children:[a.jsxs($i,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(J2e,{className:"h-5 w-5"}),"  "]}),a.jsx(im,{children:"        "})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($u,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-destructive mb-2",children:"The following data will be deleted:"}),a.jsxs("ul",{className:"text-muted-foreground space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Your profile information"}),a.jsx("li",{children:"All test results & performance data"}),a.jsx("li",{children:"Group memberships"}),a.jsx("li",{children:"All settings & preferences"})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[!p&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Confirm your password"}),a.jsx(nt,{type:"password",value:l,onChange:g=>c(g.target.value),placeholder:"Your password"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-1 block",children:["Type ",a.jsx("span",{className:"font-mono bg-muted px-1 rounded",children:"DELETE"})," to confirm"]}),a.jsx(nt,{value:u,onChange:g=>d(g.target.value.toUpperCase()),placeholder:"DELETE",className:"font-mono"})]})]})]}),a.jsxs(T5,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(ye,{variant:"outline",onClick:()=>x(!1),disabled:f,className:"w-full sm:w-auto",children:""}),a.jsxs(ye,{variant:"destructive",onClick:m,disabled:f||u!=="DELETE",className:"w-full sm:w-auto",children:[f?a.jsx(fx,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(kr,{className:"h-4 w-4 mr-2"}),"  "]})]})]})})}function fWe(){const{user:e}=_i(),t=Pb(),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(null);S.useEffect(()=>{(async()=>{const y="Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window;if(r(y),y&&Notification.permission==="granted"){s(!0);const m=await j8();u(m)}})()},[]),S.useEffect(()=>{i&&V0e(p=>{console.log("Foreground message received:",p);const y=p.notification;y&&t.info(y.title||"New Notification",y.body)})},[i,t]);const d=S.useCallback(async()=>{if(!n)return t.error("Not Supported","Your browser does not support push notifications"),!1;l(!0);try{if(await Notification.requestPermission()!=="granted")return t.warning("Permission Required","Please allow notifications"),l(!1),!1;await O3();const y=await j8();return y?(u(y),s(!0),e&&!e.isGuest&&await P0(Ye(Le,"users",e.id),{fcmTokens:eme(y),notificationsEnabled:!0,lastTokenUpdate:new Date}),t.success("Notifications Enabled!","You will now receive notifications"),!0):(t.error("Error","Failed to get token"),!1)}catch(p){return console.error("Error enabling notifications:",p),t.error("Error","Failed to enable notifications"),!1}finally{l(!1)}},[n,e,t]),f=S.useCallback(async()=>{l(!0);try{return e&&!e.isGuest&&c&&await P0(Ye(Le,"users",e.id),{fcmTokens:tme(c),notificationsEnabled:!1}),s(!1),u(null),t.info("Notifications Disabled","You will no longer receive notifications"),!0}catch(p){return console.error("Error disabling notifications:",p),t.error("Error","Failed to disable notifications"),!1}finally{l(!1)}},[e,c,t]),h=S.useCallback(async()=>i?f():d(),[i,d,f]);return{isSupported:n,isEnabled:i,isLoading:o,fcmToken:c,enableNotifications:d,disableNotifications:f,toggleNotifications:h}}const hWe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Xh={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function pWe(){var x,v;const{theme:e,setTheme:t,hapticEnabled:n,setHapticEnabled:r,triggerHaptic:i}=F3(),{user:s,logout:o}=_i(),[l,c]=S.useState(!1),[u,d]=S.useState(!1),{isSupported:f,isEnabled:h,isLoading:p,toggleNotifications:y}=fWe(),m=[{value:"light",label:"Light",icon:twe},{value:"dark",label:"Dark",icon:G2e},{value:"system",label:"System",icon:H2e}];return a.jsxs(st.div,{variants:hWe,initial:"hidden",animate:"visible",className:"space-y-6 max-w-3xl",children:[a.jsxs(st.div,{variants:Xh,children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(Qi,{className:"h-8 w-8"}),"Settings"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your preferences"})]}),a.jsx(st.div,{variants:Xh,children:a.jsxs(ut,{children:[a.jsxs(Wn,{children:[a.jsxs(Jn,{className:"flex items-center gap-2",children:[a.jsx(Cp,{className:"h-5 w-5"}),"Profile"]}),a.jsx(ac,{children:"Manage your account"})]}),a.jsx(Ht,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-2xl font-bold overflow-hidden",children:s!=null&&s.photoURL?a.jsx("img",{src:s.photoURL,alt:"Profile",className:"h-full w-full object-cover"}):((x=s==null?void 0:s.displayName)==null?void 0:x[0])||((v=s==null?void 0:s.email)==null?void 0:v[0])||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:(s==null?void 0:s.displayName)||"User"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.email)||"guest@local"}),(s==null?void 0:s.institution)&&a.jsx("p",{className:"text-xs text-muted-foreground",children:s.institution}),(s==null?void 0:s.isGuest)&&a.jsx("span",{className:"text-xs bg-yellow-500/10 text-yellow-600 px-2 py-0.5 rounded mt-1 inline-block",children:"Guest Account"})]}),!(s!=null&&s.isGuest)&&a.jsx(ye,{variant:"outline",onClick:()=>c(!0),children:"Edit Profile"})]})})]})}),a.jsx(st.div,{variants:Xh,children:a.jsxs(ut,{children:[a.jsxs(Wn,{children:[a.jsxs(Jn,{className:"flex items-center gap-2",children:[a.jsx(Q2e,{className:"h-5 w-5"}),"Appearance"]}),a.jsx(ac,{children:"Customize the look"})]}),a.jsx(Ht,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-3",children:"Theme"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.map(g=>{const b=g.icon;return a.jsxs("button",{onClick:()=>{t(g.value),i("light")},className:Rt("p-4 rounded-lg border-2 transition-all flex flex-col items-center gap-2",e===g.value?"border-primary bg-primary/5":"border-transparent bg-muted/50 hover:bg-muted"),children:[a.jsx(b,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm font-medium",children:g.label})]},g.value)})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Lj,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Haptic Feedback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vibration on button press"})]})]}),a.jsx(Hi,{checked:n,onCheckedChange:g=>{r(g),g&&i("medium")}})]})]})})]})}),a.jsx(st.div,{variants:Xh,children:a.jsxs(ut,{children:[a.jsxs(Wn,{children:[a.jsxs(Jn,{className:"flex items-center gap-2",children:[a.jsx(Z_,{className:"h-5 w-5"}),"Notifications"]}),a.jsx(ac,{children:"Notification preferences"})]}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Receive push notifications":"Not supported in this browser"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx(fx,{className:"h-4 w-4 animate-spin"}),a.jsx(Hi,{checked:h,onCheckedChange:y,disabled:!f||p})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),a.jsx(Hi,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Study Reminders"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get study session reminders"})]}),a.jsx(Hi,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Group Activity"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for group activities"})]}),a.jsx(Hi,{})]})]})]})}),a.jsx(st.div,{variants:Xh,children:a.jsxs(ut,{children:[a.jsxs(Wn,{children:[a.jsxs(Jn,{className:"flex items-center gap-2",children:[a.jsx(E1,{className:"h-5 w-5"}),"Privacy & Security"]}),a.jsx(ac,{children:"Account security settings"})]}),a.jsxs(Ht,{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>alert(" Coming Soon!"),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zE,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Profile Visibility"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Friends only"})]})]}),a.jsx(Va,{className:"h-5 w-5 text-muted-foreground"})]}),!(s!=null&&s.isGuest)&&a.jsxs("button",{onClick:()=>alert(" Coming Soon!"),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(E1,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Not enabled"})]})]}),a.jsx(Va,{className:"h-5 w-5 text-muted-foreground"})]}),a.jsxs("button",{onClick:()=>alert(" Coming Soon!"),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xc,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Export Data"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Download your data"})]})]}),a.jsx(Va,{className:"h-5 w-5 text-muted-foreground"})]})]})]})}),a.jsx(st.div,{variants:Xh,children:a.jsxs(ut,{className:"border-destructive/50",children:[a.jsxs(Wn,{children:[a.jsxs(Jn,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(kr,{className:"h-5 w-5"}),"Danger Zone"]}),a.jsx(ac,{children:"Irreversible actions"})]}),a.jsx(Ht,{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-destructive/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account"})]}),a.jsx(ye,{variant:"destructive",size:"sm",onClick:()=>d(!0),disabled:s==null?void 0:s.isGuest,children:"Delete"})]})})]})}),a.jsx(st.div,{variants:Xh,children:a.jsxs(ye,{variant:"outline",className:"w-full",onClick:o,children:[a.jsx(cK,{className:"h-4 w-4 mr-2"}),"Logout"]})}),a.jsx(uWe,{open:l,onOpenChange:c}),a.jsx(dWe,{open:u,onOpenChange:d})]})}const Qa={SUBJECTS:"asset-subjects",TOPICS:"asset-topics",SUBTOPICS:"asset-subtopics",ASSETS:"assets"};async function z7(e){await bt(Ye(Le,Qa.SUBJECTS,e.id),e)}async function mWe(e,t){const n=Ye(Le,Qa.SUBJECTS,e),r=await kh(n);r.exists()&&await bt(n,{...r.data(),...t},{merge:!0})}async function gWe(e){await _o(Ye(Le,Qa.SUBJECTS,e));const t=Yt(Dt(Le,Qa.TOPICS),Jt("subjectId","==",e)),n=await Bn(t),r=Ua(Le);for(const i of n.docs){r.delete(i.ref);const s=Yt(Dt(Le,Qa.SUBTOPICS),Jt("topicId","==",i.id));(await Bn(s)).docs.forEach(l=>r.delete(l.ref))}await r.commit()}function xWe(e,t){const n=Yt(Dt(Le,Qa.SUBJECTS),Jt("userId","==",e));return vr(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(s.order||0)-(o.order||0)))})}async function yWe(e){await bt(Ye(Le,Qa.TOPICS,e.id),e)}function vWe(e,t){const n=Yt(Dt(Le,Qa.TOPICS),Jt("userId","==",e));return vr(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(s.order||0)-(o.order||0)))})}function bWe(e,t){const n=Yt(Dt(Le,Qa.SUBTOPICS),Jt("userId","==",e));return vr(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(s.order||0)-(o.order||0)))})}async function cw(e){await bt(Ye(Le,Qa.ASSETS,e.id),e)}async function wWe(e,t){const n=Ye(Le,Qa.ASSETS,e),r=await kh(n);r.exists()&&await bt(n,{...r.data(),...t,updatedAt:Date.now()},{merge:!0})}async function _We(e){await _o(Ye(Le,Qa.ASSETS,e))}function TWe(e,t){const n=Yt(Dt(Le,Qa.ASSETS),Jt("userId","==",e));return vr(n,r=>{const i=r.docs.map(s=>s.data());t(i.sort((s,o)=>(o.createdAt||0)-(s.createdAt||0)))})}async function EWe(e,t){const n=Ye(Le,Qa.ASSETS,e),r=await kh(n);if(r.exists()){const i=r.data(),s=i.usedIn||[];s.some(l=>l.deskType===t.deskType&&l.deskId===t.deskId)||await bt(n,{...i,usedIn:[...s,t],updatedAt:Date.now()})}}async function NWe(e){const t=Ua(Le);e.forEach(n=>{t.set(Ye(Le,Qa.ASSETS,n.id),n)}),await t.commit()}function SWe(e,t){const n=[];return n.push(xWe(e,t.onSubjects)),n.push(vWe(e,t.onTopics)),n.push(bWe(e,t.onSubtopics)),n.push(TWe(e,t.onAssets)),()=>{n.forEach(r=>r())}}const kWe={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},AWe=[{type:"all",label:"All",icon:Br},{type:"mcq",label:"MCQ",icon:kl},{type:"note",label:"Notes",icon:Lr},{type:"url",label:"URLs",icon:fh},{type:"pdf",label:"PDF",icon:_1},{type:"video",label:"Video",icon:Zc}];function $7(){var jc;const{user:e}=_i(),{subjects:t,topics:n,subtopics:r,assets:i,selectedSubjectId:s,selectedTopicId:o,selectedSubtopicId:l,selectedType:c,searchQuery:u,setSubjects:d,setTopics:f,setSubtopics:h,setAssets:p,addSubject:y,addTopic:m,addSubtopic:x,addAsset:v,updateAsset:g,removeAsset:b,setSelectedSubject:w,setSelectedTopic:T,setSelectedSubtopic:k,setSelectedType:_,setSearchQuery:N,getFilteredAssets:C,getTopicsBySubject:I,getSubtopicsByTopic:j,getAssetUsageCount:E,setInitialized:D,isInitialized:R,updateSingleMCQ:M,getMCQQuestionById:U,updateSubject:z,removeSubject:G}=_c(),F=sa(Pe=>Pe.myGroups),W=Sc(Pe=>Pe.courses),[O,P]=S.useState("all"),[B,K]=S.useState(!1),[Q,L]=S.useState(!1),[ee,ge]=S.useState(!1),[he,be]=S.useState(null),[Oe,Z]=S.useState(!1),[Ie,V]=S.useState(!1),[ke,xe]=S.useState(!1),[re,J]=S.useState(!1),[pe,Y]=S.useState(""),[le,te]=S.useState(""),[oe,ae]=S.useState(""),[fe,Ae]=S.useState([]),[Me,Ve]=S.useState([]),[ot,Fe]=S.useState(null),[je,Ge]=S.useState(""),[Je,kt]=S.useState(!1),[Qt,Mt]=S.useState(null),[Mn,sn]=S.useState(""),[Qn,qn]=S.useState(["","","",""]),[nr,Cn]=S.useState(0),[Pn,Wt]=S.useState(""),[rr,ln]=S.useState("medium"),[Dn,Or]=S.useState(""),[dr,_n]=S.useState(""),[ir,jn]=S.useState(""),[Kn,Xn]=S.useState(""),[br,ce]=S.useState(""),[Ne,ve]=S.useState(""),[_e,ie]=S.useState("single"),[me,De]=S.useState(""),[se,Te]=S.useState([]),[Ee,ue]=S.useState(""),[de,Re]=S.useState("personal"),[We,Qe]=S.useState(""),[Ze,pt]=S.useState(""),[Kt,Tt]=S.useState(!1),[Nt,kn]=S.useState(null),[bn,ps]=S.useState(""),[zr,no]=S.useState(["","","",""]),[Nr,Do]=S.useState(0),[Jr,jo]=S.useState(""),[ms,$s]=S.useState("medium"),[Hs,Ce]=S.useState(!1),[vt,un]=S.useState(null),[zt,In]=S.useState([]),[On,Gs]=S.useState([]),[fr,Io]=S.useState(!1),Ro=Xr(Pe=>Pe.subjects);Xr(Pe=>Pe.topics);const si=Xr(Pe=>Pe.contentPacks);Xr(Pe=>Pe.mcqs),Xr(Pe=>Pe.notes),Xr(Pe=>Pe.getTopicsBySubject);const ro=Xr(Pe=>Pe.getMcqsByPack),io=Xr(Pe=>Pe.getNotesByPack),Bl=Xr(Pe=>Pe.initSampleData),Cc=Xr(Pe=>Pe.subscribeToLibrary);Xr(Pe=>Pe.isInitialized);const[Ir,Au]=S.useState(""),[sr,ai]=S.useState(""),[gs,ei]=S.useState("");S.useEffect(()=>{if(!(e!=null&&e.id))return;const Pe=SWe(e.id,{onSubjects:d,onTopics:f,onSubtopics:h,onAssets:p});return D(!0),()=>Pe()},[e==null?void 0:e.id]),S.useEffect(()=>{Bl();const Pe=Cc();return()=>Pe()},[Bl,Cc]);const Vl=S.useMemo(()=>C(),[i,s,o,l,c,u]),Pi=s?I(s):[];o&&j(o);const xs=Ir?I(Ir):[],sl=sr?j(sr):[],Yi=Pe=>{Ae(it=>it.includes(Pe)?it.filter(Et=>Et!==Pe):[...it,Pe])},Qs=async()=>{if(!pe.trim()||!(e!=null&&e.id))return;const Pe={id:an(),userId:e.id,name:pe.trim(),order:t.length,createdAt:Date.now()};try{await z7(Pe),Y(""),V(!1)}catch(it){console.error("Error creating subject:",it)}},As=async()=>{if(!(!ot||!je.trim()))try{await mWe(ot.id,{name:je.trim()}),z(ot.id,{name:je.trim()}),Fe(null),Ge("")}catch(Pe){console.error("Error updating subject:",Pe),alert("Subject update   ")}},ql=async()=>{if(!Qt)return;const Pe=i.filter(it=>it.subjectId===Qt.id);if(Pe.length>0){alert(` Subject  ${Pe.length} asset      `),kt(!1),Mt(null);return}try{await gWe(Qt.id),G(Qt.id),kt(!1),Mt(null)}catch(it){console.error("Error deleting subject:",it),alert("Subject delete   ")}},Ta=async()=>{if(!le.trim()||!s||!(e!=null&&e.id))return;const Pe={id:an(),userId:e.id,subjectId:s,name:le.trim(),order:Pi.length,createdAt:Date.now()};try{await yWe(Pe),te(""),xe(!1)}catch(it){console.error("Error creating topic:",it)}},al=async()=>{if(!Mn.trim()||!Ir||!sr||!(e!=null&&e.id)||Qn.some(it=>!it.trim()))return;const Pe={id:an(),userId:e.id,type:"mcq",subjectId:Ir,topicId:sr,subtopicId:gs||void 0,tags:Dn.split(",").map(it=>it.trim()).filter(Boolean),title:Mn.substring(0,50)+(Mn.length>50?"...":""),quizQuestions:[{id:an(),question:Mn,options:Qn,correctIndex:nr,explanation:Pn||void 0,difficulty:rr}],createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Z(!0),await cw(Pe),v(Pe),Ea(),K(!1)}catch(it){console.error("Error creating MCQ:",it)}finally{Z(!1)}},Vm=async()=>{if(!dr.trim()||!ir.trim()||!Ir||!sr||!(e!=null&&e.id))return;const Pe={id:an(),userId:e.id,type:"note",subjectId:Ir,topicId:sr,subtopicId:gs||void 0,tags:[],title:dr,content:ir,createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Z(!0),await cw(Pe),v(Pe),_n(""),jn(""),K(!1)}catch(it){console.error("Error creating note:",it)}finally{Z(!1)}},Wl=async()=>{if(!Kn.trim()||!br.trim()||!Ir||!sr||!(e!=null&&e.id))return;const Pe={id:an(),userId:e.id,type:"url",subjectId:Ir,topicId:sr,subtopicId:gs||void 0,tags:[],title:Kn,url:br,description:Ne||void 0,createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Z(!0),await cw(Pe),v(Pe),Xn(""),ce(""),ve(""),K(!1)}catch(it){console.error("Error creating URL:",it)}finally{Z(!1)}},Cu=()=>{ue("");try{const Pe=JSON.parse(me);if(!Array.isArray(Pe)){ue("JSON must be an array");return}const it=Pe.map(Et=>({question:Et.question||Et.q||"",options:Et.options||Et.opts||[Et.a,Et.b,Et.c,Et.d].filter(Boolean),correctIndex:Et.correctIndex??Et.correct??Et.ans??0,explanation:Et.explanation||Et.exp||void 0,difficulty:["easy","medium","hard"].includes(Et.difficulty)?Et.difficulty:"medium"})).filter(Et=>Et.question&&Et.options.length>=2);if(it.length===0){ue("No valid questions found");return}Te(it)}catch{ue("Invalid JSON format")}},Ud=async()=>{if(se.length===0||!Ir||!sr||!(e!=null&&e.id))return;const Pe={id:an(),userId:e.id,type:"mcq",subjectId:Ir,topicId:sr,subtopicId:gs||void 0,tags:[],title:`${se.length} MCQs - ${new Date().toLocaleDateString()}`,quizQuestions:se.map(it=>({id:an(),question:it.question,options:it.options,correctIndex:it.correctIndex,explanation:it.explanation,difficulty:it.difficulty})),createdAt:Date.now(),updatedAt:Date.now(),usedIn:[]};try{Z(!0),await cw(Pe),v(Pe),Te([]),De(""),K(!1),alert(` ${se.length} MCQs uploaded successfully!`)}catch(it){console.error("Error bulk uploading:",it)}finally{Z(!1)}},Lh=async()=>{if(he)try{Z(!0),await _We(he.id),b(he.id),L(!1),be(null)}catch(Pe){console.error("Error deleting asset:",Pe)}finally{Z(!1)}},Rr=Pe=>{var At;if(Pe.type!=="mcq")return;const Et=(At=Pe.quizQuestions)==null?void 0:At[0];Et&&(kn({assetId:Pe.id,questionId:Et.id}),ps(Et.question),no([...Et.options]),Do(Et.correctIndex),jo(Et.explanation||""),$s(Et.difficulty||"medium"),Tt(!0))},Ix=async()=>{if(!(!Nt||!bn.trim()||zr.some(Pe=>!Pe.trim())))try{Z(!0),M(Nt.assetId,Nt.questionId,{question:bn.trim(),options:zr.map(Et=>Et.trim()),correctIndex:Nr,explanation:Jr.trim()||void 0,difficulty:ms});const Pe=i.find(Et=>Et.id===Nt.assetId);Pe&&await wWe(Nt.assetId,{updatedAt:Date.now(),quizQuestions:Pe.quizQuestions.map(Et=>Et.id===Nt.questionId?{...Et,question:bn.trim(),options:zr.map(At=>At.trim()),correctIndex:Nr,explanation:Jr.trim()||void 0,difficulty:ms}:Et)});const it=K3e(Nt.assetId,Nt.questionId);Tt(!1),kn(null)}catch(Pe){console.error("Error updating MCQ:",Pe)}finally{Z(!1)}},Mh=async()=>{if(!he)return;let Pe="",it="";if(de==="personal")Pe="personal",it="Personal Practice";else if(de==="group"){if(!We)return;const At=F.find(Cs=>Cs.id===We);Pe=We,it=(At==null?void 0:At.name)||"Group"}else if(de==="teacher"){if(!Ze)return;const At=W.find(Cs=>Cs.id===Ze);Pe=Ze,it=(At==null?void 0:At.title)||"Course"}const Et={deskType:de,deskId:Pe,deskName:it,addedAt:Date.now()};try{Z(!0),await EWe(he.id,Et);const At=[...he.usedIn||[],Et];g(he.id,{usedIn:At}),ge(!1),be(null),alert(" Added to desk successfully!")}catch(At){console.error("Error adding to desk:",At)}finally{Z(!1)}},qm=async()=>{if(!(!(e!=null&&e.id)||!vt)){if(zt.length===0&&On.length===0){alert(" select !");return}Io(!0);try{let Pe=Ir;if(!Pe)if(t.length>0){alert(" Subject select !"),Io(!1);return}else{const Ds={id:an(),userId:e.id,name:"Imported Content",order:0,createdAt:Date.now()};await z7(Ds),y(Ds),Pe=Ds.id}const it=[],Et=Date.now(),At=si.find(Ds=>Ds.id===vt),Cs=(At==null?void 0:At.title)||"Imported",Rx=ro(vt);for(const Ds of zt){const Zi=Rx.find(ol=>ol.id===Ds);if(Zi){const ol={id:an(),userId:e.id,type:"mcq",subjectId:Pe,topicId:sr||"",subtopicId:gs||"",title:Zi.question.replace(/<[^>]*>/g,"").substring(0,50)+"...",quizQuestions:[{id:an(),question:Zi.question,options:Zi.options,correctIndex:Zi.correctIndex,explanation:Zi.explanation,difficulty:Zi.difficulty||"medium"}],tags:Zi.tags||[Cs],usedIn:[],createdAt:Et,updatedAt:Et};it.push(ol)}}const qd=io(vt);for(const Ds of On){const Zi=qd.find(ol=>ol.id===Ds);if(Zi){const ol={id:an(),userId:e.id,type:"note",subjectId:Pe,topicId:sr||"",subtopicId:gs||"",title:Zi.title,content:Zi.content,tags:[Cs],usedIn:[],createdAt:Et,updatedAt:Et};it.push(ol)}}it.length>0?(await NWe(it),alert(` ${it.length}   Import !`),Ce(!1),un(null),In([]),Gs([])):alert("   Import   MCQ/Note   ")}catch(Pe){console.error("Error importing from library:",Pe),alert(` Import   : ${(Pe==null?void 0:Pe.message)||"Unknown error"}`)}finally{Io(!1)}}},Bd=Pe=>{In(it=>it.includes(Pe)?it.filter(Et=>Et!==Pe):[...it,Pe])},Wm=Pe=>{Gs(it=>it.includes(Pe)?it.filter(Et=>Et!==Pe):[...it,Pe])},Dc=Pe=>{const it=ro(Pe);In(it.map(Et=>Et.id))},zm=Pe=>{const it=io(Pe);Gs(it.map(Et=>Et.id))},Ea=()=>{sn(""),qn(["","","",""]),Cn(0),Wt(""),ln("medium"),Or("")},Uh=Pe=>{var it;return((it=t.find(Et=>Et.id===Pe))==null?void 0:it.name)||""},Vd=Pe=>{var it;return((it=n.find(Et=>Et.id===Pe))==null?void 0:it.name)||""};return e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:" Asset Library"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," assets  ",t.length," subjects"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{variant:"outline",onClick:()=>Ce(!0),className:"gap-2",children:[a.jsx(ss,{className:"h-4 w-4"})," Import from Library"]}),a.jsxs(ye,{onClick:()=>K(!0),className:"gap-2",children:[a.jsx(rn,{className:"h-4 w-4"})," Add Asset"]})]})]}),a.jsx(ut,{children:a.jsxs(Ht,{className:"p-3 space-y-3",children:[a.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:AWe.map(({type:Pe,label:it,icon:Et})=>a.jsxs("button",{onClick:()=>{_(Pe),P(Pe)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${O===Pe?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:[a.jsx(Et,{className:"h-3.5 w-3.5"}),it]},Pe))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ad,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(nt,{value:u,onChange:Pe=>N(Pe.target.value),placeholder:"Search assets...",className:"pl-8 h-9"})]}),a.jsxs(Bt,{value:s||"all",onValueChange:Pe=>w(Pe==="all"?null:Pe),children:[a.jsx(Ft,{className:"w-full sm:w-40 h-9",children:a.jsx(Vt,{placeholder:"Subject"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Subjects"}),t.map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.name},Pe.id))]})]}),s&&a.jsxs(Bt,{value:o||"all",onValueChange:Pe=>T(Pe==="all"?null:Pe),children:[a.jsx(Ft,{className:"w-full sm:w-40 h-9",children:a.jsx(Vt,{placeholder:"Topic"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"all",children:"All Topics"}),Pi.map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.name},Pe.id))]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsxs(ut,{className:"lg:col-span-1",children:[a.jsx(Wn,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Jn,{className:"text-sm",children:"Categories"}),a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>V(!0),children:a.jsx(Oj,{className:"h-4 w-4"})})]})}),a.jsxs(Ht,{className:"p-2 max-h-[400px] overflow-y-auto",children:[Ie&&a.jsxs("div",{className:"flex gap-1 mb-2 p-2 bg-muted rounded",children:[a.jsx(nt,{value:pe,onChange:Pe=>Y(Pe.target.value),placeholder:"Subject name",className:"h-8 text-xs"}),a.jsx(ye,{size:"sm",className:"h-8 px-2",onClick:Qs,children:a.jsx(rn,{className:"h-3 w-3"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"h-8 px-2",onClick:()=>V(!1),children:a.jsx(dn,{className:"h-3 w-3"})})]}),t.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No subjects yet. Add one to get started!"}):a.jsx("div",{className:"space-y-1",children:t.map(Pe=>a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("button",{onClick:()=>{Yi(Pe.id),w(Pe.id)},className:`flex-1 flex items-center gap-2 px-2 py-1.5 rounded text-xs text-left hover:bg-muted ${s===Pe.id?"bg-primary/10 text-primary":""}`,children:[fe.includes(Pe.id)?a.jsx(Ba,{className:"h-3 w-3"}):a.jsx(Va,{className:"h-3 w-3"}),a.jsx("span",{className:"flex-1 truncate",children:Pe.name}),a.jsx("span",{className:"text-muted-foreground",children:i.filter(it=>it.subjectId===Pe.id).length})]}),a.jsxs(ld,{children:[a.jsx(cd,{asChild:!0,children:a.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:a.jsx(sd,{className:"h-3 w-3"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(Un,{onClick:()=>{Fe(Pe),Ge(Pe.name)},children:[a.jsx(fo,{className:"h-3 w-3 mr-2"})," Rename"]}),a.jsxs(Un,{className:"text-destructive",onClick:()=>{Mt(Pe),kt(!0)},children:[a.jsx(kr,{className:"h-3 w-3 mr-2"})," Delete"]})]})]})]}),fe.includes(Pe.id)&&a.jsxs("div",{className:"ml-4 mt-1 space-y-0.5",children:[I(Pe.id).map(it=>a.jsxs("button",{onClick:()=>T(it.id),className:`w-full flex items-center gap-2 px-2 py-1 rounded text-xs text-left hover:bg-muted ${o===it.id?"bg-primary/10 text-primary":""}`,children:[a.jsxs("span",{className:"flex-1 truncate",children:[" ",it.name]}),a.jsx("span",{className:"text-muted-foreground",children:i.filter(Et=>Et.topicId===it.id).length})]},it.id)),s===Pe.id&&a.jsxs(ye,{size:"sm",variant:"ghost",className:"w-full h-6 text-xs justify-start",onClick:()=>xe(!0),children:[a.jsx(rn,{className:"h-3 w-3 mr-1"})," Add Topic"]})]})]},Pe.id))}),ke&&s&&a.jsxs("div",{className:"flex gap-1 mt-2 p-2 bg-muted rounded",children:[a.jsx(nt,{value:le,onChange:Pe=>te(Pe.target.value),placeholder:"Topic name",className:"h-8 text-xs"}),a.jsx(ye,{size:"sm",className:"h-8 px-2",onClick:Ta,children:a.jsx(rn,{className:"h-3 w-3"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"h-8 px-2",onClick:()=>xe(!1),children:a.jsx(dn,{className:"h-3 w-3"})})]})]})]}),a.jsx("div",{className:"lg:col-span-3 space-y-3",children:Vl.length===0?a.jsx(ut,{children:a.jsxs(Ht,{className:"py-12 text-center",children:[a.jsx(Br,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),a.jsx("h3",{className:"font-medium mb-1",children:"No assets found"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.length===0?"Start building your library by adding some assets!":"Try adjusting your filters or search query"}),a.jsxs(ye,{onClick:()=>K(!0),children:[a.jsx(rn,{className:"h-4 w-4 mr-2"})," Add Your First Asset"]})]})}):a.jsx("div",{className:"space-y-2",children:Vl.map(Pe=>a.jsx(ut,{className:"hover:shadow-md transition-shadow",children:a.jsx(Ht,{className:"p-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:`p-2 rounded-lg ${Pe.type==="mcq"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":Pe.type==="note"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":Pe.type==="url"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"}`,children:[Pe.type==="mcq"&&a.jsx(kl,{className:"h-5 w-5"}),Pe.type==="note"&&a.jsx(Lr,{className:"h-5 w-5"}),Pe.type==="url"&&a.jsx(fh,{className:"h-5 w-5"}),Pe.type==="pdf"&&a.jsx(_1,{className:"h-5 w-5"}),Pe.type==="video"&&a.jsx(Zc,{className:"h-5 w-5"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:Pe.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[a.jsx("span",{children:Uh(Pe.subjectId)}),a.jsx("span",{children:""}),a.jsx("span",{children:Vd(Pe.topicId)}),Pe.type==="mcq"&&Pe.quizQuestions&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"text-blue-600",children:[Pe.quizQuestions.length," questions"]})]}),Pe.usedIn&&Pe.usedIn.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"text-primary",children:["Used in ",Pe.usedIn.length," places"]})]})]}),Pe.type==="mcq"&&Pe.quizQuestions&&Pe.quizQuestions.length>0&&a.jsxs("div",{className:"mt-2 text-xs space-y-0.5",children:[a.jsxs("div",{className:"text-muted-foreground",children:["Q1: ",Pe.quizQuestions[0].question.substring(0,60),Pe.quizQuestions[0].question.length>60?"...":""]}),Pe.quizQuestions.length>1&&a.jsxs("div",{className:"text-blue-600",children:["+",Pe.quizQuestions.length-1," more questions"]})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-primary",onClick:()=>{be(Pe),ge(!0)},children:a.jsx(tT,{className:"h-4 w-4"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>Rr(Pe),disabled:Pe.type!=="mcq",children:a.jsx(Kc,{className:"h-4 w-4"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive",onClick:()=>{be(Pe),L(!0)},children:a.jsx(kr,{className:"h-4 w-4"})})]})]})})},Pe.id))})})]}),a.jsx(is,{open:B,onOpenChange:K,children:a.jsxs(Wi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(zi,{children:a.jsx($i,{children:"Add New Asset"})}),a.jsxs(G0,{defaultValue:"mcq",className:"mt-4",children:[a.jsxs(am,{className:"w-full grid grid-cols-3",children:[a.jsx(Ai,{value:"mcq",children:"MCQ"}),a.jsx(Ai,{value:"note",children:"Note"}),a.jsx(Ai,{value:"url",children:"URL"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[a.jsxs(Bt,{value:Ir,onValueChange:Pe=>{Au(Pe),ai(""),ei("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Subject *"})}),a.jsx(Lt,{children:t.map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.name},Pe.id))})]}),a.jsxs(Bt,{value:sr,onValueChange:Pe=>{ai(Pe),ei("")},disabled:!Ir,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Topic *"})}),a.jsx(Lt,{children:xs.map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.name},Pe.id))})]}),a.jsxs(Bt,{value:gs||"none",onValueChange:Pe=>ei(Pe==="none"?"":Pe),disabled:!sr,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Subtopic"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"None"}),sl.map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.name},Pe.id))]})]})]}),a.jsxs(Ci,{value:"mcq",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded",children:[a.jsx("button",{onClick:()=>ie("single"),className:`flex-1 px-3 py-1.5 rounded text-sm ${_e==="single"?"bg-background shadow":""}`,children:"Single MCQ"}),a.jsx("button",{onClick:()=>ie("bulk"),className:`flex-1 px-3 py-1.5 rounded text-sm ${_e==="bulk"?"bg-background shadow":""}`,children:"Bulk Upload"})]}),_e==="single"?a.jsxs(a.Fragment,{children:[a.jsx(lr,{value:Mn,onChange:Pe=>sn(Pe.target.value),placeholder:"Enter question...",rows:3}),a.jsx("div",{className:"space-y-2",children:Qn.map((Pe,it)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"correct",checked:nr===it,onChange:()=>Cn(it),className:"h-4 w-4"}),a.jsx(nt,{value:Pe,onChange:Et=>{const At=[...Qn];At[it]=Et.target.value,qn(At)},placeholder:`Option ${String.fromCharCode(65+it)}`})]},it))}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Bt,{value:rr,onValueChange:Pe=>ln(Pe),children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Difficulty"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"easy",children:"Easy"}),a.jsx(Ke,{value:"medium",children:"Medium"}),a.jsx(Ke,{value:"hard",children:"Hard"})]})]}),a.jsx(nt,{value:Dn,onChange:Pe=>Or(Pe.target.value),placeholder:"Tags (comma separated)"})]}),a.jsx(lr,{value:Pn,onChange:Pe=>Wt(Pe.target.value),placeholder:"Explanation (optional)",rows:2}),a.jsxs(ye,{onClick:al,disabled:Oe||!Ir||!sr,className:"w-full",children:[Oe?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add MCQ"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs bg-muted p-3 rounded space-y-1",children:[a.jsx("p",{className:"font-medium",children:"JSON Format:"}),a.jsx("code",{className:"text-[10px]",children:'[{"question":"Q1","options":["A","B","C","D"],"correctIndex":0,"explanation":"...","difficulty":"medium"}]'})]}),a.jsx(lr,{value:me,onChange:Pe=>De(Pe.target.value),placeholder:"Paste JSON array here...",rows:6,className:"font-mono text-xs"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{variant:"outline",onClick:Cu,className:"flex-1",children:[a.jsx(_r,{className:"h-4 w-4 mr-2"})," Parse JSON"]}),a.jsxs(ye,{onClick:Ud,disabled:Oe||se.length===0||!Ir||!sr,className:"flex-1",children:[a.jsx(lc,{className:"h-4 w-4 mr-2"})," Upload ",se.length," MCQs"]})]}),Ee&&a.jsxs("p",{className:"text-xs text-red-500",children:[" ",Ee]}),se.length>0&&a.jsxs("p",{className:"text-xs text-green-600",children:[" ",se.length," questions parsed successfully"]})]})]}),a.jsxs(Ci,{value:"note",className:"space-y-4 mt-4",children:[a.jsx(nt,{value:dr,onChange:Pe=>_n(Pe.target.value),placeholder:"Note title"}),a.jsx(gh,{theme:"snow",value:ir,onChange:jn,modules:kWe,className:"bg-background"}),a.jsxs(ye,{onClick:Vm,disabled:Oe||!Ir||!sr,className:"w-full",children:[Oe?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add Note"]})]}),a.jsxs(Ci,{value:"url",className:"space-y-4 mt-4",children:[a.jsx(nt,{value:Kn,onChange:Pe=>Xn(Pe.target.value),placeholder:"Title"}),a.jsx(nt,{value:br,onChange:Pe=>ce(Pe.target.value),placeholder:"https://..."}),a.jsx(lr,{value:Ne,onChange:Pe=>ve(Pe.target.value),placeholder:"Description (optional)",rows:2}),a.jsxs(ye,{onClick:Wl,disabled:Oe||!Ir||!sr,className:"w-full",children:[Oe?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add URL"]})]})]})]})}),a.jsx(is,{open:Q,onOpenChange:L,children:a.jsxs(Wi,{children:[a.jsx(zi,{children:a.jsxs($i,{className:"flex items-center gap-2 text-destructive",children:[a.jsx($u,{className:"h-5 w-5"})," Delete Asset"]})}),he&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm",children:"Are you sure you want to delete this asset?"}),a.jsxs("div",{className:"p-3 bg-muted rounded text-sm",children:[a.jsx("p",{className:"font-medium",children:he.title}),a.jsxs("p",{className:"text-muted-foreground text-xs mt-1",children:[Uh(he.subjectId),"  ",Vd(he.topicId)]})]}),he.usedIn&&he.usedIn.length>0&&a.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded",children:[a.jsxs("p",{className:"text-sm font-medium text-destructive flex items-center gap-2",children:[a.jsx($u,{className:"h-4 w-4"}),"Used in ",he.usedIn.length," places:"]}),a.jsxs("ul",{className:"mt-2 text-xs space-y-1",children:[he.usedIn.slice(0,5).map((Pe,it)=>a.jsxs("li",{children:[" ",Pe.deskName," (",Pe.deskType,")"]},it)),he.usedIn.length>5&&a.jsxs("li",{children:["+",he.usedIn.length-5," more..."]})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),a.jsxs(ye,{variant:"destructive",onClick:Lh,disabled:Oe,children:[Oe?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):null,"Delete ",(jc=he.usedIn)!=null&&jc.length?`(${he.usedIn.length} places)`:""]})]})]})]})}),a.jsx(is,{open:ee,onOpenChange:ge,children:a.jsxs(Wi,{children:[a.jsx(zi,{children:a.jsx($i,{children:"Add to Desk"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Destination"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-muted",children:[a.jsx("input",{type:"radio",name:"desk",checked:de==="personal",onChange:()=>Re("personal")}),a.jsx("span",{children:"Personal Practice"})]}),a.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-muted",children:[a.jsx("input",{type:"radio",name:"desk",checked:de==="group",onChange:()=>Re("group")}),a.jsx("span",{children:"Group Desk"})]}),de==="group"&&a.jsxs(Bt,{value:We,onValueChange:Qe,children:[a.jsx(Ft,{className:"ml-6",children:a.jsx(Vt,{placeholder:"Select Group"})}),a.jsx(Lt,{children:F.map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.name},Pe.id))})]}),a.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-muted",children:[a.jsx("input",{type:"radio",name:"desk",checked:de==="teacher",onChange:()=>Re("teacher")}),a.jsx("span",{children:"Teacher Desk (Course)"})]}),de==="teacher"&&a.jsxs(Bt,{value:Ze,onValueChange:pt,children:[a.jsx(Ft,{className:"ml-6",children:a.jsx(Vt,{placeholder:"Select Course"})}),a.jsx(Lt,{children:W.filter(Pe=>Pe.teacherId===(e==null?void 0:e.id)).map(Pe=>a.jsx(Ke,{value:Pe.id,children:Pe.title},Pe.id))})]})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>ge(!1),children:"Cancel"}),a.jsxs(ye,{onClick:Mh,disabled:Oe||de==="group"&&!We||de==="teacher"&&!Ze,children:[Oe?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(tT,{className:"h-4 w-4 mr-2"}),"Add to Desk"]})]})]})]})}),a.jsx(is,{open:Hs,onOpenChange:Ce,children:a.jsxs(Wi,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx(zi,{children:a.jsxs($i,{className:"flex items-center gap-2",children:[a.jsx(ss,{className:"h-5 w-5"})," Import from Online Library"]})}),a.jsx("div",{className:"flex-1 overflow-auto space-y-4",children:vt?a.jsx("div",{className:"space-y-4",children:(()=>{const Pe=si.find(At=>At.id===vt),it=ro(vt),Et=io(vt);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>un(null),className:"mb-2",children:" Back to Packs"}),a.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[a.jsx(z0,{className:"h-4 w-4"})," ",Pe==null?void 0:Pe.title]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[it.length," MCQs  ",Et.length," Notes"]})]}),a.jsx("div",{className:"text-right text-sm",children:a.jsxs("p",{className:"text-primary font-medium",children:[zt.length+On.length," selected"]})})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" Import  ?"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsxs(Bt,{value:Ir||"none",onValueChange:At=>{Au(At==="none"?"":At),ai(""),ei("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Subject *"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Subject"}),t.map(At=>a.jsx(Ke,{value:At.id,children:At.name},At.id))]})]}),a.jsxs(Bt,{value:sr||"none",onValueChange:At=>{ai(At==="none"?"":At),ei("")},disabled:!Ir,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Topic (optional)"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Topic"}),xs.map(At=>a.jsx(Ke,{value:At.id,children:At.name},At.id))]})]}),a.jsxs(Bt,{value:gs||"none",onValueChange:At=>ei(At==="none"?"":At),disabled:!sr,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Subtopic (optional)"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Subtopic"}),sl.map(At=>a.jsx(Ke,{value:At.id,children:At.name},At.id))]})]})]})]}),it.length>0&&a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-muted/50 p-2 flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsx(kl,{className:"h-4 w-4"})," MCQs (",it.length,")"]}),a.jsx(ye,{size:"sm",variant:"outline",onClick:()=>Dc(vt),children:"Select All"})]}),a.jsx("div",{className:"max-h-48 overflow-y-auto divide-y",children:it.map((At,Cs)=>a.jsx("div",{className:`p-2 cursor-pointer hover:bg-muted/50 transition-colors ${zt.includes(At.id)?"bg-primary/10":""}`,onClick:()=>Bd(At.id),children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center flex-shrink-0 ${zt.includes(At.id)?"bg-primary border-primary text-white":"border-muted-foreground"}`,children:zt.includes(At.id)&&a.jsx(em,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm truncate",dangerouslySetInnerHTML:{__html:At.question}}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[At.options.length," options  ",At.difficulty||"medium"]})]})]})},At.id))})]}),Et.length>0&&a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-muted/50 p-2 flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsx(Lr,{className:"h-4 w-4"})," Notes (",Et.length,")"]}),a.jsx(ye,{size:"sm",variant:"outline",onClick:()=>zm(vt),children:"Select All"})]}),a.jsx("div",{className:"max-h-48 overflow-y-auto divide-y",children:Et.map((At,Cs)=>a.jsx("div",{className:`p-2 cursor-pointer hover:bg-muted/50 transition-colors ${On.includes(At.id)?"bg-primary/10":""}`,onClick:()=>Wm(At.id),children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center flex-shrink-0 ${On.includes(At.id)?"bg-primary border-primary text-white":"border-muted-foreground"}`,children:On.includes(At.id)&&a.jsx(em,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:At.title}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",dangerouslySetInnerHTML:{__html:At.content.substring(0,100)+"..."}})]})]})},At.id))})]})]})})()}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:" Content Pack select  import  :"}),Ro.map(Pe=>a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("h3",{className:"font-medium mb-2",children:Pe.name}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:si.filter(it=>it.subjectId===Pe.id).map(it=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:()=>{un(it.id),In([]),Gs([])},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z0,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium text-sm",children:it.title})]}),it.description&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:it.description})]}),it.pricing==="free"?a.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded",children:"Free"}):a.jsxs("span",{className:"text-xs bg-orange-500/10 text-orange-500 px-2 py-0.5 rounded",children:["",it.price]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(kl,{className:"h-3 w-3"})," ",it.mcqCount," MCQs"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Lr,{className:"h-3 w-3"})," ",it.notesCount," Notes"]}),it.rating&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx($c,{className:"h-3 w-3 text-yellow-500"})," ",it.rating]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(xc,{className:"h-3 w-3"})," ",it.downloadCount]})]})]},it.id))})]},Pe.id)),si.length===0&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ss,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:" Content Pack  "})]})]})}),vt&&a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t mt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>{Ce(!1),un(null),In([]),Gs([])},children:"Cancel"}),a.jsxs(ye,{onClick:qm,disabled:fr||zt.length===0&&On.length===0,children:[fr?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(xc,{className:"h-4 w-4 mr-2"}),"Import ",zt.length+On.length," Items"]})]})]})}),a.jsx(is,{open:Kt,onOpenChange:Tt,children:a.jsxs(Wi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(zi,{children:a.jsxs($i,{className:"flex items-center gap-2",children:[a.jsx(Kc,{className:"h-5 w-5"}),"Edit MCQ"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Question"}),a.jsx(lr,{value:bn,onChange:Pe=>ps(Pe.target.value),placeholder:"Enter question...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Options"}),zr.map((Pe,it)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"editCorrect",checked:Nr===it,onChange:()=>Do(it),className:"h-4 w-4"}),a.jsx(nt,{value:Pe,onChange:Et=>{const At=[...zr];At[it]=Et.target.value,no(At)},placeholder:`Option ${it+1}`})]},it))]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Explanation (Optional)"}),a.jsx(lr,{value:Jr,onChange:Pe=>jo(Pe.target.value),placeholder:"Explain the correct answer...",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Difficulty"}),a.jsxs(Bt,{value:ms,onValueChange:Pe=>$s(Pe),children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"easy",children:"Easy"}),a.jsx(Ke,{value:"medium",children:"Medium"}),a.jsx(Ke,{value:"hard",children:"Hard"})]})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(ye,{variant:"outline",onClick:()=>Tt(!1),children:"Cancel"}),a.jsxs(ye,{onClick:Ix,disabled:Oe||!bn.trim()||zr.some(Pe=>!Pe.trim()),children:[Oe?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(_r,{className:"h-4 w-4 mr-2"}),"Save & Sync"]})]})]})]})}),a.jsx(is,{open:!!ot,onOpenChange:Pe=>!Pe&&Fe(null),children:a.jsxs(Wi,{className:"max-w-sm",children:[a.jsxs(zi,{children:[a.jsx($i,{children:"Rename Subject"}),a.jsx(im,{children:"Subject    "})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(nt,{value:je,onChange:Pe=>Ge(Pe.target.value),placeholder:"Subject name",onKeyDown:Pe=>Pe.key==="Enter"&&As()}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>Fe(null),children:"Cancel"}),a.jsx(ye,{onClick:As,disabled:!je.trim(),children:"Save"})]})]})]})}),a.jsx(is,{open:Je,onOpenChange:kt,children:a.jsxs(Wi,{className:"max-w-sm",children:[a.jsxs(zi,{children:[a.jsx($i,{className:"text-destructive",children:"Delete Subject?"}),a.jsxs(im,{children:['"',Qt==null?void 0:Qt.name,'" Subject    ?     ']})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>{kt(!1),Mt(null)},children:"Cancel"}),a.jsxs(ye,{variant:"destructive",onClick:ql,children:[a.jsx(kr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]}):null}const CWe={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},DWe=["admin@sahityapath.com","info@banglasahityapath.com","saptarn90@gmail.com"];function jWe(){const{user:e}=_i(),t=Xr(Ce=>Ce.subjects),n=Xr(Ce=>Ce.topics),r=Xr(Ce=>Ce.subtopics),i=Xr(Ce=>Ce.contentPacks);Xr(Ce=>Ce.mcqs),Xr(Ce=>Ce.notes);const s=Xr(Ce=>Ce.subscribeToLibrary),o=Xr(Ce=>Ce.getTopicsBySubject),l=Xr(Ce=>Ce.getSubtopicsByTopic),c=Xr(Ce=>Ce.getMcqsByPack),u=Xr(Ce=>Ce.getNotesByPack),[d,f]=S.useState("subjects"),[h,p]=S.useState(!1),[y,m]=S.useState([]),[x,v]=S.useState(null),[g,b]=S.useState(!1),[w,T]=S.useState(!1),[k,_]=S.useState(!1),[N,C]=S.useState(!1),[I,j]=S.useState(!1),[E,D]=S.useState(!1),[R,M]=S.useState(!1),[U,z]=S.useState(null),[G,F]=S.useState(null),[W,O]=S.useState(null),[P,B]=S.useState(null),[K,Q]=S.useState(null),[L,ee]=S.useState(null),[ge,he]=S.useState(""),[be,Oe]=S.useState(""),[Z,Ie]=S.useState(""),[V,ke]=S.useState(""),[xe,re]=S.useState(""),[J,pe]=S.useState(""),[Y,le]=S.useState(""),[te,oe]=S.useState(""),[ae,fe]=S.useState(""),[Ae,Me]=S.useState(""),[Ve,ot]=S.useState(""),[Fe,je]=S.useState(""),[Ge,Je]=S.useState(""),[kt,Qt]=S.useState(""),[Mt,Mn]=S.useState(""),[sn,Qn]=S.useState("free"),[qn,nr]=S.useState(""),[Cn,Pn]=S.useState(""),[Wt,rr]=S.useState(""),[ln,Dn]=S.useState(["","","",""]),[Or,dr]=S.useState(0),[_n,ir]=S.useState(""),[jn,Kn]=S.useState("medium"),[Xn,br]=S.useState(""),[ce,Ne]=S.useState(""),[ve,_e]=S.useState(!1),[ie,me]=S.useState(""),[De,se]=S.useState("");S.useEffect(()=>{const Ce=s();return()=>Ce()},[s]);const Te=(e==null?void 0:e.email)&&DWe.includes(e.email);if(!e)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please login to access admin panel"})});if(!Te)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qi,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Admin access required"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Contact admin for access"})]})});const Ee=Ce=>{Ce&&m(vt=>{const un=vt||[];return un.includes(Ce)?un.filter(zt=>zt!==Ce):[...un,Ce]})},ue=async()=>{if(ge.trim()){p(!0);try{const Ce={id:(U==null?void 0:U.id)||an(),name:ge,nameEn:be||void 0,icon:Z,order:(U==null?void 0:U.order)||t.length+1,isActive:!0,createdAt:(U==null?void 0:U.createdAt)||Date.now()};await Aqe(Ce),Re(),b(!1)}catch(Ce){console.error("Error saving subject:",Ce)}finally{p(!1)}}},de=async Ce=>{if(confirm("Delete this subject and all its topics?")){p(!0);try{await Cqe(Ce),alert(" Subject deleted!")}catch(vt){console.error("Error deleting subject:",vt),alert(" Delete failed: "+vt.message)}finally{p(!1)}}},Re=()=>{he(""),Oe(""),Ie(""),z(null)},We=async()=>{if(!(!V.trim()||!J)){p(!0);try{const Ce={id:(G==null?void 0:G.id)||an(),subjectId:J,name:V,nameEn:xe||void 0,order:(G==null?void 0:G.order)||n.filter(vt=>vt.subjectId===J).length+1,isActive:!0,createdAt:(G==null?void 0:G.createdAt)||Date.now()};await jqe(Ce),Ze(),T(!1)}catch(Ce){console.error("Error saving topic:",Ce)}finally{p(!1)}}},Qe=async Ce=>{if(confirm("Delete this topic?")){p(!0);try{await Iqe(Ce)}catch(vt){console.error("Error deleting topic:",vt)}finally{p(!1)}}},Ze=()=>{ke(""),re(""),pe(""),F(null)},pt=async()=>{if(!(!Y.trim()||!ae||!Ae)){p(!0);try{const Ce={id:(W==null?void 0:W.id)||an(),subjectId:ae,topicId:Ae,name:Y,nameEn:te||void 0,order:(W==null?void 0:W.order)||(r||[]).filter(vt=>vt.topicId===Ae).length+1,isActive:!0,createdAt:(W==null?void 0:W.createdAt)||Date.now()};await Pqe(Ce),Tt(),_(!1)}catch(Ce){console.error("Error saving subtopic:",Ce)}finally{p(!1)}}},Kt=async Ce=>{if(confirm("Delete this subtopic?")){p(!0);try{await Oqe(Ce)}catch(vt){console.error("Error deleting subtopic:",vt)}finally{p(!1)}}},Tt=()=>{le(""),oe(""),fe(""),Me(""),O(null)},Nt=async()=>{if(!Ve.trim()||!Ge||!kt){alert("Please fill Title, Subject and Topic");return}p(!0);try{const Ce=P,vt=Ce?c(Ce.id):[],un=Ce?u(Ce.id):[],zt={id:(Ce==null?void 0:Ce.id)||an(),subjectId:Ge,topicId:kt,...Mt?{subtopicId:Mt}:{},title:Ve,description:Fe||"",tags:Cn.split(",").map(In=>In.trim()).filter(Boolean),contentType:vt.length>0&&un.length>0?"both":vt.length>0?"mcq":"notes",mcqCount:vt.length,notesCount:un.length,pricing:sn,price:sn==="paid"&&parseInt(qn)||0,downloadCount:(Ce==null?void 0:Ce.downloadCount)||0,rating:(Ce==null?void 0:Ce.rating)||0,isActive:!0,isFeatured:(Ce==null?void 0:Ce.isFeatured)||!1,createdBy:(e==null?void 0:e.id)||"admin",createdAt:(Ce==null?void 0:Ce.createdAt)||Date.now(),updatedAt:Date.now()};await Lqe(zt),bn(),C(!1)}catch(Ce){console.error("Error saving pack:",Ce),alert("Error saving pack: "+Ce.message)}finally{p(!1)}},kn=async Ce=>{if(confirm("Delete this content pack and all its MCQs/Notes?")){p(!0);try{const vt=c(Ce);for(const zt of vt)await U7(zt.id);const un=u(Ce);for(const zt of un)await B7(zt.id);await Uqe(Ce),v(null)}catch(vt){console.error("Error deleting pack:",vt)}finally{p(!1)}}},bn=()=>{ot(""),je(""),Je(""),Qt(""),Mn(""),Qn("free"),nr(""),Pn(""),B(null)},ps=async()=>{if(!(!Wt.trim()||!x)){if(ln.some(Ce=>!Ce.trim())){alert(" option  ");return}p(!0);try{const Ce=i.find(zt=>zt.id===x);if(!Ce)return;const vt={id:(K==null?void 0:K.id)||an(),packId:x,subjectId:Ce.subjectId,topicId:Ce.topicId,question:Wt,options:ln,correctIndex:Or,explanation:_n||void 0,difficulty:jn,createdAt:(K==null?void 0:K.createdAt)||Date.now()};await Vqe(vt);const un=c(x).length+(K?0:1);await Iy(x,{mcqCount:un}),no(),j(!1)}catch(Ce){console.error("Error saving MCQ:",Ce)}finally{p(!1)}}},zr=async Ce=>{if(confirm("Delete this MCQ?")){p(!0);try{if(await U7(Ce),x){const vt=c(x).length-1;await Iy(x,{mcqCount:Math.max(0,vt)})}}catch(vt){console.error("Error deleting MCQ:",vt)}finally{p(!1)}}},no=()=>{rr(""),Dn(["","","",""]),dr(0),ir(""),Kn("medium"),Q(null)},Nr=async()=>{if(!(!ie.trim()||!x)){se(""),p(!0);try{const Ce=JSON.parse(ie),vt=Array.isArray(Ce)?Ce:[Ce],un=i.find(On=>On.id===x);if(!un)throw new Error("Pack not found");const zt=vt.map(On=>({id:an(),packId:x,subjectId:un.subjectId,topicId:un.topicId,question:On.question||On.q,options:On.options||On.opts||[On.a,On.b,On.c,On.d].filter(Boolean),correctIndex:On.correctIndex??On.correct??On.ans??0,explanation:On.explanation||On.exp,difficulty:On.difficulty||"medium",createdAt:Date.now()}));await qqe(zt);const In=c(x).length+zt.length;await Iy(x,{mcqCount:In}),alert(` ${zt.length} MCQ  !`),me(""),M(!1)}catch(Ce){se(Ce.message||"Invalid JSON format")}finally{p(!1)}}},Do=async()=>{if(!(!Xn.trim()||!ce.trim()||!x)){p(!0);try{const Ce=i.find(In=>In.id===x);if(!Ce)return;const vt=u(x),un={id:(L==null?void 0:L.id)||an(),packId:x,subjectId:Ce.subjectId,topicId:Ce.topicId,title:Xn,content:ce,order:(L==null?void 0:L.order)||vt.length+1,createdAt:(L==null?void 0:L.createdAt)||Date.now()};await zqe(un);const zt=vt.length+(L?0:1);await Iy(x,{notesCount:zt}),jo(),D(!1)}catch(Ce){console.error("Error saving note:",Ce)}finally{p(!1)}}},Jr=async Ce=>{if(confirm("Delete this note?")){p(!0);try{if(await B7(Ce),x){const vt=u(x).length-1;await Iy(x,{notesCount:Math.max(0,vt)})}}catch(vt){console.error("Error deleting note:",vt)}finally{p(!1)}}},jo=()=>{br(""),Ne(""),ee(null)},ms=x?i.find(Ce=>Ce.id===x):null,$s=x?c(x):[],Hs=x?u(x):[];return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:" Library Admin Panel"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," subjects  ",n.length," topics  ",(r||[]).length," subtopics  ",i.length," packs"]})]})}),a.jsxs(G0,{value:d,onValueChange:f,children:[a.jsxs(am,{className:"grid grid-cols-3 w-full max-w-md",children:[a.jsx(Ai,{value:"subjects",children:"Subjects/Topics"}),a.jsx(Ai,{value:"packs",children:"Content Packs"}),a.jsx(Ai,{value:"content",children:"MCQ/Notes"})]}),a.jsxs(Ci,{value:"subjects",className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(ye,{onClick:()=>{Re(),b(!0)},className:"gap-2",children:[a.jsx(rn,{className:"h-4 w-4"})," Add Subject"]}),a.jsxs(ye,{variant:"outline",onClick:()=>{Ze(),T(!0)},className:"gap-2",children:[a.jsx(Oj,{className:"h-4 w-4"})," Add Topic"]}),a.jsxs(ye,{variant:"secondary",onClick:()=>{Tt(),_(!0)},className:"gap-2",children:[a.jsx(Oj,{className:"h-4 w-4"})," Add Subtopic"]})]}),a.jsx("div",{className:"space-y-2",children:(t||[]).filter(Ce=>Ce&&Ce.id).map(Ce=>a.jsxs(ut,{children:[a.jsx(Wn,{className:"p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>Ee(Ce.id),className:"flex items-center gap-2 text-left",children:[(y||[]).includes(Ce.id)?a.jsx(Ba,{className:"h-4 w-4"}):a.jsx(Va,{className:"h-4 w-4"}),a.jsx("span",{className:"text-lg",children:Ce.icon}),a.jsx("span",{className:"font-medium",children:Ce.name}),Ce.nameEn&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Ce.nameEn,")"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{z(Ce),he(Ce.name),Oe(Ce.nameEn||""),Ie(Ce.icon||""),b(!0)},children:a.jsx(Kc,{className:"h-4 w-4"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>de(Ce.id),children:a.jsx(kr,{className:"h-4 w-4"})})]})]})}),(y||[]).includes(Ce.id)&&a.jsx(Ht,{className:"pt-0 pb-3",children:a.jsxs("div",{className:"ml-6 space-y-1",children:[o(Ce.id).map(vt=>{const un=l(vt.id);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[a.jsxs("span",{className:"text-sm",children:[" ",vt.name,vt.nameEn&&a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",vt.nameEn,")"]}),un.length>0&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["[",un.length," subtopics]"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{F(vt),ke(vt.name),re(vt.nameEn||""),pe(vt.subjectId),T(!0)},children:a.jsx(Kc,{className:"h-3 w-3"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Qe(vt.id),children:a.jsx(kr,{className:"h-3 w-3"})})]})]}),un.length>0&&a.jsx("div",{className:"ml-4 space-y-1",children:un.map(zt=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded text-xs",children:[a.jsxs("span",{children:["  ",zt.name,zt.nameEn&&a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",zt.nameEn,")"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{O(zt),le(zt.name),oe(zt.nameEn||""),fe(zt.subjectId),Me(zt.topicId),_(!0)},children:a.jsx(Kc,{className:"h-3 w-3"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Kt(zt.id),children:a.jsx(kr,{className:"h-3 w-3"})})]})]},zt.id))})]},vt.id)}),o(Ce.id).length===0&&a.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No topics yet"})]})})]},Ce.id))})]}),a.jsxs(Ci,{value:"packs",className:"space-y-4",children:[a.jsxs(ye,{onClick:()=>{bn(),C(!0)},className:"gap-2",children:[a.jsx(rn,{className:"h-4 w-4"})," Create Content Pack"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map(Ce=>{const vt=t.find(In=>In.id===Ce.subjectId),un=n.find(In=>In.id===Ce.topicId),zt=Ce.subtopicId?(r||[]).find(In=>In.id===Ce.subtopicId):null;return a.jsx(ut,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>{v(Ce.id),f("content")},children:a.jsxs(Ht,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z0,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:Ce.title})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[vt==null?void 0:vt.name,"  ",un==null?void 0:un.name,zt?`  ${zt.name}`:"","  ",Ce.mcqCount," MCQs  ",Ce.notesCount," Notes"]})]}),a.jsx("div",{className:"flex gap-1",children:Ce.pricing==="free"?a.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded",children:"Free"}):a.jsxs("span",{className:"text-xs bg-orange-500/10 text-orange-500 px-2 py-0.5 rounded",children:["",Ce.price]})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(ye,{size:"sm",variant:"outline",onClick:In=>{var On;In.stopPropagation(),B(Ce),ot(Ce.title),je(Ce.description||""),Je(Ce.subjectId),Qt(Ce.topicId),Mn(Ce.subtopicId||""),Qn(Ce.pricing),nr(((On=Ce.price)==null?void 0:On.toString())||""),Pn(Ce.tags.join(", ")),C(!0)},children:[a.jsx(Kc,{className:"h-3 w-3 mr-1"})," Edit"]}),a.jsxs(ye,{size:"sm",variant:"outline",className:"text-destructive",onClick:In=>{In.stopPropagation(),kn(Ce.id)},children:[a.jsx(kr,{className:"h-3 w-3 mr-1"})," Delete"]})]})]})},Ce.id)})})]}),a.jsxs(Ci,{value:"content",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(Bt,{value:x||"none",onValueChange:Ce=>v(Ce==="none"?null:Ce),children:[a.jsx(Ft,{className:"w-full sm:w-64",children:a.jsx(Vt,{placeholder:"Select Content Pack"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select a Pack"}),i.map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.title},Ce.id))]})]}),x&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{onClick:()=>{no(),j(!0)},className:"gap-2",children:[a.jsx(kl,{className:"h-4 w-4"})," Add MCQ"]}),a.jsxs(ye,{variant:"outline",onClick:()=>{me(""),se(""),M(!0)},className:"gap-2",children:[a.jsx(lc,{className:"h-4 w-4"})," Bulk MCQ"]}),a.jsxs(ye,{variant:"outline",onClick:()=>{jo(),D(!0)},className:"gap-2",children:[a.jsx(Lr,{className:"h-4 w-4"})," Add Note"]})]})]}),ms?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ut,{children:a.jsxs(Wn,{className:"pb-2",children:[a.jsxs(Jn,{className:"text-lg flex items-center gap-2",children:[a.jsx(z0,{className:"h-5 w-5"})," ",ms.title]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[$s.length," MCQs  ",Hs.length," Notes"]})]})}),a.jsxs(ut,{children:[a.jsx(Wn,{className:"pb-2",children:a.jsxs(Jn,{className:"text-base flex items-center gap-2",children:[a.jsx(kl,{className:"h-4 w-4"})," MCQs (",$s.length,")"]})}),a.jsxs(Ht,{className:"space-y-2 max-h-64 overflow-y-auto",children:[$s.map((Ce,vt)=>a.jsxs("div",{className:"p-2 bg-muted/50 rounded flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Q",vt+1,": ",a.jsx("span",{dangerouslySetInnerHTML:{__html:Ce.question}})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Answer: ",Ce.options[Ce.correctIndex],"  ",Ce.difficulty]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{Q(Ce),rr(Ce.question),Dn(Ce.options),dr(Ce.correctIndex),ir(Ce.explanation||""),Kn(Ce.difficulty||"medium"),j(!0)},children:a.jsx(Kc,{className:"h-3 w-3"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>zr(Ce.id),children:a.jsx(kr,{className:"h-3 w-3"})})]})]},Ce.id)),$s.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No MCQs yet"})]})]}),a.jsxs(ut,{children:[a.jsx(Wn,{className:"pb-2",children:a.jsxs(Jn,{className:"text-base flex items-center gap-2",children:[a.jsx(Lr,{className:"h-4 w-4"})," Notes (",Hs.length,")"]})}),a.jsxs(Ht,{className:"space-y-2 max-h-64 overflow-y-auto",children:[Hs.map((Ce,vt)=>a.jsxs("div",{className:"p-2 bg-muted/50 rounded flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[vt+1,". ",Ce.title]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",dangerouslySetInnerHTML:{__html:Ce.content.substring(0,100)}})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{ee(Ce),br(Ce.title),Ne(Ce.content),D(!0)},children:a.jsx(Kc,{className:"h-3 w-3"})}),a.jsx(ye,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Jr(Ce.id),children:a.jsx(kr,{className:"h-3 w-3"})})]})]},Ce.id)),Hs.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet"})]})]})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Br,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Select a Content Pack to manage MCQs and Notes"})]})]})]}),a.jsx(is,{open:g,onOpenChange:b,children:a.jsxs(Wi,{children:[a.jsx(zi,{children:a.jsx($i,{children:U?"Edit Subject":"Add Subject"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(nt,{placeholder:"Subject Name ()",value:ge,onChange:Ce=>he(Ce.target.value)}),a.jsx(nt,{placeholder:"English Name (optional)",value:be,onChange:Ce=>Oe(Ce.target.value)}),a.jsx(nt,{placeholder:"Icon (emoji)",value:Z,onChange:Ce=>Ie(Ce.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),a.jsxs(ye,{onClick:ue,disabled:h,children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(is,{open:w,onOpenChange:T,children:a.jsxs(Wi,{children:[a.jsx(zi,{children:a.jsx($i,{children:G?"Edit Topic":"Add Topic"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Bt,{value:J||"none",onValueChange:Ce=>pe(Ce==="none"?"":Ce),children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select Subject"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Subject"}),(t||[]).filter(Ce=>Ce&&Ce.isActive).map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.name},Ce.id))]})]}),a.jsx(nt,{placeholder:"Topic Name ()",value:V,onChange:Ce=>ke(Ce.target.value)}),a.jsx(nt,{placeholder:"English Name (optional)",value:xe,onChange:Ce=>re(Ce.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsxs(ye,{onClick:We,disabled:h||!J,children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(is,{open:k,onOpenChange:_,children:a.jsxs(Wi,{children:[a.jsx(zi,{children:a.jsx($i,{children:W?"Edit Subtopic":"Add Subtopic"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Bt,{value:ae||"none",onValueChange:Ce=>{fe(Ce==="none"?"":Ce),Me("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select Subject"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Subject"}),(t||[]).filter(Ce=>Ce&&Ce.isActive).map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.name},Ce.id))]})]}),a.jsxs(Bt,{value:Ae||"none",onValueChange:Ce=>Me(Ce==="none"?"":Ce),disabled:!ae,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Select Topic"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Topic"}),o(ae).map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.name},Ce.id))]})]})]}),a.jsx(nt,{placeholder:"Subtopic Name ()",value:Y,onChange:Ce=>le(Ce.target.value)}),a.jsx(nt,{placeholder:"English Name (optional)",value:te,onChange:Ce=>oe(Ce.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsxs(ye,{onClick:pt,disabled:h||!ae||!Ae,children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(is,{open:N,onOpenChange:C,children:a.jsxs(Wi,{children:[a.jsx(zi,{children:a.jsx($i,{children:P?"Edit Content Pack":"Create Content Pack"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(nt,{placeholder:"Pack Title",value:Ve,onChange:Ce=>ot(Ce.target.value)}),a.jsx(lr,{placeholder:"Description",value:Fe,onChange:Ce=>je(Ce.target.value)}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Bt,{value:Ge||"none",onValueChange:Ce=>{Je(Ce==="none"?"":Ce),Qt(""),Mn("")},children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Subject"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Subject"}),(t||[]).filter(Ce=>Ce&&Ce.isActive).map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.name},Ce.id))]})]}),a.jsxs(Bt,{value:kt||"none",onValueChange:Ce=>{Qt(Ce==="none"?"":Ce),Mn("")},disabled:!Ge,children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Topic"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"Select Topic"}),o(Ge).map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.name},Ce.id))]})]})]}),kt&&l(kt).length>0&&a.jsxs(Bt,{value:Mt||"none",onValueChange:Ce=>Mn(Ce==="none"?"":Ce),children:[a.jsx(Ft,{children:a.jsx(Vt,{placeholder:"Subtopic (Optional)"})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"none",children:"No Subtopic"}),l(kt).map(Ce=>a.jsx(Ke,{value:Ce.id,children:Ce.name},Ce.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Bt,{value:sn,onValueChange:Ce=>Qn(Ce),children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"free",children:"Free"}),a.jsx(Ke,{value:"paid",children:"Paid"})]})]}),sn==="paid"&&a.jsx(nt,{type:"number",placeholder:"Price ()",value:qn,onChange:Ce=>nr(Ce.target.value)})]}),a.jsx(nt,{placeholder:"Tags (comma separated)",value:Cn,onChange:Ce=>Pn(Ce.target.value)}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),a.jsxs(ye,{onClick:Nt,disabled:h||!Ge||!kt,children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(is,{open:I,onOpenChange:j,children:a.jsxs(Wi,{className:"max-w-2xl",children:[a.jsx(zi,{children:a.jsx($i,{children:K?"Edit MCQ":"Add MCQ"})}),a.jsxs("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:[a.jsx(lr,{placeholder:"Question (HTML supported)",value:Wt,onChange:Ce=>rr(Ce.target.value),rows:3}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Options:"}),ln.map((Ce,vt)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"correct",checked:Or===vt,onChange:()=>dr(vt)}),a.jsx(nt,{placeholder:`Option ${vt+1}`,value:Ce,onChange:un=>{const zt=[...ln];zt[vt]=un.target.value,Dn(zt)}})]},vt)),a.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Dn([...ln,""]),children:"+ Add Option"})]}),a.jsx(lr,{placeholder:"Explanation (optional)",value:_n,onChange:Ce=>ir(Ce.target.value),rows:2}),a.jsxs(Bt,{value:jn,onValueChange:Ce=>Kn(Ce),children:[a.jsx(Ft,{children:a.jsx(Vt,{})}),a.jsxs(Lt,{children:[a.jsx(Ke,{value:"easy",children:"Easy"}),a.jsx(Ke,{value:"medium",children:"Medium"}),a.jsx(Ke,{value:"hard",children:"Hard"})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),a.jsxs(ye,{onClick:ps,disabled:h,children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),a.jsx(is,{open:R,onOpenChange:M,children:a.jsxs(Wi,{className:"max-w-2xl",children:[a.jsx(zi,{children:a.jsx($i,{children:"Bulk MCQ Upload (JSON)"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["JSON format: [",'{ "question": "...", "options": ["a","b","c","d"], "correctIndex": 0, "explanation": "...", "difficulty": "medium" }',"]"]}),a.jsx(lr,{placeholder:"Paste JSON array here...",value:ie,onChange:Ce=>me(Ce.target.value),rows:10,className:"font-mono text-xs"}),De&&a.jsx("p",{className:"text-sm text-destructive",children:De}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ye,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),a.jsxs(ye,{onClick:Nr,disabled:h||!ie.trim(),children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(lc,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})]})}),a.jsx(is,{open:E,onOpenChange:D,children:a.jsxs(Wi,{className:"max-w-3xl max-h-[90vh] flex flex-col",children:[a.jsx(zi,{children:a.jsx($i,{children:L?"Edit Note":"Add Note"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:[a.jsx(nt,{placeholder:"Note Title",value:Xn,onChange:Ce=>br(Ce.target.value)}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:ve?" Source Code Mode (HTML)":" Rich Text Editor"}),a.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>_e(!ve),children:ve?"Switch to Editor":"Switch to Source Code"})]}),a.jsx("div",{className:"min-h-[250px]",children:ve?a.jsx(lr,{className:"min-h-[250px] font-mono text-sm",placeholder:"Paste HTML source code here...",value:ce,onChange:Ce=>Ne(Ce.target.value)}):a.jsx(gh,{theme:"snow",value:ce,onChange:Ne,modules:CWe,placeholder:"Write note content..."})}),ve&&ce&&a.jsxs("details",{className:"border rounded-lg",children:[a.jsx("summary",{className:"p-2 cursor-pointer text-sm text-muted-foreground hover:bg-muted/50",children:" Click to Preview"}),a.jsx("div",{className:"p-4 border-t bg-muted/30",children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:ce}})})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t mt-4",children:[a.jsx(ye,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),a.jsxs(ye,{onClick:Do,disabled:h,children:[h?a.jsx(_r,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})})]})}const IWe=["admin@sahityapath.com","info@banglasahityapath.com","saptarn90@gmail.com"],H7="lastMainTab",G7="lastPersonalTab",Q7="lastGroupTab",K7="lastCoachingTab",eie=[{id:"personal",label:"Personal",icon:sK},{id:"group",label:"Group Study",icon:qa},{id:"coaching",label:"Coaching",icon:yu},{id:"library",label:"Library",icon:ss},{id:"settings",label:"Settings",icon:Qi}],uw={id:"library-admin",label:"Library Admin",icon:E1},RWe=[{id:"dashboard",label:"Dashboard",icon:dK},{id:"course",label:"Course",icon:Br},{id:"live-test",label:"Live Test",icon:id},{id:"settings",label:"Settings",icon:Qi}],PWe=[{id:"whats-new",label:"What's New",icon:$E},{id:"course",label:"Course",icon:Br},{id:"live-test",label:"Live Test",icon:id},{id:"settings",label:"Settings",icon:Qi}],OWe=[{id:"browse",label:"Browse",icon:Br},{id:"my-courses",label:"My Courses",icon:yu},{id:"settings",label:"Settings",icon:Qi}];function FWe(){const[e,t]=S.useState(()=>localStorage.getItem(H7)||"personal"),[n,r]=S.useState(()=>localStorage.getItem(G7)||"dashboard"),[i,s]=S.useState(()=>localStorage.getItem(Q7)||"whats-new"),[o,l]=S.useState(()=>localStorage.getItem(K7)||"browse"),[c,u]=S.useState(!1),[d,f]=S.useState(!1),{user:h,setUser:p}=_i(),{targetTab:y,setTargetTab:m}=q5(),x=()=>{const k=y||"personal";t(k),k==="personal"?r("live-test"):k==="group"&&s("live-test")};S.useEffect(()=>{const k=_=>{if(_.preventDefault(),c){u(!1),window.history.pushState(null,"",window.location.href);return}if(e==="personal"&&n!=="dashboard"){r("dashboard"),window.history.pushState(null,"",window.location.href);return}if(e==="group"&&i!=="whats-new"){s("whats-new"),window.history.pushState(null,"",window.location.href);return}if(e==="coaching"&&o!=="browse"){l("browse"),window.history.pushState(null,"",window.location.href);return}if(e!=="personal"){t("personal"),window.history.pushState(null,"",window.location.href);return}};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)},[c,e,n,i,o]),S.useEffect(()=>{localStorage.setItem(H7,e)},[e]),S.useEffect(()=>{localStorage.setItem(G7,n)},[n]),S.useEffect(()=>{localStorage.setItem(Q7,i)},[i]),S.useEffect(()=>{localStorage.setItem(K7,o)},[o]),S.useEffect(()=>{const k=_=>{(_.metaKey||_.ctrlKey)&&_.key==="k"&&(_.preventDefault(),f(!0))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[]);const g=(()=>{switch(e){case"personal":return{tabs:RWe,active:n,setActive:r};case"group":return{tabs:PWe,active:i,setActive:s};case"coaching":return{tabs:OWe,active:o,setActive:l};default:return null}})(),b=async()=>{try{if(h!=null&&h.isGuest){p(null);return}await wue(Fs),p(null)}catch(k){console.error("Logout error:",k)}},w=!!(h!=null&&h.email&&IWe.includes(h.email)),T=()=>{switch(e){case"personal":return a.jsx(DU,{activeSubTab:n,setActiveSubTab:r});case"group":return a.jsx(Yqe,{activeSubTab:i,setActiveSubTab:s});case"library":return a.jsx($7,{});case"library-admin":return w?a.jsx(jWe,{}):a.jsx($7,{});case"coaching":return a.jsx(cWe,{activeSubTab:o,setActiveSubTab:l});case"settings":return a.jsx(pWe,{});default:return a.jsx(DU,{activeSubTab:n,setActiveSubTab:r})}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 h-14 bg-card border-b border-border z-50 px-3 flex items-center justify-between",children:[a.jsx(ye,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>u(!0),children:a.jsx($2e,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-base font-semibold text-primary",children:" Group Study 2.0"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ye,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>f(!0),children:a.jsx(ad,{className:"h-5 w-5"})}),a.jsx(kY,{onLiveTestClick:x})]})]}),a.jsx($n,{children:c&&a.jsxs(a.Fragment,{children:[a.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-40"}),a.jsxs(st.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed left-0 top-0 bottom-0 w-72 bg-card border-r border-border z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-primary",children:" Group Study"}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>u(!1),children:a.jsx(dn,{className:"h-5 w-5"})})]}),a.jsx(X7,{user:h,activeTab:e,setActiveTab:k=>{t(k),u(!1)},onLogout:b,isAdmin:w,onLiveTestClick:()=>{x(),u(!1)}})]})]})}),a.jsxs("aside",{className:"hidden lg:flex fixed left-0 top-0 bottom-0 w-72 bg-card border-r border-border flex-col p-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:" Group Study 2.0"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"World-class learning platform"})]}),a.jsx(X7,{user:h,activeTab:e,setActiveTab:t,onLogout:b,isAdmin:w,onLiveTestClick:x})]}),a.jsx("main",{className:"lg:ml-72 pt-14 lg:pt-0 pb-16 lg:pb-0 min-h-screen",children:a.jsx("div",{className:"p-3 sm:p-4 lg:p-8",children:a.jsx($n,{mode:"wait",children:a.jsx(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:T()},e)})})}),a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-card border-t border-border z-[100] safe-area-inset-bottom",children:g?a.jsx("div",{className:"flex items-center justify-around py-1 px-1",children:g.tabs.map(k=>a.jsxs("button",{onClick:()=>g.setActive(k.id),className:Rt("flex flex-col items-center justify-center py-1.5 px-2 rounded-lg transition-all flex-1 min-w-0",g.active===k.id?"text-primary bg-primary/10":"text-muted-foreground"),children:[a.jsx(k.icon,{className:Rt("h-5 w-5 mb-0.5 transition-transform",g.active===k.id&&"scale-110")}),a.jsx("span",{className:Rt("text-[9px] font-medium truncate w-full text-center",g.active===k.id&&"font-semibold"),children:k.label})]},k.id))}):a.jsx("div",{className:"flex items-center justify-around py-1 px-1",children:eie.slice(0,4).map(k=>a.jsxs("button",{onClick:()=>t(k.id),className:Rt("flex flex-col items-center justify-center py-1.5 px-2 rounded-lg transition-all flex-1 min-w-0",e===k.id?"text-primary bg-primary/10":"text-muted-foreground"),children:[a.jsx(k.icon,{className:Rt("h-5 w-5 mb-0.5 transition-transform",e===k.id&&"scale-110")}),a.jsx("span",{className:Rt("text-[9px] font-medium truncate w-full text-center",e===k.id&&"font-semibold"),children:k.label})]},k.id))})}),a.jsx(XSe,{open:d,onOpenChange:f,onNavigateToGroup:k=>{t("group"),s("course")},onNavigateToLibrary:()=>{t("library")}})]})}function X7({user:e,activeTab:t,setActiveTab:n,onLogout:r,isAdmin:i,onLiveTestClick:s}){var o;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 mb-6",children:[a.jsxs(Mf,{className:"h-12 w-12",children:[a.jsx(lX,{src:e==null?void 0:e.photoURL}),a.jsx(Uf,{className:"bg-primary text-primary-foreground",children:((o=e==null?void 0:e.displayName)==null?void 0:o.charAt(0))||"U"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:e==null?void 0:e.displayName}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e!=null&&e.isGuest?"Guest User":(e==null?void 0:e.institution)||(e==null?void 0:e.email)})]})]}),a.jsxs("nav",{className:"flex-1 space-y-1",children:[eie.map(l=>a.jsxs("button",{onClick:()=>n(l.id),className:Rt("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all",t===l.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:[a.jsx(l.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:l.label})]},l.id)),i&&a.jsxs("button",{onClick:()=>n(uw.id),className:Rt("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all",t===uw.id?"bg-orange-500 text-white shadow-md":"hover:bg-orange-500/10 text-orange-500 hover:text-orange-600"),children:[a.jsx(uw.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:uw.label})]})]}),a.jsxs("div",{className:"mt-auto pt-4 border-t border-border space-y-2",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(kY,{onLiveTestClick:s})}),a.jsxs(ye,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:r,children:[a.jsx(cK,{className:"h-5 w-5 mr-3"}),"Logout"]})]})]})}function LWe({fullScreen:e=!1}){const t=e?"min-h-screen flex items-center justify-center bg-background":"flex items-center justify-center p-8";return a.jsx("div",{className:t,children:a.jsxs(st.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[a.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(fx,{className:"h-8 w-8 text-primary"})}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}class Y7 extends S.Component{constructor(){super(...arguments);ey(this,"state",{hasError:!1,error:null,errorInfo:null});ey(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ey(this,"handleReload",()=>{window.location.reload()});ey(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error Boundary caught an error:",n,r),this.setState({errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/50 p-4",children:a.jsxs(ut,{className:"max-w-md w-full border-destructive/50",children:[a.jsxs(Wn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($u,{className:"h-8 w-8 text-destructive"})}),a.jsx(Jn,{className:"text-xl",children:"   !"}),a.jsx(ac,{children:"          "})]}),a.jsxs(Ht,{className:"space-y-4",children:[!1,a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(ye,{onClick:this.handleReset,className:"w-full",children:[a.jsx(_r,{className:"h-4 w-4 mr-2"}),"  "]}),a.jsxs(ye,{variant:"outline",onClick:this.handleReload,className:"w-full",children:[a.jsx(_r,{className:"h-4 w-4 mr-2"}),"  "]}),a.jsxs(ye,{variant:"ghost",onClick:this.handleGoHome,className:"w-full",children:[a.jsx(sK,{className:"h-4 w-4 mr-2"})," "]})]}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"      "})]})]})}):this.props.children}}function Z7(){const[e,t]=S.useState(navigator.onLine),[n,r]=S.useState(!1),[i,s]=S.useState(!1);S.useEffect(()=>{const l=()=>{t(!0),i&&(r(!0),setTimeout(()=>r(!1),3e3))},c=()=>{t(!1),s(!0)};return window.addEventListener("online",l),window.addEventListener("offline",c),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}},[i]);const o=()=>{window.location.reload()};return a.jsxs($n,{children:[!e&&a.jsx(st.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",damping:20},className:"fixed top-0 left-0 right-0 z-[200] bg-amber-500 text-white px-4 py-3 shadow-lg",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx(iwe,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"  "}),a.jsx("p",{className:"text-xs text-white/80",children:"     "})]})]}),a.jsxs(ye,{size:"sm",variant:"secondary",onClick:o,className:"bg-white/20 hover:bg-white/30 text-white border-0",children:[a.jsx(_r,{className:"h-4 w-4 mr-1"}),""]})]})}),n&&e&&a.jsx(st.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",damping:20},className:"fixed top-0 left-0 right-0 z-[200] bg-emerald-500 text-white px-4 py-3 shadow-lg",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx(swe,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"  !"}),a.jsx("p",{className:"text-xs text-white/80",children:"   "})]})]})})]})}function MWe(){const{user:e,setUser:t,setLoading:n,isLoading:r}=_i(),{theme:i}=F3();return S.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(o)}else s.classList.add(i)},[i]),S.useEffect(()=>{const s=bue(Fs,async o=>{if(o)try{const l=await kh(Ye(Le,"users",o.uid));if(l.exists()){const c=l.data();t({id:o.uid,...c})}else t({id:o.uid,email:o.email||"",displayName:o.displayName||"",photoURL:o.photoURL||void 0,institution:"",groups:[],role:"student",createdAt:new Date,lastActive:new Date})}catch(l){console.error("Error fetching user data:",l),t(null)}else t(null);n(!1)});return()=>s()},[t,n]),r?a.jsx(LWe,{fullScreen:!0}):e?a.jsx(Y7,{children:a.jsxs(YM,{children:[a.jsx(Z7,{}),a.jsx(FWe,{})]})}):a.jsx(Y7,{children:a.jsxs(YM,{children:[a.jsx(Z7,{}),a.jsx(OTe,{})]})})}const UWe=new Loe({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1}}});UC.createRoot(document.getElementById("root")).render(a.jsx(Yr.StrictMode,{children:a.jsx(Uoe,{client:UWe,children:a.jsx(MWe,{})})}));
